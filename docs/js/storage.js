const a0_0x39eba7=a0_0xaedd;(function(_0x19fe7a,_0x12d58d){const _0x5546c5=a0_0xaedd,_0x13fcdd=_0x19fe7a();while(!![]){try{const _0x333266=-parseInt(_0x5546c5(0xcb))/0x1+parseInt(_0x5546c5(0xd8))/0x2*(parseInt(_0x5546c5(0xc5))/0x3)+parseInt(_0x5546c5(0xc2))/0x4+-parseInt(_0x5546c5(0xb4))/0x5*(parseInt(_0x5546c5(0xbc))/0x6)+parseInt(_0x5546c5(0x9f))/0x7+-parseInt(_0x5546c5(0xad))/0x8+-parseInt(_0x5546c5(0xd1))/0x9;if(_0x333266===_0x12d58d)break;else _0x13fcdd['push'](_0x13fcdd['shift']());}catch(_0x1c257d){_0x13fcdd['push'](_0x13fcdd['shift']());}}}(a0_0xc52b,0x360e7));function a0_0xaedd(_0x4c791b,_0x4366fc){const _0xc52b5e=a0_0xc52b();return a0_0xaedd=function(_0xaedd78,_0x93219b){_0xaedd78=_0xaedd78-0x86;let _0x2f7e18=_0xc52b5e[_0xaedd78];return _0x2f7e18;},a0_0xaedd(_0x4c791b,_0x4366fc);}import*as a0_0xcc527d from'./main.js';const mgbaStorage=document[a0_0x39eba7(0x89)]('mgba-storage'),savesFile=document[a0_0x39eba7(0x89)](a0_0x39eba7(0x86)),romsFile=document[a0_0x39eba7(0x89)](a0_0x39eba7(0xa3)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document['getElementById'](a0_0x39eba7(0xb3));function a0_0xc52b(){const _0xde6933=['YiB','681736UBoZTb','dialog','editFile','438114CEJVkv','downloadFile','abs','DOMContentLoaded','length','fileSize','12149cQnCZH','close','getItem','showModal','replace','uploadGame','3247461GLbaCJ','textContent','rename','disable','/data/games/','TiB','storage','4hCMeRl','onclose','savesFile','span','KiB','getElementById','removeItem','home','/data/cheats/','appendChild','.gbc','change','firstChild','right','endsWith','createElement','mib','/data/states/','classList','opacity0','confirm','actionDiv','gap-10','add','EiB','div','toFixed','2394196UGupbD','onclick','.gba','rom-item','romsFile','files','GiB','_dateState','name','flex-1','listState','slice','setItem','/data/saves/','1187344hGCagi','.cheats','Edit\x20filename','listCheat','listScreenshot','uId','screenshotsFile','5mFPPGt','remove','active','listGame','Delete\x20this\x20file?','listSave','PiB','addEventListener','370362BDCoXU','MiB','ZiB','click','_imageState'];a0_0xc52b=function(){return _0xde6933;};return a0_0xc52b();}function humanFileSize(_0x4ee63f,_0x5d911e=![],_0x55e474=0x1){const _0x9f0188=a0_0x39eba7,_0x1fbd1b=_0x5d911e?0x3e8:0x400,_0x3e3c74=_0x5d911e?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x9f0188(0x88),_0x9f0188(0xbd),_0x9f0188(0xa5),_0x9f0188(0xd6),_0x9f0188(0xba),_0x9f0188(0x9c),_0x9f0188(0xbe),_0x9f0188(0xc1)];let _0x4dc4e1=-0x1;do{_0x4ee63f/=_0x1fbd1b,++_0x4dc4e1;}while(Math[_0x9f0188(0xc7)](_0x4ee63f)>=_0x1fbd1b&&_0x4dc4e1<_0x3e3c74[_0x9f0188(0xc9)]-0x1);return _0x4ee63f[_0x9f0188(0x9e)](_0x55e474)+'\x20'+_0x3e3c74[_0x4dc4e1];}function createElementStorage(_0x2ed9a5,_0x5df7e3,_0x3840da){const _0x1170e1=a0_0x39eba7,_0x3cc3dc=document[_0x1170e1(0x93)](_0x1170e1(0x9d));_0x3cc3dc[_0x1170e1(0x96)]['add'](_0x1170e1(0xa8),_0x1170e1(0xa2),'rom'),_0x2ed9a5[_0x1170e1(0x8d)](_0x3cc3dc);const _0x4e6807=document[_0x1170e1(0x93)](_0x1170e1(0x87));_0x4e6807[_0x1170e1(0xd2)]=_0x5df7e3,_0x4e6807[_0x1170e1(0x96)][_0x1170e1(0x9b)](_0x1170e1(0xa8)),_0x3cc3dc[_0x1170e1(0x8d)](_0x4e6807),_0x4e6807['onclick']=()=>{const _0x4fe7d8=_0x1170e1,_0x195dfc=document[_0x4fe7d8(0x93)](_0x4fe7d8(0xc3));_0x195dfc[_0x4fe7d8(0xd9)]=()=>_0x195dfc['remove'](),_0x2ed9a5[_0x4fe7d8(0x8d)](_0x195dfc);const _0x48fb26=document[_0x4fe7d8(0x93)](_0x4fe7d8(0x9d));_0x48fb26[_0x4fe7d8(0x96)][_0x4fe7d8(0x9b)](_0x4fe7d8(0xd7),_0x4fe7d8(0x91),_0x4fe7d8(0x9a)),_0x195dfc[_0x4fe7d8(0x8d)](_0x48fb26);const _0x5cdeaa=document[_0x4fe7d8(0x93)](_0x4fe7d8(0x9d));_0x5cdeaa['classList'][_0x4fe7d8(0x9b)](_0x4fe7d8(0x8b),'bc','flex-1'),_0x48fb26[_0x4fe7d8(0x8d)](_0x5cdeaa);const _0x16f7e0=document[_0x4fe7d8(0x93)](_0x4fe7d8(0x9d));_0x16f7e0[_0x4fe7d8(0x96)][_0x4fe7d8(0x9b)](_0x4fe7d8(0xa8)),_0x48fb26[_0x4fe7d8(0x8d)](_0x16f7e0);const _0x59d0e1=document[_0x4fe7d8(0x93)](_0x4fe7d8(0x9d));_0x59d0e1[_0x4fe7d8(0x96)][_0x4fe7d8(0x9b)](_0x4fe7d8(0xa8)),_0x48fb26[_0x4fe7d8(0x8d)](_0x59d0e1);const _0x44478e=document[_0x4fe7d8(0x93)](_0x4fe7d8(0x9d));_0x44478e['classList'][_0x4fe7d8(0x9b)]('flex-1'),_0x48fb26[_0x4fe7d8(0x8d)](_0x44478e),mgbaStorage['classList'][_0x4fe7d8(0x9b)](_0x4fe7d8(0x97)),_0x5cdeaa[_0x4fe7d8(0xa0)]=()=>{const _0x2b914c=_0x4fe7d8;_0x195dfc[_0x2b914c(0xcc)](),_0x195dfc['remove'](),mgbaStorage['classList'][_0x2b914c(0xb5)](_0x2b914c(0x97));};const _0x3f19a9=document[_0x4fe7d8(0x93)]('div');_0x3f19a9[_0x4fe7d8(0x96)][_0x4fe7d8(0x9b)](_0x4fe7d8(0xa8),_0x4fe7d8(0xa2),'hw','cw'),_0x3f19a9[_0x4fe7d8(0xd2)]=_0x5df7e3,_0x195dfc[_0x4fe7d8(0x8d)](_0x3f19a9);const _0xdb258d=document[_0x4fe7d8(0x93)](_0x4fe7d8(0x9d));_0xdb258d['classList'][_0x4fe7d8(0x9b)](_0x4fe7d8(0x99),'hw','cw','gap-16'),_0x195dfc['appendChild'](_0xdb258d);const _0x180ca5=document[_0x4fe7d8(0x93)](_0x4fe7d8(0x9d));_0x180ca5[_0x4fe7d8(0x96)]['add']('download','bc'),_0xdb258d[_0x4fe7d8(0x8d)](_0x180ca5),_0x180ca5['onclick']=()=>{const _0x4a8c19=_0x4fe7d8;a0_0xcc527d[_0x4a8c19(0xc6)](_0x3840da,_0x5df7e3);};const _0x1f6e57=document[_0x4fe7d8(0x93)](_0x4fe7d8(0x9d));_0x1f6e57[_0x4fe7d8(0x96)][_0x4fe7d8(0x9b)]('delete','bc'),_0xdb258d[_0x4fe7d8(0x8d)](_0x1f6e57),_0x1f6e57[_0x4fe7d8(0xa0)]=async()=>{const _0x145905=_0x4fe7d8;if(window[_0x145905(0x98)](_0x145905(0xb8)+_0x5df7e3)){const _0x503de4=_0x5df7e3[_0x145905(0xcf)](/\....$/,_0x145905(0xa1));a0_0xcc527d['deleteFile'](_0x3840da),localStorage['removeItem'](_0x503de4+'_dateState'+_0x5df7e3[_0x145905(0xaa)](-0x1)),localStorage[_0x145905(0x8a)](_0x503de4+_0x145905(0xc0)+_0x5df7e3[_0x145905(0xaa)](-0x1)),localStorageFile(),_0x195dfc[_0x145905(0xcc)](),_0x195dfc[_0x145905(0xb5)](),mgbaStorage['classList'][_0x145905(0xb5)](_0x145905(0x97));}};const _0x42cb45=document['createElement']('div');_0x42cb45[_0x4fe7d8(0x96)]['add'](_0x4fe7d8(0xd3),'bc'),_0xdb258d[_0x4fe7d8(0x8d)](_0x42cb45),_0x42cb45['onclick']=async()=>{const _0x12b5f8=_0x4fe7d8,_0x2e4849=window['prompt'](_0x12b5f8(0xaf),_0x5df7e3);if(_0x2e4849!==null){const _0x4fd9ed=_0x5df7e3[_0x12b5f8(0xcf)](/\....$/,_0x12b5f8(0xa1)),_0x2b299d=_0x2e4849[_0x12b5f8(0xcf)](/\....$/,_0x12b5f8(0xa1)),_0x129b58=_0x4fd9ed+_0x12b5f8(0xa6)+_0x5df7e3[_0x12b5f8(0xaa)](-0x1),_0x34b3d8=_0x4fd9ed+'_imageState'+_0x5df7e3['slice'](-0x1),_0x1778bc=_0x2b299d+_0x12b5f8(0xa6)+_0x2e4849[_0x12b5f8(0xaa)](-0x1),_0x4ca38b=_0x2b299d+'_imageState'+_0x2e4849[_0x12b5f8(0xaa)](-0x1),_0x5da7bd=localStorage[_0x12b5f8(0xcd)](_0x129b58),_0x380d9c=localStorage[_0x12b5f8(0xcd)](_0x34b3d8);_0x5da7bd!==null&&(localStorage['setItem'](_0x1778bc,_0x5da7bd),localStorage[_0x12b5f8(0x8a)](_0x129b58)),_0x380d9c!==null&&(localStorage[_0x12b5f8(0xab)](_0x4ca38b,_0x380d9c),localStorage['removeItem'](_0x34b3d8)),a0_0xcc527d[_0x12b5f8(0xc4)](_0x3840da,_0x5df7e3,_0x2e4849),localStorageFile(),_0x195dfc[_0x12b5f8(0xcc)](),_0x195dfc[_0x12b5f8(0xb5)](),mgbaStorage[_0x12b5f8(0x96)]['remove'](_0x12b5f8(0x97));}},_0x195dfc[_0x4fe7d8(0xce)]();};const _0x1bace0=document['createElement'](_0x1170e1(0x87));_0x1bace0[_0x1170e1(0xd2)]=humanFileSize(a0_0xcc527d[_0x1170e1(0xca)](_0x3840da)),_0x1bace0['classList'][_0x1170e1(0x9b)](_0x1170e1(0x94)),_0x3cc3dc[_0x1170e1(0x8d)](_0x1bace0);}export function localStorageFile(){const _0x3ea266=a0_0x39eba7,_0x33f1be=a0_0xcc527d[_0x3ea266(0xb7)](),_0x5ce11a=a0_0xcc527d[_0x3ea266(0xb9)](),_0xed4b0=a0_0xcc527d[_0x3ea266(0xa9)](),_0xd5d2cc=a0_0xcc527d[_0x3ea266(0xb0)](),_0x2d4874=a0_0xcc527d[_0x3ea266(0xb1)](),_0x1ed504=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3a4c51 of _0x1ed504){while(_0x3a4c51[_0x3ea266(0x90)]){_0x3a4c51['lastChild'][_0x3ea266(0xb5)]();}}for(const _0x35a738 of _0x33f1be){createElementStorage(romsFile,_0x35a738,_0x3ea266(0xd5)+_0x35a738);}for(const _0x1a0f54 of _0xed4b0){createElementStorage(statesFile,_0x1a0f54,_0x3ea266(0x95)+_0x1a0f54);}for(const _0x37ca30 of _0x5ce11a){createElementStorage(savesFile,_0x37ca30,_0x3ea266(0xac)+_0x37ca30);}for(const _0x55f5d3 of _0xd5d2cc){createElementStorage(cheatsFile,_0x55f5d3,_0x3ea266(0x8c)+_0x55f5d3);}for(const _0x2e810 of _0x2d4874){createElementStorage(screenshotsFile,_0x2e810,'/data/screenshots/'+_0x2e810);}}document[a0_0x39eba7(0xbb)](a0_0x39eba7(0xc8),function(){const _0x57bbf4=a0_0x39eba7;upLoadFile[_0x57bbf4(0xbb)](_0x57bbf4(0x8f),function(){const _0x28c67e=_0x57bbf4,_0x3f6da7=upLoadFile[_0x28c67e(0xa4)][0x0][_0x28c67e(0xa7)];if(_0x3f6da7[_0x28c67e(0x92)](_0x28c67e(0xae)))a0_0xcc527d['uploadCheat'](upLoadFile);else _0x3f6da7[_0x28c67e(0x92)](_0x28c67e(0xa1))||_0x3f6da7['endsWith'](_0x28c67e(0x8e))||_0x3f6da7[_0x28c67e(0x92)]('.bc')?a0_0xcc527d[_0x28c67e(0xd0)](upLoadFile):a0_0xcc527d['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x57bbf4(0xbb)](_0x57bbf4(0xbf),function(){const _0x252b68=_0x57bbf4,_0x4b975d=localStorage['getItem'](_0x252b68(0xb2));storage['classList'][_0x252b68(0xb5)](_0x252b68(0xd4)),intro[_0x252b68(0x96)][_0x252b68(0x9b)](_0x252b68(0xd4)),ingame[_0x252b68(0x96)][_0x252b68(0x9b)](_0x252b68(0xd4)),_0x4b975d===null||_0x4b975d===''?(dropboxRestore[_0x252b68(0x96)][_0x252b68(0xb5)]('active'),dropboxBackup[_0x252b68(0x96)]['remove']('active'),dropboxCloud['classList'][_0x252b68(0xb5)](_0x252b68(0xb6))):(dropboxRestore[_0x252b68(0x96)][_0x252b68(0x9b)](_0x252b68(0xb6)),dropboxBackup[_0x252b68(0x96)][_0x252b68(0x9b)]('active'),dropboxCloud['classList'][_0x252b68(0x9b)](_0x252b68(0xb6)));}),setTimeout(()=>{localStorageFile();},0xbb8);});