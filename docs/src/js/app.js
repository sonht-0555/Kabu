function a0_0x21ec(){var _0x403c94=['buffer','start','_emuUpdateSavChangeFlag','charCodeAt','log','img','Auto\x20saving,\x20please\x20wait...','getElementById','destination','name','requestAnimationFrame','connect','appendChild','_emuResetCpu','917382IZrKEM','files','replace','HEAPU8','getChannelData','19334232bkEaAy','4821519WrOler','_emuLoadROM','_emuGetSymbol','resume','image/png','Auto\x20saved:','984342BKavhn','1073224TpSrJb','result','setItem','4dyCySW','.sav','fromCharCode','DOMContentLoaded','right','state','readAsArrayBuffer','createElement','subarray','length','canvas','gameID','327638lSrsrl','set','body','putImageData','AudioContext','4364178NXAPqY','onload','10ueLzQs','_emuRunFrame','webkitAudioContext'];a0_0x21ec=function(){return _0x403c94;};return a0_0x21ec();}var a0_0x245bd6=a0_0x5712;(function(_0x25a8b8,_0x41d66b){var _0x3455d3=a0_0x5712,_0x1ef60a=_0x25a8b8();while(!![]){try{var _0x50f8d2=-parseInt(_0x3455d3(0x181))/0x1+parseInt(_0x3455d3(0x165))/0x2+parseInt(_0x3455d3(0x16b))/0x3*(-parseInt(_0x3455d3(0x175))/0x4)+parseInt(_0x3455d3(0x188))/0x5*(-parseInt(_0x3455d3(0x171))/0x6)+parseInt(_0x3455d3(0x186))/0x7+-parseInt(_0x3455d3(0x172))/0x8+parseInt(_0x3455d3(0x16a))/0x9;if(_0x50f8d2===_0x41d66b)break;else _0x1ef60a['push'](_0x1ef60a['shift']());}catch(_0x31ae67){_0x1ef60a['push'](_0x1ef60a['shift']());}}}(a0_0x21ec,0xcb723));var wasmAudioBuf,wasmSaveBuf,gameID,romFileName,drawContext,idata,imgFrameBuffer,scriptProcessor,audioContext,keyState={};const keyList=['a','b','select',a0_0x245bd6(0x18c),a0_0x245bd6(0x179),'left','up','down','r','l'];var keyb=0x0;const AUDIO_BLOCK_SIZE=0x400,AUDIO_FIFO_MAXLEN=0x1324;var audioFifo0=new Int16Array(AUDIO_FIFO_MAXLEN),audioFifo1=new Int16Array(AUDIO_FIFO_MAXLEN),canvasVba=null,romBuffer=-0x1,isRunning=![];const wasmSaveBufLen=0x20000+0x2000;var tmpSaveBuf=new Uint8Array(wasmSaveBufLen),frameCnt=0x0,last128FrameTime=0x0,lastFrameTime=0x0,frameSkip=0x0,audioFifoHead=0x0,audioFifoCnt=0x0,lastCheckedSaveState=0x0,turboMode=![],fastForwardMode=![],isSaveSupported=!![];const fileInput=document[a0_0x245bd6(0x192)]('romFile'),canvas=document['getElementById'](a0_0x245bd6(0x17f));function processAudio(_0x269603){var _0xaeafe3=a0_0x245bd6,_0x30cf76=_0x269603['outputBuffer'],_0x5a0af0=_0x30cf76[_0xaeafe3(0x169)](0x0),_0x16c60d=_0x30cf76['getChannelData'](0x1);if(!isRunning||fastForwardMode){for(var _0x156532=0x0;_0x156532<AUDIO_BLOCK_SIZE;_0x156532++){_0x5a0af0[_0x156532]=0x0,_0x16c60d[_0x156532]=0x0;}return;}while(audioFifoCnt<AUDIO_BLOCK_SIZE){emuLoop();}var _0x54e019=AUDIO_BLOCK_SIZE;audioFifoCnt<_0x54e019&&(_0x54e019=audioFifoCnt);for(var _0x156532=0x0;_0x156532<_0x54e019;_0x156532++){_0x5a0af0[_0x156532]=audioFifo0[audioFifoHead]/0x8000,_0x16c60d[_0x156532]=audioFifo1[audioFifoHead]/0x8000,audioFifoHead=(audioFifoHead+0x1)%AUDIO_FIFO_MAXLEN,audioFifoCnt--;}}function tryInitSound(){var _0x790382=a0_0x245bd6;if(audioContext){audioContext[_0x790382(0x17a)]!='running'&&audioContext[_0x790382(0x16e)]();return;}try{audioContext=new(window[(_0x790382(0x185))]||window[(_0x790382(0x18a))])({'latencyHint':0.0001,'sampleRate':0xbb80}),scriptProcessor=audioContext['createScriptProcessor'](AUDIO_BLOCK_SIZE,0x0,0x2),scriptProcessor['onaudioprocess']=processAudio,scriptProcessor[_0x790382(0x162)](audioContext[_0x790382(0x193)]),audioContext[_0x790382(0x16e)]();}catch(_0x1d07f5){console[_0x790382(0x18f)](_0x1d07f5);}}function writeAudio(_0xac9f7a,_0xd18c64){var _0x138e9f=a0_0x245bd6;if(fastForwardMode)return;!wasmAudioBuf&&(wasmAudioBuf=new Int16Array(Module['HEAPU8'][_0x138e9f(0x18b)])['subarray'](_0xac9f7a/0x2,_0xac9f7a/0x2+0x800));var _0x1c1006=(audioFifoHead+audioFifoCnt)%AUDIO_FIFO_MAXLEN;if(audioFifoCnt+_0xd18c64>=AUDIO_FIFO_MAXLEN)return;for(var _0x5c9f6c=0x0;_0x5c9f6c<_0xd18c64;_0x5c9f6c++){audioFifo0[_0x1c1006]=wasmAudioBuf[_0x5c9f6c*0x2],audioFifo1[_0x1c1006]=wasmAudioBuf[_0x5c9f6c*0x2+0x1],_0x1c1006=(_0x1c1006+0x1)%AUDIO_FIFO_MAXLEN;}audioFifoCnt+=_0xd18c64;}function wasmReady(){var _0x27cb49=a0_0x245bd6;romBuffer=Module[_0x27cb49(0x16d)](0x1);var _0x5831c9=Module[_0x27cb49(0x16d)](0x2);wasmSaveBuf=Module[_0x27cb49(0x168)][_0x27cb49(0x17d)](_0x5831c9,_0x5831c9+wasmSaveBufLen),_0x5831c9=Module[_0x27cb49(0x16d)](0x3),imgFrameBuffer=new Uint8ClampedArray(Module[_0x27cb49(0x168)]['buffer'])['subarray'](_0x5831c9,_0x5831c9+0xf0*0xa0*0x4),idata=new ImageData(imgFrameBuffer,0xf0,0xa0);}function base64ToUint8Array(_0x570251){var _0x4cf8ac=a0_0x245bd6;const _0x411e2e=atob(_0x570251),_0x3d032f=new Uint8Array(_0x411e2e['length']);for(let _0x373441=0x0;_0x373441<_0x411e2e[_0x4cf8ac(0x17e)];_0x373441++){_0x3d032f[_0x373441]=_0x411e2e[_0x4cf8ac(0x18e)](_0x373441);}return _0x3d032f;}function a0_0x5712(_0x27c05b,_0x4c7205){var _0x21ec99=a0_0x21ec();return a0_0x5712=function(_0x571286,_0x3bf4f1){_0x571286=_0x571286-0x161;var _0x5d7d98=_0x21ec99[_0x571286];return _0x5d7d98;},a0_0x5712(_0x27c05b,_0x4c7205);}function uint8ArrayToBase64(_0x37da43){var _0x5d5552=a0_0x245bd6;let _0x3aff74='';for(let _0x437d16=0x0;_0x437d16<_0x37da43[_0x5d5552(0x17e)];_0x437d16++){_0x3aff74+=String['fromCharCode'](_0x37da43[_0x437d16]);}return btoa(_0x3aff74);}function capture(){var _0x23d479=a0_0x245bd6;const _0x4d806b=canvas['toDataURL'](_0x23d479(0x16f)),_0x2ef935=document[_0x23d479(0x17c)](_0x23d479(0x190));return _0x2ef935['src']=_0x4d806b,document[_0x23d479(0x183)][_0x23d479(0x163)](_0x2ef935),_0x4d806b;}function loadGameFromInput(){var _0x281941=a0_0x245bd6;tryInitSound();var _0x356bca=fileInput[_0x281941(0x166)][0x0];romFileName=_0x356bca[_0x281941(0x194)];var _0x47b489=new FileReader();_0x47b489[_0x281941(0x187)]=function(_0x2e6b47){var _0x4465ed=_0x281941,_0x2548d6=_0x2e6b47['target'][_0x4465ed(0x173)];isRunning=![];var _0x9f4eb1=new Uint8Array(_0x2548d6);gameID='';for(var _0x49fe7e=0xac;_0x49fe7e<0xb2;_0x49fe7e++){gameID+=String[_0x4465ed(0x177)](_0x9f4eb1[_0x49fe7e]);}console['log'](_0x4465ed(0x180),gameID),Module[_0x4465ed(0x168)][_0x4465ed(0x182)](_0x9f4eb1,romBuffer),Module[_0x4465ed(0x16c)](_0x9f4eb1[_0x4465ed(0x17e)]),loadSave(),Module[_0x4465ed(0x164)](),isRunning=!![];},_0x47b489[_0x281941(0x17b)](_0x356bca);}function loadSave(){var _0x4cad44=a0_0x245bd6;const _0xbe9d26=null;_0xbe9d26?(wasmSaveBuf[_0x4cad44(0x182)](base64ToUint8Array(_0xbe9d26)),console[_0x4cad44(0x18f)](base64ToUint8Array(_0xbe9d26)),isRunning=!![]):isRunning=![],Module[_0x4cad44(0x164)](),lastCheckedSaveState=0x0,Module[_0x4cad44(0x18d)](),console['log'](_0xbe9d26);}function checkSave(){var _0x4ced3b=a0_0x245bd6;if(!isRunning)return;const _0x2b556a=Module[_0x4ced3b(0x18d)]();if(lastCheckedSaveState===0x1&&_0x2b556a===0x0){console[_0x4ced3b(0x18f)](_0x4ced3b(0x191));const _0x49ee6e='AW_2\x20Black\x20Hole\x20Return.gba',_0x24720f=_0x49ee6e[_0x4ced3b(0x167)](/\.(gba|gbc|gb)$/,_0x4ced3b(0x176));tmpSaveBuf[_0x4ced3b(0x182)](wasmSaveBuf),setTimeout(()=>{var _0x32582e=_0x4ced3b;const _0x4641f1=uint8ArrayToBase64(wasmSaveBuf);localStorage[_0x32582e(0x174)](_0x24720f,_0x4641f1),console[_0x32582e(0x18f)](_0x32582e(0x170),_0x4641f1);},0x258);}lastCheckedSaveState=_0x2b556a;}function emuLoop(){var _0x13313d=a0_0x245bd6;isRunning&&(frameCnt++,frameCnt%0x3c==0x0&&checkSave(),Module[_0x13313d(0x189)](0x0),drawContext=canvas['getContext']('2d'),drawContext[_0x13313d(0x184)](idata,0x0,0x0)),window[_0x13313d(0x161)](emuLoop);}document['addEventListener'](a0_0x245bd6(0x178),function(){emuLoop();});