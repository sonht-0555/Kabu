var a0_0x31c651=a0_0x2185;(function(_0x359462,_0x37e900){var _0x350524=a0_0x2185,_0x41cd47=_0x359462();while(!![]){try{var _0x13261c=-parseInt(_0x350524(0x17e))/0x1*(-parseInt(_0x350524(0x1b4))/0x2)+-parseInt(_0x350524(0x193))/0x3+-parseInt(_0x350524(0x19d))/0x4*(-parseInt(_0x350524(0x185))/0x5)+parseInt(_0x350524(0x18f))/0x6*(-parseInt(_0x350524(0x19b))/0x7)+-parseInt(_0x350524(0x1ad))/0x8+parseInt(_0x350524(0x191))/0x9+parseInt(_0x350524(0x1af))/0xa;if(_0x13261c===_0x37e900)break;else _0x41cd47['push'](_0x41cd47['shift']());}catch(_0x4b7cfa){_0x41cd47['push'](_0x41cd47['shift']());}}}(a0_0x432c,0x1e673));var wasmAudioBuf,wasmSaveBuf,gameID,romFileName,drawContext,idata,imgFrameBuffer,scriptProcessor,audioContext,keyState={};const keyList=['a','b',a0_0x31c651(0x1b0),a0_0x31c651(0x1a0),'right','left','up','down','r','l'];var keyb=0x0;const AUDIO_BLOCK_SIZE=0x400,AUDIO_FIFO_MAXLEN=0x1324;function a0_0x2185(_0x7e5163,_0x435d92){var _0x432c5e=a0_0x432c();return a0_0x2185=function(_0x2185c4,_0x1b38b1){_0x2185c4=_0x2185c4-0x17e;var _0x2562b6=_0x432c5e[_0x2185c4];return _0x2562b6;},a0_0x2185(_0x7e5163,_0x435d92);}var audioFifo0=new Int16Array(AUDIO_FIFO_MAXLEN),audioFifo1=new Int16Array(AUDIO_FIFO_MAXLEN),canvasVba=null,romBuffer=-0x1,isRunning=![];const wasmSaveBufLen=0x20000+0x2000;var tmpSaveBuf=new Uint8Array(wasmSaveBufLen),frameCnt=0x0,last128FrameTime=0x0,lastFrameTime=0x0,frameSkip=0x0,audioFifoHead=0x0,audioFifoCnt=0x0,lastCheckedSaveState=0x0,turboMode=![],fastForwardMode=![],isSaveSupported=!![];const fileInput=document[a0_0x31c651(0x198)]('romFile'),canvas=document[a0_0x31c651(0x198)](a0_0x31c651(0x190));function a0_0x432c(){var _0xf58db1=['gameID','subarray','_emuRunFrame','readAsArrayBuffer','_emuResetCpu','_emuGetSymbol','charCodeAt','body','getChannelData','destination','buffer','483184fjPNcR','connect','3739720JnSyps','select','textContent','running','_emuUpdateSavChangeFlag','112906mtoLpe','now','resume','1UmDalw','files','webkitAudioContext','set','name','target','state','14515oTXJIs','onload','Auto\x20saving,\x20please\x20wait...','src','outputBuffer','_emuLoadROM','length','AW_2\x20Black\x20Hole\x20Return.gba','AudioContext','HEAPU8','318nzaNSU','canvas','243585rdahkL','putImageData','519564cIcebW','createScriptProcessor','createElement','fps','setItem','getElementById','Auto\x20saved:','result','29995UzeASd','fromCharCode','176BbaAio','requestAnimationFrame','log','start','DOMContentLoaded'];a0_0x432c=function(){return _0xf58db1;};return a0_0x432c();}function processAudio(_0x3ff0d1){var _0x204a7f=a0_0x31c651,_0x355c1e=_0x3ff0d1[_0x204a7f(0x189)],_0x5e2e01=_0x355c1e[_0x204a7f(0x1aa)](0x0),_0x14baae=_0x355c1e[_0x204a7f(0x1aa)](0x1);if(!isRunning||fastForwardMode||turboMode){for(var _0x4f6abb=0x0;_0x4f6abb<AUDIO_BLOCK_SIZE;_0x4f6abb++){_0x5e2e01[_0x4f6abb]=0x0,_0x14baae[_0x4f6abb]=0x0;}return;}while(audioFifoCnt<AUDIO_BLOCK_SIZE){emuLoop();}var _0x4843fa=AUDIO_BLOCK_SIZE;audioFifoCnt<_0x4843fa&&(_0x4843fa=audioFifoCnt);for(var _0x4f6abb=0x0;_0x4f6abb<_0x4843fa;_0x4f6abb++){_0x5e2e01[_0x4f6abb]=audioFifo0[audioFifoHead]/0x8000,_0x14baae[_0x4f6abb]=audioFifo1[audioFifoHead]/0x8000,audioFifoHead=(audioFifoHead+0x1)%AUDIO_FIFO_MAXLEN,audioFifoCnt--;}}function tryInitSound(){var _0x118bff=a0_0x31c651;if(audioContext){audioContext[_0x118bff(0x184)]!=_0x118bff(0x1b2)&&audioContext['resume']();return;}try{audioContext=new(window[(_0x118bff(0x18d))]||window[(_0x118bff(0x180))])({'latencyHint':0.0001,'sampleRate':0xbb80}),scriptProcessor=audioContext[_0x118bff(0x194)](AUDIO_BLOCK_SIZE,0x0,0x2),scriptProcessor['onaudioprocess']=processAudio,scriptProcessor[_0x118bff(0x1ae)](audioContext[_0x118bff(0x1ab)]),audioContext[_0x118bff(0x1b6)]();}catch(_0x5ad84f){console[_0x118bff(0x19f)](_0x5ad84f);}}function writeAudio(_0x34fd9a,_0x9894d6){var _0x559c28=a0_0x31c651;if(fastForwardMode)return;!wasmAudioBuf&&(wasmAudioBuf=new Int16Array(Module[_0x559c28(0x18e)][_0x559c28(0x1ac)])[_0x559c28(0x1a3)](_0x34fd9a/0x2,_0x34fd9a/0x2+0x800));var _0x2c90e7=(audioFifoHead+audioFifoCnt)%AUDIO_FIFO_MAXLEN;if(audioFifoCnt+_0x9894d6>=AUDIO_FIFO_MAXLEN)return;for(var _0x47ee99=0x0;_0x47ee99<_0x9894d6;_0x47ee99++){audioFifo0[_0x2c90e7]=wasmAudioBuf[_0x47ee99*0x2],audioFifo1[_0x2c90e7]=wasmAudioBuf[_0x47ee99*0x2+0x1],_0x2c90e7=(_0x2c90e7+0x1)%AUDIO_FIFO_MAXLEN;}audioFifoCnt+=_0x9894d6;}function wasmReady(){var _0x52accd=a0_0x31c651;romBuffer=Module[_0x52accd(0x1a7)](0x1);var _0x2dfb41=Module[_0x52accd(0x1a7)](0x2);wasmSaveBuf=Module[_0x52accd(0x18e)][_0x52accd(0x1a3)](_0x2dfb41,_0x2dfb41+wasmSaveBufLen),_0x2dfb41=Module[_0x52accd(0x1a7)](0x3),imgFrameBuffer=new Uint8ClampedArray(Module[_0x52accd(0x18e)][_0x52accd(0x1ac)])[_0x52accd(0x1a3)](_0x2dfb41,_0x2dfb41+0xf0*0xa0*0x4),idata=new ImageData(imgFrameBuffer,0xf0,0xa0);}function base64ToUint8Array(_0x3d5db4){var _0x2edcf1=a0_0x31c651;const _0x547371=atob(_0x3d5db4),_0x28d2ab=new Uint8Array(_0x547371[_0x2edcf1(0x18b)]);for(let _0xbe9e01=0x0;_0xbe9e01<_0x547371[_0x2edcf1(0x18b)];_0xbe9e01++){_0x28d2ab[_0xbe9e01]=_0x547371[_0x2edcf1(0x1a8)](_0xbe9e01);}return _0x28d2ab;}function uint8ArrayToBase64(_0x14cec8){var _0x184003=a0_0x31c651;let _0x5a37a4='';for(let _0x2812e2=0x0;_0x2812e2<_0x14cec8[_0x184003(0x18b)];_0x2812e2++){_0x5a37a4+=String[_0x184003(0x19c)](_0x14cec8[_0x2812e2]);}return btoa(_0x5a37a4);}function capture(){var _0x590528=a0_0x31c651;const _0x213c54=canvas['toDataURL']('image/png'),_0x5a9d11=document[_0x590528(0x195)]('img');return _0x5a9d11[_0x590528(0x188)]=_0x213c54,document[_0x590528(0x1a9)]['appendChild'](_0x5a9d11),_0x213c54;}function loadGameFromInput(){var _0x1333be=a0_0x31c651;tryInitSound();var _0x6d9109=fileInput[_0x1333be(0x17f)][0x0];romFileName=_0x6d9109[_0x1333be(0x182)];var _0x31884c=new FileReader();_0x31884c[_0x1333be(0x186)]=function(_0x2da306){var _0x41b8d4=_0x1333be,_0x113269=_0x2da306[_0x41b8d4(0x183)][_0x41b8d4(0x19a)];isRunning=![];var _0x2b2349=new Uint8Array(_0x113269);gameID='';for(var _0x59af9f=0xac;_0x59af9f<0xb2;_0x59af9f++){gameID+=String[_0x41b8d4(0x19c)](_0x2b2349[_0x59af9f]);}console[_0x41b8d4(0x19f)](_0x41b8d4(0x1a2),gameID),Module[_0x41b8d4(0x18e)][_0x41b8d4(0x181)](_0x2b2349,romBuffer),Module[_0x41b8d4(0x18a)](_0x2b2349[_0x41b8d4(0x18b)]),loadSave(),Module[_0x41b8d4(0x1a6)](),isRunning=!![];},_0x31884c[_0x1333be(0x1a5)](_0x6d9109);}function loadSave(){var _0x4df62d=a0_0x31c651;const _0xacffaf=null;_0xacffaf?(wasmSaveBuf['set'](base64ToUint8Array(_0xacffaf)),console[_0x4df62d(0x19f)](base64ToUint8Array(_0xacffaf)),isRunning=!![]):isRunning=![],Module[_0x4df62d(0x1a6)](),lastCheckedSaveState=0x0,Module[_0x4df62d(0x1b3)](),console[_0x4df62d(0x19f)](_0xacffaf);}function checkSave(){var _0x5007ef=a0_0x31c651;if(!isRunning)return;const _0x123b22=Module['_emuUpdateSavChangeFlag']();if(lastCheckedSaveState===0x1&&_0x123b22===0x0){console['log'](_0x5007ef(0x187));const _0x4eb0fd=_0x5007ef(0x18c),_0x58f54b=_0x4eb0fd['replace'](/\.(gba|gbc|gb)$/,'.sav');tmpSaveBuf[_0x5007ef(0x181)](wasmSaveBuf),setTimeout(()=>{var _0x571fbc=_0x5007ef;const _0x25030d=uint8ArrayToBase64(wasmSaveBuf);localStorage[_0x571fbc(0x197)](_0x58f54b,_0x25030d),console[_0x571fbc(0x19f)](_0x571fbc(0x199),_0x25030d);},0x258);}lastCheckedSaveState=_0x123b22;}function emuLoop(){var _0x33893d=a0_0x31c651;if(isRunning){frameCnt++;frameCnt%0x3c==0x0&&checkSave();if(frameCnt%0x80==0x0){if(last128FrameTime){var _0x3efb7d=performance[_0x33893d(0x1b5)]()-last128FrameTime,_0x588377=_0x3efb7d/0x80,_0x5497e1=-0x1;_0x588377>0.001&&(_0x5497e1=0x3e8/_0x588377),document[_0x33893d(0x198)](_0x33893d(0x196))[_0x33893d(0x1b1)]=_0x5497e1;}last128FrameTime=performance[_0x33893d(0x1b5)]();}lastFrameTime=performance[_0x33893d(0x1b5)](),Module[_0x33893d(0x1a4)](0x0),drawContext=canvas['getContext']('2d'),drawContext[_0x33893d(0x192)](idata,0x0,0x0);}window[_0x33893d(0x19e)](emuLoop);}document['addEventListener'](a0_0x31c651(0x1a1),function(){emuLoop();});