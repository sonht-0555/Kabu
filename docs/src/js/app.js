var a0_0x4ee37c=a0_0xb96c;(function(_0x347205,_0x17f3b7){var _0x324d1a=a0_0xb96c,_0x4a042d=_0x347205();while(!![]){try{var _0x16cdf5=parseInt(_0x324d1a(0x1b2))/0x1*(parseInt(_0x324d1a(0x199))/0x2)+-parseInt(_0x324d1a(0x18b))/0x3+parseInt(_0x324d1a(0x18f))/0x4*(-parseInt(_0x324d1a(0x19c))/0x5)+-parseInt(_0x324d1a(0x1b6))/0x6*(parseInt(_0x324d1a(0x1a2))/0x7)+parseInt(_0x324d1a(0x191))/0x8+-parseInt(_0x324d1a(0x190))/0x9*(-parseInt(_0x324d1a(0x198))/0xa)+-parseInt(_0x324d1a(0x1b0))/0xb*(-parseInt(_0x324d1a(0x186))/0xc);if(_0x16cdf5===_0x17f3b7)break;else _0x4a042d['push'](_0x4a042d['shift']());}catch(_0x1ac2ef){_0x4a042d['push'](_0x4a042d['shift']());}}}(a0_0x4f62,0x65885));var wasmAudioBuf,wasmSaveBuf,gameID,romFileName,drawContext,idata,imgFrameBuffer,scriptProcessor,audioContext,keyState={};const keyList=['a','b',a0_0x4ee37c(0x18a),'start',a0_0x4ee37c(0x1ab),'left','up',a0_0x4ee37c(0x1ac),'r','l'];function a0_0xb96c(_0x76fab1,_0x1a8683){var _0x4f62c3=a0_0x4f62();return a0_0xb96c=function(_0xb96c16,_0xf424ea){_0xb96c16=_0xb96c16-0x180;var _0x2d6e9d=_0x4f62c3[_0xb96c16];return _0x2d6e9d;},a0_0xb96c(_0x76fab1,_0x1a8683);}var keyb=0x0;const AUDIO_BLOCK_SIZE=0x400,AUDIO_FIFO_MAXLEN=0x1324;var audioFifo0=new Int16Array(AUDIO_FIFO_MAXLEN),audioFifo1=new Int16Array(AUDIO_FIFO_MAXLEN),canvasVba=null,romBuffer=-0x1,isRunning=![];const wasmSaveBufLen=0x20000+0x2000;var tmpSaveBuf=new Uint8Array(wasmSaveBufLen),frameCnt=0x0,last128FrameTime=0x0,lastFrameTime=0x0,frameSkip=0x0,audioFifoHead=0x0,audioFifoCnt=0x0,lastCheckedSaveState=0x0,turboMode=![],fastForwardMode=![],isSaveSupported=!![];const fileInput=document[a0_0x4ee37c(0x182)]('romFile'),canvas=document[a0_0x4ee37c(0x182)](a0_0x4ee37c(0x192));function processAudio(_0x20fe13){var _0x2816c3=a0_0x4ee37c,_0xb2f327=_0x20fe13[_0x2816c3(0x193)],_0x2fb35f=_0xb2f327[_0x2816c3(0x1a5)](0x0),_0x110f45=_0xb2f327[_0x2816c3(0x1a5)](0x1);if(!isRunning||fastForwardMode||turboMode){for(var _0x1a34ca=0x0;_0x1a34ca<AUDIO_BLOCK_SIZE;_0x1a34ca++){_0x2fb35f[_0x1a34ca]=0x0,_0x110f45[_0x1a34ca]=0x0;}return;}while(audioFifoCnt<AUDIO_BLOCK_SIZE){emuLoop();}var _0x2e9578=AUDIO_BLOCK_SIZE;audioFifoCnt<_0x2e9578&&(_0x2e9578=audioFifoCnt);for(var _0x1a34ca=0x0;_0x1a34ca<_0x2e9578;_0x1a34ca++){_0x2fb35f[_0x1a34ca]=audioFifo0[audioFifoHead]/0x8000,_0x110f45[_0x1a34ca]=audioFifo1[audioFifoHead]/0x8000,audioFifoHead=(audioFifoHead+0x1)%AUDIO_FIFO_MAXLEN,audioFifoCnt--;}}function a0_0x4f62(){var _0x3c4193=['destination','textContent','getChannelData','webkitAudioContext','AW_2\x20Black\x20Hole\x20Return.gba','image/png','onaudioprocess','length','right','down','readAsArrayBuffer','log','putImageData','20471pgvSWT','name','700462HEuVRD','createElement','buffer','now','2358VtMdpn','addEventListener','target','running','createScriptProcessor','getContext','src','Auto\x20saved:','requestAnimationFrame','getElementById','subarray','resume','HEAPU8','1248FnvrIP','img','replace','_emuGetSymbol','select','533175WQjwAJ','onload','connect','DOMContentLoaded','2588CUOmje','135csreqw','334736WLhzhe','canvas','outputBuffer','set','toDataURL','_emuLoadROM','charCodeAt','464330PtilRh','2MiwXki','fromCharCode','state','4395PKJAxO','fps','setItem','.sav','_emuUpdateSavChangeFlag','AudioContext','8372KUHVJS'];a0_0x4f62=function(){return _0x3c4193;};return a0_0x4f62();}function tryInitSound(){var _0x442f32=a0_0x4ee37c;if(audioContext){audioContext[_0x442f32(0x19b)]!=_0x442f32(0x1b9)&&audioContext[_0x442f32(0x184)]();return;}try{audioContext=new(window[(_0x442f32(0x1a1))]||window[(_0x442f32(0x1a6))])({'latencyHint':0.0001,'sampleRate':0xbb80}),scriptProcessor=audioContext[_0x442f32(0x1ba)](AUDIO_BLOCK_SIZE,0x0,0x2),scriptProcessor[_0x442f32(0x1a9)]=processAudio,scriptProcessor[_0x442f32(0x18d)](audioContext[_0x442f32(0x1a3)]),audioContext['resume']();}catch(_0x1f53a7){console[_0x442f32(0x1ae)](_0x1f53a7);}}function writeAudio(_0x36a306,_0x39f57a){var _0xd57b3c=a0_0x4ee37c;if(fastForwardMode)return;!wasmAudioBuf&&(wasmAudioBuf=new Int16Array(Module['HEAPU8']['buffer'])[_0xd57b3c(0x183)](_0x36a306/0x2,_0x36a306/0x2+0x800));var _0x25dc32=(audioFifoHead+audioFifoCnt)%AUDIO_FIFO_MAXLEN;if(audioFifoCnt+_0x39f57a>=AUDIO_FIFO_MAXLEN)return;for(var _0xcb43d3=0x0;_0xcb43d3<_0x39f57a;_0xcb43d3++){audioFifo0[_0x25dc32]=wasmAudioBuf[_0xcb43d3*0x2],audioFifo1[_0x25dc32]=wasmAudioBuf[_0xcb43d3*0x2+0x1],_0x25dc32=(_0x25dc32+0x1)%AUDIO_FIFO_MAXLEN;}audioFifoCnt+=_0x39f57a;}function wasmReady(){var _0x4517b3=a0_0x4ee37c;romBuffer=Module[_0x4517b3(0x189)](0x1);var _0x3045ea=Module['_emuGetSymbol'](0x2);wasmSaveBuf=Module['HEAPU8']['subarray'](_0x3045ea,_0x3045ea+wasmSaveBufLen),_0x3045ea=Module['_emuGetSymbol'](0x3),imgFrameBuffer=new Uint8ClampedArray(Module[_0x4517b3(0x185)][_0x4517b3(0x1b4)])[_0x4517b3(0x183)](_0x3045ea,_0x3045ea+0xf0*0xa0*0x4),idata=new ImageData(imgFrameBuffer,0xf0,0xa0);}function base64ToUint8Array(_0x4dbd83){var _0x45d9b3=a0_0x4ee37c;const _0xd5d6ea=atob(_0x4dbd83),_0x2bd570=new Uint8Array(_0xd5d6ea[_0x45d9b3(0x1aa)]);for(let _0x3760e0=0x0;_0x3760e0<_0xd5d6ea['length'];_0x3760e0++){_0x2bd570[_0x3760e0]=_0xd5d6ea[_0x45d9b3(0x197)](_0x3760e0);}return _0x2bd570;}function uint8ArrayToBase64(_0x177d9e){var _0x117777=a0_0x4ee37c;let _0x10be7d='';for(let _0x2c9c69=0x0;_0x2c9c69<_0x177d9e[_0x117777(0x1aa)];_0x2c9c69++){_0x10be7d+=String[_0x117777(0x19a)](_0x177d9e[_0x2c9c69]);}return btoa(_0x10be7d);}function capture(){var _0x3a6531=a0_0x4ee37c;const _0x135dbe=canvas[_0x3a6531(0x195)](_0x3a6531(0x1a8)),_0x13aefd=document[_0x3a6531(0x1b3)](_0x3a6531(0x187));return _0x13aefd[_0x3a6531(0x1bc)]=_0x135dbe,document['body']['appendChild'](_0x13aefd),_0x135dbe;}function loadGameFromInput(){var _0x5906bd=a0_0x4ee37c;tryInitSound();var _0x3f8a89=fileInput['files'][0x0];romFileName=_0x3f8a89[_0x5906bd(0x1b1)];var _0x58b8e9=new FileReader();_0x58b8e9[_0x5906bd(0x18c)]=function(_0xda6366){var _0x1233a0=_0x5906bd,_0x5a3ae6=_0xda6366[_0x1233a0(0x1b8)]['result'];isRunning=![];var _0x8c9245=new Uint8Array(_0x5a3ae6);gameID='';for(var _0x20871b=0xac;_0x20871b<0xb2;_0x20871b++){gameID+=String[_0x1233a0(0x19a)](_0x8c9245[_0x20871b]);}console[_0x1233a0(0x1ae)]('gameID',gameID),Module[_0x1233a0(0x185)][_0x1233a0(0x194)](_0x8c9245,romBuffer),Module[_0x1233a0(0x196)](_0x8c9245[_0x1233a0(0x1aa)]),loadSave(),Module['_emuResetCpu'](),isRunning=!![];},_0x58b8e9[_0x5906bd(0x1ad)](_0x3f8a89);}function loadSave(){var _0x279a78=a0_0x4ee37c;const _0x676f80=null;_0x676f80?(wasmSaveBuf[_0x279a78(0x194)](base64ToUint8Array(_0x676f80)),console[_0x279a78(0x1ae)](base64ToUint8Array(_0x676f80)),isRunning=!![]):isRunning=![],Module['_emuResetCpu'](),lastCheckedSaveState=0x0,Module[_0x279a78(0x1a0)](),console[_0x279a78(0x1ae)](_0x676f80);}function checkSave(){var _0x1b88e5=a0_0x4ee37c;if(!isRunning)return;const _0x23d0eb=Module['_emuUpdateSavChangeFlag']();if(lastCheckedSaveState===0x1&&_0x23d0eb===0x0){console['log']('Auto\x20saving,\x20please\x20wait...');const _0x2f82fd=_0x1b88e5(0x1a7),_0x3c24ed=_0x2f82fd[_0x1b88e5(0x188)](/\.(gba|gbc|gb)$/,_0x1b88e5(0x19f));tmpSaveBuf[_0x1b88e5(0x194)](wasmSaveBuf),setTimeout(()=>{var _0x5bb816=_0x1b88e5;const _0x53080e=uint8ArrayToBase64(wasmSaveBuf);localStorage[_0x5bb816(0x19e)](_0x3c24ed,_0x53080e),console['log'](_0x5bb816(0x180),_0x53080e);},0x258);}lastCheckedSaveState=_0x23d0eb;}function emuLoop(){var _0x2b79d6=a0_0x4ee37c;if(isRunning){frameCnt++;frameCnt%0x3c==0x0&&checkSave();if(frameCnt%0x80==0x0){if(last128FrameTime){var _0x4baa35=performance['now']()-last128FrameTime,_0x2873ba=_0x4baa35/0x80,_0x5a3cb0=-0x1;_0x2873ba>0.001&&(_0x5a3cb0=0x3e8/_0x2873ba),document[_0x2b79d6(0x182)](_0x2b79d6(0x19d))[_0x2b79d6(0x1a4)]=_0x5a3cb0;}last128FrameTime=performance['now']();}lastFrameTime=performance[_0x2b79d6(0x1b5)](),Module['_emuRunFrame'](0x0),drawContext=canvas[_0x2b79d6(0x1bb)]('2d'),drawContext[_0x2b79d6(0x1af)](idata,0x0,0x0);}window[_0x2b79d6(0x181)](emuLoop);}document[a0_0x4ee37c(0x1b7)](a0_0x4ee37c(0x18e),function(){emuLoop();});