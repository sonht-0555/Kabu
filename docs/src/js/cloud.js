var a0_0x536036=a0_0x39d6;(function(_0x55a05f,_0x40210c){var _0x54952e=a0_0x39d6,_0x1b981a=_0x55a05f();while(!![]){try{var _0x2312d3=-parseInt(_0x54952e(0x17d))/0x1+-parseInt(_0x54952e(0x1aa))/0x2*(-parseInt(_0x54952e(0x17a))/0x3)+-parseInt(_0x54952e(0x1c7))/0x4*(-parseInt(_0x54952e(0x181))/0x5)+-parseInt(_0x54952e(0x190))/0x6*(-parseInt(_0x54952e(0x1ad))/0x7)+parseInt(_0x54952e(0x1d0))/0x8*(parseInt(_0x54952e(0x16e))/0x9)+parseInt(_0x54952e(0x1c9))/0xa+parseInt(_0x54952e(0x199))/0xb*(-parseInt(_0x54952e(0x1c1))/0xc);if(_0x2312d3===_0x40210c)break;else _0x1b981a['push'](_0x1b981a['shift']());}catch(_0x527908){_0x1b981a['push'](_0x1b981a['shift']());}}}(a0_0x1811,0xd8056));function a0_0x1811(){var _0x555669=['replace','&client_secret=','active','search','access_token','downloadFileInCloud','open','classList','refresh_token=','3951495dUJnRP','exec','&token_access_type=','606055SYWhyh','Restore\x20canceled\x20by\x20user.','href','DOMContentLoaded','760520iowMKd','location','onload','.tag','state','send','Wait\x20a\x20little\x20bit...','error_description','log','click','getItem','/data/','Download\x20failed,\x20unknown\x20http\x20status:','json','&grant_type=','3804954yqtEKd','Do\x20you\x20want\x20to\x20logout?','No\x20files\x20found\x20to\x20restore.','file','Unable\x20to\x20refresh\x20token','Refreshing\x20token...','refreshToken','parse','name','11TFlNme','Do\x20not\x20receive\x20access\x20token\x20&\x20refresh\x20token','length','error','Authorization\x20Code:','https://content.dropboxapi.com/2/files/download','setRequestHeader','blob','authorization_code','application/x-www-form-urlencoded','https://api.dropboxapi.com/2/files/list_folder','Restoring...','save','code','filter','&client_id=','setItem','2zyRdhS','https://api.dropboxapi.com/2/files/create_folder_v2','No\x20refresh\x20token','7vxXqZh','uId','entries','application/json','code=','accessToken','Failed\x20to\x20refresh\x20Dropbox\x20token.','Bearer\x20','https://api.dropbox.com/oauth2/token',',\x20status:\x20','screenshot','confirm','Content-Type','listFiles','split','Cloud\x20login\x20required!','Do\x20not\x20receive\x20authorization','remove','Cloud\x20↦\x20Kabu\x20storage\x20◆','Do\x20you\x20want\x20to\x20restore\x20','38553936jitArS','map','&redirect_uri=','status','addEventListener','refresh_token','32DdwfUE','\x20files\x20in\x20Kabu?','6234250jwArIs','Folder\x20already\x20exists','&response_type=','responseText','stringify','alert','POST','296ayXmwZ','https://content.dropboxapi.com/2/files/upload','\x20files\x20from\x20Cloud?','Error\x20while\x20refreshing\x20token:','Download\x20failed\x20for\x20','Error\x20creating\x20folder\x20','=([^&#]*)','https://api.dropboxapi.com/oauth2/token','Kabu\x20storage\x20↦\x20Cloud\x20◆','Failed\x20to\x20upload\x20file\x20','221868CvQFQB','overwrite','Folder\x20created'];a0_0x1811=function(){return _0x555669;};return a0_0x1811();}import*as a0_0x4a245a from'./main.js';import{localStorageFile}from'./storage.js';var clientId='knh3uz2mx2hp2eu',clientSecret='nwb3dnfh09rhs31';function authorizeWithDropbox(){var _0x3c2d74=a0_0x39d6,_0x19b449=window[_0x3c2d74(0x182)]['href'][_0x3c2d74(0x1bb)]('?')[0x0],_0x4eddd8=_0x3c2d74(0x1a6),_0x14a5f8='offline',_0x213e56='https://www.dropbox.com/oauth2/authorize?client_id='+clientId+_0x3c2d74(0x1cb)+_0x4eddd8+_0x3c2d74(0x17c)+_0x14a5f8+_0x3c2d74(0x1c3)+encodeURIComponent(_0x19b449);window[_0x3c2d74(0x182)][_0x3c2d74(0x17f)]=_0x213e56;}function handleDropboxCallback(){var _0x5861f2=a0_0x39d6,_0x56b7a9=getUrlParameter(_0x5861f2(0x1a6));_0x56b7a9?(getAccessToken(_0x56b7a9),console[_0x5861f2(0x189)](_0x5861f2(0x19d),_0x56b7a9)):console['log'](_0x5861f2(0x1bd));}function getUrlParameter(_0x1fc20a){var _0x56718c=a0_0x39d6;_0x1fc20a=_0x1fc20a[_0x56718c(0x171)](/[\[]/,'\x5c[')[_0x56718c(0x171)](/[\]]/,'\x5c]');var _0xbf96d2=new RegExp('[\x5c?&#]'+_0x1fc20a+_0x56718c(0x16a)),_0x4c09e2=_0xbf96d2[_0x56718c(0x17b)](location[_0x56718c(0x174)]);return _0x4c09e2===null?'':decodeURIComponent(_0x4c09e2[0x1]['replace'](/\+/g,'\x20'));}function getAccessToken(_0x1e9227){var _0xf2702a=a0_0x39d6,_0x25d7ae=_0xf2702a(0x1a1),_0x176e88=window[_0xf2702a(0x182)]['href'][_0xf2702a(0x1bb)]('?')[0x0],_0x43e43e=new XMLHttpRequest();_0x43e43e[_0xf2702a(0x177)](_0xf2702a(0x1cf),_0xf2702a(0x1b5)),_0x43e43e[_0xf2702a(0x19f)](_0xf2702a(0x1b9),_0xf2702a(0x1a2)),_0x43e43e[_0xf2702a(0x183)]=function(){var _0x260b96=_0xf2702a;if(_0x43e43e[_0x260b96(0x1c4)]===0xc8){var _0x18947a=JSON[_0x260b96(0x197)](_0x43e43e[_0x260b96(0x1cc)]),_0x228c56=_0x18947a[_0x260b96(0x175)],_0x205ae4=_0x18947a[_0x260b96(0x1c6)],_0x46efe3=_0x18947a['uid'];localStorage['setItem']('accessToken',_0x228c56),localStorage['setItem'](_0x260b96(0x196),_0x205ae4),localStorage[_0x260b96(0x1a9)](_0x260b96(0x1ae),_0x46efe3);}else console[_0x260b96(0x189)](_0x260b96(0x19a));},_0x43e43e[_0xf2702a(0x186)](_0xf2702a(0x1b1)+_0x1e9227+_0xf2702a(0x18f)+_0x25d7ae+_0xf2702a(0x1a8)+clientId+_0xf2702a(0x172)+clientSecret+_0xf2702a(0x1c3)+encodeURIComponent(_0x176e88));}export async function dpCreateFolder(_0x537ec8){var _0x538dbe=a0_0x39d6;const _0xd07b4a=localStorage[_0x538dbe(0x18b)](_0x538dbe(0x1ae));let _0x5122f5=localStorage[_0x538dbe(0x18b)](_0x538dbe(0x1b2));const _0x4d63a3='/'+_0xd07b4a+'/'+_0x537ec8,_0x5d651b=JSON[_0x538dbe(0x1cd)]({'path':_0x4d63a3,'autorename':![]});for(let _0x457af6=0x0;_0x457af6<0x2;_0x457af6++){try{const _0x29aaba=await fetch(_0x538dbe(0x1ab),{'method':_0x538dbe(0x1cf),'headers':{'Authorization':_0x538dbe(0x1b4)+_0x5122f5,'Content-Type':'application/json'},'body':_0x5d651b});if(_0x29aaba[_0x538dbe(0x1c4)]===0x191){const _0x106a2e=await dpRefreshToken();if(!_0x106a2e)throw new Error('Unable\x20to\x20refresh\x20token');_0x5122f5=localStorage[_0x538dbe(0x18b)](_0x538dbe(0x1b2));continue;}if(_0x29aaba[_0x538dbe(0x1c4)]===0x199)return{'message':_0x538dbe(0x1ca),'path':_0x537ec8};if(!_0x29aaba['ok'])throw new Error(_0x538dbe(0x1d5)+_0x537ec8);const _0x13051b=await _0x29aaba['json']();return await lockNoti(_0x538dbe(0x170),'',0xbb8),_0x13051b;}catch(_0x26ad28){if(_0x457af6===0x1)throw _0x26ad28;}}return![];}export async function dpRefreshToken(){var _0x178592=a0_0x39d6;if(!localStorage['getItem'](_0x178592(0x196)))throw _0x178592(0x1ac);try{const _0x544abf=await fetch(_0x178592(0x16b),{'method':_0x178592(0x1cf),'headers':{'Content-Type':_0x178592(0x1a2)},'body':_0x178592(0x179)+localStorage['getItem'](_0x178592(0x196))+'&grant_type=refresh_token&client_id=knh3uz2mx2hp2eu&client_secret=nwb3dnfh09rhs31'}),_0x2b0c40=await _0x544abf[_0x178592(0x18e)]();if(!_0x2b0c40[_0x178592(0x19c)])return localStorage[_0x178592(0x1a9)]('accessToken',_0x2b0c40['access_token']),await lockNoti(_0x178592(0x195),'',0xbb8),await delay(0x3e8),!![];else alert(_0x2b0c40[_0x178592(0x188)]||_0x178592(0x1b3));}catch(_0x3b3ba2){console[_0x178592(0x19c)](_0x178592(0x1d3),_0x3b3ba2);}return![];}export async function dpUploadFile(_0x18ff92,_0x434c61,_0x367618){var _0x5a24d6=a0_0x39d6;const _0x3bbe38=localStorage[_0x5a24d6(0x18b)](_0x5a24d6(0x1ae));var _0xfe05fe=JSON['stringify']({'autorename':!![],'mode':_0x5a24d6(0x16f),'mute':!![],'strict_conflict':![],'path':'/'+_0x3bbe38+'/'+_0x367618+'/'+_0x18ff92}),_0x283d19=new Blob([_0x434c61],{'type':'application/octet-stream'});for(var _0x1f6426=0x0;_0x1f6426<0x2;_0x1f6426++){var _0x5f5afa=await fetch(_0x5a24d6(0x1d1),{'method':_0x5a24d6(0x1cf),'headers':{'Authorization':_0x5a24d6(0x1b4)+localStorage[_0x5a24d6(0x18b)](_0x5a24d6(0x1b2)),'Dropbox-API-Arg':_0xfe05fe,'Content-Type':'application/octet-stream'},'body':_0x283d19});if(_0x5f5afa['status']!=0xc8){if(_0x5f5afa[_0x5a24d6(0x1c4)]==0x191){var _0x9a718f=await dpRefreshToken();if(!_0x9a718f)throw _0x5a24d6(0x194);continue;}else throw'Upload\x20failed,\x20unknown\x20http\x20status:\x20'+_0x5f5afa[_0x5a24d6(0x1c4)];}else{var _0x58b154=await _0x5f5afa['json']();return console['log'](_0x5a24d6(0x16c),_0x18ff92),_0x58b154;}}return![];}export async function dpDownloadFile(_0x2be312,_0x576a36){var _0x307722=a0_0x39d6;const _0x5748ee=localStorage[_0x307722(0x18b)](_0x307722(0x1ae));var _0x10bb0c=JSON[_0x307722(0x1cd)]({'path':'/'+_0x5748ee+'/'+_0x576a36+'/'+_0x2be312});for(var _0x46289a=0x0;_0x46289a<0x2;_0x46289a++){var _0x4748c7=await fetch(_0x307722(0x19e),{'method':_0x307722(0x1cf),'headers':{'Authorization':_0x307722(0x1b4)+localStorage[_0x307722(0x18b)](_0x307722(0x1b2)),'Dropbox-API-Arg':_0x10bb0c}});if(_0x4748c7[_0x307722(0x1c4)]!=0xc8){if(_0x4748c7[_0x307722(0x1c4)]==0x191){var _0x36051d=await dpRefreshToken();if(!_0x36051d)throw'Unable\x20to\x20refresh\x20token';continue;}else throw _0x307722(0x18d)+_0x4748c7['status'];}const _0x5a5a90=new File([await _0x4748c7[_0x307722(0x1a0)]()],_0x2be312);return console[_0x307722(0x189)](_0x307722(0x1bf),_0x5a5a90[_0x307722(0x198)]),a0_0x4a245a['uploadFileInCloud'](_0x5a5a90,()=>{}),_0x5a5a90;}return![];}function a0_0x39d6(_0x67eb3f,_0x535d6a){var _0x1811b1=a0_0x1811();return a0_0x39d6=function(_0x39d681,_0xe02889){_0x39d681=_0x39d681-0x16a;var _0xb7af2e=_0x1811b1[_0x39d681];return _0xb7af2e;},a0_0x39d6(_0x67eb3f,_0x535d6a);}document[a0_0x536036(0x1c5)](a0_0x536036(0x180),function(){var _0x5ca9c1=a0_0x536036;dropboxRestore[_0x5ca9c1(0x1c5)](_0x5ca9c1(0x18a),async function(){var _0x4f3cc4=_0x5ca9c1;await lockNoti(_0x4f3cc4(0x187),'',0x1388);const _0x3d4abc=localStorage['getItem'](_0x4f3cc4(0x1ae)),_0xa88db7=[_0x4f3cc4(0x185),_0x4f3cc4(0x1a5),'screenshot'];if(!_0x3d4abc){window[_0x4f3cc4(0x1ce)]('Cloud\x20login\x20required!');return;}let _0x230a21=[];for(const _0x47ebbe of _0xa88db7){let _0x3832d4={'path':'/'+_0x3d4abc+'/'+_0x47ebbe};for(let _0x27b790=0x0;_0x27b790<0x2;_0x27b790++){let _0x370611=await fetch(_0x4f3cc4(0x1a3),{'method':_0x4f3cc4(0x1cf),'headers':{'Authorization':_0x4f3cc4(0x1b4)+localStorage[_0x4f3cc4(0x18b)](_0x4f3cc4(0x1b2)),'Content-Type':_0x4f3cc4(0x1b0)},'body':JSON['stringify'](_0x3832d4)});if(_0x370611[_0x4f3cc4(0x1c4)]===0xc8){let _0x407c33=await _0x370611['json'](),_0x58774f=_0x407c33[_0x4f3cc4(0x1af)][_0x4f3cc4(0x1a7)](_0x171ad9=>_0x171ad9[_0x4f3cc4(0x184)]===_0x4f3cc4(0x193));_0x58774f['length']>0x0&&_0x230a21['push'](..._0x58774f[_0x4f3cc4(0x1c2)](_0x2fa1ce=>({'name':_0x2fa1ce[_0x4f3cc4(0x198)],'folder':_0x47ebbe})));break;}else{if(_0x370611[_0x4f3cc4(0x1c4)]===0x191){let _0x385f59=await dpRefreshToken();if(!_0x385f59)throw _0x4f3cc4(0x194);}else{console[_0x4f3cc4(0x19c)](_0x4f3cc4(0x1d4)+_0x47ebbe+_0x4f3cc4(0x1b6)+_0x370611[_0x4f3cc4(0x1c4)]);break;}}}}if(_0x230a21['length']>0x0){const _0x3804f0=_0x4f3cc4(0x1c0)+_0x230a21['length']+_0x4f3cc4(0x1d2);if(window[_0x4f3cc4(0x1b8)](_0x3804f0))for(const _0x15269e of _0x230a21){await lockNoti(_0x4f3cc4(0x1a4),_0x15269e[_0x4f3cc4(0x198)],0xbb8),await dpDownloadFile(_0x15269e[_0x4f3cc4(0x198)],_0x15269e['folder']);}else console[_0x4f3cc4(0x189)]('Restore\x20canceled\x20by\x20user.');}else console[_0x4f3cc4(0x189)](_0x4f3cc4(0x192));}),dropboxBackup[_0x5ca9c1(0x1c5)](_0x5ca9c1(0x18a),async function(){var _0x1646ce=_0x5ca9c1;await lockNoti(_0x1646ce(0x187),'',0x1388);const _0x4be0e1=localStorage['getItem'](_0x1646ce(0x1ae));if(_0x4be0e1===null||_0x4be0e1==='')window[_0x1646ce(0x1ce)](_0x1646ce(0x1bc));else{const _0x5ab9a5=[_0x1646ce(0x185),_0x1646ce(0x1a5),_0x1646ce(0x1b7)];for(const _0x3078a6 of _0x5ab9a5){await dpCreateFolder(_0x3078a6);}let _0xdd8dea=0x0;for(const _0x3b1567 of _0x5ab9a5){const _0x1491b8=a0_0x4a245a[_0x1646ce(0x1ba)](_0x3b1567+'s');_0xdd8dea+=_0x1491b8[_0x1646ce(0x19b)];}if(window[_0x1646ce(0x1b8)]('Do\x20you\x20want\x20to\x20backup\x20'+_0xdd8dea+_0x1646ce(0x1c8)))for(const _0x46fd4d of _0x5ab9a5){const _0x216733=a0_0x4a245a[_0x1646ce(0x1ba)](_0x46fd4d+'s');for(const _0x2e8118 of _0x216733){const _0x3a1e60=await a0_0x4a245a[_0x1646ce(0x176)](_0x1646ce(0x18c)+_0x46fd4d+'s/'+_0x2e8118);try{await lockNoti('Backing\x20up...',_0x2e8118,0xbb8),await dpUploadFile(_0x2e8118,_0x3a1e60,_0x46fd4d);}catch(_0x5005d2){console[_0x1646ce(0x19c)](_0x1646ce(0x16d)+_0x2e8118+':',_0x5005d2);}}}else console[_0x1646ce(0x189)](_0x1646ce(0x17e));}}),dropboxCloud[_0x5ca9c1(0x1c5)](_0x5ca9c1(0x18a),function(){var _0xec726f=_0x5ca9c1;const _0x265812=localStorage[_0xec726f(0x18b)](_0xec726f(0x1ae));_0x265812===null||_0x265812===''?authorizeWithDropbox():window[_0xec726f(0x1b8)](_0xec726f(0x191))&&(localStorage[_0xec726f(0x1a9)](_0xec726f(0x1ae),''),dropboxRestore[_0xec726f(0x178)][_0xec726f(0x1be)](_0xec726f(0x173)),dropboxBackup[_0xec726f(0x178)][_0xec726f(0x1be)](_0xec726f(0x173)),dropboxCloud[_0xec726f(0x178)][_0xec726f(0x1be)]('active'));}),handleDropboxCallback();});