const a0_0x168ab4=a0_0x39ef;(function(_0x4afcd6,_0x2b268c){const _0x273496=a0_0x39ef,_0x1fb532=_0x4afcd6();while(!![]){try{const _0x38f16d=parseInt(_0x273496(0x184))/0x1*(-parseInt(_0x273496(0x166))/0x2)+parseInt(_0x273496(0x168))/0x3+parseInt(_0x273496(0x151))/0x4*(parseInt(_0x273496(0x193))/0x5)+-parseInt(_0x273496(0x14a))/0x6*(-parseInt(_0x273496(0x181))/0x7)+parseInt(_0x273496(0x15e))/0x8+-parseInt(_0x273496(0x18d))/0x9+parseInt(_0x273496(0x155))/0xa*(-parseInt(_0x273496(0x189))/0xb);if(_0x38f16d===_0x2b268c)break;else _0x1fb532['push'](_0x1fb532['shift']());}catch(_0x53cce1){_0x1fb532['push'](_0x1fb532['shift']());}}}(a0_0x421c,0x430fd));import*as a0_0xfb0574 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x168ab4(0x187)](a0_0x168ab4(0x158)),turbo=document[a0_0x168ab4(0x187)](a0_0x168ab4(0x152)),ID=['A','B','R','L'];async function getImage(){const _0x50a630=a0_0x168ab4;turbo[_0x50a630(0x15b)][_0x50a630(0x16a)](_0x50a630(0x18f));try{const _0xa70f8b=gameName[_0x50a630(0x17d)](/\.(gba|gbc|gb|zip)$/,_0x50a630(0x16c)),_0x56d7f9=await a0_0xfb0574[_0x50a630(0x163)](_0xa70f8b),_0xab0047=new Blob([_0x56d7f9],{'type':_0x50a630(0x174)}),_0x293c6a=await new Promise((_0x2dc901,_0x4a9cc0)=>{const _0x36861c=_0x50a630,_0x4ea567=new FileReader();_0x4ea567[_0x36861c(0x157)]=()=>_0x2dc901(_0x4ea567[_0x36861c(0x161)]),_0x4ea567['onerror']=_0x4a9cc0,_0x4ea567[_0x36861c(0x194)](_0xab0047);}),_0x194d36=new Image();_0x194d36[_0x50a630(0x17f)]=_0x293c6a,_0x194d36[_0x50a630(0x14d)]=async()=>{const _0x41be09=_0x50a630,_0x4e9a2d=document[_0x41be09(0x16b)](_0x41be09(0x186)),_0x436e70=_0x4e9a2d[_0x41be09(0x18b)]('2d'),_0x28c126=0x4;let _0x2ddcb2;gameName[_0x41be09(0x14e)](_0x41be09(0x185))||gameName[_0x41be09(0x14e)](_0x41be09(0x171))?_0x2ddcb2=0x3/0x6:_0x2ddcb2=0x3/0x4;const _0x447dc3=localStorage['getItem'](gameName+_0x41be09(0x170))||localStorage[_0x41be09(0x176)](_0x41be09(0x15d)),[_0x10094d,_0x5b2320,_0x2ab447,_0x355a4b]=_0x447dc3[_0x41be09(0x14b)](',')['map'](Number);_0x4e9a2d[_0x41be09(0x165)]=_0x2ab447*_0x2ddcb2*_0x28c126,_0x4e9a2d[_0x41be09(0x191)]=_0x355a4b*_0x2ddcb2*_0x28c126,_0x436e70[_0x41be09(0x15f)](_0x194d36,_0x10094d*_0x2ddcb2,_0x5b2320*_0x2ddcb2,_0x2ab447*_0x2ddcb2,_0x355a4b*_0x2ddcb2,0x0,0x0,_0x2ab447*_0x2ddcb2*_0x28c126,_0x355a4b*_0x2ddcb2*_0x28c126);const _0x2fe172=_0x4e9a2d[_0x41be09(0x192)](_0x41be09(0x174))[_0x41be09(0x14b)](',')[0x1],_0x1824a1=localStorage[_0x41be09(0x176)](_0x41be09(0x162));console['log'](_0x1824a1),_0x1824a1?azureServer(_0x2fe172):freeServer(_0x2fe172);};}catch(_0x5c962b){inputText[_0x50a630(0x16f)]=_0x5c962b[_0x50a630(0x177)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x58efc7=_0x50a630;document['getElementById'](_0x58efc7(0x158))[_0x58efc7(0x16f)]='',a0_0xfb0574['notiMessage']('',0x0);},0x7530);}function a0_0x39ef(_0x17fa0f,_0x3ba299){const _0x421cc9=a0_0x421c();return a0_0x39ef=function(_0x39ef18,_0x52a39d){_0x39ef18=_0x39ef18-0x148;let _0x471699=_0x421cc9[_0x39ef18];return _0x471699;},a0_0x39ef(_0x17fa0f,_0x3ba299);}async function freeServer(_0x115fc7){const _0x4f47b1=a0_0x168ab4;document[_0x4f47b1(0x187)]('noti-mess')[_0x4f47b1(0x16f)]='';let _0x1b3017=0x0;const _0x3d9e62=setInterval(()=>{const _0x489c1f=_0x4f47b1;_0x1b3017+=0x1,_0x1b3017<=0x64&&(inputText[_0x489c1f(0x16f)]='.._\x20'+_0x1b3017+'%');},0x64);try{const _0x20d47d=dataURItoBlob(_0x115fc7),_0xca8410=new FormData();_0xca8410[_0x4f47b1(0x190)](_0x4f47b1(0x149),_0x20d47d,'image.png'),_0xca8410[_0x4f47b1(0x190)](_0x4f47b1(0x196),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x2291a8;try{_0x2291a8=await fetch(_0x4f47b1(0x182),{'method':_0x4f47b1(0x175),'body':_0xca8410,'headers':{'Origin':window[_0x4f47b1(0x156)]['origin'],'X-Requested-With':_0x4f47b1(0x183),'User-Agent':navigator[_0x4f47b1(0x173)]}});if(!_0x2291a8['ok'])throw new Error(_0x4f47b1(0x153)+_0x2291a8[_0x4f47b1(0x17b)]);}catch(_0x51c55d){console[_0x4f47b1(0x172)](_0x4f47b1(0x169)),window[_0x4f47b1(0x156)][_0x4f47b1(0x195)]=_0x4f47b1(0x18e);return;}const _0x562510=await _0x2291a8['json']();if(_0x562510[_0x4f47b1(0x14c)]===_0x4f47b1(0x15c))throw new Error(_0x562510[_0x4f47b1(0x15c)][_0x4f47b1(0x177)]);transLogic(_0x562510['text']);}catch(_0x4b5686){inputText[_0x4f47b1(0x16f)]=_0x4b5686['message'];}finally{clearInterval(_0x3d9e62),isFunctionARunning=![];}}function a0_0x421c(){const _0xc2873b=['screenSize','121520VsTPPq','drawImage','.._\x20','result','ApiAzure','captureOCR','&dt=t&q=','width','883032PVPmgC','DOMContentLoaded','1578300PmTXNI','Cors-controlers\x20have\x20not\x20been\x20activated.','add','createElement','.png','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','touchend','textContent','_setArea','.gb','warn','userAgent','image/png','POST','getItem','message','&tl=','code','json','status','touchstart','replace','forEach','src','isArray','854jBOzTS','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','XMLHttpRequest','1kNynSB','.gbc','canvas','getElementById','noti-mess','11CErQic','lines','getContext','map','1413459wZQMru','https://cors-anywhere.herokuapp.com/corsdemo','turbo-ocr','append','height','toDataURL','50865NURdyO','readAsDataURL','href','user','trim','toggle','text','remove','join','image','7674yoCIrB','split','type','onload','endsWith','Internal\x20Server\x20Error','charCodeAt','164PfzlKD','turbo','HTTP\x20Error:\x20','$1\x20','2411690ugiuIG','location','onloadend','inputText','Error\x20detecting\x20language:','length','classList','error'];a0_0x421c=function(){return _0xc2873b;};return a0_0x421c();}async function azureServer(_0x368e84){const _0x3dbf88=a0_0x168ab4;document[_0x3dbf88(0x187)](_0x3dbf88(0x188))['textContent']='',inputText[_0x3dbf88(0x16f)]=_0x3dbf88(0x160);const _0x279049=localStorage[_0x3dbf88(0x176)](_0x3dbf88(0x162));let [_0xf8dd09,_0x56f526]=_0x279049[_0x3dbf88(0x14b)](',');try{const _0x1af5a0=await fetch(_0x56f526+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x3dbf88(0x175),'headers':{'Ocp-Apim-Subscription-Key':_0xf8dd09,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x368e84)}),_0x493cd7=await _0x1af5a0[_0x3dbf88(0x17a)]();if(!_0x1af5a0['ok']||_0x493cd7[_0x3dbf88(0x14c)]===_0x3dbf88(0x15c)){const _0x1dc93d=_0x1af5a0['ok']?_0x493cd7['error'][_0x3dbf88(0x177)]:_0x1af5a0[_0x3dbf88(0x17b)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x1af5a0[_0x3dbf88(0x17a)]())[_0x3dbf88(0x15c)][_0x3dbf88(0x177)];throw new Error(_0x1dc93d);}const _0x487059=_0x493cd7['readResult']['blocks'][0x0],_0xfb4e94=_0x487059[_0x3dbf88(0x18a)]||[],_0x22d257=_0xfb4e94[_0x3dbf88(0x18c)](_0x242efb=>_0x242efb[_0x3dbf88(0x199)])[_0x3dbf88(0x148)]('\x0a');transLogic(_0x22d257);}catch(_0x398263){inputText[_0x3dbf88(0x16f)]=_0x398263[_0x3dbf88(0x177)];}finally{isFunctionARunning=![];}}async function translateText(_0x1ad039,_0x1dd711,_0x262686){const _0x239df6=a0_0x168ab4,_0x39a7b8=_0x1ad039[_0x239df6(0x17d)](/[\r\n]+/g,',\x20')[_0x239df6(0x17d)](/([!?.,])\s*,\s*/g,_0x239df6(0x154))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x239df6(0x17d)](/ {2,}/g,'\x20')[_0x239df6(0x197)]();var _0x5ad574='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x1dd711+_0x239df6(0x178)+_0x262686+_0x239df6(0x164)+encodeURIComponent(_0x39a7b8);try{const _0x2c84b2=await fetch(_0x5ad574);if(!_0x2c84b2['ok']){if(_0x2c84b2[_0x239df6(0x17b)]===0x1f4)throw new Error(_0x239df6(0x14f));else{const _0x426cfb=await _0x2c84b2['json'](),_0x2e224e=new Error(_0x426cfb[_0x239df6(0x15c)][_0x239df6(0x177)]);_0x2e224e[_0x239df6(0x179)]=_0x426cfb['error']['code'];throw _0x2e224e;}}const _0x2c36df=await _0x2c84b2[_0x239df6(0x17a)]();if(Array[_0x239df6(0x180)](_0x2c36df)&&_0x2c36df[_0x239df6(0x15a)]>0x0&&Array[_0x239df6(0x180)](_0x2c36df[0x0])){var _0x4563eb=_0x2c36df[0x0]['map'](_0x1590f0=>_0x1590f0[0x0])[_0x239df6(0x148)]('\x20');return document[_0x239df6(0x187)]('noti-mess')[_0x239df6(0x16f)]='',inputText[_0x239df6(0x16f)]=_0x239df6(0x160)+_0x4563eb[_0x239df6(0x17d)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4563eb['replace'](/ {2,}/g,'\x20');}else return document[_0x239df6(0x187)]('noti-mess')[_0x239df6(0x16f)]='',inputText[_0x239df6(0x16f)]=_0x239df6(0x160)+_0x2c36df,_0x2c36df;}catch(_0x1600f1){inputText[_0x239df6(0x16f)]=_0x1600f1[_0x239df6(0x177)];throw _0x1600f1;}}async function autoScroll(){var _0x16b40e=inputText['scrollWidth']-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x16b40e||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1af2c9){const _0x193e2b=a0_0x168ab4;var _0x1d7ab6=_0x193e2b(0x16d)+encodeURIComponent(_0x1af2c9);try{const _0x5903f6=await fetch(_0x1d7ab6),_0x44ba50=await _0x5903f6[_0x193e2b(0x17a)]();var _0x261e1a=_0x44ba50[0x8][0x0][0x0];return _0x261e1a;}catch(_0x5f40a6){console[_0x193e2b(0x15c)](_0x193e2b(0x159),_0x5f40a6);throw _0x5f40a6;}}async function transLogic(_0xe38b6a){const _0x2683f0='en';if(_0x2683f0===null){const _0x4a92eb=await detectLanguage(_0xe38b6a),_0x31e39d=await translateText(_0xe38b6a,_0x4a92eb,'en');return translateText(_0x31e39d,'en','vi');}else{if(_0x2683f0==='en')return translateText(_0xe38b6a,'en','vi');else{const _0x541b7d=await translateText(_0xe38b6a,_0x2683f0,'en');return translateText(_0x541b7d,'en','vi');}}}function dataURItoBlob(_0x20db6a){const _0x1833c8=a0_0x168ab4,_0x525501=atob(_0x20db6a),_0x19f147=new ArrayBuffer(_0x525501[_0x1833c8(0x15a)]),_0x572320=new Uint8Array(_0x19f147);for(let _0x295c07=0x0;_0x295c07<_0x525501[_0x1833c8(0x15a)];_0x295c07++){_0x572320[_0x295c07]=_0x525501[_0x1833c8(0x150)](_0x295c07);}return new Blob([_0x19f147],{'type':_0x1833c8(0x174)});}document['addEventListener'](a0_0x168ab4(0x167),function(){const _0x21921f=a0_0x168ab4;ID[_0x21921f(0x17e)](function(_0x3dbff6){const _0x538330=_0x21921f,_0x15cc6f=document[_0x538330(0x187)](_0x3dbff6);_0x15cc6f&&_0x15cc6f['addEventListener'](_0x538330(0x17c),function(){const _0x3d8630=_0x538330;!isFunctionARunning&&turbo[_0x3d8630(0x15b)][_0x3d8630(0x19a)](_0x3d8630(0x18f));});}),[_0x21921f(0x16e)]['forEach'](_0x531ac8=>{turbo['addEventListener'](_0x531ac8,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x531ac8,()=>{const _0x3ef960=a0_0x39ef;areaTrans['classList'][_0x3ef960(0x198)]('visible');});});});