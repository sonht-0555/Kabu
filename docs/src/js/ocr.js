const a0_0x29ae44=a0_0x5791;(function(_0x43ac94,_0x313cf2){const _0x14374d=a0_0x5791,_0x37cf35=_0x43ac94();while(!![]){try{const _0x51c8bb=-parseInt(_0x14374d(0x93))/0x1*(-parseInt(_0x14374d(0xa9))/0x2)+-parseInt(_0x14374d(0x88))/0x3*(-parseInt(_0x14374d(0xaa))/0x4)+-parseInt(_0x14374d(0xcd))/0x5+parseInt(_0x14374d(0xcc))/0x6+-parseInt(_0x14374d(0xa4))/0x7*(parseInt(_0x14374d(0x81))/0x8)+-parseInt(_0x14374d(0xd2))/0x9*(parseInt(_0x14374d(0x9c))/0xa)+parseInt(_0x14374d(0x8f))/0xb*(parseInt(_0x14374d(0x96))/0xc);if(_0x51c8bb===_0x313cf2)break;else _0x37cf35['push'](_0x37cf35['shift']());}catch(_0x581eb1){_0x37cf35['push'](_0x37cf35['shift']());}}}(a0_0x276c,0xec0af));import*as a0_0x56ad9 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x29ae44(0xc2)),turbo=document[a0_0x29ae44(0xb3)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x3a3d2e=a0_0x29ae44;turbo[_0x3a3d2e(0x99)]['add'](_0x3a3d2e(0xa7));try{const _0x4e4ff5=gameName[_0x3a3d2e(0xb8)](/\.(gba|gbc|gb|zip)$/,_0x3a3d2e(0x9a)),_0x22be8b=await a0_0x56ad9[_0x3a3d2e(0xd3)](_0x4e4ff5),_0x4e08ed=new Blob([_0x22be8b],{'type':_0x3a3d2e(0xa5)}),_0xd0cdbc=await new Promise((_0x23a006,_0x6bd2af)=>{const _0x36afd9=_0x3a3d2e,_0x19c5f3=new FileReader();_0x19c5f3[_0x36afd9(0x83)]=()=>_0x23a006(_0x19c5f3['result']),_0x19c5f3[_0x36afd9(0xba)]=_0x6bd2af,_0x19c5f3[_0x36afd9(0x87)](_0x4e08ed);}),_0x39307a=new Image();_0x39307a[_0x3a3d2e(0xa1)]=_0xd0cdbc,_0x39307a[_0x3a3d2e(0x90)]=async()=>{const _0x2f751f=_0x3a3d2e,_0x18d8e8=document['createElement']('canvas'),_0x1a09f6=_0x18d8e8[_0x2f751f(0xb0)]('2d'),_0x16c550=0x4;let _0x2f729b;gameName[_0x2f751f(0xb9)]('.gbc')||gameName[_0x2f751f(0xb9)](_0x2f751f(0xa2))?_0x2f729b=0x3/0x6:_0x2f729b=0x3/0x4;const _0x1b7a6c=localStorage[_0x2f751f(0x91)](gameName+'_setArea')||localStorage[_0x2f751f(0x91)](_0x2f751f(0xb1)),[_0x48dadb,_0x4777e2,_0x495586,_0x5816c7]=_0x1b7a6c[_0x2f751f(0x98)](',')['map'](Number);_0x18d8e8['width']=_0x495586*_0x2f729b*_0x16c550,_0x18d8e8['height']=_0x5816c7*_0x2f729b*_0x16c550,_0x1a09f6[_0x2f751f(0x89)](_0x39307a,_0x48dadb*_0x2f729b,_0x4777e2*_0x2f729b,_0x495586*_0x2f729b,_0x5816c7*_0x2f729b,0x0,0x0,_0x495586*_0x2f729b*_0x16c550,_0x5816c7*_0x2f729b*_0x16c550);const _0x47860f=_0x18d8e8[_0x2f751f(0x82)]('image/png')[_0x2f751f(0x98)](',')[0x1],_0x381323=localStorage['getItem'](_0x2f751f(0xc1));console[_0x2f751f(0xd1)](_0x381323),_0x381323?azureServer(_0x47860f):freeServer(_0x47860f);};}catch(_0x430fcd){inputText[_0x3a3d2e(0xa0)]=_0x430fcd[_0x3a3d2e(0xce)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xb6c98c=_0x3a3d2e;document[_0xb6c98c(0xb3)]('inputText')[_0xb6c98c(0xa0)]='',a0_0x56ad9[_0xb6c98c(0xc5)]('',0x0);},0x7530);}async function freeServer(_0x508dc9){const _0xe562a9=a0_0x29ae44;document[_0xe562a9(0xb3)](_0xe562a9(0x9b))[_0xe562a9(0xa0)]='';let _0xa5458=0x0;const _0x2211db=setInterval(()=>{_0xa5458+=0x1,_0xa5458<=0x64&&(inputText['textContent']='.._\x20'+_0xa5458+'%');},0x64);try{const _0x286069=dataURItoBlob(_0x508dc9),_0x277fd3=new FormData();_0x277fd3[_0xe562a9(0x97)](_0xe562a9(0xb2),_0x286069,_0xe562a9(0xc9)),_0x277fd3[_0xe562a9(0x97)](_0xe562a9(0x9d),_0xe562a9(0x8c));let _0x494e54;try{_0x494e54=await fetch(_0xe562a9(0x9f),{'method':_0xe562a9(0x84),'body':_0x277fd3,'headers':{'Origin':window[_0xe562a9(0xb4)][_0xe562a9(0xb6)],'X-Requested-With':_0xe562a9(0xbc),'User-Agent':navigator['userAgent']}});if(!_0x494e54['ok'])throw new Error(_0xe562a9(0x95)+_0x494e54[_0xe562a9(0x9e)]);}catch(_0x54a60a){console[_0xe562a9(0x8d)](_0xe562a9(0x92)),window['location'][_0xe562a9(0xcb)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x222cb7=await _0x494e54[_0xe562a9(0xad)]();if(_0x222cb7[_0xe562a9(0xc4)]===_0xe562a9(0xbd))throw new Error(_0x222cb7[_0xe562a9(0xbd)]['message']);transLogic(_0x222cb7[_0xe562a9(0xbb)]);}catch(_0x2bd60b){inputText[_0xe562a9(0xa0)]=_0x2bd60b[_0xe562a9(0xce)];}finally{clearInterval(_0x2211db),isFunctionARunning=![];}}function a0_0x276c(){const _0x5ad801=['00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','warn','500\x20Internal\x20Server\x20Error','2071553FslPJc','onload','getItem','Cors-controlers\x20have\x20not\x20been\x20activated.','2NEFuMf','DOMContentLoaded','HTTP\x20Error:\x20','60UGIRsp','append','split','classList','.png','noti-mess','12252940LyZAnS','user','status','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','textContent','src','.gb','map','1204zIBlSi','image/png','code','turbo-ocr','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','602404cLUKSW','3908YgZGko','$1\x20','blocks','json','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','Internal\x20Server\x20Error','getContext','screenSize','image','getElementById','location','trim','origin','visible','replace','endsWith','onerror','text','XMLHttpRequest','error','clientWidth','addEventListener','Error\x20detecting\x20language:','ApiAzure','inputText','scrollWidth','type','notiMessage','length','application/octet-stream','forEach','image.png','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','href','10239564AsLRgT','1103055osFcly','message','readResult','join','log','9JaEaIq','captureOCR','charCodeAt','&tl=','scrollLeft','58920FkrDBE','toDataURL','onloadend','POST','isArray','lines','readAsDataURL','1317kfYvSg','drawImage','&dt=t&q=','.._\x20'];a0_0x276c=function(){return _0x5ad801;};return a0_0x276c();}async function azureServer(_0x11ec1f){const _0x43831f=a0_0x29ae44;document['getElementById'](_0x43831f(0x9b))[_0x43831f(0xa0)]='',inputText[_0x43831f(0xa0)]=_0x43831f(0x8b);const _0x1d1c9f=localStorage['getItem'](_0x43831f(0xc1));let [_0xa8128,_0xf42c59]=_0x1d1c9f[_0x43831f(0x98)](',');try{const _0x564376=await fetch(_0xf42c59+_0x43831f(0xae),{'method':_0x43831f(0x84),'headers':{'Ocp-Apim-Subscription-Key':_0xa8128,'Content-Type':_0x43831f(0xc7)},'body':dataURItoBlob(_0x11ec1f)}),_0x336898=await _0x564376['json']();if(!_0x564376['ok']||_0x336898['type']==='error'){const _0x5aed08=_0x564376['ok']?_0x336898[_0x43831f(0xbd)][_0x43831f(0xce)]:_0x564376[_0x43831f(0x9e)]===0x1f4?_0x43831f(0x8e):(await _0x564376[_0x43831f(0xad)]())[_0x43831f(0xbd)][_0x43831f(0xce)];throw new Error(_0x5aed08);}const _0xe79eca=_0x336898[_0x43831f(0xcf)][_0x43831f(0xac)][0x0],_0x30733f=_0xe79eca[_0x43831f(0x86)]||[],_0x88ce69=_0x30733f['map'](_0x2dab52=>_0x2dab52[_0x43831f(0xbb)])[_0x43831f(0xd0)]('\x0a');transLogic(_0x88ce69);}catch(_0x154ea1){inputText[_0x43831f(0xa0)]=_0x154ea1[_0x43831f(0xce)];}finally{isFunctionARunning=![];}}async function translateText(_0x5e667f,_0xcbf95d,_0x18273f){const _0x543994=a0_0x29ae44,_0x4e287a=_0x5e667f[_0x543994(0xb8)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x543994(0xab))[_0x543994(0xb8)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x543994(0xb8)](/ {2,}/g,'\x20')[_0x543994(0xb5)]();var _0x88aca2=_0x543994(0xca)+_0xcbf95d+_0x543994(0x7f)+_0x18273f+_0x543994(0x8a)+encodeURIComponent(_0x4e287a);try{const _0x285df5=await fetch(_0x88aca2);if(!_0x285df5['ok']){if(_0x285df5[_0x543994(0x9e)]===0x1f4)throw new Error(_0x543994(0xaf));else{const _0x30b968=await _0x285df5[_0x543994(0xad)](),_0x30e791=new Error(_0x30b968[_0x543994(0xbd)]['message']);_0x30e791[_0x543994(0xa6)]=_0x30b968[_0x543994(0xbd)][_0x543994(0xa6)];throw _0x30e791;}}const _0x20806f=await _0x285df5[_0x543994(0xad)]();if(Array[_0x543994(0x85)](_0x20806f)&&_0x20806f[_0x543994(0xc6)]>0x0&&Array[_0x543994(0x85)](_0x20806f[0x0])){var _0x519e5d=_0x20806f[0x0][_0x543994(0xa3)](_0x2d67e9=>_0x2d67e9[0x0])['join']('\x20');return document[_0x543994(0xb3)](_0x543994(0x9b))[_0x543994(0xa0)]='',inputText['textContent']=_0x543994(0x8b)+_0x519e5d[_0x543994(0xb8)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x519e5d[_0x543994(0xb8)](/ {2,}/g,'\x20');}else return document[_0x543994(0xb3)](_0x543994(0x9b))[_0x543994(0xa0)]='',inputText['textContent']=_0x543994(0x8b)+_0x20806f,_0x20806f;}catch(_0x6e83a8){inputText[_0x543994(0xa0)]=_0x6e83a8[_0x543994(0xce)];throw _0x6e83a8;}}async function autoScroll(){const _0x3a425d=a0_0x29ae44;var _0x333dee=inputText[_0x3a425d(0xc3)]-inputText[_0x3a425d(0xbe)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x333dee||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x3a425d(0x80)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}function a0_0x5791(_0x40b351,_0x3c44de){const _0x276c9b=a0_0x276c();return a0_0x5791=function(_0x5791ca,_0x46a40a){_0x5791ca=_0x5791ca-0x7f;let _0x1b16ea=_0x276c9b[_0x5791ca];return _0x1b16ea;},a0_0x5791(_0x40b351,_0x3c44de);}async function detectLanguage(_0x177074){const _0x4286d6=a0_0x29ae44;var _0x97781d=_0x4286d6(0xa8)+encodeURIComponent(_0x177074);try{const _0x1b8a72=await fetch(_0x97781d),_0x4a00a9=await _0x1b8a72['json']();var _0x536ba0=_0x4a00a9[0x8][0x0][0x0];return _0x536ba0;}catch(_0x4f3d88){console[_0x4286d6(0xbd)](_0x4286d6(0xc0),_0x4f3d88);throw _0x4f3d88;}}async function transLogic(_0x280e91){const _0x307f13='en';if(_0x307f13===null){const _0x2f429f=await detectLanguage(_0x280e91),_0x3d8499=await translateText(_0x280e91,_0x2f429f,'en');return translateText(_0x3d8499,'en','vi');}else{if(_0x307f13==='en')return translateText(_0x280e91,'en','vi');else{const _0x4cd593=await translateText(_0x280e91,_0x307f13,'en');return translateText(_0x4cd593,'en','vi');}}}function dataURItoBlob(_0x641855){const _0x353428=a0_0x29ae44,_0x45f548=atob(_0x641855),_0x3927c5=new ArrayBuffer(_0x45f548[_0x353428(0xc6)]),_0x27cf14=new Uint8Array(_0x3927c5);for(let _0x4a1602=0x0;_0x4a1602<_0x45f548['length'];_0x4a1602++){_0x27cf14[_0x4a1602]=_0x45f548[_0x353428(0xd4)](_0x4a1602);}return new Blob([_0x3927c5],{'type':_0x353428(0xa5)});}document['addEventListener'](a0_0x29ae44(0x94),function(){const _0x120311=a0_0x29ae44;ID['forEach'](function(_0x13a8b6){const _0xc8b879=a0_0x5791,_0x43c2a4=document[_0xc8b879(0xb3)](_0x13a8b6);_0x43c2a4&&_0x43c2a4[_0xc8b879(0xbf)]('touchstart',function(){const _0x421591=_0xc8b879;!isFunctionARunning&&turbo[_0x421591(0x99)]['remove'](_0x421591(0xa7));});}),['touchend'][_0x120311(0xc8)](_0x509555=>{const _0x402abe=_0x120311;turbo[_0x402abe(0xbf)](_0x509555,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x509555,()=>{const _0x5daf57=_0x402abe;areaTrans['classList']['toggle'](_0x5daf57(0xb7));});});});