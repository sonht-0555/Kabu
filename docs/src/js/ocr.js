const a0_0x27c5c7=a0_0x39fd;(function(_0x37ecde,_0x259290){const _0x5b5777=a0_0x39fd,_0x48f423=_0x37ecde();while(!![]){try{const _0x550623=parseInt(_0x5b5777(0xe5))/0x1*(parseInt(_0x5b5777(0xca))/0x2)+-parseInt(_0x5b5777(0xde))/0x3+-parseInt(_0x5b5777(0xf4))/0x4*(-parseInt(_0x5b5777(0xd8))/0x5)+-parseInt(_0x5b5777(0xb5))/0x6+parseInt(_0x5b5777(0xf1))/0x7*(parseInt(_0x5b5777(0xfa))/0x8)+-parseInt(_0x5b5777(0xef))/0x9+-parseInt(_0x5b5777(0xbe))/0xa*(parseInt(_0x5b5777(0xae))/0xb);if(_0x550623===_0x259290)break;else _0x48f423['push'](_0x48f423['shift']());}catch(_0x1f6e92){_0x48f423['push'](_0x48f423['shift']());}}}(a0_0x15ff,0x4a542));function a0_0x15ff(){const _0x21152f=['replace','image','readResult','forEach','width','log','href','textContent','50590mhyoKl','endsWith','readAsDataURL','notiMessage','location','message','application/octet-stream','getContext','turbo-ocr','touchstart','toDataURL','origin','4kmvCWa','Error\x20detecting\x20language:','text','result','remove','ApiAzure','onerror','$1\x20','captureOCR','HTTP\x20Error:\x20','classList','image/png','map','drawImage','305RZYNDA','append','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','status','&dt=t&q=','https://cors-anywhere.herokuapp.com/corsdemo','1568814ipFBHu','code','scrollWidth','isArray','add','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','getItem','230370GbOvWZ','noti-mess','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','toggle','height','DOMContentLoaded','lines','createElement','clientWidth','Cors-controlers\x20have\x20not\x20been\x20activated.','3912831lYyFVk','json','578137DqANmd','XMLHttpRequest','charCodeAt','34852TSrfoE','_setArea','error','Internal\x20Server\x20Error','image.png','trim','56JbhmAV','canvas','screenSize','touchend','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','addEventListener','getElementById','.._\x20','scrollLeft','split','join','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','121FHWSJx','POST','.gbc','length','user','type','inputText','1515444ALgqXw'];a0_0x15ff=function(){return _0x21152f;};return a0_0x15ff();}import*as a0_0x48e3a5 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x27c5c7(0xa8)]('inputText'),turbo=document['getElementById']('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x48914b=a0_0x27c5c7;turbo[_0x48914b(0xd4)][_0x48914b(0xe2)](_0x48914b(0xc6));try{const _0x2bf73e=gameName[_0x48914b(0xb6)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x14ea57=await a0_0x48e3a5[_0x48914b(0xd2)](_0x2bf73e),_0x223649=new Blob([_0x14ea57],{'type':'image/png'}),_0x1d89f9=await new Promise((_0x54d7cd,_0x4fdf8a)=>{const _0x11e0ee=_0x48914b,_0x2e8f5e=new FileReader();_0x2e8f5e['onloadend']=()=>_0x54d7cd(_0x2e8f5e[_0x11e0ee(0xcd)]),_0x2e8f5e[_0x11e0ee(0xd0)]=_0x4fdf8a,_0x2e8f5e[_0x11e0ee(0xc0)](_0x223649);}),_0x5a54d8=new Image();_0x5a54d8['src']=_0x1d89f9,_0x5a54d8['onload']=async()=>{const _0x10d71c=_0x48914b,_0x28f08e=document[_0x10d71c(0xec)](_0x10d71c(0xa3)),_0x2c9e2e=_0x28f08e[_0x10d71c(0xc5)]('2d'),_0x48cc54=0x4;let _0x2c3598;gameName[_0x10d71c(0xbf)](_0x10d71c(0xb0))||gameName['endsWith']('.gb')?_0x2c3598=0x3/0x6:_0x2c3598=0x3/0x4;const _0x410dcb=localStorage[_0x10d71c(0xe4)](gameName+_0x10d71c(0xf5))||localStorage[_0x10d71c(0xe4)](_0x10d71c(0xa4)),[_0x4e7737,_0x437896,_0x48114f,_0x5a0c25]=_0x410dcb[_0x10d71c(0xab)](',')[_0x10d71c(0xd6)](Number);_0x28f08e[_0x10d71c(0xba)]=_0x48114f*_0x2c3598*_0x48cc54,_0x28f08e[_0x10d71c(0xe9)]=_0x5a0c25*_0x2c3598*_0x48cc54,_0x2c9e2e[_0x10d71c(0xd7)](_0x5a54d8,_0x4e7737*_0x2c3598,_0x437896*_0x2c3598,_0x48114f*_0x2c3598,_0x5a0c25*_0x2c3598,0x0,0x0,_0x48114f*_0x2c3598*_0x48cc54,_0x5a0c25*_0x2c3598*_0x48cc54);const _0x37db05=_0x28f08e[_0x10d71c(0xc8)](_0x10d71c(0xd5))[_0x10d71c(0xab)](',')[0x1],_0x43a3a9=localStorage[_0x10d71c(0xe4)](_0x10d71c(0xcf));console[_0x10d71c(0xbb)](_0x43a3a9),_0x43a3a9?azureServer(_0x37db05):freeServer(_0x37db05);};}catch(_0x514eca){inputText['textContent']=_0x514eca[_0x48914b(0xc3)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3c0c0c=_0x48914b;document[_0x3c0c0c(0xa8)](_0x3c0c0c(0xb4))[_0x3c0c0c(0xbd)]='',a0_0x48e3a5[_0x3c0c0c(0xc1)]('',0x0);},0x7530);}async function freeServer(_0x5a26e8){const _0x241668=a0_0x27c5c7;document[_0x241668(0xa8)](_0x241668(0xe6))[_0x241668(0xbd)]='';let _0x36a80f=0x0;const _0x21e167=setInterval(()=>{const _0xa15c28=_0x241668;_0x36a80f+=0x1,_0x36a80f<=0x64&&(inputText[_0xa15c28(0xbd)]='.._\x20'+_0x36a80f+'%');},0x64);try{const _0x267324=dataURItoBlob(_0x5a26e8),_0x530aed=new FormData();_0x530aed[_0x241668(0xd9)](_0x241668(0xb7),_0x267324,_0x241668(0xf8)),_0x530aed[_0x241668(0xd9)](_0x241668(0xb2),_0x241668(0xe7));let _0x33c773;try{_0x33c773=await fetch(_0x241668(0xad),{'method':_0x241668(0xaf),'body':_0x530aed,'headers':{'Origin':window[_0x241668(0xc2)][_0x241668(0xc9)],'X-Requested-With':_0x241668(0xf2),'User-Agent':navigator['userAgent']}});if(!_0x33c773['ok'])throw new Error(_0x241668(0xd3)+_0x33c773['status']);}catch(_0x2b3da6){console['warn'](_0x241668(0xee)),window['location'][_0x241668(0xbc)]=_0x241668(0xdd);return;}const _0xc8f9a9=await _0x33c773['json']();if(_0xc8f9a9['type']===_0x241668(0xf6))throw new Error(_0xc8f9a9[_0x241668(0xf6)][_0x241668(0xc3)]);transLogic(_0xc8f9a9[_0x241668(0xcc)]);}catch(_0x2f47e2){inputText[_0x241668(0xbd)]=_0x2f47e2['message'];}finally{clearInterval(_0x21e167),isFunctionARunning=![];}}async function azureServer(_0x53f836){const _0x12483a=a0_0x27c5c7;document[_0x12483a(0xa8)]('noti-mess')['textContent']='',inputText[_0x12483a(0xbd)]=_0x12483a(0xa9);const _0x74fdeb=localStorage[_0x12483a(0xe4)](_0x12483a(0xcf));let [_0x3f68c1,_0x3ba051]=_0x74fdeb[_0x12483a(0xab)](',');try{const _0x249a0f=await fetch(_0x3ba051+_0x12483a(0xa6),{'method':_0x12483a(0xaf),'headers':{'Ocp-Apim-Subscription-Key':_0x3f68c1,'Content-Type':_0x12483a(0xc4)},'body':dataURItoBlob(_0x53f836)}),_0x55c85d=await _0x249a0f['json']();if(!_0x249a0f['ok']||_0x55c85d[_0x12483a(0xb3)]===_0x12483a(0xf6)){const _0x5d1ca8=_0x249a0f['ok']?_0x55c85d[_0x12483a(0xf6)][_0x12483a(0xc3)]:_0x249a0f[_0x12483a(0xdb)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x249a0f[_0x12483a(0xf0)]())['error'][_0x12483a(0xc3)];throw new Error(_0x5d1ca8);}const _0x5e7d8e=_0x55c85d[_0x12483a(0xb8)]['blocks'][0x0],_0x4afdfe=_0x5e7d8e[_0x12483a(0xeb)]||[],_0x1fd677=_0x4afdfe[_0x12483a(0xd6)](_0x39bd87=>_0x39bd87[_0x12483a(0xcc)])[_0x12483a(0xac)]('\x0a');transLogic(_0x1fd677);}catch(_0x4bc108){inputText[_0x12483a(0xbd)]=_0x4bc108[_0x12483a(0xc3)];}finally{isFunctionARunning=![];}}async function translateText(_0x311b32,_0x15fa82,_0x155a42){const _0x256db2=a0_0x27c5c7,_0x474431=_0x311b32[_0x256db2(0xb6)](/[\r\n]+/g,',\x20')[_0x256db2(0xb6)](/([!?.,])\s*,\s*/g,_0x256db2(0xd1))[_0x256db2(0xb6)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x256db2(0xb6)](/ {2,}/g,'\x20')[_0x256db2(0xf9)]();var _0x1efd6e=_0x256db2(0xe3)+_0x15fa82+'&tl='+_0x155a42+_0x256db2(0xdc)+encodeURIComponent(_0x474431);try{const _0x2a16c5=await fetch(_0x1efd6e);if(!_0x2a16c5['ok']){if(_0x2a16c5['status']===0x1f4)throw new Error(_0x256db2(0xf7));else{const _0x4789a7=await _0x2a16c5[_0x256db2(0xf0)](),_0x437ae7=new Error(_0x4789a7[_0x256db2(0xf6)]['message']);_0x437ae7[_0x256db2(0xdf)]=_0x4789a7[_0x256db2(0xf6)][_0x256db2(0xdf)];throw _0x437ae7;}}const _0x1bbd9e=await _0x2a16c5['json']();if(Array[_0x256db2(0xe1)](_0x1bbd9e)&&_0x1bbd9e[_0x256db2(0xb1)]>0x0&&Array[_0x256db2(0xe1)](_0x1bbd9e[0x0])){var _0x5bb8cf=_0x1bbd9e[0x0][_0x256db2(0xd6)](_0x21a717=>_0x21a717[0x0])[_0x256db2(0xac)]('\x20');return document[_0x256db2(0xa8)](_0x256db2(0xe6))['textContent']='',inputText[_0x256db2(0xbd)]=_0x256db2(0xa9)+_0x5bb8cf['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x5bb8cf[_0x256db2(0xb6)](/ {2,}/g,'\x20');}else return document[_0x256db2(0xa8)](_0x256db2(0xe6))[_0x256db2(0xbd)]='',inputText[_0x256db2(0xbd)]=_0x256db2(0xa9)+_0x1bbd9e,_0x1bbd9e;}catch(_0x5baaec){inputText['textContent']=_0x5baaec[_0x256db2(0xc3)];throw _0x5baaec;}}async function autoScroll(){const _0x441c18=a0_0x27c5c7;var _0x274434=inputText[_0x441c18(0xe0)]-inputText[_0x441c18(0xed)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x274434||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x441c18(0xaa)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x75378f){const _0x4f2b69=a0_0x27c5c7;var _0x5a219a=_0x4f2b69(0xda)+encodeURIComponent(_0x75378f);try{const _0x41e6c2=await fetch(_0x5a219a),_0x25133a=await _0x41e6c2[_0x4f2b69(0xf0)]();var _0x161c2c=_0x25133a[0x8][0x0][0x0];return _0x161c2c;}catch(_0x5c95e0){console['error'](_0x4f2b69(0xcb),_0x5c95e0);throw _0x5c95e0;}}async function transLogic(_0x4aeded){const _0x5606d0='en';if(_0x5606d0===null){const _0x4e88ca=await detectLanguage(_0x4aeded),_0x15c975=await translateText(_0x4aeded,_0x4e88ca,'en');return translateText(_0x15c975,'en','vi');}else{if(_0x5606d0==='en')return translateText(_0x4aeded,'en','vi');else{const _0x320a7b=await translateText(_0x4aeded,_0x5606d0,'en');return translateText(_0x320a7b,'en','vi');}}}function dataURItoBlob(_0x104fe0){const _0x572f50=a0_0x27c5c7,_0x52d825=atob(_0x104fe0),_0x495849=new ArrayBuffer(_0x52d825[_0x572f50(0xb1)]),_0x5e7a5b=new Uint8Array(_0x495849);for(let _0x4d9f61=0x0;_0x4d9f61<_0x52d825[_0x572f50(0xb1)];_0x4d9f61++){_0x5e7a5b[_0x4d9f61]=_0x52d825[_0x572f50(0xf3)](_0x4d9f61);}return new Blob([_0x495849],{'type':_0x572f50(0xd5)});}function a0_0x39fd(_0x332da4,_0x521687){const _0x15ff11=a0_0x15ff();return a0_0x39fd=function(_0x39fdbd,_0x22899b){_0x39fdbd=_0x39fdbd-0xa3;let _0x5d5581=_0x15ff11[_0x39fdbd];return _0x5d5581;},a0_0x39fd(_0x332da4,_0x521687);}document[a0_0x27c5c7(0xa7)](a0_0x27c5c7(0xea),function(){const _0x129093=a0_0x27c5c7;ID[_0x129093(0xb9)](function(_0x208d9e){const _0xe18aac=_0x129093,_0xc8e532=document[_0xe18aac(0xa8)](_0x208d9e);_0xc8e532&&_0xc8e532[_0xe18aac(0xa7)](_0xe18aac(0xc7),function(){const _0x2b3eea=_0xe18aac;!isFunctionARunning&&turbo[_0x2b3eea(0xd4)][_0x2b3eea(0xce)]('turbo-ocr');});}),[_0x129093(0xa5)][_0x129093(0xb9)](_0x1c26f2=>{const _0x5567d9=_0x129093;turbo[_0x5567d9(0xa7)](_0x1c26f2,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x5567d9(0xa7)](_0x1c26f2,()=>{const _0x4ff1d8=_0x5567d9;areaTrans['classList'][_0x4ff1d8(0xe8)]('visible');});});});