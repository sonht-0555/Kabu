const a0_0xb7a77=a0_0x2501;function a0_0x3b2a(){const _0x4e9a95=['notiMessage','map','2799192xwKBfV','onload','src','forEach','image.png','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','lastSavedDate','&tl=','image','1146jwfkCm','CORS-Anywhere\x20chưa\x20được\x20kích\x20hoạt.\x20Mở\x20/corsdemo...','origin','getFullYear','...','input-container','visible',']\x20Times\x20Azure','textContent','text','warn','canvas','500\x20Internal\x20Server\x20Error','touchstart','replace','lines','message','setItem','scrollLeft','image/png','href','turbo-ocr','drawImage','addEventListener','2057187TbXOCy','backgroundPositionX','_setArea','getItem','status','7391408crFCgx','type','XMLHttpRequest','331604hzhzVE','code','Waiting..','json','scrollWidth','ApiAzure','.png','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','length','toDataURL','inputText','toISOString','endsWith','isArray','HTTP\x20Error:\x20','.gb','onerror','trim','round','Error\x20detecting\x20language:','style','Internal\x20Server\x20Error','logoOcr','https://cors-anywhere.herokuapp.com/corsdemo','width','innerWidth','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','20657gEjtWx','151450erphvV','append','getContext','readAsDataURL','add','join','error','floor','2066090aULYdS','getElementById','DOMContentLoaded','getMonth','toggle','random','remove','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','classList'];a0_0x3b2a=function(){return _0x4e9a95;};return a0_0x3b2a();}(function(_0x53c4e6,_0x3a3dba){const _0x135d8a=a0_0x2501,_0x3cf3ae=_0x53c4e6();while(!![]){try{const _0x5a740b=-parseInt(_0x135d8a(0x1e4))/0x1+-parseInt(_0x135d8a(0x220))/0x2+parseInt(_0x135d8a(0x218))/0x3+-parseInt(_0x135d8a(0x1f7))/0x4+parseInt(_0x135d8a(0x1ec))/0x5+parseInt(_0x135d8a(0x200))/0x6*(-parseInt(_0x135d8a(0x1e3))/0x7)+parseInt(_0x135d8a(0x21d))/0x8;if(_0x5a740b===_0x3a3dba)break;else _0x3cf3ae['push'](_0x3cf3ae['shift']());}catch(_0x5541e5){_0x3cf3ae['push'](_0x3cf3ae['shift']());}}}(a0_0x3b2a,0x6bf46));import*as a0_0x4ee706 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];function a0_0x2501(_0x16fda7,_0x2d396b){const _0x3b2a99=a0_0x3b2a();return a0_0x2501=function(_0x250143,_0x40eb1e){_0x250143=_0x250143-0x1c9;let _0x4e0e27=_0x3b2a99[_0x250143];return _0x4e0e27;},a0_0x2501(_0x16fda7,_0x2d396b);}var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0xb7a77(0x1ed)](a0_0xb7a77(0x1d2)),input=document[a0_0xb7a77(0x1ed)](a0_0xb7a77(0x205)),turbo=document['getElementById']('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x7c2f1=a0_0xb7a77;turbo[_0x7c2f1(0x1f4)][_0x7c2f1(0x1e8)]('turbo-ocr');try{const _0x42b57a=gameName[_0x7c2f1(0x20e)](/\.(gba|gbc|gb|zip)$/,_0x7c2f1(0x1ce)),_0x7d2ffb=await a0_0x4ee706['captureOCR'](_0x42b57a),_0x3c0fd0=new Blob([_0x7d2ffb],{'type':_0x7c2f1(0x213)}),_0x452eb0=await new Promise((_0x55ea41,_0x3691b4)=>{const _0x4987c7=_0x7c2f1,_0x8d237f=new FileReader();_0x8d237f['onloadend']=()=>_0x55ea41(_0x8d237f['result']),_0x8d237f[_0x4987c7(0x1d8)]=_0x3691b4,_0x8d237f[_0x4987c7(0x1e7)](_0x3c0fd0);}),_0xc47f63=new Image();_0xc47f63[_0x7c2f1(0x1f9)]=_0x452eb0,_0xc47f63[_0x7c2f1(0x1f8)]=()=>{const _0x2e70f1=_0x7c2f1,_0x575475=document['createElement'](_0x2e70f1(0x20b)),_0x16d09d=_0x575475[_0x2e70f1(0x1e6)]('2d'),_0x19163b=0x4;let _0x2cb51b;gameName['endsWith']('.gbc')||gameName[_0x2e70f1(0x1d4)](_0x2e70f1(0x1d7))?_0x2cb51b=Math[_0x2e70f1(0x1da)](0xa0/(window['innerWidth']-0xe6)):_0x2cb51b=Math['round'](0xf0/(window[_0x2e70f1(0x1e1)]-0x96));const _0x5be0bd=localStorage['getItem'](gameName+_0x2e70f1(0x21a))||localStorage[_0x2e70f1(0x21b)]('screenSize'),[_0x155393,_0x461484,_0x6260f4,_0x1454b2]=_0x5be0bd['split'](',')[_0x2e70f1(0x1f6)](Number);_0x575475[_0x2e70f1(0x1e0)]=_0x6260f4*_0x2cb51b*_0x19163b,_0x575475['height']=_0x1454b2*_0x2cb51b*_0x19163b,_0x16d09d[_0x2e70f1(0x216)](_0xc47f63,_0x155393*_0x2cb51b,_0x461484*_0x2cb51b,_0x6260f4*_0x2cb51b,_0x1454b2*_0x2cb51b,0x0,0x0,_0x6260f4*_0x2cb51b*_0x19163b,_0x1454b2*_0x2cb51b*_0x19163b);const _0x512ba9=_0x575475[_0x2e70f1(0x1d1)]('image/png')['split'](',')[0x1],_0x481865=localStorage[_0x2e70f1(0x21b)](_0x2e70f1(0x1cd));_0x481865?azureServer(_0x512ba9):freeServer(_0x512ba9);};}catch(_0x27c05b){inputText['textContent']=_0x27c05b[_0x7c2f1(0x210)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xe9f2bb=_0x7c2f1;document[_0xe9f2bb(0x1ed)](_0xe9f2bb(0x1d2))['textContent']=_0xe9f2bb(0x204);},0x7530);}async function freeServer(_0x1d9a4b){const _0x300248=a0_0xb7a77;let _0x5dbb24=0x0;const _0x41d6a6=setInterval(()=>{const _0x5ab747=a0_0x2501;_0x5dbb24+=0x1,_0x5dbb24<=0x64&&(inputText['textContent']=_0x5ab747(0x1ca)+_0x5dbb24+'%');},0x64);try{const _0xc1c1ea=dataURItoBlob(_0x1d9a4b),_0x35fef3=new FormData();_0x35fef3[_0x300248(0x1e5)](_0x300248(0x1ff),_0xc1c1ea,_0x300248(0x1fb)),_0x35fef3[_0x300248(0x1e5)]('user','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x2f892c;try{_0x2f892c=await fetch(_0x300248(0x1f3),{'method':'POST','body':_0x35fef3,'headers':{'Origin':window['location'][_0x300248(0x202)],'X-Requested-With':_0x300248(0x21f),'User-Agent':navigator['userAgent']}});if(!_0x2f892c['ok'])throw new Error(_0x300248(0x1d6)+_0x2f892c[_0x300248(0x21c)]);}catch(_0x11dc8b){console[_0x300248(0x20a)](_0x300248(0x201)),window['location'][_0x300248(0x214)]=_0x300248(0x1df);return;}const _0x3768f7=await _0x2f892c[_0x300248(0x1cb)]();if(_0x3768f7[_0x300248(0x21e)]===_0x300248(0x1ea))throw new Error(_0x3768f7['error'][_0x300248(0x210)]);transLogic(_0x3768f7[_0x300248(0x209)]);}catch(_0x1d1c54){inputText[_0x300248(0x208)]=_0x1d1c54[_0x300248(0x210)];}finally{clearInterval(_0x41d6a6),isFunctionARunning=![];}}async function azureServer(_0x44fd4b){const _0x5d1cf7=a0_0xb7a77;inputText['textContent']=_0x5d1cf7(0x204);const _0x36fa0a=localStorage[_0x5d1cf7(0x21b)](_0x5d1cf7(0x1cd));let [_0x35423f,_0x5bdc66,_0x59cfb8]=_0x36fa0a['split'](',');_0x59cfb8=parseInt(_0x59cfb8);const _0x857399=new Date(),_0x5134f1=_0x857399[_0x5d1cf7(0x1ef)](),_0x5c2bb2=_0x857399[_0x5d1cf7(0x203)](),_0x112d1=localStorage[_0x5d1cf7(0x21b)]('lastSavedDate'),_0x53f64c=_0x112d1?new Date(_0x112d1):null;_0x53f64c&&(_0x5134f1!==_0x53f64c[_0x5d1cf7(0x1ef)]()||_0x5c2bb2!==_0x53f64c['getFullYear']())&&(_0x59cfb8=0x0,localStorage[_0x5d1cf7(0x211)](_0x5d1cf7(0x1fd),_0x857399[_0x5d1cf7(0x1d3)]()));if(_0x59cfb8>=0x1356){inputText['textContent']=_0x5d1cf7(0x1fc);return;}try{const _0x1ede48=await fetch(_0x5bdc66+_0x5d1cf7(0x1e2),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x35423f,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x44fd4b)}),_0x2764dd=await _0x1ede48[_0x5d1cf7(0x1cb)]();if(!_0x1ede48['ok']||_0x2764dd['type']===_0x5d1cf7(0x1ea)){const _0x578635=_0x1ede48['ok']?_0x2764dd[_0x5d1cf7(0x1ea)][_0x5d1cf7(0x210)]:_0x1ede48['status']===0x1f4?_0x5d1cf7(0x20c):(await _0x1ede48[_0x5d1cf7(0x1cb)]())[_0x5d1cf7(0x1ea)][_0x5d1cf7(0x210)];throw new Error(_0x578635);}const _0x501683=_0x2764dd['readResult']['blocks'][0x0],_0x351e16=_0x501683[_0x5d1cf7(0x20f)]||[],_0x26b8aa=_0x351e16[_0x5d1cf7(0x1f6)](_0x2bc43c=>_0x2bc43c['text'])[_0x5d1cf7(0x1e9)]('\x0a');transLogic(_0x26b8aa);}catch(_0x46a2a8){inputText[_0x5d1cf7(0x208)]=_0x46a2a8['message'];const _0x43dbbf=++_0x59cfb8;a0_0x4ee706[_0x5d1cf7(0x1f5)]('['+_0x43dbbf+_0x5d1cf7(0x207),0x7d0),localStorage[_0x5d1cf7(0x211)]('ApiAzure',_0x35423f+','+_0x5bdc66+','+_0x43dbbf),localStorage[_0x5d1cf7(0x211)](_0x5d1cf7(0x1fd),_0x857399[_0x5d1cf7(0x1d3)]());}finally{const _0x1658b9=++_0x59cfb8;a0_0x4ee706[_0x5d1cf7(0x1f5)]('['+_0x1658b9+_0x5d1cf7(0x207),0x7d0),isFunctionARunning=![],localStorage[_0x5d1cf7(0x211)](_0x5d1cf7(0x1cd),_0x35423f+','+_0x5bdc66+','+_0x1658b9),localStorage[_0x5d1cf7(0x211)](_0x5d1cf7(0x1fd),_0x857399['toISOString']());}}async function translateText(_0x2178b1,_0x37e5e3,_0x90ff37){const _0x2ccc29=a0_0xb7a77,_0x3e4a22=_0x2178b1[_0x2ccc29(0x20e)](/[\r\n]+/g,',\x20')[_0x2ccc29(0x20e)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x2ccc29(0x20e)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x2ccc29(0x20e)](/ {2,}/g,'\x20')[_0x2ccc29(0x1d9)]();var _0x43bb4c=_0x2ccc29(0x1cf)+_0x37e5e3+_0x2ccc29(0x1fe)+_0x90ff37+'&dt=t&q='+encodeURIComponent(_0x3e4a22);try{const _0x36e61b=await fetch(_0x43bb4c);if(!_0x36e61b['ok']){if(_0x36e61b[_0x2ccc29(0x21c)]===0x1f4)throw new Error(_0x2ccc29(0x1dd));else{const _0x4c3ded=await _0x36e61b[_0x2ccc29(0x1cb)](),_0x4d59e6=new Error(_0x4c3ded[_0x2ccc29(0x1ea)][_0x2ccc29(0x210)]);_0x4d59e6[_0x2ccc29(0x1c9)]=_0x4c3ded[_0x2ccc29(0x1ea)][_0x2ccc29(0x1c9)];throw _0x4d59e6;}}const _0x478ea3=await _0x36e61b[_0x2ccc29(0x1cb)]();if(Array[_0x2ccc29(0x1d5)](_0x478ea3)&&_0x478ea3['length']>0x0&&Array[_0x2ccc29(0x1d5)](_0x478ea3[0x0])){var _0x13aeb8=_0x478ea3[0x0]['map'](_0x4b4ea9=>_0x4b4ea9[0x0])[_0x2ccc29(0x1e9)]('\x20');return inputText[_0x2ccc29(0x208)]=_0x13aeb8['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x13aeb8[_0x2ccc29(0x20e)](/ {2,}/g,'\x20');}else return inputText[_0x2ccc29(0x208)]=_0x478ea3,_0x478ea3;}catch(_0x447153){inputText[_0x2ccc29(0x208)]=_0x447153[_0x2ccc29(0x210)];throw _0x447153;}}async function autoScroll(){const _0xd0391a=a0_0xb7a77;var _0x4b8109=inputText[_0xd0391a(0x1cc)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x4b8109||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0xd0391a(0x212)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x16d369){const _0x57bca8=a0_0xb7a77;var _0x5f27ff='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x16d369);try{const _0x563d04=await fetch(_0x5f27ff),_0x561d95=await _0x563d04[_0x57bca8(0x1cb)]();var _0x552213=_0x561d95[0x8][0x0][0x0];return _0x552213;}catch(_0x1d70d6){console[_0x57bca8(0x1ea)](_0x57bca8(0x1db),_0x1d70d6);throw _0x1d70d6;}}async function transLogic(_0x37e5d0){const _0x423336='en';if(_0x423336===null){const _0x3cdc9c=await detectLanguage(_0x37e5d0),_0x5c004f=await translateText(_0x37e5d0,_0x3cdc9c,'en');return translateText(_0x5c004f,'en','vi');}else{if(_0x423336==='en')return translateText(_0x37e5d0,'en','vi');else{const _0x2acea3=await translateText(_0x37e5d0,_0x423336,'en');return translateText(_0x2acea3,'en','vi');}}}function dataURItoBlob(_0x437efd){const _0x2cedda=a0_0xb7a77,_0x2cdba4=atob(_0x437efd),_0x47211f=new ArrayBuffer(_0x2cdba4[_0x2cedda(0x1d0)]),_0x481cfd=new Uint8Array(_0x47211f);for(let _0xf9be98=0x0;_0xf9be98<_0x2cdba4['length'];_0xf9be98++){_0x481cfd[_0xf9be98]=_0x2cdba4['charCodeAt'](_0xf9be98);}return new Blob([_0x47211f],{'type':_0x2cedda(0x213)});}function logoOcr(){const _0x22315d=a0_0xb7a77;var _0x447034=Math[_0x22315d(0x1eb)](Math[_0x22315d(0x1f1)]()*0x3)+0x1,_0x2bf745=-0xf*_0x447034+'px';document['getElementById'](_0x22315d(0x1de))[_0x22315d(0x1dc)][_0x22315d(0x219)]=_0x2bf745;}document[a0_0xb7a77(0x217)](a0_0xb7a77(0x1ee),function(){const _0x1c753f=a0_0xb7a77;ID[_0x1c753f(0x1fa)](function(_0x5479c9){const _0x3ba964=_0x1c753f,_0x550ace=document[_0x3ba964(0x1ed)](_0x5479c9);_0x550ace&&_0x550ace['addEventListener'](_0x3ba964(0x20d),function(){const _0x5eb1dd=_0x3ba964;!isFunctionARunning&&turbo[_0x5eb1dd(0x1f4)][_0x5eb1dd(0x1f2)](_0x5eb1dd(0x215));});}),['touchend'][_0x1c753f(0x1fa)](_0x2f58a7=>{const _0x39ccf2=_0x1c753f;turbo[_0x39ccf2(0x217)](_0x2f58a7,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x39ccf2(0x217)](_0x2f58a7,()=>{const _0x3623ee=_0x39ccf2;areaTrans[_0x3623ee(0x1f4)][_0x3623ee(0x1f0)](_0x3623ee(0x206));});});});