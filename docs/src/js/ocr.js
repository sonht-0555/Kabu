function a0_0x2d31(){const _0x59eb1e=['image.png','noti-mess','charCodeAt','Cors-controlers\x20have\x20not\x20been\x20activated.','onerror','image/png','blocks','turbo-ocr','width','15256730XtaHPU','504tdJjYy','1042020matiSL','forEach','.png','inputText','status','getElementById','Internal\x20Server\x20Error','drawImage','userAgent','55226bSqjSK','$1\x20','.._\x20','112TZLbPo','getContext','screenSize','textContent','readResult','text','add','scrollWidth','toDataURL','addEventListener','length','POST','370876YscRTD','.gb','createElement','5854105jaXWya','map','append','readAsDataURL','code','src','6ZDOakg','touchend','join','warn','2667714DiEdkz','split','DOMContentLoaded','getItem','log','message','turbo','trim','784574GByrlQ','&tl=','remove','HTTP\x20Error:\x20','location','application/octet-stream','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','type','ApiAzure','canvas','endsWith','&dt=t&q=','classList','json','Error\x20detecting\x20language:','href','9CwCsYg','error','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','11ijWzNW','captureOCR','clientWidth','user','visible','notiMessage','height','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','replace'];a0_0x2d31=function(){return _0x59eb1e;};return a0_0x2d31();}const a0_0x136ca9=a0_0x57fd;(function(_0x40b82d,_0x3d62c8){const _0xfc10a2=a0_0x57fd,_0x49fb93=_0x40b82d();while(!![]){try{const _0x33546b=parseInt(_0xfc10a2(0xea))/0x1*(-parseInt(_0xfc10a2(0x107))/0x2)+parseInt(_0xfc10a2(0xce))/0x3+-parseInt(_0xfc10a2(0xfe))/0x4+-parseInt(_0xfc10a2(0x119))/0x5*(parseInt(_0xfc10a2(0x11f))/0x6)+parseInt(_0xfc10a2(0xd6))/0x7*(parseInt(_0xfc10a2(0x10a))/0x8)+-parseInt(_0xfc10a2(0xe7))/0x9*(-parseInt(_0xfc10a2(0xfc))/0xa)+-parseInt(_0xfc10a2(0x116))/0xb*(parseInt(_0xfc10a2(0xfd))/0xc);if(_0x33546b===_0x3d62c8)break;else _0x49fb93['push'](_0x49fb93['shift']());}catch(_0x284b1c){_0x49fb93['push'](_0x49fb93['shift']());}}}(a0_0x2d31,0xcb596));import*as a0_0x32e260 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x57fd(_0x390c21,_0xc3149a){const _0x2d312d=a0_0x2d31();return a0_0x57fd=function(_0x57fd16,_0x453b7c){_0x57fd16=_0x57fd16-0xce;let _0x582e36=_0x2d312d[_0x57fd16];return _0x582e36;},a0_0x57fd(_0x390c21,_0xc3149a);}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x136ca9(0x103)](a0_0x136ca9(0x101)),turbo=document[a0_0x136ca9(0x103)](a0_0x136ca9(0xd4)),ID=['A','B','R','L'];async function getImage(){const _0x1c8cba=a0_0x136ca9;turbo[_0x1c8cba(0xe3)][_0x1c8cba(0x110)]('turbo-ocr');try{const _0x149e49=gameName[_0x1c8cba(0xf2)](/\.(gba|gbc|gb|zip)$/,_0x1c8cba(0x100)),_0x203f14=await a0_0x32e260[_0x1c8cba(0xeb)](_0x149e49),_0x3fa4a2=new Blob([_0x203f14],{'type':_0x1c8cba(0xf8)}),_0x566c4e=await new Promise((_0x2b5c02,_0x4c9a72)=>{const _0x24d525=_0x1c8cba,_0x787ede=new FileReader();_0x787ede['onloadend']=()=>_0x2b5c02(_0x787ede['result']),_0x787ede[_0x24d525(0xf7)]=_0x4c9a72,_0x787ede[_0x24d525(0x11c)](_0x3fa4a2);}),_0x1b84da=new Image();_0x1b84da[_0x1c8cba(0x11e)]=_0x566c4e,_0x1b84da['onload']=async()=>{const _0x2118cb=_0x1c8cba,_0x3e0892=document[_0x2118cb(0x118)](_0x2118cb(0xe0)),_0x2fbe6a=_0x3e0892[_0x2118cb(0x10b)]('2d'),_0x55400e=0x4;let _0x576bb2;gameName['endsWith']('.gbc')||gameName[_0x2118cb(0xe1)](_0x2118cb(0x117))?_0x576bb2=0x3/0x6:_0x576bb2=0x3/0x4;const _0x2dc6d2=localStorage[_0x2118cb(0xd1)](gameName+'_setArea')||localStorage[_0x2118cb(0xd1)](_0x2118cb(0x10c)),[_0x3eff17,_0x3ef5b7,_0x5584c6,_0x2b52df]=_0x2dc6d2['split'](',')[_0x2118cb(0x11a)](Number);_0x3e0892[_0x2118cb(0xfb)]=_0x5584c6*_0x576bb2*_0x55400e,_0x3e0892[_0x2118cb(0xf0)]=_0x2b52df*_0x576bb2*_0x55400e,_0x2fbe6a[_0x2118cb(0x105)](_0x1b84da,_0x3eff17*_0x576bb2,_0x3ef5b7*_0x576bb2,_0x5584c6*_0x576bb2,_0x2b52df*_0x576bb2,0x0,0x0,_0x5584c6*_0x576bb2*_0x55400e,_0x2b52df*_0x576bb2*_0x55400e);const _0x4c93a0=_0x3e0892[_0x2118cb(0x112)](_0x2118cb(0xf8))[_0x2118cb(0xcf)](',')[0x1],_0x26863a=localStorage['getItem']('ApiAzure');console[_0x2118cb(0xd2)](_0x26863a),_0x26863a?azureServer(_0x4c93a0):freeServer(_0x4c93a0);};}catch(_0x1630f4){inputText['textContent']=_0x1630f4['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x86a7b=_0x1c8cba;document[_0x86a7b(0x103)]('inputText')['textContent']='',a0_0x32e260[_0x86a7b(0xef)]('',0x0);},0x7530);}async function freeServer(_0x1797c9){const _0x4798ee=a0_0x136ca9;document['getElementById'](_0x4798ee(0xf4))[_0x4798ee(0x10d)]='';let _0x277897=0x0;const _0x5e2efc=setInterval(()=>{const _0x266135=_0x4798ee;_0x277897+=0x1,_0x277897<=0x64&&(inputText[_0x266135(0x10d)]='.._\x20'+_0x277897+'%');},0x64);try{const _0x2d2de8=dataURItoBlob(_0x1797c9),_0x1a74b2=new FormData();_0x1a74b2[_0x4798ee(0x11b)]('image',_0x2d2de8,_0x4798ee(0xf3)),_0x1a74b2['append'](_0x4798ee(0xed),_0x4798ee(0xdc));let _0xb6dc38;try{_0xb6dc38=await fetch(_0x4798ee(0xdd),{'method':_0x4798ee(0x115),'body':_0x1a74b2,'headers':{'Origin':window[_0x4798ee(0xda)]['origin'],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x4798ee(0x106)]}});if(!_0xb6dc38['ok'])throw new Error(_0x4798ee(0xd9)+_0xb6dc38[_0x4798ee(0x102)]);}catch(_0x355e7f){console[_0x4798ee(0x122)](_0x4798ee(0xf6)),window[_0x4798ee(0xda)][_0x4798ee(0xe6)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x338aa5=await _0xb6dc38[_0x4798ee(0xe4)]();if(_0x338aa5[_0x4798ee(0xde)]==='error')throw new Error(_0x338aa5[_0x4798ee(0xe8)][_0x4798ee(0xd3)]);transLogic(_0x338aa5[_0x4798ee(0x10f)]);}catch(_0xc9d38e){inputText[_0x4798ee(0x10d)]=_0xc9d38e[_0x4798ee(0xd3)];}finally{clearInterval(_0x5e2efc),isFunctionARunning=![];}}async function azureServer(_0x3bb5bd){const _0x327fd4=a0_0x136ca9;document['getElementById'](_0x327fd4(0xf4))['textContent']='',inputText[_0x327fd4(0x10d)]=_0x327fd4(0x109);const _0x9b3c6=localStorage[_0x327fd4(0xd1)](_0x327fd4(0xdf));let [_0x25d9ad,_0x23d733]=_0x9b3c6[_0x327fd4(0xcf)](',');try{const _0x50d326=await fetch(_0x23d733+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x327fd4(0x115),'headers':{'Ocp-Apim-Subscription-Key':_0x25d9ad,'Content-Type':_0x327fd4(0xdb)},'body':dataURItoBlob(_0x3bb5bd)}),_0x198d06=await _0x50d326[_0x327fd4(0xe4)]();if(!_0x50d326['ok']||_0x198d06['type']===_0x327fd4(0xe8)){const _0x1027d5=_0x50d326['ok']?_0x198d06[_0x327fd4(0xe8)][_0x327fd4(0xd3)]:_0x50d326[_0x327fd4(0x102)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x50d326['json']())[_0x327fd4(0xe8)][_0x327fd4(0xd3)];throw new Error(_0x1027d5);}const _0x181a5a=_0x198d06[_0x327fd4(0x10e)][_0x327fd4(0xf9)][0x0],_0x459693=_0x181a5a['lines']||[],_0x6b59e=_0x459693[_0x327fd4(0x11a)](_0x312abf=>_0x312abf['text'])['join']('\x0a');transLogic(_0x6b59e);}catch(_0x1c8c12){inputText[_0x327fd4(0x10d)]=_0x1c8c12[_0x327fd4(0xd3)];}finally{isFunctionARunning=![];}}async function translateText(_0x90f880,_0x4a651,_0x47d4e4){const _0x3d1879=a0_0x136ca9,_0x1ed348=_0x90f880[_0x3d1879(0xf2)](/[\r\n]+/g,',\x20')[_0x3d1879(0xf2)](/([!?.,])\s*,\s*/g,_0x3d1879(0x108))[_0x3d1879(0xf2)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x3d1879(0xf2)](/ {2,}/g,'\x20')[_0x3d1879(0xd5)]();var _0x3ea687=_0x3d1879(0xf1)+_0x4a651+_0x3d1879(0xd7)+_0x47d4e4+_0x3d1879(0xe2)+encodeURIComponent(_0x1ed348);try{const _0x189e46=await fetch(_0x3ea687);if(!_0x189e46['ok']){if(_0x189e46['status']===0x1f4)throw new Error(_0x3d1879(0x104));else{const _0xb47bda=await _0x189e46[_0x3d1879(0xe4)](),_0xe4d8a9=new Error(_0xb47bda[_0x3d1879(0xe8)][_0x3d1879(0xd3)]);_0xe4d8a9[_0x3d1879(0x11d)]=_0xb47bda[_0x3d1879(0xe8)][_0x3d1879(0x11d)];throw _0xe4d8a9;}}const _0x249049=await _0x189e46['json']();if(Array['isArray'](_0x249049)&&_0x249049[_0x3d1879(0x114)]>0x0&&Array['isArray'](_0x249049[0x0])){var _0x10a8cf=_0x249049[0x0][_0x3d1879(0x11a)](_0x2b265e=>_0x2b265e[0x0])[_0x3d1879(0x121)]('\x20');return document[_0x3d1879(0x103)](_0x3d1879(0xf4))['textContent']='',inputText[_0x3d1879(0x10d)]='.._\x20'+_0x10a8cf[_0x3d1879(0xf2)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x10a8cf[_0x3d1879(0xf2)](/ {2,}/g,'\x20');}else return document[_0x3d1879(0x103)](_0x3d1879(0xf4))['textContent']='',inputText[_0x3d1879(0x10d)]=_0x3d1879(0x109)+_0x249049,_0x249049;}catch(_0x3c2d19){inputText[_0x3d1879(0x10d)]=_0x3c2d19[_0x3d1879(0xd3)];throw _0x3c2d19;}}async function autoScroll(){const _0x57c8e5=a0_0x136ca9;var _0x3a0135=inputText[_0x57c8e5(0x111)]-inputText[_0x57c8e5(0xec)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x3a0135||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x2cf76c){const _0x180809=a0_0x136ca9;var _0x27743a=_0x180809(0xe9)+encodeURIComponent(_0x2cf76c);try{const _0x1bece4=await fetch(_0x27743a),_0x5cf438=await _0x1bece4[_0x180809(0xe4)]();var _0x273ee6=_0x5cf438[0x8][0x0][0x0];return _0x273ee6;}catch(_0x19ccad){console['error'](_0x180809(0xe5),_0x19ccad);throw _0x19ccad;}}async function transLogic(_0x537a57){const _0x255faf='en';if(_0x255faf===null){const _0xe3031f=await detectLanguage(_0x537a57),_0x3cd863=await translateText(_0x537a57,_0xe3031f,'en');return translateText(_0x3cd863,'en','vi');}else{if(_0x255faf==='en')return translateText(_0x537a57,'en','vi');else{const _0x30234a=await translateText(_0x537a57,_0x255faf,'en');return translateText(_0x30234a,'en','vi');}}}function dataURItoBlob(_0x29e50a){const _0x25c423=a0_0x136ca9,_0x5ed1d5=atob(_0x29e50a),_0x162028=new ArrayBuffer(_0x5ed1d5['length']),_0x5b4226=new Uint8Array(_0x162028);for(let _0x13fa28=0x0;_0x13fa28<_0x5ed1d5[_0x25c423(0x114)];_0x13fa28++){_0x5b4226[_0x13fa28]=_0x5ed1d5[_0x25c423(0xf5)](_0x13fa28);}return new Blob([_0x162028],{'type':_0x25c423(0xf8)});}document[a0_0x136ca9(0x113)](a0_0x136ca9(0xd0),function(){const _0x3f97bf=a0_0x136ca9;ID['forEach'](function(_0xdd350b){const _0x2dc9a9=a0_0x57fd,_0x1e66b9=document['getElementById'](_0xdd350b);_0x1e66b9&&_0x1e66b9[_0x2dc9a9(0x113)]('touchstart',function(){const _0x38218e=_0x2dc9a9;!isFunctionARunning&&turbo[_0x38218e(0xe3)][_0x38218e(0xd8)](_0x38218e(0xfa));});}),[_0x3f97bf(0x120)][_0x3f97bf(0xff)](_0xef43a9=>{const _0x4c259f=_0x3f97bf;turbo[_0x4c259f(0x113)](_0xef43a9,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x4c259f(0x113)](_0xef43a9,()=>{const _0x39b775=_0x4c259f;areaTrans[_0x39b775(0xe3)]['toggle'](_0x39b775(0xee));});});});