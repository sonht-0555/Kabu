const a0_0x3186ba=a0_0x57a0;(function(_0x4e6c4a,_0x1c7ca0){const _0x4e4956=a0_0x57a0,_0x2796ac=_0x4e6c4a();while(!![]){try{const _0x29d1df=parseInt(_0x4e4956(0x12b))/0x1*(parseInt(_0x4e4956(0x14f))/0x2)+-parseInt(_0x4e4956(0x128))/0x3*(-parseInt(_0x4e4956(0x157))/0x4)+-parseInt(_0x4e4956(0x15c))/0x5*(-parseInt(_0x4e4956(0x161))/0x6)+parseInt(_0x4e4956(0x13b))/0x7+parseInt(_0x4e4956(0x147))/0x8*(-parseInt(_0x4e4956(0x160))/0x9)+-parseInt(_0x4e4956(0x13a))/0xa*(-parseInt(_0x4e4956(0x145))/0xb)+parseInt(_0x4e4956(0x136))/0xc*(-parseInt(_0x4e4956(0x137))/0xd);if(_0x29d1df===_0x1c7ca0)break;else _0x2796ac['push'](_0x2796ac['shift']());}catch(_0x243237){_0x2796ac['push'](_0x2796ac['shift']());}}}(a0_0x5d9b,0xd9f7f));import*as a0_0x342ee6 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x3186ba(0x16d)]('inputText'),turbo=document[a0_0x3186ba(0x16d)](a0_0x3186ba(0x14d)),ID=['A','B','R','L'];async function getImage(){const _0x116ee8=a0_0x3186ba;turbo[_0x116ee8(0x11d)][_0x116ee8(0x169)](_0x116ee8(0x144));try{const _0x43c419=gameName[_0x116ee8(0x124)](/\.(gba|gbc|gb|zip)$/,_0x116ee8(0x162)),_0x25e2fc=await a0_0x342ee6[_0x116ee8(0x156)](_0x43c419),_0x20507a=new Blob([_0x25e2fc],{'type':_0x116ee8(0x16a)}),_0x4438fa=await new Promise((_0x142a31,_0x4bbf3c)=>{const _0x2cbba6=_0x116ee8,_0x1fb2d5=new FileReader();_0x1fb2d5[_0x2cbba6(0x16f)]=()=>_0x142a31(_0x1fb2d5['result']),_0x1fb2d5[_0x2cbba6(0x12f)]=_0x4bbf3c,_0x1fb2d5[_0x2cbba6(0x126)](_0x20507a);}),_0x264b33=new Image();_0x264b33[_0x116ee8(0x167)]=_0x4438fa,_0x264b33[_0x116ee8(0x12c)]=async()=>{const _0xaf9a27=_0x116ee8,_0x4115ae=document[_0xaf9a27(0x13d)]('canvas'),_0x5d91bb=_0x4115ae[_0xaf9a27(0x15b)]('2d'),_0x5f3ce1=0x4;let _0x5cd6cb;gameName['endsWith'](_0xaf9a27(0x166))||gameName[_0xaf9a27(0x15a)](_0xaf9a27(0x170))?_0x5cd6cb=0x3/0x6:_0x5cd6cb=0x3/0x4;const _0x3fd87d=localStorage['getItem'](gameName+_0xaf9a27(0x15f))||localStorage[_0xaf9a27(0x153)]('screenSize'),[_0x5cd7ce,_0x290d5b,_0x4b57a2,_0x4a5d3f]=_0x3fd87d[_0xaf9a27(0x148)](',')[_0xaf9a27(0x171)](Number);_0x4115ae['width']=_0x4b57a2*_0x5cd6cb*_0x5f3ce1,_0x4115ae[_0xaf9a27(0x141)]=_0x4a5d3f*_0x5cd6cb*_0x5f3ce1,_0x5d91bb[_0xaf9a27(0x149)](_0x264b33,_0x5cd7ce*_0x5cd6cb,_0x290d5b*_0x5cd6cb,_0x4b57a2*_0x5cd6cb,_0x4a5d3f*_0x5cd6cb,0x0,0x0,_0x4b57a2*_0x5cd6cb*_0x5f3ce1,_0x4a5d3f*_0x5cd6cb*_0x5f3ce1);const _0x16b31b=_0x4115ae['toDataURL']('image/png')[_0xaf9a27(0x148)](',')[0x1],_0x45df03=localStorage[_0xaf9a27(0x153)]('ApiAzure');console[_0xaf9a27(0x168)](_0x45df03),_0x45df03?azureServer(_0x16b31b):freeServer(_0x16b31b);};}catch(_0x327bdb){inputText[_0x116ee8(0x165)]=_0x327bdb[_0x116ee8(0x14c)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x49eaa0=_0x116ee8;document['getElementById']('inputText')[_0x49eaa0(0x165)]='',a0_0x342ee6['notiMessage']('',0x0);},0x7530);}async function freeServer(_0xc8c18c){const _0x5c07eb=a0_0x3186ba;document[_0x5c07eb(0x16d)]('noti-mess')['textContent']='';let _0x21be26=0x0;const _0x3f63bd=setInterval(()=>{const _0x106f8b=_0x5c07eb;_0x21be26+=0x1,_0x21be26<=0x64&&(inputText[_0x106f8b(0x165)]=_0x106f8b(0x139)+_0x21be26+'%');},0x64);try{const _0x38db6d=dataURItoBlob(_0xc8c18c),_0x16a853=new FormData();_0x16a853[_0x5c07eb(0x158)]('image',_0x38db6d,'image.png'),_0x16a853[_0x5c07eb(0x158)](_0x5c07eb(0x14a),_0x5c07eb(0x13f));let _0x99b1f2;try{_0x99b1f2=await fetch(_0x5c07eb(0x163),{'method':'POST','body':_0x16a853,'headers':{'Origin':window[_0x5c07eb(0x13e)]['origin'],'X-Requested-With':_0x5c07eb(0x154),'User-Agent':navigator[_0x5c07eb(0x134)]}});if(!_0x99b1f2['ok'])throw new Error(_0x5c07eb(0x131)+_0x99b1f2[_0x5c07eb(0x16b)]);}catch(_0x4fa231){console['warn'](_0x5c07eb(0x123)),window[_0x5c07eb(0x13e)][_0x5c07eb(0x13c)]=_0x5c07eb(0x152);return;}const _0x550c5e=await _0x99b1f2[_0x5c07eb(0x132)]();if(_0x550c5e['type']===_0x5c07eb(0x130))throw new Error(_0x550c5e[_0x5c07eb(0x130)][_0x5c07eb(0x14c)]);transLogic(_0x550c5e[_0x5c07eb(0x146)]);}catch(_0x55ee78){inputText[_0x5c07eb(0x165)]=_0x55ee78[_0x5c07eb(0x14c)];}finally{clearInterval(_0x3f63bd),isFunctionARunning=![];}}async function azureServer(_0x4c192e){const _0xac0086=a0_0x3186ba;document[_0xac0086(0x16d)](_0xac0086(0x173))[_0xac0086(0x165)]='',inputText[_0xac0086(0x165)]=_0xac0086(0x139);const _0x2eb7f4=localStorage['getItem'](_0xac0086(0x120));let [_0x16d349,_0x2fd34b]=_0x2eb7f4[_0xac0086(0x148)](',');try{const _0x3cb35b=await fetch(_0x2fd34b+_0xac0086(0x15d),{'method':_0xac0086(0x142),'headers':{'Ocp-Apim-Subscription-Key':_0x16d349,'Content-Type':_0xac0086(0x14e)},'body':dataURItoBlob(_0x4c192e)}),_0x4dafa1=await _0x3cb35b[_0xac0086(0x132)]();if(!_0x3cb35b['ok']||_0x4dafa1[_0xac0086(0x172)]===_0xac0086(0x130)){const _0x55d8f6=_0x3cb35b['ok']?_0x4dafa1[_0xac0086(0x130)][_0xac0086(0x14c)]:_0x3cb35b[_0xac0086(0x16b)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x3cb35b['json']())[_0xac0086(0x130)][_0xac0086(0x14c)];throw new Error(_0x55d8f6);}const _0x459f0a=_0x4dafa1[_0xac0086(0x164)][_0xac0086(0x127)][0x0],_0x33fb9d=_0x459f0a[_0xac0086(0x151)]||[],_0x161a7c=_0x33fb9d[_0xac0086(0x171)](_0x6d5c49=>_0x6d5c49['text'])[_0xac0086(0x133)]('\x0a');transLogic(_0x161a7c);}catch(_0x5a2300){inputText['textContent']=_0x5a2300[_0xac0086(0x14c)];}finally{isFunctionARunning=![];}}function a0_0x5d9b(){const _0x3dea2a=['11881170RPzRlH','href','createElement','location','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','scrollLeft','height','POST','forEach','turbo-ocr','796367vxuYMO','text','64pTpNTk','split','drawImage','user','touchstart','message','turbo','application/octet-stream','128066uybTew','length','lines','https://cors-anywhere.herokuapp.com/corsdemo','getItem','XMLHttpRequest','&tl=','captureOCR','536780IPcApD','append','clientWidth','endsWith','getContext','62585OyDXNt','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','visible','_setArea','1880775foBScp','42CqTxia','.png','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','readResult','textContent','.gbc','src','log','add','image/png','status','Internal\x20Server\x20Error','getElementById','&dt=t&q=','onloadend','.gb','map','type','noti-mess','classList','code','charCodeAt','ApiAzure','addEventListener','touchend','Cors-controlers\x20have\x20not\x20been\x20activated.','replace','DOMContentLoaded','readAsDataURL','blocks','36uCBAsu','toggle','trim','16DnKack','onload','$1\x20','scrollWidth','onerror','error','HTTP\x20Error:\x20','json','join','userAgent','Error\x20detecting\x20language:','23131140ZXRWFh','13VwuFMx','isArray','.._\x20','10Bgpdiw'];a0_0x5d9b=function(){return _0x3dea2a;};return a0_0x5d9b();}async function translateText(_0x51c4a2,_0x12ee9a,_0x23430e){const _0x2e76c9=a0_0x3186ba,_0x4b09d7=_0x51c4a2[_0x2e76c9(0x124)](/[\r\n]+/g,',\x20')[_0x2e76c9(0x124)](/([!?.,])\s*,\s*/g,_0x2e76c9(0x12d))[_0x2e76c9(0x124)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x2e76c9(0x124)](/ {2,}/g,'\x20')[_0x2e76c9(0x12a)]();var _0x37bac9='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x12ee9a+_0x2e76c9(0x155)+_0x23430e+_0x2e76c9(0x16e)+encodeURIComponent(_0x4b09d7);try{const _0x1f5055=await fetch(_0x37bac9);if(!_0x1f5055['ok']){if(_0x1f5055[_0x2e76c9(0x16b)]===0x1f4)throw new Error(_0x2e76c9(0x16c));else{const _0x4333e2=await _0x1f5055['json'](),_0x2bdd51=new Error(_0x4333e2[_0x2e76c9(0x130)][_0x2e76c9(0x14c)]);_0x2bdd51[_0x2e76c9(0x11e)]=_0x4333e2[_0x2e76c9(0x130)][_0x2e76c9(0x11e)];throw _0x2bdd51;}}const _0x6c2d4=await _0x1f5055[_0x2e76c9(0x132)]();if(Array[_0x2e76c9(0x138)](_0x6c2d4)&&_0x6c2d4[_0x2e76c9(0x150)]>0x0&&Array[_0x2e76c9(0x138)](_0x6c2d4[0x0])){var _0x4c1d87=_0x6c2d4[0x0][_0x2e76c9(0x171)](_0x2ae369=>_0x2ae369[0x0])[_0x2e76c9(0x133)]('\x20');return document[_0x2e76c9(0x16d)](_0x2e76c9(0x173))[_0x2e76c9(0x165)]='',inputText[_0x2e76c9(0x165)]=_0x2e76c9(0x139)+_0x4c1d87[_0x2e76c9(0x124)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4c1d87['replace'](/ {2,}/g,'\x20');}else return document['getElementById'](_0x2e76c9(0x173))[_0x2e76c9(0x165)]='',inputText['textContent']=_0x2e76c9(0x139)+_0x6c2d4,_0x6c2d4;}catch(_0x3d0a74){inputText['textContent']=_0x3d0a74[_0x2e76c9(0x14c)];throw _0x3d0a74;}}async function autoScroll(){const _0x39dc39=a0_0x3186ba;var _0x1a7508=inputText[_0x39dc39(0x12e)]-inputText[_0x39dc39(0x159)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1a7508||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x39dc39(0x140)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x516375){const _0x10fd91=a0_0x3186ba;var _0x5769f9='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x516375);try{const _0xd4775=await fetch(_0x5769f9),_0x2ba4ae=await _0xd4775[_0x10fd91(0x132)]();var _0xdb367e=_0x2ba4ae[0x8][0x0][0x0];return _0xdb367e;}catch(_0x12591a){console[_0x10fd91(0x130)](_0x10fd91(0x135),_0x12591a);throw _0x12591a;}}function a0_0x57a0(_0x2b79ab,_0x40b9bf){const _0x5d9bf9=a0_0x5d9b();return a0_0x57a0=function(_0x57a07a,_0x256493){_0x57a07a=_0x57a07a-0x11d;let _0x28de1e=_0x5d9bf9[_0x57a07a];return _0x28de1e;},a0_0x57a0(_0x2b79ab,_0x40b9bf);}async function transLogic(_0x267e68){const _0xba55da='en';if(_0xba55da===null){const _0x4bd58c=await detectLanguage(_0x267e68),_0x4ad797=await translateText(_0x267e68,_0x4bd58c,'en');return translateText(_0x4ad797,'en','vi');}else{if(_0xba55da==='en')return translateText(_0x267e68,'en','vi');else{const _0x7f4275=await translateText(_0x267e68,_0xba55da,'en');return translateText(_0x7f4275,'en','vi');}}}function dataURItoBlob(_0x4021f3){const _0x143974=a0_0x3186ba,_0x577592=atob(_0x4021f3),_0x2a2e6d=new ArrayBuffer(_0x577592['length']),_0x10801c=new Uint8Array(_0x2a2e6d);for(let _0x29b8af=0x0;_0x29b8af<_0x577592[_0x143974(0x150)];_0x29b8af++){_0x10801c[_0x29b8af]=_0x577592[_0x143974(0x11f)](_0x29b8af);}return new Blob([_0x2a2e6d],{'type':'image/png'});}document[a0_0x3186ba(0x121)](a0_0x3186ba(0x125),function(){const _0x2d0b99=a0_0x3186ba;ID[_0x2d0b99(0x143)](function(_0x4c5304){const _0x526940=_0x2d0b99,_0x2bd7b6=document[_0x526940(0x16d)](_0x4c5304);_0x2bd7b6&&_0x2bd7b6[_0x526940(0x121)](_0x526940(0x14b),function(){const _0x5d90e5=_0x526940;!isFunctionARunning&&turbo[_0x5d90e5(0x11d)]['remove'](_0x5d90e5(0x144));});}),[_0x2d0b99(0x122)][_0x2d0b99(0x143)](_0xd82444=>{const _0x55f115=_0x2d0b99;turbo[_0x55f115(0x121)](_0xd82444,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x55f115(0x121)](_0xd82444,()=>{const _0x43e20c=_0x55f115;areaTrans[_0x43e20c(0x11d)][_0x43e20c(0x129)](_0x43e20c(0x15e));});});});