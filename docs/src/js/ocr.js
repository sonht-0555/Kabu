const a0_0x37d7bb=a0_0x374e;(function(_0x2462a4,_0x4ddc45){const _0x496a54=a0_0x374e,_0x584c8b=_0x2462a4();while(!![]){try{const _0x408d09=parseInt(_0x496a54(0x150))/0x1*(parseInt(_0x496a54(0x177))/0x2)+parseInt(_0x496a54(0x171))/0x3+-parseInt(_0x496a54(0x141))/0x4*(-parseInt(_0x496a54(0x139))/0x5)+-parseInt(_0x496a54(0x160))/0x6+parseInt(_0x496a54(0x154))/0x7*(-parseInt(_0x496a54(0x14e))/0x8)+-parseInt(_0x496a54(0x17c))/0x9*(parseInt(_0x496a54(0x170))/0xa)+parseInt(_0x496a54(0x165))/0xb;if(_0x408d09===_0x4ddc45)break;else _0x584c8b['push'](_0x584c8b['shift']());}catch(_0x3878b8){_0x584c8b['push'](_0x584c8b['shift']());}}}(a0_0xc2cd,0x489d4));function a0_0x374e(_0xd58ac0,_0x2aa686){const _0xc2cdf4=a0_0xc2cd();return a0_0x374e=function(_0x374e97,_0x3029f0){_0x374e97=_0x374e97-0x132;let _0x566580=_0xc2cdf4[_0x374e97];return _0x566580;},a0_0x374e(_0xd58ac0,_0x2aa686);}import*as a0_0x427199 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x37d7bb(0x135)](a0_0x37d7bb(0x175)),input=document['getElementById'](a0_0x37d7bb(0x13f)),turbo=document[a0_0x37d7bb(0x135)](a0_0x37d7bb(0x133)),ID=['A','B','R','L'];async function getImage(){const _0x16b31e=a0_0x37d7bb;turbo[_0x16b31e(0x15d)][_0x16b31e(0x179)](_0x16b31e(0x15e));try{const _0x1aa988=gameName[_0x16b31e(0x144)](/\.(gba|gbc|gb|zip)$/,_0x16b31e(0x18d)),_0x2ba318=await a0_0x427199['captureOCR'](_0x1aa988),_0x3e6063=new Blob([_0x2ba318],{'type':'image/png'}),_0x484229=await new Promise((_0xf61193,_0x56253c)=>{const _0x3b88bd=_0x16b31e,_0x245cc2=new FileReader();_0x245cc2[_0x3b88bd(0x162)]=()=>_0xf61193(_0x245cc2[_0x3b88bd(0x17d)]),_0x245cc2[_0x3b88bd(0x147)]=_0x56253c,_0x245cc2[_0x3b88bd(0x152)](_0x3e6063);}),_0x1f849b=new Image();_0x1f849b['src']=_0x484229,_0x1f849b[_0x16b31e(0x13a)]=()=>{const _0x2cc60f=_0x16b31e,_0x4d0c10=document[_0x2cc60f(0x174)]('canvas'),_0x26ecf4=_0x4d0c10[_0x2cc60f(0x132)]('2d'),_0x205a38=0x4;let _0x1072cd;gameName[_0x2cc60f(0x159)](_0x2cc60f(0x14d))||gameName[_0x2cc60f(0x159)](_0x2cc60f(0x143))?_0x1072cd=Math[_0x2cc60f(0x157)](0xa0/(window[_0x2cc60f(0x16c)]-0xe6)):_0x1072cd=Math[_0x2cc60f(0x157)](0xf0/(window[_0x2cc60f(0x16c)]-0x96));const _0x5a4e85=localStorage[_0x2cc60f(0x142)](gameName+_0x2cc60f(0x178))||localStorage[_0x2cc60f(0x142)](_0x2cc60f(0x169)),[_0x592f90,_0x1eae4d,_0x1303ff,_0x45924b]=_0x5a4e85[_0x2cc60f(0x156)](',')[_0x2cc60f(0x180)](Number);_0x4d0c10['width']=_0x1303ff*_0x1072cd*_0x205a38,_0x4d0c10[_0x2cc60f(0x16a)]=_0x45924b*_0x1072cd*_0x205a38,_0x26ecf4[_0x2cc60f(0x13b)](_0x1f849b,_0x592f90*_0x1072cd,_0x1eae4d*_0x1072cd,_0x1303ff*_0x1072cd,_0x45924b*_0x1072cd,0x0,0x0,_0x1303ff*_0x1072cd*_0x205a38,_0x45924b*_0x1072cd*_0x205a38);const _0x2e69be=_0x4d0c10[_0x2cc60f(0x188)](_0x2cc60f(0x15b))[_0x2cc60f(0x156)](',')[0x1],_0x3f1879=localStorage['getItem'](_0x2cc60f(0x164));_0x3f1879?azureServer(_0x2e69be):freeServer(_0x2e69be);};}catch(_0x5b5035){inputText[_0x16b31e(0x182)]=_0x5b5035['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3df221=_0x16b31e;document[_0x3df221(0x135)](_0x3df221(0x175))[_0x3df221(0x182)]=_0x3df221(0x16d);},0x7530);}async function freeServer(_0x13b30a){const _0x1f707c=a0_0x37d7bb;let _0xe61ab6=0x0;const _0x8eb41a=setInterval(()=>{const _0x366724=a0_0x374e;_0xe61ab6+=0x1,_0xe61ab6<=0x64&&(inputText[_0x366724(0x182)]=_0x366724(0x168)+_0xe61ab6+'%');},0x64);try{const _0x47c6e7=dataURItoBlob(_0x13b30a),_0x326d2f=new FormData();_0x326d2f['append']('image',_0x47c6e7,_0x1f707c(0x13e)),_0x326d2f[_0x1f707c(0x136)](_0x1f707c(0x167),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x158ecb;try{_0x158ecb=await fetch(_0x1f707c(0x163),{'method':_0x1f707c(0x187),'body':_0x326d2f,'headers':{'Origin':window['location'][_0x1f707c(0x166)],'X-Requested-With':_0x1f707c(0x172),'User-Agent':navigator[_0x1f707c(0x18c)]}});if(!_0x158ecb['ok'])throw new Error(_0x1f707c(0x134)+_0x158ecb[_0x1f707c(0x15c)]);}catch(_0x28c837){console[_0x1f707c(0x17f)]('CORS-Anywhere\x20chưa\x20được\x20kích\x20hoạt.\x20Mở\x20/corsdemo...'),window['location']['href']='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x5a70ec=await _0x158ecb['json']();if(_0x5a70ec[_0x1f707c(0x17a)]==='error')throw new Error(_0x5a70ec[_0x1f707c(0x181)][_0x1f707c(0x138)]);transLogic(_0x5a70ec['text']);}catch(_0x5392aa){inputText[_0x1f707c(0x182)]=_0x5392aa[_0x1f707c(0x138)];}finally{clearInterval(_0x8eb41a),isFunctionARunning=![];}}async function azureServer(_0x642f53){const _0x5da869=a0_0x37d7bb;inputText[_0x5da869(0x182)]=_0x5da869(0x16d);const _0x23edf4=localStorage[_0x5da869(0x142)]('ApiAzure');let [_0x23ef4c,_0x585d63,_0x15bb24]=_0x23edf4[_0x5da869(0x156)](',');_0x15bb24=parseInt(_0x15bb24);const _0x1f2a13=new Date(),_0xb5d814=_0x1f2a13['getMonth'](),_0x3f722b=_0x1f2a13[_0x5da869(0x14f)](),_0x391848=localStorage[_0x5da869(0x142)](_0x5da869(0x18b)),_0x2fd8c6=_0x391848?new Date(_0x391848):null;_0x2fd8c6&&(_0xb5d814!==_0x2fd8c6['getMonth']()||_0x3f722b!==_0x2fd8c6[_0x5da869(0x14f)]())&&(_0x15bb24=0x0,localStorage[_0x5da869(0x17b)](_0x5da869(0x18b),_0x1f2a13['toISOString']()));if(_0x15bb24>=0x1356){inputText['textContent']='Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.';return;}try{const _0x30d640=await fetch(_0x585d63+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x5da869(0x187),'headers':{'Ocp-Apim-Subscription-Key':_0x23ef4c,'Content-Type':_0x5da869(0x137)},'body':dataURItoBlob(_0x642f53)}),_0x2415c6=await _0x30d640[_0x5da869(0x184)]();if(!_0x30d640['ok']||_0x2415c6[_0x5da869(0x17a)]===_0x5da869(0x181)){const _0x48f06d=_0x30d640['ok']?_0x2415c6[_0x5da869(0x181)][_0x5da869(0x138)]:_0x30d640[_0x5da869(0x15c)]===0x1f4?_0x5da869(0x151):(await _0x30d640[_0x5da869(0x184)]())[_0x5da869(0x181)][_0x5da869(0x138)];throw new Error(_0x48f06d);}const _0x3caf17=_0x2415c6['readResult'][_0x5da869(0x173)][0x0],_0x5c8335=_0x3caf17[_0x5da869(0x16b)]||[],_0x331a9c=_0x5c8335[_0x5da869(0x180)](_0x119eca=>_0x119eca[_0x5da869(0x155)])[_0x5da869(0x146)]('\x0a');transLogic(_0x331a9c);}catch(_0x51ebef){inputText['textContent']=_0x51ebef[_0x5da869(0x138)];const _0x5ca663=++_0x15bb24;a0_0x427199[_0x5da869(0x13c)]('['+_0x5ca663+_0x5da869(0x189),0x7d0),localStorage[_0x5da869(0x17b)](_0x5da869(0x164),_0x23ef4c+','+_0x585d63+','+_0x5ca663),localStorage[_0x5da869(0x17b)](_0x5da869(0x18b),_0x1f2a13['toISOString']());}finally{const _0xc32190=++_0x15bb24;a0_0x427199[_0x5da869(0x13c)]('['+_0xc32190+']\x20Times\x20Azure',0x7d0),isFunctionARunning=![],localStorage[_0x5da869(0x17b)](_0x5da869(0x164),_0x23ef4c+','+_0x585d63+','+_0xc32190),localStorage[_0x5da869(0x17b)]('lastSavedDate',_0x1f2a13[_0x5da869(0x13d)]());}}async function translateText(_0x12e6e2,_0x56176d,_0xd7a2b2){const _0x42bfc1=a0_0x37d7bb,_0x2093f7=_0x12e6e2[_0x42bfc1(0x144)](/[\r\n]+/g,',\x20')[_0x42bfc1(0x144)](/([!?.,])\s*,\s*/g,_0x42bfc1(0x158))[_0x42bfc1(0x144)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x42bfc1(0x144)](/ {2,}/g,'\x20')[_0x42bfc1(0x15a)]();var _0x6f4cf3='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x56176d+_0x42bfc1(0x183)+_0xd7a2b2+_0x42bfc1(0x186)+encodeURIComponent(_0x2093f7);try{const _0x4b4341=await fetch(_0x6f4cf3);if(!_0x4b4341['ok']){if(_0x4b4341[_0x42bfc1(0x15c)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x3e5944=await _0x4b4341[_0x42bfc1(0x184)](),_0x158549=new Error(_0x3e5944[_0x42bfc1(0x181)]['message']);_0x158549[_0x42bfc1(0x16f)]=_0x3e5944['error'][_0x42bfc1(0x16f)];throw _0x158549;}}const _0x492e3d=await _0x4b4341['json']();if(Array[_0x42bfc1(0x18a)](_0x492e3d)&&_0x492e3d[_0x42bfc1(0x148)]>0x0&&Array[_0x42bfc1(0x18a)](_0x492e3d[0x0])){var _0x505931=_0x492e3d[0x0][_0x42bfc1(0x180)](_0x311c7d=>_0x311c7d[0x0])['join']('\x20');return inputText[_0x42bfc1(0x182)]=_0x505931[_0x42bfc1(0x144)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x505931[_0x42bfc1(0x144)](/ {2,}/g,'\x20');}else return inputText['textContent']=_0x492e3d,_0x492e3d;}catch(_0x48e758){inputText['textContent']=_0x48e758[_0x42bfc1(0x138)];throw _0x48e758;}}async function autoScroll(){const _0x7b6688=a0_0x37d7bb;var _0x2dabea=inputText[_0x7b6688(0x145)]-inputText[_0x7b6688(0x185)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2dabea||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x7b6688(0x140)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}function a0_0xc2cd(){const _0x2e7db7=['round','$1\x20','endsWith','trim','image/png','status','classList','turbo-ocr','addEventListener','965376KDICEq','touchend','onloadend','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','ApiAzure','10469492PwISvM','origin','user','Waiting..','screenSize','height','lines','innerWidth','...','forEach','code','211630NqiGnB','404694ORBfyS','XMLHttpRequest','blocks','createElement','inputText','floor','2NYycMC','_setArea','add','type','setItem','189bqTzsy','result','touchstart','warn','map','error','textContent','&tl=','json','clientWidth','&dt=t&q=','POST','toDataURL',']\x20Times\x20Azure','isArray','lastSavedDate','userAgent','.png','getContext','turbo','HTTP\x20Error:\x20','getElementById','append','application/octet-stream','message','20pXYAtN','onload','drawImage','notiMessage','toISOString','image.png','input-container','scrollLeft','175700bVxuWd','getItem','.gb','replace','scrollWidth','join','onerror','length','DOMContentLoaded','random','charCodeAt','remove','.gbc','320AryZYH','getFullYear','99697FlUCUt','500\x20Internal\x20Server\x20Error','readAsDataURL','logoOcr','80381ENPASd','text','split'];a0_0xc2cd=function(){return _0x2e7db7;};return a0_0xc2cd();}async function detectLanguage(_0x2141d3){const _0x6ac3cf=a0_0x37d7bb;var _0x172a99='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x2141d3);try{const _0x23fcde=await fetch(_0x172a99),_0x25c2d2=await _0x23fcde[_0x6ac3cf(0x184)]();var _0x3f117e=_0x25c2d2[0x8][0x0][0x0];return _0x3f117e;}catch(_0x1142e4){console[_0x6ac3cf(0x181)]('Error\x20detecting\x20language:',_0x1142e4);throw _0x1142e4;}}async function transLogic(_0x895a4c){const _0x421bd0='en';if(_0x421bd0===null){const _0x372fb9=await detectLanguage(_0x895a4c),_0x1a5c36=await translateText(_0x895a4c,_0x372fb9,'en');return translateText(_0x1a5c36,'en','vi');}else{if(_0x421bd0==='en')return translateText(_0x895a4c,'en','vi');else{const _0x3a67d6=await translateText(_0x895a4c,_0x421bd0,'en');return translateText(_0x3a67d6,'en','vi');}}}function dataURItoBlob(_0x27cd5e){const _0x1cc92a=a0_0x37d7bb,_0x2ccc08=atob(_0x27cd5e),_0x2164dd=new ArrayBuffer(_0x2ccc08[_0x1cc92a(0x148)]),_0x3c95b9=new Uint8Array(_0x2164dd);for(let _0x36a77a=0x0;_0x36a77a<_0x2ccc08['length'];_0x36a77a++){_0x3c95b9[_0x36a77a]=_0x2ccc08[_0x1cc92a(0x14b)](_0x36a77a);}return new Blob([_0x2164dd],{'type':_0x1cc92a(0x15b)});}function logoOcr(){const _0x596618=a0_0x37d7bb;var _0x271f45=Math[_0x596618(0x176)](Math[_0x596618(0x14a)]()*0x3)+0x1,_0x2d5591=-0xf*_0x271f45+'px';document['getElementById'](_0x596618(0x153))['style']['backgroundPositionX']=_0x2d5591;}document[a0_0x37d7bb(0x15f)](a0_0x37d7bb(0x149),function(){const _0x19ceef=a0_0x37d7bb;ID[_0x19ceef(0x16e)](function(_0x5dead8){const _0x2b33c6=_0x19ceef,_0x5c08b0=document[_0x2b33c6(0x135)](_0x5dead8);_0x5c08b0&&_0x5c08b0[_0x2b33c6(0x15f)](_0x2b33c6(0x17e),function(){const _0x41ef1f=_0x2b33c6;!isFunctionARunning&&turbo[_0x41ef1f(0x15d)][_0x41ef1f(0x14c)](_0x41ef1f(0x15e));});}),[_0x19ceef(0x161)][_0x19ceef(0x16e)](_0x2021f2=>{const _0x5d26c6=_0x19ceef;turbo['addEventListener'](_0x2021f2,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x5d26c6(0x15f)](_0x2021f2,()=>{const _0x5c40f6=_0x5d26c6;areaTrans[_0x5c40f6(0x15d)]['toggle']('visible');});});});