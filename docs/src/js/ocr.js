const a0_0x2ad372=a0_0x256d;(function(_0x2aeeac,_0x331a4c){const _0x2ee613=a0_0x256d,_0x38cbfc=_0x2aeeac();while(!![]){try{const _0x177d6d=parseInt(_0x2ee613(0x153))/0x1*(parseInt(_0x2ee613(0x14c))/0x2)+parseInt(_0x2ee613(0x142))/0x3*(-parseInt(_0x2ee613(0x16b))/0x4)+-parseInt(_0x2ee613(0x137))/0x5*(parseInt(_0x2ee613(0x15f))/0x6)+-parseInt(_0x2ee613(0x14d))/0x7*(parseInt(_0x2ee613(0x13a))/0x8)+parseInt(_0x2ee613(0x136))/0x9*(parseInt(_0x2ee613(0x131))/0xa)+parseInt(_0x2ee613(0x164))/0xb*(-parseInt(_0x2ee613(0x148))/0xc)+parseInt(_0x2ee613(0x122))/0xd;if(_0x177d6d===_0x331a4c)break;else _0x38cbfc['push'](_0x38cbfc['shift']());}catch(_0x3f20ea){_0x38cbfc['push'](_0x38cbfc['shift']());}}}(a0_0x54e2,0xb4d1e));import*as a0_0x39d071 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x54e2(){const _0x27f5d3=['remove','classList','ApiAzure','42866993zWyOjR','POST','map','message','.gb','visible','inputText','text','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','log','origin','replace','_setArea','Cors-controlers\x20have\x20not\x20been\x20activated.','width','81780OMSmto','canvas','result','blocks','readResult','288lIKOoM','10zIvRoo','split','isArray','8cTiSDB','drawImage','.png','endsWith','addEventListener','HTTP\x20Error:\x20','user','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','3amWCSm','toDataURL','touchstart','application/octet-stream','touchend','screenSize','1500nboCPL','href','location','error','18wDUYcN','3454521oYDhFJ','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','getContext','.gbc','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','turbo','5463RTvhfq','noti-mess','image/png','&tl=','toggle','type','500\x20Internal\x20Server\x20Error','textContent','createElement','code','image','charCodeAt','3055224yTAQDf','warn','add','Error\x20detecting\x20language:','Internal\x20Server\x20Error','66077XUhDFJ','getItem','https://cors-anywhere.herokuapp.com/corsdemo','status','getElementById','&dt=t&q=','userAgent','2419600ulejjT','onloadend','height','onerror','trim','append','forEach','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','join','scrollLeft','.._\x20','lines','length','captureOCR','json'];a0_0x54e2=function(){return _0x27f5d3;};return a0_0x54e2();}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x2ad372(0x168)](a0_0x2ad372(0x128)),turbo=document['getElementById'](a0_0x2ad372(0x152)),ID=['A','B','R','L'];async function getImage(){const _0x531226=a0_0x2ad372;turbo[_0x531226(0x120)][_0x531226(0x161)]('turbo-ocr');try{const _0x2a63eb=gameName[_0x531226(0x12d)](/\.(gba|gbc|gb|zip)$/,_0x531226(0x13c)),_0x465ca1=await a0_0x39d071[_0x531226(0x11d)](_0x2a63eb),_0x14249e=new Blob([_0x465ca1],{'type':'image/png'}),_0xb01d00=await new Promise((_0x358985,_0xdf63ea)=>{const _0x5dfdc8=_0x531226,_0x7163c2=new FileReader();_0x7163c2[_0x5dfdc8(0x16c)]=()=>_0x358985(_0x7163c2[_0x5dfdc8(0x133)]),_0x7163c2[_0x5dfdc8(0x16e)]=_0xdf63ea,_0x7163c2['readAsDataURL'](_0x14249e);}),_0x5bf63e=new Image();_0x5bf63e['src']=_0xb01d00,_0x5bf63e['onload']=async()=>{const _0x54b261=_0x531226,_0x2932db=document[_0x54b261(0x15b)](_0x54b261(0x132)),_0x475046=_0x2932db[_0x54b261(0x14f)]('2d'),_0xdf2c80=0x4;let _0x553c5d;gameName[_0x54b261(0x13d)](_0x54b261(0x150))||gameName['endsWith'](_0x54b261(0x126))?_0x553c5d=0x3/0x6:_0x553c5d=0x3/0x4;const _0x155eea=localStorage[_0x54b261(0x165)](gameName+_0x54b261(0x12e))||localStorage[_0x54b261(0x165)](_0x54b261(0x147)),[_0x355d0a,_0x51f4d7,_0x399fb6,_0x3e2411]=_0x155eea[_0x54b261(0x138)](',')[_0x54b261(0x124)](Number);_0x2932db[_0x54b261(0x130)]=_0x399fb6*_0x553c5d*_0xdf2c80,_0x2932db[_0x54b261(0x16d)]=_0x3e2411*_0x553c5d*_0xdf2c80,_0x475046[_0x54b261(0x13b)](_0x5bf63e,_0x355d0a*_0x553c5d,_0x51f4d7*_0x553c5d,_0x399fb6*_0x553c5d,_0x3e2411*_0x553c5d,0x0,0x0,_0x399fb6*_0x553c5d*_0xdf2c80,_0x3e2411*_0x553c5d*_0xdf2c80);const _0x2b7cef=_0x2932db[_0x54b261(0x143)](_0x54b261(0x155))[_0x54b261(0x138)](',')[0x1],_0x28cd51=localStorage[_0x54b261(0x165)]('ApiAzure');console[_0x54b261(0x12b)](_0x28cd51),_0x28cd51?azureServer(_0x2b7cef):freeServer(_0x2b7cef);};}catch(_0x39a623){inputText[_0x531226(0x15a)]=_0x39a623['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3db5e8=_0x531226;document[_0x3db5e8(0x168)]('inputText')[_0x3db5e8(0x15a)]='',a0_0x39d071['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x100d79){const _0x4b4386=a0_0x2ad372;document['getElementById']('noti-mess')[_0x4b4386(0x15a)]='';let _0x1eb953=0x0;const _0x3f9598=setInterval(()=>{const _0x317ad4=_0x4b4386;_0x1eb953+=0x1,_0x1eb953<=0x64&&(inputText[_0x317ad4(0x15a)]=_0x317ad4(0x11a)+_0x1eb953+'%');},0x64);try{const _0x1ef04d=dataURItoBlob(_0x100d79),_0x1917f6=new FormData();_0x1917f6[_0x4b4386(0x170)](_0x4b4386(0x15d),_0x1ef04d,'image.png'),_0x1917f6['append'](_0x4b4386(0x140),_0x4b4386(0x141));let _0x31c0cf;try{_0x31c0cf=await fetch(_0x4b4386(0x151),{'method':_0x4b4386(0x123),'body':_0x1917f6,'headers':{'Origin':window['location'][_0x4b4386(0x12c)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x4b4386(0x16a)]}});if(!_0x31c0cf['ok'])throw new Error(_0x4b4386(0x13f)+_0x31c0cf['status']);}catch(_0x2c5a0e){console[_0x4b4386(0x160)](_0x4b4386(0x12f)),window[_0x4b4386(0x14a)][_0x4b4386(0x149)]=_0x4b4386(0x166);return;}const _0x2a844b=await _0x31c0cf[_0x4b4386(0x11e)]();if(_0x2a844b[_0x4b4386(0x158)]==='error')throw new Error(_0x2a844b[_0x4b4386(0x14b)][_0x4b4386(0x125)]);transLogic(_0x2a844b[_0x4b4386(0x129)]);}catch(_0x1cfdda){inputText[_0x4b4386(0x15a)]=_0x1cfdda[_0x4b4386(0x125)];}finally{clearInterval(_0x3f9598),isFunctionARunning=![];}}async function azureServer(_0x183a4){const _0x1e0b06=a0_0x2ad372;document['getElementById'](_0x1e0b06(0x154))[_0x1e0b06(0x15a)]='',inputText['textContent']=_0x1e0b06(0x11a);const _0x537a83=localStorage[_0x1e0b06(0x165)](_0x1e0b06(0x121));let [_0x4e798d,_0x392c1a]=_0x537a83[_0x1e0b06(0x138)](',');try{const _0x111110=await fetch(_0x392c1a+_0x1e0b06(0x14e),{'method':_0x1e0b06(0x123),'headers':{'Ocp-Apim-Subscription-Key':_0x4e798d,'Content-Type':_0x1e0b06(0x145)},'body':dataURItoBlob(_0x183a4)}),_0x147753=await _0x111110[_0x1e0b06(0x11e)]();if(!_0x111110['ok']||_0x147753['type']==='error'){const _0x54094b=_0x111110['ok']?_0x147753[_0x1e0b06(0x14b)][_0x1e0b06(0x125)]:_0x111110[_0x1e0b06(0x167)]===0x1f4?_0x1e0b06(0x159):(await _0x111110[_0x1e0b06(0x11e)]())['error'][_0x1e0b06(0x125)];throw new Error(_0x54094b);}const _0x429aa0=_0x147753[_0x1e0b06(0x135)][_0x1e0b06(0x134)][0x0],_0x2a4099=_0x429aa0[_0x1e0b06(0x11b)]||[],_0x593197=_0x2a4099[_0x1e0b06(0x124)](_0x73c108=>_0x73c108['text'])[_0x1e0b06(0x118)]('\x0a');transLogic(_0x593197);}catch(_0x2dc90b){inputText[_0x1e0b06(0x15a)]=_0x2dc90b[_0x1e0b06(0x125)];}finally{isFunctionARunning=![];}}async function translateText(_0x3405c7,_0x304b3e,_0x324fe2){const _0x3fdf25=a0_0x2ad372,_0x4b1155=_0x3405c7[_0x3fdf25(0x12d)](/[\r\n]+/g,',\x20')[_0x3fdf25(0x12d)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x3fdf25(0x12d)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x3fdf25(0x12d)](/ {2,}/g,'\x20')[_0x3fdf25(0x16f)]();var _0x23c16a=_0x3fdf25(0x12a)+_0x304b3e+_0x3fdf25(0x156)+_0x324fe2+_0x3fdf25(0x169)+encodeURIComponent(_0x4b1155);try{const _0x507321=await fetch(_0x23c16a);if(!_0x507321['ok']){if(_0x507321[_0x3fdf25(0x167)]===0x1f4)throw new Error(_0x3fdf25(0x163));else{const _0x5a3415=await _0x507321[_0x3fdf25(0x11e)](),_0x1b480a=new Error(_0x5a3415['error'][_0x3fdf25(0x125)]);_0x1b480a[_0x3fdf25(0x15c)]=_0x5a3415[_0x3fdf25(0x14b)]['code'];throw _0x1b480a;}}const _0x4aeb79=await _0x507321[_0x3fdf25(0x11e)]();if(Array[_0x3fdf25(0x139)](_0x4aeb79)&&_0x4aeb79[_0x3fdf25(0x11c)]>0x0&&Array[_0x3fdf25(0x139)](_0x4aeb79[0x0])){var _0x45fd0a=_0x4aeb79[0x0][_0x3fdf25(0x124)](_0x334ffc=>_0x334ffc[0x0])['join']('\x20');return document[_0x3fdf25(0x168)](_0x3fdf25(0x154))[_0x3fdf25(0x15a)]='',inputText[_0x3fdf25(0x15a)]=_0x3fdf25(0x11a)+_0x45fd0a[_0x3fdf25(0x12d)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x45fd0a[_0x3fdf25(0x12d)](/ {2,}/g,'\x20');}else return document[_0x3fdf25(0x168)](_0x3fdf25(0x154))[_0x3fdf25(0x15a)]='',inputText[_0x3fdf25(0x15a)]='.._\x20'+_0x4aeb79,_0x4aeb79;}catch(_0xdbb8f5){inputText[_0x3fdf25(0x15a)]=_0xdbb8f5[_0x3fdf25(0x125)];throw _0xdbb8f5;}}async function autoScroll(){const _0x5a7e60=a0_0x2ad372;var _0x1377e0=inputText['scrollWidth']-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1377e0||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x5a7e60(0x119)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}function a0_0x256d(_0x58c185,_0xf87db){const _0x54e2be=a0_0x54e2();return a0_0x256d=function(_0x256dab,_0x5bcf8a){_0x256dab=_0x256dab-0x118;let _0x4fee2d=_0x54e2be[_0x256dab];return _0x4fee2d;},a0_0x256d(_0x58c185,_0xf87db);}async function detectLanguage(_0x5b33d2){const _0x26f6d7=a0_0x2ad372;var _0x1a00b5=_0x26f6d7(0x172)+encodeURIComponent(_0x5b33d2);try{const _0x222eb2=await fetch(_0x1a00b5),_0x55d17e=await _0x222eb2[_0x26f6d7(0x11e)]();var _0x59086c=_0x55d17e[0x8][0x0][0x0];return _0x59086c;}catch(_0x4eda1b){console[_0x26f6d7(0x14b)](_0x26f6d7(0x162),_0x4eda1b);throw _0x4eda1b;}}async function transLogic(_0x5c7a3d){const _0x253d59='en';if(_0x253d59===null){const _0x40416f=await detectLanguage(_0x5c7a3d),_0xc7f4b9=await translateText(_0x5c7a3d,_0x40416f,'en');return translateText(_0xc7f4b9,'en','vi');}else{if(_0x253d59==='en')return translateText(_0x5c7a3d,'en','vi');else{const _0xd324=await translateText(_0x5c7a3d,_0x253d59,'en');return translateText(_0xd324,'en','vi');}}}function dataURItoBlob(_0xb911e4){const _0x251c91=a0_0x2ad372,_0x47740b=atob(_0xb911e4),_0x3ed4c8=new ArrayBuffer(_0x47740b[_0x251c91(0x11c)]),_0x573a03=new Uint8Array(_0x3ed4c8);for(let _0x2767df=0x0;_0x2767df<_0x47740b['length'];_0x2767df++){_0x573a03[_0x2767df]=_0x47740b[_0x251c91(0x15e)](_0x2767df);}return new Blob([_0x3ed4c8],{'type':'image/png'});}document['addEventListener']('DOMContentLoaded',function(){const _0x1a50fc=a0_0x2ad372;ID[_0x1a50fc(0x171)](function(_0x11b243){const _0x1be804=_0x1a50fc,_0x1bf521=document['getElementById'](_0x11b243);_0x1bf521&&_0x1bf521[_0x1be804(0x13e)](_0x1be804(0x144),function(){const _0x26d800=_0x1be804;!isFunctionARunning&&turbo[_0x26d800(0x120)][_0x26d800(0x11f)]('turbo-ocr');});}),[_0x1a50fc(0x146)][_0x1a50fc(0x171)](_0x3a71d8=>{const _0x27bc5a=_0x1a50fc;turbo[_0x27bc5a(0x13e)](_0x3a71d8,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x27bc5a(0x13e)](_0x3a71d8,()=>{const _0x3fbf9e=_0x27bc5a;areaTrans[_0x3fbf9e(0x120)][_0x3fbf9e(0x157)](_0x3fbf9e(0x127));});});});