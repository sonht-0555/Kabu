const a0_0xb4d586=a0_0x2606;(function(_0x3a5452,_0x289e9e){const _0x324490=a0_0x2606,_0x39a8b5=_0x3a5452();while(!![]){try{const _0x162c08=-parseInt(_0x324490(0x200))/0x1+-parseInt(_0x324490(0x1df))/0x2*(parseInt(_0x324490(0x1d7))/0x3)+parseInt(_0x324490(0x206))/0x4*(parseInt(_0x324490(0x1ce))/0x5)+-parseInt(_0x324490(0x1ee))/0x6*(parseInt(_0x324490(0x20a))/0x7)+-parseInt(_0x324490(0x1f8))/0x8+parseInt(_0x324490(0x203))/0x9+parseInt(_0x324490(0x1f4))/0xa;if(_0x162c08===_0x289e9e)break;else _0x39a8b5['push'](_0x39a8b5['shift']());}catch(_0x317654){_0x39a8b5['push'](_0x39a8b5['shift']());}}}(a0_0x51c2,0xba636));import*as a0_0x22ca93 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0xb4d586(0x211)),turbo=document['getElementById']('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x5f5075=a0_0xb4d586;turbo['classList']['add']('turbo-ocr');try{const _0x2f4e6a=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x5f5075(0x1fa)),_0x2b1015=await a0_0x22ca93[_0x5f5075(0x20c)](_0x2f4e6a),_0x25fcdb=new Blob([_0x2b1015],{'type':_0x5f5075(0x1fc)}),_0x590833=await new Promise((_0x1095ac,_0x412ae2)=>{const _0x45d5c0=_0x5f5075,_0x468d5b=new FileReader();_0x468d5b['onloadend']=()=>_0x1095ac(_0x468d5b['result']),_0x468d5b['onerror']=_0x412ae2,_0x468d5b[_0x45d5c0(0x1ed)](_0x25fcdb);}),_0x1c437c=new Image();_0x1c437c[_0x5f5075(0x1dc)]=_0x590833,_0x1c437c['onload']=async()=>{const _0x44eca=_0x5f5075,_0x2343a0=document['createElement'](_0x44eca(0x214)),_0x3d5aab=_0x2343a0[_0x44eca(0x1ef)]('2d'),_0x58c28f=0x4;let _0x369245;gameName[_0x44eca(0x1f1)]('.gbc')||gameName[_0x44eca(0x1f1)](_0x44eca(0x1e4))?_0x369245=0x3/0x6:_0x369245=0x3/0x4;const _0x334eac=localStorage[_0x44eca(0x1e9)](gameName+_0x44eca(0x1d2))||localStorage['getItem'](_0x44eca(0x1db)),[_0x14f5b7,_0x439449,_0x4028f7,_0x2b2abd]=_0x334eac['split'](',')[_0x44eca(0x212)](Number);_0x2343a0[_0x44eca(0x1d5)]=_0x4028f7*_0x369245*_0x58c28f,_0x2343a0[_0x44eca(0x20f)]=_0x2b2abd*_0x369245*_0x58c28f,_0x3d5aab[_0x44eca(0x1fd)](_0x1c437c,_0x14f5b7*_0x369245,_0x439449*_0x369245,_0x4028f7*_0x369245,_0x2b2abd*_0x369245,0x0,0x0,_0x4028f7*_0x369245*_0x58c28f,_0x2b2abd*_0x369245*_0x58c28f);const _0x2a68dc=_0x2343a0[_0x44eca(0x215)](_0x44eca(0x1fc))[_0x44eca(0x1ff)](',')[0x1],_0x52ac34=localStorage[_0x44eca(0x1e9)](_0x44eca(0x216));console[_0x44eca(0x1fe)](_0x52ac34),_0x52ac34?azureServer(_0x2a68dc):freeServer(_0x2a68dc);};}catch(_0x18b89e){inputText[_0x5f5075(0x1cf)]=_0x18b89e[_0x5f5075(0x209)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x35d974=_0x5f5075;document[_0x35d974(0x1f5)](_0x35d974(0x211))[_0x35d974(0x1cf)]='',a0_0x22ca93[_0x35d974(0x1ec)]('',0x0);},0x7530);}async function freeServer(_0xc90036){const _0x318161=a0_0xb4d586;document[_0x318161(0x1f5)](_0x318161(0x217))[_0x318161(0x1cf)]='';let _0x137eda=0x0;const _0xc98775=setInterval(()=>{const _0x1aaaa8=_0x318161;_0x137eda+=0x1,_0x137eda<=0x64&&(inputText[_0x1aaaa8(0x1cf)]=_0x1aaaa8(0x1f0)+_0x137eda+'%');},0x64);try{const _0x5d3946=dataURItoBlob(_0xc90036),_0x3d7dda=new FormData();_0x3d7dda['append'](_0x318161(0x207),_0x5d3946,'image.png'),_0x3d7dda[_0x318161(0x1d6)](_0x318161(0x202),_0x318161(0x204));let _0x2ee14e;try{_0x2ee14e=await fetch(_0x318161(0x20b),{'method':_0x318161(0x1e8),'body':_0x3d7dda,'headers':{'Origin':window[_0x318161(0x1ea)]['origin'],'X-Requested-With':_0x318161(0x1e6),'User-Agent':navigator[_0x318161(0x1f9)]}});if(!_0x2ee14e['ok'])throw new Error(_0x318161(0x1f6)+_0x2ee14e['status']);}catch(_0x555d52){console[_0x318161(0x1eb)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x318161(0x1ea)]['href']=_0x318161(0x1d8);return;}const _0x412cad=await _0x2ee14e[_0x318161(0x213)]();if(_0x412cad['type']===_0x318161(0x21a))throw new Error(_0x412cad[_0x318161(0x21a)][_0x318161(0x209)]);transLogic(_0x412cad['text']);}catch(_0xe1c936){inputText[_0x318161(0x1cf)]=_0xe1c936['message'];}finally{clearInterval(_0xc98775),isFunctionARunning=![];}}async function azureServer(_0x511fe5){const _0x42b565=a0_0xb4d586;document[_0x42b565(0x1f5)](_0x42b565(0x217))[_0x42b565(0x1cf)]='',inputText[_0x42b565(0x1cf)]=_0x42b565(0x1f0);const _0x426e90=localStorage['getItem'](_0x42b565(0x216));let [_0x1aab58,_0x31df2c]=_0x426e90['split'](',');try{const _0x3fecff=await fetch(_0x31df2c+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x42b565(0x1e8),'headers':{'Ocp-Apim-Subscription-Key':_0x1aab58,'Content-Type':_0x42b565(0x1e0)},'body':dataURItoBlob(_0x511fe5)}),_0x2675ab=await _0x3fecff[_0x42b565(0x213)]();if(!_0x3fecff['ok']||_0x2675ab[_0x42b565(0x1e5)]===_0x42b565(0x21a)){const _0x10c457=_0x3fecff['ok']?_0x2675ab['error'][_0x42b565(0x209)]:_0x3fecff[_0x42b565(0x1de)]===0x1f4?_0x42b565(0x201):(await _0x3fecff[_0x42b565(0x213)]())[_0x42b565(0x21a)][_0x42b565(0x209)];throw new Error(_0x10c457);}const _0x401ddf=_0x2675ab[_0x42b565(0x1d1)][_0x42b565(0x219)][0x0],_0x3e04c9=_0x401ddf[_0x42b565(0x1e1)]||[],_0x450498=_0x3e04c9[_0x42b565(0x212)](_0x48995f=>_0x48995f[_0x42b565(0x1d9)])[_0x42b565(0x1f2)]('\x0a');transLogic(_0x450498);}catch(_0x729fd){inputText[_0x42b565(0x1cf)]=_0x729fd['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x2c139b,_0x124711,_0x4bffd5){const _0x5bf202=a0_0xb4d586,_0x1068bf=_0x2c139b[_0x5bf202(0x1d3)](/[\r\n]+/g,',\x20')[_0x5bf202(0x1d3)](/([!?.,])\s*,\s*/g,_0x5bf202(0x205))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x5bf202(0x1d3)](/ {2,}/g,'\x20')['trim']();var _0x517e37='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x124711+'&tl='+_0x4bffd5+_0x5bf202(0x1f3)+encodeURIComponent(_0x1068bf);try{const _0xcbdedb=await fetch(_0x517e37);if(!_0xcbdedb['ok']){if(_0xcbdedb['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x3ba644=await _0xcbdedb[_0x5bf202(0x213)](),_0x71cf74=new Error(_0x3ba644['error'][_0x5bf202(0x209)]);_0x71cf74[_0x5bf202(0x1d4)]=_0x3ba644[_0x5bf202(0x21a)]['code'];throw _0x71cf74;}}const _0x473f05=await _0xcbdedb[_0x5bf202(0x213)]();if(Array[_0x5bf202(0x1da)](_0x473f05)&&_0x473f05[_0x5bf202(0x208)]>0x0&&Array[_0x5bf202(0x1da)](_0x473f05[0x0])){var _0x4e28c4=_0x473f05[0x0][_0x5bf202(0x212)](_0x83198f=>_0x83198f[0x0])[_0x5bf202(0x1f2)]('\x20');return document[_0x5bf202(0x1f5)](_0x5bf202(0x217))[_0x5bf202(0x1cf)]='',inputText[_0x5bf202(0x1cf)]=_0x5bf202(0x1f0)+_0x4e28c4[_0x5bf202(0x1d3)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4e28c4['replace'](/ {2,}/g,'\x20');}else return document[_0x5bf202(0x1f5)](_0x5bf202(0x217))['textContent']='',inputText[_0x5bf202(0x1cf)]=_0x5bf202(0x1f0)+_0x473f05,_0x473f05;}catch(_0x27e0fb){inputText[_0x5bf202(0x1cf)]=_0x27e0fb[_0x5bf202(0x209)];throw _0x27e0fb;}}async function autoScroll(){const _0x407f14=a0_0xb4d586;var _0x62cbf=inputText[_0x407f14(0x1fb)]-inputText[_0x407f14(0x1e7)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x62cbf||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x407f14(0x210)]=scrollAmount,requestAnimationFrame(autoScroll);}function a0_0x51c2(){const _0x2ca124=['getItem','location','warn','notiMessage','readAsDataURL','342RMUfyG','getContext','.._\x20','endsWith','join','&dt=t&q=','670540xFXmhs','getElementById','HTTP\x20Error:\x20','visible','1584448aymKEj','userAgent','.png','scrollWidth','image/png','drawImage','log','split','356681ZVOIgM','500\x20Internal\x20Server\x20Error','user','12385458xpINsm','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','$1\x20','12SvYVBi','image','length','message','28049tsAivI','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','captureOCR','addEventListener','touchend','height','scrollLeft','inputText','map','json','canvas','toDataURL','ApiAzure','noti-mess','classList','blocks','error','forEach','927670OEBmyB','textContent','Error\x20detecting\x20language:','readResult','_setArea','replace','code','width','append','48561GWVYfM','https://cors-anywhere.herokuapp.com/corsdemo','text','isArray','screenSize','src','turbo-ocr','status','56YUGIcC','application/octet-stream','lines','DOMContentLoaded','remove','.gb','type','XMLHttpRequest','clientWidth','POST'];a0_0x51c2=function(){return _0x2ca124;};return a0_0x51c2();}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x409786){const _0x5ed612=a0_0xb4d586;var _0x7908cc='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x409786);try{const _0x420aa9=await fetch(_0x7908cc),_0x4e8845=await _0x420aa9[_0x5ed612(0x213)]();var _0x31594e=_0x4e8845[0x8][0x0][0x0];return _0x31594e;}catch(_0x31edc4){console[_0x5ed612(0x21a)](_0x5ed612(0x1d0),_0x31edc4);throw _0x31edc4;}}async function transLogic(_0x55b91f){const _0x5e9485='en';if(_0x5e9485===null){const _0x45a89e=await detectLanguage(_0x55b91f),_0x36837b=await translateText(_0x55b91f,_0x45a89e,'en');return translateText(_0x36837b,'en','vi');}else{if(_0x5e9485==='en')return translateText(_0x55b91f,'en','vi');else{const _0x3dcddc=await translateText(_0x55b91f,_0x5e9485,'en');return translateText(_0x3dcddc,'en','vi');}}}function dataURItoBlob(_0xb7c410){const _0x456044=a0_0xb4d586,_0x3e715c=atob(_0xb7c410),_0x3ba778=new ArrayBuffer(_0x3e715c[_0x456044(0x208)]),_0x116533=new Uint8Array(_0x3ba778);for(let _0x1f0427=0x0;_0x1f0427<_0x3e715c['length'];_0x1f0427++){_0x116533[_0x1f0427]=_0x3e715c['charCodeAt'](_0x1f0427);}return new Blob([_0x3ba778],{'type':_0x456044(0x1fc)});}function a0_0x2606(_0x3cd454,_0x4fc3c1){const _0x51c2b8=a0_0x51c2();return a0_0x2606=function(_0x2606a8,_0x1af286){_0x2606a8=_0x2606a8-0x1ce;let _0x1944d1=_0x51c2b8[_0x2606a8];return _0x1944d1;},a0_0x2606(_0x3cd454,_0x4fc3c1);}document['addEventListener'](a0_0xb4d586(0x1e2),function(){const _0x3fe313=a0_0xb4d586;ID['forEach'](function(_0x2db956){const _0x3d1f8b=a0_0x2606,_0x2c7184=document[_0x3d1f8b(0x1f5)](_0x2db956);_0x2c7184&&_0x2c7184[_0x3d1f8b(0x20d)]('touchstart',function(){const _0x1327cd=_0x3d1f8b;!isFunctionARunning&&turbo[_0x1327cd(0x218)][_0x1327cd(0x1e3)](_0x1327cd(0x1dd));});}),[_0x3fe313(0x20e)][_0x3fe313(0x21b)](_0x1b2913=>{const _0x19e4c3=_0x3fe313;turbo[_0x19e4c3(0x20d)](_0x1b2913,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x19e4c3(0x20d)](_0x1b2913,()=>{const _0x8f5ce2=_0x19e4c3;areaTrans['classList']['toggle'](_0x8f5ce2(0x1f7));});});});