const a0_0x47355e=a0_0x2d23;(function(_0x5dc0ad,_0x34511b){const _0x54cb82=a0_0x2d23,_0x570751=_0x5dc0ad();while(!![]){try{const _0x1e04a6=parseInt(_0x54cb82(0x185))/0x1+parseInt(_0x54cb82(0x16c))/0x2+-parseInt(_0x54cb82(0x164))/0x3*(parseInt(_0x54cb82(0x18a))/0x4)+parseInt(_0x54cb82(0x15c))/0x5+-parseInt(_0x54cb82(0x163))/0x6+-parseInt(_0x54cb82(0x183))/0x7+parseInt(_0x54cb82(0x192))/0x8;if(_0x1e04a6===_0x34511b)break;else _0x570751['push'](_0x570751['shift']());}catch(_0x4e917a){_0x570751['push'](_0x570751['shift']());}}}(a0_0x12a7,0x4a0c0));import*as a0_0x557e3f from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x2d23(_0x16398f,_0x1ddd86){const _0x12a72a=a0_0x12a7();return a0_0x2d23=function(_0x2d235e,_0x10aecc){_0x2d235e=_0x2d235e-0x15a;let _0x30b67b=_0x12a72a[_0x2d235e];return _0x30b67b;},a0_0x2d23(_0x16398f,_0x1ddd86);}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x47355e(0x199)](a0_0x47355e(0x18b)),turbo=document[a0_0x47355e(0x199)](a0_0x47355e(0x193)),ID=['A','B','R','L'];async function getImage(){const _0x4bb760=a0_0x47355e;turbo[_0x4bb760(0x180)]['add'](_0x4bb760(0x176));try{const _0x59c761=gameName[_0x4bb760(0x1a4)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x529fe9=await a0_0x557e3f[_0x4bb760(0x179)](_0x59c761),_0x4c9f6e=new Blob([_0x529fe9],{'type':_0x4bb760(0x15d)}),_0x35a8fa=await new Promise((_0x2c11fa,_0x210181)=>{const _0x26b524=_0x4bb760,_0x386846=new FileReader();_0x386846['onloadend']=()=>_0x2c11fa(_0x386846[_0x26b524(0x197)]),_0x386846[_0x26b524(0x171)]=_0x210181,_0x386846[_0x26b524(0x1a0)](_0x4c9f6e);}),_0x4960a1=new Image();_0x4960a1['src']=_0x35a8fa,_0x4960a1[_0x4bb760(0x15a)]=async()=>{const _0x11bdea=_0x4bb760,_0x53d072=document[_0x11bdea(0x160)](_0x11bdea(0x18e)),_0x51313d=_0x53d072[_0x11bdea(0x17b)]('2d'),_0x48d6d8=0x4;let _0x14135f;gameName[_0x11bdea(0x184)](_0x11bdea(0x1a2))||gameName[_0x11bdea(0x184)](_0x11bdea(0x15f))?_0x14135f=0x3/0x6:_0x14135f=0x3/0x4;const _0x38af3d=localStorage[_0x11bdea(0x18d)](gameName+'_setArea')||localStorage[_0x11bdea(0x18d)](_0x11bdea(0x15b)),[_0x5e53bc,_0x236165,_0x4e1e73,_0x281507]=_0x38af3d[_0x11bdea(0x1a1)](',')[_0x11bdea(0x16f)](Number);_0x53d072[_0x11bdea(0x190)]=_0x4e1e73*_0x14135f*_0x48d6d8,_0x53d072[_0x11bdea(0x189)]=_0x281507*_0x14135f*_0x48d6d8,_0x51313d[_0x11bdea(0x17d)](_0x4960a1,_0x5e53bc*_0x14135f,_0x236165*_0x14135f,_0x4e1e73*_0x14135f,_0x281507*_0x14135f,0x0,0x0,_0x4e1e73*_0x14135f*_0x48d6d8,_0x281507*_0x14135f*_0x48d6d8);const _0x5d983e=_0x53d072['toDataURL'](_0x11bdea(0x15d))['split'](',')[0x1],_0x547acb=localStorage[_0x11bdea(0x18d)](_0x11bdea(0x195));console[_0x11bdea(0x16d)](_0x547acb),_0x547acb?azureServer(_0x5d983e):freeServer(_0x5d983e);};}catch(_0x1b4915){inputText[_0x4bb760(0x18f)]=_0x1b4915['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x451b0f=_0x4bb760;document['getElementById'](_0x451b0f(0x18b))[_0x451b0f(0x18f)]='',a0_0x557e3f[_0x451b0f(0x181)]('',0x0);},0x7530);}async function freeServer(_0x51dae5){const _0x59cc79=a0_0x47355e;document[_0x59cc79(0x199)](_0x59cc79(0x191))[_0x59cc79(0x18f)]='';let _0x32c686=0x0;const _0x5c6e8a=setInterval(()=>{const _0x410dc3=_0x59cc79;_0x32c686+=0x1,_0x32c686<=0x64&&(inputText[_0x410dc3(0x18f)]='.._\x20'+_0x32c686+'%');},0x64);try{const _0x2fe625=dataURItoBlob(_0x51dae5),_0x13effa=new FormData();_0x13effa[_0x59cc79(0x168)](_0x59cc79(0x178),_0x2fe625,_0x59cc79(0x186)),_0x13effa[_0x59cc79(0x168)]('user',_0x59cc79(0x16b));let _0x4b299e;try{_0x4b299e=await fetch(_0x59cc79(0x188),{'method':_0x59cc79(0x182),'body':_0x13effa,'headers':{'Origin':window[_0x59cc79(0x172)]['origin'],'X-Requested-With':_0x59cc79(0x19d),'User-Agent':navigator['userAgent']}});if(!_0x4b299e['ok'])throw new Error(_0x59cc79(0x196)+_0x4b299e[_0x59cc79(0x19c)]);}catch(_0x56c2be){console['warn'](_0x59cc79(0x17e)),window[_0x59cc79(0x172)][_0x59cc79(0x162)]=_0x59cc79(0x174);return;}const _0x679761=await _0x4b299e[_0x59cc79(0x198)]();if(_0x679761[_0x59cc79(0x17f)]===_0x59cc79(0x173))throw new Error(_0x679761['error'][_0x59cc79(0x17a)]);transLogic(_0x679761['text']);}catch(_0x2feacf){inputText['textContent']=_0x2feacf[_0x59cc79(0x17a)];}finally{clearInterval(_0x5c6e8a),isFunctionARunning=![];}}function a0_0x12a7(){const _0x17ffa6=['result','json','getElementById','code','forEach','status','XMLHttpRequest','application/octet-stream','.._\x20','readAsDataURL','split','.gbc','scrollWidth','replace','touchstart','onload','screenSize','2526030wAIBdh','image/png','Internal\x20Server\x20Error','.gb','createElement','length','href','2594832hnMbnI','15gddjbh','readResult','trim','scrollLeft','append','&dt=t&q=','&tl=','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','159268KxixmN','log','lines','map','addEventListener','onerror','location','error','https://cors-anywhere.herokuapp.com/corsdemo','visible','turbo-ocr','clientWidth','image','captureOCR','message','getContext','Error\x20detecting\x20language:','drawImage','Cors-controlers\x20have\x20not\x20been\x20activated.','type','classList','notiMessage','POST','2253454KaTIAt','endsWith','283070pxwrgf','image.png','DOMContentLoaded','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','height','324076vAyyDo','inputText','join','getItem','canvas','textContent','width','noti-mess','4759000uSWNWb','turbo','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','ApiAzure','HTTP\x20Error:\x20'];a0_0x12a7=function(){return _0x17ffa6;};return a0_0x12a7();}async function azureServer(_0xa9ed3f){const _0x2a68ed=a0_0x47355e;document[_0x2a68ed(0x199)]('noti-mess')[_0x2a68ed(0x18f)]='',inputText[_0x2a68ed(0x18f)]=_0x2a68ed(0x19f);const _0x11f9df=localStorage['getItem'](_0x2a68ed(0x195));let [_0x256047,_0x3f4d2c]=_0x11f9df[_0x2a68ed(0x1a1)](',');try{const _0x4aff15=await fetch(_0x3f4d2c+_0x2a68ed(0x194),{'method':_0x2a68ed(0x182),'headers':{'Ocp-Apim-Subscription-Key':_0x256047,'Content-Type':_0x2a68ed(0x19e)},'body':dataURItoBlob(_0xa9ed3f)}),_0x173864=await _0x4aff15[_0x2a68ed(0x198)]();if(!_0x4aff15['ok']||_0x173864[_0x2a68ed(0x17f)]==='error'){const _0x2cb72d=_0x4aff15['ok']?_0x173864[_0x2a68ed(0x173)][_0x2a68ed(0x17a)]:_0x4aff15[_0x2a68ed(0x19c)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x4aff15[_0x2a68ed(0x198)]())[_0x2a68ed(0x173)][_0x2a68ed(0x17a)];throw new Error(_0x2cb72d);}const _0x2f4f95=_0x173864[_0x2a68ed(0x165)]['blocks'][0x0],_0x2994df=_0x2f4f95[_0x2a68ed(0x16e)]||[],_0x39543a=_0x2994df[_0x2a68ed(0x16f)](_0x5762aa=>_0x5762aa['text'])[_0x2a68ed(0x18c)]('\x0a');transLogic(_0x39543a);}catch(_0xd41c0d){inputText[_0x2a68ed(0x18f)]=_0xd41c0d['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x455541,_0x2bfc97,_0x1bb11a){const _0x35d9e4=a0_0x47355e,_0x2a2b60=_0x455541['replace'](/[\r\n]+/g,',\x20')[_0x35d9e4(0x1a4)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x35d9e4(0x1a4)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x35d9e4(0x1a4)](/ {2,}/g,'\x20')[_0x35d9e4(0x166)]();var _0xa53f4e='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x2bfc97+_0x35d9e4(0x16a)+_0x1bb11a+_0x35d9e4(0x169)+encodeURIComponent(_0x2a2b60);try{const _0x434dc0=await fetch(_0xa53f4e);if(!_0x434dc0['ok']){if(_0x434dc0['status']===0x1f4)throw new Error(_0x35d9e4(0x15e));else{const _0x170499=await _0x434dc0[_0x35d9e4(0x198)](),_0x15d8d3=new Error(_0x170499[_0x35d9e4(0x173)][_0x35d9e4(0x17a)]);_0x15d8d3[_0x35d9e4(0x19a)]=_0x170499[_0x35d9e4(0x173)][_0x35d9e4(0x19a)];throw _0x15d8d3;}}const _0x31fdb1=await _0x434dc0[_0x35d9e4(0x198)]();if(Array['isArray'](_0x31fdb1)&&_0x31fdb1[_0x35d9e4(0x161)]>0x0&&Array['isArray'](_0x31fdb1[0x0])){var _0x1c2cfa=_0x31fdb1[0x0]['map'](_0x17abe7=>_0x17abe7[0x0])[_0x35d9e4(0x18c)]('\x20');return document[_0x35d9e4(0x199)](_0x35d9e4(0x191))[_0x35d9e4(0x18f)]='',inputText[_0x35d9e4(0x18f)]='.._\x20'+_0x1c2cfa[_0x35d9e4(0x1a4)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x1c2cfa['replace'](/ {2,}/g,'\x20');}else return document[_0x35d9e4(0x199)]('noti-mess')[_0x35d9e4(0x18f)]='',inputText[_0x35d9e4(0x18f)]=_0x35d9e4(0x19f)+_0x31fdb1,_0x31fdb1;}catch(_0x10433c){inputText[_0x35d9e4(0x18f)]=_0x10433c['message'];throw _0x10433c;}}async function autoScroll(){const _0xd46f6b=a0_0x47355e;var _0x510c3a=inputText[_0xd46f6b(0x1a3)]-inputText[_0xd46f6b(0x177)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x510c3a||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0xd46f6b(0x167)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x29e399){const _0xb8ff3f=a0_0x47355e;var _0x311ac5='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x29e399);try{const _0x46d929=await fetch(_0x311ac5),_0x5872f4=await _0x46d929[_0xb8ff3f(0x198)]();var _0x1d80db=_0x5872f4[0x8][0x0][0x0];return _0x1d80db;}catch(_0x8f112){console['error'](_0xb8ff3f(0x17c),_0x8f112);throw _0x8f112;}}async function transLogic(_0x40b61d){const _0x1b3c3a='en';if(_0x1b3c3a===null){const _0x57a2d1=await detectLanguage(_0x40b61d),_0x1eae57=await translateText(_0x40b61d,_0x57a2d1,'en');return translateText(_0x1eae57,'en','vi');}else{if(_0x1b3c3a==='en')return translateText(_0x40b61d,'en','vi');else{const _0x1b1a6d=await translateText(_0x40b61d,_0x1b3c3a,'en');return translateText(_0x1b1a6d,'en','vi');}}}function dataURItoBlob(_0x51f466){const _0x40e304=a0_0x47355e,_0x49e74f=atob(_0x51f466),_0x5e1195=new ArrayBuffer(_0x49e74f[_0x40e304(0x161)]),_0x1772e6=new Uint8Array(_0x5e1195);for(let _0x5260ca=0x0;_0x5260ca<_0x49e74f['length'];_0x5260ca++){_0x1772e6[_0x5260ca]=_0x49e74f['charCodeAt'](_0x5260ca);}return new Blob([_0x5e1195],{'type':_0x40e304(0x15d)});}document[a0_0x47355e(0x170)](a0_0x47355e(0x187),function(){const _0x1f77f6=a0_0x47355e;ID[_0x1f77f6(0x19b)](function(_0x4245c4){const _0x1a8122=_0x1f77f6,_0x3e84a5=document[_0x1a8122(0x199)](_0x4245c4);_0x3e84a5&&_0x3e84a5[_0x1a8122(0x170)](_0x1a8122(0x1a5),function(){!isFunctionARunning&&turbo['classList']['remove']('turbo-ocr');});}),['touchend'][_0x1f77f6(0x19b)](_0xc64b54=>{const _0x5ede6c=_0x1f77f6;turbo[_0x5ede6c(0x170)](_0xc64b54,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x5ede6c(0x170)](_0xc64b54,()=>{const _0x4b28c9=_0x5ede6c;areaTrans[_0x4b28c9(0x180)]['toggle'](_0x4b28c9(0x175));});});});