const a0_0xeb978c=a0_0xda44;function a0_0x5916(){const _0x10e6be=['width','remove','545336EmfzRj','182614NCGTtd','.gb','2806472NjcbSf','append','addEventListener','scrollLeft','turbo-ocr','replace','image.png','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','Error\x20detecting\x20language:','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','endsWith','6GDSHCT','image','onloadend','type','turbo','https://cors-anywhere.herokuapp.com/corsdemo','.png','.._\x20','textContent','createElement','length','500\x20Internal\x20Server\x20Error','text','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','image/png','&dt=t&q=','location','origin','split','charCodeAt','href','classList','map','getElementById','.gbc','src','notiMessage','POST','forEach','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','getItem','clientWidth','userAgent','scrollWidth','158507zTkmoI','1343560ZHiJLg','readAsDataURL','noti-mess','log','warn','XMLHttpRequest','onerror','captureOCR','onload','796632UTiFLm','$1\x20','application/octet-stream','lines','toDataURL','31101HrveJz','readResult','touchend','status','ApiAzure','json','HTTP\x20Error:\x20','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','trim','code','DOMContentLoaded','inputText','message','isArray','drawImage','error'];a0_0x5916=function(){return _0x10e6be;};return a0_0x5916();}function a0_0xda44(_0xddea9e,_0x2475fd){const _0x5916ad=a0_0x5916();return a0_0xda44=function(_0xda445f,_0x5798d0){_0xda445f=_0xda445f-0x68;let _0x2552c8=_0x5916ad[_0xda445f];return _0x2552c8;},a0_0xda44(_0xddea9e,_0x2475fd);}(function(_0x49f0da,_0x227437){const _0x56e7c9=a0_0xda44,_0xe139fb=_0x49f0da();while(!![]){try{const _0x27b9fd=-parseInt(_0x56e7c9(0x9a))/0x1+parseInt(_0x56e7c9(0x6b))/0x2+parseInt(_0x56e7c9(0xa4))/0x3+-parseInt(_0x56e7c9(0x6a))/0x4+parseInt(_0x56e7c9(0x9b))/0x5*(-parseInt(_0x56e7c9(0x78))/0x6)+parseInt(_0x56e7c9(0xa9))/0x7+parseInt(_0x56e7c9(0x6d))/0x8;if(_0x27b9fd===_0x227437)break;else _0xe139fb['push'](_0xe139fb['shift']());}catch(_0x7c0682){_0xe139fb['push'](_0xe139fb['shift']());}}}(a0_0x5916,0x24446));import*as a0_0x7df501 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0xeb978c(0x8f)](a0_0xeb978c(0xb4)),turbo=document[a0_0xeb978c(0x8f)](a0_0xeb978c(0x7c)),ID=['A','B','R','L'];async function getImage(){const _0x377b9c=a0_0xeb978c;turbo[_0x377b9c(0x8d)]['add'](_0x377b9c(0x71));try{const _0x4ab3e3=gameName[_0x377b9c(0x72)](/\.(gba|gbc|gb|zip)$/,_0x377b9c(0x7e)),_0x4a6087=await a0_0x7df501[_0x377b9c(0xa2)](_0x4ab3e3),_0x41140=new Blob([_0x4a6087],{'type':_0x377b9c(0x86)}),_0x4b6409=await new Promise((_0x3b1e45,_0x1de90c)=>{const _0x4add61=_0x377b9c,_0x46fb31=new FileReader();_0x46fb31[_0x4add61(0x7a)]=()=>_0x3b1e45(_0x46fb31['result']),_0x46fb31[_0x4add61(0xa1)]=_0x1de90c,_0x46fb31[_0x4add61(0x9c)](_0x41140);}),_0x287965=new Image();_0x287965[_0x377b9c(0x91)]=_0x4b6409,_0x287965[_0x377b9c(0xa3)]=async()=>{const _0x341379=_0x377b9c,_0x283d9f=document[_0x341379(0x81)]('canvas'),_0x525a54=_0x283d9f['getContext']('2d'),_0xb75f9=0x4;let _0x586fee;gameName['endsWith'](_0x341379(0x90))||gameName[_0x341379(0x77)](_0x341379(0x6c))?_0x586fee=0x3/0x6:_0x586fee=0x3/0x4;const _0x29f709=localStorage[_0x341379(0x96)](gameName+'_setArea')||localStorage[_0x341379(0x96)]('screenSize'),[_0x5655a0,_0x2f1698,_0x5dc034,_0x755ea9]=_0x29f709[_0x341379(0x8a)](',')['map'](Number);_0x283d9f[_0x341379(0x68)]=_0x5dc034*_0x586fee*_0xb75f9,_0x283d9f['height']=_0x755ea9*_0x586fee*_0xb75f9,_0x525a54[_0x341379(0xb7)](_0x287965,_0x5655a0*_0x586fee,_0x2f1698*_0x586fee,_0x5dc034*_0x586fee,_0x755ea9*_0x586fee,0x0,0x0,_0x5dc034*_0x586fee*_0xb75f9,_0x755ea9*_0x586fee*_0xb75f9);const _0x1a4264=_0x283d9f[_0x341379(0xa8)](_0x341379(0x86))['split'](',')[0x1],_0x27402e=localStorage['getItem']('ApiAzure');console[_0x341379(0x9e)](_0x27402e),_0x27402e?azureServer(_0x1a4264):freeServer(_0x1a4264);};}catch(_0x11a727){inputText[_0x377b9c(0x80)]=_0x11a727['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2e2f2e=_0x377b9c;document[_0x2e2f2e(0x8f)](_0x2e2f2e(0xb4))['textContent']='',a0_0x7df501[_0x2e2f2e(0x92)]('',0x0);},0x7530);}async function freeServer(_0x4079a9){const _0x3a2523=a0_0xeb978c;document[_0x3a2523(0x8f)](_0x3a2523(0x9d))['textContent']='';let _0x3a1288=0x0;const _0x1ffd5e=setInterval(()=>{const _0x13f020=_0x3a2523;_0x3a1288+=0x1,_0x3a1288<=0x64&&(inputText['textContent']=_0x13f020(0x7f)+_0x3a1288+'%');},0x64);try{const _0x316c95=dataURItoBlob(_0x4079a9),_0x36ea88=new FormData();_0x36ea88[_0x3a2523(0x6e)](_0x3a2523(0x79),_0x316c95,_0x3a2523(0x73)),_0x36ea88[_0x3a2523(0x6e)]('user',_0x3a2523(0xb0));let _0x5a7efa;try{_0x5a7efa=await fetch(_0x3a2523(0x85),{'method':_0x3a2523(0x93),'body':_0x36ea88,'headers':{'Origin':window[_0x3a2523(0x88)][_0x3a2523(0x89)],'X-Requested-With':_0x3a2523(0xa0),'User-Agent':navigator[_0x3a2523(0x98)]}});if(!_0x5a7efa['ok'])throw new Error(_0x3a2523(0xaf)+_0x5a7efa[_0x3a2523(0xac)]);}catch(_0x44c59d){console[_0x3a2523(0x9f)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x3a2523(0x88)][_0x3a2523(0x8c)]=_0x3a2523(0x7d);return;}const _0x45c361=await _0x5a7efa[_0x3a2523(0xae)]();if(_0x45c361[_0x3a2523(0x7b)]===_0x3a2523(0xb8))throw new Error(_0x45c361[_0x3a2523(0xb8)][_0x3a2523(0xb5)]);transLogic(_0x45c361[_0x3a2523(0x84)]);}catch(_0xe1cc38){inputText[_0x3a2523(0x80)]=_0xe1cc38[_0x3a2523(0xb5)];}finally{clearInterval(_0x1ffd5e),isFunctionARunning=![];}}async function azureServer(_0x5d753e){const _0x51940a=a0_0xeb978c;document['getElementById'](_0x51940a(0x9d))[_0x51940a(0x80)]='',inputText[_0x51940a(0x80)]=_0x51940a(0x7f);const _0x3f9953=localStorage['getItem'](_0x51940a(0xad));let [_0x241e5f,_0x5489f7]=_0x3f9953[_0x51940a(0x8a)](',');try{const _0x693111=await fetch(_0x5489f7+_0x51940a(0x74),{'method':_0x51940a(0x93),'headers':{'Ocp-Apim-Subscription-Key':_0x241e5f,'Content-Type':_0x51940a(0xa6)},'body':dataURItoBlob(_0x5d753e)}),_0x35d00f=await _0x693111[_0x51940a(0xae)]();if(!_0x693111['ok']||_0x35d00f[_0x51940a(0x7b)]==='error'){const _0x243268=_0x693111['ok']?_0x35d00f[_0x51940a(0xb8)][_0x51940a(0xb5)]:_0x693111[_0x51940a(0xac)]===0x1f4?_0x51940a(0x83):(await _0x693111[_0x51940a(0xae)]())['error'][_0x51940a(0xb5)];throw new Error(_0x243268);}const _0x134db4=_0x35d00f[_0x51940a(0xaa)]['blocks'][0x0],_0x136fea=_0x134db4[_0x51940a(0xa7)]||[],_0x4d6992=_0x136fea[_0x51940a(0x8e)](_0x11d326=>_0x11d326[_0x51940a(0x84)])['join']('\x0a');transLogic(_0x4d6992);}catch(_0x1ac30b){inputText[_0x51940a(0x80)]=_0x1ac30b[_0x51940a(0xb5)];}finally{isFunctionARunning=![];}}async function translateText(_0x91254f,_0x2afbaf,_0x44575f){const _0x5ec82e=a0_0xeb978c,_0x1c5b48=_0x91254f[_0x5ec82e(0x72)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x5ec82e(0xa5))[_0x5ec82e(0x72)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x5ec82e(0x72)](/ {2,}/g,'\x20')[_0x5ec82e(0xb1)]();var _0x280af2=_0x5ec82e(0x76)+_0x2afbaf+'&tl='+_0x44575f+_0x5ec82e(0x87)+encodeURIComponent(_0x1c5b48);try{const _0x1e6dc9=await fetch(_0x280af2);if(!_0x1e6dc9['ok']){if(_0x1e6dc9['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x1cf708=await _0x1e6dc9['json'](),_0x183e81=new Error(_0x1cf708['error'][_0x5ec82e(0xb5)]);_0x183e81[_0x5ec82e(0xb2)]=_0x1cf708[_0x5ec82e(0xb8)]['code'];throw _0x183e81;}}const _0x540d5b=await _0x1e6dc9[_0x5ec82e(0xae)]();if(Array[_0x5ec82e(0xb6)](_0x540d5b)&&_0x540d5b['length']>0x0&&Array[_0x5ec82e(0xb6)](_0x540d5b[0x0])){var _0x3e2cec=_0x540d5b[0x0]['map'](_0x46ef99=>_0x46ef99[0x0])['join']('\x20');return document[_0x5ec82e(0x8f)](_0x5ec82e(0x9d))[_0x5ec82e(0x80)]='',inputText[_0x5ec82e(0x80)]=_0x5ec82e(0x7f)+_0x3e2cec[_0x5ec82e(0x72)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x3e2cec['replace'](/ {2,}/g,'\x20');}else return document[_0x5ec82e(0x8f)](_0x5ec82e(0x9d))['textContent']='',inputText[_0x5ec82e(0x80)]='.._\x20'+_0x540d5b,_0x540d5b;}catch(_0x40fbd7){inputText[_0x5ec82e(0x80)]=_0x40fbd7['message'];throw _0x40fbd7;}}async function autoScroll(){const _0x15ab9f=a0_0xeb978c;var _0x2cf549=inputText[_0x15ab9f(0x99)]-inputText[_0x15ab9f(0x97)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2cf549||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x15ab9f(0x70)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1227d9){const _0x2da6be=a0_0xeb978c;var _0x15020f=_0x2da6be(0x95)+encodeURIComponent(_0x1227d9);try{const _0x190946=await fetch(_0x15020f),_0x32e424=await _0x190946[_0x2da6be(0xae)]();var _0x142a4e=_0x32e424[0x8][0x0][0x0];return _0x142a4e;}catch(_0x18eeb5){console['error'](_0x2da6be(0x75),_0x18eeb5);throw _0x18eeb5;}}async function transLogic(_0x4debea){const _0x3f6783='en';if(_0x3f6783===null){const _0x38c634=await detectLanguage(_0x4debea),_0x1056b3=await translateText(_0x4debea,_0x38c634,'en');return translateText(_0x1056b3,'en','vi');}else{if(_0x3f6783==='en')return translateText(_0x4debea,'en','vi');else{const _0xb6bfa7=await translateText(_0x4debea,_0x3f6783,'en');return translateText(_0xb6bfa7,'en','vi');}}}function dataURItoBlob(_0x573f69){const _0x485d65=a0_0xeb978c,_0x231b5d=atob(_0x573f69),_0x236e28=new ArrayBuffer(_0x231b5d[_0x485d65(0x82)]),_0x10b986=new Uint8Array(_0x236e28);for(let _0x31bca9=0x0;_0x31bca9<_0x231b5d[_0x485d65(0x82)];_0x31bca9++){_0x10b986[_0x31bca9]=_0x231b5d[_0x485d65(0x8b)](_0x31bca9);}return new Blob([_0x236e28],{'type':_0x485d65(0x86)});}document[a0_0xeb978c(0x6f)](a0_0xeb978c(0xb3),function(){const _0x54b5f7=a0_0xeb978c;ID[_0x54b5f7(0x94)](function(_0x47e566){const _0x5b5a42=_0x54b5f7,_0x53468e=document['getElementById'](_0x47e566);_0x53468e&&_0x53468e[_0x5b5a42(0x6f)]('touchstart',function(){const _0x2d021c=_0x5b5a42;!isFunctionARunning&&turbo[_0x2d021c(0x8d)][_0x2d021c(0x69)](_0x2d021c(0x71));});}),[_0x54b5f7(0xab)]['forEach'](_0x5b5585=>{const _0x46e41b=_0x54b5f7;turbo[_0x46e41b(0x6f)](_0x5b5585,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x46e41b(0x6f)](_0x5b5585,()=>{areaTrans['classList']['toggle']('visible');});});});