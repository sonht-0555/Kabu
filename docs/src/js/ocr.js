const a0_0x2f33ec=a0_0x2727;(function(_0x26ca43,_0x3bb18f){const _0x520f53=a0_0x2727,_0x29bfaa=_0x26ca43();while(!![]){try{const _0x395a4d=parseInt(_0x520f53(0x203))/0x1*(parseInt(_0x520f53(0x1c4))/0x2)+parseInt(_0x520f53(0x1e6))/0x3+parseInt(_0x520f53(0x1c2))/0x4+-parseInt(_0x520f53(0x1c5))/0x5+parseInt(_0x520f53(0x1fb))/0x6+-parseInt(_0x520f53(0x202))/0x7*(-parseInt(_0x520f53(0x1f4))/0x8)+-parseInt(_0x520f53(0x1c7))/0x9;if(_0x395a4d===_0x3bb18f)break;else _0x29bfaa['push'](_0x29bfaa['shift']());}catch(_0x321358){_0x29bfaa['push'](_0x29bfaa['shift']());}}}(a0_0x4627,0xdf780));import*as a0_0x448546 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];function a0_0x4627(){const _0x3eff67=['4810155yrmEzM','POST','34809471XEviBF','origin','ApiAzure','text','DOMContentLoaded','join','onload','replace','readResult','Error\x20detecting\x20language:','Internal\x20Server\x20Error','location','toggle','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','readAsDataURL','inputText','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','textContent','type','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','$1\x20','error','application/octet-stream','code','HTTP\x20Error:\x20','json','scrollWidth','canvas','message','&tl=','forEach','138981hLssyK','split','https://cors-anywhere.herokuapp.com/corsdemo','.._\x20','visible','turbo-ocr','blocks','add','remove','map','.png','screenSize','noti-mess','drawImage','272uSyCIs','toDataURL','image/png','addEventListener','result','height','turbo','9033138LcaKSQ','getItem','endsWith','trim','Cors-controlers\x20have\x20not\x20been\x20activated.','createElement','notiMessage','306803RRHtZX','3sevyaF','getElementById','warn','status','.gb','lines','src','isArray','append','user','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','width','classList','onloadend','image.png','getContext','6187572Paqrye','length','770766JnDFfT'];a0_0x4627=function(){return _0x3eff67;};return a0_0x4627();}var maxRunCount=0x2;function a0_0x2727(_0xcccd9e,_0x2e8392){const _0x462766=a0_0x4627();return a0_0x2727=function(_0x27275b,_0x78f60a){_0x27275b=_0x27275b-0x1bb;let _0x2f2c36=_0x462766[_0x27275b];return _0x2f2c36;},a0_0x2727(_0xcccd9e,_0x2e8392);}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x2f33ec(0x204)](a0_0x2f33ec(0x1d6)),turbo=document['getElementById'](a0_0x2f33ec(0x1fa)),ID=['A','B','R','L'];async function getImage(){const _0x17ea09=a0_0x2f33ec;turbo[_0x17ea09(0x1be)][_0x17ea09(0x1ed)](_0x17ea09(0x1eb));try{const _0xda6e34=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x17ea09(0x1f0)),_0x34476e=await a0_0x448546['captureOCR'](_0xda6e34),_0x125100=new Blob([_0x34476e],{'type':_0x17ea09(0x1f6)}),_0x464631=await new Promise((_0x54ba74,_0x59ada2)=>{const _0x5314b4=_0x17ea09,_0x230ee4=new FileReader();_0x230ee4[_0x5314b4(0x1bf)]=()=>_0x54ba74(_0x230ee4[_0x5314b4(0x1f8)]),_0x230ee4['onerror']=_0x59ada2,_0x230ee4[_0x5314b4(0x1d5)](_0x125100);}),_0x4cc076=new Image();_0x4cc076[_0x17ea09(0x209)]=_0x464631,_0x4cc076[_0x17ea09(0x1cd)]=async()=>{const _0x1e7dbb=_0x17ea09,_0x254236=document[_0x1e7dbb(0x200)](_0x1e7dbb(0x1e2)),_0x3f84e4=_0x254236[_0x1e7dbb(0x1c1)]('2d'),_0x586c62=0x4;let _0x2460ab;gameName[_0x1e7dbb(0x1fd)]('.gbc')||gameName[_0x1e7dbb(0x1fd)](_0x1e7dbb(0x207))?_0x2460ab=0x3/0x6:_0x2460ab=0x3/0x4;const _0x30103f=localStorage[_0x1e7dbb(0x1fc)](gameName+'_setArea')||localStorage[_0x1e7dbb(0x1fc)](_0x1e7dbb(0x1f1)),[_0x11b89b,_0x11743c,_0x43be11,_0x5dfeda]=_0x30103f['split'](',')[_0x1e7dbb(0x1ef)](Number);_0x254236[_0x1e7dbb(0x1bd)]=_0x43be11*_0x2460ab*_0x586c62,_0x254236[_0x1e7dbb(0x1f9)]=_0x5dfeda*_0x2460ab*_0x586c62,_0x3f84e4[_0x1e7dbb(0x1f3)](_0x4cc076,_0x11b89b*_0x2460ab,_0x11743c*_0x2460ab,_0x43be11*_0x2460ab,_0x5dfeda*_0x2460ab,0x0,0x0,_0x43be11*_0x2460ab*_0x586c62,_0x5dfeda*_0x2460ab*_0x586c62);const _0x251052=_0x254236[_0x1e7dbb(0x1f5)](_0x1e7dbb(0x1f6))['split'](',')[0x1],_0x5de3b8=localStorage[_0x1e7dbb(0x1fc)](_0x1e7dbb(0x1c9));console['log'](_0x5de3b8),_0x5de3b8?azureServer(_0x251052):freeServer(_0x251052);};}catch(_0x26d80a){inputText[_0x17ea09(0x1d8)]=_0x26d80a[_0x17ea09(0x1e3)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x322b55=_0x17ea09;document[_0x322b55(0x204)](_0x322b55(0x1d6))['textContent']='',a0_0x448546[_0x322b55(0x201)]('',0x0);},0x7530);}async function freeServer(_0x89792f){const _0x593fe2=a0_0x2f33ec;document[_0x593fe2(0x204)](_0x593fe2(0x1f2))[_0x593fe2(0x1d8)]='';let _0x2b506e=0x0;const _0x1d4ab0=setInterval(()=>{const _0x41a26a=_0x593fe2;_0x2b506e+=0x1,_0x2b506e<=0x64&&(inputText[_0x41a26a(0x1d8)]=_0x41a26a(0x1e9)+_0x2b506e+'%');},0x64);try{const _0x4e8d9a=dataURItoBlob(_0x89792f),_0x309f5d=new FormData();_0x309f5d[_0x593fe2(0x20b)]('image',_0x4e8d9a,_0x593fe2(0x1c0)),_0x309f5d[_0x593fe2(0x20b)](_0x593fe2(0x1bb),_0x593fe2(0x1d4));let _0x81568a;try{_0x81568a=await fetch(_0x593fe2(0x1da),{'method':_0x593fe2(0x1c6),'body':_0x309f5d,'headers':{'Origin':window[_0x593fe2(0x1d2)][_0x593fe2(0x1c8)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator['userAgent']}});if(!_0x81568a['ok'])throw new Error(_0x593fe2(0x1df)+_0x81568a['status']);}catch(_0x4a1178){console[_0x593fe2(0x205)](_0x593fe2(0x1ff)),window[_0x593fe2(0x1d2)]['href']=_0x593fe2(0x1e8);return;}const _0x19343f=await _0x81568a[_0x593fe2(0x1e0)]();if(_0x19343f[_0x593fe2(0x1d9)]===_0x593fe2(0x1dc))throw new Error(_0x19343f['error']['message']);transLogic(_0x19343f[_0x593fe2(0x1ca)]);}catch(_0x4a53ad){inputText[_0x593fe2(0x1d8)]=_0x4a53ad['message'];}finally{clearInterval(_0x1d4ab0),isFunctionARunning=![];}}async function azureServer(_0x585ea9){const _0x1519ca=a0_0x2f33ec;document[_0x1519ca(0x204)](_0x1519ca(0x1f2))[_0x1519ca(0x1d8)]='',inputText[_0x1519ca(0x1d8)]=_0x1519ca(0x1e9);const _0x1709b3=localStorage[_0x1519ca(0x1fc)]('ApiAzure');let [_0x16033f,_0x12b1b9]=_0x1709b3[_0x1519ca(0x1e7)](',');try{const _0x52b502=await fetch(_0x12b1b9+_0x1519ca(0x1bc),{'method':_0x1519ca(0x1c6),'headers':{'Ocp-Apim-Subscription-Key':_0x16033f,'Content-Type':_0x1519ca(0x1dd)},'body':dataURItoBlob(_0x585ea9)}),_0x316281=await _0x52b502[_0x1519ca(0x1e0)]();if(!_0x52b502['ok']||_0x316281[_0x1519ca(0x1d9)]===_0x1519ca(0x1dc)){const _0x514768=_0x52b502['ok']?_0x316281[_0x1519ca(0x1dc)][_0x1519ca(0x1e3)]:_0x52b502[_0x1519ca(0x206)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x52b502[_0x1519ca(0x1e0)]())[_0x1519ca(0x1dc)]['message'];throw new Error(_0x514768);}const _0x26b903=_0x316281[_0x1519ca(0x1cf)][_0x1519ca(0x1ec)][0x0],_0x2ce40a=_0x26b903[_0x1519ca(0x208)]||[],_0x5a62b1=_0x2ce40a['map'](_0x3b8c11=>_0x3b8c11[_0x1519ca(0x1ca)])[_0x1519ca(0x1cc)]('\x0a');transLogic(_0x5a62b1);}catch(_0x4e0437){inputText[_0x1519ca(0x1d8)]=_0x4e0437[_0x1519ca(0x1e3)];}finally{isFunctionARunning=![];}}async function translateText(_0x3ee351,_0x21e2c7,_0x5d8897){const _0xe8f6e2=a0_0x2f33ec,_0x66eaf9=_0x3ee351[_0xe8f6e2(0x1ce)](/[\r\n]+/g,',\x20')[_0xe8f6e2(0x1ce)](/([!?.,])\s*,\s*/g,_0xe8f6e2(0x1db))[_0xe8f6e2(0x1ce)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0xe8f6e2(0x1fe)]();var _0x587949='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x21e2c7+_0xe8f6e2(0x1e4)+_0x5d8897+'&dt=t&q='+encodeURIComponent(_0x66eaf9);try{const _0x455e4d=await fetch(_0x587949);if(!_0x455e4d['ok']){if(_0x455e4d[_0xe8f6e2(0x206)]===0x1f4)throw new Error(_0xe8f6e2(0x1d1));else{const _0x1fa60f=await _0x455e4d['json'](),_0x91ad20=new Error(_0x1fa60f[_0xe8f6e2(0x1dc)][_0xe8f6e2(0x1e3)]);_0x91ad20[_0xe8f6e2(0x1de)]=_0x1fa60f[_0xe8f6e2(0x1dc)][_0xe8f6e2(0x1de)];throw _0x91ad20;}}const _0x2581a1=await _0x455e4d['json']();if(Array[_0xe8f6e2(0x20a)](_0x2581a1)&&_0x2581a1[_0xe8f6e2(0x1c3)]>0x0&&Array[_0xe8f6e2(0x20a)](_0x2581a1[0x0])){var _0x2c6cb7=_0x2581a1[0x0][_0xe8f6e2(0x1ef)](_0x30b02b=>_0x30b02b[0x0])[_0xe8f6e2(0x1cc)]('\x20');return document['getElementById'](_0xe8f6e2(0x1f2))['textContent']='',inputText[_0xe8f6e2(0x1d8)]='.._\x20'+_0x2c6cb7[_0xe8f6e2(0x1ce)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x2c6cb7[_0xe8f6e2(0x1ce)](/ {2,}/g,'\x20');}else return document['getElementById'](_0xe8f6e2(0x1f2))[_0xe8f6e2(0x1d8)]='',inputText[_0xe8f6e2(0x1d8)]=_0xe8f6e2(0x1e9)+_0x2581a1,_0x2581a1;}catch(_0x19d7df){inputText[_0xe8f6e2(0x1d8)]=_0x19d7df[_0xe8f6e2(0x1e3)];throw _0x19d7df;}}async function autoScroll(){const _0x5a9e27=a0_0x2f33ec;var _0x4645d0=inputText[_0x5a9e27(0x1e1)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x4645d0||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x4a200a){const _0x1f3aa5=a0_0x2f33ec;var _0x57864c=_0x1f3aa5(0x1d7)+encodeURIComponent(_0x4a200a);try{const _0x33acd3=await fetch(_0x57864c),_0x10f3d3=await _0x33acd3[_0x1f3aa5(0x1e0)]();var _0x3b9fcf=_0x10f3d3[0x8][0x0][0x0];return _0x3b9fcf;}catch(_0x464eb8){console['error'](_0x1f3aa5(0x1d0),_0x464eb8);throw _0x464eb8;}}async function transLogic(_0x34247d){const _0x2098bd='en';if(_0x2098bd===null){const _0x349a2b=await detectLanguage(_0x34247d),_0x5b3cd8=await translateText(_0x34247d,_0x349a2b,'en');return translateText(_0x5b3cd8,'en','vi');}else{if(_0x2098bd==='en')return translateText(_0x34247d,'en','vi');else{const _0x2e29fe=await translateText(_0x34247d,_0x2098bd,'en');return translateText(_0x2e29fe,'en','vi');}}}function dataURItoBlob(_0x17d2fa){const _0x475cb7=a0_0x2f33ec,_0x2b79f3=atob(_0x17d2fa),_0x1d4c8=new ArrayBuffer(_0x2b79f3[_0x475cb7(0x1c3)]),_0x5879db=new Uint8Array(_0x1d4c8);for(let _0xd75a26=0x0;_0xd75a26<_0x2b79f3[_0x475cb7(0x1c3)];_0xd75a26++){_0x5879db[_0xd75a26]=_0x2b79f3['charCodeAt'](_0xd75a26);}return new Blob([_0x1d4c8],{'type':_0x475cb7(0x1f6)});}document['addEventListener'](a0_0x2f33ec(0x1cb),function(){const _0x203376=a0_0x2f33ec;ID[_0x203376(0x1e5)](function(_0x143cbd){const _0xba9629=_0x203376,_0x2cff19=document[_0xba9629(0x204)](_0x143cbd);_0x2cff19&&_0x2cff19[_0xba9629(0x1f7)]('touchstart',function(){const _0x104ee1=_0xba9629;!isFunctionARunning&&turbo['classList'][_0x104ee1(0x1ee)](_0x104ee1(0x1eb));});}),['touchend'][_0x203376(0x1e5)](_0x3a3a62=>{const _0x3a09c7=_0x203376;turbo[_0x3a09c7(0x1f7)](_0x3a3a62,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x3a09c7(0x1f7)](_0x3a3a62,()=>{const _0x325bfd=_0x3a09c7;areaTrans['classList'][_0x325bfd(0x1d3)](_0x325bfd(0x1ea));});});});