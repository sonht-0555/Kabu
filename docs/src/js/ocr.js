const a0_0x5ad340=a0_0x165b;function a0_0xc1e7(){const _0x5609b7=['message','onerror','random','endsWith','toISOString','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','getItem','...','add','height','getMonth','onload','forEach','.gbc','turbo-ocr','visible','replace','length','2InREAu','drawImage','2490666MHrJaS','inputText','origin','scrollWidth','warn','charCodeAt','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','error','text','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','innerWidth','createElement','lines','&tl=','1297332YuOTPu','notiMessage','href','Waiting..',']\x20Times\x20Azure','join','onloadend','4214260iDLppH','result','src','lastSavedDate','input-container','map','clientWidth','getFullYear','width','.png','&dt=t&q=','Internal\x20Server\x20Error','DOMContentLoaded','XMLHttpRequest','classList','remove','textContent','image/png','json','setItem','isArray','round','addEventListener','append','split','toggle','getElementById','3149146qAMunl','Error\x20detecting\x20language:','type','application/octet-stream','3092432fQGMXc','location','status','350037AlZqKJ','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','ApiAzure','4432096odyhiP','touchend','code','user'];a0_0xc1e7=function(){return _0x5609b7;};return a0_0xc1e7();}(function(_0x438982,_0x5c49c8){const _0xf0c421=a0_0x165b,_0x4031f4=_0x438982();while(!![]){try{const _0x69a9fc=parseInt(_0xf0c421(0x104))/0x1+parseInt(_0xf0c421(0x11d))/0x2*(parseInt(_0xf0c421(0x12d))/0x3)+parseInt(_0xf0c421(0x107))/0x4+-parseInt(_0xf0c421(0xe2))/0x5+-parseInt(_0xf0c421(0x11f))/0x6+-parseInt(_0xf0c421(0xfd))/0x7+parseInt(_0xf0c421(0x101))/0x8;if(_0x69a9fc===_0x5c49c8)break;else _0x4031f4['push'](_0x4031f4['shift']());}catch(_0x17321c){_0x4031f4['push'](_0x4031f4['shift']());}}}(a0_0xc1e7,0x8af82));import*as a0_0x31fdde from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x165b(_0x4dc8fe,_0x1e1bda){const _0xc1e7f3=a0_0xc1e7();return a0_0x165b=function(_0x165b67,_0x5c18c6){_0x165b67=_0x165b67-0xde;let _0x39b9b3=_0xc1e7f3[_0x165b67];return _0x39b9b3;},a0_0x165b(_0x4dc8fe,_0x1e1bda);}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById']('inputText'),input=document[a0_0x5ad340(0xfc)](a0_0x5ad340(0xe6)),turbo=document['getElementById']('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x5d4bb1=a0_0x5ad340;turbo['classList'][_0x5d4bb1(0x113)](_0x5d4bb1(0x119));try{const _0x32badd=gameName[_0x5d4bb1(0x11b)](/\.(gba|gbc|gb|zip)$/,_0x5d4bb1(0xeb)),_0x364c19=await a0_0x31fdde['captureOCR'](_0x32badd),_0x3ff86f=new Blob([_0x364c19],{'type':'image/png'}),_0x8e01e9=await new Promise((_0x420290,_0x5d2db9)=>{const _0xa64f71=_0x5d4bb1,_0xb9d56f=new FileReader();_0xb9d56f[_0xa64f71(0xe1)]=()=>_0x420290(_0xb9d56f[_0xa64f71(0xe3)]),_0xb9d56f[_0xa64f71(0x10c)]=_0x5d2db9,_0xb9d56f['readAsDataURL'](_0x3ff86f);}),_0x5e0db0=new Image();_0x5e0db0[_0x5d4bb1(0xe4)]=_0x8e01e9,_0x5e0db0[_0x5d4bb1(0x116)]=()=>{const _0x2b8a4f=_0x5d4bb1,_0x16ac69=document[_0x2b8a4f(0x12a)]('canvas'),_0x28c7bf=_0x16ac69['getContext']('2d'),_0x4f4db0=0x4;let _0x571608;gameName[_0x2b8a4f(0x10e)](_0x2b8a4f(0x118))||gameName[_0x2b8a4f(0x10e)]('.gb')?_0x571608=Math[_0x2b8a4f(0xf7)](0xa0/(window[_0x2b8a4f(0x129)]-0xe6)):_0x571608=Math[_0x2b8a4f(0xf7)](0xf0/(window['innerWidth']-0x96));const _0x12ac1a=localStorage['getItem'](gameName+'_setArea')||localStorage['getItem']('screenSize'),[_0x102c29,_0x2e85f9,_0x16b72a,_0xc84599]=_0x12ac1a[_0x2b8a4f(0xfa)](',')[_0x2b8a4f(0xe7)](Number);_0x16ac69[_0x2b8a4f(0xea)]=_0x16b72a*_0x571608*_0x4f4db0,_0x16ac69[_0x2b8a4f(0x114)]=_0xc84599*_0x571608*_0x4f4db0,_0x28c7bf[_0x2b8a4f(0x11e)](_0x5e0db0,_0x102c29*_0x571608,_0x2e85f9*_0x571608,_0x16b72a*_0x571608,_0xc84599*_0x571608,0x0,0x0,_0x16b72a*_0x571608*_0x4f4db0,_0xc84599*_0x571608*_0x4f4db0);const _0x5b2a63=_0x16ac69['toDataURL'](_0x2b8a4f(0xf3))[_0x2b8a4f(0xfa)](',')[0x1],_0x36d303=localStorage[_0x2b8a4f(0x111)](_0x2b8a4f(0x106));_0x36d303?azureServer(_0x5b2a63):freeServer(_0x5b2a63);};}catch(_0x333393){inputText[_0x5d4bb1(0xf2)]=_0x333393['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x249267=_0x5d4bb1;document['getElementById'](_0x249267(0x120))[_0x249267(0xf2)]=_0x249267(0x112);},0x7530);}async function freeServer(_0x2aeb66){const _0x5ddaa1=a0_0x5ad340;let _0x2fcf90=0x0;const _0x25ea85=setInterval(()=>{const _0x4d8088=a0_0x165b;_0x2fcf90+=0x1,_0x2fcf90<=0x64&&(inputText[_0x4d8088(0xf2)]=_0x4d8088(0xde)+_0x2fcf90+'%');},0x64);try{const _0x42b2bb=dataURItoBlob(_0x2aeb66),_0x17a6d9=new FormData();_0x17a6d9[_0x5ddaa1(0xf9)]('image',_0x42b2bb,'image.png'),_0x17a6d9['append'](_0x5ddaa1(0x10a),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x87bf00;try{_0x87bf00=await fetch(_0x5ddaa1(0x105),{'method':'POST','body':_0x17a6d9,'headers':{'Origin':window[_0x5ddaa1(0x102)][_0x5ddaa1(0x121)],'X-Requested-With':_0x5ddaa1(0xef),'User-Agent':navigator['userAgent']}});if(!_0x87bf00['ok'])throw new Error('HTTP\x20Error:\x20'+_0x87bf00['status']);}catch(_0x2383b8){console[_0x5ddaa1(0x123)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x5ddaa1(0x102)][_0x5ddaa1(0x12f)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x35cdd9=await _0x87bf00[_0x5ddaa1(0xf4)]();if(_0x35cdd9[_0x5ddaa1(0xff)]===_0x5ddaa1(0x126))throw new Error(_0x35cdd9[_0x5ddaa1(0x126)][_0x5ddaa1(0x10b)]);transLogic(_0x35cdd9[_0x5ddaa1(0x127)]);}catch(_0x5ce3cc){inputText['textContent']=_0x5ce3cc[_0x5ddaa1(0x10b)];}finally{clearInterval(_0x25ea85),isFunctionARunning=![];}}async function azureServer(_0x3ba26d){const _0x1d342d=a0_0x5ad340;inputText['textContent']=_0x1d342d(0x112);const _0x2d74ad=localStorage[_0x1d342d(0x111)](_0x1d342d(0x106));let [_0x4cb9cf,_0x13c445,_0x5d3055]=_0x2d74ad['split'](',');_0x5d3055=parseInt(_0x5d3055);const _0x20c96b=new Date(),_0x2fcaae=_0x20c96b[_0x1d342d(0x115)](),_0x4207c4=_0x20c96b[_0x1d342d(0xe9)](),_0x59d1ae=localStorage[_0x1d342d(0x111)](_0x1d342d(0xe5)),_0x1cc48c=_0x59d1ae?new Date(_0x59d1ae):null;_0x1cc48c&&(_0x2fcaae!==_0x1cc48c[_0x1d342d(0x115)]()||_0x4207c4!==_0x1cc48c['getFullYear']())&&(_0x5d3055=0x0,localStorage['setItem'](_0x1d342d(0xe5),_0x20c96b['toISOString']()));if(_0x5d3055>=0x1356){inputText[_0x1d342d(0xf2)]=_0x1d342d(0x128);return;}try{const _0x247dc0=await fetch(_0x13c445+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x4cb9cf,'Content-Type':_0x1d342d(0x100)},'body':dataURItoBlob(_0x3ba26d)}),_0x2ef73b=await _0x247dc0[_0x1d342d(0xf4)]();if(!_0x247dc0['ok']||_0x2ef73b[_0x1d342d(0xff)]===_0x1d342d(0x126)){const _0x2c793d=_0x247dc0['ok']?_0x2ef73b[_0x1d342d(0x126)]['message']:_0x247dc0[_0x1d342d(0x103)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x247dc0[_0x1d342d(0xf4)]())[_0x1d342d(0x126)][_0x1d342d(0x10b)];throw new Error(_0x2c793d);}const _0xf18027=_0x2ef73b['readResult']['blocks'][0x0],_0x3f3d5d=_0xf18027[_0x1d342d(0x12b)]||[],_0x309be7=_0x3f3d5d[_0x1d342d(0xe7)](_0x54e4ef=>_0x54e4ef[_0x1d342d(0x127)])['join']('\x0a');transLogic(_0x309be7);}catch(_0x4b6f81){inputText[_0x1d342d(0xf2)]=_0x4b6f81['message'];const _0x9a2683=++_0x5d3055;a0_0x31fdde[_0x1d342d(0x12e)]('['+_0x9a2683+_0x1d342d(0xdf),0x7d0),localStorage[_0x1d342d(0xf5)](_0x1d342d(0x106),_0x4cb9cf+','+_0x13c445+','+_0x9a2683),localStorage[_0x1d342d(0xf5)](_0x1d342d(0xe5),_0x20c96b['toISOString']());}finally{const _0x1ddcee=++_0x5d3055;a0_0x31fdde[_0x1d342d(0x12e)]('['+_0x1ddcee+_0x1d342d(0xdf),0x7d0),isFunctionARunning=![],localStorage[_0x1d342d(0xf5)](_0x1d342d(0x106),_0x4cb9cf+','+_0x13c445+','+_0x1ddcee),localStorage[_0x1d342d(0xf5)](_0x1d342d(0xe5),_0x20c96b[_0x1d342d(0x10f)]());}}async function translateText(_0x100a6e,_0x34707d,_0x27378c){const _0x142216=a0_0x5ad340,_0x31212c=_0x100a6e[_0x142216(0x11b)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,'$1\x20')[_0x142216(0x11b)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')['trim']();var _0x49a545=_0x142216(0x110)+_0x34707d+_0x142216(0x12c)+_0x27378c+_0x142216(0xec)+encodeURIComponent(_0x31212c);try{const _0x512fe4=await fetch(_0x49a545);if(!_0x512fe4['ok']){if(_0x512fe4['status']===0x1f4)throw new Error(_0x142216(0xed));else{const _0x58e730=await _0x512fe4[_0x142216(0xf4)](),_0x3a3fae=new Error(_0x58e730[_0x142216(0x126)][_0x142216(0x10b)]);_0x3a3fae[_0x142216(0x109)]=_0x58e730['error']['code'];throw _0x3a3fae;}}const _0x164bc0=await _0x512fe4[_0x142216(0xf4)]();if(Array[_0x142216(0xf6)](_0x164bc0)&&_0x164bc0[_0x142216(0x11c)]>0x0&&Array[_0x142216(0xf6)](_0x164bc0[0x0])){var _0x8595f1=_0x164bc0[0x0][_0x142216(0xe7)](_0x26bb76=>_0x26bb76[0x0])[_0x142216(0xe0)]('\x20');return inputText[_0x142216(0xf2)]=_0x8595f1[_0x142216(0x11b)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x8595f1[_0x142216(0x11b)](/ {2,}/g,'\x20');}else return inputText['textContent']=_0x164bc0,_0x164bc0;}catch(_0x572072){inputText[_0x142216(0xf2)]=_0x572072['message'];throw _0x572072;}}async function autoScroll(){const _0x1f6c45=a0_0x5ad340;var _0x355269=inputText[_0x1f6c45(0x122)]-inputText[_0x1f6c45(0xe8)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x355269||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x5302cc){const _0x17448e=a0_0x5ad340;var _0x58cf75=_0x17448e(0x125)+encodeURIComponent(_0x5302cc);try{const _0x11eb38=await fetch(_0x58cf75),_0x44a9af=await _0x11eb38[_0x17448e(0xf4)]();var _0x58ef8b=_0x44a9af[0x8][0x0][0x0];return _0x58ef8b;}catch(_0x190b8a){console[_0x17448e(0x126)](_0x17448e(0xfe),_0x190b8a);throw _0x190b8a;}}async function transLogic(_0x9b9e0b){const _0x373054='en';if(_0x373054===null){const _0x59c4e8=await detectLanguage(_0x9b9e0b),_0x39df37=await translateText(_0x9b9e0b,_0x59c4e8,'en');return translateText(_0x39df37,'en','vi');}else{if(_0x373054==='en')return translateText(_0x9b9e0b,'en','vi');else{const _0x19f11f=await translateText(_0x9b9e0b,_0x373054,'en');return translateText(_0x19f11f,'en','vi');}}}function dataURItoBlob(_0x5ef36f){const _0x394e89=a0_0x5ad340,_0x214819=atob(_0x5ef36f),_0x573cf9=new ArrayBuffer(_0x214819['length']),_0x104fee=new Uint8Array(_0x573cf9);for(let _0x68092e=0x0;_0x68092e<_0x214819[_0x394e89(0x11c)];_0x68092e++){_0x104fee[_0x68092e]=_0x214819[_0x394e89(0x124)](_0x68092e);}return new Blob([_0x573cf9],{'type':_0x394e89(0xf3)});}function logoOcr(){const _0x1b2513=a0_0x5ad340;var _0x210372=Math['floor'](Math[_0x1b2513(0x10d)]()*0x3)+0x1,_0x2268bb=-0xf*_0x210372+'px';document[_0x1b2513(0xfc)]('logoOcr')['style']['backgroundPositionX']=_0x2268bb;}document['addEventListener'](a0_0x5ad340(0xee),function(){const _0x51c28a=a0_0x5ad340;ID[_0x51c28a(0x117)](function(_0x4c6aad){const _0x3cce99=_0x51c28a,_0x1e8e41=document[_0x3cce99(0xfc)](_0x4c6aad);_0x1e8e41&&_0x1e8e41[_0x3cce99(0xf8)]('touchstart',function(){const _0x506719=_0x3cce99;!isFunctionARunning&&turbo['classList'][_0x506719(0xf1)](_0x506719(0x119));});}),[_0x51c28a(0x108)]['forEach'](_0x233afb=>{const _0x21def5=_0x51c28a;turbo[_0x21def5(0xf8)](_0x233afb,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x21def5(0xf8)](_0x233afb,()=>{const _0x5e096f=_0x21def5;areaTrans[_0x5e096f(0xf0)][_0x5e096f(0xfb)](_0x5e096f(0x11a));});});});