const a0_0x3c8f40=a0_0x40d9;function a0_0x1780(){const _0xec5c9e=['replace','onloadend','textContent','warn','image/png','location','add','status','.gbc','visible','drawImage','log','500\x20Internal\x20Server\x20Error','scrollLeft','XMLHttpRequest','scrollWidth','readAsDataURL','2578660GPzbBn','json','1272bnDOAF','image.png','HTTP\x20Error:\x20','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','error','charCodeAt','blocks','href','screenSize','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','text','turbo','addEventListener','message','trim','clientWidth','53039AlEdgc','classList','824332LVmtHS','Cors-controlers\x20have\x20not\x20been\x20activated.','getElementById','290HPTFwa','type','getItem','.png','.._\x20','src','POST','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','readResult','752468bzsmOU','map','noti-mess','_setArea','lines','createElement','application/octet-stream','12nElVlb','length','endsWith','userAgent','760366BTgFBX','onload','touchend','image','touchstart','1448628kuTflV','ApiAzure','turbo-ocr','join','forEach','toggle','Error\x20detecting\x20language:','append','inputText','Internal\x20Server\x20Error','split','DOMContentLoaded','554121jkZHaV','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','result','code','toDataURL','canvas'];a0_0x1780=function(){return _0xec5c9e;};return a0_0x1780();}(function(_0x8748fa,_0x106eee){const _0x184d9f=a0_0x40d9,_0x830ece=_0x8748fa();while(!![]){try{const _0x20dc61=parseInt(_0x184d9f(0x17f))/0x1+parseInt(_0x184d9f(0x174))/0x2+parseInt(_0x184d9f(0x17b))/0x3*(-parseInt(_0x184d9f(0x168))/0x4)+-parseInt(_0x184d9f(0x154))/0x5+parseInt(_0x184d9f(0x184))/0x6+parseInt(_0x184d9f(0x166))/0x7*(-parseInt(_0x184d9f(0x156))/0x8)+parseInt(_0x184d9f(0x190))/0x9*(parseInt(_0x184d9f(0x16b))/0xa);if(_0x20dc61===_0x106eee)break;else _0x830ece['push'](_0x830ece['shift']());}catch(_0x517d1b){_0x830ece['push'](_0x830ece['shift']());}}}(a0_0x1780,0x970ec));import*as a0_0xaf2038 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x3c8f40(0x16a)](a0_0x3c8f40(0x18c)),turbo=document['getElementById'](a0_0x3c8f40(0x161)),ID=['A','B','R','L'];async function getImage(){const _0x1f757c=a0_0x3c8f40;turbo['classList'][_0x1f757c(0x19c)](_0x1f757c(0x186));try{const _0x3be647=gameName[_0x1f757c(0x196)](/\.(gba|gbc|gb|zip)$/,_0x1f757c(0x16e)),_0x33b9f6=await a0_0xaf2038['captureOCR'](_0x3be647),_0x3ceb53=new Blob([_0x33b9f6],{'type':_0x1f757c(0x19a)}),_0x437796=await new Promise((_0x2723b1,_0x30ca90)=>{const _0x1ca835=_0x1f757c,_0x4093be=new FileReader();_0x4093be[_0x1ca835(0x197)]=()=>_0x2723b1(_0x4093be[_0x1ca835(0x192)]),_0x4093be['onerror']=_0x30ca90,_0x4093be[_0x1ca835(0x1a6)](_0x3ceb53);}),_0x3bc88f=new Image();_0x3bc88f[_0x1f757c(0x170)]=_0x437796,_0x3bc88f[_0x1f757c(0x180)]=async()=>{const _0x5e6c65=_0x1f757c,_0x37ee9d=document[_0x5e6c65(0x179)](_0x5e6c65(0x195)),_0x628f2d=_0x37ee9d['getContext']('2d'),_0x4fcf17=0x4;let _0x388013;gameName[_0x5e6c65(0x17d)](_0x5e6c65(0x19e))||gameName[_0x5e6c65(0x17d)]('.gb')?_0x388013=0x3/0x6:_0x388013=0x3/0x4;const _0x293220=localStorage[_0x5e6c65(0x16d)](gameName+_0x5e6c65(0x177))||localStorage[_0x5e6c65(0x16d)](_0x5e6c65(0x15e)),[_0x5c45be,_0x29a84a,_0x46d489,_0x3001db]=_0x293220[_0x5e6c65(0x18e)](',')[_0x5e6c65(0x175)](Number);_0x37ee9d['width']=_0x46d489*_0x388013*_0x4fcf17,_0x37ee9d['height']=_0x3001db*_0x388013*_0x4fcf17,_0x628f2d[_0x5e6c65(0x1a0)](_0x3bc88f,_0x5c45be*_0x388013,_0x29a84a*_0x388013,_0x46d489*_0x388013,_0x3001db*_0x388013,0x0,0x0,_0x46d489*_0x388013*_0x4fcf17,_0x3001db*_0x388013*_0x4fcf17);const _0x112d65=_0x37ee9d[_0x5e6c65(0x194)](_0x5e6c65(0x19a))['split'](',')[0x1],_0x5b35e7=localStorage[_0x5e6c65(0x16d)](_0x5e6c65(0x185));console[_0x5e6c65(0x1a1)](_0x5b35e7),_0x5b35e7?azureServer(_0x112d65):freeServer(_0x112d65);};}catch(_0x515dfa){inputText['textContent']=_0x515dfa[_0x1f757c(0x163)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3d1511=_0x1f757c;document[_0x3d1511(0x16a)](_0x3d1511(0x18c))[_0x3d1511(0x198)]='',a0_0xaf2038['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x2566f0){const _0x47947c=a0_0x3c8f40;document[_0x47947c(0x16a)]('noti-mess')[_0x47947c(0x198)]='';let _0x4558f0=0x0;const _0xddf170=setInterval(()=>{const _0x498733=_0x47947c;_0x4558f0+=0x1,_0x4558f0<=0x64&&(inputText[_0x498733(0x198)]='.._\x20'+_0x4558f0+'%');},0x64);try{const _0x554507=dataURItoBlob(_0x2566f0),_0x2224e7=new FormData();_0x2224e7[_0x47947c(0x18b)](_0x47947c(0x182),_0x554507,_0x47947c(0x157)),_0x2224e7['append']('user',_0x47947c(0x172));let _0x3e755;try{_0x3e755=await fetch(_0x47947c(0x191),{'method':_0x47947c(0x171),'body':_0x2224e7,'headers':{'Origin':window[_0x47947c(0x19b)]['origin'],'X-Requested-With':_0x47947c(0x1a4),'User-Agent':navigator[_0x47947c(0x17e)]}});if(!_0x3e755['ok'])throw new Error(_0x47947c(0x158)+_0x3e755[_0x47947c(0x19d)]);}catch(_0x1fc920){console[_0x47947c(0x199)](_0x47947c(0x169)),window[_0x47947c(0x19b)][_0x47947c(0x15d)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x2c6e1f=await _0x3e755[_0x47947c(0x155)]();if(_0x2c6e1f[_0x47947c(0x16c)]===_0x47947c(0x15a))throw new Error(_0x2c6e1f[_0x47947c(0x15a)]['message']);transLogic(_0x2c6e1f['text']);}catch(_0xe2d8a2){inputText[_0x47947c(0x198)]=_0xe2d8a2[_0x47947c(0x163)];}finally{clearInterval(_0xddf170),isFunctionARunning=![];}}async function azureServer(_0x32c608){const _0x35da7d=a0_0x3c8f40;document[_0x35da7d(0x16a)](_0x35da7d(0x176))[_0x35da7d(0x198)]='',inputText[_0x35da7d(0x198)]=_0x35da7d(0x16f);const _0x20765f=localStorage['getItem'](_0x35da7d(0x185));let [_0x5dd638,_0x54cf18]=_0x20765f[_0x35da7d(0x18e)](',');try{const _0x10f091=await fetch(_0x54cf18+_0x35da7d(0x15f),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x5dd638,'Content-Type':_0x35da7d(0x17a)},'body':dataURItoBlob(_0x32c608)}),_0x173f23=await _0x10f091[_0x35da7d(0x155)]();if(!_0x10f091['ok']||_0x173f23[_0x35da7d(0x16c)]==='error'){const _0x200c17=_0x10f091['ok']?_0x173f23[_0x35da7d(0x15a)]['message']:_0x10f091[_0x35da7d(0x19d)]===0x1f4?_0x35da7d(0x1a2):(await _0x10f091['json']())[_0x35da7d(0x15a)][_0x35da7d(0x163)];throw new Error(_0x200c17);}const _0x27f707=_0x173f23[_0x35da7d(0x173)][_0x35da7d(0x15c)][0x0],_0x4d7554=_0x27f707[_0x35da7d(0x178)]||[],_0x5c91b8=_0x4d7554['map'](_0xe86195=>_0xe86195[_0x35da7d(0x160)])['join']('\x0a');transLogic(_0x5c91b8);}catch(_0x8295d0){inputText[_0x35da7d(0x198)]=_0x8295d0[_0x35da7d(0x163)];}finally{isFunctionARunning=![];}}async function translateText(_0x1f55cd,_0x201e31,_0x36605a){const _0x2c7cca=a0_0x3c8f40,_0x3a486c=_0x1f55cd[_0x2c7cca(0x196)](/[\r\n]+/g,',\x20')[_0x2c7cca(0x196)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x2c7cca(0x196)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x2c7cca(0x196)](/ {2,}/g,'\x20')[_0x2c7cca(0x164)]();var _0x46063c='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x201e31+'&tl='+_0x36605a+'&dt=t&q='+encodeURIComponent(_0x3a486c);try{const _0x317c15=await fetch(_0x46063c);if(!_0x317c15['ok']){if(_0x317c15[_0x2c7cca(0x19d)]===0x1f4)throw new Error(_0x2c7cca(0x18d));else{const _0x25fd4b=await _0x317c15[_0x2c7cca(0x155)](),_0x4d3199=new Error(_0x25fd4b[_0x2c7cca(0x15a)]['message']);_0x4d3199[_0x2c7cca(0x193)]=_0x25fd4b['error'][_0x2c7cca(0x193)];throw _0x4d3199;}}const _0x6b12f9=await _0x317c15[_0x2c7cca(0x155)]();if(Array['isArray'](_0x6b12f9)&&_0x6b12f9[_0x2c7cca(0x17c)]>0x0&&Array['isArray'](_0x6b12f9[0x0])){var _0x404f77=_0x6b12f9[0x0][_0x2c7cca(0x175)](_0xc111c9=>_0xc111c9[0x0])[_0x2c7cca(0x187)]('\x20');return document['getElementById']('noti-mess')[_0x2c7cca(0x198)]='',inputText['textContent']=_0x2c7cca(0x16f)+_0x404f77[_0x2c7cca(0x196)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x404f77[_0x2c7cca(0x196)](/ {2,}/g,'\x20');}else return document[_0x2c7cca(0x16a)](_0x2c7cca(0x176))[_0x2c7cca(0x198)]='',inputText[_0x2c7cca(0x198)]=_0x2c7cca(0x16f)+_0x6b12f9,_0x6b12f9;}catch(_0xcf2df0){inputText[_0x2c7cca(0x198)]=_0xcf2df0[_0x2c7cca(0x163)];throw _0xcf2df0;}}function a0_0x40d9(_0x448f8b,_0x5bbf68){const _0x178059=a0_0x1780();return a0_0x40d9=function(_0x40d9b7,_0x550797){_0x40d9b7=_0x40d9b7-0x154;let _0xc9f987=_0x178059[_0x40d9b7];return _0xc9f987;},a0_0x40d9(_0x448f8b,_0x5bbf68);}async function autoScroll(){const _0x4ebecf=a0_0x3c8f40;var _0x157ff5=inputText[_0x4ebecf(0x1a5)]-inputText[_0x4ebecf(0x165)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x157ff5||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x4ebecf(0x1a3)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x4e5500){const _0x3245ce=a0_0x3c8f40;var _0x58855c=_0x3245ce(0x159)+encodeURIComponent(_0x4e5500);try{const _0x3d0b95=await fetch(_0x58855c),_0x273590=await _0x3d0b95[_0x3245ce(0x155)]();var _0x488244=_0x273590[0x8][0x0][0x0];return _0x488244;}catch(_0x3af330){console['error'](_0x3245ce(0x18a),_0x3af330);throw _0x3af330;}}async function transLogic(_0x433ed9){const _0x5e4f06='en';if(_0x5e4f06===null){const _0x224e44=await detectLanguage(_0x433ed9),_0x1c0b2a=await translateText(_0x433ed9,_0x224e44,'en');return translateText(_0x1c0b2a,'en','vi');}else{if(_0x5e4f06==='en')return translateText(_0x433ed9,'en','vi');else{const _0x2c65c8=await translateText(_0x433ed9,_0x5e4f06,'en');return translateText(_0x2c65c8,'en','vi');}}}function dataURItoBlob(_0x3dca0e){const _0x87d239=a0_0x3c8f40,_0x80dd5c=atob(_0x3dca0e),_0x43b718=new ArrayBuffer(_0x80dd5c['length']),_0x5b5fef=new Uint8Array(_0x43b718);for(let _0x232079=0x0;_0x232079<_0x80dd5c[_0x87d239(0x17c)];_0x232079++){_0x5b5fef[_0x232079]=_0x80dd5c[_0x87d239(0x15b)](_0x232079);}return new Blob([_0x43b718],{'type':_0x87d239(0x19a)});}document[a0_0x3c8f40(0x162)](a0_0x3c8f40(0x18f),function(){const _0x2f0778=a0_0x3c8f40;ID['forEach'](function(_0x35076c){const _0x3ca4df=a0_0x40d9,_0x7a9378=document[_0x3ca4df(0x16a)](_0x35076c);_0x7a9378&&_0x7a9378[_0x3ca4df(0x162)](_0x3ca4df(0x183),function(){const _0x2f3784=_0x3ca4df;!isFunctionARunning&&turbo['classList']['remove'](_0x2f3784(0x186));});}),[_0x2f0778(0x181)][_0x2f0778(0x188)](_0x4c28c9=>{const _0x594b82=_0x2f0778;turbo[_0x594b82(0x162)](_0x4c28c9,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x594b82(0x162)](_0x4c28c9,()=>{const _0x4f255d=_0x594b82;areaTrans[_0x4f255d(0x167)][_0x4f255d(0x189)](_0x4f255d(0x19f));});});});