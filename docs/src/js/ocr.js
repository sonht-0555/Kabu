const a0_0x552fe4=a0_0x1628;(function(_0x319c4d,_0x3c8b06){const _0x7393e7=a0_0x1628,_0x2b59d9=_0x319c4d();while(!![]){try{const _0x5eb3e7=-parseInt(_0x7393e7(0xf0))/0x1*(-parseInt(_0x7393e7(0xe9))/0x2)+-parseInt(_0x7393e7(0x105))/0x3+parseInt(_0x7393e7(0x120))/0x4*(-parseInt(_0x7393e7(0x131))/0x5)+-parseInt(_0x7393e7(0x12e))/0x6+parseInt(_0x7393e7(0x11b))/0x7+parseInt(_0x7393e7(0xef))/0x8+parseInt(_0x7393e7(0xee))/0x9*(parseInt(_0x7393e7(0x119))/0xa);if(_0x5eb3e7===_0x3c8b06)break;else _0x2b59d9['push'](_0x2b59d9['shift']());}catch(_0x4b055c){_0x2b59d9['push'](_0x2b59d9['shift']());}}}(a0_0x4577,0x91b1f));import*as a0_0x167eb5 from'./main.js';function a0_0x1628(_0x1f64a4,_0x1cd6d4){const _0x457782=a0_0x4577();return a0_0x1628=function(_0x1628ea,_0xf903e){_0x1628ea=_0x1628ea-0xe7;let _0x345a58=_0x457782[_0x1628ea];return _0x345a58;},a0_0x1628(_0x1f64a4,_0x1cd6d4);}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x552fe4(0xfa)),turbo=document[a0_0x552fe4(0x12b)](a0_0x552fe4(0x133)),ID=['A','B','R','L'];async function getImage(){const _0x8478a=a0_0x552fe4;turbo[_0x8478a(0x114)][_0x8478a(0xec)](_0x8478a(0x136));try{const _0x4c6201=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x8478a(0x11c)),_0x1b09a1=await a0_0x167eb5[_0x8478a(0x126)](_0x4c6201),_0x5463f3=new Blob([_0x1b09a1],{'type':_0x8478a(0x117)}),_0x139bd1=await new Promise((_0x5cccc0,_0x190db6)=>{const _0x1b7439=_0x8478a,_0x314e72=new FileReader();_0x314e72[_0x1b7439(0x112)]=()=>_0x5cccc0(_0x314e72[_0x1b7439(0xf3)]),_0x314e72[_0x1b7439(0x116)]=_0x190db6,_0x314e72[_0x1b7439(0x10f)](_0x5463f3);}),_0x447cd8=new Image();_0x447cd8['src']=_0x139bd1,_0x447cd8['onload']=async()=>{const _0x1f500a=_0x8478a,_0x1e95ca=document['createElement'](_0x1f500a(0xeb)),_0x5d5de7=_0x1e95ca[_0x1f500a(0x135)]('2d'),_0x54e914=0x4;let _0x75d973;gameName['endsWith'](_0x1f500a(0xf2))||gameName[_0x1f500a(0x109)](_0x1f500a(0x104))?_0x75d973=0x3/0x6:_0x75d973=0x3/0x4;const _0x48e24b=localStorage[_0x1f500a(0x134)](gameName+'_setArea')||localStorage[_0x1f500a(0x134)]('screenSize'),[_0x5b64da,_0xe263a0,_0x330caf,_0x47a898]=_0x48e24b['split'](',')[_0x1f500a(0xe7)](Number);_0x1e95ca[_0x1f500a(0x103)]=_0x330caf*_0x75d973*_0x54e914,_0x1e95ca[_0x1f500a(0x11d)]=_0x47a898*_0x75d973*_0x54e914,_0x5d5de7[_0x1f500a(0x127)](_0x447cd8,_0x5b64da*_0x75d973,_0xe263a0*_0x75d973,_0x330caf*_0x75d973,_0x47a898*_0x75d973,0x0,0x0,_0x330caf*_0x75d973*_0x54e914,_0x47a898*_0x75d973*_0x54e914);const _0x1ca52c=_0x1e95ca['toDataURL'](_0x1f500a(0x117))[_0x1f500a(0x111)](',')[0x1],_0x25b9ef=localStorage['getItem'](_0x1f500a(0xf1));console['log'](_0x25b9ef),_0x25b9ef?azureServer(_0x1ca52c):freeServer(_0x1ca52c);};}catch(_0x86977){inputText[_0x8478a(0x124)]=_0x86977[_0x8478a(0x132)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x51dd2a=_0x8478a;document[_0x51dd2a(0x12b)](_0x51dd2a(0xfa))['textContent']='',a0_0x167eb5[_0x51dd2a(0xf7)]('',0x0);},0x7530);}async function freeServer(_0x5ce351){const _0x3daffd=a0_0x552fe4;document['getElementById'](_0x3daffd(0x10d))[_0x3daffd(0x124)]='';let _0x228582=0x0;const _0x417c23=setInterval(()=>{const _0x556d11=_0x3daffd;_0x228582+=0x1,_0x228582<=0x64&&(inputText['textContent']=_0x556d11(0xf4)+_0x228582+'%');},0x64);try{const _0x3f1de2=dataURItoBlob(_0x5ce351),_0x4abe6f=new FormData();_0x4abe6f['append']('image',_0x3f1de2,_0x3daffd(0xf8)),_0x4abe6f[_0x3daffd(0x11f)](_0x3daffd(0x12a),_0x3daffd(0x110));let _0x3a27e9;try{_0x3a27e9=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x3daffd(0xea),'body':_0x4abe6f,'headers':{'Origin':window[_0x3daffd(0x123)][_0x3daffd(0x115)],'X-Requested-With':_0x3daffd(0x10c),'User-Agent':navigator[_0x3daffd(0x101)]}});if(!_0x3a27e9['ok'])throw new Error(_0x3daffd(0xf9)+_0x3a27e9[_0x3daffd(0x100)]);}catch(_0x1b2d0c){console[_0x3daffd(0x10e)](_0x3daffd(0x118)),window[_0x3daffd(0x123)][_0x3daffd(0xf6)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x5f830b=await _0x3a27e9[_0x3daffd(0x108)]();if(_0x5f830b['type']===_0x3daffd(0xfe))throw new Error(_0x5f830b['error']['message']);transLogic(_0x5f830b[_0x3daffd(0xfd)]);}catch(_0x2da942){inputText[_0x3daffd(0x124)]=_0x2da942[_0x3daffd(0x132)];}finally{clearInterval(_0x417c23),isFunctionARunning=![];}}async function azureServer(_0x5fbbb5){const _0x2ab9b7=a0_0x552fe4;document[_0x2ab9b7(0x12b)]('noti-mess')[_0x2ab9b7(0x124)]='',inputText['textContent']=_0x2ab9b7(0xf4);const _0x19a3dc=localStorage[_0x2ab9b7(0x134)](_0x2ab9b7(0xf1));let [_0x105215,_0x1b4392]=_0x19a3dc[_0x2ab9b7(0x111)](',');try{const _0x1681e7=await fetch(_0x1b4392+_0x2ab9b7(0x12d),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x105215,'Content-Type':_0x2ab9b7(0x10b)},'body':dataURItoBlob(_0x5fbbb5)}),_0x5567f8=await _0x1681e7[_0x2ab9b7(0x108)]();if(!_0x1681e7['ok']||_0x5567f8['type']==='error'){const _0x28d1bf=_0x1681e7['ok']?_0x5567f8[_0x2ab9b7(0xfe)][_0x2ab9b7(0x132)]:_0x1681e7[_0x2ab9b7(0x100)]===0x1f4?_0x2ab9b7(0x129):(await _0x1681e7[_0x2ab9b7(0x108)]())[_0x2ab9b7(0xfe)]['message'];throw new Error(_0x28d1bf);}const _0xd4baea=_0x5567f8['readResult']['blocks'][0x0],_0x1489e3=_0xd4baea['lines']||[],_0x18a0cb=_0x1489e3[_0x2ab9b7(0xe7)](_0x50ff34=>_0x50ff34[_0x2ab9b7(0xfd)])[_0x2ab9b7(0x137)]('\x0a');transLogic(_0x18a0cb);}catch(_0x5d74d5){inputText['textContent']=_0x5d74d5[_0x2ab9b7(0x132)];}finally{isFunctionARunning=![];}}async function translateText(_0x4791de,_0x1739bc,_0x225294){const _0x36c9bf=a0_0x552fe4,_0x3ec424=_0x4791de[_0x36c9bf(0x10a)](/[\r\n]+/g,',\x20')[_0x36c9bf(0x10a)](/([!?.,])\s*,\s*/g,_0x36c9bf(0x107))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x36c9bf(0x10a)](/ {2,}/g,'\x20')[_0x36c9bf(0x12c)]();var _0x3d5476=_0x36c9bf(0x130)+_0x1739bc+_0x36c9bf(0x125)+_0x225294+_0x36c9bf(0x113)+encodeURIComponent(_0x3ec424);try{const _0x51fecf=await fetch(_0x3d5476);if(!_0x51fecf['ok']){if(_0x51fecf['status']===0x1f4)throw new Error(_0x36c9bf(0x122));else{const _0x32ef17=await _0x51fecf[_0x36c9bf(0x108)](),_0x4793c2=new Error(_0x32ef17[_0x36c9bf(0xfe)]['message']);_0x4793c2[_0x36c9bf(0x11a)]=_0x32ef17[_0x36c9bf(0xfe)][_0x36c9bf(0x11a)];throw _0x4793c2;}}const _0x14e4e6=await _0x51fecf['json']();if(Array[_0x36c9bf(0x106)](_0x14e4e6)&&_0x14e4e6['length']>0x0&&Array[_0x36c9bf(0x106)](_0x14e4e6[0x0])){var _0x5259ec=_0x14e4e6[0x0][_0x36c9bf(0xe7)](_0x5e465a=>_0x5e465a[0x0])[_0x36c9bf(0x137)]('\x20');return document[_0x36c9bf(0x12b)](_0x36c9bf(0x10d))['textContent']='',inputText[_0x36c9bf(0x124)]=_0x36c9bf(0xf4)+_0x5259ec[_0x36c9bf(0x10a)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x5259ec['replace'](/ {2,}/g,'\x20');}else return document[_0x36c9bf(0x12b)](_0x36c9bf(0x10d))['textContent']='',inputText['textContent']='.._\x20'+_0x14e4e6,_0x14e4e6;}catch(_0x1f26d1){inputText[_0x36c9bf(0x124)]=_0x1f26d1[_0x36c9bf(0x132)];throw _0x1f26d1;}}function a0_0x4577(){const _0x42350a=['.._\x20','DOMContentLoaded','href','notiMessage','image.png','HTTP\x20Error:\x20','inputText','length','Error\x20detecting\x20language:','text','error','forEach','status','userAgent','visible','width','.gb','3279951bHVfFe','isArray','$1\x20','json','endsWith','replace','application/octet-stream','XMLHttpRequest','noti-mess','warn','readAsDataURL','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','split','onloadend','&dt=t&q=','classList','origin','onerror','image/png','Cors-controlers\x20have\x20not\x20been\x20activated.','6130lDUMJe','code','7700812MFjdvs','.png','height','scrollLeft','append','388vktGKY','scrollWidth','Internal\x20Server\x20Error','location','textContent','&tl=','captureOCR','drawImage','addEventListener','500\x20Internal\x20Server\x20Error','user','getElementById','trim','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','6813918fXMDpl','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','19460FWZmCr','message','turbo','getItem','getContext','turbo-ocr','join','map','charCodeAt','2338646DfobuJ','POST','canvas','add','remove','5526RLlssT','4459520qOsWEn','1FPjeFe','ApiAzure','.gbc','result'];a0_0x4577=function(){return _0x42350a;};return a0_0x4577();}async function autoScroll(){const _0x222dde=a0_0x552fe4;var _0x5eb0c9=inputText[_0x222dde(0x121)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x5eb0c9||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x222dde(0x11e)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x339a69){const _0x322e8e=a0_0x552fe4;var _0x8da637=_0x322e8e(0x12f)+encodeURIComponent(_0x339a69);try{const _0x40d0d4=await fetch(_0x8da637),_0x7e30c7=await _0x40d0d4[_0x322e8e(0x108)]();var _0x473f1c=_0x7e30c7[0x8][0x0][0x0];return _0x473f1c;}catch(_0x33e7a1){console[_0x322e8e(0xfe)](_0x322e8e(0xfc),_0x33e7a1);throw _0x33e7a1;}}async function transLogic(_0x43569f){const _0x41c203='en';if(_0x41c203===null){const _0x3d1627=await detectLanguage(_0x43569f),_0x9578c4=await translateText(_0x43569f,_0x3d1627,'en');return translateText(_0x9578c4,'en','vi');}else{if(_0x41c203==='en')return translateText(_0x43569f,'en','vi');else{const _0xb1ef58=await translateText(_0x43569f,_0x41c203,'en');return translateText(_0xb1ef58,'en','vi');}}}function dataURItoBlob(_0xaaaf42){const _0x40a766=a0_0x552fe4,_0x149568=atob(_0xaaaf42),_0x5f4fd8=new ArrayBuffer(_0x149568[_0x40a766(0xfb)]),_0x3242ab=new Uint8Array(_0x5f4fd8);for(let _0x25ce1b=0x0;_0x25ce1b<_0x149568[_0x40a766(0xfb)];_0x25ce1b++){_0x3242ab[_0x25ce1b]=_0x149568[_0x40a766(0xe8)](_0x25ce1b);}return new Blob([_0x5f4fd8],{'type':_0x40a766(0x117)});}document[a0_0x552fe4(0x128)](a0_0x552fe4(0xf5),function(){const _0xd4b672=a0_0x552fe4;ID['forEach'](function(_0x2af2e7){const _0x1e7345=a0_0x1628,_0x246ca5=document[_0x1e7345(0x12b)](_0x2af2e7);_0x246ca5&&_0x246ca5[_0x1e7345(0x128)]('touchstart',function(){const _0x4ccc52=_0x1e7345;!isFunctionARunning&&turbo[_0x4ccc52(0x114)][_0x4ccc52(0xed)](_0x4ccc52(0x136));});}),['touchend'][_0xd4b672(0xff)](_0x6ed159=>{const _0x35dbc4=_0xd4b672;turbo[_0x35dbc4(0x128)](_0x6ed159,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x35dbc4(0x128)](_0x6ed159,()=>{const _0x23d61a=_0x35dbc4;areaTrans[_0x23d61a(0x114)]['toggle'](_0x23d61a(0x102));});});});