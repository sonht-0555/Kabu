const a0_0x5540d3=a0_0x18db;function a0_0x4224(){const _0x2dbef7=['touchend','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','https://cors-anywhere.herokuapp.com/corsdemo','join','remove','append','userAgent','clientWidth','getItem','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','innerWidth','inputText','813NTomOL','classList','_setArea','error','setItem','scrollWidth','120CRsuzJ','getFullYear','22899430DCBqtO','DOMContentLoaded','Internal\x20Server\x20Error',']\x20Times\x20Azure','floor','application/octet-stream','.gb','createElement','getElementById','split','canvas','onload','addEventListener','POST','user','.png','result','replace','ApiAzure','lines','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','captureOCR','status','image','random','isArray','width','text','lastSavedDate','498834jfTCxT','input-container','3487266RAWiNV','XMLHttpRequest','turbo-ocr','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','getMonth','Cors-controlers\x20have\x20not\x20been\x20activated.','touchstart','map','round','2802595LwWkcY','forEach','25155NcVZpn','style','backgroundPositionX','origin','code','image.png','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','json','&tl=','&dt=t&q=','location','735040BbSJhZ','...','readAsDataURL','image/png','198YmxRUw','4MEXqtO','readResult','11grGhuw','scrollLeft','blocks','trim','notiMessage','toDataURL','textContent','turbo','500\x20Internal\x20Server\x20Error','logoOcr','add','getContext','src','toISOString','charCodeAt','type','screenSize','HTTP\x20Error:\x20','onloadend','message','endsWith','length'];a0_0x4224=function(){return _0x2dbef7;};return a0_0x4224();}(function(_0x20ab4c,_0x584f44){const _0x55882e=a0_0x18db,_0x193427=_0x20ab4c();while(!![]){try{const _0x149eef=-parseInt(_0x55882e(0x1d6))/0x1+-parseInt(_0x55882e(0x1da))/0x2*(-parseInt(_0x55882e(0x1ff))/0x3)+-parseInt(_0x55882e(0x1db))/0x4*(parseInt(_0x55882e(0x1c9))/0x5)+-parseInt(_0x55882e(0x1c0))/0x6+parseInt(_0x55882e(0x1be))/0x7+parseInt(_0x55882e(0x205))/0x8*(parseInt(_0x55882e(0x1cb))/0x9)+-parseInt(_0x55882e(0x207))/0xa*(-parseInt(_0x55882e(0x1dd))/0xb);if(_0x149eef===_0x584f44)break;else _0x193427['push'](_0x193427['shift']());}catch(_0x4aa536){_0x193427['push'](_0x193427['shift']());}}}(a0_0x4224,0x870e5));import*as a0_0x15c0eb from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x5540d3(0x1a9)](a0_0x5540d3(0x1fe)),input=document['getElementById'](a0_0x5540d3(0x1bf)),turbo=document[a0_0x5540d3(0x1a9)](a0_0x5540d3(0x1e4)),ID=['A','B','R','L'];async function getImage(){const _0x545e58=a0_0x5540d3;turbo[_0x545e58(0x200)][_0x545e58(0x1e7)]('turbo-ocr');try{const _0x14039a=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x545e58(0x1b0)),_0x2b6f59=await a0_0x15c0eb[_0x545e58(0x1b6)](_0x14039a),_0x1927ce=new Blob([_0x2b6f59],{'type':_0x545e58(0x1d9)}),_0x14b228=await new Promise((_0x317fcf,_0x4720a3)=>{const _0x3f1b70=_0x545e58,_0x4c10b2=new FileReader();_0x4c10b2[_0x3f1b70(0x1ef)]=()=>_0x317fcf(_0x4c10b2[_0x3f1b70(0x1b1)]),_0x4c10b2['onerror']=_0x4720a3,_0x4c10b2[_0x3f1b70(0x1d8)](_0x1927ce);}),_0x14c490=new Image();_0x14c490[_0x545e58(0x1e9)]=_0x14b228,_0x14c490[_0x545e58(0x1ac)]=()=>{const _0x4e686c=_0x545e58,_0x1da054=document[_0x4e686c(0x1a8)](_0x4e686c(0x1ab)),_0x1b3225=_0x1da054[_0x4e686c(0x1e8)]('2d'),_0x2825a0=0x4;let _0x101cdb;gameName[_0x4e686c(0x1f1)]('.gbc')||gameName[_0x4e686c(0x1f1)](_0x4e686c(0x20d))?_0x101cdb=Math[_0x4e686c(0x1c8)](0xa0/(window['innerWidth']-0xe6)):_0x101cdb=Math[_0x4e686c(0x1c8)](0xf0/(window[_0x4e686c(0x1fd)]-0x96));const _0x2eb8a7=localStorage[_0x4e686c(0x1fb)](gameName+_0x4e686c(0x201))||localStorage['getItem'](_0x4e686c(0x1ed)),[_0x369646,_0x5cf287,_0x591d12,_0x50f750]=_0x2eb8a7['split'](',')['map'](Number);_0x1da054[_0x4e686c(0x1bb)]=_0x591d12*_0x101cdb*_0x2825a0,_0x1da054['height']=_0x50f750*_0x101cdb*_0x2825a0,_0x1b3225['drawImage'](_0x14c490,_0x369646*_0x101cdb,_0x5cf287*_0x101cdb,_0x591d12*_0x101cdb,_0x50f750*_0x101cdb,0x0,0x0,_0x591d12*_0x101cdb*_0x2825a0,_0x50f750*_0x101cdb*_0x2825a0);const _0x1619b8=_0x1da054[_0x4e686c(0x1e2)](_0x4e686c(0x1d9))[_0x4e686c(0x1aa)](',')[0x1],_0x3f49e1=localStorage[_0x4e686c(0x1fb)](_0x4e686c(0x1b3));_0x3f49e1?azureServer(_0x1619b8):freeServer(_0x1619b8);};}catch(_0x545c65){inputText['textContent']=_0x545c65[_0x545e58(0x1f0)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3aa6dd=_0x545e58;document['getElementById'](_0x3aa6dd(0x1fe))[_0x3aa6dd(0x1e3)]='...';},0x7530);}async function freeServer(_0x146cd2){const _0x230e04=a0_0x5540d3;let _0x42f819=0x0;const _0x1535a1=setInterval(()=>{const _0x5a3b68=a0_0x18db;_0x42f819+=0x1,_0x42f819<=0x64&&(inputText[_0x5a3b68(0x1e3)]='Waiting..'+_0x42f819+'%');},0x64);try{const _0x2d44c0=dataURItoBlob(_0x146cd2),_0x20d003=new FormData();_0x20d003['append'](_0x230e04(0x1b8),_0x2d44c0,_0x230e04(0x1d0)),_0x20d003[_0x230e04(0x1f8)](_0x230e04(0x1af),_0x230e04(0x1b5));let _0x39d36d;try{_0x39d36d=await fetch(_0x230e04(0x1d1),{'method':_0x230e04(0x1ae),'body':_0x20d003,'headers':{'Origin':window[_0x230e04(0x1d5)][_0x230e04(0x1ce)],'X-Requested-With':_0x230e04(0x1c1),'User-Agent':navigator[_0x230e04(0x1f9)]}});if(!_0x39d36d['ok'])throw new Error(_0x230e04(0x1ee)+_0x39d36d['status']);}catch(_0x2c7582){console['warn'](_0x230e04(0x1c5)),window['location']['href']=_0x230e04(0x1f5);return;}const _0x473b97=await _0x39d36d[_0x230e04(0x1d2)]();if(_0x473b97[_0x230e04(0x1ec)]===_0x230e04(0x202))throw new Error(_0x473b97['error']['message']);transLogic(_0x473b97['text']);}catch(_0x59f2df){inputText[_0x230e04(0x1e3)]=_0x59f2df[_0x230e04(0x1f0)];}finally{clearInterval(_0x1535a1),isFunctionARunning=![];}}function a0_0x18db(_0x2a354c,_0x157b23){const _0x422455=a0_0x4224();return a0_0x18db=function(_0x18db12,_0x2361ae){_0x18db12=_0x18db12-0x1a8;let _0x55d5ea=_0x422455[_0x18db12];return _0x55d5ea;},a0_0x18db(_0x2a354c,_0x157b23);}async function azureServer(_0xbc5041){const _0x47296c=a0_0x5540d3;inputText[_0x47296c(0x1e3)]=_0x47296c(0x1d7);const _0x2e3b89=localStorage[_0x47296c(0x1fb)](_0x47296c(0x1b3));let [_0xb7fc7f,_0x5de578,_0x1dc0a5]=_0x2e3b89['split'](',');_0x1dc0a5=parseInt(_0x1dc0a5);const _0x3085f8=new Date(),_0x539d85=_0x3085f8['getMonth'](),_0x4641cc=_0x3085f8[_0x47296c(0x206)](),_0x27298f=localStorage[_0x47296c(0x1fb)]('lastSavedDate'),_0x388445=_0x27298f?new Date(_0x27298f):null;_0x388445&&(_0x539d85!==_0x388445[_0x47296c(0x1c4)]()||_0x4641cc!==_0x388445[_0x47296c(0x206)]())&&(_0x1dc0a5=0x0,localStorage['setItem'](_0x47296c(0x1bd),_0x3085f8[_0x47296c(0x1ea)]()));if(_0x1dc0a5>=0x1356){inputText[_0x47296c(0x1e3)]=_0x47296c(0x1f4);return;}try{const _0x759842=await fetch(_0x5de578+_0x47296c(0x1fc),{'method':_0x47296c(0x1ae),'headers':{'Ocp-Apim-Subscription-Key':_0xb7fc7f,'Content-Type':_0x47296c(0x20c)},'body':dataURItoBlob(_0xbc5041)}),_0x32f6a8=await _0x759842[_0x47296c(0x1d2)]();if(!_0x759842['ok']||_0x32f6a8[_0x47296c(0x1ec)]==='error'){const _0x479a06=_0x759842['ok']?_0x32f6a8[_0x47296c(0x202)][_0x47296c(0x1f0)]:_0x759842['status']===0x1f4?_0x47296c(0x1e5):(await _0x759842['json']())['error'][_0x47296c(0x1f0)];throw new Error(_0x479a06);}const _0x337c01=_0x32f6a8[_0x47296c(0x1dc)][_0x47296c(0x1df)][0x0],_0x52d1e2=_0x337c01[_0x47296c(0x1b4)]||[],_0x59696b=_0x52d1e2[_0x47296c(0x1c7)](_0x4489d6=>_0x4489d6[_0x47296c(0x1bc)])[_0x47296c(0x1f6)]('\x0a');transLogic(_0x59696b);}catch(_0x50b275){inputText[_0x47296c(0x1e3)]=_0x50b275[_0x47296c(0x1f0)];const _0x3def21=++_0x1dc0a5;a0_0x15c0eb['notiMessage']('['+_0x3def21+_0x47296c(0x20a),0x7d0),localStorage[_0x47296c(0x203)](_0x47296c(0x1b3),_0xb7fc7f+','+_0x5de578+','+_0x3def21),localStorage['setItem'](_0x47296c(0x1bd),_0x3085f8['toISOString']());}finally{const _0x49e959=++_0x1dc0a5;a0_0x15c0eb[_0x47296c(0x1e1)]('['+_0x49e959+_0x47296c(0x20a),0x7d0),isFunctionARunning=![],localStorage[_0x47296c(0x203)](_0x47296c(0x1b3),_0xb7fc7f+','+_0x5de578+','+_0x49e959),localStorage[_0x47296c(0x203)](_0x47296c(0x1bd),_0x3085f8[_0x47296c(0x1ea)]());}}async function translateText(_0x4b2fe8,_0x56cc4e,_0x217a0e){const _0x33562d=a0_0x5540d3,_0x51715f=_0x4b2fe8['replace'](/[\r\n]+/g,',\x20')[_0x33562d(0x1b2)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x33562d(0x1b2)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x33562d(0x1b2)](/ {2,}/g,'\x20')[_0x33562d(0x1e0)]();var _0x435551=_0x33562d(0x1c3)+_0x56cc4e+_0x33562d(0x1d3)+_0x217a0e+_0x33562d(0x1d4)+encodeURIComponent(_0x51715f);try{const _0x28ca37=await fetch(_0x435551);if(!_0x28ca37['ok']){if(_0x28ca37[_0x33562d(0x1b7)]===0x1f4)throw new Error(_0x33562d(0x209));else{const _0xb72da7=await _0x28ca37['json'](),_0x75f484=new Error(_0xb72da7['error'][_0x33562d(0x1f0)]);_0x75f484[_0x33562d(0x1cf)]=_0xb72da7[_0x33562d(0x202)]['code'];throw _0x75f484;}}const _0x1b8d9f=await _0x28ca37[_0x33562d(0x1d2)]();if(Array[_0x33562d(0x1ba)](_0x1b8d9f)&&_0x1b8d9f[_0x33562d(0x1f2)]>0x0&&Array[_0x33562d(0x1ba)](_0x1b8d9f[0x0])){var _0x2d95c9=_0x1b8d9f[0x0][_0x33562d(0x1c7)](_0x2337f1=>_0x2337f1[0x0])[_0x33562d(0x1f6)]('\x20');return inputText[_0x33562d(0x1e3)]=_0x2d95c9[_0x33562d(0x1b2)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x2d95c9[_0x33562d(0x1b2)](/ {2,}/g,'\x20');}else return inputText['textContent']=_0x1b8d9f,_0x1b8d9f;}catch(_0x244836){inputText[_0x33562d(0x1e3)]=_0x244836['message'];throw _0x244836;}}async function autoScroll(){const _0x326e86=a0_0x5540d3;var _0x154baf=inputText[_0x326e86(0x204)]-inputText[_0x326e86(0x1fa)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x154baf||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x326e86(0x1de)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3d9c5d){const _0x1a33c0=a0_0x5540d3;var _0x1a735a='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x3d9c5d);try{const _0x46b382=await fetch(_0x1a735a),_0x6ad927=await _0x46b382['json']();var _0x581259=_0x6ad927[0x8][0x0][0x0];return _0x581259;}catch(_0xb8874c){console[_0x1a33c0(0x202)]('Error\x20detecting\x20language:',_0xb8874c);throw _0xb8874c;}}async function transLogic(_0x572dbb){const _0x101803='en';if(_0x101803===null){const _0x988d7b=await detectLanguage(_0x572dbb),_0x52cf56=await translateText(_0x572dbb,_0x988d7b,'en');return translateText(_0x52cf56,'en','vi');}else{if(_0x101803==='en')return translateText(_0x572dbb,'en','vi');else{const _0x500e4e=await translateText(_0x572dbb,_0x101803,'en');return translateText(_0x500e4e,'en','vi');}}}function dataURItoBlob(_0x347213){const _0xa4fb8e=a0_0x5540d3,_0x536b54=atob(_0x347213),_0x55dc33=new ArrayBuffer(_0x536b54[_0xa4fb8e(0x1f2)]),_0x420494=new Uint8Array(_0x55dc33);for(let _0x4615f8=0x0;_0x4615f8<_0x536b54[_0xa4fb8e(0x1f2)];_0x4615f8++){_0x420494[_0x4615f8]=_0x536b54[_0xa4fb8e(0x1eb)](_0x4615f8);}return new Blob([_0x55dc33],{'type':'image/png'});}function logoOcr(){const _0x388053=a0_0x5540d3;var _0xf6fcc6=Math[_0x388053(0x20b)](Math[_0x388053(0x1b9)]()*0x3)+0x1,_0x4446e4=-0xf*_0xf6fcc6+'px';document['getElementById'](_0x388053(0x1e6))[_0x388053(0x1cc)][_0x388053(0x1cd)]=_0x4446e4;}document['addEventListener'](a0_0x5540d3(0x208),function(){const _0x528730=a0_0x5540d3;ID[_0x528730(0x1ca)](function(_0x5acca0){const _0x30e4fa=_0x528730,_0x3a080a=document['getElementById'](_0x5acca0);_0x3a080a&&_0x3a080a[_0x30e4fa(0x1ad)](_0x30e4fa(0x1c6),function(){const _0x2a778e=_0x30e4fa;!isFunctionARunning&&turbo['classList'][_0x2a778e(0x1f7)](_0x2a778e(0x1c2));});}),[_0x528730(0x1f3)][_0x528730(0x1ca)](_0x8e29e7=>{const _0x31dd45=_0x528730;turbo[_0x31dd45(0x1ad)](_0x8e29e7,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x31dd45(0x1ad)](_0x8e29e7,()=>{const _0x4e03cf=_0x31dd45;areaTrans[_0x4e03cf(0x200)]['toggle']('visible');});});});