const a0_0x43fd3d=a0_0x58a3;(function(_0x4fb6bd,_0x2b7172){const _0x235051=a0_0x58a3,_0x1cb900=_0x4fb6bd();while(!![]){try{const _0x4f032e=-parseInt(_0x235051(0xbf))/0x1+-parseInt(_0x235051(0xf7))/0x2*(parseInt(_0x235051(0x106))/0x3)+parseInt(_0x235051(0x101))/0x4+-parseInt(_0x235051(0xcd))/0x5+-parseInt(_0x235051(0xcf))/0x6+parseInt(_0x235051(0xe6))/0x7*(-parseInt(_0x235051(0x10f))/0x8)+-parseInt(_0x235051(0xd9))/0x9*(-parseInt(_0x235051(0xbe))/0xa);if(_0x4f032e===_0x2b7172)break;else _0x1cb900['push'](_0x1cb900['shift']());}catch(_0x4c1899){_0x1cb900['push'](_0x1cb900['shift']());}}}(a0_0x4570,0x4cb48));import*as a0_0x188416 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x43fd3d(0xf4)](a0_0x43fd3d(0xe0)),turbo=document[a0_0x43fd3d(0xf4)](a0_0x43fd3d(0xfc)),ID=['A','B','R','L'];function a0_0x4570(){const _0x14ea8e=['https://cors-anywhere.herokuapp.com/corsdemo','500\x20Internal\x20Server\x20Error','ApiAzure','charCodeAt','Error\x20detecting\x20language:','classList','forEach','1432385rFqobs','replace','39756KPHExw','onerror','turbo-ocr','scrollLeft','append','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','src','add','textContent','canvas','14345946sxkENv','XMLHttpRequest','createElement','POST','status','userAgent','$1\x20','inputText','drawImage','split','endsWith','.._\x20','visible','1393NZjTXF','getItem','blocks','href','image/png','trim','image.png','Cors-controlers\x20have\x20not\x20been\x20activated.','touchstart','application/octet-stream','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','isArray','result','error','getElementById','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','18ODvWhQ','json','map','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','addEventListener','turbo','screenSize','type','height','&dt=t&q=','1246724xDVcUh','lines','noti-mess','getContext','location','72099wFyjGB','&tl=','Internal\x20Server\x20Error','join','readResult','.png','captureOCR','message','touchend','21592oBjZca','10aYWDRP','544990aLfpoO','text','readAsDataURL','code','HTTP\x20Error:\x20','notiMessage','warn'];a0_0x4570=function(){return _0x14ea8e;};return a0_0x4570();}async function getImage(){const _0xe0ef3b=a0_0x43fd3d;turbo[_0xe0ef3b(0xcb)][_0xe0ef3b(0xd6)](_0xe0ef3b(0xd1));try{const _0x5050af=gameName[_0xe0ef3b(0xce)](/\.(gba|gbc|gb|zip)$/,_0xe0ef3b(0x10b)),_0x1880bc=await a0_0x188416[_0xe0ef3b(0x10c)](_0x5050af),_0x4f8e52=new Blob([_0x1880bc],{'type':'image/png'}),_0x37591b=await new Promise((_0x4c18cd,_0x30d4bc)=>{const _0x42afc1=_0xe0ef3b,_0x1f3aa5=new FileReader();_0x1f3aa5['onloadend']=()=>_0x4c18cd(_0x1f3aa5[_0x42afc1(0xf2)]),_0x1f3aa5[_0x42afc1(0xd0)]=_0x30d4bc,_0x1f3aa5[_0x42afc1(0xc1)](_0x4f8e52);}),_0x660e5f=new Image();_0x660e5f[_0xe0ef3b(0xd5)]=_0x37591b,_0x660e5f['onload']=async()=>{const _0x27eea7=_0xe0ef3b,_0x100cc4=document[_0x27eea7(0xdb)](_0x27eea7(0xd8)),_0x12ce0b=_0x100cc4[_0x27eea7(0x104)]('2d'),_0x3afbaa=0x4;let _0x31c422;gameName[_0x27eea7(0xe3)]('.gbc')||gameName[_0x27eea7(0xe3)]('.gb')?_0x31c422=0x3/0x6:_0x31c422=0x3/0x4;const _0xa5f26b=localStorage[_0x27eea7(0xe7)](gameName+'_setArea')||localStorage['getItem'](_0x27eea7(0xfd)),[_0x43a593,_0x310ed5,_0x28c934,_0x562f49]=_0xa5f26b[_0x27eea7(0xe2)](',')[_0x27eea7(0xf9)](Number);_0x100cc4['width']=_0x28c934*_0x31c422*_0x3afbaa,_0x100cc4[_0x27eea7(0xff)]=_0x562f49*_0x31c422*_0x3afbaa,_0x12ce0b[_0x27eea7(0xe1)](_0x660e5f,_0x43a593*_0x31c422,_0x310ed5*_0x31c422,_0x28c934*_0x31c422,_0x562f49*_0x31c422,0x0,0x0,_0x28c934*_0x31c422*_0x3afbaa,_0x562f49*_0x31c422*_0x3afbaa);const _0x10f49e=_0x100cc4['toDataURL']('image/png')['split'](',')[0x1],_0x582d00=localStorage[_0x27eea7(0xe7)](_0x27eea7(0xc8));console['log'](_0x582d00),_0x582d00?azureServer(_0x10f49e):freeServer(_0x10f49e);};}catch(_0x163fd7){inputText[_0xe0ef3b(0xd7)]=_0x163fd7['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x418ef4=_0xe0ef3b;document[_0x418ef4(0xf4)](_0x418ef4(0xe0))[_0x418ef4(0xd7)]='',a0_0x188416[_0x418ef4(0xc4)]('',0x0);},0x7530);}function a0_0x58a3(_0x2186e1,_0x3d8d70){const _0x457019=a0_0x4570();return a0_0x58a3=function(_0x58a31e,_0x34cddd){_0x58a31e=_0x58a31e-0xbe;let _0x40c4c5=_0x457019[_0x58a31e];return _0x40c4c5;},a0_0x58a3(_0x2186e1,_0x3d8d70);}async function freeServer(_0x2b7519){const _0x62c93b=a0_0x43fd3d;document['getElementById']('noti-mess')[_0x62c93b(0xd7)]='';let _0x25bc81=0x0;const _0x2ccf8c=setInterval(()=>{const _0xb37439=_0x62c93b;_0x25bc81+=0x1,_0x25bc81<=0x64&&(inputText['textContent']=_0xb37439(0xe4)+_0x25bc81+'%');},0x64);try{const _0x467d46=dataURItoBlob(_0x2b7519),_0x10b441=new FormData();_0x10b441[_0x62c93b(0xd3)]('image',_0x467d46,_0x62c93b(0xec)),_0x10b441[_0x62c93b(0xd3)]('user',_0x62c93b(0xf6));let _0x478752;try{_0x478752=await fetch(_0x62c93b(0xfa),{'method':_0x62c93b(0xdc),'body':_0x10b441,'headers':{'Origin':window[_0x62c93b(0x105)]['origin'],'X-Requested-With':_0x62c93b(0xda),'User-Agent':navigator[_0x62c93b(0xde)]}});if(!_0x478752['ok'])throw new Error(_0x62c93b(0xc3)+_0x478752['status']);}catch(_0x929861){console[_0x62c93b(0xc5)](_0x62c93b(0xed)),window[_0x62c93b(0x105)][_0x62c93b(0xe9)]=_0x62c93b(0xc6);return;}const _0x1dbd7b=await _0x478752[_0x62c93b(0xf8)]();if(_0x1dbd7b[_0x62c93b(0xfe)]===_0x62c93b(0xf3))throw new Error(_0x1dbd7b['error']['message']);transLogic(_0x1dbd7b[_0x62c93b(0xc0)]);}catch(_0x556063){inputText[_0x62c93b(0xd7)]=_0x556063[_0x62c93b(0x10d)];}finally{clearInterval(_0x2ccf8c),isFunctionARunning=![];}}async function azureServer(_0x779c11){const _0x31a4a2=a0_0x43fd3d;document['getElementById'](_0x31a4a2(0x103))[_0x31a4a2(0xd7)]='',inputText[_0x31a4a2(0xd7)]=_0x31a4a2(0xe4);const _0x5353c7=localStorage[_0x31a4a2(0xe7)](_0x31a4a2(0xc8));let [_0x40b591,_0x5bc717]=_0x5353c7[_0x31a4a2(0xe2)](',');try{const _0x1f7a34=await fetch(_0x5bc717+_0x31a4a2(0xf5),{'method':_0x31a4a2(0xdc),'headers':{'Ocp-Apim-Subscription-Key':_0x40b591,'Content-Type':_0x31a4a2(0xef)},'body':dataURItoBlob(_0x779c11)}),_0x5e9d8b=await _0x1f7a34['json']();if(!_0x1f7a34['ok']||_0x5e9d8b['type']===_0x31a4a2(0xf3)){const _0x29f97f=_0x1f7a34['ok']?_0x5e9d8b[_0x31a4a2(0xf3)]['message']:_0x1f7a34['status']===0x1f4?_0x31a4a2(0xc7):(await _0x1f7a34['json']())['error'][_0x31a4a2(0x10d)];throw new Error(_0x29f97f);}const _0x2279ec=_0x5e9d8b[_0x31a4a2(0x10a)][_0x31a4a2(0xe8)][0x0],_0x42cde4=_0x2279ec[_0x31a4a2(0x102)]||[],_0x272624=_0x42cde4[_0x31a4a2(0xf9)](_0xed9a89=>_0xed9a89['text'])[_0x31a4a2(0x109)]('\x0a');transLogic(_0x272624);}catch(_0x474c40){inputText[_0x31a4a2(0xd7)]=_0x474c40[_0x31a4a2(0x10d)];}finally{isFunctionARunning=![];}}async function translateText(_0x531362,_0x572e4a,_0x2e5091){const _0x2c4a48=a0_0x43fd3d,_0x566685=_0x531362['replace'](/[\r\n]+/g,',\x20')[_0x2c4a48(0xce)](/([!?.,])\s*,\s*/g,_0x2c4a48(0xdf))[_0x2c4a48(0xce)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x2c4a48(0xce)](/ {2,}/g,'\x20')[_0x2c4a48(0xeb)]();var _0x49d74e=_0x2c4a48(0xd4)+_0x572e4a+_0x2c4a48(0x107)+_0x2e5091+_0x2c4a48(0x100)+encodeURIComponent(_0x566685);try{const _0xa7d00c=await fetch(_0x49d74e);if(!_0xa7d00c['ok']){if(_0xa7d00c[_0x2c4a48(0xdd)]===0x1f4)throw new Error(_0x2c4a48(0x108));else{const _0x4b672e=await _0xa7d00c[_0x2c4a48(0xf8)](),_0x551c38=new Error(_0x4b672e[_0x2c4a48(0xf3)][_0x2c4a48(0x10d)]);_0x551c38['code']=_0x4b672e['error'][_0x2c4a48(0xc2)];throw _0x551c38;}}const _0x8c625=await _0xa7d00c[_0x2c4a48(0xf8)]();if(Array[_0x2c4a48(0xf1)](_0x8c625)&&_0x8c625['length']>0x0&&Array['isArray'](_0x8c625[0x0])){var _0xee3e67=_0x8c625[0x0]['map'](_0x505762=>_0x505762[0x0])[_0x2c4a48(0x109)]('\x20');return document[_0x2c4a48(0xf4)](_0x2c4a48(0x103))[_0x2c4a48(0xd7)]='',inputText[_0x2c4a48(0xd7)]=_0x2c4a48(0xe4)+_0xee3e67[_0x2c4a48(0xce)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0xee3e67[_0x2c4a48(0xce)](/ {2,}/g,'\x20');}else return document[_0x2c4a48(0xf4)](_0x2c4a48(0x103))[_0x2c4a48(0xd7)]='',inputText[_0x2c4a48(0xd7)]=_0x2c4a48(0xe4)+_0x8c625,_0x8c625;}catch(_0x39d575){inputText['textContent']=_0x39d575[_0x2c4a48(0x10d)];throw _0x39d575;}}async function autoScroll(){const _0xccb77e=a0_0x43fd3d;var _0x2ca145=inputText['scrollWidth']-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2ca145||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0xccb77e(0xd2)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3191ca){const _0x1d7799=a0_0x43fd3d;var _0x352ce9=_0x1d7799(0xf0)+encodeURIComponent(_0x3191ca);try{const _0x53c7e3=await fetch(_0x352ce9),_0x4d4881=await _0x53c7e3[_0x1d7799(0xf8)]();var _0x1a82ab=_0x4d4881[0x8][0x0][0x0];return _0x1a82ab;}catch(_0xb8af50){console['error'](_0x1d7799(0xca),_0xb8af50);throw _0xb8af50;}}async function transLogic(_0x2dce5c){const _0x42c241='en';if(_0x42c241===null){const _0x5a2288=await detectLanguage(_0x2dce5c),_0x5dd189=await translateText(_0x2dce5c,_0x5a2288,'en');return translateText(_0x5dd189,'en','vi');}else{if(_0x42c241==='en')return translateText(_0x2dce5c,'en','vi');else{const _0x216b67=await translateText(_0x2dce5c,_0x42c241,'en');return translateText(_0x216b67,'en','vi');}}}function dataURItoBlob(_0x46ee0d){const _0x54e149=a0_0x43fd3d,_0x53221a=atob(_0x46ee0d),_0x16fb10=new ArrayBuffer(_0x53221a['length']),_0xb4bf47=new Uint8Array(_0x16fb10);for(let _0xc6a4e1=0x0;_0xc6a4e1<_0x53221a['length'];_0xc6a4e1++){_0xb4bf47[_0xc6a4e1]=_0x53221a[_0x54e149(0xc9)](_0xc6a4e1);}return new Blob([_0x16fb10],{'type':_0x54e149(0xea)});}document['addEventListener']('DOMContentLoaded',function(){const _0x369935=a0_0x43fd3d;ID[_0x369935(0xcc)](function(_0x23135d){const _0x15c927=_0x369935,_0x12f8aa=document[_0x15c927(0xf4)](_0x23135d);_0x12f8aa&&_0x12f8aa[_0x15c927(0xfb)](_0x15c927(0xee),function(){const _0x2e99a5=_0x15c927;!isFunctionARunning&&turbo[_0x2e99a5(0xcb)]['remove'](_0x2e99a5(0xd1));});}),[_0x369935(0x10e)][_0x369935(0xcc)](_0x87bc86=>{const _0x4e0b58=_0x369935;turbo[_0x4e0b58(0xfb)](_0x87bc86,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x4e0b58(0xfb)](_0x87bc86,()=>{const _0x1b39a5=_0x4e0b58;areaTrans[_0x1b39a5(0xcb)]['toggle'](_0x1b39a5(0xe5));});});});