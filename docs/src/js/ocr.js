const a0_0x1d8d18=a0_0x1707;(function(_0x3849e9,_0x7fa156){const _0x31b389=a0_0x1707,_0x547bf5=_0x3849e9();while(!![]){try{const _0xd05fc0=parseInt(_0x31b389(0xeb))/0x1*(-parseInt(_0x31b389(0x12c))/0x2)+parseInt(_0x31b389(0x103))/0x3+parseInt(_0x31b389(0x10a))/0x4*(-parseInt(_0x31b389(0x122))/0x5)+-parseInt(_0x31b389(0x124))/0x6+-parseInt(_0x31b389(0x123))/0x7+parseInt(_0x31b389(0xec))/0x8+-parseInt(_0x31b389(0x126))/0x9*(-parseInt(_0x31b389(0x117))/0xa);if(_0xd05fc0===_0x7fa156)break;else _0x547bf5['push'](_0x547bf5['shift']());}catch(_0x24028f){_0x547bf5['push'](_0x547bf5['shift']());}}}(a0_0x31b1,0x31eb6));import*as a0_0xce783d from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x1d8d18(0x107)),turbo=document[a0_0x1d8d18(0x125)](a0_0x1d8d18(0x119)),ID=['A','B','R','L'];async function getImage(){const _0x2dd0ce=a0_0x1d8d18;turbo[_0x2dd0ce(0x131)][_0x2dd0ce(0xee)](_0x2dd0ce(0xf1));try{const _0x2798e4=gameName[_0x2dd0ce(0x121)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x611590=await a0_0xce783d['captureOCR'](_0x2798e4),_0x5e4bb9=new Blob([_0x611590],{'type':_0x2dd0ce(0x10d)}),_0x1a7b8e=await new Promise((_0x3b4240,_0x55c38b)=>{const _0xd3d989=_0x2dd0ce,_0x53acfb=new FileReader();_0x53acfb[_0xd3d989(0x130)]=()=>_0x3b4240(_0x53acfb[_0xd3d989(0x10c)]),_0x53acfb[_0xd3d989(0x104)]=_0x55c38b,_0x53acfb['readAsDataURL'](_0x5e4bb9);}),_0x165a8a=new Image();_0x165a8a[_0x2dd0ce(0x108)]=_0x1a7b8e,_0x165a8a['onload']=async()=>{const _0x193953=_0x2dd0ce,_0xe4423e=document[_0x193953(0x102)](_0x193953(0xf8)),_0x34e8eb=_0xe4423e[_0x193953(0x116)]('2d'),_0x623080=0x4;let _0x69f0c1;gameName[_0x193953(0x11f)](_0x193953(0x12a))||gameName['endsWith'](_0x193953(0x100))?_0x69f0c1=0x3/0x6:_0x69f0c1=0x3/0x4;const _0x348ed4=localStorage['getItem'](gameName+_0x193953(0xfe))||localStorage[_0x193953(0x111)](_0x193953(0x127)),[_0x1994be,_0x8b7396,_0x1245b7,_0x10ee00]=_0x348ed4[_0x193953(0x132)](',')[_0x193953(0x137)](Number);_0xe4423e[_0x193953(0xf3)]=_0x1245b7*_0x69f0c1*_0x623080,_0xe4423e[_0x193953(0x118)]=_0x10ee00*_0x69f0c1*_0x623080,_0x34e8eb[_0x193953(0xfa)](_0x165a8a,_0x1994be*_0x69f0c1,_0x8b7396*_0x69f0c1,_0x1245b7*_0x69f0c1,_0x10ee00*_0x69f0c1,0x0,0x0,_0x1245b7*_0x69f0c1*_0x623080,_0x10ee00*_0x69f0c1*_0x623080);const _0x5bfacc=_0xe4423e[_0x193953(0xfd)]('image/png')['split'](',')[0x1],_0x1df263=localStorage[_0x193953(0x111)](_0x193953(0xf5));console[_0x193953(0xf0)](_0x1df263),_0x1df263?azureServer(_0x5bfacc):freeServer(_0x5bfacc);};}catch(_0x47c260){inputText[_0x2dd0ce(0x129)]=_0x47c260[_0x2dd0ce(0x128)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x4abd45=_0x2dd0ce;document[_0x4abd45(0x125)](_0x4abd45(0x107))[_0x4abd45(0x129)]='',a0_0xce783d[_0x4abd45(0xe7)]('',0x0);},0x7530);}async function freeServer(_0x4522c0){const _0x144065=a0_0x1d8d18;document[_0x144065(0x125)]('noti-mess')[_0x144065(0x129)]='';let _0x24b769=0x0;const _0x19f0e9=setInterval(()=>{const _0x3df775=_0x144065;_0x24b769+=0x1,_0x24b769<=0x64&&(inputText['textContent']=_0x3df775(0xed)+_0x24b769+'%');},0x64);try{const _0x1892a5=dataURItoBlob(_0x4522c0),_0x180409=new FormData();_0x180409[_0x144065(0xf7)](_0x144065(0x106),_0x1892a5,_0x144065(0xe3)),_0x180409[_0x144065(0xf7)](_0x144065(0x135),_0x144065(0x10f));let _0x59ee4b;try{_0x59ee4b=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x144065(0xf9),'body':_0x180409,'headers':{'Origin':window['location'][_0x144065(0xe8)],'X-Requested-With':_0x144065(0xfb),'User-Agent':navigator[_0x144065(0xea)]}});if(!_0x59ee4b['ok'])throw new Error(_0x144065(0x10e)+_0x59ee4b[_0x144065(0xe9)]);}catch(_0x21a037){console['warn'](_0x144065(0x112)),window['location']['href']='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x67c2dd=await _0x59ee4b[_0x144065(0x12f)]();if(_0x67c2dd['type']===_0x144065(0x134))throw new Error(_0x67c2dd[_0x144065(0x134)][_0x144065(0x128)]);transLogic(_0x67c2dd['text']);}catch(_0x1a2d9d){inputText['textContent']=_0x1a2d9d['message'];}finally{clearInterval(_0x19f0e9),isFunctionARunning=![];}}async function azureServer(_0x445978){const _0x3a2302=a0_0x1d8d18;document[_0x3a2302(0x125)]('noti-mess')[_0x3a2302(0x129)]='',inputText[_0x3a2302(0x129)]=_0x3a2302(0xed);const _0x505e97=localStorage[_0x3a2302(0x111)](_0x3a2302(0xf5));let [_0x467c6b,_0x2c4bd6]=_0x505e97[_0x3a2302(0x132)](',');try{const _0x3f679c=await fetch(_0x2c4bd6+_0x3a2302(0xe6),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x467c6b,'Content-Type':_0x3a2302(0x12d)},'body':dataURItoBlob(_0x445978)}),_0xb25943=await _0x3f679c[_0x3a2302(0x12f)]();if(!_0x3f679c['ok']||_0xb25943[_0x3a2302(0x11e)]===_0x3a2302(0x134)){const _0x1887d4=_0x3f679c['ok']?_0xb25943['error'][_0x3a2302(0x128)]:_0x3f679c[_0x3a2302(0xe9)]===0x1f4?_0x3a2302(0x138):(await _0x3f679c[_0x3a2302(0x12f)]())[_0x3a2302(0x134)][_0x3a2302(0x128)];throw new Error(_0x1887d4);}const _0x1f379f=_0xb25943[_0x3a2302(0x101)][_0x3a2302(0x11d)][0x0],_0xf9e56c=_0x1f379f[_0x3a2302(0xe5)]||[],_0x17a6cf=_0xf9e56c[_0x3a2302(0x137)](_0x420573=>_0x420573['text'])[_0x3a2302(0x114)]('\x0a');transLogic(_0x17a6cf);}catch(_0xa15228){inputText[_0x3a2302(0x129)]=_0xa15228[_0x3a2302(0x128)];}finally{isFunctionARunning=![];}}async function translateText(_0x3bfa42,_0x39a13a,_0x3effab){const _0x4af40d=a0_0x1d8d18,_0x173877=_0x3bfa42[_0x4af40d(0x121)](/[\r\n]+/g,',\x20')[_0x4af40d(0x121)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x4af40d(0x121)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x4af40d(0x121)](/ {2,}/g,'\x20')[_0x4af40d(0xfc)]();var _0x4a8c5f=_0x4af40d(0x11b)+_0x39a13a+_0x4af40d(0x12b)+_0x3effab+_0x4af40d(0xe4)+encodeURIComponent(_0x173877);try{const _0x1a7361=await fetch(_0x4a8c5f);if(!_0x1a7361['ok']){if(_0x1a7361['status']===0x1f4)throw new Error(_0x4af40d(0xf2));else{const _0x2da061=await _0x1a7361[_0x4af40d(0x12f)](),_0x1422ae=new Error(_0x2da061['error'][_0x4af40d(0x128)]);_0x1422ae[_0x4af40d(0x11a)]=_0x2da061['error'][_0x4af40d(0x11a)];throw _0x1422ae;}}const _0x583b28=await _0x1a7361[_0x4af40d(0x12f)]();if(Array[_0x4af40d(0xf6)](_0x583b28)&&_0x583b28[_0x4af40d(0xf4)]>0x0&&Array[_0x4af40d(0xf6)](_0x583b28[0x0])){var _0x34d065=_0x583b28[0x0][_0x4af40d(0x137)](_0x4e54b7=>_0x4e54b7[0x0])[_0x4af40d(0x114)]('\x20');return document[_0x4af40d(0x125)](_0x4af40d(0xef))[_0x4af40d(0x129)]='',inputText[_0x4af40d(0x129)]=_0x4af40d(0xed)+_0x34d065[_0x4af40d(0x121)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x34d065[_0x4af40d(0x121)](/ {2,}/g,'\x20');}else return document[_0x4af40d(0x125)]('noti-mess')[_0x4af40d(0x129)]='',inputText[_0x4af40d(0x129)]=_0x4af40d(0xed)+_0x583b28,_0x583b28;}catch(_0xa342a){inputText['textContent']=_0xa342a[_0x4af40d(0x128)];throw _0xa342a;}}async function autoScroll(){const _0x915fd8=a0_0x1d8d18;var _0x6f3657=inputText['scrollWidth']-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x6f3657||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x915fd8(0x10b)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}function a0_0x31b1(){const _0x5d41c8=['Cors-controlers\x20have\x20not\x20been\x20activated.','touchstart','join','Error\x20detecting\x20language:','getContext','970DhDsfw','height','turbo','code','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','remove','blocks','type','endsWith','visible','replace','327950EWFdho','239316rwVEQD','884700ccuirn','getElementById','45774stTopN','screenSize','message','textContent','.gbc','&tl=','193990sAPrOA','application/octet-stream','toggle','json','onloadend','classList','split','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','error','user','charCodeAt','map','500\x20Internal\x20Server\x20Error','image.png','&dt=t&q=','lines','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','notiMessage','origin','status','userAgent','1fsIZFX','3006536AInJfw','.._\x20','add','noti-mess','log','turbo-ocr','Internal\x20Server\x20Error','width','length','ApiAzure','isArray','append','canvas','POST','drawImage','XMLHttpRequest','trim','toDataURL','_setArea','addEventListener','.gb','readResult','createElement','22452MjAEhs','onerror','DOMContentLoaded','image','inputText','src','forEach','24SiHtFt','scrollLeft','result','image/png','HTTP\x20Error:\x20','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','touchend','getItem'];a0_0x31b1=function(){return _0x5d41c8;};return a0_0x31b1();}async function detectLanguage(_0x27314a){const _0x2bdd6e=a0_0x1d8d18;var _0x569716=_0x2bdd6e(0x133)+encodeURIComponent(_0x27314a);try{const _0x428aa1=await fetch(_0x569716),_0x507d42=await _0x428aa1[_0x2bdd6e(0x12f)]();var _0x451a9a=_0x507d42[0x8][0x0][0x0];return _0x451a9a;}catch(_0x211cce){console[_0x2bdd6e(0x134)](_0x2bdd6e(0x115),_0x211cce);throw _0x211cce;}}async function transLogic(_0x43571a){const _0x3ac34c='en';if(_0x3ac34c===null){const _0x46b610=await detectLanguage(_0x43571a),_0x4ee389=await translateText(_0x43571a,_0x46b610,'en');return translateText(_0x4ee389,'en','vi');}else{if(_0x3ac34c==='en')return translateText(_0x43571a,'en','vi');else{const _0x301433=await translateText(_0x43571a,_0x3ac34c,'en');return translateText(_0x301433,'en','vi');}}}function a0_0x1707(_0x59ef35,_0x1d5c04){const _0x31b19e=a0_0x31b1();return a0_0x1707=function(_0x1707a1,_0x52bacf){_0x1707a1=_0x1707a1-0xe3;let _0x3349d9=_0x31b19e[_0x1707a1];return _0x3349d9;},a0_0x1707(_0x59ef35,_0x1d5c04);}function dataURItoBlob(_0x1e0c81){const _0x86daa1=a0_0x1d8d18,_0x4e56ea=atob(_0x1e0c81),_0x4fd481=new ArrayBuffer(_0x4e56ea[_0x86daa1(0xf4)]),_0x5dbc77=new Uint8Array(_0x4fd481);for(let _0x2f9cb7=0x0;_0x2f9cb7<_0x4e56ea[_0x86daa1(0xf4)];_0x2f9cb7++){_0x5dbc77[_0x2f9cb7]=_0x4e56ea[_0x86daa1(0x136)](_0x2f9cb7);}return new Blob([_0x4fd481],{'type':_0x86daa1(0x10d)});}document[a0_0x1d8d18(0xff)](a0_0x1d8d18(0x105),function(){const _0x730da3=a0_0x1d8d18;ID[_0x730da3(0x109)](function(_0x7cbe27){const _0x33f62f=_0x730da3,_0x152ecb=document['getElementById'](_0x7cbe27);_0x152ecb&&_0x152ecb[_0x33f62f(0xff)](_0x33f62f(0x113),function(){const _0x31b5c9=_0x33f62f;!isFunctionARunning&&turbo[_0x31b5c9(0x131)][_0x31b5c9(0x11c)](_0x31b5c9(0xf1));});}),[_0x730da3(0x110)][_0x730da3(0x109)](_0x84576b=>{const _0x271ca6=_0x730da3;turbo[_0x271ca6(0xff)](_0x84576b,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x84576b,()=>{const _0x3d85bb=_0x271ca6;areaTrans['classList'][_0x3d85bb(0x12e)](_0x3d85bb(0x120));});});});