const a0_0x37498e=a0_0x1c9a;(function(_0x4506df,_0x3d0e2e){const _0x364ca4=a0_0x1c9a,_0x4a2482=_0x4506df();while(!![]){try{const _0x1bfb7b=parseInt(_0x364ca4(0x1d1))/0x1+parseInt(_0x364ca4(0x1af))/0x2+-parseInt(_0x364ca4(0x1e3))/0x3+parseInt(_0x364ca4(0x1bc))/0x4+parseInt(_0x364ca4(0x1c9))/0x5*(parseInt(_0x364ca4(0x1cb))/0x6)+parseInt(_0x364ca4(0x1ac))/0x7+-parseInt(_0x364ca4(0x1d7))/0x8*(parseInt(_0x364ca4(0x1da))/0x9);if(_0x1bfb7b===_0x3d0e2e)break;else _0x4a2482['push'](_0x4a2482['shift']());}catch(_0x254f7f){_0x4a2482['push'](_0x4a2482['shift']());}}}(a0_0x5400,0xadfcd));import*as a0_0x34f12f from'./main.js';function a0_0x1c9a(_0x27109e,_0x2e531e){const _0x54008=a0_0x5400();return a0_0x1c9a=function(_0x1c9a8f,_0x424c09){_0x1c9a8f=_0x1c9a8f-0x19a;let _0x28b092=_0x54008[_0x1c9a8f];return _0x28b092;},a0_0x1c9a(_0x27109e,_0x2e531e);}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];function a0_0x5400(){const _0x325a8f=['112fJbwhx','remove','width','965718wnjQdg','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','code','log','length','split','Internal\x20Server\x20Error','message','status','3133662muqxFf','notiMessage','DOMContentLoaded','json','image','.gb','classList','forEach','readResult','_setArea','Cors-controlers\x20have\x20not\x20been\x20activated.','location','join','append','onerror','onloadend','textContent','warn','height','toggle','lines','4825821MzjVLl','map','scrollWidth','1887198blPxYM','getItem','HTTP\x20Error:\x20','noti-mess','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','text','screenSize','href','addEventListener','touchend','POST','XMLHttpRequest','&dt=t&q=','1119728taNaAT','src','replace','turbo','canvas','image/png','ApiAzure','https://cors-anywhere.herokuapp.com/corsdemo','readAsDataURL','user','isArray','getElementById','image.png','20NimKxJ','endsWith','258522qOIDyC','scrollLeft','.gbc','500\x20Internal\x20Server\x20Error','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','1174153fAhquf','type','toDataURL','error','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','inputText'];a0_0x5400=function(){return _0x325a8f;};return a0_0x5400();}var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x37498e(0x1c7)]('inputText'),turbo=document['getElementById'](a0_0x37498e(0x1bf)),ID=['A','B','R','L'];async function getImage(){const _0x40a9cb=a0_0x37498e;turbo['classList']['add']('turbo-ocr');try{const _0x6e54b0=gameName[_0x40a9cb(0x1be)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x1b07dd=await a0_0x34f12f['captureOCR'](_0x6e54b0),_0x266339=new Blob([_0x1b07dd],{'type':'image/png'}),_0x18d3aa=await new Promise((_0x452c3e,_0x5e0500)=>{const _0x3c0964=_0x40a9cb,_0x551be6=new FileReader();_0x551be6[_0x3c0964(0x1a6)]=()=>_0x452c3e(_0x551be6['result']),_0x551be6[_0x3c0964(0x1a5)]=_0x5e0500,_0x551be6[_0x3c0964(0x1c4)](_0x266339);}),_0x2ca834=new Image();_0x2ca834[_0x40a9cb(0x1bd)]=_0x18d3aa,_0x2ca834['onload']=async()=>{const _0x3d337e=_0x40a9cb,_0x116053=document['createElement'](_0x3d337e(0x1c0)),_0x17c86a=_0x116053['getContext']('2d'),_0xb30593=0x4;let _0x5d633a;gameName[_0x3d337e(0x1ca)](_0x3d337e(0x1cd))||gameName[_0x3d337e(0x1ca)](_0x3d337e(0x19c))?_0x5d633a=0x3/0x6:_0x5d633a=0x3/0x4;const _0x3562f5=localStorage[_0x3d337e(0x1b0)](gameName+_0x3d337e(0x1a0))||localStorage[_0x3d337e(0x1b0)](_0x3d337e(0x1b5)),[_0x183e15,_0x47a2a8,_0x384882,_0x4922b9]=_0x3562f5[_0x3d337e(0x1df)](',')[_0x3d337e(0x1ad)](Number);_0x116053[_0x3d337e(0x1d9)]=_0x384882*_0x5d633a*_0xb30593,_0x116053[_0x3d337e(0x1a9)]=_0x4922b9*_0x5d633a*_0xb30593,_0x17c86a['drawImage'](_0x2ca834,_0x183e15*_0x5d633a,_0x47a2a8*_0x5d633a,_0x384882*_0x5d633a,_0x4922b9*_0x5d633a,0x0,0x0,_0x384882*_0x5d633a*_0xb30593,_0x4922b9*_0x5d633a*_0xb30593);const _0x3f1175=_0x116053[_0x3d337e(0x1d3)](_0x3d337e(0x1c1))[_0x3d337e(0x1df)](',')[0x1],_0x10bab2=localStorage['getItem'](_0x3d337e(0x1c2));console[_0x3d337e(0x1dd)](_0x10bab2),_0x10bab2?azureServer(_0x3f1175):freeServer(_0x3f1175);};}catch(_0x45c375){inputText[_0x40a9cb(0x1a7)]=_0x45c375[_0x40a9cb(0x1e1)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x14a417=_0x40a9cb;document[_0x14a417(0x1c7)](_0x14a417(0x1d6))[_0x14a417(0x1a7)]='',a0_0x34f12f[_0x14a417(0x1e4)]('',0x0);},0x7530);}async function freeServer(_0x13d9f2){const _0x2ca840=a0_0x37498e;document[_0x2ca840(0x1c7)](_0x2ca840(0x1b2))[_0x2ca840(0x1a7)]='';let _0x1517a5=0x0;const _0x4a0b3d=setInterval(()=>{const _0x2f4689=_0x2ca840;_0x1517a5+=0x1,_0x1517a5<=0x64&&(inputText[_0x2f4689(0x1a7)]='.._\x20'+_0x1517a5+'%');},0x64);try{const _0x395326=dataURItoBlob(_0x13d9f2),_0x1299ed=new FormData();_0x1299ed[_0x2ca840(0x1a4)](_0x2ca840(0x19b),_0x395326,_0x2ca840(0x1c8)),_0x1299ed[_0x2ca840(0x1a4)](_0x2ca840(0x1c5),_0x2ca840(0x1cf));let _0x1c6cb7;try{_0x1c6cb7=await fetch(_0x2ca840(0x1b3),{'method':_0x2ca840(0x1b9),'body':_0x1299ed,'headers':{'Origin':window['location']['origin'],'X-Requested-With':_0x2ca840(0x1ba),'User-Agent':navigator['userAgent']}});if(!_0x1c6cb7['ok'])throw new Error(_0x2ca840(0x1b1)+_0x1c6cb7[_0x2ca840(0x1e2)]);}catch(_0x42efaa){console[_0x2ca840(0x1a8)](_0x2ca840(0x1a1)),window[_0x2ca840(0x1a2)][_0x2ca840(0x1b6)]=_0x2ca840(0x1c3);return;}const _0x43908a=await _0x1c6cb7[_0x2ca840(0x19a)]();if(_0x43908a['type']===_0x2ca840(0x1d4))throw new Error(_0x43908a[_0x2ca840(0x1d4)][_0x2ca840(0x1e1)]);transLogic(_0x43908a[_0x2ca840(0x1b4)]);}catch(_0x35c257){inputText['textContent']=_0x35c257[_0x2ca840(0x1e1)];}finally{clearInterval(_0x4a0b3d),isFunctionARunning=![];}}async function azureServer(_0xa1274a){const _0x580923=a0_0x37498e;document[_0x580923(0x1c7)](_0x580923(0x1b2))[_0x580923(0x1a7)]='',inputText[_0x580923(0x1a7)]='.._\x20';const _0x24607d=localStorage['getItem'](_0x580923(0x1c2));let [_0x5ba92e,_0x542cfa]=_0x24607d['split'](',');try{const _0x4ec9ac=await fetch(_0x542cfa+_0x580923(0x1d0),{'method':_0x580923(0x1b9),'headers':{'Ocp-Apim-Subscription-Key':_0x5ba92e,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0xa1274a)}),_0x206ced=await _0x4ec9ac[_0x580923(0x19a)]();if(!_0x4ec9ac['ok']||_0x206ced[_0x580923(0x1d2)]===_0x580923(0x1d4)){const _0x356e92=_0x4ec9ac['ok']?_0x206ced[_0x580923(0x1d4)][_0x580923(0x1e1)]:_0x4ec9ac[_0x580923(0x1e2)]===0x1f4?_0x580923(0x1ce):(await _0x4ec9ac[_0x580923(0x19a)]())['error'][_0x580923(0x1e1)];throw new Error(_0x356e92);}const _0x554160=_0x206ced[_0x580923(0x19f)]['blocks'][0x0],_0x3b90a2=_0x554160[_0x580923(0x1ab)]||[],_0x3f5143=_0x3b90a2[_0x580923(0x1ad)](_0x12657d=>_0x12657d['text'])['join']('\x0a');transLogic(_0x3f5143);}catch(_0x4d4c55){inputText['textContent']=_0x4d4c55['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x42a187,_0x530c39,_0x462a00){const _0x10b4f5=a0_0x37498e,_0x3b1328=_0x42a187['replace'](/[\r\n]+/g,',\x20')[_0x10b4f5(0x1be)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x10b4f5(0x1be)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x10b4f5(0x1be)](/ {2,}/g,'\x20')['trim']();var _0x446315=_0x10b4f5(0x1d5)+_0x530c39+'&tl='+_0x462a00+_0x10b4f5(0x1bb)+encodeURIComponent(_0x3b1328);try{const _0xa77b01=await fetch(_0x446315);if(!_0xa77b01['ok']){if(_0xa77b01[_0x10b4f5(0x1e2)]===0x1f4)throw new Error(_0x10b4f5(0x1e0));else{const _0x4a723b=await _0xa77b01['json'](),_0x2dfb6f=new Error(_0x4a723b[_0x10b4f5(0x1d4)][_0x10b4f5(0x1e1)]);_0x2dfb6f[_0x10b4f5(0x1dc)]=_0x4a723b[_0x10b4f5(0x1d4)][_0x10b4f5(0x1dc)];throw _0x2dfb6f;}}const _0x321cb7=await _0xa77b01[_0x10b4f5(0x19a)]();if(Array[_0x10b4f5(0x1c6)](_0x321cb7)&&_0x321cb7['length']>0x0&&Array[_0x10b4f5(0x1c6)](_0x321cb7[0x0])){var _0x582a5a=_0x321cb7[0x0]['map'](_0x13fd37=>_0x13fd37[0x0])[_0x10b4f5(0x1a3)]('\x20');return document['getElementById'](_0x10b4f5(0x1b2))[_0x10b4f5(0x1a7)]='',inputText[_0x10b4f5(0x1a7)]='.._\x20'+_0x582a5a[_0x10b4f5(0x1be)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x582a5a['replace'](/ {2,}/g,'\x20');}else return document[_0x10b4f5(0x1c7)](_0x10b4f5(0x1b2))['textContent']='',inputText[_0x10b4f5(0x1a7)]='.._\x20'+_0x321cb7,_0x321cb7;}catch(_0x1ea16f){inputText[_0x10b4f5(0x1a7)]=_0x1ea16f[_0x10b4f5(0x1e1)];throw _0x1ea16f;}}async function autoScroll(){const _0x1a9860=a0_0x37498e;var _0x2a7ca6=inputText[_0x1a9860(0x1ae)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2a7ca6||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x1a9860(0x1cc)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x554632){const _0x542df4=a0_0x37498e;var _0x579278=_0x542df4(0x1db)+encodeURIComponent(_0x554632);try{const _0x51f9c4=await fetch(_0x579278),_0x5280e3=await _0x51f9c4[_0x542df4(0x19a)]();var _0x197516=_0x5280e3[0x8][0x0][0x0];return _0x197516;}catch(_0x581064){console[_0x542df4(0x1d4)]('Error\x20detecting\x20language:',_0x581064);throw _0x581064;}}async function transLogic(_0x432e4f){const _0x4c143e='en';if(_0x4c143e===null){const _0x2e8f54=await detectLanguage(_0x432e4f),_0x3f7db6=await translateText(_0x432e4f,_0x2e8f54,'en');return translateText(_0x3f7db6,'en','vi');}else{if(_0x4c143e==='en')return translateText(_0x432e4f,'en','vi');else{const _0x406d83=await translateText(_0x432e4f,_0x4c143e,'en');return translateText(_0x406d83,'en','vi');}}}function dataURItoBlob(_0x5a93b0){const _0x5859b6=a0_0x37498e,_0x39b39f=atob(_0x5a93b0),_0x1fb174=new ArrayBuffer(_0x39b39f[_0x5859b6(0x1de)]),_0x49d76a=new Uint8Array(_0x1fb174);for(let _0x154b14=0x0;_0x154b14<_0x39b39f['length'];_0x154b14++){_0x49d76a[_0x154b14]=_0x39b39f['charCodeAt'](_0x154b14);}return new Blob([_0x1fb174],{'type':_0x5859b6(0x1c1)});}document[a0_0x37498e(0x1b7)](a0_0x37498e(0x1e5),function(){const _0x20d11d=a0_0x37498e;ID[_0x20d11d(0x19e)](function(_0x740951){const _0x3de42f=_0x20d11d,_0x4f05eb=document[_0x3de42f(0x1c7)](_0x740951);_0x4f05eb&&_0x4f05eb[_0x3de42f(0x1b7)]('touchstart',function(){const _0x396124=_0x3de42f;!isFunctionARunning&&turbo['classList'][_0x396124(0x1d8)]('turbo-ocr');});}),[_0x20d11d(0x1b8)][_0x20d11d(0x19e)](_0x3b9c60=>{const _0x4ca616=_0x20d11d;turbo[_0x4ca616(0x1b7)](_0x3b9c60,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x4ca616(0x1b7)](_0x3b9c60,()=>{const _0x346585=_0x4ca616;areaTrans[_0x346585(0x19d)][_0x346585(0x1aa)]('visible');});});});