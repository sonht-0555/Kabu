const a0_0x749066=a0_0x3c7a;(function(_0x486c9e,_0x19b9dc){const _0x38e1cd=a0_0x3c7a,_0x42707c=_0x486c9e();while(!![]){try{const _0x29abf8=-parseInt(_0x38e1cd(0xa5))/0x1*(-parseInt(_0x38e1cd(0x8d))/0x2)+parseInt(_0x38e1cd(0x92))/0x3+parseInt(_0x38e1cd(0x89))/0x4+-parseInt(_0x38e1cd(0x8c))/0x5+-parseInt(_0x38e1cd(0x9d))/0x6*(-parseInt(_0x38e1cd(0x7e))/0x7)+parseInt(_0x38e1cd(0x84))/0x8*(-parseInt(_0x38e1cd(0x87))/0x9)+-parseInt(_0x38e1cd(0xb5))/0xa;if(_0x29abf8===_0x19b9dc)break;else _0x42707c['push'](_0x42707c['shift']());}catch(_0x3e0f1e){_0x42707c['push'](_0x42707c['shift']());}}}(a0_0x15b7,0x1b8c9));import*as a0_0x4dcfa3 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x749066(0x8a)](a0_0x749066(0x6c)),turbo=document[a0_0x749066(0x8a)](a0_0x749066(0x6a)),ID=['A','B','R','L'];async function getImage(){const _0x26d1ea=a0_0x749066;turbo[_0x26d1ea(0x97)][_0x26d1ea(0x81)](_0x26d1ea(0xb3));try{const _0x295879=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x26d1ea(0xaf)),_0x44c347=await a0_0x4dcfa3[_0x26d1ea(0xab)](_0x295879),_0x478194=new Blob([_0x44c347],{'type':_0x26d1ea(0x6e)}),_0x2c8023=await new Promise((_0x3ce87c,_0x124164)=>{const _0x8e4b8f=_0x26d1ea,_0x2a0598=new FileReader();_0x2a0598[_0x8e4b8f(0x90)]=()=>_0x3ce87c(_0x2a0598[_0x8e4b8f(0xb4)]),_0x2a0598[_0x8e4b8f(0x8e)]=_0x124164,_0x2a0598[_0x8e4b8f(0x71)](_0x478194);}),_0x1b3f0=new Image();_0x1b3f0[_0x26d1ea(0x7f)]=_0x2c8023,_0x1b3f0[_0x26d1ea(0xb6)]=async()=>{const _0x4d3692=_0x26d1ea,_0x2168d8=document['createElement'](_0x4d3692(0xa6)),_0x405a56=_0x2168d8[_0x4d3692(0x98)]('2d'),_0x4e3c81=0x4;let _0x91d3c0;gameName[_0x4d3692(0x6d)](_0x4d3692(0x68))||gameName['endsWith']('.gb')?_0x91d3c0=0x3/0x6:_0x91d3c0=0x3/0x4;const _0x5f3c1b=localStorage[_0x4d3692(0x9f)](gameName+_0x4d3692(0x91))||localStorage[_0x4d3692(0x9f)]('screenSize'),[_0x31db5a,_0x248c77,_0x3fca63,_0x558c88]=_0x5f3c1b[_0x4d3692(0xb8)](',')['map'](Number);_0x2168d8[_0x4d3692(0xa0)]=_0x3fca63*_0x91d3c0*_0x4e3c81,_0x2168d8[_0x4d3692(0x9c)]=_0x558c88*_0x91d3c0*_0x4e3c81,_0x405a56['drawImage'](_0x1b3f0,_0x31db5a*_0x91d3c0,_0x248c77*_0x91d3c0,_0x3fca63*_0x91d3c0,_0x558c88*_0x91d3c0,0x0,0x0,_0x3fca63*_0x91d3c0*_0x4e3c81,_0x558c88*_0x91d3c0*_0x4e3c81);const _0x1f31e0=_0x2168d8[_0x4d3692(0x6b)](_0x4d3692(0x6e))['split'](',')[0x1],_0x206ad0=localStorage[_0x4d3692(0x9f)]('ApiAzure');console['log'](_0x206ad0),_0x206ad0?azureServer(_0x1f31e0):freeServer(_0x1f31e0);};}catch(_0x2bf72f){inputText[_0x26d1ea(0xa8)]=_0x2bf72f[_0x26d1ea(0xa9)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x5d6874=_0x26d1ea;document[_0x5d6874(0x8a)](_0x5d6874(0x6c))[_0x5d6874(0xa8)]='',a0_0x4dcfa3[_0x5d6874(0xbb)]('',0x0);},0x7530);}async function freeServer(_0x579317){const _0x520939=a0_0x749066;document[_0x520939(0x8a)](_0x520939(0xb0))[_0x520939(0xa8)]='';let _0x2fc5c4=0x0;const _0x3b71c1=setInterval(()=>{_0x2fc5c4+=0x1,_0x2fc5c4<=0x64&&(inputText['textContent']='.._\x20'+_0x2fc5c4+'%');},0x64);try{const _0x52298e=dataURItoBlob(_0x579317),_0x228647=new FormData();_0x228647[_0x520939(0xb9)](_0x520939(0x80),_0x52298e,_0x520939(0x78)),_0x228647[_0x520939(0xb9)]('user',_0x520939(0x6f));let _0x5c9f7c;try{_0x5c9f7c=await fetch(_0x520939(0xa4),{'method':'POST','body':_0x228647,'headers':{'Origin':window[_0x520939(0xa7)][_0x520939(0xac)],'X-Requested-With':_0x520939(0xa2),'User-Agent':navigator[_0x520939(0xbc)]}});if(!_0x5c9f7c['ok'])throw new Error(_0x520939(0x72)+_0x5c9f7c['status']);}catch(_0x1fe939){console[_0x520939(0x76)](_0x520939(0x7a)),window['location'][_0x520939(0x99)]=_0x520939(0xae);return;}const _0x58f959=await _0x5c9f7c[_0x520939(0xad)]();if(_0x58f959[_0x520939(0x94)]===_0x520939(0x8b))throw new Error(_0x58f959[_0x520939(0x8b)]['message']);transLogic(_0x58f959['text']);}catch(_0x3ba03e){inputText[_0x520939(0xa8)]=_0x3ba03e[_0x520939(0xa9)];}finally{clearInterval(_0x3b71c1),isFunctionARunning=![];}}async function azureServer(_0xb261a1){const _0x108b0c=a0_0x749066;document[_0x108b0c(0x8a)](_0x108b0c(0xb0))['textContent']='',inputText[_0x108b0c(0xa8)]=_0x108b0c(0x88);const _0x4ae1df=localStorage['getItem'](_0x108b0c(0xa3));let [_0x50f97d,_0x51081e]=_0x4ae1df[_0x108b0c(0xb8)](',');try{const _0x23dea2=await fetch(_0x51081e+_0x108b0c(0x85),{'method':_0x108b0c(0x82),'headers':{'Ocp-Apim-Subscription-Key':_0x50f97d,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0xb261a1)}),_0x55bd82=await _0x23dea2['json']();if(!_0x23dea2['ok']||_0x55bd82[_0x108b0c(0x94)]===_0x108b0c(0x8b)){const _0xffe7cd=_0x23dea2['ok']?_0x55bd82[_0x108b0c(0x8b)][_0x108b0c(0xa9)]:_0x23dea2[_0x108b0c(0x74)]===0x1f4?_0x108b0c(0x69):(await _0x23dea2['json']())[_0x108b0c(0x8b)]['message'];throw new Error(_0xffe7cd);}const _0x2b5b63=_0x55bd82[_0x108b0c(0xb7)][_0x108b0c(0x79)][0x0],_0x2cfb28=_0x2b5b63[_0x108b0c(0x7c)]||[],_0x40044b=_0x2cfb28['map'](_0x356f86=>_0x356f86[_0x108b0c(0x8f)])[_0x108b0c(0xb2)]('\x0a');transLogic(_0x40044b);}catch(_0x4f73f2){inputText[_0x108b0c(0xa8)]=_0x4f73f2[_0x108b0c(0xa9)];}finally{isFunctionARunning=![];}}async function translateText(_0xec9505,_0xc6c05c,_0x5ad307){const _0x1e7f20=a0_0x749066,_0x311287=_0xec9505[_0x1e7f20(0x83)](/[\r\n]+/g,',\x20')[_0x1e7f20(0x83)](/([!?.,])\s*,\s*/g,_0x1e7f20(0x75))[_0x1e7f20(0x83)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x1e7f20(0x83)](/ {2,}/g,'\x20')[_0x1e7f20(0xaa)]();var _0x2796c0=_0x1e7f20(0x73)+_0xc6c05c+_0x1e7f20(0x95)+_0x5ad307+_0x1e7f20(0x9b)+encodeURIComponent(_0x311287);try{const _0x5dce87=await fetch(_0x2796c0);if(!_0x5dce87['ok']){if(_0x5dce87[_0x1e7f20(0x74)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x380cf3=await _0x5dce87['json'](),_0x3fd7f9=new Error(_0x380cf3[_0x1e7f20(0x8b)]['message']);_0x3fd7f9[_0x1e7f20(0xbd)]=_0x380cf3['error'][_0x1e7f20(0xbd)];throw _0x3fd7f9;}}const _0x471fc7=await _0x5dce87[_0x1e7f20(0xad)]();if(Array[_0x1e7f20(0x77)](_0x471fc7)&&_0x471fc7['length']>0x0&&Array[_0x1e7f20(0x77)](_0x471fc7[0x0])){var _0x1edcff=_0x471fc7[0x0][_0x1e7f20(0x96)](_0x4f59ab=>_0x4f59ab[0x0])[_0x1e7f20(0xb2)]('\x20');return document[_0x1e7f20(0x8a)](_0x1e7f20(0xb0))[_0x1e7f20(0xa8)]='',inputText[_0x1e7f20(0xa8)]=_0x1e7f20(0x88)+_0x1edcff[_0x1e7f20(0x83)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x1edcff[_0x1e7f20(0x83)](/ {2,}/g,'\x20');}else return document[_0x1e7f20(0x8a)](_0x1e7f20(0xb0))[_0x1e7f20(0xa8)]='',inputText[_0x1e7f20(0xa8)]=_0x1e7f20(0x88)+_0x471fc7,_0x471fc7;}catch(_0x4a8823){inputText[_0x1e7f20(0xa8)]=_0x4a8823['message'];throw _0x4a8823;}}async function autoScroll(){const _0x46d35e=a0_0x749066;var _0x16fdd7=inputText[_0x46d35e(0x7b)]-inputText[_0x46d35e(0x93)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x16fdd7||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x46d35e(0xb1)]=scrollAmount,requestAnimationFrame(autoScroll);}function a0_0x3c7a(_0x4b9167,_0x3004e7){const _0x15b7f5=a0_0x15b7();return a0_0x3c7a=function(_0x3c7a7b,_0x30b4e4){_0x3c7a7b=_0x3c7a7b-0x67;let _0x118e59=_0x15b7f5[_0x3c7a7b];return _0x118e59;},a0_0x3c7a(_0x4b9167,_0x3004e7);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3c79b2){const _0xb36060=a0_0x749066;var _0x1f3a28=_0xb36060(0x70)+encodeURIComponent(_0x3c79b2);try{const _0xb80778=await fetch(_0x1f3a28),_0x96601e=await _0xb80778['json']();var _0x4f3db0=_0x96601e[0x8][0x0][0x0];return _0x4f3db0;}catch(_0x5899a8){console[_0xb36060(0x8b)](_0xb36060(0x7d),_0x5899a8);throw _0x5899a8;}}async function transLogic(_0x52bf9b){const _0x4f745a='en';if(_0x4f745a===null){const _0x4d1f70=await detectLanguage(_0x52bf9b),_0x5c5862=await translateText(_0x52bf9b,_0x4d1f70,'en');return translateText(_0x5c5862,'en','vi');}else{if(_0x4f745a==='en')return translateText(_0x52bf9b,'en','vi');else{const _0x4e7cff=await translateText(_0x52bf9b,_0x4f745a,'en');return translateText(_0x4e7cff,'en','vi');}}}function a0_0x15b7(){const _0x5565c9=['329088GlqiAK','clientWidth','type','&tl=','map','classList','getContext','href','toggle','&dt=t&q=','height','48IfWvpy','addEventListener','getItem','width','touchend','XMLHttpRequest','ApiAzure','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','326QXrGWR','canvas','location','textContent','message','trim','captureOCR','origin','json','https://cors-anywhere.herokuapp.com/corsdemo','.png','noti-mess','scrollLeft','join','turbo-ocr','result','2350910adrJHU','onload','readResult','split','append','forEach','notiMessage','userAgent','code','remove','visible','.gbc','500\x20Internal\x20Server\x20Error','turbo','toDataURL','inputText','endsWith','image/png','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','readAsDataURL','HTTP\x20Error:\x20','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','status','$1\x20','warn','isArray','image.png','blocks','Cors-controlers\x20have\x20not\x20been\x20activated.','scrollWidth','lines','Error\x20detecting\x20language:','130711PCxiec','src','image','add','POST','replace','8xOtQAU','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','length','1857663llMtfW','.._\x20','830572biOpyh','getElementById','error','636090YVTcLL','1318KrtJyW','onerror','text','onloadend','_setArea'];a0_0x15b7=function(){return _0x5565c9;};return a0_0x15b7();}function dataURItoBlob(_0x1cb14c){const _0xa08373=a0_0x749066,_0x34bb6f=atob(_0x1cb14c),_0x27ab05=new ArrayBuffer(_0x34bb6f['length']),_0x5e9d7c=new Uint8Array(_0x27ab05);for(let _0x197f92=0x0;_0x197f92<_0x34bb6f[_0xa08373(0x86)];_0x197f92++){_0x5e9d7c[_0x197f92]=_0x34bb6f['charCodeAt'](_0x197f92);}return new Blob([_0x27ab05],{'type':'image/png'});}document[a0_0x749066(0x9e)]('DOMContentLoaded',function(){const _0x5650cb=a0_0x749066;ID[_0x5650cb(0xba)](function(_0x359448){const _0x17dcfa=_0x5650cb,_0x38a2e5=document[_0x17dcfa(0x8a)](_0x359448);_0x38a2e5&&_0x38a2e5[_0x17dcfa(0x9e)]('touchstart',function(){const _0x1c8aa2=_0x17dcfa;!isFunctionARunning&&turbo['classList'][_0x1c8aa2(0xbe)](_0x1c8aa2(0xb3));});}),[_0x5650cb(0xa1)][_0x5650cb(0xba)](_0xc524ed=>{const _0x1d52d8=_0x5650cb;turbo[_0x1d52d8(0x9e)](_0xc524ed,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x1d52d8(0x9e)](_0xc524ed,()=>{const _0x4e6397=_0x1d52d8;areaTrans[_0x4e6397(0x97)][_0x4e6397(0x9a)](_0x4e6397(0x67));});});});