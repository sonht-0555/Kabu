const a0_0x32dad7=a0_0x373d;(function(_0x112dc7,_0x184434){const _0x24b623=a0_0x373d,_0x3d0a17=_0x112dc7();while(!![]){try{const _0x3c48be=-parseInt(_0x24b623(0x1ef))/0x1*(parseInt(_0x24b623(0x1d9))/0x2)+-parseInt(_0x24b623(0x1f6))/0x3+parseInt(_0x24b623(0x216))/0x4+parseInt(_0x24b623(0x20a))/0x5*(parseInt(_0x24b623(0x20c))/0x6)+parseInt(_0x24b623(0x1d1))/0x7*(-parseInt(_0x24b623(0x1d7))/0x8)+-parseInt(_0x24b623(0x1d6))/0x9+parseInt(_0x24b623(0x1dc))/0xa;if(_0x3c48be===_0x184434)break;else _0x3d0a17['push'](_0x3d0a17['shift']());}catch(_0x4c8f2d){_0x3d0a17['push'](_0x3d0a17['shift']());}}}(a0_0x3498,0xf116e));import*as a0_0xfb3cf4 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x32dad7(0x1db)]('inputText'),turbo=document[a0_0x32dad7(0x1db)](a0_0x32dad7(0x1d0)),ID=['A','B','R','L'];async function getImage(){const _0xc0b7bf=a0_0x32dad7;turbo[_0xc0b7bf(0x215)]['add'](_0xc0b7bf(0x1df));try{const _0x7b86ae=gameName[_0xc0b7bf(0x1c7)](/\.(gba|gbc|gb|zip)$/,_0xc0b7bf(0x1fb)),_0x47878b=await a0_0xfb3cf4['captureOCR'](_0x7b86ae),_0x4b9a15=new Blob([_0x47878b],{'type':_0xc0b7bf(0x1d5)}),_0x2f17fc=await new Promise((_0x231670,_0xfbcdc6)=>{const _0x3c0133=_0xc0b7bf,_0x3fc09c=new FileReader();_0x3fc09c[_0x3c0133(0x20e)]=()=>_0x231670(_0x3fc09c[_0x3c0133(0x1d2)]),_0x3fc09c['onerror']=_0xfbcdc6,_0x3fc09c[_0x3c0133(0x214)](_0x4b9a15);}),_0x13d71f=new Image();_0x13d71f['src']=_0x2f17fc,_0x13d71f[_0xc0b7bf(0x1fa)]=async()=>{const _0x39dc5f=_0xc0b7bf,_0x2be128=document['createElement']('canvas'),_0x5571c6=_0x2be128[_0x39dc5f(0x1e7)]('2d'),_0x42040b=0x4;let _0x285870;gameName[_0x39dc5f(0x1cf)]('.gbc')||gameName[_0x39dc5f(0x1cf)](_0x39dc5f(0x1f8))?_0x285870=0x3/0x6:_0x285870=0x3/0x4;const _0x3e6964=localStorage[_0x39dc5f(0x201)](gameName+_0x39dc5f(0x1cc))||localStorage['getItem'](_0x39dc5f(0x1c8)),[_0x533c34,_0x1266cc,_0x1e4eba,_0x3ca0c5]=_0x3e6964[_0x39dc5f(0x1ea)](',')[_0x39dc5f(0x211)](Number);_0x2be128['width']=_0x1e4eba*_0x285870*_0x42040b,_0x2be128[_0x39dc5f(0x208)]=_0x3ca0c5*_0x285870*_0x42040b,_0x5571c6[_0x39dc5f(0x1e1)](_0x13d71f,_0x533c34*_0x285870,_0x1266cc*_0x285870,_0x1e4eba*_0x285870,_0x3ca0c5*_0x285870,0x0,0x0,_0x1e4eba*_0x285870*_0x42040b,_0x3ca0c5*_0x285870*_0x42040b);const _0x221417=_0x2be128[_0x39dc5f(0x209)](_0x39dc5f(0x1d5))[_0x39dc5f(0x1ea)](',')[0x1],_0x2d5694=localStorage[_0x39dc5f(0x201)]('ApiAzure');console[_0x39dc5f(0x1d8)](_0x2d5694),_0x2d5694?azureServer(_0x221417):freeServer(_0x221417);};}catch(_0x551cd9){inputText[_0xc0b7bf(0x1de)]=_0x551cd9['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x14b83b=_0xc0b7bf;document['getElementById'](_0x14b83b(0x203))['textContent']='',a0_0xfb3cf4['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x518b1e){const _0x3eff9b=a0_0x32dad7;document[_0x3eff9b(0x1db)](_0x3eff9b(0x1ec))[_0x3eff9b(0x1de)]='';let _0x2d9c70=0x0;const _0x28716e=setInterval(()=>{const _0x5f313e=_0x3eff9b;_0x2d9c70+=0x1,_0x2d9c70<=0x64&&(inputText['textContent']=_0x5f313e(0x206)+_0x2d9c70+'%');},0x64);try{const _0x32717a=dataURItoBlob(_0x518b1e),_0x4153e3=new FormData();_0x4153e3[_0x3eff9b(0x1fc)](_0x3eff9b(0x1ed),_0x32717a,_0x3eff9b(0x1f9)),_0x4153e3[_0x3eff9b(0x1fc)](_0x3eff9b(0x207),_0x3eff9b(0x1f0));let _0x94b413;try{_0x94b413=await fetch(_0x3eff9b(0x1f2),{'method':_0x3eff9b(0x1e9),'body':_0x4153e3,'headers':{'Origin':window['location'][_0x3eff9b(0x1f7)],'X-Requested-With':_0x3eff9b(0x1e2),'User-Agent':navigator['userAgent']}});if(!_0x94b413['ok'])throw new Error('HTTP\x20Error:\x20'+_0x94b413[_0x3eff9b(0x1e6)]);}catch(_0x2e51c9){console[_0x3eff9b(0x1ff)](_0x3eff9b(0x1e4)),window['location'][_0x3eff9b(0x20d)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x470327=await _0x94b413[_0x3eff9b(0x200)]();if(_0x470327[_0x3eff9b(0x1fd)]===_0x3eff9b(0x1ca))throw new Error(_0x470327['error'][_0x3eff9b(0x1d3)]);transLogic(_0x470327[_0x3eff9b(0x205)]);}catch(_0x4b093c){inputText[_0x3eff9b(0x1de)]=_0x4b093c['message'];}finally{clearInterval(_0x28716e),isFunctionARunning=![];}}async function azureServer(_0x56a86a){const _0xd561a5=a0_0x32dad7;document[_0xd561a5(0x1db)](_0xd561a5(0x1ec))[_0xd561a5(0x1de)]='',inputText[_0xd561a5(0x1de)]='.._\x20';const _0x1b427c=localStorage[_0xd561a5(0x201)]('ApiAzure');let [_0x6b2a2c,_0x300b10]=_0x1b427c[_0xd561a5(0x1ea)](',');try{const _0x500d5f=await fetch(_0x300b10+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0xd561a5(0x1e9),'headers':{'Ocp-Apim-Subscription-Key':_0x6b2a2c,'Content-Type':_0xd561a5(0x1f1)},'body':dataURItoBlob(_0x56a86a)}),_0x1b9870=await _0x500d5f[_0xd561a5(0x200)]();if(!_0x500d5f['ok']||_0x1b9870[_0xd561a5(0x1fd)]===_0xd561a5(0x1ca)){const _0x45b0bc=_0x500d5f['ok']?_0x1b9870[_0xd561a5(0x1ca)]['message']:_0x500d5f[_0xd561a5(0x1e6)]===0x1f4?_0xd561a5(0x1f4):(await _0x500d5f[_0xd561a5(0x200)]())[_0xd561a5(0x1ca)][_0xd561a5(0x1d3)];throw new Error(_0x45b0bc);}const _0x5bb39f=_0x1b9870[_0xd561a5(0x202)][_0xd561a5(0x1ce)][0x0],_0x416b2f=_0x5bb39f[_0xd561a5(0x213)]||[],_0x37f50b=_0x416b2f[_0xd561a5(0x211)](_0x44c051=>_0x44c051['text'])[_0xd561a5(0x1e5)]('\x0a');transLogic(_0x37f50b);}catch(_0x13c904){inputText[_0xd561a5(0x1de)]=_0x13c904[_0xd561a5(0x1d3)];}finally{isFunctionARunning=![];}}async function translateText(_0x3d9a7a,_0x166140,_0x4c7c42){const _0x34cd6c=a0_0x32dad7,_0x3918e8=_0x3d9a7a[_0x34cd6c(0x1c7)](/[\r\n]+/g,',\x20')[_0x34cd6c(0x1c7)](/([!?.,])\s*,\s*/g,_0x34cd6c(0x204))[_0x34cd6c(0x1c7)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x34cd6c(0x1ee)]();var _0x2b3c97=_0x34cd6c(0x212)+_0x166140+_0x34cd6c(0x1e3)+_0x4c7c42+_0x34cd6c(0x1f3)+encodeURIComponent(_0x3918e8);try{const _0x31eeab=await fetch(_0x2b3c97);if(!_0x31eeab['ok']){if(_0x31eeab[_0x34cd6c(0x1e6)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x2cf622=await _0x31eeab[_0x34cd6c(0x200)](),_0x37dbb8=new Error(_0x2cf622['error'][_0x34cd6c(0x1d3)]);_0x37dbb8['code']=_0x2cf622[_0x34cd6c(0x1ca)][_0x34cd6c(0x1e8)];throw _0x37dbb8;}}const _0x44f9b2=await _0x31eeab[_0x34cd6c(0x200)]();if(Array[_0x34cd6c(0x20f)](_0x44f9b2)&&_0x44f9b2[_0x34cd6c(0x1eb)]>0x0&&Array['isArray'](_0x44f9b2[0x0])){var _0x4b3f53=_0x44f9b2[0x0][_0x34cd6c(0x211)](_0x295825=>_0x295825[0x0])['join']('\x20');return document[_0x34cd6c(0x1db)]('noti-mess')['textContent']='',inputText[_0x34cd6c(0x1de)]='.._\x20'+_0x4b3f53[_0x34cd6c(0x1c7)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4b3f53[_0x34cd6c(0x1c7)](/ {2,}/g,'\x20');}else return document[_0x34cd6c(0x1db)]('noti-mess')['textContent']='',inputText[_0x34cd6c(0x1de)]=_0x34cd6c(0x206)+_0x44f9b2,_0x44f9b2;}catch(_0x10176e){inputText['textContent']=_0x10176e[_0x34cd6c(0x1d3)];throw _0x10176e;}}async function autoScroll(){const _0x2c5a8d=a0_0x32dad7;var _0x23eb9d=inputText[_0x2c5a8d(0x1da)]-inputText[_0x2c5a8d(0x210)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x23eb9d||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x2c5a8d(0x1c9)]=scrollAmount,requestAnimationFrame(autoScroll);}function a0_0x3498(){const _0x5d5e76=['origin','.gb','image.png','onload','.png','append','type','DOMContentLoaded','warn','json','getItem','readResult','inputText','$1\x20','text','.._\x20','user','height','toDataURL','822785HjrPMO','addEventListener','66niCtEt','href','onloadend','isArray','clientWidth','map','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','lines','readAsDataURL','classList','6979356GmBATs','replace','screenSize','scrollLeft','error','toggle','_setArea','touchstart','blocks','endsWith','turbo','1013103UTJlJV','result','message','forEach','image/png','15317703sNgpMg','16MmZiZX','log','1949446tSdaEM','scrollWidth','getElementById','20250500jADniQ','visible','textContent','turbo-ocr','remove','drawImage','XMLHttpRequest','&tl=','Cors-controlers\x20have\x20not\x20been\x20activated.','join','status','getContext','code','POST','split','length','noti-mess','image','trim','1eDOEtg','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','application/octet-stream','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','&dt=t&q=','500\x20Internal\x20Server\x20Error','touchend','4879098Xqwgcz'];a0_0x3498=function(){return _0x5d5e76;};return a0_0x3498();}function a0_0x373d(_0x1d6489,_0x108672){const _0x349862=a0_0x3498();return a0_0x373d=function(_0x373d81,_0x57c09e){_0x373d81=_0x373d81-0x1c7;let _0x2eba82=_0x349862[_0x373d81];return _0x2eba82;},a0_0x373d(_0x1d6489,_0x108672);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3f80c0){const _0xd0c33b=a0_0x32dad7;var _0x1da61e='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x3f80c0);try{const _0x362bd3=await fetch(_0x1da61e),_0x420a78=await _0x362bd3[_0xd0c33b(0x200)]();var _0x516412=_0x420a78[0x8][0x0][0x0];return _0x516412;}catch(_0x1b1a7e){console[_0xd0c33b(0x1ca)]('Error\x20detecting\x20language:',_0x1b1a7e);throw _0x1b1a7e;}}async function transLogic(_0x11a06e){const _0x52acae='en';if(_0x52acae===null){const _0x5608ca=await detectLanguage(_0x11a06e),_0x18184c=await translateText(_0x11a06e,_0x5608ca,'en');return translateText(_0x18184c,'en','vi');}else{if(_0x52acae==='en')return translateText(_0x11a06e,'en','vi');else{const _0x51cc7f=await translateText(_0x11a06e,_0x52acae,'en');return translateText(_0x51cc7f,'en','vi');}}}function dataURItoBlob(_0x4de7f4){const _0x1534aa=a0_0x32dad7,_0x1ab79c=atob(_0x4de7f4),_0x552e47=new ArrayBuffer(_0x1ab79c[_0x1534aa(0x1eb)]),_0x27effa=new Uint8Array(_0x552e47);for(let _0x27f25c=0x0;_0x27f25c<_0x1ab79c['length'];_0x27f25c++){_0x27effa[_0x27f25c]=_0x1ab79c['charCodeAt'](_0x27f25c);}return new Blob([_0x552e47],{'type':_0x1534aa(0x1d5)});}document[a0_0x32dad7(0x20b)](a0_0x32dad7(0x1fe),function(){const _0x252527=a0_0x32dad7;ID[_0x252527(0x1d4)](function(_0x34a83d){const _0x1e849b=_0x252527,_0x529b52=document[_0x1e849b(0x1db)](_0x34a83d);_0x529b52&&_0x529b52['addEventListener'](_0x1e849b(0x1cd),function(){const _0x1788c5=_0x1e849b;!isFunctionARunning&&turbo['classList'][_0x1788c5(0x1e0)](_0x1788c5(0x1df));});}),[_0x252527(0x1f5)]['forEach'](_0x1c00bb=>{const _0x3f2769=_0x252527;turbo[_0x3f2769(0x20b)](_0x1c00bb,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x3f2769(0x20b)](_0x1c00bb,()=>{const _0x23d2a3=_0x3f2769;areaTrans['classList'][_0x23d2a3(0x1cb)](_0x23d2a3(0x1dd));});});});