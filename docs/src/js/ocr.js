const a0_0x16c75e=a0_0x2fe8;function a0_0x2fe8(_0xb34342,_0x283238){const _0x42fa9e=a0_0x42fa();return a0_0x2fe8=function(_0x2fe83f,_0x29d7c0){_0x2fe83f=_0x2fe83f-0x15c;let _0x4a1da6=_0x42fa9e[_0x2fe83f];return _0x4a1da6;},a0_0x2fe8(_0xb34342,_0x283238);}(function(_0x13080d,_0x777b69){const _0x540304=a0_0x2fe8,_0x23d5ed=_0x13080d();while(!![]){try{const _0x3227b5=-parseInt(_0x540304(0x169))/0x1+-parseInt(_0x540304(0x170))/0x2+parseInt(_0x540304(0x178))/0x3*(parseInt(_0x540304(0x184))/0x4)+parseInt(_0x540304(0x177))/0x5*(-parseInt(_0x540304(0x179))/0x6)+parseInt(_0x540304(0x175))/0x7+-parseInt(_0x540304(0x187))/0x8*(parseInt(_0x540304(0x17b))/0x9)+parseInt(_0x540304(0x16e))/0xa;if(_0x3227b5===_0x777b69)break;else _0x23d5ed['push'](_0x23d5ed['shift']());}catch(_0x3fb4cd){_0x23d5ed['push'](_0x23d5ed['shift']());}}}(a0_0x42fa,0x31ddb));function a0_0x42fa(){const _0xa2a55a=['scrollWidth','add','visible','message','result','&tl=','37220qseJsm','blocks','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','2008zAmsqW','500\x20Internal\x20Server\x20Error','XMLHttpRequest','classList','userAgent','location','getContext','ApiAzure','type','getElementById','Cors-controlers\x20have\x20not\x20been\x20activated.','textContent','width','inputText','createElement','captureOCR','$1\x20','https://cors-anywhere.herokuapp.com/corsdemo','charCodeAt','clientWidth','turbo-ocr','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','noti-mess','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','turbo','onloadend','code','map','endsWith','_setArea','HTTP\x20Error:\x20','readResult','Internal\x20Server\x20Error','append','error','join','image/png','replace','src','log','addEventListener','application/octet-stream','status','text','json','156163WiGviC','drawImage','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','split','length','2352490BoePRu','getItem','282114cvkLZJ','toDataURL','.._\x20','screenSize','isArray','2490089FLltJE','&dt=t&q=','3405tiMOaI','129PoTEmb','2454QRAgfo','toggle','7569mOkoOg','remove','notiMessage'];a0_0x42fa=function(){return _0xa2a55a;};return a0_0x42fa();}import*as a0_0x8d0c34 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x16c75e(0x194)),turbo=document['getElementById'](a0_0x16c75e(0x19f)),ID=['A','B','R','L'];async function getImage(){const _0x9026b0=a0_0x16c75e;turbo[_0x9026b0(0x18a)][_0x9026b0(0x17f)]('turbo-ocr');try{const _0x536a34=gameName[_0x9026b0(0x161)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x1e3215=await a0_0x8d0c34[_0x9026b0(0x196)](_0x536a34),_0x2e8640=new Blob([_0x1e3215],{'type':_0x9026b0(0x160)}),_0x214faf=await new Promise((_0x4a50d0,_0x8b72e4)=>{const _0x34073e=_0x9026b0,_0x61af72=new FileReader();_0x61af72[_0x34073e(0x1a0)]=()=>_0x4a50d0(_0x61af72[_0x34073e(0x182)]),_0x61af72['onerror']=_0x8b72e4,_0x61af72['readAsDataURL'](_0x2e8640);}),_0x13527c=new Image();_0x13527c[_0x9026b0(0x162)]=_0x214faf,_0x13527c['onload']=async()=>{const _0x2a9742=_0x9026b0,_0x2a0d67=document[_0x2a9742(0x195)]('canvas'),_0x34f414=_0x2a0d67[_0x2a9742(0x18d)]('2d'),_0x45a1e4=0x4;let _0xc73d6b;gameName[_0x2a9742(0x1a3)]('.gbc')||gameName[_0x2a9742(0x1a3)]('.gb')?_0xc73d6b=0x3/0x6:_0xc73d6b=0x3/0x4;const _0x21ffe2=localStorage[_0x2a9742(0x16f)](gameName+_0x2a9742(0x1a4))||localStorage[_0x2a9742(0x16f)](_0x2a9742(0x173)),[_0x17bf7a,_0x3e5fc6,_0x83e506,_0x40a233]=_0x21ffe2[_0x2a9742(0x16c)](',')['map'](Number);_0x2a0d67[_0x2a9742(0x193)]=_0x83e506*_0xc73d6b*_0x45a1e4,_0x2a0d67['height']=_0x40a233*_0xc73d6b*_0x45a1e4,_0x34f414[_0x2a9742(0x16a)](_0x13527c,_0x17bf7a*_0xc73d6b,_0x3e5fc6*_0xc73d6b,_0x83e506*_0xc73d6b,_0x40a233*_0xc73d6b,0x0,0x0,_0x83e506*_0xc73d6b*_0x45a1e4,_0x40a233*_0xc73d6b*_0x45a1e4);const _0x56d333=_0x2a0d67[_0x2a9742(0x171)](_0x2a9742(0x160))['split'](',')[0x1],_0x39ef04=localStorage['getItem'](_0x2a9742(0x18e));console[_0x2a9742(0x163)](_0x39ef04),_0x39ef04?azureServer(_0x56d333):freeServer(_0x56d333);};}catch(_0x4e75ff){inputText[_0x9026b0(0x192)]=_0x4e75ff[_0x9026b0(0x181)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x5647f2=_0x9026b0;document['getElementById'](_0x5647f2(0x194))[_0x5647f2(0x192)]='',a0_0x8d0c34[_0x5647f2(0x17d)]('',0x0);},0x7530);}async function freeServer(_0x493798){const _0x2e9d85=a0_0x16c75e;document[_0x2e9d85(0x190)](_0x2e9d85(0x19d))['textContent']='';let _0x73ec46=0x0;const _0x28956b=setInterval(()=>{const _0x433322=_0x2e9d85;_0x73ec46+=0x1,_0x73ec46<=0x64&&(inputText[_0x433322(0x192)]=_0x433322(0x172)+_0x73ec46+'%');},0x64);try{const _0x5bf4c7=dataURItoBlob(_0x493798),_0x4e3dae=new FormData();_0x4e3dae[_0x2e9d85(0x15d)]('image',_0x5bf4c7,'image.png'),_0x4e3dae[_0x2e9d85(0x15d)]('user',_0x2e9d85(0x186));let _0x12a01b;try{_0x12a01b=await fetch(_0x2e9d85(0x16b),{'method':'POST','body':_0x4e3dae,'headers':{'Origin':window[_0x2e9d85(0x18c)]['origin'],'X-Requested-With':_0x2e9d85(0x189),'User-Agent':navigator[_0x2e9d85(0x18b)]}});if(!_0x12a01b['ok'])throw new Error(_0x2e9d85(0x1a5)+_0x12a01b[_0x2e9d85(0x166)]);}catch(_0x2a8256){console['warn'](_0x2e9d85(0x191)),window[_0x2e9d85(0x18c)]['href']=_0x2e9d85(0x198);return;}const _0x2c964f=await _0x12a01b[_0x2e9d85(0x168)]();if(_0x2c964f[_0x2e9d85(0x18f)]===_0x2e9d85(0x15e))throw new Error(_0x2c964f[_0x2e9d85(0x15e)][_0x2e9d85(0x181)]);transLogic(_0x2c964f[_0x2e9d85(0x167)]);}catch(_0x49a202){inputText[_0x2e9d85(0x192)]=_0x49a202[_0x2e9d85(0x181)];}finally{clearInterval(_0x28956b),isFunctionARunning=![];}}async function azureServer(_0x2691d4){const _0x38af92=a0_0x16c75e;document[_0x38af92(0x190)]('noti-mess')[_0x38af92(0x192)]='',inputText[_0x38af92(0x192)]=_0x38af92(0x172);const _0x47523c=localStorage[_0x38af92(0x16f)](_0x38af92(0x18e));let [_0x2b3896,_0x34689d]=_0x47523c['split'](',');try{const _0x3d01d1=await fetch(_0x34689d+_0x38af92(0x19e),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x2b3896,'Content-Type':_0x38af92(0x165)},'body':dataURItoBlob(_0x2691d4)}),_0x34223d=await _0x3d01d1[_0x38af92(0x168)]();if(!_0x3d01d1['ok']||_0x34223d[_0x38af92(0x18f)]===_0x38af92(0x15e)){const _0x3ece7c=_0x3d01d1['ok']?_0x34223d['error']['message']:_0x3d01d1[_0x38af92(0x166)]===0x1f4?_0x38af92(0x188):(await _0x3d01d1['json']())['error']['message'];throw new Error(_0x3ece7c);}const _0x1cbcc5=_0x34223d[_0x38af92(0x1a6)][_0x38af92(0x185)][0x0],_0x4a9633=_0x1cbcc5['lines']||[],_0xd7f441=_0x4a9633[_0x38af92(0x1a2)](_0x5110df=>_0x5110df[_0x38af92(0x167)])[_0x38af92(0x15f)]('\x0a');transLogic(_0xd7f441);}catch(_0x2cf4c6){inputText[_0x38af92(0x192)]=_0x2cf4c6['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x55e9dd,_0xcca09e,_0x118820){const _0x5bc9f5=a0_0x16c75e,_0x90d942=_0x55e9dd[_0x5bc9f5(0x161)](/[\r\n]+/g,',\x20')[_0x5bc9f5(0x161)](/([!?.,])\s*,\s*/g,_0x5bc9f5(0x197))[_0x5bc9f5(0x161)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')['trim']();var _0x2dc1b0=_0x5bc9f5(0x19c)+_0xcca09e+_0x5bc9f5(0x183)+_0x118820+_0x5bc9f5(0x176)+encodeURIComponent(_0x90d942);try{const _0x7ed31a=await fetch(_0x2dc1b0);if(!_0x7ed31a['ok']){if(_0x7ed31a[_0x5bc9f5(0x166)]===0x1f4)throw new Error(_0x5bc9f5(0x15c));else{const _0x57e4b6=await _0x7ed31a[_0x5bc9f5(0x168)](),_0x5353d3=new Error(_0x57e4b6[_0x5bc9f5(0x15e)][_0x5bc9f5(0x181)]);_0x5353d3['code']=_0x57e4b6[_0x5bc9f5(0x15e)][_0x5bc9f5(0x1a1)];throw _0x5353d3;}}const _0x3546c3=await _0x7ed31a[_0x5bc9f5(0x168)]();if(Array['isArray'](_0x3546c3)&&_0x3546c3[_0x5bc9f5(0x16d)]>0x0&&Array[_0x5bc9f5(0x174)](_0x3546c3[0x0])){var _0x5e5186=_0x3546c3[0x0][_0x5bc9f5(0x1a2)](_0x12ec5d=>_0x12ec5d[0x0])[_0x5bc9f5(0x15f)]('\x20');return document[_0x5bc9f5(0x190)]('noti-mess')[_0x5bc9f5(0x192)]='',inputText[_0x5bc9f5(0x192)]=_0x5bc9f5(0x172)+_0x5e5186[_0x5bc9f5(0x161)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x5e5186[_0x5bc9f5(0x161)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x5bc9f5(0x19d))['textContent']='',inputText[_0x5bc9f5(0x192)]=_0x5bc9f5(0x172)+_0x3546c3,_0x3546c3;}catch(_0x2ef42f){inputText[_0x5bc9f5(0x192)]=_0x2ef42f['message'];throw _0x2ef42f;}}async function autoScroll(){const _0xc420a6=a0_0x16c75e;var _0x5909bf=inputText[_0xc420a6(0x17e)]-inputText[_0xc420a6(0x19a)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x5909bf||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x49d516){const _0x2389a4=a0_0x16c75e;var _0x3060a4='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x49d516);try{const _0x212d4d=await fetch(_0x3060a4),_0x5f11f3=await _0x212d4d[_0x2389a4(0x168)]();var _0x590cb9=_0x5f11f3[0x8][0x0][0x0];return _0x590cb9;}catch(_0x4be624){console[_0x2389a4(0x15e)]('Error\x20detecting\x20language:',_0x4be624);throw _0x4be624;}}async function transLogic(_0x2bcae2){const _0x35d50a='en';if(_0x35d50a===null){const _0x2b5ebb=await detectLanguage(_0x2bcae2),_0x58aaed=await translateText(_0x2bcae2,_0x2b5ebb,'en');return translateText(_0x58aaed,'en','vi');}else{if(_0x35d50a==='en')return translateText(_0x2bcae2,'en','vi');else{const _0x5cee8f=await translateText(_0x2bcae2,_0x35d50a,'en');return translateText(_0x5cee8f,'en','vi');}}}function dataURItoBlob(_0x3cce39){const _0x3830cb=a0_0x16c75e,_0x473c58=atob(_0x3cce39),_0x14ad01=new ArrayBuffer(_0x473c58[_0x3830cb(0x16d)]),_0xaef42d=new Uint8Array(_0x14ad01);for(let _0x1e76ce=0x0;_0x1e76ce<_0x473c58[_0x3830cb(0x16d)];_0x1e76ce++){_0xaef42d[_0x1e76ce]=_0x473c58[_0x3830cb(0x199)](_0x1e76ce);}return new Blob([_0x14ad01],{'type':_0x3830cb(0x160)});}document[a0_0x16c75e(0x164)]('DOMContentLoaded',function(){ID['forEach'](function(_0x17fa40){const _0x24d1ca=a0_0x2fe8,_0x22a2e4=document['getElementById'](_0x17fa40);_0x22a2e4&&_0x22a2e4[_0x24d1ca(0x164)]('touchstart',function(){const _0x48f753=_0x24d1ca;!isFunctionARunning&&turbo[_0x48f753(0x18a)][_0x48f753(0x17c)](_0x48f753(0x19b));});}),['touchend']['forEach'](_0x4d4fac=>{const _0x2f9890=a0_0x2fe8;turbo[_0x2f9890(0x164)](_0x4d4fac,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x2f9890(0x164)](_0x4d4fac,()=>{const _0x5968da=_0x2f9890;areaTrans[_0x5968da(0x18a)][_0x5968da(0x17a)](_0x5968da(0x180));});});});