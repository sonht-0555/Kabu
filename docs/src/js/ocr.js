const a0_0xa62621=a0_0x3034;(function(_0x58b6bb,_0x4bffbc){const _0x34135e=a0_0x3034,_0x3a4d3d=_0x58b6bb();while(!![]){try{const _0x5e401c=-parseInt(_0x34135e(0xf4))/0x1*(-parseInt(_0x34135e(0x12f))/0x2)+parseInt(_0x34135e(0xe1))/0x3+parseInt(_0x34135e(0xe2))/0x4+-parseInt(_0x34135e(0x12b))/0x5*(parseInt(_0x34135e(0xf6))/0x6)+-parseInt(_0x34135e(0xf9))/0x7+parseInt(_0x34135e(0x12c))/0x8*(-parseInt(_0x34135e(0x10e))/0x9)+parseInt(_0x34135e(0xe0))/0xa;if(_0x5e401c===_0x4bffbc)break;else _0x3a4d3d['push'](_0x3a4d3d['shift']());}catch(_0x4b08f5){_0x3a4d3d['push'](_0x3a4d3d['shift']());}}}(a0_0x1458,0xa0579));import*as a0_0x5b7dd9 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x1458(){const _0xd68982=['width','image.png','application/octet-stream','json','text','.gbc','log','&tl=','15dtRuDY','8BRhIqN','turbo','https://cors-anywhere.herokuapp.com/corsdemo','58Rhemui','userAgent','inputText','DOMContentLoaded','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','type','_setArea','Error\x20detecting\x20language:','POST','5408650mMjvVU','2689149qawFMS','168308pFhTNx','forEach','join','toDataURL','image/png','status','append','notiMessage','.png','lines','split','length','map','result','screenSize','.._\x20','add','classList','39647MSWkog','touchend','2618334KWfFcj','remove','toggle','4536581TqSzXK','500\x20Internal\x20Server\x20Error','replace','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','noti-mess','scrollWidth','Internal\x20Server\x20Error','code','addEventListener','getContext','getItem','.gb','user','ApiAzure','canvas','warn','getElementById','error','$1\x20','onerror','&dt=t&q=','135693Ikoblk','HTTP\x20Error:\x20','captureOCR','XMLHttpRequest','location','charCodeAt','turbo-ocr','height','origin','endsWith','isArray','readResult','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','scrollLeft','href','src','visible','touchstart','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','textContent','message'];a0_0x1458=function(){return _0xd68982;};return a0_0x1458();}let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0xa62621(0xd9)),turbo=document[a0_0xa62621(0x109)](a0_0xa62621(0x12d)),ID=['A','B','R','L'];async function getImage(){const _0x105f96=a0_0xa62621;turbo[_0x105f96(0xf3)][_0x105f96(0xf2)](_0x105f96(0x114));try{const _0x2f626=gameName[_0x105f96(0xfb)](/\.(gba|gbc|gb|zip)$/,_0x105f96(0xea)),_0x2d2b06=await a0_0x5b7dd9[_0x105f96(0x110)](_0x2f626),_0xd8234f=new Blob([_0x2d2b06],{'type':_0x105f96(0xe6)}),_0xb997c1=await new Promise((_0x5479a3,_0x184c6b)=>{const _0x3da087=_0x105f96,_0x2ec0fe=new FileReader();_0x2ec0fe['onloadend']=()=>_0x5479a3(_0x2ec0fe[_0x3da087(0xef)]),_0x2ec0fe[_0x3da087(0x10c)]=_0x184c6b,_0x2ec0fe['readAsDataURL'](_0xd8234f);}),_0x324526=new Image();_0x324526[_0x105f96(0x11d)]=_0xb997c1,_0x324526['onload']=async()=>{const _0x5f0608=_0x105f96,_0x492015=document['createElement'](_0x5f0608(0x107)),_0x14be14=_0x492015[_0x5f0608(0x102)]('2d'),_0xca5a97=0x4;let _0x1c94aa;gameName[_0x5f0608(0x117)](_0x5f0608(0x128))||gameName[_0x5f0608(0x117)](_0x5f0608(0x104))?_0x1c94aa=0x3/0x6:_0x1c94aa=0x3/0x4;const _0x4c7e49=localStorage[_0x5f0608(0x103)](gameName+_0x5f0608(0xdd))||localStorage['getItem'](_0x5f0608(0xf0)),[_0x3b27e4,_0x5496c1,_0x5d102b,_0x43ef04]=_0x4c7e49['split'](',')[_0x5f0608(0xee)](Number);_0x492015[_0x5f0608(0x123)]=_0x5d102b*_0x1c94aa*_0xca5a97,_0x492015[_0x5f0608(0x115)]=_0x43ef04*_0x1c94aa*_0xca5a97,_0x14be14['drawImage'](_0x324526,_0x3b27e4*_0x1c94aa,_0x5496c1*_0x1c94aa,_0x5d102b*_0x1c94aa,_0x43ef04*_0x1c94aa,0x0,0x0,_0x5d102b*_0x1c94aa*_0xca5a97,_0x43ef04*_0x1c94aa*_0xca5a97);const _0x416dd1=_0x492015[_0x5f0608(0xe5)](_0x5f0608(0xe6))[_0x5f0608(0xec)](',')[0x1],_0x2c7ed7=localStorage[_0x5f0608(0x103)]('ApiAzure');console[_0x5f0608(0x129)](_0x2c7ed7),_0x2c7ed7?azureServer(_0x416dd1):freeServer(_0x416dd1);};}catch(_0x3fe205){inputText[_0x105f96(0x121)]=_0x3fe205['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3fda47=_0x105f96;document[_0x3fda47(0x109)](_0x3fda47(0xd9))['textContent']='',a0_0x5b7dd9[_0x3fda47(0xe9)]('',0x0);},0x7530);}async function freeServer(_0x497089){const _0x3162ff=a0_0xa62621;document['getElementById']('noti-mess')[_0x3162ff(0x121)]='';let _0x6bc450=0x0;const _0x57ea8b=setInterval(()=>{const _0xdf5f69=_0x3162ff;_0x6bc450+=0x1,_0x6bc450<=0x64&&(inputText[_0xdf5f69(0x121)]='.._\x20'+_0x6bc450+'%');},0x64);try{const _0x697236=dataURItoBlob(_0x497089),_0x5da5d2=new FormData();_0x5da5d2[_0x3162ff(0xe8)]('image',_0x697236,_0x3162ff(0x124)),_0x5da5d2['append'](_0x3162ff(0x105),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x4fd8e3;try{_0x4fd8e3=await fetch(_0x3162ff(0xfc),{'method':'POST','body':_0x5da5d2,'headers':{'Origin':window[_0x3162ff(0x112)][_0x3162ff(0x116)],'X-Requested-With':_0x3162ff(0x111),'User-Agent':navigator[_0x3162ff(0x130)]}});if(!_0x4fd8e3['ok'])throw new Error(_0x3162ff(0x10f)+_0x4fd8e3[_0x3162ff(0xe7)]);}catch(_0x30eba4){console[_0x3162ff(0x108)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x3162ff(0x112)][_0x3162ff(0x11c)]=_0x3162ff(0x12e);return;}const _0x6b227a=await _0x4fd8e3['json']();if(_0x6b227a['type']===_0x3162ff(0x10a))throw new Error(_0x6b227a[_0x3162ff(0x10a)][_0x3162ff(0x122)]);transLogic(_0x6b227a[_0x3162ff(0x127)]);}catch(_0x5d761a){inputText[_0x3162ff(0x121)]=_0x5d761a[_0x3162ff(0x122)];}finally{clearInterval(_0x57ea8b),isFunctionARunning=![];}}function a0_0x3034(_0x44e653,_0x2fc010){const _0x14583a=a0_0x1458();return a0_0x3034=function(_0x3034c6,_0x381d39){_0x3034c6=_0x3034c6-0xd9;let _0x85c0e3=_0x14583a[_0x3034c6];return _0x85c0e3;},a0_0x3034(_0x44e653,_0x2fc010);}async function azureServer(_0x23638d){const _0x507745=a0_0xa62621;document['getElementById']('noti-mess')[_0x507745(0x121)]='',inputText['textContent']='.._\x20';const _0x2e591d=localStorage[_0x507745(0x103)](_0x507745(0x106));let [_0x310b43,_0x22f7f6]=_0x2e591d[_0x507745(0xec)](',');try{const _0x1d5ad5=await fetch(_0x22f7f6+_0x507745(0xdb),{'method':_0x507745(0xdf),'headers':{'Ocp-Apim-Subscription-Key':_0x310b43,'Content-Type':_0x507745(0x125)},'body':dataURItoBlob(_0x23638d)}),_0x55b9c9=await _0x1d5ad5['json']();if(!_0x1d5ad5['ok']||_0x55b9c9[_0x507745(0xdc)]===_0x507745(0x10a)){const _0x313f9f=_0x1d5ad5['ok']?_0x55b9c9[_0x507745(0x10a)][_0x507745(0x122)]:_0x1d5ad5[_0x507745(0xe7)]===0x1f4?_0x507745(0xfa):(await _0x1d5ad5[_0x507745(0x126)]())[_0x507745(0x10a)][_0x507745(0x122)];throw new Error(_0x313f9f);}const _0x3cc002=_0x55b9c9[_0x507745(0x119)]['blocks'][0x0],_0x1617b9=_0x3cc002[_0x507745(0xeb)]||[],_0x2a79a4=_0x1617b9[_0x507745(0xee)](_0x50367d=>_0x50367d[_0x507745(0x127)])['join']('\x0a');transLogic(_0x2a79a4);}catch(_0x882e80){inputText[_0x507745(0x121)]=_0x882e80[_0x507745(0x122)];}finally{isFunctionARunning=![];}}async function translateText(_0x49191d,_0x28012c,_0x20143e){const _0x164132=a0_0xa62621,_0x1f95c3=_0x49191d[_0x164132(0xfb)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x164132(0x10b))[_0x164132(0xfb)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x164132(0xfb)](/ {2,}/g,'\x20')['trim']();var _0x4180c0=_0x164132(0x11a)+_0x28012c+_0x164132(0x12a)+_0x20143e+_0x164132(0x10d)+encodeURIComponent(_0x1f95c3);try{const _0x6dd7bf=await fetch(_0x4180c0);if(!_0x6dd7bf['ok']){if(_0x6dd7bf[_0x164132(0xe7)]===0x1f4)throw new Error(_0x164132(0xff));else{const _0x58857e=await _0x6dd7bf[_0x164132(0x126)](),_0x4a3fe4=new Error(_0x58857e[_0x164132(0x10a)][_0x164132(0x122)]);_0x4a3fe4[_0x164132(0x100)]=_0x58857e[_0x164132(0x10a)][_0x164132(0x100)];throw _0x4a3fe4;}}const _0x566b76=await _0x6dd7bf[_0x164132(0x126)]();if(Array[_0x164132(0x118)](_0x566b76)&&_0x566b76['length']>0x0&&Array[_0x164132(0x118)](_0x566b76[0x0])){var _0x13b48a=_0x566b76[0x0][_0x164132(0xee)](_0x4609d9=>_0x4609d9[0x0])[_0x164132(0xe4)]('\x20');return document[_0x164132(0x109)](_0x164132(0xfd))['textContent']='',inputText['textContent']=_0x164132(0xf1)+_0x13b48a['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x13b48a[_0x164132(0xfb)](/ {2,}/g,'\x20');}else return document['getElementById']('noti-mess')[_0x164132(0x121)]='',inputText[_0x164132(0x121)]=_0x164132(0xf1)+_0x566b76,_0x566b76;}catch(_0xeda3bb){inputText['textContent']=_0xeda3bb[_0x164132(0x122)];throw _0xeda3bb;}}async function autoScroll(){const _0x181fd4=a0_0xa62621;var _0x14cd41=inputText[_0x181fd4(0xfe)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x14cd41||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x181fd4(0x11b)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1a03e7){const _0x54179a=a0_0xa62621;var _0x10f6d1=_0x54179a(0x120)+encodeURIComponent(_0x1a03e7);try{const _0x44c224=await fetch(_0x10f6d1),_0x3df8d1=await _0x44c224[_0x54179a(0x126)]();var _0x2be3af=_0x3df8d1[0x8][0x0][0x0];return _0x2be3af;}catch(_0x38029a){console[_0x54179a(0x10a)](_0x54179a(0xde),_0x38029a);throw _0x38029a;}}async function transLogic(_0x7c90c9){const _0x1f91c8='en';if(_0x1f91c8===null){const _0x57803f=await detectLanguage(_0x7c90c9),_0x56c218=await translateText(_0x7c90c9,_0x57803f,'en');return translateText(_0x56c218,'en','vi');}else{if(_0x1f91c8==='en')return translateText(_0x7c90c9,'en','vi');else{const _0x53b2bb=await translateText(_0x7c90c9,_0x1f91c8,'en');return translateText(_0x53b2bb,'en','vi');}}}function dataURItoBlob(_0x2f3662){const _0x21345a=a0_0xa62621,_0x2be949=atob(_0x2f3662),_0x22802d=new ArrayBuffer(_0x2be949[_0x21345a(0xed)]),_0x4876fe=new Uint8Array(_0x22802d);for(let _0x8b1e87=0x0;_0x8b1e87<_0x2be949[_0x21345a(0xed)];_0x8b1e87++){_0x4876fe[_0x8b1e87]=_0x2be949[_0x21345a(0x113)](_0x8b1e87);}return new Blob([_0x22802d],{'type':_0x21345a(0xe6)});}document[a0_0xa62621(0x101)](a0_0xa62621(0xda),function(){const _0x2cf0fc=a0_0xa62621;ID['forEach'](function(_0x4e93b4){const _0x20ca72=a0_0x3034,_0x559d9e=document['getElementById'](_0x4e93b4);_0x559d9e&&_0x559d9e[_0x20ca72(0x101)](_0x20ca72(0x11f),function(){const _0x15b8d5=_0x20ca72;!isFunctionARunning&&turbo[_0x15b8d5(0xf3)][_0x15b8d5(0xf7)](_0x15b8d5(0x114));});}),[_0x2cf0fc(0xf5)][_0x2cf0fc(0xe3)](_0x58bb81=>{const _0x1b4861=_0x2cf0fc;turbo['addEventListener'](_0x58bb81,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x1b4861(0x101)](_0x58bb81,()=>{const _0xfb3a1a=_0x1b4861;areaTrans[_0xfb3a1a(0xf3)][_0xfb3a1a(0xf8)](_0xfb3a1a(0x11e));});});});