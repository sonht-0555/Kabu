const a0_0x4432e4=a0_0x126e;function a0_0xab87(){const _0x2c11eb=['href','.gbc','4254691ttItLB','5156860somGEx','noti-mess','.._\x20','26862oUGRUn','createElement','message','XMLHttpRequest','isArray','canvas','append','status','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','result','scrollLeft','getItem','DOMContentLoaded','lines','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','touchend','HTTP\x20Error:\x20','turbo','log','endsWith','1730HDdCnX','join','Internal\x20Server\x20Error','Error\x20detecting\x20language:','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','visible','POST','forEach','type','map','onerror','Cors-controlers\x20have\x20not\x20been\x20activated.','ApiAzure','951rtQjcv','textContent','https://cors-anywhere.herokuapp.com/corsdemo','classList','width','json','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','blocks','turbo-ocr','scrollWidth','origin','remove','notiMessage','getElementById','readAsDataURL','.gb','500\x20Internal\x20Server\x20Error','5306ePPwkR','clientWidth','length','drawImage','error','image.png','toggle','application/octet-stream','replace','image/png','$1\x20','onload','4734594NLiEjy','split','16ydHcIu','inputText','.png','362Lhkhas','11MczleE','15404lVxTHx','add','src','code','image','onloadend','location','readResult','charCodeAt','trim','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','height','addEventListener','text','70320804DlJhxO'];a0_0xab87=function(){return _0x2c11eb;};return a0_0xab87();}(function(_0x3ef4f8,_0x1c2438){const _0x17f5ac=a0_0x126e,_0x5593f3=_0x3ef4f8();while(!![]){try{const _0x4041a7=parseInt(_0x17f5ac(0x186))/0x1*(-parseInt(_0x17f5ac(0x175))/0x2)+parseInt(_0x17f5ac(0x1be))/0x3*(-parseInt(_0x17f5ac(0x188))/0x4)+parseInt(_0x17f5ac(0x1b1))/0x5*(-parseInt(_0x17f5ac(0x19d))/0x6)+-parseInt(_0x17f5ac(0x199))/0x7*(parseInt(_0x17f5ac(0x183))/0x8)+parseInt(_0x17f5ac(0x181))/0x9+-parseInt(_0x17f5ac(0x19a))/0xa+-parseInt(_0x17f5ac(0x187))/0xb*(-parseInt(_0x17f5ac(0x196))/0xc);if(_0x4041a7===_0x1c2438)break;else _0x5593f3['push'](_0x5593f3['shift']());}catch(_0x44eea8){_0x5593f3['push'](_0x5593f3['shift']());}}}(a0_0xab87,0xe1bd2));import*as a0_0x5a7b3c from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x126e(_0x2b2670,_0x3e461d){const _0xab8745=a0_0xab87();return a0_0x126e=function(_0x126e0a,_0x1b950d){_0x126e0a=_0x126e0a-0x171;let _0x2786f7=_0xab8745[_0x126e0a];return _0x2786f7;},a0_0x126e(_0x2b2670,_0x3e461d);}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x4432e4(0x171)](a0_0x4432e4(0x184)),turbo=document[a0_0x4432e4(0x171)](a0_0x4432e4(0x1ae)),ID=['A','B','R','L'];async function getImage(){const _0x28e7b6=a0_0x4432e4;turbo[_0x28e7b6(0x1c1)][_0x28e7b6(0x189)](_0x28e7b6(0x1c6));try{const _0x33f286=gameName[_0x28e7b6(0x17d)](/\.(gba|gbc|gb|zip)$/,_0x28e7b6(0x185)),_0x110168=await a0_0x5a7b3c['captureOCR'](_0x33f286),_0x212772=new Blob([_0x110168],{'type':_0x28e7b6(0x17e)}),_0x463791=await new Promise((_0xdbb524,_0x3e91b0)=>{const _0xacea59=_0x28e7b6,_0x62bf6d=new FileReader();_0x62bf6d[_0xacea59(0x18d)]=()=>_0xdbb524(_0x62bf6d[_0xacea59(0x1a6)]),_0x62bf6d[_0xacea59(0x1bb)]=_0x3e91b0,_0x62bf6d[_0xacea59(0x172)](_0x212772);}),_0xca9be2=new Image();_0xca9be2[_0x28e7b6(0x18a)]=_0x463791,_0xca9be2[_0x28e7b6(0x180)]=async()=>{const _0x493e90=_0x28e7b6,_0xb701dd=document[_0x493e90(0x19e)](_0x493e90(0x1a2)),_0x28069f=_0xb701dd['getContext']('2d'),_0x4d57c0=0x4;let _0x567ee0;gameName['endsWith'](_0x493e90(0x198))||gameName[_0x493e90(0x1b0)](_0x493e90(0x173))?_0x567ee0=0x3/0x6:_0x567ee0=0x3/0x4;const _0x1dd1a8=localStorage[_0x493e90(0x1a8)](gameName+'_setArea')||localStorage[_0x493e90(0x1a8)]('screenSize'),[_0x5a1bd8,_0x2689f1,_0x3cf534,_0x1b0c99]=_0x1dd1a8[_0x493e90(0x182)](',')['map'](Number);_0xb701dd[_0x493e90(0x1c2)]=_0x3cf534*_0x567ee0*_0x4d57c0,_0xb701dd[_0x493e90(0x193)]=_0x1b0c99*_0x567ee0*_0x4d57c0,_0x28069f[_0x493e90(0x178)](_0xca9be2,_0x5a1bd8*_0x567ee0,_0x2689f1*_0x567ee0,_0x3cf534*_0x567ee0,_0x1b0c99*_0x567ee0,0x0,0x0,_0x3cf534*_0x567ee0*_0x4d57c0,_0x1b0c99*_0x567ee0*_0x4d57c0);const _0x20eaad=_0xb701dd['toDataURL']('image/png')[_0x493e90(0x182)](',')[0x1],_0x13fd98=localStorage[_0x493e90(0x1a8)](_0x493e90(0x1bd));console[_0x493e90(0x1af)](_0x13fd98),_0x13fd98?azureServer(_0x20eaad):freeServer(_0x20eaad);};}catch(_0x4e0f0a){inputText[_0x28e7b6(0x1bf)]=_0x4e0f0a[_0x28e7b6(0x19f)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2e360f=_0x28e7b6;document[_0x2e360f(0x171)]('inputText')['textContent']='',a0_0x5a7b3c[_0x2e360f(0x1ca)]('',0x0);},0x7530);}async function freeServer(_0x1e5b9f){const _0x202bf9=a0_0x4432e4;document[_0x202bf9(0x171)](_0x202bf9(0x19b))[_0x202bf9(0x1bf)]='';let _0x3014f4=0x0;const _0xa40f94=setInterval(()=>{const _0x67dcf5=_0x202bf9;_0x3014f4+=0x1,_0x3014f4<=0x64&&(inputText[_0x67dcf5(0x1bf)]=_0x67dcf5(0x19c)+_0x3014f4+'%');},0x64);try{const _0x181dc6=dataURItoBlob(_0x1e5b9f),_0x2d9d35=new FormData();_0x2d9d35[_0x202bf9(0x1a3)](_0x202bf9(0x18c),_0x181dc6,_0x202bf9(0x17a)),_0x2d9d35[_0x202bf9(0x1a3)]('user',_0x202bf9(0x1b5));let _0x149ca3;try{_0x149ca3=await fetch(_0x202bf9(0x192),{'method':'POST','body':_0x2d9d35,'headers':{'Origin':window[_0x202bf9(0x18e)][_0x202bf9(0x1c8)],'X-Requested-With':_0x202bf9(0x1a0),'User-Agent':navigator['userAgent']}});if(!_0x149ca3['ok'])throw new Error(_0x202bf9(0x1ad)+_0x149ca3[_0x202bf9(0x1a4)]);}catch(_0x4a40ff){console['warn'](_0x202bf9(0x1bc)),window['location'][_0x202bf9(0x197)]=_0x202bf9(0x1c0);return;}const _0x377911=await _0x149ca3[_0x202bf9(0x1c3)]();if(_0x377911[_0x202bf9(0x1b9)]===_0x202bf9(0x179))throw new Error(_0x377911[_0x202bf9(0x179)]['message']);transLogic(_0x377911[_0x202bf9(0x195)]);}catch(_0x41141e){inputText[_0x202bf9(0x1bf)]=_0x41141e[_0x202bf9(0x19f)];}finally{clearInterval(_0xa40f94),isFunctionARunning=![];}}async function azureServer(_0x568ec0){const _0x3ea8c4=a0_0x4432e4;document[_0x3ea8c4(0x171)](_0x3ea8c4(0x19b))['textContent']='',inputText[_0x3ea8c4(0x1bf)]=_0x3ea8c4(0x19c);const _0x55023a=localStorage[_0x3ea8c4(0x1a8)]('ApiAzure');let [_0x2e49bd,_0x12e884]=_0x55023a[_0x3ea8c4(0x182)](',');try{const _0x1e797d=await fetch(_0x12e884+_0x3ea8c4(0x1c4),{'method':_0x3ea8c4(0x1b7),'headers':{'Ocp-Apim-Subscription-Key':_0x2e49bd,'Content-Type':_0x3ea8c4(0x17c)},'body':dataURItoBlob(_0x568ec0)}),_0x5c2e3e=await _0x1e797d[_0x3ea8c4(0x1c3)]();if(!_0x1e797d['ok']||_0x5c2e3e['type']===_0x3ea8c4(0x179)){const _0x2ee005=_0x1e797d['ok']?_0x5c2e3e[_0x3ea8c4(0x179)][_0x3ea8c4(0x19f)]:_0x1e797d[_0x3ea8c4(0x1a4)]===0x1f4?_0x3ea8c4(0x174):(await _0x1e797d[_0x3ea8c4(0x1c3)]())[_0x3ea8c4(0x179)][_0x3ea8c4(0x19f)];throw new Error(_0x2ee005);}const _0xef5dcb=_0x5c2e3e[_0x3ea8c4(0x18f)][_0x3ea8c4(0x1c5)][0x0],_0x3df947=_0xef5dcb[_0x3ea8c4(0x1aa)]||[],_0x4e1a8e=_0x3df947[_0x3ea8c4(0x1ba)](_0x3de362=>_0x3de362[_0x3ea8c4(0x195)])[_0x3ea8c4(0x1b2)]('\x0a');transLogic(_0x4e1a8e);}catch(_0x2be85c){inputText[_0x3ea8c4(0x1bf)]=_0x2be85c[_0x3ea8c4(0x19f)];}finally{isFunctionARunning=![];}}async function translateText(_0x5c5433,_0x60d7a3,_0x5698e2){const _0x1d350b=a0_0x4432e4,_0x294af5=_0x5c5433[_0x1d350b(0x17d)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x1d350b(0x17f))[_0x1d350b(0x17d)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x1d350b(0x191)]();var _0x2967de=_0x1d350b(0x1a5)+_0x60d7a3+'&tl='+_0x5698e2+'&dt=t&q='+encodeURIComponent(_0x294af5);try{const _0x157105=await fetch(_0x2967de);if(!_0x157105['ok']){if(_0x157105[_0x1d350b(0x1a4)]===0x1f4)throw new Error(_0x1d350b(0x1b3));else{const _0x17bcb8=await _0x157105[_0x1d350b(0x1c3)](),_0x31eaec=new Error(_0x17bcb8[_0x1d350b(0x179)][_0x1d350b(0x19f)]);_0x31eaec[_0x1d350b(0x18b)]=_0x17bcb8[_0x1d350b(0x179)][_0x1d350b(0x18b)];throw _0x31eaec;}}const _0x2f6885=await _0x157105[_0x1d350b(0x1c3)]();if(Array[_0x1d350b(0x1a1)](_0x2f6885)&&_0x2f6885[_0x1d350b(0x177)]>0x0&&Array['isArray'](_0x2f6885[0x0])){var _0x555736=_0x2f6885[0x0][_0x1d350b(0x1ba)](_0x341ba9=>_0x341ba9[0x0])[_0x1d350b(0x1b2)]('\x20');return document[_0x1d350b(0x171)](_0x1d350b(0x19b))['textContent']='',inputText[_0x1d350b(0x1bf)]=_0x1d350b(0x19c)+_0x555736['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x555736[_0x1d350b(0x17d)](/ {2,}/g,'\x20');}else return document[_0x1d350b(0x171)]('noti-mess')[_0x1d350b(0x1bf)]='',inputText[_0x1d350b(0x1bf)]=_0x1d350b(0x19c)+_0x2f6885,_0x2f6885;}catch(_0x3530bf){inputText['textContent']=_0x3530bf['message'];throw _0x3530bf;}}async function autoScroll(){const _0x2913e0=a0_0x4432e4;var _0x565715=inputText[_0x2913e0(0x1c7)]-inputText[_0x2913e0(0x176)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x565715||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x2913e0(0x1a7)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x188c2a){const _0x116045=a0_0x4432e4;var _0x336886=_0x116045(0x1ab)+encodeURIComponent(_0x188c2a);try{const _0x28f18a=await fetch(_0x336886),_0x4bc4c7=await _0x28f18a[_0x116045(0x1c3)]();var _0x5eb117=_0x4bc4c7[0x8][0x0][0x0];return _0x5eb117;}catch(_0x443b8a){console[_0x116045(0x179)](_0x116045(0x1b4),_0x443b8a);throw _0x443b8a;}}async function transLogic(_0x101836){const _0x172e52='en';if(_0x172e52===null){const _0x4caf2d=await detectLanguage(_0x101836),_0x1eb0bf=await translateText(_0x101836,_0x4caf2d,'en');return translateText(_0x1eb0bf,'en','vi');}else{if(_0x172e52==='en')return translateText(_0x101836,'en','vi');else{const _0x1022b8=await translateText(_0x101836,_0x172e52,'en');return translateText(_0x1022b8,'en','vi');}}}function dataURItoBlob(_0x136361){const _0x5b23dd=a0_0x4432e4,_0x25294a=atob(_0x136361),_0x2c0d15=new ArrayBuffer(_0x25294a[_0x5b23dd(0x177)]),_0x3ce74c=new Uint8Array(_0x2c0d15);for(let _0x4f66d8=0x0;_0x4f66d8<_0x25294a[_0x5b23dd(0x177)];_0x4f66d8++){_0x3ce74c[_0x4f66d8]=_0x25294a[_0x5b23dd(0x190)](_0x4f66d8);}return new Blob([_0x2c0d15],{'type':_0x5b23dd(0x17e)});}document[a0_0x4432e4(0x194)](a0_0x4432e4(0x1a9),function(){const _0x37c6af=a0_0x4432e4;ID[_0x37c6af(0x1b8)](function(_0x5b1a24){const _0xa13e06=_0x37c6af,_0x1a2332=document[_0xa13e06(0x171)](_0x5b1a24);_0x1a2332&&_0x1a2332['addEventListener']('touchstart',function(){const _0x33e17b=_0xa13e06;!isFunctionARunning&&turbo[_0x33e17b(0x1c1)][_0x33e17b(0x1c9)]('turbo-ocr');});}),[_0x37c6af(0x1ac)][_0x37c6af(0x1b8)](_0x217263=>{const _0x551d4f=_0x37c6af;turbo[_0x551d4f(0x194)](_0x217263,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x551d4f(0x194)](_0x217263,()=>{const _0x471082=_0x551d4f;areaTrans[_0x471082(0x1c1)][_0x471082(0x17b)](_0x471082(0x1b6));});});});