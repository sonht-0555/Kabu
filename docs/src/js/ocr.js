const a0_0xef0ee4=a0_0x3bb1;(function(_0x5c3a15,_0xe054df){const _0x398853=a0_0x3bb1,_0x19b9bf=_0x5c3a15();while(!![]){try{const _0x5c5e63=parseInt(_0x398853(0x112))/0x1+-parseInt(_0x398853(0xea))/0x2*(parseInt(_0x398853(0xe6))/0x3)+parseInt(_0x398853(0xfc))/0x4*(parseInt(_0x398853(0xe8))/0x5)+parseInt(_0x398853(0x12b))/0x6*(parseInt(_0x398853(0xfa))/0x7)+parseInt(_0x398853(0x108))/0x8*(parseInt(_0x398853(0xf1))/0x9)+-parseInt(_0x398853(0xe7))/0xa+-parseInt(_0x398853(0xdc))/0xb*(parseInt(_0x398853(0x114))/0xc);if(_0x5c5e63===_0xe054df)break;else _0x19b9bf['push'](_0x19b9bf['shift']());}catch(_0x3b0afd){_0x19b9bf['push'](_0x19b9bf['shift']());}}}(a0_0x4c96,0xc53aa));function a0_0x3bb1(_0xf0fe6e,_0x3db190){const _0x4c9648=a0_0x4c96();return a0_0x3bb1=function(_0x3bb1ef,_0x46d1ff){_0x3bb1ef=_0x3bb1ef-0xd9;let _0x56b19c=_0x4c9648[_0x3bb1ef];return _0x56b19c;},a0_0x3bb1(_0xf0fe6e,_0x3db190);}import*as a0_0x197e59 from'./main.js';function a0_0x4c96(){const _0x85f7d=['4626020wgYSpb','655QdlmdO','turbo-ocr','29830iRUWCO','text','href','blocks','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','scrollWidth','userAgent','18RuwoMV','.gb','height','Cors-controlers\x20have\x20not\x20been\x20activated.','src','message','append','map','getElementById','8681743rQZEgy','width','14684NFIwqX','500\x20Internal\x20Server\x20Error','code','addEventListener','HTTP\x20Error:\x20','visible','isArray','.._\x20','readResult','split','readAsDataURL','remove','176888yheAVL','getContext','scrollLeft','add','noti-mess','drawImage','screenSize','turbo','toDataURL','.png','1450494sWKgfw','inputText','2465664qAqtYO','getItem','json','image.png','status','&dt=t&q=','POST','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','join','length','image/png','endsWith','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','touchend','notiMessage','textContent','location','$1\x20','captureOCR','toggle','clientWidth','charCodeAt','onerror','6epbkRZ','lines','classList','_setArea','77KGpYDK','error','replace','forEach','ApiAzure','onload','origin','log','type','Error\x20detecting\x20language:','102whElfc'];a0_0x4c96=function(){return _0x85f7d;};return a0_0x4c96();}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0xef0ee4(0xf9)]('inputText'),turbo=document[a0_0xef0ee4(0xf9)](a0_0xef0ee4(0x10f)),ID=['A','B','R','L'];async function getImage(){const _0x165a71=a0_0xef0ee4;turbo[_0x165a71(0xda)][_0x165a71(0x10b)](_0x165a71(0xe9));try{const _0x1761c5=gameName[_0x165a71(0xde)](/\.(gba|gbc|gb|zip)$/,_0x165a71(0x111)),_0x56c949=await a0_0x197e59[_0x165a71(0x126)](_0x1761c5),_0x105e42=new Blob([_0x56c949],{'type':'image/png'}),_0x2d155c=await new Promise((_0x4f3e4a,_0x4ddbb3)=>{const _0x25566b=_0x165a71,_0x269936=new FileReader();_0x269936['onloadend']=()=>_0x4f3e4a(_0x269936['result']),_0x269936[_0x25566b(0x12a)]=_0x4ddbb3,_0x269936[_0x25566b(0x106)](_0x105e42);}),_0x205f67=new Image();_0x205f67[_0x165a71(0xf5)]=_0x2d155c,_0x205f67[_0x165a71(0xe1)]=async()=>{const _0x891b8=_0x165a71,_0x45da97=document['createElement']('canvas'),_0x1a64ec=_0x45da97[_0x891b8(0x109)]('2d'),_0x53e25f=0x4;let _0x42d0d4;gameName[_0x891b8(0x11f)]('.gbc')||gameName[_0x891b8(0x11f)](_0x891b8(0xf2))?_0x42d0d4=0x3/0x6:_0x42d0d4=0x3/0x4;const _0x480dc7=localStorage[_0x891b8(0x115)](gameName+_0x891b8(0xdb))||localStorage[_0x891b8(0x115)](_0x891b8(0x10e)),[_0x2cb3a1,_0x3d1019,_0x270001,_0x31566c]=_0x480dc7[_0x891b8(0x105)](',')['map'](Number);_0x45da97[_0x891b8(0xfb)]=_0x270001*_0x42d0d4*_0x53e25f,_0x45da97[_0x891b8(0xf3)]=_0x31566c*_0x42d0d4*_0x53e25f,_0x1a64ec[_0x891b8(0x10d)](_0x205f67,_0x2cb3a1*_0x42d0d4,_0x3d1019*_0x42d0d4,_0x270001*_0x42d0d4,_0x31566c*_0x42d0d4,0x0,0x0,_0x270001*_0x42d0d4*_0x53e25f,_0x31566c*_0x42d0d4*_0x53e25f);const _0x18b401=_0x45da97[_0x891b8(0x110)](_0x891b8(0x11e))[_0x891b8(0x105)](',')[0x1],_0x3aca31=localStorage[_0x891b8(0x115)](_0x891b8(0xe0));console[_0x891b8(0xe3)](_0x3aca31),_0x3aca31?azureServer(_0x18b401):freeServer(_0x18b401);};}catch(_0x2fb778){inputText[_0x165a71(0x123)]=_0x2fb778[_0x165a71(0xf6)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x502a85=_0x165a71;document[_0x502a85(0xf9)](_0x502a85(0x113))[_0x502a85(0x123)]='',a0_0x197e59[_0x502a85(0x122)]('',0x0);},0x7530);}async function freeServer(_0x4ad649){const _0x152be6=a0_0xef0ee4;document[_0x152be6(0xf9)](_0x152be6(0x10c))['textContent']='';let _0xd78835=0x0;const _0x25bd3b=setInterval(()=>{const _0x4aa057=_0x152be6;_0xd78835+=0x1,_0xd78835<=0x64&&(inputText[_0x4aa057(0x123)]=_0x4aa057(0x103)+_0xd78835+'%');},0x64);try{const _0x1b5915=dataURItoBlob(_0x4ad649),_0x1cc5f4=new FormData();_0x1cc5f4['append']('image',_0x1b5915,_0x152be6(0x117)),_0x1cc5f4[_0x152be6(0xf7)]('user',_0x152be6(0x120));let _0x5dde3f;try{_0x5dde3f=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':'POST','body':_0x1cc5f4,'headers':{'Origin':window[_0x152be6(0x124)][_0x152be6(0xe2)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x152be6(0xf0)]}});if(!_0x5dde3f['ok'])throw new Error(_0x152be6(0x100)+_0x5dde3f[_0x152be6(0x118)]);}catch(_0x3968c0){console['warn'](_0x152be6(0xf4)),window[_0x152be6(0x124)][_0x152be6(0xec)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x28aa7b=await _0x5dde3f[_0x152be6(0x116)]();if(_0x28aa7b['type']===_0x152be6(0xdd))throw new Error(_0x28aa7b['error'][_0x152be6(0xf6)]);transLogic(_0x28aa7b[_0x152be6(0xeb)]);}catch(_0x4e781c){inputText[_0x152be6(0x123)]=_0x4e781c[_0x152be6(0xf6)];}finally{clearInterval(_0x25bd3b),isFunctionARunning=![];}}async function azureServer(_0x215e8f){const _0x26e058=a0_0xef0ee4;document['getElementById']('noti-mess')[_0x26e058(0x123)]='',inputText['textContent']='.._\x20';const _0x40a40c=localStorage[_0x26e058(0x115)](_0x26e058(0xe0));let [_0x1343c4,_0x1211cb]=_0x40a40c[_0x26e058(0x105)](',');try{const _0x118621=await fetch(_0x1211cb+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x26e058(0x11a),'headers':{'Ocp-Apim-Subscription-Key':_0x1343c4,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x215e8f)}),_0x4aac3f=await _0x118621[_0x26e058(0x116)]();if(!_0x118621['ok']||_0x4aac3f[_0x26e058(0xe4)]==='error'){const _0x4de2a3=_0x118621['ok']?_0x4aac3f['error'][_0x26e058(0xf6)]:_0x118621[_0x26e058(0x118)]===0x1f4?_0x26e058(0xfd):(await _0x118621[_0x26e058(0x116)]())[_0x26e058(0xdd)][_0x26e058(0xf6)];throw new Error(_0x4de2a3);}const _0x2dc3a2=_0x4aac3f[_0x26e058(0x104)][_0x26e058(0xed)][0x0],_0x162687=_0x2dc3a2[_0x26e058(0xd9)]||[],_0x1a4c12=_0x162687['map'](_0x8ddcb3=>_0x8ddcb3[_0x26e058(0xeb)])[_0x26e058(0x11c)]('\x0a');transLogic(_0x1a4c12);}catch(_0x2665a8){inputText[_0x26e058(0x123)]=_0x2665a8['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x17fbf7,_0x5cb5ea,_0x113f75){const _0x244343=a0_0xef0ee4,_0x52bec1=_0x17fbf7[_0x244343(0xde)](/[\r\n]+/g,',\x20')[_0x244343(0xde)](/([!?.,])\s*,\s*/g,_0x244343(0x125))[_0x244343(0xde)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')['trim']();var _0x3fbc6b=_0x244343(0x11b)+_0x5cb5ea+'&tl='+_0x113f75+_0x244343(0x119)+encodeURIComponent(_0x52bec1);try{const _0x4e99b6=await fetch(_0x3fbc6b);if(!_0x4e99b6['ok']){if(_0x4e99b6[_0x244343(0x118)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x33f872=await _0x4e99b6[_0x244343(0x116)](),_0x8936b2=new Error(_0x33f872[_0x244343(0xdd)]['message']);_0x8936b2[_0x244343(0xfe)]=_0x33f872[_0x244343(0xdd)][_0x244343(0xfe)];throw _0x8936b2;}}const _0x374c6f=await _0x4e99b6['json']();if(Array[_0x244343(0x102)](_0x374c6f)&&_0x374c6f[_0x244343(0x11d)]>0x0&&Array['isArray'](_0x374c6f[0x0])){var _0xac0f6a=_0x374c6f[0x0][_0x244343(0xf8)](_0xa1b46a=>_0xa1b46a[0x0])['join']('\x20');return document['getElementById'](_0x244343(0x10c))[_0x244343(0x123)]='',inputText[_0x244343(0x123)]=_0x244343(0x103)+_0xac0f6a['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0xac0f6a[_0x244343(0xde)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x244343(0x10c))[_0x244343(0x123)]='',inputText[_0x244343(0x123)]=_0x244343(0x103)+_0x374c6f,_0x374c6f;}catch(_0x40ffbd){inputText[_0x244343(0x123)]=_0x40ffbd[_0x244343(0xf6)];throw _0x40ffbd;}}async function autoScroll(){const _0x13a47a=a0_0xef0ee4;var _0x2e5629=inputText[_0x13a47a(0xef)]-inputText[_0x13a47a(0x128)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2e5629||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x13a47a(0x10a)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x4be85c){const _0x5ef1e1=a0_0xef0ee4;var _0x4f129e=_0x5ef1e1(0xee)+encodeURIComponent(_0x4be85c);try{const _0x489f43=await fetch(_0x4f129e),_0x2f57c9=await _0x489f43['json']();var _0x536d62=_0x2f57c9[0x8][0x0][0x0];return _0x536d62;}catch(_0x3ccbd3){console[_0x5ef1e1(0xdd)](_0x5ef1e1(0xe5),_0x3ccbd3);throw _0x3ccbd3;}}async function transLogic(_0x3e1873){const _0x5b6211='en';if(_0x5b6211===null){const _0x1b0d95=await detectLanguage(_0x3e1873),_0x1b2d05=await translateText(_0x3e1873,_0x1b0d95,'en');return translateText(_0x1b2d05,'en','vi');}else{if(_0x5b6211==='en')return translateText(_0x3e1873,'en','vi');else{const _0x4dfc68=await translateText(_0x3e1873,_0x5b6211,'en');return translateText(_0x4dfc68,'en','vi');}}}function dataURItoBlob(_0x337993){const _0x4efb92=a0_0xef0ee4,_0x45184e=atob(_0x337993),_0x1ab7ab=new ArrayBuffer(_0x45184e[_0x4efb92(0x11d)]),_0x590d84=new Uint8Array(_0x1ab7ab);for(let _0xff5db5=0x0;_0xff5db5<_0x45184e[_0x4efb92(0x11d)];_0xff5db5++){_0x590d84[_0xff5db5]=_0x45184e[_0x4efb92(0x129)](_0xff5db5);}return new Blob([_0x1ab7ab],{'type':_0x4efb92(0x11e)});}document['addEventListener']('DOMContentLoaded',function(){const _0x5ad653=a0_0xef0ee4;ID[_0x5ad653(0xdf)](function(_0x37a980){const _0x21b160=_0x5ad653,_0xe60c29=document[_0x21b160(0xf9)](_0x37a980);_0xe60c29&&_0xe60c29[_0x21b160(0xff)]('touchstart',function(){const _0x5d7d94=_0x21b160;!isFunctionARunning&&turbo[_0x5d7d94(0xda)][_0x5d7d94(0x107)](_0x5d7d94(0xe9));});}),[_0x5ad653(0x121)][_0x5ad653(0xdf)](_0x203c46=>{const _0x2e3f71=_0x5ad653;turbo[_0x2e3f71(0xff)](_0x203c46,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x2e3f71(0xff)](_0x203c46,()=>{const _0x1a6341=_0x2e3f71;areaTrans[_0x1a6341(0xda)][_0x1a6341(0x127)](_0x1a6341(0x101));});});});