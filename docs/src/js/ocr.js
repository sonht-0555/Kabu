const a0_0x3c041a=a0_0x388f;(function(_0x183c30,_0x3bba6b){const _0x2b9157=a0_0x388f,_0x5cda14=_0x183c30();while(!![]){try{const _0x4d670c=parseInt(_0x2b9157(0x1f3))/0x1*(-parseInt(_0x2b9157(0x1c5))/0x2)+-parseInt(_0x2b9157(0x1f1))/0x3+-parseInt(_0x2b9157(0x1f0))/0x4*(parseInt(_0x2b9157(0x1e1))/0x5)+-parseInt(_0x2b9157(0x1bc))/0x6*(parseInt(_0x2b9157(0x1cb))/0x7)+parseInt(_0x2b9157(0x1b0))/0x8+parseInt(_0x2b9157(0x1e3))/0x9+-parseInt(_0x2b9157(0x1b4))/0xa*(-parseInt(_0x2b9157(0x1ee))/0xb);if(_0x4d670c===_0x3bba6b)break;else _0x5cda14['push'](_0x5cda14['shift']());}catch(_0x3329a5){_0x5cda14['push'](_0x5cda14['shift']());}}}(a0_0x50f3,0xc3ff3));import*as a0_0x49362d from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x3c041a(0x1d8)]('inputText'),turbo=document[a0_0x3c041a(0x1d8)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x3d1711=a0_0x3c041a;turbo[_0x3d1711(0x1b5)][_0x3d1711(0x1aa)](_0x3d1711(0x1ad));try{const _0x24ea56=gameName[_0x3d1711(0x1c3)](/\.(gba|gbc|gb|zip)$/,_0x3d1711(0x1f5)),_0x3ad67a=await a0_0x49362d[_0x3d1711(0x1de)](_0x24ea56),_0x5a023a=new Blob([_0x3ad67a],{'type':_0x3d1711(0x19f)}),_0x51aaa0=await new Promise((_0x33b47d,_0x42143a)=>{const _0x11b7a4=_0x3d1711,_0x5352b8=new FileReader();_0x5352b8[_0x11b7a4(0x1db)]=()=>_0x33b47d(_0x5352b8[_0x11b7a4(0x1b9)]),_0x5352b8[_0x11b7a4(0x1d5)]=_0x42143a,_0x5352b8[_0x11b7a4(0x19e)](_0x5a023a);}),_0x5660f9=new Image();_0x5660f9[_0x3d1711(0x1da)]=_0x51aaa0,_0x5660f9[_0x3d1711(0x1b1)]=async()=>{const _0x3df982=_0x3d1711,_0x2815c5=document[_0x3df982(0x1bb)](_0x3df982(0x1ac)),_0x561d39=_0x2815c5[_0x3df982(0x1b6)]('2d'),_0x1f4892=0x4;let _0x4f2521;gameName['endsWith'](_0x3df982(0x1c8))||gameName[_0x3df982(0x1df)](_0x3df982(0x1a8))?_0x4f2521=0x3/0x6:_0x4f2521=0x3/0x4;const _0x50ffc4=localStorage[_0x3df982(0x19b)](gameName+_0x3df982(0x1e6))||localStorage['getItem'](_0x3df982(0x1c9)),[_0x27a4cd,_0xa2878a,_0x3c7113,_0x49ad4a]=_0x50ffc4['split'](',')[_0x3df982(0x1c1)](Number);_0x2815c5['width']=_0x3c7113*_0x4f2521*_0x1f4892,_0x2815c5['height']=_0x49ad4a*_0x4f2521*_0x1f4892,_0x561d39[_0x3df982(0x1d6)](_0x5660f9,_0x27a4cd*_0x4f2521,_0xa2878a*_0x4f2521,_0x3c7113*_0x4f2521,_0x49ad4a*_0x4f2521,0x0,0x0,_0x3c7113*_0x4f2521*_0x1f4892,_0x49ad4a*_0x4f2521*_0x1f4892);const _0x528c13=_0x2815c5[_0x3df982(0x1d7)](_0x3df982(0x19f))[_0x3df982(0x1cf)](',')[0x1],_0x4f55ed=localStorage[_0x3df982(0x19b)](_0x3df982(0x1d1));console[_0x3df982(0x1b3)](_0x4f55ed),_0x4f55ed?azureServer(_0x528c13):freeServer(_0x528c13);};}catch(_0x8f8c21){inputText[_0x3d1711(0x1c2)]=_0x8f8c21[_0x3d1711(0x1a0)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x4a501e=_0x3d1711;document[_0x4a501e(0x1d8)](_0x4a501e(0x1d2))[_0x4a501e(0x1c2)]='',a0_0x49362d[_0x4a501e(0x1be)]('',0x0);},0x7530);}async function freeServer(_0x4dab8b){const _0x448a9b=a0_0x3c041a;document[_0x448a9b(0x1d8)](_0x448a9b(0x1dc))['textContent']='';let _0xa089a4=0x0;const _0x55b1b6=setInterval(()=>{const _0x470be0=_0x448a9b;_0xa089a4+=0x1,_0xa089a4<=0x64&&(inputText[_0x470be0(0x1c2)]=_0x470be0(0x19d)+_0xa089a4+'%');},0x64);try{const _0x264006=dataURItoBlob(_0x4dab8b),_0x4e9fc6=new FormData();_0x4e9fc6['append'](_0x448a9b(0x1d9),_0x264006,_0x448a9b(0x1e0)),_0x4e9fc6[_0x448a9b(0x1ab)](_0x448a9b(0x1b2),_0x448a9b(0x1a2));let _0x5f1979;try{_0x5f1979=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x448a9b(0x1ec),'body':_0x4e9fc6,'headers':{'Origin':window[_0x448a9b(0x1e9)]['origin'],'X-Requested-With':_0x448a9b(0x1c7),'User-Agent':navigator[_0x448a9b(0x1f4)]}});if(!_0x5f1979['ok'])throw new Error(_0x448a9b(0x1bd)+_0x5f1979['status']);}catch(_0x5b296d){console[_0x448a9b(0x1f2)](_0x448a9b(0x1cd)),window[_0x448a9b(0x1e9)][_0x448a9b(0x1a3)]=_0x448a9b(0x1e2);return;}const _0x554095=await _0x5f1979['json']();if(_0x554095[_0x448a9b(0x1a1)]===_0x448a9b(0x1a7))throw new Error(_0x554095[_0x448a9b(0x1a7)][_0x448a9b(0x1a0)]);transLogic(_0x554095[_0x448a9b(0x1ba)]);}catch(_0x30f069){inputText[_0x448a9b(0x1c2)]=_0x30f069[_0x448a9b(0x1a0)];}finally{clearInterval(_0x55b1b6),isFunctionARunning=![];}}async function azureServer(_0x11916f){const _0x38eea1=a0_0x3c041a;document[_0x38eea1(0x1d8)](_0x38eea1(0x1dc))[_0x38eea1(0x1c2)]='',inputText['textContent']=_0x38eea1(0x19d);const _0x2df24a=localStorage[_0x38eea1(0x19b)](_0x38eea1(0x1d1));let [_0x2e9994,_0x49b5e3]=_0x2df24a[_0x38eea1(0x1cf)](',');try{const _0x1ece1a=await fetch(_0x49b5e3+_0x38eea1(0x1c0),{'method':_0x38eea1(0x1ec),'headers':{'Ocp-Apim-Subscription-Key':_0x2e9994,'Content-Type':_0x38eea1(0x1af)},'body':dataURItoBlob(_0x11916f)}),_0x35986f=await _0x1ece1a[_0x38eea1(0x1ae)]();if(!_0x1ece1a['ok']||_0x35986f[_0x38eea1(0x1a1)]===_0x38eea1(0x1a7)){const _0x1891e1=_0x1ece1a['ok']?_0x35986f[_0x38eea1(0x1a7)][_0x38eea1(0x1a0)]:_0x1ece1a[_0x38eea1(0x1ef)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x1ece1a[_0x38eea1(0x1ae)]())[_0x38eea1(0x1a7)][_0x38eea1(0x1a0)];throw new Error(_0x1891e1);}const _0x23d24f=_0x35986f['readResult'][_0x38eea1(0x1d4)][0x0],_0x4ce062=_0x23d24f[_0x38eea1(0x1cc)]||[],_0x45372e=_0x4ce062['map'](_0x1529f6=>_0x1529f6[_0x38eea1(0x1ba)])[_0x38eea1(0x1a9)]('\x0a');transLogic(_0x45372e);}catch(_0x29512e){inputText[_0x38eea1(0x1c2)]=_0x29512e['message'];}finally{isFunctionARunning=![];}}function a0_0x50f3(){const _0x104946=['json','application/octet-stream','10316648aAkTXk','onload','user','log','8318220CDbnlc','classList','getContext','length','code','result','text','createElement','7567734WYRIKL','HTTP\x20Error:\x20','notiMessage','scrollWidth','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','map','textContent','replace','visible','586540KrpmZj','Internal\x20Server\x20Error','XMLHttpRequest','.gbc','screenSize','touchstart','7bDpnTk','lines','Cors-controlers\x20have\x20not\x20been\x20activated.','Error\x20detecting\x20language:','split','touchend','ApiAzure','inputText','forEach','blocks','onerror','drawImage','toDataURL','getElementById','image','src','onloadend','noti-mess','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','captureOCR','endsWith','image.png','5ljMsMp','https://cors-anywhere.herokuapp.com/corsdemo','10101033SYhMlV','scrollLeft','clientWidth','_setArea','remove','isArray','location','toggle','addEventListener','POST','trim','22nWfcrJ','status','1285944WQNBQi','3310332MpIaqF','warn','2HWCYVx','userAgent','.png','DOMContentLoaded','getItem','&tl=','.._\x20','readAsDataURL','image/png','message','type','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','href','charCodeAt','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','$1\x20','error','.gb','join','add','append','canvas','turbo-ocr'];a0_0x50f3=function(){return _0x104946;};return a0_0x50f3();}function a0_0x388f(_0x360e96,_0x98b7b0){const _0x50f346=a0_0x50f3();return a0_0x388f=function(_0x388f75,_0x30af3a){_0x388f75=_0x388f75-0x19a;let _0x19fe2a=_0x50f346[_0x388f75];return _0x19fe2a;},a0_0x388f(_0x360e96,_0x98b7b0);}async function translateText(_0xe6068e,_0x4df529,_0x45eb53){const _0x11fba0=a0_0x3c041a,_0x49b23b=_0xe6068e['replace'](/[\r\n]+/g,',\x20')[_0x11fba0(0x1c3)](/([!?.,])\s*,\s*/g,_0x11fba0(0x1a6))[_0x11fba0(0x1c3)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x11fba0(0x1c3)](/ {2,}/g,'\x20')[_0x11fba0(0x1ed)]();var _0x11ee0d=_0x11fba0(0x1dd)+_0x4df529+_0x11fba0(0x19c)+_0x45eb53+'&dt=t&q='+encodeURIComponent(_0x49b23b);try{const _0x569ba2=await fetch(_0x11ee0d);if(!_0x569ba2['ok']){if(_0x569ba2['status']===0x1f4)throw new Error(_0x11fba0(0x1c6));else{const _0x3bc68d=await _0x569ba2['json'](),_0x3f651f=new Error(_0x3bc68d[_0x11fba0(0x1a7)][_0x11fba0(0x1a0)]);_0x3f651f['code']=_0x3bc68d[_0x11fba0(0x1a7)][_0x11fba0(0x1b8)];throw _0x3f651f;}}const _0x4e4fe0=await _0x569ba2['json']();if(Array[_0x11fba0(0x1e8)](_0x4e4fe0)&&_0x4e4fe0[_0x11fba0(0x1b7)]>0x0&&Array[_0x11fba0(0x1e8)](_0x4e4fe0[0x0])){var _0x4b8c2b=_0x4e4fe0[0x0][_0x11fba0(0x1c1)](_0x11f157=>_0x11f157[0x0])[_0x11fba0(0x1a9)]('\x20');return document[_0x11fba0(0x1d8)](_0x11fba0(0x1dc))[_0x11fba0(0x1c2)]='',inputText[_0x11fba0(0x1c2)]=_0x11fba0(0x19d)+_0x4b8c2b[_0x11fba0(0x1c3)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4b8c2b[_0x11fba0(0x1c3)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x11fba0(0x1dc))[_0x11fba0(0x1c2)]='',inputText[_0x11fba0(0x1c2)]='.._\x20'+_0x4e4fe0,_0x4e4fe0;}catch(_0x1c512f){inputText[_0x11fba0(0x1c2)]=_0x1c512f[_0x11fba0(0x1a0)];throw _0x1c512f;}}async function autoScroll(){const _0x44ad90=a0_0x3c041a;var _0x10cf46=inputText[_0x44ad90(0x1bf)]-inputText[_0x44ad90(0x1e5)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x10cf46||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x44ad90(0x1e4)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x4fff63){const _0x3d1fc7=a0_0x3c041a;var _0x47daf1=_0x3d1fc7(0x1a5)+encodeURIComponent(_0x4fff63);try{const _0x4c1372=await fetch(_0x47daf1),_0x3797bc=await _0x4c1372['json']();var _0x2d8c5d=_0x3797bc[0x8][0x0][0x0];return _0x2d8c5d;}catch(_0x409273){console['error'](_0x3d1fc7(0x1ce),_0x409273);throw _0x409273;}}async function transLogic(_0x53cc6f){const _0x5bbacc='en';if(_0x5bbacc===null){const _0x4da7c4=await detectLanguage(_0x53cc6f),_0x4ac426=await translateText(_0x53cc6f,_0x4da7c4,'en');return translateText(_0x4ac426,'en','vi');}else{if(_0x5bbacc==='en')return translateText(_0x53cc6f,'en','vi');else{const _0x18e079=await translateText(_0x53cc6f,_0x5bbacc,'en');return translateText(_0x18e079,'en','vi');}}}function dataURItoBlob(_0x526cbc){const _0x4cf61f=a0_0x3c041a,_0x4b12bd=atob(_0x526cbc),_0x57ff2c=new ArrayBuffer(_0x4b12bd[_0x4cf61f(0x1b7)]),_0x135ad2=new Uint8Array(_0x57ff2c);for(let _0x2e53f1=0x0;_0x2e53f1<_0x4b12bd[_0x4cf61f(0x1b7)];_0x2e53f1++){_0x135ad2[_0x2e53f1]=_0x4b12bd[_0x4cf61f(0x1a4)](_0x2e53f1);}return new Blob([_0x57ff2c],{'type':_0x4cf61f(0x19f)});}document[a0_0x3c041a(0x1eb)](a0_0x3c041a(0x19a),function(){const _0x55a3a3=a0_0x3c041a;ID['forEach'](function(_0x10d4ba){const _0x4503ae=a0_0x388f,_0x4f7144=document[_0x4503ae(0x1d8)](_0x10d4ba);_0x4f7144&&_0x4f7144['addEventListener'](_0x4503ae(0x1ca),function(){const _0x562dd=_0x4503ae;!isFunctionARunning&&turbo[_0x562dd(0x1b5)][_0x562dd(0x1e7)](_0x562dd(0x1ad));});}),[_0x55a3a3(0x1d0)][_0x55a3a3(0x1d3)](_0x45b5da=>{const _0x528cc4=_0x55a3a3;turbo[_0x528cc4(0x1eb)](_0x45b5da,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x45b5da,()=>{const _0x5485d0=_0x528cc4;areaTrans[_0x5485d0(0x1b5)][_0x5485d0(0x1ea)](_0x5485d0(0x1c4));});});});