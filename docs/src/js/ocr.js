const a0_0x7d15b9=a0_0x334f;(function(_0x2d1c7d,_0x2cc693){const _0x1da6b=a0_0x334f,_0x106ed1=_0x2d1c7d();while(!![]){try{const _0x27027a=-parseInt(_0x1da6b(0x1e1))/0x1*(parseInt(_0x1da6b(0x22a))/0x2)+-parseInt(_0x1da6b(0x222))/0x3+parseInt(_0x1da6b(0x226))/0x4*(-parseInt(_0x1da6b(0x1fe))/0x5)+parseInt(_0x1da6b(0x233))/0x6*(parseInt(_0x1da6b(0x213))/0x7)+parseInt(_0x1da6b(0x227))/0x8*(-parseInt(_0x1da6b(0x21b))/0x9)+parseInt(_0x1da6b(0x204))/0xa*(-parseInt(_0x1da6b(0x205))/0xb)+-parseInt(_0x1da6b(0x1e4))/0xc*(-parseInt(_0x1da6b(0x1fc))/0xd);if(_0x27027a===_0x2cc693)break;else _0x106ed1['push'](_0x106ed1['shift']());}catch(_0xfeb12a){_0x106ed1['push'](_0x106ed1['shift']());}}}(a0_0x2c9e,0x513aa));import*as a0_0x3c952f from'./main.js';function a0_0x2c9e(){const _0x4a9029=['touchstart','.._\x20','drawImage','getElementById','map','894jJXFcq','$1\x20','charCodeAt','append','error','onloadend','1SbCyFC','createElement','location','1284AXBQHM','image/png','readResult','captureOCR','HTTP\x20Error:\x20','notiMessage','application/octet-stream','classList','readAsDataURL','turbo','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','user','text','scrollWidth','addEventListener','add','type','forEach','ApiAzure','Internal\x20Server\x20Error','500\x20Internal\x20Server\x20Error','noti-mess','trim','toggle','89050UYQyOz','&dt=t&q=','179015dDrcmu','log','XMLHttpRequest','turbo-ocr','result','Error\x20detecting\x20language:','3493000zXgKfd','11VvLckB','origin','&tl=','replace','warn','screenSize','onerror','.gbc','image','canvas','status','code','POST','isArray','30954tJSZKe','json','width','endsWith','message','getItem','https://cors-anywhere.herokuapp.com/corsdemo','length','9819vJhfKU','blocks','image.png','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','split','src','clientWidth','638055rgXmZK','touchend','textContent','join','28VVKAac','1016dYanUx','userAgent','height','215902pSnbSH','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','scrollLeft','DOMContentLoaded'];a0_0x2c9e=function(){return _0x4a9029;};return a0_0x2c9e();}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x7d15b9(0x231)]('inputText'),turbo=document[a0_0x7d15b9(0x231)](a0_0x7d15b9(0x1ed)),ID=['A','B','R','L'];async function getImage(){const _0x193bc1=a0_0x7d15b9;turbo[_0x193bc1(0x1eb)][_0x193bc1(0x1f3)](_0x193bc1(0x201));try{const _0x5c8c46=gameName['replace'](/\.(gba|gbc|gb|zip)$/,'.png'),_0x285f23=await a0_0x3c952f[_0x193bc1(0x1e7)](_0x5c8c46),_0x2ddd69=new Blob([_0x285f23],{'type':_0x193bc1(0x1e5)}),_0x1b8d04=await new Promise((_0x2db1d0,_0x5db34f)=>{const _0x1f1b26=_0x193bc1,_0x2556b9=new FileReader();_0x2556b9[_0x1f1b26(0x1e0)]=()=>_0x2db1d0(_0x2556b9[_0x1f1b26(0x202)]),_0x2556b9[_0x1f1b26(0x20b)]=_0x5db34f,_0x2556b9[_0x1f1b26(0x1ec)](_0x2ddd69);}),_0xc3549e=new Image();_0xc3549e[_0x193bc1(0x220)]=_0x1b8d04,_0xc3549e['onload']=async()=>{const _0x20e07e=_0x193bc1,_0x236a42=document[_0x20e07e(0x1e2)](_0x20e07e(0x20e)),_0x390cd3=_0x236a42['getContext']('2d'),_0x13e8ee=0x4;let _0x443974;gameName[_0x20e07e(0x216)](_0x20e07e(0x20c))||gameName[_0x20e07e(0x216)]('.gb')?_0x443974=0x3/0x6:_0x443974=0x3/0x4;const _0x54e7b6=localStorage[_0x20e07e(0x218)](gameName+'_setArea')||localStorage[_0x20e07e(0x218)](_0x20e07e(0x20a)),[_0x5ef6b9,_0x14f056,_0xcda1cf,_0x4d37ab]=_0x54e7b6[_0x20e07e(0x21f)](',')[_0x20e07e(0x232)](Number);_0x236a42[_0x20e07e(0x215)]=_0xcda1cf*_0x443974*_0x13e8ee,_0x236a42[_0x20e07e(0x229)]=_0x4d37ab*_0x443974*_0x13e8ee,_0x390cd3[_0x20e07e(0x230)](_0xc3549e,_0x5ef6b9*_0x443974,_0x14f056*_0x443974,_0xcda1cf*_0x443974,_0x4d37ab*_0x443974,0x0,0x0,_0xcda1cf*_0x443974*_0x13e8ee,_0x4d37ab*_0x443974*_0x13e8ee);const _0x49795e=_0x236a42['toDataURL'](_0x20e07e(0x1e5))['split'](',')[0x1],_0x4a3d68=localStorage['getItem'](_0x20e07e(0x1f6));console[_0x20e07e(0x1ff)](_0x4a3d68),_0x4a3d68?azureServer(_0x49795e):freeServer(_0x49795e);};}catch(_0x4cafb5){inputText[_0x193bc1(0x224)]=_0x4cafb5[_0x193bc1(0x217)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x4a4756=_0x193bc1;document[_0x4a4756(0x231)]('inputText')[_0x4a4756(0x224)]='',a0_0x3c952f[_0x4a4756(0x1e9)]('',0x0);},0x7530);}async function freeServer(_0x5407bb){const _0x3017e8=a0_0x7d15b9;document[_0x3017e8(0x231)](_0x3017e8(0x1f9))['textContent']='';let _0x393ab0=0x0;const _0x373853=setInterval(()=>{const _0x40f3e3=_0x3017e8;_0x393ab0+=0x1,_0x393ab0<=0x64&&(inputText['textContent']=_0x40f3e3(0x22f)+_0x393ab0+'%');},0x64);try{const _0x1ae667=dataURItoBlob(_0x5407bb),_0x284190=new FormData();_0x284190[_0x3017e8(0x236)](_0x3017e8(0x20d),_0x1ae667,_0x3017e8(0x21d)),_0x284190[_0x3017e8(0x236)](_0x3017e8(0x1ef),_0x3017e8(0x21e));let _0x45de66;try{_0x45de66=await fetch(_0x3017e8(0x22b),{'method':_0x3017e8(0x211),'body':_0x284190,'headers':{'Origin':window[_0x3017e8(0x1e3)][_0x3017e8(0x206)],'X-Requested-With':_0x3017e8(0x200),'User-Agent':navigator[_0x3017e8(0x228)]}});if(!_0x45de66['ok'])throw new Error(_0x3017e8(0x1e8)+_0x45de66[_0x3017e8(0x20f)]);}catch(_0x1d3898){console[_0x3017e8(0x209)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x3017e8(0x1e3)]['href']=_0x3017e8(0x219);return;}const _0x29a926=await _0x45de66[_0x3017e8(0x214)]();if(_0x29a926[_0x3017e8(0x1f4)]===_0x3017e8(0x237))throw new Error(_0x29a926[_0x3017e8(0x237)]['message']);transLogic(_0x29a926[_0x3017e8(0x1f0)]);}catch(_0x4fac33){inputText[_0x3017e8(0x224)]=_0x4fac33[_0x3017e8(0x217)];}finally{clearInterval(_0x373853),isFunctionARunning=![];}}async function azureServer(_0x5ca259){const _0x49fa7f=a0_0x7d15b9;document[_0x49fa7f(0x231)](_0x49fa7f(0x1f9))[_0x49fa7f(0x224)]='',inputText[_0x49fa7f(0x224)]=_0x49fa7f(0x22f);const _0x2a81f4=localStorage['getItem'](_0x49fa7f(0x1f6));let [_0x1a24aa,_0x136e9c]=_0x2a81f4[_0x49fa7f(0x21f)](',');try{const _0x45bb7c=await fetch(_0x136e9c+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x1a24aa,'Content-Type':_0x49fa7f(0x1ea)},'body':dataURItoBlob(_0x5ca259)}),_0x58ebfe=await _0x45bb7c[_0x49fa7f(0x214)]();if(!_0x45bb7c['ok']||_0x58ebfe['type']===_0x49fa7f(0x237)){const _0x109716=_0x45bb7c['ok']?_0x58ebfe[_0x49fa7f(0x237)][_0x49fa7f(0x217)]:_0x45bb7c[_0x49fa7f(0x20f)]===0x1f4?_0x49fa7f(0x1f8):(await _0x45bb7c[_0x49fa7f(0x214)]())[_0x49fa7f(0x237)]['message'];throw new Error(_0x109716);}const _0x2cb413=_0x58ebfe[_0x49fa7f(0x1e6)][_0x49fa7f(0x21c)][0x0],_0x26c463=_0x2cb413['lines']||[],_0x58215b=_0x26c463[_0x49fa7f(0x232)](_0x3ebaa6=>_0x3ebaa6[_0x49fa7f(0x1f0)])[_0x49fa7f(0x225)]('\x0a');transLogic(_0x58215b);}catch(_0xf69090){inputText[_0x49fa7f(0x224)]=_0xf69090[_0x49fa7f(0x217)];}finally{isFunctionARunning=![];}}async function translateText(_0x5a1ed6,_0xd7bbe4,_0x39d2f0){const _0x320782=a0_0x7d15b9,_0x21507e=_0x5a1ed6['replace'](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x320782(0x234))[_0x320782(0x208)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x320782(0x208)](/ {2,}/g,'\x20')[_0x320782(0x1fa)]();var _0x254f35='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0xd7bbe4+_0x320782(0x207)+_0x39d2f0+_0x320782(0x1fd)+encodeURIComponent(_0x21507e);try{const _0x318c45=await fetch(_0x254f35);if(!_0x318c45['ok']){if(_0x318c45[_0x320782(0x20f)]===0x1f4)throw new Error(_0x320782(0x1f7));else{const _0x3fdcd7=await _0x318c45[_0x320782(0x214)](),_0x1c8f0c=new Error(_0x3fdcd7[_0x320782(0x237)]['message']);_0x1c8f0c[_0x320782(0x210)]=_0x3fdcd7[_0x320782(0x237)][_0x320782(0x210)];throw _0x1c8f0c;}}const _0x28da91=await _0x318c45[_0x320782(0x214)]();if(Array[_0x320782(0x212)](_0x28da91)&&_0x28da91[_0x320782(0x21a)]>0x0&&Array[_0x320782(0x212)](_0x28da91[0x0])){var _0x4e79aa=_0x28da91[0x0][_0x320782(0x232)](_0x58e734=>_0x58e734[0x0])[_0x320782(0x225)]('\x20');return document[_0x320782(0x231)](_0x320782(0x1f9))[_0x320782(0x224)]='',inputText['textContent']='.._\x20'+_0x4e79aa[_0x320782(0x208)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4e79aa['replace'](/ {2,}/g,'\x20');}else return document[_0x320782(0x231)](_0x320782(0x1f9))[_0x320782(0x224)]='',inputText[_0x320782(0x224)]=_0x320782(0x22f)+_0x28da91,_0x28da91;}catch(_0xbad8e2){inputText['textContent']=_0xbad8e2[_0x320782(0x217)];throw _0xbad8e2;}}async function autoScroll(){const _0x4917fc=a0_0x7d15b9;var _0x51034d=inputText[_0x4917fc(0x1f1)]-inputText[_0x4917fc(0x221)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x51034d||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x4917fc(0x22c)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1f14f9){const _0x51fd80=a0_0x7d15b9;var _0x3addd6=_0x51fd80(0x1ee)+encodeURIComponent(_0x1f14f9);try{const _0x49b68b=await fetch(_0x3addd6),_0x54e3cb=await _0x49b68b[_0x51fd80(0x214)]();var _0x14d695=_0x54e3cb[0x8][0x0][0x0];return _0x14d695;}catch(_0x4e9c8f){console['error'](_0x51fd80(0x203),_0x4e9c8f);throw _0x4e9c8f;}}async function transLogic(_0xf91b5f){const _0x4f54e8='en';if(_0x4f54e8===null){const _0x14ef77=await detectLanguage(_0xf91b5f),_0x43cff7=await translateText(_0xf91b5f,_0x14ef77,'en');return translateText(_0x43cff7,'en','vi');}else{if(_0x4f54e8==='en')return translateText(_0xf91b5f,'en','vi');else{const _0x5e967e=await translateText(_0xf91b5f,_0x4f54e8,'en');return translateText(_0x5e967e,'en','vi');}}}function dataURItoBlob(_0x4712ed){const _0xd06966=a0_0x7d15b9,_0x2f8e00=atob(_0x4712ed),_0x136a6e=new ArrayBuffer(_0x2f8e00[_0xd06966(0x21a)]),_0x1fa0dd=new Uint8Array(_0x136a6e);for(let _0xdd9f03=0x0;_0xdd9f03<_0x2f8e00[_0xd06966(0x21a)];_0xdd9f03++){_0x1fa0dd[_0xdd9f03]=_0x2f8e00[_0xd06966(0x235)](_0xdd9f03);}return new Blob([_0x136a6e],{'type':'image/png'});}function a0_0x334f(_0x58d9ff,_0x426ad5){const _0x2c9e95=a0_0x2c9e();return a0_0x334f=function(_0x334f5e,_0x5ee1cb){_0x334f5e=_0x334f5e-0x1e0;let _0x93c6b9=_0x2c9e95[_0x334f5e];return _0x93c6b9;},a0_0x334f(_0x58d9ff,_0x426ad5);}document[a0_0x7d15b9(0x1f2)](a0_0x7d15b9(0x22d),function(){const _0x12e857=a0_0x7d15b9;ID[_0x12e857(0x1f5)](function(_0x209281){const _0x10331f=_0x12e857,_0x3163a5=document[_0x10331f(0x231)](_0x209281);_0x3163a5&&_0x3163a5[_0x10331f(0x1f2)](_0x10331f(0x22e),function(){const _0x4bb644=_0x10331f;!isFunctionARunning&&turbo[_0x4bb644(0x1eb)]['remove'](_0x4bb644(0x201));});}),[_0x12e857(0x223)][_0x12e857(0x1f5)](_0x29d465=>{const _0xc9c9a2=_0x12e857;turbo[_0xc9c9a2(0x1f2)](_0x29d465,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0xc9c9a2(0x1f2)](_0x29d465,()=>{const _0x500c51=_0xc9c9a2;areaTrans[_0x500c51(0x1eb)][_0x500c51(0x1fb)]('visible');});});});