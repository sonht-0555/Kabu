const a0_0x31a09b=a0_0xd960;(function(_0x34b048,_0x270cdb){const _0xd6a45a=a0_0xd960,_0x724e40=_0x34b048();while(!![]){try{const _0x53c560=-parseInt(_0xd6a45a(0x1f8))/0x1+parseInt(_0xd6a45a(0x233))/0x2*(-parseInt(_0xd6a45a(0x200))/0x3)+parseInt(_0xd6a45a(0x1f0))/0x4*(parseInt(_0xd6a45a(0x20b))/0x5)+-parseInt(_0xd6a45a(0x221))/0x6*(-parseInt(_0xd6a45a(0x237))/0x7)+parseInt(_0xd6a45a(0x219))/0x8+parseInt(_0xd6a45a(0x23d))/0x9+-parseInt(_0xd6a45a(0x203))/0xa*(-parseInt(_0xd6a45a(0x23f))/0xb);if(_0x53c560===_0x270cdb)break;else _0x724e40['push'](_0x724e40['shift']());}catch(_0x3e67e2){_0x724e40['push'](_0x724e40['shift']());}}}(a0_0x40b1,0xdb827));import*as a0_0x3a6eae from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x31a09b(0x21c)),turbo=document[a0_0x31a09b(0x216)](a0_0x31a09b(0x23c)),ID=['A','B','R','L'];async function getImage(){const _0x3a0bfb=a0_0x31a09b;turbo[_0x3a0bfb(0x204)][_0x3a0bfb(0x1fd)](_0x3a0bfb(0x21e));try{const _0x16e55f=gameName[_0x3a0bfb(0x227)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x6299aa=await a0_0x3a6eae[_0x3a0bfb(0x209)](_0x16e55f),_0x388068=new Blob([_0x6299aa],{'type':_0x3a0bfb(0x213)}),_0x17cab3=await new Promise((_0x4ddf93,_0x486df4)=>{const _0x512f16=_0x3a0bfb,_0x1e12e1=new FileReader();_0x1e12e1['onloadend']=()=>_0x4ddf93(_0x1e12e1['result']),_0x1e12e1[_0x512f16(0x218)]=_0x486df4,_0x1e12e1['readAsDataURL'](_0x388068);}),_0x10c737=new Image();_0x10c737[_0x3a0bfb(0x23a)]=_0x17cab3,_0x10c737[_0x3a0bfb(0x225)]=async()=>{const _0x4d5bb3=_0x3a0bfb,_0x38b652=document[_0x4d5bb3(0x1f7)](_0x4d5bb3(0x1ff)),_0x548530=_0x38b652['getContext']('2d'),_0x439970=0x4;let _0x55e165;gameName[_0x4d5bb3(0x217)](_0x4d5bb3(0x1fb))||gameName[_0x4d5bb3(0x217)](_0x4d5bb3(0x222))?_0x55e165=0x3/0x6:_0x55e165=0x3/0x4;const _0x4b4a6f=localStorage['getItem'](gameName+'_setArea')||localStorage[_0x4d5bb3(0x234)](_0x4d5bb3(0x22c)),[_0x456d1b,_0x235964,_0x2926f2,_0x41835e]=_0x4b4a6f['split'](',')['map'](Number);_0x38b652['width']=_0x2926f2*_0x55e165*_0x439970,_0x38b652[_0x4d5bb3(0x231)]=_0x41835e*_0x55e165*_0x439970,_0x548530['drawImage'](_0x10c737,_0x456d1b*_0x55e165,_0x235964*_0x55e165,_0x2926f2*_0x55e165,_0x41835e*_0x55e165,0x0,0x0,_0x2926f2*_0x55e165*_0x439970,_0x41835e*_0x55e165*_0x439970);const _0x595f2a=_0x38b652[_0x4d5bb3(0x23e)](_0x4d5bb3(0x213))['split'](',')[0x1],_0x50feb7=localStorage[_0x4d5bb3(0x234)](_0x4d5bb3(0x211));console[_0x4d5bb3(0x230)](_0x50feb7),_0x50feb7?azureServer(_0x595f2a):freeServer(_0x595f2a);};}catch(_0x52f5cc){inputText[_0x3a0bfb(0x1f6)]=_0x52f5cc[_0x3a0bfb(0x238)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2c1713=_0x3a0bfb;document[_0x2c1713(0x216)](_0x2c1713(0x21c))[_0x2c1713(0x1f6)]='',a0_0x3a6eae[_0x2c1713(0x22a)]('',0x0);},0x7530);}async function freeServer(_0x508e57){const _0x524ac1=a0_0x31a09b;document[_0x524ac1(0x216)](_0x524ac1(0x1ef))['textContent']='';let _0xf80448=0x0;const _0x565704=setInterval(()=>{const _0x314394=_0x524ac1;_0xf80448+=0x1,_0xf80448<=0x64&&(inputText[_0x314394(0x1f6)]='.._\x20'+_0xf80448+'%');},0x64);try{const _0x1a6470=dataURItoBlob(_0x508e57),_0x1e5b63=new FormData();_0x1e5b63[_0x524ac1(0x20d)](_0x524ac1(0x22d),_0x1a6470,_0x524ac1(0x215)),_0x1e5b63[_0x524ac1(0x20d)](_0x524ac1(0x21a),_0x524ac1(0x239));let _0x256650;try{_0x256650=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':'POST','body':_0x1e5b63,'headers':{'Origin':window[_0x524ac1(0x1f5)]['origin'],'X-Requested-With':_0x524ac1(0x21f),'User-Agent':navigator[_0x524ac1(0x212)]}});if(!_0x256650['ok'])throw new Error('HTTP\x20Error:\x20'+_0x256650[_0x524ac1(0x1fc)]);}catch(_0x101b7f){console[_0x524ac1(0x236)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x524ac1(0x1f5)][_0x524ac1(0x223)]=_0x524ac1(0x1f4);return;}const _0x10f94f=await _0x256650[_0x524ac1(0x20f)]();if(_0x10f94f[_0x524ac1(0x201)]==='error')throw new Error(_0x10f94f[_0x524ac1(0x22e)][_0x524ac1(0x238)]);transLogic(_0x10f94f[_0x524ac1(0x1f3)]);}catch(_0x3a3939){inputText['textContent']=_0x3a3939[_0x524ac1(0x238)];}finally{clearInterval(_0x565704),isFunctionARunning=![];}}async function azureServer(_0x2e02a3){const _0x1b95fc=a0_0x31a09b;document['getElementById'](_0x1b95fc(0x1ef))[_0x1b95fc(0x1f6)]='',inputText[_0x1b95fc(0x1f6)]=_0x1b95fc(0x1fa);const _0x203436=localStorage[_0x1b95fc(0x234)](_0x1b95fc(0x211));let [_0x434f14,_0x40d880]=_0x203436['split'](',');try{const _0x1fcc42=await fetch(_0x40d880+_0x1b95fc(0x232),{'method':_0x1b95fc(0x228),'headers':{'Ocp-Apim-Subscription-Key':_0x434f14,'Content-Type':_0x1b95fc(0x205)},'body':dataURItoBlob(_0x2e02a3)}),_0x493e19=await _0x1fcc42[_0x1b95fc(0x20f)]();if(!_0x1fcc42['ok']||_0x493e19[_0x1b95fc(0x201)]===_0x1b95fc(0x22e)){const _0x2c2d0b=_0x1fcc42['ok']?_0x493e19['error']['message']:_0x1fcc42['status']===0x1f4?_0x1b95fc(0x21b):(await _0x1fcc42['json']())[_0x1b95fc(0x22e)]['message'];throw new Error(_0x2c2d0b);}const _0x50a79d=_0x493e19[_0x1b95fc(0x22b)][_0x1b95fc(0x226)][0x0],_0x4a326f=_0x50a79d['lines']||[],_0x11fb8a=_0x4a326f[_0x1b95fc(0x1f9)](_0x5f1b49=>_0x5f1b49['text'])[_0x1b95fc(0x1f1)]('\x0a');transLogic(_0x11fb8a);}catch(_0x1a10de){inputText[_0x1b95fc(0x1f6)]=_0x1a10de['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x564b5f,_0x45d7e2,_0x22f416){const _0x27ae38=a0_0x31a09b,_0x452dab=_0x564b5f[_0x27ae38(0x227)](/[\r\n]+/g,',\x20')[_0x27ae38(0x227)](/([!?.,])\s*,\s*/g,_0x27ae38(0x235))[_0x27ae38(0x227)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x27ae38(0x227)](/ {2,}/g,'\x20')[_0x27ae38(0x206)]();var _0x3c4e75=_0x27ae38(0x1ee)+_0x45d7e2+_0x27ae38(0x208)+_0x22f416+_0x27ae38(0x20a)+encodeURIComponent(_0x452dab);try{const _0x2f742e=await fetch(_0x3c4e75);if(!_0x2f742e['ok']){if(_0x2f742e[_0x27ae38(0x1fc)]===0x1f4)throw new Error(_0x27ae38(0x207));else{const _0x32f3d2=await _0x2f742e[_0x27ae38(0x20f)](),_0x3e26c7=new Error(_0x32f3d2[_0x27ae38(0x22e)][_0x27ae38(0x238)]);_0x3e26c7[_0x27ae38(0x21d)]=_0x32f3d2[_0x27ae38(0x22e)][_0x27ae38(0x21d)];throw _0x3e26c7;}}const _0x9ad9c2=await _0x2f742e['json']();if(Array[_0x27ae38(0x22f)](_0x9ad9c2)&&_0x9ad9c2[_0x27ae38(0x220)]>0x0&&Array[_0x27ae38(0x22f)](_0x9ad9c2[0x0])){var _0x2cb3ce=_0x9ad9c2[0x0]['map'](_0x4cc805=>_0x4cc805[0x0])[_0x27ae38(0x1f1)]('\x20');return document[_0x27ae38(0x216)](_0x27ae38(0x1ef))['textContent']='',inputText[_0x27ae38(0x1f6)]=_0x27ae38(0x1fa)+_0x2cb3ce[_0x27ae38(0x227)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x2cb3ce['replace'](/ {2,}/g,'\x20');}else return document[_0x27ae38(0x216)](_0x27ae38(0x1ef))[_0x27ae38(0x1f6)]='',inputText['textContent']=_0x27ae38(0x1fa)+_0x9ad9c2,_0x9ad9c2;}catch(_0x4c176b){inputText['textContent']=_0x4c176b['message'];throw _0x4c176b;}}async function autoScroll(){const _0x234df5=a0_0x31a09b;var _0x34a708=inputText[_0x234df5(0x202)]-inputText[_0x234df5(0x224)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x34a708||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x234df5(0x1f2)]=scrollAmount,requestAnimationFrame(autoScroll);}function a0_0xd960(_0x353d12,_0x1adde7){const _0x40b1c1=a0_0x40b1();return a0_0xd960=function(_0xd960a2,_0x4e779d){_0xd960a2=_0xd960a2-0x1ed;let _0x44e24c=_0x40b1c1[_0xd960a2];return _0x44e24c;},a0_0xd960(_0x353d12,_0x1adde7);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3a78e0){const _0x216617=a0_0x31a09b;var _0x2bcc58='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x3a78e0);try{const _0xc0f034=await fetch(_0x2bcc58),_0x40c872=await _0xc0f034[_0x216617(0x20f)]();var _0x11272f=_0x40c872[0x8][0x0][0x0];return _0x11272f;}catch(_0x3c98af){console['error'](_0x216617(0x1fe),_0x3c98af);throw _0x3c98af;}}function a0_0x40b1(){const _0x5cf436=['href','clientWidth','onload','blocks','replace','POST','touchend','notiMessage','readResult','screenSize','image','error','isArray','log','height','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','2XfmBAb','getItem','$1\x20','warn','40558aWmPvl','message','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','src','touchstart','turbo','5468877yirdsu','toDataURL','374jsvXri','remove','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','noti-mess','196ZDIIKS','join','scrollLeft','text','https://cors-anywhere.herokuapp.com/corsdemo','location','textContent','createElement','1118972UDIYCN','map','.._\x20','.gbc','status','add','Error\x20detecting\x20language:','canvas','3683523KkKPrU','type','scrollWidth','230570wWiiNS','classList','application/octet-stream','trim','Internal\x20Server\x20Error','&tl=','captureOCR','&dt=t&q=','97435edBrVP','charCodeAt','append','addEventListener','json','visible','ApiAzure','userAgent','image/png','forEach','image.png','getElementById','endsWith','onerror','4878160Uevxno','user','500\x20Internal\x20Server\x20Error','inputText','code','turbo-ocr','XMLHttpRequest','length','300VVaYqy','.gb'];a0_0x40b1=function(){return _0x5cf436;};return a0_0x40b1();}async function transLogic(_0x3a6745){const _0x48415e='en';if(_0x48415e===null){const _0x37e988=await detectLanguage(_0x3a6745),_0x4180b0=await translateText(_0x3a6745,_0x37e988,'en');return translateText(_0x4180b0,'en','vi');}else{if(_0x48415e==='en')return translateText(_0x3a6745,'en','vi');else{const _0x2c1e9e=await translateText(_0x3a6745,_0x48415e,'en');return translateText(_0x2c1e9e,'en','vi');}}}function dataURItoBlob(_0x1f21af){const _0x14f448=a0_0x31a09b,_0x3e5115=atob(_0x1f21af),_0x3cf230=new ArrayBuffer(_0x3e5115[_0x14f448(0x220)]),_0x18db37=new Uint8Array(_0x3cf230);for(let _0x132886=0x0;_0x132886<_0x3e5115[_0x14f448(0x220)];_0x132886++){_0x18db37[_0x132886]=_0x3e5115[_0x14f448(0x20c)](_0x132886);}return new Blob([_0x3cf230],{'type':_0x14f448(0x213)});}document['addEventListener']('DOMContentLoaded',function(){const _0x536ec9=a0_0x31a09b;ID[_0x536ec9(0x214)](function(_0x29879b){const _0x483513=_0x536ec9,_0x12c4be=document[_0x483513(0x216)](_0x29879b);_0x12c4be&&_0x12c4be['addEventListener'](_0x483513(0x23b),function(){const _0x5ced3d=_0x483513;!isFunctionARunning&&turbo['classList'][_0x5ced3d(0x1ed)]('turbo-ocr');});}),[_0x536ec9(0x229)][_0x536ec9(0x214)](_0x1154aa=>{const _0x41dc48=_0x536ec9;turbo[_0x41dc48(0x20e)](_0x1154aa,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x41dc48(0x20e)](_0x1154aa,()=>{const _0x1f0da1=_0x41dc48;areaTrans['classList']['toggle'](_0x1f0da1(0x210));});});});