const a0_0x9c8c7e=a0_0x2b42;(function(_0x6497b5,_0x35d580){const _0x1ab467=a0_0x2b42,_0x16d7bc=_0x6497b5();while(!![]){try{const _0x52bef7=-parseInt(_0x1ab467(0x146))/0x1*(-parseInt(_0x1ab467(0x14b))/0x2)+-parseInt(_0x1ab467(0x13a))/0x3*(parseInt(_0x1ab467(0x16e))/0x4)+-parseInt(_0x1ab467(0x128))/0x5*(parseInt(_0x1ab467(0x11f))/0x6)+parseInt(_0x1ab467(0x118))/0x7*(parseInt(_0x1ab467(0x13f))/0x8)+-parseInt(_0x1ab467(0x154))/0x9*(-parseInt(_0x1ab467(0x162))/0xa)+parseInt(_0x1ab467(0x158))/0xb*(parseInt(_0x1ab467(0x13c))/0xc)+parseInt(_0x1ab467(0x129))/0xd*(-parseInt(_0x1ab467(0x156))/0xe);if(_0x52bef7===_0x35d580)break;else _0x16d7bc['push'](_0x16d7bc['shift']());}catch(_0x230d04){_0x16d7bc['push'](_0x16d7bc['shift']());}}}(a0_0x5cc4,0x1885e));import*as a0_0x115236 from'./main.js';function a0_0x2b42(_0x10bc6c,_0x113eac){const _0x5cc471=a0_0x5cc4();return a0_0x2b42=function(_0x2b4235,_0x406b26){_0x2b4235=_0x2b4235-0x117;let _0x3e271b=_0x5cc471[_0x2b4235];return _0x3e271b;},a0_0x2b42(_0x10bc6c,_0x113eac);}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x9c8c7e(0x168)](a0_0x9c8c7e(0x165)),turbo=document[a0_0x9c8c7e(0x168)](a0_0x9c8c7e(0x125)),ID=['A','B','R','L'];async function getImage(){const _0xf19454=a0_0x9c8c7e;turbo[_0xf19454(0x150)][_0xf19454(0x138)]('turbo-ocr');try{const _0x344d3f=gameName['replace'](/\.(gba|gbc|gb|zip)$/,'.png'),_0x4d830a=await a0_0x115236['captureOCR'](_0x344d3f),_0x44a8bd=new Blob([_0x4d830a],{'type':_0xf19454(0x133)}),_0x262efa=await new Promise((_0x2a9d63,_0xabd313)=>{const _0x128fbf=_0xf19454,_0x2f9b85=new FileReader();_0x2f9b85[_0x128fbf(0x160)]=()=>_0x2a9d63(_0x2f9b85[_0x128fbf(0x15d)]),_0x2f9b85[_0x128fbf(0x12a)]=_0xabd313,_0x2f9b85[_0x128fbf(0x167)](_0x44a8bd);}),_0x117127=new Image();_0x117127['src']=_0x262efa,_0x117127[_0xf19454(0x144)]=async()=>{const _0x248a1c=_0xf19454,_0x5b434e=document[_0x248a1c(0x13e)]('canvas'),_0x7da373=_0x5b434e[_0x248a1c(0x11c)]('2d'),_0x41bcc8=0x4;let _0x255cc1;gameName[_0x248a1c(0x11d)]('.gbc')||gameName[_0x248a1c(0x11d)](_0x248a1c(0x119))?_0x255cc1=0x3/0x6:_0x255cc1=0x3/0x4;const _0x26c444=localStorage[_0x248a1c(0x130)](gameName+_0x248a1c(0x16b))||localStorage[_0x248a1c(0x130)]('screenSize'),[_0x2be658,_0x117be3,_0x106869,_0x4d35bf]=_0x26c444[_0x248a1c(0x140)](',')[_0x248a1c(0x159)](Number);_0x5b434e[_0x248a1c(0x127)]=_0x106869*_0x255cc1*_0x41bcc8,_0x5b434e['height']=_0x4d35bf*_0x255cc1*_0x41bcc8,_0x7da373[_0x248a1c(0x151)](_0x117127,_0x2be658*_0x255cc1,_0x117be3*_0x255cc1,_0x106869*_0x255cc1,_0x4d35bf*_0x255cc1,0x0,0x0,_0x106869*_0x255cc1*_0x41bcc8,_0x4d35bf*_0x255cc1*_0x41bcc8);const _0x17834e=_0x5b434e[_0x248a1c(0x14a)](_0x248a1c(0x133))['split'](',')[0x1],_0x2b4e92=localStorage[_0x248a1c(0x130)]('ApiAzure');console[_0x248a1c(0x134)](_0x2b4e92),_0x2b4e92?azureServer(_0x17834e):freeServer(_0x17834e);};}catch(_0x45857b){inputText[_0xf19454(0x15c)]=_0x45857b[_0xf19454(0x117)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3b909f=_0xf19454;document[_0x3b909f(0x168)](_0x3b909f(0x165))[_0x3b909f(0x15c)]='',a0_0x115236[_0x3b909f(0x153)]('',0x0);},0x7530);}async function freeServer(_0x536405){const _0x1dec4d=a0_0x9c8c7e;document['getElementById'](_0x1dec4d(0x12b))[_0x1dec4d(0x15c)]='';let _0xcf02c3=0x0;const _0x34fa75=setInterval(()=>{const _0x5e4903=_0x1dec4d;_0xcf02c3+=0x1,_0xcf02c3<=0x64&&(inputText[_0x5e4903(0x15c)]='.._\x20'+_0xcf02c3+'%');},0x64);try{const _0x251cf1=dataURItoBlob(_0x536405),_0x290882=new FormData();_0x290882[_0x1dec4d(0x122)](_0x1dec4d(0x15f),_0x251cf1,_0x1dec4d(0x12e)),_0x290882['append'](_0x1dec4d(0x161),_0x1dec4d(0x14c));let _0x2204ec;try{_0x2204ec=await fetch(_0x1dec4d(0x166),{'method':'POST','body':_0x290882,'headers':{'Origin':window['location'][_0x1dec4d(0x164)],'X-Requested-With':_0x1dec4d(0x14d),'User-Agent':navigator[_0x1dec4d(0x11e)]}});if(!_0x2204ec['ok'])throw new Error(_0x1dec4d(0x15a)+_0x2204ec[_0x1dec4d(0x13d)]);}catch(_0x602c45){console[_0x1dec4d(0x126)](_0x1dec4d(0x145)),window['location'][_0x1dec4d(0x11a)]=_0x1dec4d(0x148);return;}const _0x5113d9=await _0x2204ec[_0x1dec4d(0x147)]();if(_0x5113d9[_0x1dec4d(0x15e)]==='error')throw new Error(_0x5113d9['error'][_0x1dec4d(0x117)]);transLogic(_0x5113d9[_0x1dec4d(0x135)]);}catch(_0x1824bc){inputText[_0x1dec4d(0x15c)]=_0x1824bc['message'];}finally{clearInterval(_0x34fa75),isFunctionARunning=![];}}async function azureServer(_0x448e00){const _0x3d4f81=a0_0x9c8c7e;document[_0x3d4f81(0x168)]('noti-mess')['textContent']='',inputText[_0x3d4f81(0x15c)]='.._\x20';const _0x5b6869=localStorage[_0x3d4f81(0x130)](_0x3d4f81(0x132));let [_0xdf947b,_0x40bd03]=_0x5b6869[_0x3d4f81(0x140)](',');try{const _0xa592b=await fetch(_0x40bd03+_0x3d4f81(0x155),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0xdf947b,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x448e00)}),_0x4b1b3e=await _0xa592b[_0x3d4f81(0x147)]();if(!_0xa592b['ok']||_0x4b1b3e[_0x3d4f81(0x15e)]==='error'){const _0x4088db=_0xa592b['ok']?_0x4b1b3e[_0x3d4f81(0x139)][_0x3d4f81(0x117)]:_0xa592b[_0x3d4f81(0x13d)]===0x1f4?_0x3d4f81(0x143):(await _0xa592b[_0x3d4f81(0x147)]())['error']['message'];throw new Error(_0x4088db);}const _0x572bdd=_0x4b1b3e[_0x3d4f81(0x14f)]['blocks'][0x0],_0xa6fd1c=_0x572bdd[_0x3d4f81(0x157)]||[],_0xaf4ea=_0xa6fd1c[_0x3d4f81(0x159)](_0x9872fb=>_0x9872fb[_0x3d4f81(0x135)])[_0x3d4f81(0x15b)]('\x0a');transLogic(_0xaf4ea);}catch(_0x302e2c){inputText['textContent']=_0x302e2c['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x3d8cb8,_0x4a8048,_0x12bd3){const _0x51288a=a0_0x9c8c7e,_0x5758c6=_0x3d8cb8['replace'](/[\r\n]+/g,',\x20')[_0x51288a(0x123)](/([!?.,])\s*,\s*/g,_0x51288a(0x13b))[_0x51288a(0x123)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')['trim']();var _0x11acbf=_0x51288a(0x169)+_0x4a8048+_0x51288a(0x12f)+_0x12bd3+_0x51288a(0x141)+encodeURIComponent(_0x5758c6);try{const _0x3968ab=await fetch(_0x11acbf);if(!_0x3968ab['ok']){if(_0x3968ab[_0x51288a(0x13d)]===0x1f4)throw new Error(_0x51288a(0x14e));else{const _0x23d851=await _0x3968ab[_0x51288a(0x147)](),_0x5dcca8=new Error(_0x23d851[_0x51288a(0x139)][_0x51288a(0x117)]);_0x5dcca8[_0x51288a(0x152)]=_0x23d851['error'][_0x51288a(0x152)];throw _0x5dcca8;}}const _0xe6874a=await _0x3968ab['json']();if(Array[_0x51288a(0x131)](_0xe6874a)&&_0xe6874a[_0x51288a(0x136)]>0x0&&Array[_0x51288a(0x131)](_0xe6874a[0x0])){var _0x3aa0ad=_0xe6874a[0x0][_0x51288a(0x159)](_0x23dfc5=>_0x23dfc5[0x0])[_0x51288a(0x15b)]('\x20');return document[_0x51288a(0x168)]('noti-mess')[_0x51288a(0x15c)]='',inputText[_0x51288a(0x15c)]=_0x51288a(0x16a)+_0x3aa0ad[_0x51288a(0x123)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x3aa0ad['replace'](/ {2,}/g,'\x20');}else return document[_0x51288a(0x168)](_0x51288a(0x12b))['textContent']='',inputText['textContent']='.._\x20'+_0xe6874a,_0xe6874a;}catch(_0x26a0eb){inputText[_0x51288a(0x15c)]=_0x26a0eb[_0x51288a(0x117)];throw _0x26a0eb;}}async function autoScroll(){const _0x521576=a0_0x9c8c7e;var _0x4e4512=inputText[_0x521576(0x12c)]-inputText[_0x521576(0x149)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x4e4512||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x521576(0x121)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x228e3c){const _0x368ed7=a0_0x9c8c7e;var _0x23cd48=_0x368ed7(0x11b)+encodeURIComponent(_0x228e3c);try{const _0x3a2dc2=await fetch(_0x23cd48),_0x17d679=await _0x3a2dc2[_0x368ed7(0x147)]();var _0x430d1e=_0x17d679[0x8][0x0][0x0];return _0x430d1e;}catch(_0x2e764d){console[_0x368ed7(0x139)]('Error\x20detecting\x20language:',_0x2e764d);throw _0x2e764d;}}async function transLogic(_0x13498c){const _0x1fd166='en';if(_0x1fd166===null){const _0x7ea3da=await detectLanguage(_0x13498c),_0x4487a3=await translateText(_0x13498c,_0x7ea3da,'en');return translateText(_0x4487a3,'en','vi');}else{if(_0x1fd166==='en')return translateText(_0x13498c,'en','vi');else{const _0x5b2239=await translateText(_0x13498c,_0x1fd166,'en');return translateText(_0x5b2239,'en','vi');}}}function a0_0x5cc4(){const _0x351a7a=['getItem','isArray','ApiAzure','image/png','log','text','length','remove','add','error','21738ZkfBww','$1\x20','31452pYEDYn','status','createElement','8FpfTFY','split','&dt=t&q=','forEach','500\x20Internal\x20Server\x20Error','onload','Cors-controlers\x20have\x20not\x20been\x20activated.','3fvDumK','json','https://cors-anywhere.herokuapp.com/corsdemo','clientWidth','toDataURL','109688OgTxyM','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','XMLHttpRequest','Internal\x20Server\x20Error','readResult','classList','drawImage','code','notiMessage','36jHpXyU','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','1991094xRYKIw','lines','759LeymIT','map','HTTP\x20Error:\x20','join','textContent','result','type','image','onloadend','user','122680gdeYki','turbo-ocr','origin','inputText','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','readAsDataURL','getElementById','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','.._\x20','_setArea','DOMContentLoaded','addEventListener','64iblgSp','message','977389VxJPMR','.gb','href','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','getContext','endsWith','userAgent','24942xLwAPd','touchend','scrollLeft','append','replace','charCodeAt','turbo','warn','width','40YiOaZv','26qeTcSV','onerror','noti-mess','scrollWidth','toggle','image.png','&tl='];a0_0x5cc4=function(){return _0x351a7a;};return a0_0x5cc4();}function dataURItoBlob(_0x4a0097){const _0x22d0e9=a0_0x9c8c7e,_0x5bca71=atob(_0x4a0097),_0x23e436=new ArrayBuffer(_0x5bca71[_0x22d0e9(0x136)]),_0xde4869=new Uint8Array(_0x23e436);for(let _0x4171e1=0x0;_0x4171e1<_0x5bca71[_0x22d0e9(0x136)];_0x4171e1++){_0xde4869[_0x4171e1]=_0x5bca71[_0x22d0e9(0x124)](_0x4171e1);}return new Blob([_0x23e436],{'type':_0x22d0e9(0x133)});}document[a0_0x9c8c7e(0x16d)](a0_0x9c8c7e(0x16c),function(){const _0x511f78=a0_0x9c8c7e;ID[_0x511f78(0x142)](function(_0x4f8aa3){const _0x31b5b2=_0x511f78,_0x262831=document['getElementById'](_0x4f8aa3);_0x262831&&_0x262831[_0x31b5b2(0x16d)]('touchstart',function(){const _0x11bb86=_0x31b5b2;!isFunctionARunning&&turbo[_0x11bb86(0x150)][_0x11bb86(0x137)](_0x11bb86(0x163));});}),[_0x511f78(0x120)][_0x511f78(0x142)](_0x44509d=>{const _0x24b88c=_0x511f78;turbo[_0x24b88c(0x16d)](_0x44509d,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x24b88c(0x16d)](_0x44509d,()=>{const _0x34450d=_0x24b88c;areaTrans[_0x34450d(0x150)][_0x34450d(0x12d)]('visible');});});});