const a0_0x20dc34=a0_0x5333;(function(_0x4b1a4e,_0x3249e5){const _0x1309a4=a0_0x5333,_0x722b0c=_0x4b1a4e();while(!![]){try{const _0x4c5892=-parseInt(_0x1309a4(0x1c7))/0x1+parseInt(_0x1309a4(0x1c8))/0x2+parseInt(_0x1309a4(0x1b6))/0x3+parseInt(_0x1309a4(0x1ec))/0x4+parseInt(_0x1309a4(0x1a8))/0x5+-parseInt(_0x1309a4(0x1c1))/0x6*(-parseInt(_0x1309a4(0x1d1))/0x7)+-parseInt(_0x1309a4(0x1cc))/0x8;if(_0x4c5892===_0x3249e5)break;else _0x722b0c['push'](_0x722b0c['shift']());}catch(_0x312c4d){_0x722b0c['push'](_0x722b0c['shift']());}}}(a0_0x2d61,0x2fd64));import*as a0_0x3ffd4e from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x20dc34(0x1a2)](a0_0x20dc34(0x1b5)),turbo=document['getElementById'](a0_0x20dc34(0x1e6)),ID=['A','B','R','L'];function a0_0x2d61(){const _0x20bf78=['552002exAnkM','warn','captureOCR','location','6006368GxTVYc','result','image/png','POST','classList','7ipfoei','screenSize','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','touchstart','userAgent','text','_setArea','code','noti-mess','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','forEach','getItem','&dt=t&q=','.gbc','visible','ApiAzure','application/octet-stream','.._\x20','notiMessage','readAsDataURL','turbo','.png','charCodeAt','error','json','createElement','1376136PcxwBO','DOMContentLoaded','canvas','$1\x20','image','.gb','onloadend','readResult','getElementById','message','blocks','src','Cors-controlers\x20have\x20not\x20been\x20activated.','type','957980cZmKmL','onload','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','length','Error\x20detecting\x20language:','HTTP\x20Error:\x20','lines','append','trim','addEventListener','scrollLeft','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','touchend','inputText','455049MpIWQb','500\x20Internal\x20Server\x20Error','XMLHttpRequest','endsWith','replace','toDataURL','map','join','remove','isArray','log','1946766uMNTfn','clientWidth','textContent','origin','status','split','341039HWzraD'];a0_0x2d61=function(){return _0x20bf78;};return a0_0x2d61();}async function getImage(){const _0x3adb2e=a0_0x20dc34;turbo[_0x3adb2e(0x1d0)]['add']('turbo-ocr');try{const _0x17b2d1=gameName[_0x3adb2e(0x1ba)](/\.(gba|gbc|gb|zip)$/,_0x3adb2e(0x1e7)),_0x4f6794=await a0_0x3ffd4e[_0x3adb2e(0x1ca)](_0x17b2d1),_0x5d5c16=new Blob([_0x4f6794],{'type':_0x3adb2e(0x1ce)}),_0x6768fb=await new Promise((_0x2a0306,_0x3fcaca)=>{const _0x30ef5f=_0x3adb2e,_0x2aae12=new FileReader();_0x2aae12[_0x30ef5f(0x1a0)]=()=>_0x2a0306(_0x2aae12[_0x30ef5f(0x1cd)]),_0x2aae12['onerror']=_0x3fcaca,_0x2aae12[_0x30ef5f(0x1e5)](_0x5d5c16);}),_0x4e91f5=new Image();_0x4e91f5[_0x3adb2e(0x1a5)]=_0x6768fb,_0x4e91f5[_0x3adb2e(0x1a9)]=async()=>{const _0x276d54=_0x3adb2e,_0x5c5bd3=document[_0x276d54(0x1eb)](_0x276d54(0x1ee)),_0x266ef1=_0x5c5bd3['getContext']('2d'),_0x4a48e8=0x4;let _0x483389;gameName[_0x276d54(0x1b9)](_0x276d54(0x1df))||gameName[_0x276d54(0x1b9)](_0x276d54(0x19f))?_0x483389=0x3/0x6:_0x483389=0x3/0x4;const _0x1fe1b6=localStorage[_0x276d54(0x1dd)](gameName+_0x276d54(0x1d8))||localStorage[_0x276d54(0x1dd)](_0x276d54(0x1d2)),[_0x2d3d02,_0x47c189,_0x216d80,_0x24982c]=_0x1fe1b6['split'](',')[_0x276d54(0x1bc)](Number);_0x5c5bd3['width']=_0x216d80*_0x483389*_0x4a48e8,_0x5c5bd3['height']=_0x24982c*_0x483389*_0x4a48e8,_0x266ef1['drawImage'](_0x4e91f5,_0x2d3d02*_0x483389,_0x47c189*_0x483389,_0x216d80*_0x483389,_0x24982c*_0x483389,0x0,0x0,_0x216d80*_0x483389*_0x4a48e8,_0x24982c*_0x483389*_0x4a48e8);const _0x16de27=_0x5c5bd3[_0x276d54(0x1bb)]('image/png')[_0x276d54(0x1c6)](',')[0x1],_0x20b459=localStorage[_0x276d54(0x1dd)](_0x276d54(0x1e1));console[_0x276d54(0x1c0)](_0x20b459),_0x20b459?azureServer(_0x16de27):freeServer(_0x16de27);};}catch(_0x5aee69){inputText[_0x3adb2e(0x1c3)]=_0x5aee69[_0x3adb2e(0x1a3)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x55158d=_0x3adb2e;document[_0x55158d(0x1a2)](_0x55158d(0x1b5))[_0x55158d(0x1c3)]='',a0_0x3ffd4e[_0x55158d(0x1e4)]('',0x0);},0x7530);}async function freeServer(_0x575deb){const _0x2f0bdd=a0_0x20dc34;document[_0x2f0bdd(0x1a2)](_0x2f0bdd(0x1da))[_0x2f0bdd(0x1c3)]='';let _0x449d67=0x0;const _0xc290cc=setInterval(()=>{const _0x1572a1=_0x2f0bdd;_0x449d67+=0x1,_0x449d67<=0x64&&(inputText['textContent']=_0x1572a1(0x1e3)+_0x449d67+'%');},0x64);try{const _0x473375=dataURItoBlob(_0x575deb),_0x5aa747=new FormData();_0x5aa747['append'](_0x2f0bdd(0x19e),_0x473375,'image.png'),_0x5aa747[_0x2f0bdd(0x1af)]('user',_0x2f0bdd(0x1d3));let _0x414e9e;try{_0x414e9e=await fetch(_0x2f0bdd(0x1d4),{'method':'POST','body':_0x5aa747,'headers':{'Origin':window[_0x2f0bdd(0x1cb)][_0x2f0bdd(0x1c4)],'X-Requested-With':_0x2f0bdd(0x1b8),'User-Agent':navigator[_0x2f0bdd(0x1d6)]}});if(!_0x414e9e['ok'])throw new Error(_0x2f0bdd(0x1ad)+_0x414e9e[_0x2f0bdd(0x1c5)]);}catch(_0x57ce2a){console[_0x2f0bdd(0x1c9)](_0x2f0bdd(0x1a6)),window[_0x2f0bdd(0x1cb)]['href']='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0xe4a553=await _0x414e9e[_0x2f0bdd(0x1ea)]();if(_0xe4a553[_0x2f0bdd(0x1a7)]===_0x2f0bdd(0x1e9))throw new Error(_0xe4a553[_0x2f0bdd(0x1e9)][_0x2f0bdd(0x1a3)]);transLogic(_0xe4a553[_0x2f0bdd(0x1d7)]);}catch(_0x540e98){inputText[_0x2f0bdd(0x1c3)]=_0x540e98['message'];}finally{clearInterval(_0xc290cc),isFunctionARunning=![];}}function a0_0x5333(_0x3980cb,_0x2a846a){const _0x2d617f=a0_0x2d61();return a0_0x5333=function(_0x5333b9,_0x3a5bcd){_0x5333b9=_0x5333b9-0x19e;let _0x1cc1bb=_0x2d617f[_0x5333b9];return _0x1cc1bb;},a0_0x5333(_0x3980cb,_0x2a846a);}async function azureServer(_0x430353){const _0x107961=a0_0x20dc34;document['getElementById'](_0x107961(0x1da))[_0x107961(0x1c3)]='',inputText[_0x107961(0x1c3)]='.._\x20';const _0x4feeda=localStorage[_0x107961(0x1dd)](_0x107961(0x1e1));let [_0x5cb632,_0x33b0c9]=_0x4feeda['split'](',');try{const _0x4aa700=await fetch(_0x33b0c9+_0x107961(0x1aa),{'method':_0x107961(0x1cf),'headers':{'Ocp-Apim-Subscription-Key':_0x5cb632,'Content-Type':_0x107961(0x1e2)},'body':dataURItoBlob(_0x430353)}),_0x4ac9d5=await _0x4aa700[_0x107961(0x1ea)]();if(!_0x4aa700['ok']||_0x4ac9d5[_0x107961(0x1a7)]===_0x107961(0x1e9)){const _0x1bf5bf=_0x4aa700['ok']?_0x4ac9d5[_0x107961(0x1e9)]['message']:_0x4aa700[_0x107961(0x1c5)]===0x1f4?_0x107961(0x1b7):(await _0x4aa700['json']())['error'][_0x107961(0x1a3)];throw new Error(_0x1bf5bf);}const _0x1fecce=_0x4ac9d5[_0x107961(0x1a1)][_0x107961(0x1a4)][0x0],_0x5e3571=_0x1fecce[_0x107961(0x1ae)]||[],_0x2b5b80=_0x5e3571[_0x107961(0x1bc)](_0x5a7d19=>_0x5a7d19[_0x107961(0x1d7)])[_0x107961(0x1bd)]('\x0a');transLogic(_0x2b5b80);}catch(_0x10bbd3){inputText['textContent']=_0x10bbd3[_0x107961(0x1a3)];}finally{isFunctionARunning=![];}}async function translateText(_0x9346f2,_0x2eed2b,_0x48400f){const _0x36db3e=a0_0x20dc34,_0x1e198e=_0x9346f2['replace'](/[\r\n]+/g,',\x20')[_0x36db3e(0x1ba)](/([!?.,])\s*,\s*/g,_0x36db3e(0x1ef))[_0x36db3e(0x1ba)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x36db3e(0x1ba)](/ {2,}/g,'\x20')[_0x36db3e(0x1b0)]();var _0x16058d=_0x36db3e(0x1b3)+_0x2eed2b+'&tl='+_0x48400f+_0x36db3e(0x1de)+encodeURIComponent(_0x1e198e);try{const _0x3c873d=await fetch(_0x16058d);if(!_0x3c873d['ok']){if(_0x3c873d['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0xe0e5a1=await _0x3c873d[_0x36db3e(0x1ea)](),_0x48a157=new Error(_0xe0e5a1[_0x36db3e(0x1e9)][_0x36db3e(0x1a3)]);_0x48a157[_0x36db3e(0x1d9)]=_0xe0e5a1[_0x36db3e(0x1e9)][_0x36db3e(0x1d9)];throw _0x48a157;}}const _0x41c3fd=await _0x3c873d[_0x36db3e(0x1ea)]();if(Array[_0x36db3e(0x1bf)](_0x41c3fd)&&_0x41c3fd['length']>0x0&&Array[_0x36db3e(0x1bf)](_0x41c3fd[0x0])){var _0x118438=_0x41c3fd[0x0][_0x36db3e(0x1bc)](_0x10d6f9=>_0x10d6f9[0x0])[_0x36db3e(0x1bd)]('\x20');return document['getElementById'](_0x36db3e(0x1da))[_0x36db3e(0x1c3)]='',inputText[_0x36db3e(0x1c3)]='.._\x20'+_0x118438[_0x36db3e(0x1ba)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x118438[_0x36db3e(0x1ba)](/ {2,}/g,'\x20');}else return document[_0x36db3e(0x1a2)]('noti-mess')[_0x36db3e(0x1c3)]='',inputText[_0x36db3e(0x1c3)]='.._\x20'+_0x41c3fd,_0x41c3fd;}catch(_0x2e7ada){inputText[_0x36db3e(0x1c3)]=_0x2e7ada[_0x36db3e(0x1a3)];throw _0x2e7ada;}}async function autoScroll(){const _0x2b6008=a0_0x20dc34;var _0xb8d6c7=inputText['scrollWidth']-inputText[_0x2b6008(0x1c2)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0xb8d6c7||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x2b6008(0x1b2)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3cf1ca){const _0x38df4b=a0_0x20dc34;var _0x185df8=_0x38df4b(0x1db)+encodeURIComponent(_0x3cf1ca);try{const _0x507bac=await fetch(_0x185df8),_0x16a3a8=await _0x507bac[_0x38df4b(0x1ea)]();var _0x34c8bd=_0x16a3a8[0x8][0x0][0x0];return _0x34c8bd;}catch(_0x19101b){console[_0x38df4b(0x1e9)](_0x38df4b(0x1ac),_0x19101b);throw _0x19101b;}}async function transLogic(_0x20aaf9){const _0x38b2ad='en';if(_0x38b2ad===null){const _0x26a7a0=await detectLanguage(_0x20aaf9),_0x1ffbd9=await translateText(_0x20aaf9,_0x26a7a0,'en');return translateText(_0x1ffbd9,'en','vi');}else{if(_0x38b2ad==='en')return translateText(_0x20aaf9,'en','vi');else{const _0x45b7f9=await translateText(_0x20aaf9,_0x38b2ad,'en');return translateText(_0x45b7f9,'en','vi');}}}function dataURItoBlob(_0x4303f2){const _0x301eec=a0_0x20dc34,_0x52a826=atob(_0x4303f2),_0x393e2c=new ArrayBuffer(_0x52a826['length']),_0x80b7ae=new Uint8Array(_0x393e2c);for(let _0x243df=0x0;_0x243df<_0x52a826[_0x301eec(0x1ab)];_0x243df++){_0x80b7ae[_0x243df]=_0x52a826[_0x301eec(0x1e8)](_0x243df);}return new Blob([_0x393e2c],{'type':_0x301eec(0x1ce)});}document[a0_0x20dc34(0x1b1)](a0_0x20dc34(0x1ed),function(){const _0x5340cf=a0_0x20dc34;ID['forEach'](function(_0x380e2f){const _0x5162d1=a0_0x5333,_0xe1c049=document[_0x5162d1(0x1a2)](_0x380e2f);_0xe1c049&&_0xe1c049['addEventListener'](_0x5162d1(0x1d5),function(){const _0x1be52e=_0x5162d1;!isFunctionARunning&&turbo[_0x1be52e(0x1d0)][_0x1be52e(0x1be)]('turbo-ocr');});}),[_0x5340cf(0x1b4)][_0x5340cf(0x1dc)](_0x1cf2f5=>{const _0x63ba7=_0x5340cf;turbo[_0x63ba7(0x1b1)](_0x1cf2f5,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x63ba7(0x1b1)](_0x1cf2f5,()=>{const _0x4bf27e=_0x63ba7;areaTrans[_0x4bf27e(0x1d0)]['toggle'](_0x4bf27e(0x1e0));});});});