const a0_0x51c5b5=a0_0x56a8;(function(_0x50bb3b,_0x255c3d){const _0xa4b1d=a0_0x56a8,_0xb6c818=_0x50bb3b();while(!![]){try{const _0x2660e5=parseInt(_0xa4b1d(0x97))/0x1+-parseInt(_0xa4b1d(0x98))/0x2+parseInt(_0xa4b1d(0xa4))/0x3*(-parseInt(_0xa4b1d(0xc1))/0x4)+-parseInt(_0xa4b1d(0xa2))/0x5+-parseInt(_0xa4b1d(0x73))/0x6+-parseInt(_0xa4b1d(0x87))/0x7*(parseInt(_0xa4b1d(0x92))/0x8)+parseInt(_0xa4b1d(0x8d))/0x9*(parseInt(_0xa4b1d(0x81))/0xa);if(_0x2660e5===_0x255c3d)break;else _0xb6c818['push'](_0xb6c818['shift']());}catch(_0x3a9e62){_0xb6c818['push'](_0xb6c818['shift']());}}}(a0_0x4ad4,0x42cb2));import*as a0_0x4fb3f0 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x4ad4(){const _0x1671d2=['width','join','Internal\x20Server\x20Error','&tl=','getElementById','833778mjjrLP','href','noti-mess','origin','Error\x20detecting\x20language:','272ZxCcVS','charCodeAt','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','application/octet-stream','https://cors-anywhere.herokuapp.com/corsdemo','311979APsJru','408718RpDVqc','blocks','image/png','image','500\x20Internal\x20Server\x20Error','addEventListener','onloadend','map','scrollLeft','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','1062805vmXizF','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','24myhcKn','text','turbo-ocr','add','.gb','append','_setArea','code','ApiAzure','Cors-controlers\x20have\x20not\x20been\x20activated.','turbo','replace','result','HTTP\x20Error:\x20','length','notiMessage','touchstart','error','message','location','canvas','POST','screenSize','XMLHttpRequest','isArray','forEach','clientWidth','lines','user','208816vhVfBt','toDataURL','getContext','readResult','type','getItem','status','1118130tthQPz','split','touchend','src','image.png','classList','.._\x20','log','&dt=t&q=','readAsDataURL','endsWith','drawImage','textContent','inputText','150MbqDjm','warn','captureOCR','DOMContentLoaded','createElement','json','83818AXtsel'];a0_0x4ad4=function(){return _0x1671d2;};return a0_0x4ad4();}const inputText=document['getElementById'](a0_0x51c5b5(0x80)),turbo=document[a0_0x51c5b5(0x8c)](a0_0x51c5b5(0xae)),ID=['A','B','R','L'];async function getImage(){const _0x427068=a0_0x51c5b5;turbo[_0x427068(0x78)][_0x427068(0xa7)](_0x427068(0xa6));try{const _0x470040=gameName[_0x427068(0xaf)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x174689=await a0_0x4fb3f0[_0x427068(0x83)](_0x470040),_0xc68239=new Blob([_0x174689],{'type':_0x427068(0x9a)}),_0x301022=await new Promise((_0x25af3a,_0x323064)=>{const _0x5245e2=_0x427068,_0x457a18=new FileReader();_0x457a18[_0x5245e2(0x9e)]=()=>_0x25af3a(_0x457a18[_0x5245e2(0xb0)]),_0x457a18['onerror']=_0x323064,_0x457a18[_0x5245e2(0x7c)](_0xc68239);}),_0x5e5b1=new Image();_0x5e5b1[_0x427068(0x76)]=_0x301022,_0x5e5b1['onload']=async()=>{const _0x1b30b5=_0x427068,_0x28f5bf=document[_0x1b30b5(0x85)](_0x1b30b5(0xb8)),_0x3000dc=_0x28f5bf[_0x1b30b5(0xc3)]('2d'),_0x19c138=0x4;let _0x2c3e8e;gameName[_0x1b30b5(0x7d)]('.gbc')||gameName[_0x1b30b5(0x7d)](_0x1b30b5(0xa8))?_0x2c3e8e=0x3/0x6:_0x2c3e8e=0x3/0x4;const _0x23e3c9=localStorage[_0x1b30b5(0xc6)](gameName+_0x1b30b5(0xaa))||localStorage['getItem'](_0x1b30b5(0xba)),[_0x4d3ce5,_0x396140,_0x347f9e,_0x3d9fb8]=_0x23e3c9[_0x1b30b5(0x74)](',')[_0x1b30b5(0x9f)](Number);_0x28f5bf[_0x1b30b5(0x88)]=_0x347f9e*_0x2c3e8e*_0x19c138,_0x28f5bf['height']=_0x3d9fb8*_0x2c3e8e*_0x19c138,_0x3000dc[_0x1b30b5(0x7e)](_0x5e5b1,_0x4d3ce5*_0x2c3e8e,_0x396140*_0x2c3e8e,_0x347f9e*_0x2c3e8e,_0x3d9fb8*_0x2c3e8e,0x0,0x0,_0x347f9e*_0x2c3e8e*_0x19c138,_0x3d9fb8*_0x2c3e8e*_0x19c138);const _0x194a80=_0x28f5bf[_0x1b30b5(0xc2)](_0x1b30b5(0x9a))[_0x1b30b5(0x74)](',')[0x1],_0x387a29=localStorage[_0x1b30b5(0xc6)](_0x1b30b5(0xac));console[_0x1b30b5(0x7a)](_0x387a29),_0x387a29?azureServer(_0x194a80):freeServer(_0x194a80);};}catch(_0x4d989e){inputText[_0x427068(0x7f)]=_0x4d989e[_0x427068(0xb6)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3b4bda=_0x427068;document[_0x3b4bda(0x8c)](_0x3b4bda(0x80))[_0x3b4bda(0x7f)]='',a0_0x4fb3f0[_0x3b4bda(0xb3)]('',0x0);},0x7530);}async function freeServer(_0x8213f8){const _0x5a6e3f=a0_0x51c5b5;document[_0x5a6e3f(0x8c)](_0x5a6e3f(0x8f))[_0x5a6e3f(0x7f)]='';let _0x2871d6=0x0;const _0xa80d6b=setInterval(()=>{const _0x112971=_0x5a6e3f;_0x2871d6+=0x1,_0x2871d6<=0x64&&(inputText[_0x112971(0x7f)]=_0x112971(0x79)+_0x2871d6+'%');},0x64);try{const _0x1cb3eb=dataURItoBlob(_0x8213f8),_0x449b3e=new FormData();_0x449b3e['append'](_0x5a6e3f(0x9b),_0x1cb3eb,_0x5a6e3f(0x77)),_0x449b3e[_0x5a6e3f(0xa9)](_0x5a6e3f(0xc0),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x40e799;try{_0x40e799=await fetch(_0x5a6e3f(0xa3),{'method':_0x5a6e3f(0xb9),'body':_0x449b3e,'headers':{'Origin':window['location'][_0x5a6e3f(0x90)],'X-Requested-With':_0x5a6e3f(0xbb),'User-Agent':navigator['userAgent']}});if(!_0x40e799['ok'])throw new Error(_0x5a6e3f(0xb1)+_0x40e799[_0x5a6e3f(0x72)]);}catch(_0xa5deca){console[_0x5a6e3f(0x82)](_0x5a6e3f(0xad)),window[_0x5a6e3f(0xb7)][_0x5a6e3f(0x8e)]=_0x5a6e3f(0x96);return;}const _0x2c1b49=await _0x40e799[_0x5a6e3f(0x86)]();if(_0x2c1b49[_0x5a6e3f(0xc5)]===_0x5a6e3f(0xb5))throw new Error(_0x2c1b49[_0x5a6e3f(0xb5)][_0x5a6e3f(0xb6)]);transLogic(_0x2c1b49[_0x5a6e3f(0xa5)]);}catch(_0x2550d4){inputText['textContent']=_0x2550d4[_0x5a6e3f(0xb6)];}finally{clearInterval(_0xa80d6b),isFunctionARunning=![];}}async function azureServer(_0x3c7f0d){const _0x4544c3=a0_0x51c5b5;document[_0x4544c3(0x8c)]('noti-mess')['textContent']='',inputText[_0x4544c3(0x7f)]=_0x4544c3(0x79);const _0x46bb1b=localStorage['getItem'](_0x4544c3(0xac));let [_0x27bae5,_0x356257]=_0x46bb1b[_0x4544c3(0x74)](',');try{const _0x1d1f39=await fetch(_0x356257+_0x4544c3(0xa1),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x27bae5,'Content-Type':_0x4544c3(0x95)},'body':dataURItoBlob(_0x3c7f0d)}),_0x9d3b56=await _0x1d1f39['json']();if(!_0x1d1f39['ok']||_0x9d3b56[_0x4544c3(0xc5)]===_0x4544c3(0xb5)){const _0x5b4176=_0x1d1f39['ok']?_0x9d3b56['error']['message']:_0x1d1f39['status']===0x1f4?_0x4544c3(0x9c):(await _0x1d1f39[_0x4544c3(0x86)]())[_0x4544c3(0xb5)]['message'];throw new Error(_0x5b4176);}const _0x42560b=_0x9d3b56[_0x4544c3(0xc4)][_0x4544c3(0x99)][0x0],_0x23e8c3=_0x42560b[_0x4544c3(0xbf)]||[],_0x5a49f0=_0x23e8c3[_0x4544c3(0x9f)](_0x135c85=>_0x135c85[_0x4544c3(0xa5)])[_0x4544c3(0x89)]('\x0a');transLogic(_0x5a49f0);}catch(_0x13f0b6){inputText['textContent']=_0x13f0b6[_0x4544c3(0xb6)];}finally{isFunctionARunning=![];}}async function translateText(_0x3713d2,_0xcb680f,_0x25a470){const _0x24b437=a0_0x51c5b5,_0x44a4f9=_0x3713d2[_0x24b437(0xaf)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')['trim']();var _0x49f26a=_0x24b437(0x94)+_0xcb680f+_0x24b437(0x8b)+_0x25a470+_0x24b437(0x7b)+encodeURIComponent(_0x44a4f9);try{const _0xc82233=await fetch(_0x49f26a);if(!_0xc82233['ok']){if(_0xc82233[_0x24b437(0x72)]===0x1f4)throw new Error(_0x24b437(0x8a));else{const _0x529e26=await _0xc82233['json'](),_0x4c796d=new Error(_0x529e26[_0x24b437(0xb5)]['message']);_0x4c796d['code']=_0x529e26[_0x24b437(0xb5)][_0x24b437(0xab)];throw _0x4c796d;}}const _0x4e2e49=await _0xc82233[_0x24b437(0x86)]();if(Array[_0x24b437(0xbc)](_0x4e2e49)&&_0x4e2e49[_0x24b437(0xb2)]>0x0&&Array[_0x24b437(0xbc)](_0x4e2e49[0x0])){var _0xb50b11=_0x4e2e49[0x0][_0x24b437(0x9f)](_0x42b50a=>_0x42b50a[0x0])[_0x24b437(0x89)]('\x20');return document[_0x24b437(0x8c)](_0x24b437(0x8f))[_0x24b437(0x7f)]='',inputText[_0x24b437(0x7f)]=_0x24b437(0x79)+_0xb50b11[_0x24b437(0xaf)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0xb50b11['replace'](/ {2,}/g,'\x20');}else return document['getElementById']('noti-mess')[_0x24b437(0x7f)]='',inputText[_0x24b437(0x7f)]='.._\x20'+_0x4e2e49,_0x4e2e49;}catch(_0x3857dd){inputText[_0x24b437(0x7f)]=_0x3857dd[_0x24b437(0xb6)];throw _0x3857dd;}}async function autoScroll(){const _0x4b16b9=a0_0x51c5b5;var _0x228777=inputText['scrollWidth']-inputText[_0x4b16b9(0xbe)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x228777||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x4b16b9(0xa0)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x5dc20b){const _0x2fae39=a0_0x51c5b5;var _0x5b8186='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x5dc20b);try{const _0x5995c1=await fetch(_0x5b8186),_0x53f18e=await _0x5995c1['json']();var _0x2e01b1=_0x53f18e[0x8][0x0][0x0];return _0x2e01b1;}catch(_0x263968){console[_0x2fae39(0xb5)](_0x2fae39(0x91),_0x263968);throw _0x263968;}}async function transLogic(_0x11e602){const _0x26ae80='en';if(_0x26ae80===null){const _0x405ef6=await detectLanguage(_0x11e602),_0x378962=await translateText(_0x11e602,_0x405ef6,'en');return translateText(_0x378962,'en','vi');}else{if(_0x26ae80==='en')return translateText(_0x11e602,'en','vi');else{const _0x331aaa=await translateText(_0x11e602,_0x26ae80,'en');return translateText(_0x331aaa,'en','vi');}}}function dataURItoBlob(_0x3873ed){const _0x3888c4=a0_0x51c5b5,_0x45fca4=atob(_0x3873ed),_0xb62d9=new ArrayBuffer(_0x45fca4[_0x3888c4(0xb2)]),_0x11d64d=new Uint8Array(_0xb62d9);for(let _0x3d8c87=0x0;_0x3d8c87<_0x45fca4[_0x3888c4(0xb2)];_0x3d8c87++){_0x11d64d[_0x3d8c87]=_0x45fca4[_0x3888c4(0x93)](_0x3d8c87);}return new Blob([_0xb62d9],{'type':_0x3888c4(0x9a)});}function a0_0x56a8(_0xaaf1ca,_0x3f2df9){const _0x4ad4ba=a0_0x4ad4();return a0_0x56a8=function(_0x56a86f,_0x43d7ea){_0x56a86f=_0x56a86f-0x72;let _0xd12567=_0x4ad4ba[_0x56a86f];return _0xd12567;},a0_0x56a8(_0xaaf1ca,_0x3f2df9);}document[a0_0x51c5b5(0x9d)](a0_0x51c5b5(0x84),function(){const _0x3f12f2=a0_0x51c5b5;ID[_0x3f12f2(0xbd)](function(_0x259c07){const _0x26f3af=_0x3f12f2,_0x2fcf9d=document['getElementById'](_0x259c07);_0x2fcf9d&&_0x2fcf9d[_0x26f3af(0x9d)](_0x26f3af(0xb4),function(){const _0x4c74c5=_0x26f3af;!isFunctionARunning&&turbo[_0x4c74c5(0x78)]['remove'](_0x4c74c5(0xa6));});}),[_0x3f12f2(0x75)]['forEach'](_0x4be7e5=>{const _0x3d1dc5=_0x3f12f2;turbo[_0x3d1dc5(0x9d)](_0x4be7e5,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x3d1dc5(0x9d)](_0x4be7e5,()=>{areaTrans['classList']['toggle']('visible');});});});