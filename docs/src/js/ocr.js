const a0_0x106d4f=a0_0x92f2;(function(_0x5b8ae3,_0x1611bd){const _0x49e4cd=a0_0x92f2,_0x17c636=_0x5b8ae3();while(!![]){try{const _0x184012=-parseInt(_0x49e4cd(0x10a))/0x1*(parseInt(_0x49e4cd(0xd4))/0x2)+parseInt(_0x49e4cd(0xdf))/0x3*(parseInt(_0x49e4cd(0x11f))/0x4)+-parseInt(_0x49e4cd(0x10c))/0x5+parseInt(_0x49e4cd(0xff))/0x6*(parseInt(_0x49e4cd(0xfa))/0x7)+-parseInt(_0x49e4cd(0xef))/0x8+parseInt(_0x49e4cd(0xe9))/0x9*(-parseInt(_0x49e4cd(0x109))/0xa)+-parseInt(_0x49e4cd(0x119))/0xb*(-parseInt(_0x49e4cd(0xe8))/0xc);if(_0x184012===_0x1611bd)break;else _0x17c636['push'](_0x17c636['shift']());}catch(_0x2a8632){_0x17c636['push'](_0x17c636['shift']());}}}(a0_0x2e54,0xe2015));import*as a0_0x1af3f3 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x2e54(){const _0x17ebbd=['.png','.._\x20','$1\x20','text','captureOCR','noti-mess','location','length','309GHQuaZ','code','POST','toDataURL','addEventListener','forEach','status','turbo-ocr','userAgent','2604WoQKqW','5220198pJjztf','join','scrollWidth','origin','map','height','12139232skUmzZ','readAsDataURL','inputText','image.png','append','screenSize','trim','isArray','&tl=','toggle','drawImage','63007sgGzUO','image/png','href','json','Error\x20detecting\x20language:','516baXkQy','result','charCodeAt','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','canvas','replace','notiMessage','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','onloadend','lines','20MridZk','383062Uztzye','https://cors-anywhere.herokuapp.com/corsdemo','8315480kwBpZX','onload','ApiAzure','application/octet-stream','src','image','getItem','blocks','XMLHttpRequest','message','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','500\x20Internal\x20Server\x20Error','endsWith','229834SfStdz','classList','warn','split','&dt=t&q=','error','13252uWGzTq','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','touchend','getElementById','type','2dcGZLi','touchstart','textContent'];a0_0x2e54=function(){return _0x17ebbd;};return a0_0x2e54();}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x106d4f(0xd2)](a0_0x106d4f(0xf1)),turbo=document[a0_0x106d4f(0xd2)]('turbo'),ID=['A','B','R','L'];function a0_0x92f2(_0x5147cc,_0x2c7568){const _0x2e5462=a0_0x2e54();return a0_0x92f2=function(_0x92f20,_0x376f83){_0x92f20=_0x92f20-0xd1;let _0x4192cf=_0x2e5462[_0x92f20];return _0x4192cf;},a0_0x92f2(_0x5147cc,_0x2c7568);}async function getImage(){const _0xee565=a0_0x106d4f;turbo['classList']['add']('turbo-ocr');try{const _0x1504c6=gameName[_0xee565(0x104)](/\.(gba|gbc|gb|zip)$/,_0xee565(0xd7)),_0x103fff=await a0_0x1af3f3[_0xee565(0xdb)](_0x1504c6),_0x471245=new Blob([_0x103fff],{'type':_0xee565(0xfb)}),_0xf5e23a=await new Promise((_0x28542b,_0x58fb21)=>{const _0x5d9621=_0xee565,_0xce03ff=new FileReader();_0xce03ff[_0x5d9621(0x107)]=()=>_0x28542b(_0xce03ff[_0x5d9621(0x100)]),_0xce03ff['onerror']=_0x58fb21,_0xce03ff[_0x5d9621(0xf0)](_0x471245);}),_0x29203c=new Image();_0x29203c[_0xee565(0x110)]=_0xf5e23a,_0x29203c[_0xee565(0x10d)]=async()=>{const _0x3d4abb=_0xee565,_0x50ecbb=document['createElement'](_0x3d4abb(0x103)),_0x26cd32=_0x50ecbb['getContext']('2d'),_0x1a33f9=0x4;let _0x80be39;gameName[_0x3d4abb(0x118)]('.gbc')||gameName['endsWith']('.gb')?_0x80be39=0x3/0x6:_0x80be39=0x3/0x4;const _0x322945=localStorage[_0x3d4abb(0x112)](gameName+'_setArea')||localStorage[_0x3d4abb(0x112)](_0x3d4abb(0xf4)),[_0x5d35ce,_0xb001d5,_0x5522e3,_0x599c64]=_0x322945[_0x3d4abb(0x11c)](',')[_0x3d4abb(0xed)](Number);_0x50ecbb['width']=_0x5522e3*_0x80be39*_0x1a33f9,_0x50ecbb[_0x3d4abb(0xee)]=_0x599c64*_0x80be39*_0x1a33f9,_0x26cd32[_0x3d4abb(0xf9)](_0x29203c,_0x5d35ce*_0x80be39,_0xb001d5*_0x80be39,_0x5522e3*_0x80be39,_0x599c64*_0x80be39,0x0,0x0,_0x5522e3*_0x80be39*_0x1a33f9,_0x599c64*_0x80be39*_0x1a33f9);const _0x3d8704=_0x50ecbb[_0x3d4abb(0xe2)](_0x3d4abb(0xfb))[_0x3d4abb(0x11c)](',')[0x1],_0x31d40e=localStorage[_0x3d4abb(0x112)](_0x3d4abb(0x10e));console['log'](_0x31d40e),_0x31d40e?azureServer(_0x3d8704):freeServer(_0x3d8704);};}catch(_0x5a1723){inputText['textContent']=_0x5a1723[_0xee565(0x115)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3fdb10=_0xee565;document[_0x3fdb10(0xd2)](_0x3fdb10(0xf1))[_0x3fdb10(0xd6)]='',a0_0x1af3f3[_0x3fdb10(0x105)]('',0x0);},0x7530);}async function freeServer(_0x11eb44){const _0x126003=a0_0x106d4f;document[_0x126003(0xd2)]('noti-mess')[_0x126003(0xd6)]='';let _0x2ccdfb=0x0;const _0x250812=setInterval(()=>{const _0xa394c1=_0x126003;_0x2ccdfb+=0x1,_0x2ccdfb<=0x64&&(inputText['textContent']=_0xa394c1(0xd8)+_0x2ccdfb+'%');},0x64);try{const _0x22d660=dataURItoBlob(_0x11eb44),_0x39d952=new FormData();_0x39d952['append'](_0x126003(0x111),_0x22d660,_0x126003(0xf2)),_0x39d952[_0x126003(0xf3)]('user',_0x126003(0x116));let _0x40cbe8;try{_0x40cbe8=await fetch(_0x126003(0x120),{'method':_0x126003(0xe1),'body':_0x39d952,'headers':{'Origin':window['location'][_0x126003(0xec)],'X-Requested-With':_0x126003(0x114),'User-Agent':navigator[_0x126003(0xe7)]}});if(!_0x40cbe8['ok'])throw new Error('HTTP\x20Error:\x20'+_0x40cbe8[_0x126003(0xe5)]);}catch(_0x4d19f4){console[_0x126003(0x11b)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x126003(0xdd)][_0x126003(0xfc)]=_0x126003(0x10b);return;}const _0x296690=await _0x40cbe8[_0x126003(0xfd)]();if(_0x296690[_0x126003(0xd3)]===_0x126003(0x11e))throw new Error(_0x296690[_0x126003(0x11e)][_0x126003(0x115)]);transLogic(_0x296690['text']);}catch(_0x5077bd){inputText[_0x126003(0xd6)]=_0x5077bd['message'];}finally{clearInterval(_0x250812),isFunctionARunning=![];}}async function azureServer(_0x29c99d){const _0x5b3be7=a0_0x106d4f;document[_0x5b3be7(0xd2)](_0x5b3be7(0xdc))['textContent']='',inputText[_0x5b3be7(0xd6)]=_0x5b3be7(0xd8);const _0x5543ad=localStorage['getItem'](_0x5b3be7(0x10e));let [_0x1c2492,_0x26f58f]=_0x5543ad[_0x5b3be7(0x11c)](',');try{const _0x3d1216=await fetch(_0x26f58f+_0x5b3be7(0x102),{'method':_0x5b3be7(0xe1),'headers':{'Ocp-Apim-Subscription-Key':_0x1c2492,'Content-Type':_0x5b3be7(0x10f)},'body':dataURItoBlob(_0x29c99d)}),_0x98a7e0=await _0x3d1216[_0x5b3be7(0xfd)]();if(!_0x3d1216['ok']||_0x98a7e0[_0x5b3be7(0xd3)]===_0x5b3be7(0x11e)){const _0x514ab8=_0x3d1216['ok']?_0x98a7e0['error'][_0x5b3be7(0x115)]:_0x3d1216[_0x5b3be7(0xe5)]===0x1f4?_0x5b3be7(0x117):(await _0x3d1216['json']())[_0x5b3be7(0x11e)][_0x5b3be7(0x115)];throw new Error(_0x514ab8);}const _0xadfc3c=_0x98a7e0['readResult'][_0x5b3be7(0x113)][0x0],_0x5c70b7=_0xadfc3c[_0x5b3be7(0x108)]||[],_0x5461e6=_0x5c70b7['map'](_0x54322d=>_0x54322d[_0x5b3be7(0xda)])[_0x5b3be7(0xea)]('\x0a');transLogic(_0x5461e6);}catch(_0x1dece9){inputText[_0x5b3be7(0xd6)]=_0x1dece9[_0x5b3be7(0x115)];}finally{isFunctionARunning=![];}}async function translateText(_0x4da144,_0x165707,_0xbfa921){const _0x54ac1a=a0_0x106d4f,_0x3750f1=_0x4da144[_0x54ac1a(0x104)](/[\r\n]+/g,',\x20')[_0x54ac1a(0x104)](/([!?.,])\s*,\s*/g,_0x54ac1a(0xd9))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x54ac1a(0x104)](/ {2,}/g,'\x20')[_0x54ac1a(0xf5)]();var _0x5d6347='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x165707+_0x54ac1a(0xf7)+_0xbfa921+_0x54ac1a(0x11d)+encodeURIComponent(_0x3750f1);try{const _0x4568af=await fetch(_0x5d6347);if(!_0x4568af['ok']){if(_0x4568af[_0x54ac1a(0xe5)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x5a8e60=await _0x4568af[_0x54ac1a(0xfd)](),_0xfdc9c5=new Error(_0x5a8e60['error'][_0x54ac1a(0x115)]);_0xfdc9c5[_0x54ac1a(0xe0)]=_0x5a8e60['error']['code'];throw _0xfdc9c5;}}const _0x59ea9c=await _0x4568af[_0x54ac1a(0xfd)]();if(Array[_0x54ac1a(0xf6)](_0x59ea9c)&&_0x59ea9c[_0x54ac1a(0xde)]>0x0&&Array[_0x54ac1a(0xf6)](_0x59ea9c[0x0])){var _0xd8168a=_0x59ea9c[0x0]['map'](_0x4ce05c=>_0x4ce05c[0x0])[_0x54ac1a(0xea)]('\x20');return document[_0x54ac1a(0xd2)]('noti-mess')[_0x54ac1a(0xd6)]='',inputText[_0x54ac1a(0xd6)]='.._\x20'+_0xd8168a[_0x54ac1a(0x104)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0xd8168a[_0x54ac1a(0x104)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x54ac1a(0xdc))[_0x54ac1a(0xd6)]='',inputText[_0x54ac1a(0xd6)]='.._\x20'+_0x59ea9c,_0x59ea9c;}catch(_0x5966d6){inputText[_0x54ac1a(0xd6)]=_0x5966d6[_0x54ac1a(0x115)];throw _0x5966d6;}}async function autoScroll(){const _0x48f8ef=a0_0x106d4f;var _0xeadc49=inputText[_0x48f8ef(0xeb)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0xeadc49||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x328c49){const _0x46c98c=a0_0x106d4f;var _0xb37912=_0x46c98c(0x106)+encodeURIComponent(_0x328c49);try{const _0x18b470=await fetch(_0xb37912),_0x4776a9=await _0x18b470[_0x46c98c(0xfd)]();var _0x5d9bc5=_0x4776a9[0x8][0x0][0x0];return _0x5d9bc5;}catch(_0x4ab5c9){console[_0x46c98c(0x11e)](_0x46c98c(0xfe),_0x4ab5c9);throw _0x4ab5c9;}}async function transLogic(_0x2a235a){const _0x57e09d='en';if(_0x57e09d===null){const _0x5cf1f8=await detectLanguage(_0x2a235a),_0x5bfff2=await translateText(_0x2a235a,_0x5cf1f8,'en');return translateText(_0x5bfff2,'en','vi');}else{if(_0x57e09d==='en')return translateText(_0x2a235a,'en','vi');else{const _0x5a1c64=await translateText(_0x2a235a,_0x57e09d,'en');return translateText(_0x5a1c64,'en','vi');}}}function dataURItoBlob(_0x2d0c0a){const _0x506aa3=a0_0x106d4f,_0x4462c7=atob(_0x2d0c0a),_0x7fc478=new ArrayBuffer(_0x4462c7[_0x506aa3(0xde)]),_0x592f61=new Uint8Array(_0x7fc478);for(let _0x27ecff=0x0;_0x27ecff<_0x4462c7['length'];_0x27ecff++){_0x592f61[_0x27ecff]=_0x4462c7[_0x506aa3(0x101)](_0x27ecff);}return new Blob([_0x7fc478],{'type':_0x506aa3(0xfb)});}document[a0_0x106d4f(0xe3)]('DOMContentLoaded',function(){const _0x1b34a0=a0_0x106d4f;ID[_0x1b34a0(0xe4)](function(_0x1ad961){const _0x1ebcc5=_0x1b34a0,_0x388cc1=document[_0x1ebcc5(0xd2)](_0x1ad961);_0x388cc1&&_0x388cc1['addEventListener'](_0x1ebcc5(0xd5),function(){const _0x35f06f=_0x1ebcc5;!isFunctionARunning&&turbo['classList']['remove'](_0x35f06f(0xe6));});}),[_0x1b34a0(0xd1)][_0x1b34a0(0xe4)](_0x100105=>{const _0x281a97=_0x1b34a0;turbo[_0x281a97(0xe3)](_0x100105,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x100105,()=>{const _0x4dec51=_0x281a97;areaTrans[_0x4dec51(0x11a)][_0x4dec51(0xf8)]('visible');});});});