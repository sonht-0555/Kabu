const a0_0x51c5ea=a0_0x2a59;function a0_0x3673(){const _0x39d96d=['touchstart','charCodeAt','createElement','code','turbo-ocr','2658108FTYbBx','src','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','https://cors-anywhere.herokuapp.com/corsdemo','ApiAzure','Internal\x20Server\x20Error','location','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','Error\x20detecting\x20language:','619444xGtgJg','screenSize','238882LbBzEt','2332467vypizr','split','blocks','text','image.png','origin','replace','message','onloadend','status','toDataURL','.._\x20','endsWith','readAsDataURL','classList','604752OeUAOZ','readResult','json','map','clientWidth','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','warn','lines','error','trim','onload','21haKrKe','type','_setArea','log','POST','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','length','addEventListener','image','textContent','DOMContentLoaded','join','.png','append','image/png','result','&tl=','getItem','height','captureOCR','userAgent','500\x20Internal\x20Server\x20Error','toggle','XMLHttpRequest','getContext','visible','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','forEach','2956800WJRcfB','&dt=t&q=','246444uCBpng','inputText','drawImage','noti-mess','getElementById','scrollLeft','HTTP\x20Error:\x20','canvas','5vMWVTx','application/octet-stream'];a0_0x3673=function(){return _0x39d96d;};return a0_0x3673();}(function(_0xf36000,_0xd05c4){const _0x934c4e=a0_0x2a59,_0x65c48a=_0xf36000();while(!![]){try{const _0x1d8ce9=parseInt(_0x934c4e(0x14e))/0x1+parseInt(_0x934c4e(0x166))/0x2+parseInt(_0x934c4e(0x183))/0x3*(-parseInt(_0x934c4e(0x178))/0x4)+parseInt(_0x934c4e(0x156))/0x5*(parseInt(_0x934c4e(0x15d))/0x6)+-parseInt(_0x934c4e(0x168))/0x7+parseInt(_0x934c4e(0x14c))/0x8+parseInt(_0x934c4e(0x169))/0x9;if(_0x1d8ce9===_0xd05c4)break;else _0x65c48a['push'](_0x65c48a['shift']());}catch(_0x10e1d2){_0x65c48a['push'](_0x65c48a['shift']());}}}(a0_0x3673,0x82bd1));import*as a0_0x415067 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x51c5ea(0x152)](a0_0x51c5ea(0x14f)),turbo=document[a0_0x51c5ea(0x152)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x3f24a5=a0_0x51c5ea;turbo[_0x3f24a5(0x177)]['add'](_0x3f24a5(0x15c));try{const _0x1cf30c=gameName[_0x3f24a5(0x16f)](/\.(gba|gbc|gb|zip)$/,_0x3f24a5(0x13c)),_0x2a63aa=await a0_0x415067[_0x3f24a5(0x143)](_0x1cf30c),_0x209e52=new Blob([_0x2a63aa],{'type':'image/png'}),_0x521664=await new Promise((_0x2d82c6,_0x58e093)=>{const _0x2267df=_0x3f24a5,_0x4b7174=new FileReader();_0x4b7174[_0x2267df(0x171)]=()=>_0x2d82c6(_0x4b7174[_0x2267df(0x13f)]),_0x4b7174['onerror']=_0x58e093,_0x4b7174[_0x2267df(0x176)](_0x209e52);}),_0x828144=new Image();_0x828144[_0x3f24a5(0x15e)]=_0x521664,_0x828144[_0x3f24a5(0x182)]=async()=>{const _0x5615ca=_0x3f24a5,_0x3d07f2=document[_0x5615ca(0x15a)](_0x5615ca(0x155)),_0x5e5d69=_0x3d07f2[_0x5615ca(0x148)]('2d'),_0x135240=0x4;let _0x318b32;gameName[_0x5615ca(0x175)]('.gbc')||gameName[_0x5615ca(0x175)]('.gb')?_0x318b32=0x3/0x6:_0x318b32=0x3/0x4;const _0x30f31e=localStorage['getItem'](gameName+_0x5615ca(0x185))||localStorage['getItem'](_0x5615ca(0x167)),[_0x340cba,_0x43884d,_0x3b2b7e,_0x1c2367]=_0x30f31e[_0x5615ca(0x16a)](',')[_0x5615ca(0x17b)](Number);_0x3d07f2['width']=_0x3b2b7e*_0x318b32*_0x135240,_0x3d07f2[_0x5615ca(0x142)]=_0x1c2367*_0x318b32*_0x135240,_0x5e5d69[_0x5615ca(0x150)](_0x828144,_0x340cba*_0x318b32,_0x43884d*_0x318b32,_0x3b2b7e*_0x318b32,_0x1c2367*_0x318b32,0x0,0x0,_0x3b2b7e*_0x318b32*_0x135240,_0x1c2367*_0x318b32*_0x135240);const _0x5b851c=_0x3d07f2[_0x5615ca(0x173)](_0x5615ca(0x13e))[_0x5615ca(0x16a)](',')[0x1],_0x25d585=localStorage[_0x5615ca(0x141)](_0x5615ca(0x161));console[_0x5615ca(0x186)](_0x25d585),_0x25d585?azureServer(_0x5b851c):freeServer(_0x5b851c);};}catch(_0x3521a1){inputText[_0x3f24a5(0x139)]=_0x3521a1[_0x3f24a5(0x170)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x519722=_0x3f24a5;document[_0x519722(0x152)](_0x519722(0x14f))[_0x519722(0x139)]='',a0_0x415067['notiMessage']('',0x0);},0x7530);}async function freeServer(_0xdd2257){const _0x17288c=a0_0x51c5ea;document['getElementById']('noti-mess')[_0x17288c(0x139)]='';let _0x5aa180=0x0;const _0x3f724f=setInterval(()=>{_0x5aa180+=0x1,_0x5aa180<=0x64&&(inputText['textContent']='.._\x20'+_0x5aa180+'%');},0x64);try{const _0x2f24ad=dataURItoBlob(_0xdd2257),_0xbfad5e=new FormData();_0xbfad5e[_0x17288c(0x13d)](_0x17288c(0x18b),_0x2f24ad,_0x17288c(0x16d)),_0xbfad5e[_0x17288c(0x13d)]('user',_0x17288c(0x164));let _0x1ad597;try{_0x1ad597=await fetch(_0x17288c(0x14a),{'method':_0x17288c(0x187),'body':_0xbfad5e,'headers':{'Origin':window[_0x17288c(0x163)][_0x17288c(0x16e)],'X-Requested-With':_0x17288c(0x147),'User-Agent':navigator[_0x17288c(0x144)]}});if(!_0x1ad597['ok'])throw new Error(_0x17288c(0x154)+_0x1ad597[_0x17288c(0x172)]);}catch(_0x1556e3){console[_0x17288c(0x17e)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window['location']['href']=_0x17288c(0x160);return;}const _0x3ae145=await _0x1ad597[_0x17288c(0x17a)]();if(_0x3ae145[_0x17288c(0x184)]===_0x17288c(0x180))throw new Error(_0x3ae145[_0x17288c(0x180)][_0x17288c(0x170)]);transLogic(_0x3ae145[_0x17288c(0x16c)]);}catch(_0x2bcad9){inputText[_0x17288c(0x139)]=_0x2bcad9[_0x17288c(0x170)];}finally{clearInterval(_0x3f724f),isFunctionARunning=![];}}async function azureServer(_0xca83d0){const _0x147d98=a0_0x51c5ea;document[_0x147d98(0x152)](_0x147d98(0x151))[_0x147d98(0x139)]='',inputText[_0x147d98(0x139)]='.._\x20';const _0x13fb98=localStorage[_0x147d98(0x141)]('ApiAzure');let [_0x22d4a6,_0x3b40ea]=_0x13fb98[_0x147d98(0x16a)](',');try{const _0x55f2c4=await fetch(_0x3b40ea+_0x147d98(0x15f),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x22d4a6,'Content-Type':_0x147d98(0x157)},'body':dataURItoBlob(_0xca83d0)}),_0x2d81bc=await _0x55f2c4['json']();if(!_0x55f2c4['ok']||_0x2d81bc[_0x147d98(0x184)]===_0x147d98(0x180)){const _0xe72295=_0x55f2c4['ok']?_0x2d81bc[_0x147d98(0x180)][_0x147d98(0x170)]:_0x55f2c4[_0x147d98(0x172)]===0x1f4?_0x147d98(0x145):(await _0x55f2c4[_0x147d98(0x17a)]())[_0x147d98(0x180)][_0x147d98(0x170)];throw new Error(_0xe72295);}const _0x34ace1=_0x2d81bc[_0x147d98(0x179)][_0x147d98(0x16b)][0x0],_0x39b732=_0x34ace1[_0x147d98(0x17f)]||[],_0x55bfa1=_0x39b732[_0x147d98(0x17b)](_0x50e7ea=>_0x50e7ea['text'])[_0x147d98(0x13b)]('\x0a');transLogic(_0x55bfa1);}catch(_0x53367f){inputText[_0x147d98(0x139)]=_0x53367f['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x319d31,_0x31a67a,_0x45f3a2){const _0x518f21=a0_0x51c5ea,_0x1a1c0c=_0x319d31[_0x518f21(0x16f)](/[\r\n]+/g,',\x20')[_0x518f21(0x16f)](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x518f21(0x16f)](/ {2,}/g,'\x20')[_0x518f21(0x181)]();var _0x18c9c9=_0x518f21(0x188)+_0x31a67a+_0x518f21(0x140)+_0x45f3a2+_0x518f21(0x14d)+encodeURIComponent(_0x1a1c0c);try{const _0x598516=await fetch(_0x18c9c9);if(!_0x598516['ok']){if(_0x598516['status']===0x1f4)throw new Error(_0x518f21(0x162));else{const _0x24c888=await _0x598516[_0x518f21(0x17a)](),_0x4ef653=new Error(_0x24c888[_0x518f21(0x180)][_0x518f21(0x170)]);_0x4ef653[_0x518f21(0x15b)]=_0x24c888[_0x518f21(0x180)][_0x518f21(0x15b)];throw _0x4ef653;}}const _0x1ffd77=await _0x598516[_0x518f21(0x17a)]();if(Array['isArray'](_0x1ffd77)&&_0x1ffd77[_0x518f21(0x189)]>0x0&&Array['isArray'](_0x1ffd77[0x0])){var _0x56a413=_0x1ffd77[0x0][_0x518f21(0x17b)](_0x23d646=>_0x23d646[0x0])['join']('\x20');return document[_0x518f21(0x152)](_0x518f21(0x151))[_0x518f21(0x139)]='',inputText['textContent']=_0x518f21(0x174)+_0x56a413[_0x518f21(0x16f)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x56a413[_0x518f21(0x16f)](/ {2,}/g,'\x20');}else return document[_0x518f21(0x152)]('noti-mess')[_0x518f21(0x139)]='',inputText[_0x518f21(0x139)]=_0x518f21(0x174)+_0x1ffd77,_0x1ffd77;}catch(_0x1de67d){inputText[_0x518f21(0x139)]=_0x1de67d[_0x518f21(0x170)];throw _0x1de67d;}}async function autoScroll(){const _0x5a0674=a0_0x51c5ea;var _0x4834e9=inputText['scrollWidth']-inputText[_0x5a0674(0x17c)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x4834e9||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x5a0674(0x153)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x2cf437){const _0x42743d=a0_0x51c5ea;var _0x2afa96=_0x42743d(0x17d)+encodeURIComponent(_0x2cf437);try{const _0x2daebf=await fetch(_0x2afa96),_0x452bf9=await _0x2daebf[_0x42743d(0x17a)]();var _0x20aa7e=_0x452bf9[0x8][0x0][0x0];return _0x20aa7e;}catch(_0x396180){console[_0x42743d(0x180)](_0x42743d(0x165),_0x396180);throw _0x396180;}}function a0_0x2a59(_0x1ecaa5,_0x2fcd6e){const _0x36739=a0_0x3673();return a0_0x2a59=function(_0x2a59d3,_0x23b780){_0x2a59d3=_0x2a59d3-0x139;let _0x30e9ef=_0x36739[_0x2a59d3];return _0x30e9ef;},a0_0x2a59(_0x1ecaa5,_0x2fcd6e);}async function transLogic(_0x1cf7fa){const _0x1d62b3='en';if(_0x1d62b3===null){const _0x54a7ad=await detectLanguage(_0x1cf7fa),_0x3f9206=await translateText(_0x1cf7fa,_0x54a7ad,'en');return translateText(_0x3f9206,'en','vi');}else{if(_0x1d62b3==='en')return translateText(_0x1cf7fa,'en','vi');else{const _0x304f5d=await translateText(_0x1cf7fa,_0x1d62b3,'en');return translateText(_0x304f5d,'en','vi');}}}function dataURItoBlob(_0x3d5afe){const _0x447de8=a0_0x51c5ea,_0x44d1e2=atob(_0x3d5afe),_0x29f118=new ArrayBuffer(_0x44d1e2['length']),_0x31789a=new Uint8Array(_0x29f118);for(let _0x4b2b9b=0x0;_0x4b2b9b<_0x44d1e2['length'];_0x4b2b9b++){_0x31789a[_0x4b2b9b]=_0x44d1e2[_0x447de8(0x159)](_0x4b2b9b);}return new Blob([_0x29f118],{'type':'image/png'});}document['addEventListener'](a0_0x51c5ea(0x13a),function(){const _0x346003=a0_0x51c5ea;ID[_0x346003(0x14b)](function(_0x394312){const _0x332a18=_0x346003,_0x9f9e6d=document[_0x332a18(0x152)](_0x394312);_0x9f9e6d&&_0x9f9e6d['addEventListener'](_0x332a18(0x158),function(){const _0x5ac3aa=_0x332a18;!isFunctionARunning&&turbo[_0x5ac3aa(0x177)]['remove']('turbo-ocr');});}),['touchend'][_0x346003(0x14b)](_0x2478e7=>{const _0x5dc921=_0x346003;turbo['addEventListener'](_0x2478e7,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x5dc921(0x18a)](_0x2478e7,()=>{const _0xbd1035=_0x5dc921;areaTrans['classList'][_0xbd1035(0x146)](_0xbd1035(0x149));});});});