const a0_0x5ca907=a0_0x284a;(function(_0x585d2e,_0x278cf9){const _0xa4a71f=a0_0x284a,_0x3168e9=_0x585d2e();while(!![]){try{const _0x3d4861=parseInt(_0xa4a71f(0x1a2))/0x1+parseInt(_0xa4a71f(0x1e1))/0x2+-parseInt(_0xa4a71f(0x1d0))/0x3+-parseInt(_0xa4a71f(0x1bc))/0x4*(parseInt(_0xa4a71f(0x1c5))/0x5)+-parseInt(_0xa4a71f(0x1da))/0x6*(parseInt(_0xa4a71f(0x1b0))/0x7)+parseInt(_0xa4a71f(0x1df))/0x8+parseInt(_0xa4a71f(0x1a3))/0x9;if(_0x3d4861===_0x278cf9)break;else _0x3168e9['push'](_0x3168e9['shift']());}catch(_0x141406){_0x3168e9['push'](_0x3168e9['shift']());}}}(a0_0x36dd,0x8be1f));import*as a0_0x13b1f0 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x5ca907(0x198)](a0_0x5ca907(0x1af)),turbo=document[a0_0x5ca907(0x198)](a0_0x5ca907(0x1b2)),ID=['A','B','R','L'];function a0_0x284a(_0x1efe49,_0x4e6d23){const _0x36dda9=a0_0x36dd();return a0_0x284a=function(_0x284aa2,_0x233cec){_0x284aa2=_0x284aa2-0x197;let _0x279508=_0x36dda9[_0x284aa2];return _0x279508;},a0_0x284a(_0x1efe49,_0x4e6d23);}async function getImage(){const _0x49c8a7=a0_0x5ca907;turbo[_0x49c8a7(0x1e4)][_0x49c8a7(0x1ad)](_0x49c8a7(0x1a6));try{const _0x285bbd=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x49c8a7(0x19c)),_0x571bfa=await a0_0x13b1f0[_0x49c8a7(0x1b3)](_0x285bbd),_0x3744bc=new Blob([_0x571bfa],{'type':_0x49c8a7(0x1e2)}),_0x21798d=await new Promise((_0x6c61ce,_0x155225)=>{const _0x4a406d=_0x49c8a7,_0x3fbeb9=new FileReader();_0x3fbeb9['onloadend']=()=>_0x6c61ce(_0x3fbeb9['result']),_0x3fbeb9['onerror']=_0x155225,_0x3fbeb9[_0x4a406d(0x1b4)](_0x3744bc);}),_0x3799fa=new Image();_0x3799fa[_0x49c8a7(0x1c7)]=_0x21798d,_0x3799fa[_0x49c8a7(0x1c3)]=async()=>{const _0x2dc6c1=_0x49c8a7,_0x37efcb=document[_0x2dc6c1(0x1ac)]('canvas'),_0x551495=_0x37efcb[_0x2dc6c1(0x1b8)]('2d'),_0x198e02=0x4;let _0x265aa;gameName[_0x2dc6c1(0x1d3)](_0x2dc6c1(0x1d4))||gameName[_0x2dc6c1(0x1d3)](_0x2dc6c1(0x1d2))?_0x265aa=0x3/0x6:_0x265aa=0x3/0x4;const _0x27ec5b=localStorage['getItem'](gameName+_0x2dc6c1(0x1ba))||localStorage[_0x2dc6c1(0x1ce)](_0x2dc6c1(0x1a4)),[_0x5484e8,_0xb84934,_0x588762,_0xd13fe5]=_0x27ec5b[_0x2dc6c1(0x1ab)](',')['map'](Number);_0x37efcb[_0x2dc6c1(0x1d8)]=_0x588762*_0x265aa*_0x198e02,_0x37efcb[_0x2dc6c1(0x1dc)]=_0xd13fe5*_0x265aa*_0x198e02,_0x551495['drawImage'](_0x3799fa,_0x5484e8*_0x265aa,_0xb84934*_0x265aa,_0x588762*_0x265aa,_0xd13fe5*_0x265aa,0x0,0x0,_0x588762*_0x265aa*_0x198e02,_0xd13fe5*_0x265aa*_0x198e02);const _0x39b2b4=_0x37efcb[_0x2dc6c1(0x1c6)]('image/png')[_0x2dc6c1(0x1ab)](',')[0x1],_0x53b697=localStorage[_0x2dc6c1(0x1ce)](_0x2dc6c1(0x19d));console[_0x2dc6c1(0x1c8)](_0x53b697),_0x53b697?azureServer(_0x39b2b4):freeServer(_0x39b2b4);};}catch(_0x3cbf33){inputText[_0x49c8a7(0x1c2)]=_0x3cbf33[_0x49c8a7(0x1c4)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x4e3b93=_0x49c8a7;document[_0x4e3b93(0x198)]('inputText')[_0x4e3b93(0x1c2)]='',a0_0x13b1f0['notiMessage']('',0x0);},0x7530);}async function freeServer(_0xf09bb4){const _0x3950cf=a0_0x5ca907;document[_0x3950cf(0x198)](_0x3950cf(0x19e))[_0x3950cf(0x1c2)]='';let _0x3a7c69=0x0;const _0x3ba29d=setInterval(()=>{const _0x3def2d=_0x3950cf;_0x3a7c69+=0x1,_0x3a7c69<=0x64&&(inputText[_0x3def2d(0x1c2)]=_0x3def2d(0x1bb)+_0x3a7c69+'%');},0x64);try{const _0x22ff47=dataURItoBlob(_0xf09bb4),_0x2a5b38=new FormData();_0x2a5b38['append'](_0x3950cf(0x1e3),_0x22ff47,_0x3950cf(0x1ae)),_0x2a5b38[_0x3950cf(0x1a9)](_0x3950cf(0x1b6),_0x3950cf(0x1a7));let _0x2cb271;try{_0x2cb271=await fetch(_0x3950cf(0x197),{'method':'POST','body':_0x2a5b38,'headers':{'Origin':window[_0x3950cf(0x1e0)][_0x3950cf(0x1b5)],'X-Requested-With':_0x3950cf(0x199),'User-Agent':navigator[_0x3950cf(0x1a8)]}});if(!_0x2cb271['ok'])throw new Error('HTTP\x20Error:\x20'+_0x2cb271[_0x3950cf(0x19f)]);}catch(_0x5a7e15){console['warn']('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x3950cf(0x1e0)][_0x3950cf(0x1bf)]=_0x3950cf(0x1b1);return;}const _0x1eedf4=await _0x2cb271[_0x3950cf(0x1d5)]();if(_0x1eedf4['type']===_0x3950cf(0x1c9))throw new Error(_0x1eedf4['error'][_0x3950cf(0x1c4)]);transLogic(_0x1eedf4['text']);}catch(_0x5e4317){inputText[_0x3950cf(0x1c2)]=_0x5e4317[_0x3950cf(0x1c4)];}finally{clearInterval(_0x3ba29d),isFunctionARunning=![];}}async function azureServer(_0x10d7c6){const _0x4b2a22=a0_0x5ca907;document['getElementById']('noti-mess')[_0x4b2a22(0x1c2)]='',inputText[_0x4b2a22(0x1c2)]=_0x4b2a22(0x1bb);const _0x548c49=localStorage[_0x4b2a22(0x1ce)]('ApiAzure');let [_0x3d30ec,_0x27c768]=_0x548c49[_0x4b2a22(0x1ab)](',');try{const _0x511da1=await fetch(_0x27c768+_0x4b2a22(0x1a5),{'method':_0x4b2a22(0x1be),'headers':{'Ocp-Apim-Subscription-Key':_0x3d30ec,'Content-Type':_0x4b2a22(0x1cd)},'body':dataURItoBlob(_0x10d7c6)}),_0x5b0320=await _0x511da1[_0x4b2a22(0x1d5)]();if(!_0x511da1['ok']||_0x5b0320[_0x4b2a22(0x1db)]===_0x4b2a22(0x1c9)){const _0x5b6c40=_0x511da1['ok']?_0x5b0320[_0x4b2a22(0x1c9)]['message']:_0x511da1[_0x4b2a22(0x19f)]===0x1f4?_0x4b2a22(0x1de):(await _0x511da1[_0x4b2a22(0x1d5)]())[_0x4b2a22(0x1c9)][_0x4b2a22(0x1c4)];throw new Error(_0x5b6c40);}const _0x38f178=_0x5b0320[_0x4b2a22(0x1cf)][_0x4b2a22(0x1e6)][0x0],_0x4023ce=_0x38f178[_0x4b2a22(0x1d9)]||[],_0x1d1d8b=_0x4023ce[_0x4b2a22(0x1a1)](_0x2f2a4b=>_0x2f2a4b[_0x4b2a22(0x1d7)])[_0x4b2a22(0x1b9)]('\x0a');transLogic(_0x1d1d8b);}catch(_0x4e21e0){inputText[_0x4b2a22(0x1c2)]=_0x4e21e0[_0x4b2a22(0x1c4)];}finally{isFunctionARunning=![];}}async function translateText(_0x219c47,_0x11808c,_0x3b8870){const _0x520f04=a0_0x5ca907,_0x33f4f0=_0x219c47[_0x520f04(0x1c1)](/[\r\n]+/g,',\x20')[_0x520f04(0x1c1)](/([!?.,])\s*,\s*/g,_0x520f04(0x1a0))[_0x520f04(0x1c1)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x520f04(0x1c1)](/ {2,}/g,'\x20')[_0x520f04(0x19b)]();var _0xf640c2='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x11808c+_0x520f04(0x1b7)+_0x3b8870+_0x520f04(0x1c0)+encodeURIComponent(_0x33f4f0);try{const _0x4aa3ca=await fetch(_0xf640c2);if(!_0x4aa3ca['ok']){if(_0x4aa3ca[_0x520f04(0x19f)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x321d5b=await _0x4aa3ca[_0x520f04(0x1d5)](),_0x46621c=new Error(_0x321d5b[_0x520f04(0x1c9)][_0x520f04(0x1c4)]);_0x46621c[_0x520f04(0x1e5)]=_0x321d5b[_0x520f04(0x1c9)][_0x520f04(0x1e5)];throw _0x46621c;}}const _0x23d6b6=await _0x4aa3ca[_0x520f04(0x1d5)]();if(Array[_0x520f04(0x1d1)](_0x23d6b6)&&_0x23d6b6[_0x520f04(0x1cc)]>0x0&&Array[_0x520f04(0x1d1)](_0x23d6b6[0x0])){var _0x7fed82=_0x23d6b6[0x0][_0x520f04(0x1a1)](_0x171a2a=>_0x171a2a[0x0])[_0x520f04(0x1b9)]('\x20');return document[_0x520f04(0x198)]('noti-mess')['textContent']='',inputText[_0x520f04(0x1c2)]=_0x520f04(0x1bb)+_0x7fed82['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x7fed82[_0x520f04(0x1c1)](/ {2,}/g,'\x20');}else return document[_0x520f04(0x198)](_0x520f04(0x19e))[_0x520f04(0x1c2)]='',inputText[_0x520f04(0x1c2)]='.._\x20'+_0x23d6b6,_0x23d6b6;}catch(_0x338de2){inputText[_0x520f04(0x1c2)]=_0x338de2['message'];throw _0x338de2;}}async function autoScroll(){const _0x1eadb1=a0_0x5ca907;var _0x2405db=inputText['scrollWidth']-inputText[_0x1eadb1(0x1ca)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2405db||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1bbbb4){const _0x150c71=a0_0x5ca907;var _0x2ac8d2='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x1bbbb4);try{const _0x95891d=await fetch(_0x2ac8d2),_0x16bca5=await _0x95891d['json']();var _0x1bebf8=_0x16bca5[0x8][0x0][0x0];return _0x1bebf8;}catch(_0x2d2577){console['error'](_0x150c71(0x1aa),_0x2d2577);throw _0x2d2577;}}function a0_0x36dd(){const _0x476593=['imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','turbo-ocr','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','userAgent','append','Error\x20detecting\x20language:','split','createElement','add','image.png','inputText','217eMhwnX','https://cors-anywhere.herokuapp.com/corsdemo','turbo','captureOCR','readAsDataURL','origin','user','&tl=','getContext','join','_setArea','.._\x20','2863772yIGogL','charCodeAt','POST','href','&dt=t&q=','replace','textContent','onload','message','5WVYmsr','toDataURL','src','log','error','clientWidth','remove','length','application/octet-stream','getItem','readResult','861657ZpDsbE','isArray','.gb','endsWith','.gbc','json','touchstart','text','width','lines','185358jACMsT','type','height','DOMContentLoaded','500\x20Internal\x20Server\x20Error','1621008LoMByA','location','167472wfrxwa','image/png','image','classList','code','blocks','addEventListener','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','getElementById','XMLHttpRequest','forEach','trim','.png','ApiAzure','noti-mess','status','$1\x20','map','1034616lZfywE','10915434oevtCS','screenSize'];a0_0x36dd=function(){return _0x476593;};return a0_0x36dd();}async function transLogic(_0xd6b013){const _0xff0157='en';if(_0xff0157===null){const _0x96b993=await detectLanguage(_0xd6b013),_0x348169=await translateText(_0xd6b013,_0x96b993,'en');return translateText(_0x348169,'en','vi');}else{if(_0xff0157==='en')return translateText(_0xd6b013,'en','vi');else{const _0x393cf0=await translateText(_0xd6b013,_0xff0157,'en');return translateText(_0x393cf0,'en','vi');}}}function dataURItoBlob(_0x318aec){const _0x48ab9f=a0_0x5ca907,_0x38cbca=atob(_0x318aec),_0x2fc598=new ArrayBuffer(_0x38cbca[_0x48ab9f(0x1cc)]),_0x5c9103=new Uint8Array(_0x2fc598);for(let _0x3aff3b=0x0;_0x3aff3b<_0x38cbca['length'];_0x3aff3b++){_0x5c9103[_0x3aff3b]=_0x38cbca[_0x48ab9f(0x1bd)](_0x3aff3b);}return new Blob([_0x2fc598],{'type':'image/png'});}document['addEventListener'](a0_0x5ca907(0x1dd),function(){const _0x159667=a0_0x5ca907;ID[_0x159667(0x19a)](function(_0x35ef04){const _0x4e719f=_0x159667,_0x4d273a=document[_0x4e719f(0x198)](_0x35ef04);_0x4d273a&&_0x4d273a[_0x4e719f(0x1e7)](_0x4e719f(0x1d6),function(){const _0x5277e3=_0x4e719f;!isFunctionARunning&&turbo[_0x5277e3(0x1e4)][_0x5277e3(0x1cb)](_0x5277e3(0x1a6));});}),['touchend'][_0x159667(0x19a)](_0x46b338=>{const _0x2e7b49=_0x159667;turbo[_0x2e7b49(0x1e7)](_0x46b338,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x46b338,()=>{const _0x3f8b6d=_0x2e7b49;areaTrans[_0x3f8b6d(0x1e4)]['toggle']('visible');});});});