const a0_0xe6a691=a0_0x171d;(function(_0x31ed3f,_0x28ef4e){const _0x149a98=a0_0x171d,_0x15b078=_0x31ed3f();while(!![]){try{const _0x203206=-parseInt(_0x149a98(0x1fc))/0x1+-parseInt(_0x149a98(0x207))/0x2+parseInt(_0x149a98(0x1f1))/0x3+parseInt(_0x149a98(0x1c4))/0x4*(-parseInt(_0x149a98(0x1f2))/0x5)+parseInt(_0x149a98(0x1de))/0x6*(parseInt(_0x149a98(0x1f4))/0x7)+-parseInt(_0x149a98(0x1d4))/0x8+parseInt(_0x149a98(0x1cc))/0x9;if(_0x203206===_0x28ef4e)break;else _0x15b078['push'](_0x15b078['shift']());}catch(_0xda27a6){_0x15b078['push'](_0x15b078['shift']());}}}(a0_0x2787,0x5d5f1));import*as a0_0x252199 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0xe6a691(0x1dd)),turbo=document[a0_0xe6a691(0x1e8)](a0_0xe6a691(0x208)),ID=['A','B','R','L'];async function getImage(){const _0x616fdb=a0_0xe6a691;turbo['classList'][_0x616fdb(0x1e5)]('turbo-ocr');try{const _0x5cc98e=gameName[_0x616fdb(0x1ea)](/\.(gba|gbc|gb|zip)$/,_0x616fdb(0x1f6)),_0x169255=await a0_0x252199[_0x616fdb(0x1c1)](_0x5cc98e),_0x32d6e1=new Blob([_0x169255],{'type':_0x616fdb(0x1cb)}),_0x5c32c0=await new Promise((_0x4c1ec6,_0x5b4bee)=>{const _0x145e28=_0x616fdb,_0xb63852=new FileReader();_0xb63852['onloadend']=()=>_0x4c1ec6(_0xb63852[_0x145e28(0x1fb)]),_0xb63852[_0x145e28(0x202)]=_0x5b4bee,_0xb63852[_0x145e28(0x1da)](_0x32d6e1);}),_0x2c4b81=new Image();_0x2c4b81['src']=_0x5c32c0,_0x2c4b81[_0x616fdb(0x212)]=async()=>{const _0x48373d=_0x616fdb,_0x2fd9d2=document[_0x48373d(0x1fd)](_0x48373d(0x1e9)),_0x2316bc=_0x2fd9d2[_0x48373d(0x1e7)]('2d'),_0x4704c1=0x4;let _0x24995b;gameName[_0x48373d(0x1eb)](_0x48373d(0x1c3))||gameName[_0x48373d(0x1eb)]('.gb')?_0x24995b=0x3/0x6:_0x24995b=0x3/0x4;const _0x3522bb=localStorage[_0x48373d(0x1d7)](gameName+_0x48373d(0x210))||localStorage['getItem']('screenSize'),[_0x93cd46,_0x1562d7,_0x3a1329,_0x3545bb]=_0x3522bb['split'](',')[_0x48373d(0x20a)](Number);_0x2fd9d2[_0x48373d(0x1c5)]=_0x3a1329*_0x24995b*_0x4704c1,_0x2fd9d2['height']=_0x3545bb*_0x24995b*_0x4704c1,_0x2316bc['drawImage'](_0x2c4b81,_0x93cd46*_0x24995b,_0x1562d7*_0x24995b,_0x3a1329*_0x24995b,_0x3545bb*_0x24995b,0x0,0x0,_0x3a1329*_0x24995b*_0x4704c1,_0x3545bb*_0x24995b*_0x4704c1);const _0x3f0082=_0x2fd9d2['toDataURL']('image/png')['split'](',')[0x1],_0x3b38a7=localStorage[_0x48373d(0x1d7)]('ApiAzure');console['log'](_0x3b38a7),_0x3b38a7?azureServer(_0x3f0082):freeServer(_0x3f0082);};}catch(_0x1d3bf6){inputText[_0x616fdb(0x201)]=_0x1d3bf6[_0x616fdb(0x1f3)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x42f212=_0x616fdb;document[_0x42f212(0x1e8)](_0x42f212(0x1dd))[_0x42f212(0x201)]='',a0_0x252199[_0x42f212(0x1d0)]('',0x0);},0x7530);}function a0_0x2787(){const _0x565457=['turbo','visible','map','join','$1\x20','text','user','scrollLeft','_setArea','touchstart','onload','status','captureOCR','forEach','.gbc','1108628LzVArH','width','image','application/octet-stream','HTTP\x20Error:\x20','blocks','https://cors-anywhere.herokuapp.com/corsdemo','image/png','3689604LTpzcf','readResult','isArray','code','notiMessage','noti-mess','POST','turbo-ocr','1075408scydAa','href','trim','getItem','touchend','scrollWidth','readAsDataURL','warn','classList','inputText','6wZBGxz','.._\x20','charCodeAt','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','userAgent','remove','add','500\x20Internal\x20Server\x20Error','getContext','getElementById','canvas','replace','endsWith','&dt=t&q=','json','addEventListener','split','XMLHttpRequest','1873848DOCIhO','5OyjXwY','message','3662365SAmFKO','DOMContentLoaded','.png','Cors-controlers\x20have\x20not\x20been\x20activated.','lines','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','type','result','557987LOdHCw','createElement','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','error','clientWidth','textContent','onerror','length','image.png','Internal\x20Server\x20Error','location','411496xCEWdT'];a0_0x2787=function(){return _0x565457;};return a0_0x2787();}async function freeServer(_0x5b8be3){const _0x50d195=a0_0xe6a691;document[_0x50d195(0x1e8)](_0x50d195(0x1d1))[_0x50d195(0x201)]='';let _0x2f1a5a=0x0;const _0x5c8423=setInterval(()=>{const _0x272b64=_0x50d195;_0x2f1a5a+=0x1,_0x2f1a5a<=0x64&&(inputText[_0x272b64(0x201)]='.._\x20'+_0x2f1a5a+'%');},0x64);try{const _0x4ee032=dataURItoBlob(_0x5b8be3),_0x21eb65=new FormData();_0x21eb65['append'](_0x50d195(0x1c6),_0x4ee032,_0x50d195(0x204)),_0x21eb65['append'](_0x50d195(0x20e),_0x50d195(0x1e2));let _0x16e4a6;try{_0x16e4a6=await fetch(_0x50d195(0x1f9),{'method':_0x50d195(0x1d2),'body':_0x21eb65,'headers':{'Origin':window['location']['origin'],'X-Requested-With':_0x50d195(0x1f0),'User-Agent':navigator[_0x50d195(0x1e3)]}});if(!_0x16e4a6['ok'])throw new Error(_0x50d195(0x1c8)+_0x16e4a6[_0x50d195(0x1c0)]);}catch(_0x3ca5bb){console[_0x50d195(0x1db)](_0x50d195(0x1f7)),window[_0x50d195(0x206)][_0x50d195(0x1d5)]=_0x50d195(0x1ca);return;}const _0x415dde=await _0x16e4a6['json']();if(_0x415dde[_0x50d195(0x1fa)]==='error')throw new Error(_0x415dde['error'][_0x50d195(0x1f3)]);transLogic(_0x415dde[_0x50d195(0x20d)]);}catch(_0x5007ce){inputText[_0x50d195(0x201)]=_0x5007ce[_0x50d195(0x1f3)];}finally{clearInterval(_0x5c8423),isFunctionARunning=![];}}async function azureServer(_0xa33085){const _0x58dfac=a0_0xe6a691;document[_0x58dfac(0x1e8)](_0x58dfac(0x1d1))['textContent']='',inputText[_0x58dfac(0x201)]=_0x58dfac(0x1df);const _0x16c53a=localStorage['getItem']('ApiAzure');let [_0x16cf7c,_0x5b3608]=_0x16c53a[_0x58dfac(0x1ef)](',');try{const _0x3983ed=await fetch(_0x5b3608+_0x58dfac(0x1e1),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x16cf7c,'Content-Type':_0x58dfac(0x1c7)},'body':dataURItoBlob(_0xa33085)}),_0x39a43a=await _0x3983ed[_0x58dfac(0x1ed)]();if(!_0x3983ed['ok']||_0x39a43a[_0x58dfac(0x1fa)]==='error'){const _0x568987=_0x3983ed['ok']?_0x39a43a[_0x58dfac(0x1ff)][_0x58dfac(0x1f3)]:_0x3983ed['status']===0x1f4?_0x58dfac(0x1e6):(await _0x3983ed[_0x58dfac(0x1ed)]())[_0x58dfac(0x1ff)][_0x58dfac(0x1f3)];throw new Error(_0x568987);}const _0x14f93b=_0x39a43a[_0x58dfac(0x1cd)][_0x58dfac(0x1c9)][0x0],_0x1d1b3b=_0x14f93b[_0x58dfac(0x1f8)]||[],_0x54ea22=_0x1d1b3b[_0x58dfac(0x20a)](_0x24cb68=>_0x24cb68[_0x58dfac(0x20d)])['join']('\x0a');transLogic(_0x54ea22);}catch(_0x250c59){inputText[_0x58dfac(0x201)]=_0x250c59[_0x58dfac(0x1f3)];}finally{isFunctionARunning=![];}}function a0_0x171d(_0x94d2b4,_0xe9e144){const _0x27874a=a0_0x2787();return a0_0x171d=function(_0x171d63,_0x1551b8){_0x171d63=_0x171d63-0x1c0;let _0x5cb846=_0x27874a[_0x171d63];return _0x5cb846;},a0_0x171d(_0x94d2b4,_0xe9e144);}async function translateText(_0x777b4e,_0x4ccdf0,_0x4252eb){const _0x3be020=a0_0xe6a691,_0x16a880=_0x777b4e[_0x3be020(0x1ea)](/[\r\n]+/g,',\x20')[_0x3be020(0x1ea)](/([!?.,])\s*,\s*/g,_0x3be020(0x20c))[_0x3be020(0x1ea)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x3be020(0x1ea)](/ {2,}/g,'\x20')[_0x3be020(0x1d6)]();var _0x11deae='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x4ccdf0+'&tl='+_0x4252eb+_0x3be020(0x1ec)+encodeURIComponent(_0x16a880);try{const _0x335773=await fetch(_0x11deae);if(!_0x335773['ok']){if(_0x335773[_0x3be020(0x1c0)]===0x1f4)throw new Error(_0x3be020(0x205));else{const _0x51a9d1=await _0x335773['json'](),_0x3d5ede=new Error(_0x51a9d1[_0x3be020(0x1ff)]['message']);_0x3d5ede[_0x3be020(0x1cf)]=_0x51a9d1['error'][_0x3be020(0x1cf)];throw _0x3d5ede;}}const _0x59dde4=await _0x335773['json']();if(Array[_0x3be020(0x1ce)](_0x59dde4)&&_0x59dde4[_0x3be020(0x203)]>0x0&&Array[_0x3be020(0x1ce)](_0x59dde4[0x0])){var _0x24c479=_0x59dde4[0x0][_0x3be020(0x20a)](_0x2feedc=>_0x2feedc[0x0])[_0x3be020(0x20b)]('\x20');return document['getElementById'](_0x3be020(0x1d1))[_0x3be020(0x201)]='',inputText[_0x3be020(0x201)]=_0x3be020(0x1df)+_0x24c479['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x24c479[_0x3be020(0x1ea)](/ {2,}/g,'\x20');}else return document[_0x3be020(0x1e8)]('noti-mess')[_0x3be020(0x201)]='',inputText[_0x3be020(0x201)]=_0x3be020(0x1df)+_0x59dde4,_0x59dde4;}catch(_0x26113c){inputText[_0x3be020(0x201)]=_0x26113c[_0x3be020(0x1f3)];throw _0x26113c;}}async function autoScroll(){const _0x1081b9=a0_0xe6a691;var _0x40c3d1=inputText[_0x1081b9(0x1d9)]-inputText[_0x1081b9(0x200)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x40c3d1||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x1081b9(0x20f)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x548ae1){const _0x369bd7=a0_0xe6a691;var _0x2bc427=_0x369bd7(0x1fe)+encodeURIComponent(_0x548ae1);try{const _0x4756bf=await fetch(_0x2bc427),_0x1f722e=await _0x4756bf[_0x369bd7(0x1ed)]();var _0x3b85ae=_0x1f722e[0x8][0x0][0x0];return _0x3b85ae;}catch(_0x3f39aa){console[_0x369bd7(0x1ff)]('Error\x20detecting\x20language:',_0x3f39aa);throw _0x3f39aa;}}async function transLogic(_0x23e10b){const _0x3d36f1='en';if(_0x3d36f1===null){const _0x37ceb9=await detectLanguage(_0x23e10b),_0x53971f=await translateText(_0x23e10b,_0x37ceb9,'en');return translateText(_0x53971f,'en','vi');}else{if(_0x3d36f1==='en')return translateText(_0x23e10b,'en','vi');else{const _0x359188=await translateText(_0x23e10b,_0x3d36f1,'en');return translateText(_0x359188,'en','vi');}}}function dataURItoBlob(_0x3ab5d4){const _0x4b02ce=a0_0xe6a691,_0x11a174=atob(_0x3ab5d4),_0x301575=new ArrayBuffer(_0x11a174[_0x4b02ce(0x203)]),_0x22e6da=new Uint8Array(_0x301575);for(let _0x4e7830=0x0;_0x4e7830<_0x11a174[_0x4b02ce(0x203)];_0x4e7830++){_0x22e6da[_0x4e7830]=_0x11a174[_0x4b02ce(0x1e0)](_0x4e7830);}return new Blob([_0x301575],{'type':'image/png'});}document[a0_0xe6a691(0x1ee)](a0_0xe6a691(0x1f5),function(){const _0x2d7f55=a0_0xe6a691;ID[_0x2d7f55(0x1c2)](function(_0x267c7b){const _0x44ae6b=_0x2d7f55,_0x4e1017=document[_0x44ae6b(0x1e8)](_0x267c7b);_0x4e1017&&_0x4e1017[_0x44ae6b(0x1ee)](_0x44ae6b(0x211),function(){const _0x2c4170=_0x44ae6b;!isFunctionARunning&&turbo[_0x2c4170(0x1dc)][_0x2c4170(0x1e4)](_0x2c4170(0x1d3));});}),[_0x2d7f55(0x1d8)][_0x2d7f55(0x1c2)](_0x3d7d93=>{const _0x32fc7f=_0x2d7f55;turbo[_0x32fc7f(0x1ee)](_0x3d7d93,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x32fc7f(0x1ee)](_0x3d7d93,()=>{const _0x2e3be7=_0x32fc7f;areaTrans[_0x2e3be7(0x1dc)]['toggle'](_0x2e3be7(0x209));});});});