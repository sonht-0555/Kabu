const a0_0x101bc0=a0_0x4b80;(function(_0x45bc43,_0x39c572){const _0x33d8c0=a0_0x4b80,_0x8f942f=_0x45bc43();while(!![]){try{const _0x465a99=parseInt(_0x33d8c0(0x122))/0x1*(-parseInt(_0x33d8c0(0xdb))/0x2)+-parseInt(_0x33d8c0(0x107))/0x3*(-parseInt(_0x33d8c0(0x11a))/0x4)+-parseInt(_0x33d8c0(0x119))/0x5*(-parseInt(_0x33d8c0(0xce))/0x6)+parseInt(_0x33d8c0(0xfa))/0x7+-parseInt(_0x33d8c0(0x117))/0x8+parseInt(_0x33d8c0(0xef))/0x9+-parseInt(_0x33d8c0(0xf1))/0xa;if(_0x465a99===_0x39c572)break;else _0x8f942f['push'](_0x8f942f['shift']());}catch(_0x2557ae){_0x8f942f['push'](_0x8f942f['shift']());}}}(a0_0x5edd,0x59c19));import*as a0_0x47d932 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById']('inputText'),turbo=document[a0_0x101bc0(0x104)](a0_0x101bc0(0x106)),ID=['A','B','R','L'];async function getImage(){const _0x561ea0=a0_0x101bc0;turbo[_0x561ea0(0x102)][_0x561ea0(0xec)]('turbo-ocr');try{const _0xd3f484=gameName[_0x561ea0(0xe1)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x331932=await a0_0x47d932[_0x561ea0(0xcc)](_0xd3f484),_0x2a9925=new Blob([_0x331932],{'type':'image/png'}),_0x1078b3=await new Promise((_0x33408f,_0x5d132f)=>{const _0x5ca652=_0x561ea0,_0x529720=new FileReader();_0x529720[_0x5ca652(0xd8)]=()=>_0x33408f(_0x529720['result']),_0x529720[_0x5ca652(0x11c)]=_0x5d132f,_0x529720[_0x5ca652(0x11d)](_0x2a9925);}),_0x245491=new Image();_0x245491[_0x561ea0(0xd7)]=_0x1078b3,_0x245491[_0x561ea0(0xd4)]=async()=>{const _0x507fa3=_0x561ea0,_0x387580=document[_0x507fa3(0xcb)]('canvas'),_0x1da307=_0x387580['getContext']('2d'),_0x4cdedf=0x4;let _0x40bf2b;gameName[_0x507fa3(0x120)]('.gbc')||gameName['endsWith'](_0x507fa3(0xf0))?_0x40bf2b=0x3/0x6:_0x40bf2b=0x3/0x4;const _0x49b722=localStorage[_0x507fa3(0x110)](gameName+_0x507fa3(0x10d))||localStorage[_0x507fa3(0x110)](_0x507fa3(0x10f)),[_0x1aee00,_0x204ef1,_0xcb0bd1,_0x560eee]=_0x49b722['split'](',')['map'](Number);_0x387580[_0x507fa3(0xdc)]=_0xcb0bd1*_0x40bf2b*_0x4cdedf,_0x387580[_0x507fa3(0x114)]=_0x560eee*_0x40bf2b*_0x4cdedf,_0x1da307[_0x507fa3(0xfc)](_0x245491,_0x1aee00*_0x40bf2b,_0x204ef1*_0x40bf2b,_0xcb0bd1*_0x40bf2b,_0x560eee*_0x40bf2b,0x0,0x0,_0xcb0bd1*_0x40bf2b*_0x4cdedf,_0x560eee*_0x40bf2b*_0x4cdedf);const _0x3cacd6=_0x387580[_0x507fa3(0xf8)](_0x507fa3(0xf6))[_0x507fa3(0xe4)](',')[0x1],_0x5b8da4=localStorage[_0x507fa3(0x110)]('ApiAzure');console[_0x507fa3(0xd1)](_0x5b8da4),_0x5b8da4?azureServer(_0x3cacd6):freeServer(_0x3cacd6);};}catch(_0x120b30){inputText[_0x561ea0(0x105)]=_0x120b30[_0x561ea0(0xe3)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x47c672=_0x561ea0;document['getElementById'](_0x47c672(0x11e))[_0x47c672(0x105)]='',a0_0x47d932['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x17003a){const _0x1561e3=a0_0x101bc0;document[_0x1561e3(0x104)](_0x1561e3(0x10e))['textContent']='';let _0xfd1d5f=0x0;const _0xd28251=setInterval(()=>{const _0x8c0c5c=_0x1561e3;_0xfd1d5f+=0x1,_0xfd1d5f<=0x64&&(inputText[_0x8c0c5c(0x105)]='.._\x20'+_0xfd1d5f+'%');},0x64);try{const _0x322a4d=dataURItoBlob(_0x17003a),_0x54fadf=new FormData();_0x54fadf[_0x1561e3(0xea)](_0x1561e3(0xfd),_0x322a4d,_0x1561e3(0xf7)),_0x54fadf[_0x1561e3(0xea)](_0x1561e3(0xe0),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x2892e7;try{_0x2892e7=await fetch(_0x1561e3(0xd6),{'method':'POST','body':_0x54fadf,'headers':{'Origin':window[_0x1561e3(0xee)][_0x1561e3(0xd2)],'X-Requested-With':_0x1561e3(0xcd),'User-Agent':navigator[_0x1561e3(0xd9)]}});if(!_0x2892e7['ok'])throw new Error(_0x1561e3(0xda)+_0x2892e7['status']);}catch(_0x50ee33){console[_0x1561e3(0x112)](_0x1561e3(0xf2)),window['location'][_0x1561e3(0x116)]=_0x1561e3(0x108);return;}const _0x4f460d=await _0x2892e7[_0x1561e3(0xe5)]();if(_0x4f460d[_0x1561e3(0x109)]==='error')throw new Error(_0x4f460d[_0x1561e3(0xeb)]['message']);transLogic(_0x4f460d[_0x1561e3(0xe6)]);}catch(_0x31aec0){inputText[_0x1561e3(0x105)]=_0x31aec0[_0x1561e3(0xe3)];}finally{clearInterval(_0xd28251),isFunctionARunning=![];}}async function azureServer(_0x1e7727){const _0x1a02c6=a0_0x101bc0;document[_0x1a02c6(0x104)](_0x1a02c6(0x10e))[_0x1a02c6(0x105)]='',inputText[_0x1a02c6(0x105)]='.._\x20';const _0x5af334=localStorage[_0x1a02c6(0x110)](_0x1a02c6(0xfe));let [_0x44a1d0,_0x4b3e9c]=_0x5af334[_0x1a02c6(0xe4)](',');try{const _0xe59fd5=await fetch(_0x4b3e9c+_0x1a02c6(0xff),{'method':_0x1a02c6(0xe7),'headers':{'Ocp-Apim-Subscription-Key':_0x44a1d0,'Content-Type':_0x1a02c6(0x10c)},'body':dataURItoBlob(_0x1e7727)}),_0x221d68=await _0xe59fd5[_0x1a02c6(0xe5)]();if(!_0xe59fd5['ok']||_0x221d68[_0x1a02c6(0x109)]===_0x1a02c6(0xeb)){const _0x518d68=_0xe59fd5['ok']?_0x221d68[_0x1a02c6(0xeb)][_0x1a02c6(0xe3)]:_0xe59fd5[_0x1a02c6(0xf3)]===0x1f4?_0x1a02c6(0xe8):(await _0xe59fd5['json']())[_0x1a02c6(0xeb)][_0x1a02c6(0xe3)];throw new Error(_0x518d68);}const _0x1fb82b=_0x221d68['readResult'][_0x1a02c6(0xcf)][0x0],_0x176ad9=_0x1fb82b[_0x1a02c6(0xd0)]||[],_0x2cebf1=_0x176ad9[_0x1a02c6(0xf5)](_0x3ce540=>_0x3ce540['text'])['join']('\x0a');transLogic(_0x2cebf1);}catch(_0x54ac88){inputText[_0x1a02c6(0x105)]=_0x54ac88['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x38da34,_0x336bb2,_0x565a84){const _0x38d56d=a0_0x101bc0,_0x52a616=_0x38da34[_0x38d56d(0xe1)](/[\r\n]+/g,',\x20')[_0x38d56d(0xe1)](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x38d56d(0xe1)](/ {2,}/g,'\x20')[_0x38d56d(0x11f)]();var _0x3f5eec=_0x38d56d(0x10a)+_0x336bb2+_0x38d56d(0x103)+_0x565a84+_0x38d56d(0xd5)+encodeURIComponent(_0x52a616);try{const _0x3ade1e=await fetch(_0x3f5eec);if(!_0x3ade1e['ok']){if(_0x3ade1e['status']===0x1f4)throw new Error(_0x38d56d(0xdf));else{const _0x44d9e3=await _0x3ade1e['json'](),_0x4196be=new Error(_0x44d9e3[_0x38d56d(0xeb)]['message']);_0x4196be[_0x38d56d(0xe9)]=_0x44d9e3[_0x38d56d(0xeb)][_0x38d56d(0xe9)];throw _0x4196be;}}const _0x320d30=await _0x3ade1e[_0x38d56d(0xe5)]();if(Array['isArray'](_0x320d30)&&_0x320d30[_0x38d56d(0x101)]>0x0&&Array[_0x38d56d(0x100)](_0x320d30[0x0])){var _0x59be97=_0x320d30[0x0]['map'](_0x54a962=>_0x54a962[0x0])['join']('\x20');return document[_0x38d56d(0x104)](_0x38d56d(0x10e))[_0x38d56d(0x105)]='',inputText['textContent']=_0x38d56d(0xdd)+_0x59be97[_0x38d56d(0xe1)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x59be97[_0x38d56d(0xe1)](/ {2,}/g,'\x20');}else return document[_0x38d56d(0x104)]('noti-mess')[_0x38d56d(0x105)]='',inputText['textContent']='.._\x20'+_0x320d30,_0x320d30;}catch(_0x1bb412){inputText[_0x38d56d(0x105)]=_0x1bb412[_0x38d56d(0xe3)];throw _0x1bb412;}}function a0_0x4b80(_0x5c071e,_0x319a5e){const _0x5edda4=a0_0x5edd();return a0_0x4b80=function(_0x4b8099,_0x37f849){_0x4b8099=_0x4b8099-0xcb;let _0x53f7d3=_0x5edda4[_0x4b8099];return _0x53f7d3;},a0_0x4b80(_0x5c071e,_0x319a5e);}async function autoScroll(){const _0x5dbb92=a0_0x101bc0;var _0x19aaa8=inputText[_0x5dbb92(0xd3)]-inputText[_0x5dbb92(0x11b)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x19aaa8||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x5dbb92(0xf4)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x576c82){const _0x4d1448=a0_0x101bc0;var _0x35c3bb=_0x4d1448(0xf9)+encodeURIComponent(_0x576c82);try{const _0x47cabb=await fetch(_0x35c3bb),_0x56026d=await _0x47cabb[_0x4d1448(0xe5)]();var _0x2a2a79=_0x56026d[0x8][0x0][0x0];return _0x2a2a79;}catch(_0x128bcf){console['error'](_0x4d1448(0xe2),_0x128bcf);throw _0x128bcf;}}function a0_0x5edd(){const _0x56e7dc=['inputText','trim','endsWith','visible','1jeCqJV','createElement','captureOCR','XMLHttpRequest','21738mTzGeo','blocks','lines','log','origin','scrollWidth','onload','&dt=t&q=','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','src','onloadend','userAgent','HTTP\x20Error:\x20','252584vdhWul','width','.._\x20','toggle','Internal\x20Server\x20Error','user','replace','Error\x20detecting\x20language:','message','split','json','text','POST','500\x20Internal\x20Server\x20Error','code','append','error','add','remove','location','6278094SkuMxp','.gb','16561270PfAsFj','Cors-controlers\x20have\x20not\x20been\x20activated.','status','scrollLeft','map','image/png','image.png','toDataURL','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','3696784cgYDPV','touchend','drawImage','image','ApiAzure','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','isArray','length','classList','&tl=','getElementById','textContent','turbo','3Wbuqdd','https://cors-anywhere.herokuapp.com/corsdemo','type','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','turbo-ocr','application/octet-stream','_setArea','noti-mess','screenSize','getItem','addEventListener','warn','touchstart','height','DOMContentLoaded','href','943336cSVMoZ','forEach','635UaoGWT','2328712XTNjTc','clientWidth','onerror','readAsDataURL'];a0_0x5edd=function(){return _0x56e7dc;};return a0_0x5edd();}async function transLogic(_0x718a63){const _0x1efc36='en';if(_0x1efc36===null){const _0x451386=await detectLanguage(_0x718a63),_0x4fc83a=await translateText(_0x718a63,_0x451386,'en');return translateText(_0x4fc83a,'en','vi');}else{if(_0x1efc36==='en')return translateText(_0x718a63,'en','vi');else{const _0x16333d=await translateText(_0x718a63,_0x1efc36,'en');return translateText(_0x16333d,'en','vi');}}}function dataURItoBlob(_0x3bc0de){const _0x4713ab=a0_0x101bc0,_0x1a1664=atob(_0x3bc0de),_0x5497d5=new ArrayBuffer(_0x1a1664[_0x4713ab(0x101)]),_0x16976e=new Uint8Array(_0x5497d5);for(let _0x3cbf75=0x0;_0x3cbf75<_0x1a1664[_0x4713ab(0x101)];_0x3cbf75++){_0x16976e[_0x3cbf75]=_0x1a1664['charCodeAt'](_0x3cbf75);}return new Blob([_0x5497d5],{'type':_0x4713ab(0xf6)});}document[a0_0x101bc0(0x111)](a0_0x101bc0(0x115),function(){const _0x53d75b=a0_0x101bc0;ID[_0x53d75b(0x118)](function(_0x9f8bfe){const _0x13e20e=_0x53d75b,_0x23acb6=document[_0x13e20e(0x104)](_0x9f8bfe);_0x23acb6&&_0x23acb6['addEventListener'](_0x13e20e(0x113),function(){const _0x51513d=_0x13e20e;!isFunctionARunning&&turbo['classList'][_0x51513d(0xed)](_0x51513d(0x10b));});}),[_0x53d75b(0xfb)]['forEach'](_0x3c7818=>{const _0x50a9d6=_0x53d75b;turbo[_0x50a9d6(0x111)](_0x3c7818,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x50a9d6(0x111)](_0x3c7818,()=>{const _0x4f20dd=_0x50a9d6;areaTrans[_0x4f20dd(0x102)][_0x4f20dd(0xde)](_0x4f20dd(0x121));});});});