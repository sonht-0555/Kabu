const a0_0x462042=a0_0x35e5;(function(_0x45f9b3,_0x5a5bfd){const _0x562599=a0_0x35e5,_0xd365f2=_0x45f9b3();while(!![]){try{const _0x4ab6e3=-parseInt(_0x562599(0x1c6))/0x1*(-parseInt(_0x562599(0x1d1))/0x2)+parseInt(_0x562599(0x203))/0x3*(parseInt(_0x562599(0x1f3))/0x4)+-parseInt(_0x562599(0x205))/0x5+parseInt(_0x562599(0x1be))/0x6*(-parseInt(_0x562599(0x1cb))/0x7)+-parseInt(_0x562599(0x1e2))/0x8+-parseInt(_0x562599(0x1d4))/0x9+parseInt(_0x562599(0x1d7))/0xa;if(_0x4ab6e3===_0x5a5bfd)break;else _0xd365f2['push'](_0xd365f2['shift']());}catch(_0xba339){_0xd365f2['push'](_0xd365f2['shift']());}}}(a0_0x2303,0xba558));import*as a0_0x11af72 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x35e5(_0x32a9f0,_0x3d8f68){const _0x2303d1=a0_0x2303();return a0_0x35e5=function(_0x35e594,_0x38f6ba){_0x35e594=_0x35e594-0x1bb;let _0x29ba24=_0x2303d1[_0x35e594];return _0x29ba24;},a0_0x35e5(_0x32a9f0,_0x3d8f68);}const inputText=document[a0_0x462042(0x1e1)](a0_0x462042(0x1ff)),turbo=document[a0_0x462042(0x1e1)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x1a06ac=a0_0x462042;turbo[_0x1a06ac(0x1f1)][_0x1a06ac(0x1e6)](_0x1a06ac(0x1fb));try{const _0x2260e8=gameName['replace'](/\.(gba|gbc|gb|zip)$/,'.png'),_0x29cfcc=await a0_0x11af72[_0x1a06ac(0x1e9)](_0x2260e8),_0x299a6e=new Blob([_0x29cfcc],{'type':_0x1a06ac(0x207)}),_0x262e65=await new Promise((_0x3c3f6a,_0x38a8bd)=>{const _0x254a23=_0x1a06ac,_0xeff371=new FileReader();_0xeff371['onloadend']=()=>_0x3c3f6a(_0xeff371[_0x254a23(0x1cc)]),_0xeff371[_0x254a23(0x1e0)]=_0x38a8bd,_0xeff371[_0x254a23(0x1ec)](_0x299a6e);}),_0x16dbd5=new Image();_0x16dbd5['src']=_0x262e65,_0x16dbd5[_0x1a06ac(0x200)]=async()=>{const _0x39a6b4=_0x1a06ac,_0x108de7=document[_0x39a6b4(0x1d5)]('canvas'),_0x31d62a=_0x108de7[_0x39a6b4(0x1e4)]('2d'),_0x2252f1=0x4;let _0x153077;gameName[_0x39a6b4(0x1dc)]('.gbc')||gameName[_0x39a6b4(0x1dc)](_0x39a6b4(0x1c7))?_0x153077=0x3/0x6:_0x153077=0x3/0x4;const _0x551cd3=localStorage[_0x39a6b4(0x1d3)](gameName+'_setArea')||localStorage[_0x39a6b4(0x1d3)]('screenSize'),[_0xebbaff,_0x1328c5,_0x426532,_0x3603bd]=_0x551cd3[_0x39a6b4(0x202)](',')['map'](Number);_0x108de7[_0x39a6b4(0x1db)]=_0x426532*_0x153077*_0x2252f1,_0x108de7['height']=_0x3603bd*_0x153077*_0x2252f1,_0x31d62a[_0x39a6b4(0x1d9)](_0x16dbd5,_0xebbaff*_0x153077,_0x1328c5*_0x153077,_0x426532*_0x153077,_0x3603bd*_0x153077,0x0,0x0,_0x426532*_0x153077*_0x2252f1,_0x3603bd*_0x153077*_0x2252f1);const _0x309163=_0x108de7['toDataURL'](_0x39a6b4(0x207))[_0x39a6b4(0x202)](',')[0x1],_0x2779a2=localStorage['getItem']('ApiAzure');console[_0x39a6b4(0x1eb)](_0x2779a2),_0x2779a2?azureServer(_0x309163):freeServer(_0x309163);};}catch(_0x1f1a94){inputText[_0x1a06ac(0x1e3)]=_0x1f1a94[_0x1a06ac(0x1d0)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x10b105=_0x1a06ac;document[_0x10b105(0x1e1)]('inputText')[_0x10b105(0x1e3)]='',a0_0x11af72['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x5d3475){const _0x111e32=a0_0x462042;document[_0x111e32(0x1e1)]('noti-mess')[_0x111e32(0x1e3)]='';let _0x4138f1=0x0;const _0x2e1ad6=setInterval(()=>{_0x4138f1+=0x1,_0x4138f1<=0x64&&(inputText['textContent']='.._\x20'+_0x4138f1+'%');},0x64);try{const _0x21aa8b=dataURItoBlob(_0x5d3475),_0x3f3b1b=new FormData();_0x3f3b1b['append']('image',_0x21aa8b,_0x111e32(0x1bf)),_0x3f3b1b[_0x111e32(0x1ee)](_0x111e32(0x1c2),_0x111e32(0x1df));let _0x2a51a2;try{_0x2a51a2=await fetch(_0x111e32(0x1dd),{'method':_0x111e32(0x1fe),'body':_0x3f3b1b,'headers':{'Origin':window['location'][_0x111e32(0x206)],'X-Requested-With':_0x111e32(0x1ef),'User-Agent':navigator[_0x111e32(0x1d2)]}});if(!_0x2a51a2['ok'])throw new Error(_0x111e32(0x1e8)+_0x2a51a2[_0x111e32(0x1c0)]);}catch(_0x2f950c){console[_0x111e32(0x1f4)](_0x111e32(0x1e5)),window[_0x111e32(0x1fa)][_0x111e32(0x1c5)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x467902=await _0x2a51a2[_0x111e32(0x1cf)]();if(_0x467902['type']===_0x111e32(0x1f0))throw new Error(_0x467902[_0x111e32(0x1f0)][_0x111e32(0x1d0)]);transLogic(_0x467902[_0x111e32(0x1f5)]);}catch(_0x1a9537){inputText[_0x111e32(0x1e3)]=_0x1a9537[_0x111e32(0x1d0)];}finally{clearInterval(_0x2e1ad6),isFunctionARunning=![];}}async function azureServer(_0x27eb34){const _0x3ac2c4=a0_0x462042;document[_0x3ac2c4(0x1e1)](_0x3ac2c4(0x1c1))['textContent']='',inputText[_0x3ac2c4(0x1e3)]=_0x3ac2c4(0x1d8);const _0x39ecf5=localStorage[_0x3ac2c4(0x1d3)](_0x3ac2c4(0x1ea));let [_0x106b51,_0x46b3eb]=_0x39ecf5[_0x3ac2c4(0x202)](',');try{const _0x5ab542=await fetch(_0x46b3eb+_0x3ac2c4(0x1c8),{'method':_0x3ac2c4(0x1fe),'headers':{'Ocp-Apim-Subscription-Key':_0x106b51,'Content-Type':_0x3ac2c4(0x1ce)},'body':dataURItoBlob(_0x27eb34)}),_0x1815bf=await _0x5ab542[_0x3ac2c4(0x1cf)]();if(!_0x5ab542['ok']||_0x1815bf[_0x3ac2c4(0x1ca)]===_0x3ac2c4(0x1f0)){const _0x90a224=_0x5ab542['ok']?_0x1815bf[_0x3ac2c4(0x1f0)][_0x3ac2c4(0x1d0)]:_0x5ab542[_0x3ac2c4(0x1c0)]===0x1f4?_0x3ac2c4(0x1bb):(await _0x5ab542[_0x3ac2c4(0x1cf)]())[_0x3ac2c4(0x1f0)][_0x3ac2c4(0x1d0)];throw new Error(_0x90a224);}const _0x2d6eab=_0x1815bf['readResult'][_0x3ac2c4(0x1fc)][0x0],_0x587339=_0x2d6eab[_0x3ac2c4(0x1e7)]||[],_0x582cc1=_0x587339[_0x3ac2c4(0x1de)](_0x109d65=>_0x109d65[_0x3ac2c4(0x1f5)])[_0x3ac2c4(0x1f8)]('\x0a');transLogic(_0x582cc1);}catch(_0x1b1dda){inputText['textContent']=_0x1b1dda[_0x3ac2c4(0x1d0)];}finally{isFunctionARunning=![];}}async function translateText(_0x3328f7,_0x294d67,_0x5cd037){const _0x27e178=a0_0x462042,_0x54330a=_0x3328f7[_0x27e178(0x1da)](/[\r\n]+/g,',\x20')[_0x27e178(0x1da)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x27e178(0x1da)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x27e178(0x1da)](/ {2,}/g,'\x20')['trim']();var _0x16b697=_0x27e178(0x1c3)+_0x294d67+'&tl='+_0x5cd037+_0x27e178(0x1f9)+encodeURIComponent(_0x54330a);try{const _0xb33157=await fetch(_0x16b697);if(!_0xb33157['ok']){if(_0xb33157[_0x27e178(0x1c0)]===0x1f4)throw new Error(_0x27e178(0x1c4));else{const _0x59f769=await _0xb33157[_0x27e178(0x1cf)](),_0x54807f=new Error(_0x59f769[_0x27e178(0x1f0)]['message']);_0x54807f[_0x27e178(0x201)]=_0x59f769[_0x27e178(0x1f0)][_0x27e178(0x201)];throw _0x54807f;}}const _0x3e5860=await _0xb33157[_0x27e178(0x1cf)]();if(Array[_0x27e178(0x1bc)](_0x3e5860)&&_0x3e5860[_0x27e178(0x1d6)]>0x0&&Array[_0x27e178(0x1bc)](_0x3e5860[0x0])){var _0x527166=_0x3e5860[0x0][_0x27e178(0x1de)](_0x311ba9=>_0x311ba9[0x0])[_0x27e178(0x1f8)]('\x20');return document[_0x27e178(0x1e1)](_0x27e178(0x1c1))[_0x27e178(0x1e3)]='',inputText[_0x27e178(0x1e3)]='.._\x20'+_0x527166[_0x27e178(0x1da)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x527166[_0x27e178(0x1da)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x27e178(0x1c1))[_0x27e178(0x1e3)]='',inputText['textContent']='.._\x20'+_0x3e5860,_0x3e5860;}catch(_0x4a4941){inputText[_0x27e178(0x1e3)]=_0x4a4941[_0x27e178(0x1d0)];throw _0x4a4941;}}async function autoScroll(){const _0x7a456e=a0_0x462042;var _0x4e0b50=inputText[_0x7a456e(0x1ed)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x4e0b50||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x7a456e(0x1cd)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}function a0_0x2303(){const _0x1e9148=['type','7ITKWBg','result','scrollLeft','application/octet-stream','json','message','1023926HxnMaS','userAgent','getItem','6725889eKQxrn','createElement','length','15979610WkycgT','.._\x20','drawImage','replace','width','endsWith','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','map','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','onerror','getElementById','3788728ELBysr','textContent','getContext','Cors-controlers\x20have\x20not\x20been\x20activated.','add','lines','HTTP\x20Error:\x20','captureOCR','ApiAzure','log','readAsDataURL','scrollWidth','append','XMLHttpRequest','error','classList','visible','10736KPUdRU','warn','text','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','forEach','join','&dt=t&q=','location','turbo-ocr','blocks','DOMContentLoaded','POST','inputText','onload','code','split','1194oCjMEc','charCodeAt','266495yYzAJg','origin','image/png','touchend','toggle','500\x20Internal\x20Server\x20Error','isArray','Error\x20detecting\x20language:','6844326wrVbdR','image.png','status','noti-mess','user','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','Internal\x20Server\x20Error','href','1SZQArr','.gb','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','addEventListener'];a0_0x2303=function(){return _0x1e9148;};return a0_0x2303();}async function detectLanguage(_0x21fc25){const _0x17a442=a0_0x462042;var _0x53240d=_0x17a442(0x1f6)+encodeURIComponent(_0x21fc25);try{const _0x42634b=await fetch(_0x53240d),_0x445187=await _0x42634b[_0x17a442(0x1cf)]();var _0x5ce598=_0x445187[0x8][0x0][0x0];return _0x5ce598;}catch(_0x27fdde){console[_0x17a442(0x1f0)](_0x17a442(0x1bd),_0x27fdde);throw _0x27fdde;}}async function transLogic(_0x4d5006){const _0x562852='en';if(_0x562852===null){const _0xb962eb=await detectLanguage(_0x4d5006),_0x1d8346=await translateText(_0x4d5006,_0xb962eb,'en');return translateText(_0x1d8346,'en','vi');}else{if(_0x562852==='en')return translateText(_0x4d5006,'en','vi');else{const _0x153403=await translateText(_0x4d5006,_0x562852,'en');return translateText(_0x153403,'en','vi');}}}function dataURItoBlob(_0x4dbdb6){const _0x2d6147=a0_0x462042,_0x59a3f2=atob(_0x4dbdb6),_0x2479f9=new ArrayBuffer(_0x59a3f2[_0x2d6147(0x1d6)]),_0x3bfd0b=new Uint8Array(_0x2479f9);for(let _0xa6a699=0x0;_0xa6a699<_0x59a3f2[_0x2d6147(0x1d6)];_0xa6a699++){_0x3bfd0b[_0xa6a699]=_0x59a3f2[_0x2d6147(0x204)](_0xa6a699);}return new Blob([_0x2479f9],{'type':_0x2d6147(0x207)});}document['addEventListener'](a0_0x462042(0x1fd),function(){const _0x4f541b=a0_0x462042;ID[_0x4f541b(0x1f7)](function(_0x248bb3){const _0x18c1bb=_0x4f541b,_0x5492d0=document[_0x18c1bb(0x1e1)](_0x248bb3);_0x5492d0&&_0x5492d0['addEventListener']('touchstart',function(){!isFunctionARunning&&turbo['classList']['remove']('turbo-ocr');});}),[_0x4f541b(0x208)][_0x4f541b(0x1f7)](_0x1cfe48=>{const _0x4b93be=_0x4f541b;turbo[_0x4b93be(0x1c9)](_0x1cfe48,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x4b93be(0x1c9)](_0x1cfe48,()=>{const _0x2822b4=_0x4b93be;areaTrans[_0x2822b4(0x1f1)][_0x2822b4(0x209)](_0x2822b4(0x1f2));});});});