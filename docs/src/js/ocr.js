const a0_0x500b77=a0_0x3820;(function(_0x333aaf,_0x435e6f){const _0x5a65da=a0_0x3820,_0xfe48ce=_0x333aaf();while(!![]){try{const _0x17fc67=parseInt(_0x5a65da(0x20d))/0x1+parseInt(_0x5a65da(0x1d4))/0x2*(parseInt(_0x5a65da(0x20b))/0x3)+-parseInt(_0x5a65da(0x204))/0x4*(-parseInt(_0x5a65da(0x210))/0x5)+parseInt(_0x5a65da(0x1c7))/0x6*(parseInt(_0x5a65da(0x1e4))/0x7)+-parseInt(_0x5a65da(0x1bf))/0x8*(parseInt(_0x5a65da(0x1e5))/0x9)+-parseInt(_0x5a65da(0x203))/0xa+-parseInt(_0x5a65da(0x1e7))/0xb;if(_0x17fc67===_0x435e6f)break;else _0xfe48ce['push'](_0xfe48ce['shift']());}catch(_0x5b09fc){_0xfe48ce['push'](_0xfe48ce['shift']());}}}(a0_0x422c,0x4ae26));import*as a0_0x4eb4ef from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x500b77(0x1c9)]('inputText'),input=document[a0_0x500b77(0x1c9)](a0_0x500b77(0x1c2)),turbo=document[a0_0x500b77(0x1c9)](a0_0x500b77(0x206)),ID=['A','B','R','L'];async function getImage(){const _0x4223d2=a0_0x500b77;turbo[_0x4223d2(0x1fe)][_0x4223d2(0x1b9)](_0x4223d2(0x1c5));try{const _0x5b5838=gameName[_0x4223d2(0x1e8)](/\.(gba|gbc|gb|zip)$/,_0x4223d2(0x1f1)),_0x80ed00=await a0_0x4eb4ef[_0x4223d2(0x201)](_0x5b5838),_0x5780c4=new Blob([_0x80ed00],{'type':_0x4223d2(0x1e6)}),_0xe8ab5e=await new Promise((_0x3df6f5,_0x4f6d78)=>{const _0x103cb8=_0x4223d2,_0xd93588=new FileReader();_0xd93588[_0x103cb8(0x1e0)]=()=>_0x3df6f5(_0xd93588[_0x103cb8(0x1bc)]),_0xd93588['onerror']=_0x4f6d78,_0xd93588[_0x103cb8(0x1d8)](_0x5780c4);}),_0x252c60=new Image();_0x252c60['src']=_0xe8ab5e,_0x252c60[_0x4223d2(0x1c6)]=()=>{const _0x186e6d=_0x4223d2,_0xec766c=document[_0x186e6d(0x1d5)]('canvas'),_0x56efb0=_0xec766c[_0x186e6d(0x1b7)]('2d'),_0xac746e=0x4;let _0x259561;gameName[_0x186e6d(0x1f8)](_0x186e6d(0x1ef))||gameName[_0x186e6d(0x1f8)](_0x186e6d(0x1dc))?_0x259561=Math[_0x186e6d(0x1cb)](0xa0/(window['innerWidth']-0xe6)):_0x259561=Math['round'](0xf0/(window[_0x186e6d(0x1f9)]-0x96));const _0x2378bb=localStorage[_0x186e6d(0x1c3)](gameName+_0x186e6d(0x1f4))||localStorage[_0x186e6d(0x1c3)](_0x186e6d(0x20c)),[_0x22bd56,_0x3b9ded,_0x4bf452,_0x659cd5]=_0x2378bb[_0x186e6d(0x1bd)](',')[_0x186e6d(0x1d2)](Number);_0xec766c[_0x186e6d(0x1ce)]=_0x4bf452*_0x259561*_0xac746e,_0xec766c[_0x186e6d(0x211)]=_0x659cd5*_0x259561*_0xac746e,_0x56efb0['drawImage'](_0x252c60,_0x22bd56*_0x259561,_0x3b9ded*_0x259561,_0x4bf452*_0x259561,_0x659cd5*_0x259561,0x0,0x0,_0x4bf452*_0x259561*_0xac746e,_0x659cd5*_0x259561*_0xac746e);const _0x4a3930=_0xec766c[_0x186e6d(0x1cf)](_0x186e6d(0x1e6))[_0x186e6d(0x1bd)](',')[0x1],_0x4796b6=localStorage[_0x186e6d(0x1c3)]('ApiAzure');_0x4796b6?azureServer(_0x4a3930):freeServer(_0x4a3930);};}catch(_0x81f54){inputText[_0x4223d2(0x1db)]=_0x81f54[_0x4223d2(0x200)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3cdd96=_0x4223d2;document[_0x3cdd96(0x1c9)](_0x3cdd96(0x1d0))[_0x3cdd96(0x1db)]='...';},0x7530);}async function freeServer(_0x5c6ad0){const _0x4fdc39=a0_0x500b77;let _0x462dec=0x0;const _0x4dbca5=setInterval(()=>{const _0x20803d=a0_0x3820;_0x462dec+=0x1,_0x462dec<=0x64&&(inputText[_0x20803d(0x1db)]=_0x20803d(0x1e1)+_0x462dec+'%');},0x64);try{const _0x5e7e59=dataURItoBlob(_0x5c6ad0),_0x2f14f9=new FormData();_0x2f14f9[_0x4fdc39(0x1ca)](_0x4fdc39(0x1c8),_0x5e7e59,'image.png'),_0x2f14f9['append']('user','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x1377ea;try{_0x1377ea=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':'POST','body':_0x2f14f9,'headers':{'Origin':window[_0x4fdc39(0x1f5)][_0x4fdc39(0x1b4)],'X-Requested-With':_0x4fdc39(0x1eb),'User-Agent':navigator[_0x4fdc39(0x1bb)]}});if(!_0x1377ea['ok'])throw new Error(_0x4fdc39(0x20e)+_0x1377ea[_0x4fdc39(0x1c1)]);}catch(_0x3ccd8d){console[_0x4fdc39(0x1d9)](_0x4fdc39(0x202)),window['location'][_0x4fdc39(0x1be)]=_0x4fdc39(0x1f2);return;}const _0x2b6f29=await _0x1377ea[_0x4fdc39(0x1da)]();if(_0x2b6f29['type']===_0x4fdc39(0x1f6))throw new Error(_0x2b6f29[_0x4fdc39(0x1f6)][_0x4fdc39(0x200)]);transLogic(_0x2b6f29[_0x4fdc39(0x205)]);}catch(_0x3df500){inputText[_0x4fdc39(0x1db)]=_0x3df500[_0x4fdc39(0x200)];}finally{clearInterval(_0x4dbca5),isFunctionARunning=![];}}async function azureServer(_0x3186fd){const _0x3388c4=a0_0x500b77;inputText[_0x3388c4(0x1db)]='...';const _0x5d3c8c=localStorage[_0x3388c4(0x1c3)](_0x3388c4(0x1c4));let [_0x3420c1,_0x443c31,_0x51a15b]=_0x5d3c8c[_0x3388c4(0x1bd)](',');_0x51a15b=parseInt(_0x51a15b);const _0xb05185=new Date(),_0x340f57=_0xb05185[_0x3388c4(0x1fb)](),_0x468d4b=_0xb05185[_0x3388c4(0x1ba)](),_0x2fc8eb=localStorage[_0x3388c4(0x1c3)](_0x3388c4(0x1fa)),_0x342c0e=_0x2fc8eb?new Date(_0x2fc8eb):null;_0x342c0e&&(_0x340f57!==_0x342c0e['getMonth']()||_0x468d4b!==_0x342c0e['getFullYear']())&&(_0x51a15b=0x0,localStorage[_0x3388c4(0x1b6)]('lastSavedDate',_0xb05185[_0x3388c4(0x1d7)]()));if(_0x51a15b>=0x1356){inputText[_0x3388c4(0x1db)]=_0x3388c4(0x1e2);return;}try{const _0x5c9115=await fetch(_0x443c31+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x3388c4(0x1f0),'headers':{'Ocp-Apim-Subscription-Key':_0x3420c1,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x3186fd)}),_0x24111b=await _0x5c9115[_0x3388c4(0x1da)]();if(!_0x5c9115['ok']||_0x24111b[_0x3388c4(0x1ed)]===_0x3388c4(0x1f6)){const _0x545ee0=_0x5c9115['ok']?_0x24111b[_0x3388c4(0x1f6)][_0x3388c4(0x200)]:_0x5c9115[_0x3388c4(0x1c1)]===0x1f4?_0x3388c4(0x1e9):(await _0x5c9115[_0x3388c4(0x1da)]())[_0x3388c4(0x1f6)][_0x3388c4(0x200)];throw new Error(_0x545ee0);}const _0x2b5662=_0x24111b[_0x3388c4(0x1ee)][_0x3388c4(0x1f3)][0x0],_0x134a98=_0x2b5662[_0x3388c4(0x1cd)]||[],_0x5b27a9=_0x134a98['map'](_0xea68f6=>_0xea68f6[_0x3388c4(0x205)])[_0x3388c4(0x207)]('\x0a');transLogic(_0x5b27a9);}catch(_0x4ce0c3){inputText[_0x3388c4(0x1db)]=_0x4ce0c3[_0x3388c4(0x200)];const _0x466d07=++_0x51a15b;a0_0x4eb4ef[_0x3388c4(0x208)]('['+_0x466d07+_0x3388c4(0x1ea),0x7d0),localStorage[_0x3388c4(0x1b6)](_0x3388c4(0x1c4),_0x3420c1+','+_0x443c31+','+_0x466d07),localStorage[_0x3388c4(0x1b6)](_0x3388c4(0x1fa),_0xb05185['toISOString']());}finally{const _0x2cb1bb=++_0x51a15b;a0_0x4eb4ef[_0x3388c4(0x208)]('['+_0x2cb1bb+']\x20Times\x20Azure',0x7d0),isFunctionARunning=![],localStorage['setItem']('ApiAzure',_0x3420c1+','+_0x443c31+','+_0x2cb1bb),localStorage[_0x3388c4(0x1b6)](_0x3388c4(0x1fa),_0xb05185['toISOString']());}}async function translateText(_0x222a81,_0x12f116,_0x529c0c){const _0x307cda=a0_0x500b77,_0x3c2f80=_0x222a81[_0x307cda(0x1e8)](/[\r\n]+/g,',\x20')[_0x307cda(0x1e8)](/([!?.,])\s*,\s*/g,_0x307cda(0x1d1))[_0x307cda(0x1e8)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x307cda(0x1d6)]();var _0x124c6f=_0x307cda(0x1de)+_0x12f116+_0x307cda(0x1ec)+_0x529c0c+_0x307cda(0x1fc)+encodeURIComponent(_0x3c2f80);try{const _0x59fa9c=await fetch(_0x124c6f);if(!_0x59fa9c['ok']){if(_0x59fa9c[_0x307cda(0x1c1)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x37d698=await _0x59fa9c['json'](),_0x48206f=new Error(_0x37d698[_0x307cda(0x1f6)][_0x307cda(0x200)]);_0x48206f[_0x307cda(0x20a)]=_0x37d698[_0x307cda(0x1f6)][_0x307cda(0x20a)];throw _0x48206f;}}const _0x3c1d45=await _0x59fa9c[_0x307cda(0x1da)]();if(Array[_0x307cda(0x1dd)](_0x3c1d45)&&_0x3c1d45[_0x307cda(0x1ff)]>0x0&&Array['isArray'](_0x3c1d45[0x0])){var _0x5dfcc1=_0x3c1d45[0x0]['map'](_0x15831d=>_0x15831d[0x0])['join']('\x20');return inputText['textContent']=_0x5dfcc1['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x5dfcc1[_0x307cda(0x1e8)](/ {2,}/g,'\x20');}else return inputText[_0x307cda(0x1db)]=_0x3c1d45,_0x3c1d45;}catch(_0x2bd04c){inputText[_0x307cda(0x1db)]=_0x2bd04c[_0x307cda(0x200)];throw _0x2bd04c;}}async function autoScroll(){const _0x2a21e6=a0_0x500b77;var _0x45b01b=inputText['scrollWidth']-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x45b01b||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x2a21e6(0x1fd)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x54f4cc){const _0x32b812=a0_0x500b77;var _0x39ac03='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x54f4cc);try{const _0x19c01d=await fetch(_0x39ac03),_0x398e42=await _0x19c01d[_0x32b812(0x1da)]();var _0x56b0a9=_0x398e42[0x8][0x0][0x0];return _0x56b0a9;}catch(_0x146732){console[_0x32b812(0x1f6)]('Error\x20detecting\x20language:',_0x146732);throw _0x146732;}}function a0_0x3820(_0x4984d7,_0x43111c){const _0x422c03=a0_0x422c();return a0_0x3820=function(_0x382025,_0x5883cb){_0x382025=_0x382025-0x1b4;let _0x59609c=_0x422c03[_0x382025];return _0x59609c;},a0_0x3820(_0x4984d7,_0x43111c);}async function transLogic(_0xeaa458){const _0x1b5ebe='en';if(_0x1b5ebe===null){const _0x1e80b2=await detectLanguage(_0xeaa458),_0x3095e8=await translateText(_0xeaa458,_0x1e80b2,'en');return translateText(_0x3095e8,'en','vi');}else{if(_0x1b5ebe==='en')return translateText(_0xeaa458,'en','vi');else{const _0x4caff5=await translateText(_0xeaa458,_0x1b5ebe,'en');return translateText(_0x4caff5,'en','vi');}}}function a0_0x422c(){const _0x18c200=['notiMessage','touchend','code','9DfCjMR','screenSize','3086ELXhkC','HTTP\x20Error:\x20','charCodeAt','105155WhbzXB','height','visible','origin','forEach','setItem','getContext','remove','add','getFullYear','userAgent','result','split','href','16kdagcF','logoOcr','status','input-container','getItem','ApiAzure','turbo-ocr','onload','18JfeTfZ','image','getElementById','append','round','backgroundPositionX','lines','width','toDataURL','inputText','$1\x20','map','floor','245992HUvlkA','createElement','trim','toISOString','readAsDataURL','warn','json','textContent','.gb','isArray','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','style','onloadend','Waiting..','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','addEventListener','1279999JIihmb','968202byEExN','image/png','1080387dXGqwM','replace','500\x20Internal\x20Server\x20Error',']\x20Times\x20Azure','XMLHttpRequest','&tl=','type','readResult','.gbc','POST','.png','https://cors-anywhere.herokuapp.com/corsdemo','blocks','_setArea','location','error','toggle','endsWith','innerWidth','lastSavedDate','getMonth','&dt=t&q=','scrollLeft','classList','length','message','captureOCR','CORS-Anywhere\x20chưa\x20được\x20kích\x20hoạt.\x20Mở\x20/corsdemo...','5318870qPTvhL','44BRptKj','text','turbo','join'];a0_0x422c=function(){return _0x18c200;};return a0_0x422c();}function dataURItoBlob(_0x376a74){const _0x2232e1=a0_0x500b77,_0x4ba472=atob(_0x376a74),_0x5c72d6=new ArrayBuffer(_0x4ba472[_0x2232e1(0x1ff)]),_0x28bd1d=new Uint8Array(_0x5c72d6);for(let _0x5b8a55=0x0;_0x5b8a55<_0x4ba472[_0x2232e1(0x1ff)];_0x5b8a55++){_0x28bd1d[_0x5b8a55]=_0x4ba472[_0x2232e1(0x20f)](_0x5b8a55);}return new Blob([_0x5c72d6],{'type':_0x2232e1(0x1e6)});}function logoOcr(){const _0xcf84d7=a0_0x500b77;var _0x5c3009=Math[_0xcf84d7(0x1d3)](Math['random']()*0x3)+0x1,_0x29b897=-0xf*_0x5c3009+'px';document['getElementById'](_0xcf84d7(0x1c0))[_0xcf84d7(0x1df)][_0xcf84d7(0x1cc)]=_0x29b897;}document[a0_0x500b77(0x1e3)]('DOMContentLoaded',function(){const _0x4f8195=a0_0x500b77;ID[_0x4f8195(0x1b5)](function(_0x44d101){const _0x3bd144=_0x4f8195,_0x1ab7b1=document[_0x3bd144(0x1c9)](_0x44d101);_0x1ab7b1&&_0x1ab7b1['addEventListener']('touchstart',function(){const _0x1028ff=_0x3bd144;!isFunctionARunning&&turbo[_0x1028ff(0x1fe)][_0x1028ff(0x1b8)](_0x1028ff(0x1c5));});}),[_0x4f8195(0x209)]['forEach'](_0x22e447=>{const _0x12c738=_0x4f8195;turbo[_0x12c738(0x1e3)](_0x22e447,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x12c738(0x1e3)](_0x22e447,()=>{const _0x3f350d=_0x12c738;areaTrans[_0x3f350d(0x1fe)][_0x3f350d(0x1f7)](_0x3f350d(0x212));});});});