const a0_0x46b634=a0_0x25ee;(function(_0x555f2f,_0x5ce7e6){const _0x4fb59d=a0_0x25ee,_0x58f1c4=_0x555f2f();while(!![]){try{const _0x205d4f=-parseInt(_0x4fb59d(0xf8))/0x1+-parseInt(_0x4fb59d(0x12e))/0x2+parseInt(_0x4fb59d(0xe6))/0x3+-parseInt(_0x4fb59d(0xee))/0x4*(-parseInt(_0x4fb59d(0xf3))/0x5)+-parseInt(_0x4fb59d(0xf4))/0x6+-parseInt(_0x4fb59d(0x117))/0x7+parseInt(_0x4fb59d(0xe4))/0x8;if(_0x205d4f===_0x5ce7e6)break;else _0x58f1c4['push'](_0x58f1c4['shift']());}catch(_0x2d751f){_0x58f1c4['push'](_0x58f1c4['shift']());}}}(a0_0x1c4d,0x2131d));import*as a0_0x50212a from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x25ee(_0x384246,_0x1d7aac){const _0x1c4d7c=a0_0x1c4d();return a0_0x25ee=function(_0x25ee4a,_0x126e81){_0x25ee4a=_0x25ee4a-0xda;let _0x4b6e31=_0x1c4d7c[_0x25ee4a];return _0x4b6e31;},a0_0x25ee(_0x384246,_0x1d7aac);}const inputText=document[a0_0x46b634(0x12b)](a0_0x46b634(0x115)),input=document['getElementById'](a0_0x46b634(0x120)),turbo=document['getElementById'](a0_0x46b634(0x11e)),ID=['A','B','R','L'];function a0_0x1c4d(){const _0x5cf28c=['notiMessage','status','455754LeGalF','endsWith','.gb','message',']\x20Times\x20Azure','forEach','location','setItem','Error\x20detecting\x20language:','lines','text','$1\x20','toDataURL','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','touchstart','length','1669520cEaAnZ','DOMContentLoaded','350415KioKmF','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','width','&tl=','scrollWidth','result','Internal\x20Server\x20Error','touchend','24DFZqpr','error','HTTP\x20Error:\x20','drawImage','random','124970lxNGBe','12654IutRQF','code','canvas','trim','106415PtWdrM','...','innerWidth','getMonth','Waiting..','split','image','map','getFullYear','append','XMLHttpRequest','isArray','onloadend','https://cors-anywhere.herokuapp.com/corsdemo','charCodeAt','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','ApiAzure','scrollLeft','type','readAsDataURL','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','.png','toISOString','captureOCR','toggle','POST','blocks','addEventListener','replace','inputText','src','21651xKtsIx','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','getItem','lastSavedDate','image/png','createElement','onload','turbo','classList','input-container','clientWidth','.gbc','json','application/octet-stream','500\x20Internal\x20Server\x20Error','image.png','textContent','add','join','screenSize','getElementById'];a0_0x1c4d=function(){return _0x5cf28c;};return a0_0x1c4d();}async function getImage(){const _0x59f3e3=a0_0x46b634;turbo['classList'][_0x59f3e3(0x128)]('turbo-ocr');try{const _0x383db4=gameName[_0x59f3e3(0x114)](/\.(gba|gbc|gb|zip)$/,_0x59f3e3(0x10d)),_0x41dc98=await a0_0x50212a[_0x59f3e3(0x10f)](_0x383db4),_0x4a72d0=new Blob([_0x41dc98],{'type':_0x59f3e3(0x11b)}),_0x26015c=await new Promise((_0x23409e,_0x27700d)=>{const _0x2f0668=_0x59f3e3,_0x1b89aa=new FileReader();_0x1b89aa[_0x2f0668(0x104)]=()=>_0x23409e(_0x1b89aa[_0x2f0668(0xeb)]),_0x1b89aa['onerror']=_0x27700d,_0x1b89aa[_0x2f0668(0x10b)](_0x4a72d0);}),_0x3e9989=new Image();_0x3e9989[_0x59f3e3(0x116)]=_0x26015c,_0x3e9989[_0x59f3e3(0x11d)]=()=>{const _0x10760e=_0x59f3e3,_0x1578df=document[_0x10760e(0x11c)](_0x10760e(0xf6)),_0x889db6=_0x1578df['getContext']('2d'),_0x49e9a6=0x4;let _0x49140f;gameName[_0x10760e(0x12f)](_0x10760e(0x122))||gameName[_0x10760e(0x12f)](_0x10760e(0x130))?_0x49140f=Math['round'](0xa0/(window[_0x10760e(0xfa)]-0xe6)):_0x49140f=Math['round'](0xf0/(window[_0x10760e(0xfa)]-0x96));const _0x35bfab=localStorage['getItem'](gameName+'_setArea')||localStorage[_0x10760e(0x119)](_0x10760e(0x12a)),[_0x179c44,_0x2b612b,_0x1af1b7,_0x296e88]=_0x35bfab['split'](',')[_0x10760e(0xff)](Number);_0x1578df[_0x10760e(0xe8)]=_0x1af1b7*_0x49140f*_0x49e9a6,_0x1578df['height']=_0x296e88*_0x49140f*_0x49e9a6,_0x889db6[_0x10760e(0xf1)](_0x3e9989,_0x179c44*_0x49140f,_0x2b612b*_0x49140f,_0x1af1b7*_0x49140f,_0x296e88*_0x49140f,0x0,0x0,_0x1af1b7*_0x49140f*_0x49e9a6,_0x296e88*_0x49140f*_0x49e9a6);const _0x40b959=_0x1578df[_0x10760e(0xe0)](_0x10760e(0x11b))[_0x10760e(0xfd)](',')[0x1],_0x3fdc2d=localStorage[_0x10760e(0x119)](_0x10760e(0x108));_0x3fdc2d?azureServer(_0x40b959):freeServer(_0x40b959);};}catch(_0xe2b035){inputText[_0x59f3e3(0x127)]=_0xe2b035[_0x59f3e3(0x131)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x301669=_0x59f3e3;document[_0x301669(0x12b)]('inputText')['textContent']=_0x301669(0xf9);},0x7530);}async function freeServer(_0x2d62cf){const _0x51a514=a0_0x46b634;let _0x1810a2=0x0;const _0x33813c=setInterval(()=>{const _0x203e15=a0_0x25ee;_0x1810a2+=0x1,_0x1810a2<=0x64&&(inputText['textContent']=_0x203e15(0xfc)+_0x1810a2+'%');},0x64);try{const _0x11a793=dataURItoBlob(_0x2d62cf),_0xec2847=new FormData();_0xec2847[_0x51a514(0x101)](_0x51a514(0xfe),_0x11a793,_0x51a514(0x126)),_0xec2847[_0x51a514(0x101)]('user',_0x51a514(0xe7));let _0x108fa8;try{_0x108fa8=await fetch(_0x51a514(0x107),{'method':_0x51a514(0x111),'body':_0xec2847,'headers':{'Origin':window['location']['origin'],'X-Requested-With':_0x51a514(0x102),'User-Agent':navigator['userAgent']}});if(!_0x108fa8['ok'])throw new Error(_0x51a514(0xf0)+_0x108fa8[_0x51a514(0x12d)]);}catch(_0xf772b0){console['warn']('CORS-Anywhere\x20chưa\x20được\x20kích\x20hoạt.\x20Mở\x20/corsdemo...'),window[_0x51a514(0xda)]['href']=_0x51a514(0x105);return;}const _0x383f04=await _0x108fa8['json']();if(_0x383f04[_0x51a514(0x10a)]===_0x51a514(0xef))throw new Error(_0x383f04[_0x51a514(0xef)][_0x51a514(0x131)]);transLogic(_0x383f04[_0x51a514(0xde)]);}catch(_0x5d1103){inputText['textContent']=_0x5d1103[_0x51a514(0x131)];}finally{clearInterval(_0x33813c),isFunctionARunning=![];}}async function azureServer(_0x3ebc68){const _0x122a86=a0_0x46b634;inputText['textContent']='...';const _0x40b79e=localStorage['getItem'](_0x122a86(0x108));let [_0x551957,_0x5ce53e,_0x377d20]=_0x40b79e[_0x122a86(0xfd)](',');_0x377d20=parseInt(_0x377d20);const _0x5929e7=new Date(),_0x454432=_0x5929e7[_0x122a86(0xfb)](),_0x20a9c0=_0x5929e7[_0x122a86(0x100)](),_0x233f57=localStorage[_0x122a86(0x119)](_0x122a86(0x11a)),_0x3cbdd9=_0x233f57?new Date(_0x233f57):null;_0x3cbdd9&&(_0x454432!==_0x3cbdd9['getMonth']()||_0x20a9c0!==_0x3cbdd9[_0x122a86(0x100)]())&&(_0x377d20=0x0,localStorage[_0x122a86(0xdb)](_0x122a86(0x11a),_0x5929e7[_0x122a86(0x10e)]()));if(_0x377d20>=0x1356){inputText[_0x122a86(0x127)]=_0x122a86(0xe1);return;}try{const _0x5aac38=await fetch(_0x5ce53e+_0x122a86(0x118),{'method':_0x122a86(0x111),'headers':{'Ocp-Apim-Subscription-Key':_0x551957,'Content-Type':_0x122a86(0x124)},'body':dataURItoBlob(_0x3ebc68)}),_0x53b0d7=await _0x5aac38['json']();if(!_0x5aac38['ok']||_0x53b0d7['type']==='error'){const _0x287cfb=_0x5aac38['ok']?_0x53b0d7[_0x122a86(0xef)][_0x122a86(0x131)]:_0x5aac38['status']===0x1f4?_0x122a86(0x125):(await _0x5aac38[_0x122a86(0x123)]())[_0x122a86(0xef)][_0x122a86(0x131)];throw new Error(_0x287cfb);}const _0x26e8a9=_0x53b0d7['readResult'][_0x122a86(0x112)][0x0],_0x18c2d4=_0x26e8a9[_0x122a86(0xdd)]||[],_0x39691c=_0x18c2d4['map'](_0x5e4041=>_0x5e4041[_0x122a86(0xde)])[_0x122a86(0x129)]('\x0a');transLogic(_0x39691c);}catch(_0x92c336){inputText['textContent']=_0x92c336[_0x122a86(0x131)];const _0xfeb38e=++_0x377d20;a0_0x50212a[_0x122a86(0x12c)]('['+_0xfeb38e+_0x122a86(0x132),0x7d0),localStorage['setItem'](_0x122a86(0x108),_0x551957+','+_0x5ce53e+','+_0xfeb38e),localStorage[_0x122a86(0xdb)](_0x122a86(0x11a),_0x5929e7['toISOString']());}finally{const _0x5775c8=++_0x377d20;a0_0x50212a[_0x122a86(0x12c)]('['+_0x5775c8+_0x122a86(0x132),0x7d0),isFunctionARunning=![],localStorage[_0x122a86(0xdb)](_0x122a86(0x108),_0x551957+','+_0x5ce53e+','+_0x5775c8),localStorage['setItem']('lastSavedDate',_0x5929e7[_0x122a86(0x10e)]());}}async function translateText(_0x168e24,_0x4ec00f,_0x179ce0){const _0x363f8f=a0_0x46b634,_0x22f15d=_0x168e24[_0x363f8f(0x114)](/[\r\n]+/g,',\x20')[_0x363f8f(0x114)](/([!?.,])\s*,\s*/g,_0x363f8f(0xdf))[_0x363f8f(0x114)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x363f8f(0xf7)]();var _0x4574a6=_0x363f8f(0x10c)+_0x4ec00f+_0x363f8f(0xe9)+_0x179ce0+'&dt=t&q='+encodeURIComponent(_0x22f15d);try{const _0x50524e=await fetch(_0x4574a6);if(!_0x50524e['ok']){if(_0x50524e[_0x363f8f(0x12d)]===0x1f4)throw new Error(_0x363f8f(0xec));else{const _0x27f013=await _0x50524e[_0x363f8f(0x123)](),_0x208a42=new Error(_0x27f013['error'][_0x363f8f(0x131)]);_0x208a42[_0x363f8f(0xf5)]=_0x27f013['error']['code'];throw _0x208a42;}}const _0x5cad9e=await _0x50524e[_0x363f8f(0x123)]();if(Array[_0x363f8f(0x103)](_0x5cad9e)&&_0x5cad9e[_0x363f8f(0xe3)]>0x0&&Array[_0x363f8f(0x103)](_0x5cad9e[0x0])){var _0x3025a1=_0x5cad9e[0x0][_0x363f8f(0xff)](_0x27dc11=>_0x27dc11[0x0])['join']('\x20');return inputText[_0x363f8f(0x127)]=_0x3025a1['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x3025a1[_0x363f8f(0x114)](/ {2,}/g,'\x20');}else return inputText[_0x363f8f(0x127)]=_0x5cad9e,_0x5cad9e;}catch(_0x3c478a){inputText[_0x363f8f(0x127)]=_0x3c478a[_0x363f8f(0x131)];throw _0x3c478a;}}async function autoScroll(){const _0x304e24=a0_0x46b634;var _0x4c22a8=inputText[_0x304e24(0xea)]-inputText[_0x304e24(0x121)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x4c22a8||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x304e24(0x109)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x583a1d){const _0x4f4973=a0_0x46b634;var _0x4c739f='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x583a1d);try{const _0x171938=await fetch(_0x4c739f),_0x5579dd=await _0x171938[_0x4f4973(0x123)]();var _0x2a59e9=_0x5579dd[0x8][0x0][0x0];return _0x2a59e9;}catch(_0x29ecd9){console[_0x4f4973(0xef)](_0x4f4973(0xdc),_0x29ecd9);throw _0x29ecd9;}}async function transLogic(_0x5d37a8){const _0xcf0049='en';if(_0xcf0049===null){const _0x11021b=await detectLanguage(_0x5d37a8),_0x4bd2d4=await translateText(_0x5d37a8,_0x11021b,'en');return translateText(_0x4bd2d4,'en','vi');}else{if(_0xcf0049==='en')return translateText(_0x5d37a8,'en','vi');else{const _0x4dfdfb=await translateText(_0x5d37a8,_0xcf0049,'en');return translateText(_0x4dfdfb,'en','vi');}}}function dataURItoBlob(_0x3de591){const _0x4965a5=a0_0x46b634,_0x57dd98=atob(_0x3de591),_0x3f829f=new ArrayBuffer(_0x57dd98['length']),_0x376900=new Uint8Array(_0x3f829f);for(let _0x4266a5=0x0;_0x4266a5<_0x57dd98[_0x4965a5(0xe3)];_0x4266a5++){_0x376900[_0x4266a5]=_0x57dd98[_0x4965a5(0x106)](_0x4266a5);}return new Blob([_0x3f829f],{'type':'image/png'});}function logoOcr(){const _0x146105=a0_0x46b634;var _0x260a0b=Math['floor'](Math[_0x146105(0xf2)]()*0x3)+0x1,_0x361b03=-0xf*_0x260a0b+'px';document[_0x146105(0x12b)]('logoOcr')['style']['backgroundPositionX']=_0x361b03;}document[a0_0x46b634(0x113)](a0_0x46b634(0xe5),function(){const _0x2ee22c=a0_0x46b634;ID[_0x2ee22c(0x133)](function(_0x5719f3){const _0x31b8a2=_0x2ee22c,_0x1a24de=document[_0x31b8a2(0x12b)](_0x5719f3);_0x1a24de&&_0x1a24de[_0x31b8a2(0x113)](_0x31b8a2(0xe2),function(){!isFunctionARunning&&turbo['classList']['remove']('turbo-ocr');});}),[_0x2ee22c(0xed)][_0x2ee22c(0x133)](_0x56bee8=>{const _0xd5d23d=_0x2ee22c;turbo[_0xd5d23d(0x113)](_0x56bee8,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0xd5d23d(0x113)](_0x56bee8,()=>{const _0x232cc0=_0xd5d23d;areaTrans[_0x232cc0(0x11f)][_0x232cc0(0x110)]('visible');});});});