const a0_0xee46ae=a0_0x5188;(function(_0x2ed3d6,_0xb2743b){const _0x4016ed=a0_0x5188,_0x3974de=_0x2ed3d6();while(!![]){try{const _0x3d300f=parseInt(_0x4016ed(0xc3))/0x1+parseInt(_0x4016ed(0x88))/0x2*(-parseInt(_0x4016ed(0x9f))/0x3)+-parseInt(_0x4016ed(0x8d))/0x4+-parseInt(_0x4016ed(0xb8))/0x5+parseInt(_0x4016ed(0xbd))/0x6*(parseInt(_0x4016ed(0xcf))/0x7)+parseInt(_0x4016ed(0xb6))/0x8+parseInt(_0x4016ed(0x94))/0x9*(parseInt(_0x4016ed(0x87))/0xa);if(_0x3d300f===_0xb2743b)break;else _0x3974de['push'](_0x3974de['shift']());}catch(_0x5ee817){_0x3974de['push'](_0x3974de['shift']());}}}(a0_0x36fd,0x762d4));import*as a0_0x44e9da from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x36fd(){const _0x4d40ee=['length','Cors-controlers\x20have\x20not\x20been\x20activated.','inputText','href','36SxYbRD','split','_setArea','captureOCR','.._\x20','forEach','json','scrollLeft','image.png','$1\x20','&dt=t&q=','readAsDataURL','onerror','lines','getItem','Error\x20detecting\x20language:','turbo-ocr','getContext','.png','isArray','createElement','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','HTTP\x20Error:\x20','425640tTWsSV','500\x20Internal\x20Server\x20Error','3067855TzySTu','image/png','canvas','code','src','6XIDTdP','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','endsWith','notiMessage','noti-mess','POST','157833NiPXWi','screenSize','toggle','touchend','classList','addEventListener','replace','trim','warn','origin','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','error','4177796rRgLrf','append','map','text','remove','onloadend','textContent','getElementById','width','message','160xEGTKo','118466KnrwQJ','ApiAzure','.gb','touchstart','join','2502940eMVZjs','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','image','log','onload','https://cors-anywhere.herokuapp.com/corsdemo','XMLHttpRequest','914787SCWwBx','.gbc','turbo','userAgent','blocks','scrollWidth','status'];a0_0x36fd=function(){return _0x4d40ee;};return a0_0x36fd();}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0xee46ae(0xd6)](a0_0xee46ae(0x9d)),turbo=document[a0_0xee46ae(0xd6)](a0_0xee46ae(0x96)),ID=['A','B','R','L'];async function getImage(){const _0x44f881=a0_0xee46ae;turbo[_0x44f881(0xc7)]['add'](_0x44f881(0xaf));try{const _0x52eb47=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x44f881(0xb1)),_0x177eec=await a0_0x44e9da[_0x44f881(0xa2)](_0x52eb47),_0xa18103=new Blob([_0x177eec],{'type':_0x44f881(0xb9)}),_0x5c6881=await new Promise((_0x449281,_0x43b2f4)=>{const _0x1be35e=_0x44f881,_0x227ec2=new FileReader();_0x227ec2[_0x1be35e(0xd4)]=()=>_0x449281(_0x227ec2['result']),_0x227ec2[_0x1be35e(0xab)]=_0x43b2f4,_0x227ec2[_0x1be35e(0xaa)](_0xa18103);}),_0x5092a2=new Image();_0x5092a2[_0x44f881(0xbc)]=_0x5c6881,_0x5092a2[_0x44f881(0x91)]=async()=>{const _0x91cc1b=_0x44f881,_0x3cff3b=document[_0x91cc1b(0xb3)](_0x91cc1b(0xba)),_0x215895=_0x3cff3b[_0x91cc1b(0xb0)]('2d'),_0x18f223=0x4;let _0x53bb05;gameName[_0x91cc1b(0xbf)](_0x91cc1b(0x95))||gameName[_0x91cc1b(0xbf)](_0x91cc1b(0x8a))?_0x53bb05=0x3/0x6:_0x53bb05=0x3/0x4;const _0x1c8b17=localStorage[_0x91cc1b(0xad)](gameName+_0x91cc1b(0xa1))||localStorage[_0x91cc1b(0xad)](_0x91cc1b(0xc4)),[_0x4f1e2d,_0x4e9ca0,_0x18c5e0,_0x3451ab]=_0x1c8b17['split'](',')['map'](Number);_0x3cff3b[_0x91cc1b(0xd7)]=_0x18c5e0*_0x53bb05*_0x18f223,_0x3cff3b['height']=_0x3451ab*_0x53bb05*_0x18f223,_0x215895['drawImage'](_0x5092a2,_0x4f1e2d*_0x53bb05,_0x4e9ca0*_0x53bb05,_0x18c5e0*_0x53bb05,_0x3451ab*_0x53bb05,0x0,0x0,_0x18c5e0*_0x53bb05*_0x18f223,_0x3451ab*_0x53bb05*_0x18f223);const _0xa242ee=_0x3cff3b['toDataURL'](_0x91cc1b(0xb9))[_0x91cc1b(0xa0)](',')[0x1],_0x284d8c=localStorage['getItem'](_0x91cc1b(0x89));console[_0x91cc1b(0x90)](_0x284d8c),_0x284d8c?azureServer(_0xa242ee):freeServer(_0xa242ee);};}catch(_0x27c984){inputText['textContent']=_0x27c984[_0x44f881(0xd8)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x326a32=_0x44f881;document[_0x326a32(0xd6)](_0x326a32(0x9d))['textContent']='',a0_0x44e9da[_0x326a32(0xc0)]('',0x0);},0x7530);}async function freeServer(_0x4cde4b){const _0x1d3a6e=a0_0xee46ae;document['getElementById']('noti-mess')[_0x1d3a6e(0xd5)]='';let _0x258793=0x0;const _0x568f51=setInterval(()=>{const _0x2ac749=_0x1d3a6e;_0x258793+=0x1,_0x258793<=0x64&&(inputText[_0x2ac749(0xd5)]=_0x2ac749(0xa3)+_0x258793+'%');},0x64);try{const _0x276b48=dataURItoBlob(_0x4cde4b),_0x1fbacd=new FormData();_0x1fbacd[_0x1d3a6e(0xd0)](_0x1d3a6e(0x8f),_0x276b48,_0x1d3a6e(0xa7)),_0x1fbacd[_0x1d3a6e(0xd0)]('user',_0x1d3a6e(0xb4));let _0x14e908;try{_0x14e908=await fetch(_0x1d3a6e(0x8e),{'method':_0x1d3a6e(0xc2),'body':_0x1fbacd,'headers':{'Origin':window['location'][_0x1d3a6e(0xcc)],'X-Requested-With':_0x1d3a6e(0x93),'User-Agent':navigator[_0x1d3a6e(0x97)]}});if(!_0x14e908['ok'])throw new Error(_0x1d3a6e(0xb5)+_0x14e908[_0x1d3a6e(0x9a)]);}catch(_0x8e9d06){console[_0x1d3a6e(0xcb)](_0x1d3a6e(0x9c)),window['location'][_0x1d3a6e(0x9e)]=_0x1d3a6e(0x92);return;}const _0x38e045=await _0x14e908[_0x1d3a6e(0xa5)]();if(_0x38e045['type']===_0x1d3a6e(0xce))throw new Error(_0x38e045['error'][_0x1d3a6e(0xd8)]);transLogic(_0x38e045[_0x1d3a6e(0xd2)]);}catch(_0x1d9daa){inputText[_0x1d3a6e(0xd5)]=_0x1d9daa['message'];}finally{clearInterval(_0x568f51),isFunctionARunning=![];}}async function azureServer(_0x5ddacc){const _0x383443=a0_0xee46ae;document[_0x383443(0xd6)]('noti-mess')[_0x383443(0xd5)]='',inputText[_0x383443(0xd5)]=_0x383443(0xa3);const _0x5b8e40=localStorage[_0x383443(0xad)]('ApiAzure');let [_0x5c66c9,_0x25bf09]=_0x5b8e40['split'](',');try{const _0x41f854=await fetch(_0x25bf09+_0x383443(0xbe),{'method':_0x383443(0xc2),'headers':{'Ocp-Apim-Subscription-Key':_0x5c66c9,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x5ddacc)}),_0x2d365f=await _0x41f854['json']();if(!_0x41f854['ok']||_0x2d365f['type']==='error'){const _0x6ad5c4=_0x41f854['ok']?_0x2d365f[_0x383443(0xce)]['message']:_0x41f854[_0x383443(0x9a)]===0x1f4?_0x383443(0xb7):(await _0x41f854[_0x383443(0xa5)]())['error'][_0x383443(0xd8)];throw new Error(_0x6ad5c4);}const _0x322b8a=_0x2d365f['readResult'][_0x383443(0x98)][0x0],_0x139c0a=_0x322b8a[_0x383443(0xac)]||[],_0x4cb6a0=_0x139c0a[_0x383443(0xd1)](_0x2af6ea=>_0x2af6ea[_0x383443(0xd2)])['join']('\x0a');transLogic(_0x4cb6a0);}catch(_0x14ee84){inputText[_0x383443(0xd5)]=_0x14ee84['message'];}finally{isFunctionARunning=![];}}function a0_0x5188(_0x497d1d,_0x585970){const _0x36fd99=a0_0x36fd();return a0_0x5188=function(_0x5188b3,_0x8ed9c2){_0x5188b3=_0x5188b3-0x87;let _0x2dd381=_0x36fd99[_0x5188b3];return _0x2dd381;},a0_0x5188(_0x497d1d,_0x585970);}async function translateText(_0x194546,_0x2399be,_0x2ad20f){const _0x471f5e=a0_0xee46ae,_0x23c490=_0x194546[_0x471f5e(0xc9)](/[\r\n]+/g,',\x20')[_0x471f5e(0xc9)](/([!?.,])\s*,\s*/g,_0x471f5e(0xa8))[_0x471f5e(0xc9)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x471f5e(0xc9)](/ {2,}/g,'\x20')[_0x471f5e(0xca)]();var _0x396286='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x2399be+'&tl='+_0x2ad20f+_0x471f5e(0xa9)+encodeURIComponent(_0x23c490);try{const _0x8a66=await fetch(_0x396286);if(!_0x8a66['ok']){if(_0x8a66['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x184614=await _0x8a66[_0x471f5e(0xa5)](),_0x13343c=new Error(_0x184614['error']['message']);_0x13343c[_0x471f5e(0xbb)]=_0x184614[_0x471f5e(0xce)][_0x471f5e(0xbb)];throw _0x13343c;}}const _0x29afb7=await _0x8a66[_0x471f5e(0xa5)]();if(Array[_0x471f5e(0xb2)](_0x29afb7)&&_0x29afb7['length']>0x0&&Array['isArray'](_0x29afb7[0x0])){var _0x77114=_0x29afb7[0x0][_0x471f5e(0xd1)](_0x1142fa=>_0x1142fa[0x0])[_0x471f5e(0x8c)]('\x20');return document['getElementById'](_0x471f5e(0xc1))[_0x471f5e(0xd5)]='',inputText[_0x471f5e(0xd5)]=_0x471f5e(0xa3)+_0x77114['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x77114[_0x471f5e(0xc9)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x471f5e(0xc1))[_0x471f5e(0xd5)]='',inputText[_0x471f5e(0xd5)]='.._\x20'+_0x29afb7,_0x29afb7;}catch(_0x27c21b){inputText[_0x471f5e(0xd5)]=_0x27c21b[_0x471f5e(0xd8)];throw _0x27c21b;}}async function autoScroll(){const _0x35d749=a0_0xee46ae;var _0x1e5e41=inputText[_0x35d749(0x99)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1e5e41||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x35d749(0xa6)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3ce4ec){const _0x675642=a0_0xee46ae;var _0x526312=_0x675642(0xcd)+encodeURIComponent(_0x3ce4ec);try{const _0x16c325=await fetch(_0x526312),_0x392b57=await _0x16c325['json']();var _0x5ab6c4=_0x392b57[0x8][0x0][0x0];return _0x5ab6c4;}catch(_0x5ce2a4){console[_0x675642(0xce)](_0x675642(0xae),_0x5ce2a4);throw _0x5ce2a4;}}async function transLogic(_0x37a7b2){const _0x54fac5='en';if(_0x54fac5===null){const _0x467140=await detectLanguage(_0x37a7b2),_0x3e0622=await translateText(_0x37a7b2,_0x467140,'en');return translateText(_0x3e0622,'en','vi');}else{if(_0x54fac5==='en')return translateText(_0x37a7b2,'en','vi');else{const _0x44d982=await translateText(_0x37a7b2,_0x54fac5,'en');return translateText(_0x44d982,'en','vi');}}}function dataURItoBlob(_0x1c391e){const _0x453e2e=a0_0xee46ae,_0x59d3e0=atob(_0x1c391e),_0x17c763=new ArrayBuffer(_0x59d3e0[_0x453e2e(0x9b)]),_0x4edb64=new Uint8Array(_0x17c763);for(let _0x2227a9=0x0;_0x2227a9<_0x59d3e0[_0x453e2e(0x9b)];_0x2227a9++){_0x4edb64[_0x2227a9]=_0x59d3e0['charCodeAt'](_0x2227a9);}return new Blob([_0x17c763],{'type':_0x453e2e(0xb9)});}document[a0_0xee46ae(0xc8)]('DOMContentLoaded',function(){const _0x1b8cc=a0_0xee46ae;ID[_0x1b8cc(0xa4)](function(_0x5bdda5){const _0x3bb243=_0x1b8cc,_0x9fccd0=document[_0x3bb243(0xd6)](_0x5bdda5);_0x9fccd0&&_0x9fccd0[_0x3bb243(0xc8)](_0x3bb243(0x8b),function(){const _0x4746b4=_0x3bb243;!isFunctionARunning&&turbo[_0x4746b4(0xc7)][_0x4746b4(0xd3)]('turbo-ocr');});}),[_0x1b8cc(0xc6)][_0x1b8cc(0xa4)](_0x2febd7=>{const _0x1dcf4e=_0x1b8cc;turbo[_0x1dcf4e(0xc8)](_0x2febd7,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x1dcf4e(0xc8)](_0x2febd7,()=>{const _0x47e9be=_0x1dcf4e;areaTrans[_0x47e9be(0xc7)][_0x47e9be(0xc5)]('visible');});});});