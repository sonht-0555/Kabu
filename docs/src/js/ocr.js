const a0_0x131bfd=a0_0x103f;(function(_0x293cd9,_0xbb1b51){const _0x1faeca=a0_0x103f,_0x257390=_0x293cd9();while(!![]){try{const _0xb66d70=parseInt(_0x1faeca(0xf0))/0x1+parseInt(_0x1faeca(0xf8))/0x2+parseInt(_0x1faeca(0xf5))/0x3*(-parseInt(_0x1faeca(0xe3))/0x4)+parseInt(_0x1faeca(0x113))/0x5+parseInt(_0x1faeca(0xe1))/0x6+-parseInt(_0x1faeca(0xfe))/0x7*(parseInt(_0x1faeca(0xf3))/0x8)+parseInt(_0x1faeca(0x110))/0x9*(-parseInt(_0x1faeca(0x118))/0xa);if(_0xb66d70===_0xbb1b51)break;else _0x257390['push'](_0x257390['shift']());}catch(_0x4e9eec){_0x257390['push'](_0x257390['shift']());}}}(a0_0x5d80,0x8e3b4));import*as a0_0x51f87a from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x131bfd(0x11e)](a0_0x131bfd(0xff)),turbo=document[a0_0x131bfd(0x11e)](a0_0x131bfd(0xf1)),ID=['A','B','R','L'];async function getImage(){const _0x1cdbee=a0_0x131bfd;turbo[_0x1cdbee(0x11d)]['add'](_0x1cdbee(0x104));try{const _0x47e848=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x1cdbee(0x10e)),_0x49522e=await a0_0x51f87a[_0x1cdbee(0xef)](_0x47e848),_0x4711d7=new Blob([_0x49522e],{'type':'image/png'}),_0x31e774=await new Promise((_0x2fd634,_0x3cbebe)=>{const _0x3669c9=_0x1cdbee,_0x35380a=new FileReader();_0x35380a[_0x3669c9(0xdb)]=()=>_0x2fd634(_0x35380a[_0x3669c9(0xd5)]),_0x35380a[_0x3669c9(0x107)]=_0x3cbebe,_0x35380a[_0x3669c9(0xee)](_0x4711d7);}),_0x18953f=new Image();_0x18953f['src']=_0x31e774,_0x18953f[_0x1cdbee(0xf2)]=async()=>{const _0x5e78d7=_0x1cdbee,_0x393595=document['createElement']('canvas'),_0xc30124=_0x393595[_0x5e78d7(0x11b)]('2d'),_0x3e0e40=0x4;let _0x1eb339;gameName[_0x5e78d7(0xfd)]('.gbc')||gameName['endsWith'](_0x5e78d7(0x11c))?_0x1eb339=0x3/0x6:_0x1eb339=0x3/0x4;const _0x43c313=localStorage[_0x5e78d7(0xde)](gameName+_0x5e78d7(0xeb))||localStorage[_0x5e78d7(0xde)](_0x5e78d7(0xd4)),[_0x4a12cb,_0x35ea9f,_0xf67abf,_0x1743e1]=_0x43c313['split'](',')[_0x5e78d7(0x112)](Number);_0x393595[_0x5e78d7(0x102)]=_0xf67abf*_0x1eb339*_0x3e0e40,_0x393595['height']=_0x1743e1*_0x1eb339*_0x3e0e40,_0xc30124[_0x5e78d7(0x11a)](_0x18953f,_0x4a12cb*_0x1eb339,_0x35ea9f*_0x1eb339,_0xf67abf*_0x1eb339,_0x1743e1*_0x1eb339,0x0,0x0,_0xf67abf*_0x1eb339*_0x3e0e40,_0x1743e1*_0x1eb339*_0x3e0e40);const _0x59b421=_0x393595[_0x5e78d7(0x10c)]('image/png')[_0x5e78d7(0xd0)](',')[0x1],_0x3051a1=localStorage[_0x5e78d7(0xde)]('ApiAzure');console[_0x5e78d7(0x10a)](_0x3051a1),_0x3051a1?azureServer(_0x59b421):freeServer(_0x59b421);};}catch(_0x154eb9){inputText[_0x1cdbee(0x111)]=_0x154eb9[_0x1cdbee(0xf9)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x29fa94=_0x1cdbee;document[_0x29fa94(0x11e)](_0x29fa94(0xff))['textContent']='',a0_0x51f87a['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x3e90fe){const _0x40232c=a0_0x131bfd;document[_0x40232c(0x11e)]('noti-mess')['textContent']='';let _0x2c89f2=0x0;const _0x2b19d=setInterval(()=>{const _0x2d7a68=_0x40232c;_0x2c89f2+=0x1,_0x2c89f2<=0x64&&(inputText[_0x2d7a68(0x111)]='.._\x20'+_0x2c89f2+'%');},0x64);try{const _0x3bd3e0=dataURItoBlob(_0x3e90fe),_0x26e484=new FormData();_0x26e484[_0x40232c(0xd3)]('image',_0x3bd3e0,_0x40232c(0xd6)),_0x26e484[_0x40232c(0xd3)](_0x40232c(0xf6),_0x40232c(0xdc));let _0x105bfe;try{_0x105bfe=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':'POST','body':_0x26e484,'headers':{'Origin':window[_0x40232c(0x108)][_0x40232c(0x114)],'X-Requested-With':_0x40232c(0xdf),'User-Agent':navigator['userAgent']}});if(!_0x105bfe['ok'])throw new Error(_0x40232c(0xe4)+_0x105bfe['status']);}catch(_0x2461dc){console[_0x40232c(0xe2)](_0x40232c(0xe5)),window['location']['href']='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x2061d9=await _0x105bfe[_0x40232c(0xd2)]();if(_0x2061d9[_0x40232c(0xf7)]===_0x40232c(0xd7))throw new Error(_0x2061d9[_0x40232c(0xd7)][_0x40232c(0xf9)]);transLogic(_0x2061d9[_0x40232c(0xe8)]);}catch(_0x159004){inputText['textContent']=_0x159004['message'];}finally{clearInterval(_0x2b19d),isFunctionARunning=![];}}async function azureServer(_0x1c16c4){const _0x100b2a=a0_0x131bfd;document[_0x100b2a(0x11e)](_0x100b2a(0x119))['textContent']='',inputText[_0x100b2a(0x111)]=_0x100b2a(0xea);const _0xa46953=localStorage[_0x100b2a(0xde)]('ApiAzure');let [_0x23a872,_0x2d123e]=_0xa46953[_0x100b2a(0xd0)](',');try{const _0x2e754e=await fetch(_0x2d123e+_0x100b2a(0xd9),{'method':_0x100b2a(0xda),'headers':{'Ocp-Apim-Subscription-Key':_0x23a872,'Content-Type':_0x100b2a(0xfb)},'body':dataURItoBlob(_0x1c16c4)}),_0x407f84=await _0x2e754e['json']();if(!_0x2e754e['ok']||_0x407f84[_0x100b2a(0xf7)]==='error'){const _0x44606f=_0x2e754e['ok']?_0x407f84[_0x100b2a(0xd7)][_0x100b2a(0xf9)]:_0x2e754e[_0x100b2a(0xd1)]===0x1f4?_0x100b2a(0x109):(await _0x2e754e[_0x100b2a(0xd2)]())[_0x100b2a(0xd7)]['message'];throw new Error(_0x44606f);}const _0x5cd784=_0x407f84[_0x100b2a(0xe6)][_0x100b2a(0xfa)][0x0],_0x53ccec=_0x5cd784['lines']||[],_0x137aa6=_0x53ccec[_0x100b2a(0x112)](_0xe73689=>_0xe73689[_0x100b2a(0xe8)])[_0x100b2a(0x117)]('\x0a');transLogic(_0x137aa6);}catch(_0x4dc20d){inputText['textContent']=_0x4dc20d[_0x100b2a(0xf9)];}finally{isFunctionARunning=![];}}async function translateText(_0x78ea48,_0x201c8e,_0x2e0d0b){const _0x4c364e=a0_0x131bfd,_0x8b5ee=_0x78ea48[_0x4c364e(0x101)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,'$1\x20')[_0x4c364e(0x101)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x4c364e(0x101)](/ {2,}/g,'\x20')[_0x4c364e(0x100)]();var _0x1835fb=_0x4c364e(0x105)+_0x201c8e+_0x4c364e(0x103)+_0x2e0d0b+_0x4c364e(0x11f)+encodeURIComponent(_0x8b5ee);try{const _0x3fd28b=await fetch(_0x1835fb);if(!_0x3fd28b['ok']){if(_0x3fd28b[_0x4c364e(0xd1)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x20b5c6=await _0x3fd28b[_0x4c364e(0xd2)](),_0x1325cc=new Error(_0x20b5c6[_0x4c364e(0xd7)][_0x4c364e(0xf9)]);_0x1325cc[_0x4c364e(0x10d)]=_0x20b5c6['error'][_0x4c364e(0x10d)];throw _0x1325cc;}}const _0xe4292e=await _0x3fd28b[_0x4c364e(0xd2)]();if(Array[_0x4c364e(0xe9)](_0xe4292e)&&_0xe4292e[_0x4c364e(0xf4)]>0x0&&Array['isArray'](_0xe4292e[0x0])){var _0x3826f6=_0xe4292e[0x0]['map'](_0x23a089=>_0x23a089[0x0])[_0x4c364e(0x117)]('\x20');return document[_0x4c364e(0x11e)](_0x4c364e(0x119))[_0x4c364e(0x111)]='',inputText[_0x4c364e(0x111)]=_0x4c364e(0xea)+_0x3826f6['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x3826f6[_0x4c364e(0x101)](/ {2,}/g,'\x20');}else return document[_0x4c364e(0x11e)]('noti-mess')[_0x4c364e(0x111)]='',inputText[_0x4c364e(0x111)]=_0x4c364e(0xea)+_0xe4292e,_0xe4292e;}catch(_0x432fea){inputText[_0x4c364e(0x111)]=_0x432fea[_0x4c364e(0xf9)];throw _0x432fea;}}function a0_0x5d80(){const _0x27eea9=['333yTUNlr','textContent','map','842320JQqoVG','origin','visible','addEventListener','join','126530fOBAez','noti-mess','drawImage','getContext','.gb','classList','getElementById','&dt=t&q=','split','status','json','append','screenSize','result','image.png','error','toggle','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','POST','onloadend','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','Error\x20detecting\x20language:','getItem','XMLHttpRequest','forEach','4599966tAVmqF','warn','4AaNdQJ','HTTP\x20Error:\x20','Cors-controlers\x20have\x20not\x20been\x20activated.','readResult','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','text','isArray','.._\x20','_setArea','image/png','clientWidth','readAsDataURL','captureOCR','937599ORMwDL','turbo','onload','1028864BWjWYJ','length','2071623ohEaop','user','type','1794844OCpcFe','message','blocks','application/octet-stream','touchend','endsWith','56QfNCkz','inputText','trim','replace','width','&tl=','turbo-ocr','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','charCodeAt','onerror','location','500\x20Internal\x20Server\x20Error','log','remove','toDataURL','code','.png','scrollWidth'];a0_0x5d80=function(){return _0x27eea9;};return a0_0x5d80();}async function autoScroll(){const _0xf0d53e=a0_0x131bfd;var _0x6f0654=inputText[_0xf0d53e(0x10f)]-inputText[_0xf0d53e(0xed)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x6f0654||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x202b15){const _0xdbb31d=a0_0x131bfd;var _0x4a2f63=_0xdbb31d(0xe7)+encodeURIComponent(_0x202b15);try{const _0x469f9=await fetch(_0x4a2f63),_0x5300d1=await _0x469f9[_0xdbb31d(0xd2)]();var _0x425768=_0x5300d1[0x8][0x0][0x0];return _0x425768;}catch(_0x3dcf2c){console['error'](_0xdbb31d(0xdd),_0x3dcf2c);throw _0x3dcf2c;}}async function transLogic(_0x39f097){const _0xf2bba2='en';if(_0xf2bba2===null){const _0x1dce0c=await detectLanguage(_0x39f097),_0xc8d570=await translateText(_0x39f097,_0x1dce0c,'en');return translateText(_0xc8d570,'en','vi');}else{if(_0xf2bba2==='en')return translateText(_0x39f097,'en','vi');else{const _0xc3c531=await translateText(_0x39f097,_0xf2bba2,'en');return translateText(_0xc3c531,'en','vi');}}}function dataURItoBlob(_0x534263){const _0x39ac24=a0_0x131bfd,_0x246c56=atob(_0x534263),_0x186c16=new ArrayBuffer(_0x246c56[_0x39ac24(0xf4)]),_0x5700d7=new Uint8Array(_0x186c16);for(let _0x48ee66=0x0;_0x48ee66<_0x246c56[_0x39ac24(0xf4)];_0x48ee66++){_0x5700d7[_0x48ee66]=_0x246c56[_0x39ac24(0x106)](_0x48ee66);}return new Blob([_0x186c16],{'type':_0x39ac24(0xec)});}function a0_0x103f(_0x3d79b0,_0x421050){const _0x5d80f5=a0_0x5d80();return a0_0x103f=function(_0x103f09,_0x378c4d){_0x103f09=_0x103f09-0xd0;let _0x343578=_0x5d80f5[_0x103f09];return _0x343578;},a0_0x103f(_0x3d79b0,_0x421050);}document[a0_0x131bfd(0x116)]('DOMContentLoaded',function(){const _0x2ce0a6=a0_0x131bfd;ID[_0x2ce0a6(0xe0)](function(_0x5dbf7b){const _0x1bce49=_0x2ce0a6,_0x1c66bf=document[_0x1bce49(0x11e)](_0x5dbf7b);_0x1c66bf&&_0x1c66bf[_0x1bce49(0x116)]('touchstart',function(){const _0xa1c21c=_0x1bce49;!isFunctionARunning&&turbo[_0xa1c21c(0x11d)][_0xa1c21c(0x10b)](_0xa1c21c(0x104));});}),[_0x2ce0a6(0xfc)]['forEach'](_0x498fe3=>{turbo['addEventListener'](_0x498fe3,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x498fe3,()=>{const _0x274564=a0_0x103f;areaTrans[_0x274564(0x11d)][_0x274564(0xd8)](_0x274564(0x115));});});});