const a0_0x1d3a42=a0_0x3a1f;(function(_0x536b0f,_0x5eb7b0){const _0x3c34a2=a0_0x3a1f,_0x299c17=_0x536b0f();while(!![]){try{const _0x3d1584=parseInt(_0x3c34a2(0x108))/0x1*(parseInt(_0x3c34a2(0x120))/0x2)+parseInt(_0x3c34a2(0xf3))/0x3*(parseInt(_0x3c34a2(0xf1))/0x4)+-parseInt(_0x3c34a2(0x109))/0x5+parseInt(_0x3c34a2(0xe4))/0x6*(parseInt(_0x3c34a2(0xf9))/0x7)+-parseInt(_0x3c34a2(0x105))/0x8+parseInt(_0x3c34a2(0xf7))/0x9+parseInt(_0x3c34a2(0xf0))/0xa*(-parseInt(_0x3c34a2(0xfe))/0xb);if(_0x3d1584===_0x5eb7b0)break;else _0x299c17['push'](_0x299c17['shift']());}catch(_0x51e7f9){_0x299c17['push'](_0x299c17['shift']());}}}(a0_0x1ad3,0x88ec7));function a0_0x1ad3(){const _0x4118c5=['inputText','toggle','split','3428704TGPKsk','add','POST','9hNROVj','2230600ZgwUTI','canvas','code','clientWidth','height','textContent','notiMessage','classList','onloadend','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','Error\x20detecting\x20language:','ApiAzure','XMLHttpRequest','log','_setArea','$1\x20','noti-mess','.png','onload','application/octet-stream','scrollWidth','getItem','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','148702ESshGu','text','screenSize','readResult','image/png','status','error','trim','isArray','join','forEach','captureOCR','message','turbo-ocr','map','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','.._\x20','&dt=t&q=','12pdcPcg','addEventListener','lines','json','type','warn','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','scrollLeft','image.png','length','https://cors-anywhere.herokuapp.com/corsdemo','location','19193090bKvDyu','78420rVmuSl','.gb','159SLlcOQ','append','replace','drawImage','7582032kECIcE','href','2814644EvCNrH','image','blocks','getElementById','endsWith','11dOzarG','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','touchstart','remove'];a0_0x1ad3=function(){return _0x4118c5;};return a0_0x1ad3();}import*as a0_0xb73b02 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x1d3a42(0xfc)]('inputText'),turbo=document['getElementById']('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x2cbf4d=a0_0x1d3a42;turbo[_0x2cbf4d(0x110)][_0x2cbf4d(0x106)](_0x2cbf4d(0xdf));try{const _0x33fbeb=gameName[_0x2cbf4d(0xf5)](/\.(gba|gbc|gb|zip)$/,_0x2cbf4d(0x11a)),_0x214546=await a0_0xb73b02[_0x2cbf4d(0x12b)](_0x33fbeb),_0x4f7763=new Blob([_0x214546],{'type':_0x2cbf4d(0x124)}),_0xf67d1d=await new Promise((_0x15d5d2,_0x277648)=>{const _0x539c71=_0x2cbf4d,_0x15b0a4=new FileReader();_0x15b0a4[_0x539c71(0x111)]=()=>_0x15d5d2(_0x15b0a4['result']),_0x15b0a4['onerror']=_0x277648,_0x15b0a4['readAsDataURL'](_0x4f7763);}),_0x1ab6ef=new Image();_0x1ab6ef['src']=_0xf67d1d,_0x1ab6ef[_0x2cbf4d(0x11b)]=async()=>{const _0x468c3e=_0x2cbf4d,_0x1d760e=document['createElement'](_0x468c3e(0x10a)),_0xfdd3c8=_0x1d760e['getContext']('2d'),_0x3819b4=0x4;let _0x139364;gameName[_0x468c3e(0xfd)]('.gbc')||gameName['endsWith'](_0x468c3e(0xf2))?_0x139364=0x3/0x6:_0x139364=0x3/0x4;const _0x2d96ec=localStorage['getItem'](gameName+_0x468c3e(0x117))||localStorage['getItem'](_0x468c3e(0x122)),[_0x3c0139,_0x2a5887,_0x5a1aa0,_0x52bbb8]=_0x2d96ec['split'](',')['map'](Number);_0x1d760e['width']=_0x5a1aa0*_0x139364*_0x3819b4,_0x1d760e[_0x468c3e(0x10d)]=_0x52bbb8*_0x139364*_0x3819b4,_0xfdd3c8[_0x468c3e(0xf6)](_0x1ab6ef,_0x3c0139*_0x139364,_0x2a5887*_0x139364,_0x5a1aa0*_0x139364,_0x52bbb8*_0x139364,0x0,0x0,_0x5a1aa0*_0x139364*_0x3819b4,_0x52bbb8*_0x139364*_0x3819b4);const _0x375c62=_0x1d760e['toDataURL']('image/png')[_0x468c3e(0x104)](',')[0x1],_0x1b3d58=localStorage[_0x468c3e(0x11e)](_0x468c3e(0x114));console[_0x468c3e(0x116)](_0x1b3d58),_0x1b3d58?azureServer(_0x375c62):freeServer(_0x375c62);};}catch(_0x2444d){inputText[_0x2cbf4d(0x10e)]=_0x2444d['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x226fab=_0x2cbf4d;document[_0x226fab(0xfc)](_0x226fab(0x102))[_0x226fab(0x10e)]='',a0_0xb73b02[_0x226fab(0x10f)]('',0x0);},0x7530);}async function freeServer(_0x238160){const _0x45d64b=a0_0x1d3a42;document[_0x45d64b(0xfc)](_0x45d64b(0x119))['textContent']='';let _0x1ad486=0x0;const _0x1f77a1=setInterval(()=>{const _0x311e07=_0x45d64b;_0x1ad486+=0x1,_0x1ad486<=0x64&&(inputText[_0x311e07(0x10e)]=_0x311e07(0xe2)+_0x1ad486+'%');},0x64);try{const _0x718e0a=dataURItoBlob(_0x238160),_0xb20f00=new FormData();_0xb20f00[_0x45d64b(0xf4)](_0x45d64b(0xfa),_0x718e0a,_0x45d64b(0xec)),_0xb20f00['append']('user',_0x45d64b(0x11f));let _0x49c27e;try{_0x49c27e=await fetch(_0x45d64b(0xff),{'method':'POST','body':_0xb20f00,'headers':{'Origin':window[_0x45d64b(0xef)]['origin'],'X-Requested-With':_0x45d64b(0x115),'User-Agent':navigator['userAgent']}});if(!_0x49c27e['ok'])throw new Error('HTTP\x20Error:\x20'+_0x49c27e[_0x45d64b(0x125)]);}catch(_0x1413d9){console[_0x45d64b(0xe9)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window['location'][_0x45d64b(0xf8)]=_0x45d64b(0xee);return;}const _0x1468e9=await _0x49c27e[_0x45d64b(0xe7)]();if(_0x1468e9[_0x45d64b(0xe8)]==='error')throw new Error(_0x1468e9['error'][_0x45d64b(0xde)]);transLogic(_0x1468e9[_0x45d64b(0x121)]);}catch(_0x50ad1a){inputText['textContent']=_0x50ad1a[_0x45d64b(0xde)];}finally{clearInterval(_0x1f77a1),isFunctionARunning=![];}}async function azureServer(_0x3c82c0){const _0x21e474=a0_0x1d3a42;document['getElementById'](_0x21e474(0x119))[_0x21e474(0x10e)]='',inputText['textContent']='.._\x20';const _0x5b4e03=localStorage[_0x21e474(0x11e)](_0x21e474(0x114));let [_0xc0f720,_0x48ebf0]=_0x5b4e03[_0x21e474(0x104)](',');try{const _0x13280a=await fetch(_0x48ebf0+_0x21e474(0xea),{'method':_0x21e474(0x107),'headers':{'Ocp-Apim-Subscription-Key':_0xc0f720,'Content-Type':_0x21e474(0x11c)},'body':dataURItoBlob(_0x3c82c0)}),_0x2e63b3=await _0x13280a[_0x21e474(0xe7)]();if(!_0x13280a['ok']||_0x2e63b3[_0x21e474(0xe8)]===_0x21e474(0x126)){const _0x19585a=_0x13280a['ok']?_0x2e63b3['error']['message']:_0x13280a[_0x21e474(0x125)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x13280a['json']())[_0x21e474(0x126)][_0x21e474(0xde)];throw new Error(_0x19585a);}const _0x39913e=_0x2e63b3[_0x21e474(0x123)][_0x21e474(0xfb)][0x0],_0x1cc962=_0x39913e[_0x21e474(0xe6)]||[],_0x136f64=_0x1cc962[_0x21e474(0xe0)](_0x483b45=>_0x483b45[_0x21e474(0x121)])[_0x21e474(0x129)]('\x0a');transLogic(_0x136f64);}catch(_0x3b4659){inputText['textContent']=_0x3b4659['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x470ea5,_0x1291ff,_0x1f1cfe){const _0x3ab1fc=a0_0x1d3a42,_0x49912f=_0x470ea5[_0x3ab1fc(0xf5)](/[\r\n]+/g,',\x20')[_0x3ab1fc(0xf5)](/([!?.,])\s*,\s*/g,_0x3ab1fc(0x118))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x3ab1fc(0xf5)](/ {2,}/g,'\x20')[_0x3ab1fc(0x127)]();var _0x579a10=_0x3ab1fc(0xe1)+_0x1291ff+'&tl='+_0x1f1cfe+_0x3ab1fc(0xe3)+encodeURIComponent(_0x49912f);try{const _0x13f428=await fetch(_0x579a10);if(!_0x13f428['ok']){if(_0x13f428[_0x3ab1fc(0x125)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x4c255f=await _0x13f428[_0x3ab1fc(0xe7)](),_0x4a38c1=new Error(_0x4c255f[_0x3ab1fc(0x126)][_0x3ab1fc(0xde)]);_0x4a38c1['code']=_0x4c255f[_0x3ab1fc(0x126)][_0x3ab1fc(0x10b)];throw _0x4a38c1;}}const _0x3e3612=await _0x13f428[_0x3ab1fc(0xe7)]();if(Array[_0x3ab1fc(0x128)](_0x3e3612)&&_0x3e3612[_0x3ab1fc(0xed)]>0x0&&Array[_0x3ab1fc(0x128)](_0x3e3612[0x0])){var _0x4106c7=_0x3e3612[0x0][_0x3ab1fc(0xe0)](_0x139dcd=>_0x139dcd[0x0])[_0x3ab1fc(0x129)]('\x20');return document[_0x3ab1fc(0xfc)]('noti-mess')[_0x3ab1fc(0x10e)]='',inputText[_0x3ab1fc(0x10e)]=_0x3ab1fc(0xe2)+_0x4106c7[_0x3ab1fc(0xf5)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4106c7[_0x3ab1fc(0xf5)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x3ab1fc(0x119))['textContent']='',inputText['textContent']='.._\x20'+_0x3e3612,_0x3e3612;}catch(_0x795122){inputText['textContent']=_0x795122[_0x3ab1fc(0xde)];throw _0x795122;}}async function autoScroll(){const _0x21c385=a0_0x1d3a42;var _0x33c062=inputText[_0x21c385(0x11d)]-inputText[_0x21c385(0x10c)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x33c062||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x21c385(0xeb)]=scrollAmount,requestAnimationFrame(autoScroll);}function a0_0x3a1f(_0x4163c2,_0x27cf92){const _0x1ad388=a0_0x1ad3();return a0_0x3a1f=function(_0x3a1f01,_0x131e8d){_0x3a1f01=_0x3a1f01-0xde;let _0x29e06f=_0x1ad388[_0x3a1f01];return _0x29e06f;},a0_0x3a1f(_0x4163c2,_0x27cf92);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x389e80){const _0x2e930e=a0_0x1d3a42;var _0x2d3d53=_0x2e930e(0x112)+encodeURIComponent(_0x389e80);try{const _0x41786c=await fetch(_0x2d3d53),_0x5240ef=await _0x41786c[_0x2e930e(0xe7)]();var _0x25f3e6=_0x5240ef[0x8][0x0][0x0];return _0x25f3e6;}catch(_0x193f8b){console[_0x2e930e(0x126)](_0x2e930e(0x113),_0x193f8b);throw _0x193f8b;}}async function transLogic(_0x4b582d){const _0x5840fa='en';if(_0x5840fa===null){const _0x109b39=await detectLanguage(_0x4b582d),_0xd5702e=await translateText(_0x4b582d,_0x109b39,'en');return translateText(_0xd5702e,'en','vi');}else{if(_0x5840fa==='en')return translateText(_0x4b582d,'en','vi');else{const _0x3b6dd1=await translateText(_0x4b582d,_0x5840fa,'en');return translateText(_0x3b6dd1,'en','vi');}}}function dataURItoBlob(_0x313ef5){const _0x3e7abd=a0_0x1d3a42,_0x563d72=atob(_0x313ef5),_0x52d897=new ArrayBuffer(_0x563d72[_0x3e7abd(0xed)]),_0x299c40=new Uint8Array(_0x52d897);for(let _0x38736c=0x0;_0x38736c<_0x563d72[_0x3e7abd(0xed)];_0x38736c++){_0x299c40[_0x38736c]=_0x563d72['charCodeAt'](_0x38736c);}return new Blob([_0x52d897],{'type':_0x3e7abd(0x124)});}document[a0_0x1d3a42(0xe5)]('DOMContentLoaded',function(){const _0xb7db6a=a0_0x1d3a42;ID['forEach'](function(_0x4a8a23){const _0x391faf=a0_0x3a1f,_0x64afbc=document[_0x391faf(0xfc)](_0x4a8a23);_0x64afbc&&_0x64afbc['addEventListener'](_0x391faf(0x100),function(){const _0x3e84e0=_0x391faf;!isFunctionARunning&&turbo[_0x3e84e0(0x110)][_0x3e84e0(0x101)](_0x3e84e0(0xdf));});}),['touchend'][_0xb7db6a(0x12a)](_0x1127b6=>{const _0x42c2bd=_0xb7db6a;turbo['addEventListener'](_0x1127b6,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x42c2bd(0xe5)](_0x1127b6,()=>{const _0x4cc3e1=_0x42c2bd;areaTrans[_0x4cc3e1(0x110)][_0x4cc3e1(0x103)]('visible');});});});