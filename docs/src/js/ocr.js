const a0_0x3f2bac=a0_0x47fe;(function(_0x1b183d,_0x284e22){const _0x387952=a0_0x47fe,_0x1b76fa=_0x1b183d();while(!![]){try{const _0x45e598=parseInt(_0x387952(0x171))/0x1+parseInt(_0x387952(0x159))/0x2*(-parseInt(_0x387952(0x173))/0x3)+-parseInt(_0x387952(0x157))/0x4+parseInt(_0x387952(0x181))/0x5+parseInt(_0x387952(0x16a))/0x6*(-parseInt(_0x387952(0x15b))/0x7)+-parseInt(_0x387952(0x153))/0x8*(parseInt(_0x387952(0x167))/0x9)+parseInt(_0x387952(0x158))/0xa;if(_0x45e598===_0x284e22)break;else _0x1b76fa['push'](_0x1b76fa['shift']());}catch(_0x1b3e02){_0x1b76fa['push'](_0x1b76fa['shift']());}}}(a0_0x401b,0x8f05d));import*as a0_0x5d4dfb from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x47fe(_0x10071c,_0xc5ca8b){const _0x401bb0=a0_0x401b();return a0_0x47fe=function(_0x47fe24,_0x4d29bc){_0x47fe24=_0x47fe24-0x135;let _0x57dd94=_0x401bb0[_0x47fe24];return _0x57dd94;},a0_0x47fe(_0x10071c,_0xc5ca8b);}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x3f2bac(0x139)](a0_0x3f2bac(0x165)),input=document[a0_0x3f2bac(0x139)](a0_0x3f2bac(0x183)),turbo=document[a0_0x3f2bac(0x139)](a0_0x3f2bac(0x17f)),ID=['A','B','R','L'];async function getImage(){const _0x4b82a9=a0_0x3f2bac;turbo['classList']['add'](_0x4b82a9(0x18b));try{const _0x5d407d=gameName[_0x4b82a9(0x166)](/\.(gba|gbc|gb|zip)$/,_0x4b82a9(0x13c)),_0x2c1b3c=await a0_0x5d4dfb['captureOCR'](_0x5d407d),_0x2be439=new Blob([_0x2c1b3c],{'type':_0x4b82a9(0x17b)}),_0x20c3a5=await new Promise((_0x53b140,_0x4d8604)=>{const _0x139f73=_0x4b82a9,_0x289b99=new FileReader();_0x289b99[_0x139f73(0x162)]=()=>_0x53b140(_0x289b99[_0x139f73(0x135)]),_0x289b99[_0x139f73(0x156)]=_0x4d8604,_0x289b99[_0x139f73(0x177)](_0x2be439);}),_0x3d40dd=new Image();_0x3d40dd['src']=_0x20c3a5,_0x3d40dd[_0x4b82a9(0x13e)]=()=>{const _0x2558f4=_0x4b82a9,_0x221249=document['createElement'](_0x2558f4(0x160)),_0x2bb5d1=_0x221249['getContext']('2d'),_0x51e387=0x4;let _0x6d53f9;gameName[_0x2558f4(0x151)](_0x2558f4(0x17d))||gameName[_0x2558f4(0x151)]('.gb')?_0x6d53f9=Math['round'](0xa0/(window[_0x2558f4(0x18d)]-0xe6)):_0x6d53f9=Math[_0x2558f4(0x145)](0xf0/(window[_0x2558f4(0x18d)]-0x96));const _0x1fd74b=localStorage[_0x2558f4(0x14e)](gameName+_0x2558f4(0x150))||localStorage[_0x2558f4(0x14e)](_0x2558f4(0x146)),[_0x378faf,_0x2f40ee,_0x12f4ab,_0x393ac4]=_0x1fd74b['split'](',')[_0x2558f4(0x142)](Number);_0x221249['width']=_0x12f4ab*_0x6d53f9*_0x51e387,_0x221249[_0x2558f4(0x17e)]=_0x393ac4*_0x6d53f9*_0x51e387,_0x2bb5d1[_0x2558f4(0x13d)](_0x3d40dd,_0x378faf*_0x6d53f9,_0x2f40ee*_0x6d53f9,_0x12f4ab*_0x6d53f9,_0x393ac4*_0x6d53f9,0x0,0x0,_0x12f4ab*_0x6d53f9*_0x51e387,_0x393ac4*_0x6d53f9*_0x51e387);const _0x427e09=_0x221249['toDataURL'](_0x2558f4(0x17b))[_0x2558f4(0x179)](',')[0x1],_0x5a424b=localStorage[_0x2558f4(0x14e)](_0x2558f4(0x18c));_0x5a424b?azureServer(_0x427e09):freeServer(_0x427e09);};}catch(_0x3fc0f3){inputText['textContent']=_0x3fc0f3[_0x4b82a9(0x13b)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x525a0e=_0x4b82a9;document[_0x525a0e(0x139)](_0x525a0e(0x165))[_0x525a0e(0x185)]='...';},0x7530);}async function freeServer(_0x22c110){const _0x12d9fa=a0_0x3f2bac;let _0x35d371=0x0;const _0x51ddd6=setInterval(()=>{const _0x24c4c7=a0_0x47fe;_0x35d371+=0x1,_0x35d371<=0x64&&(inputText[_0x24c4c7(0x185)]=_0x24c4c7(0x186)+_0x35d371+'%');},0x64);try{const _0x34a4c3=dataURItoBlob(_0x22c110),_0x1e02b4=new FormData();_0x1e02b4[_0x12d9fa(0x149)](_0x12d9fa(0x141),_0x34a4c3,'image.png'),_0x1e02b4['append']('user',_0x12d9fa(0x140));let _0x1af97d;try{_0x1af97d=await fetch(_0x12d9fa(0x174),{'method':_0x12d9fa(0x15d),'body':_0x1e02b4,'headers':{'Origin':window[_0x12d9fa(0x178)][_0x12d9fa(0x187)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x12d9fa(0x17a)]}});if(!_0x1af97d['ok'])throw new Error(_0x12d9fa(0x18e)+_0x1af97d['status']);}catch(_0x59e8c4){console[_0x12d9fa(0x16f)](_0x12d9fa(0x138)),window[_0x12d9fa(0x178)][_0x12d9fa(0x14d)]=_0x12d9fa(0x15f);return;}const _0x556c0e=await _0x1af97d[_0x12d9fa(0x137)]();if(_0x556c0e[_0x12d9fa(0x143)]===_0x12d9fa(0x13a))throw new Error(_0x556c0e[_0x12d9fa(0x13a)][_0x12d9fa(0x13b)]);transLogic(_0x556c0e[_0x12d9fa(0x144)]);}catch(_0x11de6d){inputText[_0x12d9fa(0x185)]=_0x11de6d[_0x12d9fa(0x13b)];}finally{clearInterval(_0x51ddd6),isFunctionARunning=![];}}async function azureServer(_0x468019){const _0xb58ea8=a0_0x3f2bac;inputText[_0xb58ea8(0x185)]=_0xb58ea8(0x13f);const _0x1e881a=localStorage[_0xb58ea8(0x14e)](_0xb58ea8(0x18c));let [_0x30e5e3,_0x55d3f2,_0x4701e6]=_0x1e881a['split'](',');_0x4701e6=parseInt(_0x4701e6);const _0x2ce8f7=new Date(),_0x3b757d=_0x2ce8f7[_0xb58ea8(0x154)](),_0x62f022=_0x2ce8f7[_0xb58ea8(0x14b)](),_0x3b0b9c=localStorage[_0xb58ea8(0x14e)](_0xb58ea8(0x182)),_0x77ad39=_0x3b0b9c?new Date(_0x3b0b9c):null;_0x77ad39&&(_0x3b757d!==_0x77ad39['getMonth']()||_0x62f022!==_0x77ad39[_0xb58ea8(0x14b)]())&&(_0x4701e6=0x0,localStorage[_0xb58ea8(0x188)](_0xb58ea8(0x182),_0x2ce8f7[_0xb58ea8(0x14a)]()));if(_0x4701e6>=0x1356){inputText[_0xb58ea8(0x185)]=_0xb58ea8(0x16b);return;}try{const _0x147edb=await fetch(_0x55d3f2+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0xb58ea8(0x15d),'headers':{'Ocp-Apim-Subscription-Key':_0x30e5e3,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x468019)}),_0x38130f=await _0x147edb['json']();if(!_0x147edb['ok']||_0x38130f['type']===_0xb58ea8(0x13a)){const _0x533501=_0x147edb['ok']?_0x38130f[_0xb58ea8(0x13a)][_0xb58ea8(0x13b)]:_0x147edb[_0xb58ea8(0x175)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x147edb['json']())[_0xb58ea8(0x13a)][_0xb58ea8(0x13b)];throw new Error(_0x533501);}const _0x44375a=_0x38130f[_0xb58ea8(0x15e)][_0xb58ea8(0x172)][0x0],_0x1e5d6a=_0x44375a[_0xb58ea8(0x18a)]||[],_0x4adde3=_0x1e5d6a[_0xb58ea8(0x142)](_0x4087f1=>_0x4087f1[_0xb58ea8(0x144)])[_0xb58ea8(0x16d)]('\x0a');transLogic(_0x4adde3);}catch(_0x23b876){inputText[_0xb58ea8(0x185)]=_0x23b876[_0xb58ea8(0x13b)];const _0x2420ee=++_0x4701e6;a0_0x5d4dfb[_0xb58ea8(0x189)]('['+_0x2420ee+_0xb58ea8(0x164),0x7d0),localStorage[_0xb58ea8(0x188)](_0xb58ea8(0x18c),_0x30e5e3+','+_0x55d3f2+','+_0x2420ee),localStorage['setItem'](_0xb58ea8(0x182),_0x2ce8f7[_0xb58ea8(0x14a)]());}finally{const _0x54ac2a=++_0x4701e6;a0_0x5d4dfb[_0xb58ea8(0x189)]('['+_0x54ac2a+_0xb58ea8(0x164),0x7d0),isFunctionARunning=![],localStorage['setItem'](_0xb58ea8(0x18c),_0x30e5e3+','+_0x55d3f2+','+_0x54ac2a),localStorage[_0xb58ea8(0x188)](_0xb58ea8(0x182),_0x2ce8f7[_0xb58ea8(0x14a)]());}}async function translateText(_0x2328fe,_0x60cd21,_0x511150){const _0x16432c=a0_0x3f2bac,_0x5e5d73=_0x2328fe['replace'](/[\r\n]+/g,',\x20')[_0x16432c(0x166)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x16432c(0x166)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x16432c(0x166)](/ {2,}/g,'\x20')[_0x16432c(0x17c)]();var _0x549823=_0x16432c(0x184)+_0x60cd21+_0x16432c(0x169)+_0x511150+_0x16432c(0x161)+encodeURIComponent(_0x5e5d73);try{const _0x193ab5=await fetch(_0x549823);if(!_0x193ab5['ok']){if(_0x193ab5[_0x16432c(0x175)]===0x1f4)throw new Error(_0x16432c(0x14c));else{const _0x52cc90=await _0x193ab5[_0x16432c(0x137)](),_0x1b3536=new Error(_0x52cc90[_0x16432c(0x13a)][_0x16432c(0x13b)]);_0x1b3536['code']=_0x52cc90[_0x16432c(0x13a)][_0x16432c(0x180)];throw _0x1b3536;}}const _0x31bbe7=await _0x193ab5[_0x16432c(0x137)]();if(Array[_0x16432c(0x152)](_0x31bbe7)&&_0x31bbe7[_0x16432c(0x155)]>0x0&&Array['isArray'](_0x31bbe7[0x0])){var _0x962a3=_0x31bbe7[0x0][_0x16432c(0x142)](_0x30c8f1=>_0x30c8f1[0x0])[_0x16432c(0x16d)]('\x20');return inputText['textContent']=_0x962a3[_0x16432c(0x166)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x962a3['replace'](/ {2,}/g,'\x20');}else return inputText[_0x16432c(0x185)]=_0x31bbe7,_0x31bbe7;}catch(_0x4bcaf9){inputText['textContent']=_0x4bcaf9[_0x16432c(0x13b)];throw _0x4bcaf9;}}function a0_0x401b(){const _0x4d68e8=['9daKvNa','floor','&tl=','10230CKVkRB','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','join','visible','warn','scrollWidth','1000737lpkmPn','blocks','504459AECjoI','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','status','addEventListener','readAsDataURL','location','split','userAgent','image/png','trim','.gbc','height','turbo','code','1064840iWhBbx','lastSavedDate','input-container','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','textContent','Waiting..','origin','setItem','notiMessage','lines','turbo-ocr','ApiAzure','innerWidth','HTTP\x20Error:\x20','result','scrollLeft','json','CORS-Anywhere\x20chưa\x20được\x20kích\x20hoạt.\x20Mở\x20/corsdemo...','getElementById','error','message','.png','drawImage','onload','...','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','image','map','type','text','round','screenSize','style','DOMContentLoaded','append','toISOString','getFullYear','Internal\x20Server\x20Error','href','getItem','backgroundPositionX','_setArea','endsWith','isArray','7769704jkmSCI','getMonth','length','onerror','3906548zAYScy','20592940MxhKtA','2wJcyJo','logoOcr','2345PCiALh','clientWidth','POST','readResult','https://cors-anywhere.herokuapp.com/corsdemo','canvas','&dt=t&q=','onloadend','forEach',']\x20Times\x20Azure','inputText','replace'];a0_0x401b=function(){return _0x4d68e8;};return a0_0x401b();}async function autoScroll(){const _0x785454=a0_0x3f2bac;var _0xcba921=inputText[_0x785454(0x170)]-inputText[_0x785454(0x15c)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0xcba921||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x785454(0x136)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x154ae7){const _0x1c4a42=a0_0x3f2bac;var _0x3fa59b=_0x1c4a42(0x16c)+encodeURIComponent(_0x154ae7);try{const _0x3ccfc4=await fetch(_0x3fa59b),_0x102e85=await _0x3ccfc4['json']();var _0x530bf3=_0x102e85[0x8][0x0][0x0];return _0x530bf3;}catch(_0x8612f0){console[_0x1c4a42(0x13a)]('Error\x20detecting\x20language:',_0x8612f0);throw _0x8612f0;}}async function transLogic(_0x192871){const _0x411996='en';if(_0x411996===null){const _0x3af958=await detectLanguage(_0x192871),_0x66979=await translateText(_0x192871,_0x3af958,'en');return translateText(_0x66979,'en','vi');}else{if(_0x411996==='en')return translateText(_0x192871,'en','vi');else{const _0x4f1633=await translateText(_0x192871,_0x411996,'en');return translateText(_0x4f1633,'en','vi');}}}function dataURItoBlob(_0x2dab61){const _0x58f356=a0_0x3f2bac,_0x3848f5=atob(_0x2dab61),_0x23ff3b=new ArrayBuffer(_0x3848f5['length']),_0x231611=new Uint8Array(_0x23ff3b);for(let _0x2a5c2b=0x0;_0x2a5c2b<_0x3848f5[_0x58f356(0x155)];_0x2a5c2b++){_0x231611[_0x2a5c2b]=_0x3848f5['charCodeAt'](_0x2a5c2b);}return new Blob([_0x23ff3b],{'type':_0x58f356(0x17b)});}function logoOcr(){const _0x1da0a3=a0_0x3f2bac;var _0x744c=Math[_0x1da0a3(0x168)](Math['random']()*0x3)+0x1,_0x2c301a=-0xf*_0x744c+'px';document[_0x1da0a3(0x139)](_0x1da0a3(0x15a))[_0x1da0a3(0x147)][_0x1da0a3(0x14f)]=_0x2c301a;}document[a0_0x3f2bac(0x176)](a0_0x3f2bac(0x148),function(){const _0x24d27d=a0_0x3f2bac;ID[_0x24d27d(0x163)](function(_0x134d35){const _0x10804b=_0x24d27d,_0x120baf=document[_0x10804b(0x139)](_0x134d35);_0x120baf&&_0x120baf[_0x10804b(0x176)]('touchstart',function(){!isFunctionARunning&&turbo['classList']['remove']('turbo-ocr');});}),['touchend'][_0x24d27d(0x163)](_0x10f295=>{turbo['addEventListener'](_0x10f295,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x10f295,()=>{const _0x67dbf3=a0_0x47fe;areaTrans['classList']['toggle'](_0x67dbf3(0x16e));});});});