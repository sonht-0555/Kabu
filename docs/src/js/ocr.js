const a0_0x77011c=a0_0x51ee;(function(_0x215326,_0xba6e){const _0x502ddb=a0_0x51ee,_0x51451a=_0x215326();while(!![]){try{const _0x2b700e=-parseInt(_0x502ddb(0x192))/0x1*(parseInt(_0x502ddb(0x186))/0x2)+-parseInt(_0x502ddb(0x163))/0x3+parseInt(_0x502ddb(0x195))/0x4*(-parseInt(_0x502ddb(0x179))/0x5)+-parseInt(_0x502ddb(0x1a9))/0x6*(parseInt(_0x502ddb(0x1ac))/0x7)+parseInt(_0x502ddb(0x19f))/0x8*(parseInt(_0x502ddb(0x180))/0x9)+-parseInt(_0x502ddb(0x1a3))/0xa*(-parseInt(_0x502ddb(0x1a4))/0xb)+parseInt(_0x502ddb(0x18a))/0xc;if(_0x2b700e===_0xba6e)break;else _0x51451a['push'](_0x51451a['shift']());}catch(_0x55e384){_0x51451a['push'](_0x51451a['shift']());}}}(a0_0x3292,0x41f39));import*as a0_0x1e9f66 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x51ee(_0x205314,_0x4e9070){const _0x329257=a0_0x3292();return a0_0x51ee=function(_0x51ee0b,_0x480cef){_0x51ee0b=_0x51ee0b-0x15b;let _0x347d28=_0x329257[_0x51ee0b];return _0x347d28;},a0_0x51ee(_0x205314,_0x4e9070);}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x3292(){const _0x32869b=['result','origin','.gb','35120eDiznN','captureOCR','clientWidth','onerror','138490kUfLLj','374qWuNYk','href','Cors-controlers\x20have\x20not\x20been\x20activated.','touchend','Internal\x20Server\x20Error','114NUZhvc','log','json','3010suLHSs','height','toDataURL','join','trim','error','_setArea','touchstart','visible','.._\x20','map','505428vVZyjU','HTTP\x20Error:\x20','add','message','status','replace','text','getItem','endsWith','turbo','userAgent','scrollLeft','POST','scrollWidth','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','noti-mess','classList','src','onloadend','DOMContentLoaded','location','isArray','575045bENbkQ','notiMessage','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','image.png','user','textContent','lines','9QgpTgz','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','Error\x20detecting\x20language:','append','width','readAsDataURL','958AlODAm','https://cors-anywhere.herokuapp.com/corsdemo','inputText','canvas','2653620uOjbTI','&tl=','split','forEach','charCodeAt','&dt=t&q=','.gbc','image/png','281WqNHGz','ApiAzure','code','4EJQzgh','drawImage','getElementById','getContext','length','toggle','addEventListener'];a0_0x3292=function(){return _0x32869b;};return a0_0x3292();}const inputText=document[a0_0x77011c(0x197)](a0_0x77011c(0x188)),turbo=document[a0_0x77011c(0x197)](a0_0x77011c(0x16c)),ID=['A','B','R','L'];async function getImage(){const _0x417852=a0_0x77011c;turbo['classList'][_0x417852(0x165)]('turbo-ocr');try{const _0x6d3746=gameName[_0x417852(0x168)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x355afc=await a0_0x1e9f66[_0x417852(0x1a0)](_0x6d3746),_0x119be3=new Blob([_0x355afc],{'type':_0x417852(0x191)}),_0x295ba6=await new Promise((_0x560b00,_0x59270f)=>{const _0x5106d5=_0x417852,_0x51ca21=new FileReader();_0x51ca21[_0x5106d5(0x175)]=()=>_0x560b00(_0x51ca21[_0x5106d5(0x19c)]),_0x51ca21[_0x5106d5(0x1a2)]=_0x59270f,_0x51ca21[_0x5106d5(0x185)](_0x119be3);}),_0x57641a=new Image();_0x57641a[_0x417852(0x174)]=_0x295ba6,_0x57641a['onload']=async()=>{const _0xf029e3=_0x417852,_0x16eaef=document['createElement'](_0xf029e3(0x189)),_0x32d494=_0x16eaef[_0xf029e3(0x198)]('2d'),_0xf24d47=0x4;let _0x5713f8;gameName['endsWith'](_0xf029e3(0x190))||gameName[_0xf029e3(0x16b)](_0xf029e3(0x19e))?_0x5713f8=0x3/0x6:_0x5713f8=0x3/0x4;const _0x33e062=localStorage[_0xf029e3(0x16a)](gameName+_0xf029e3(0x15e))||localStorage['getItem']('screenSize'),[_0x5081d8,_0x1d1ba1,_0x598ad9,_0x1a3b98]=_0x33e062['split'](',')[_0xf029e3(0x162)](Number);_0x16eaef[_0xf029e3(0x184)]=_0x598ad9*_0x5713f8*_0xf24d47,_0x16eaef[_0xf029e3(0x1ad)]=_0x1a3b98*_0x5713f8*_0xf24d47,_0x32d494[_0xf029e3(0x196)](_0x57641a,_0x5081d8*_0x5713f8,_0x1d1ba1*_0x5713f8,_0x598ad9*_0x5713f8,_0x1a3b98*_0x5713f8,0x0,0x0,_0x598ad9*_0x5713f8*_0xf24d47,_0x1a3b98*_0x5713f8*_0xf24d47);const _0x215872=_0x16eaef[_0xf029e3(0x1ae)](_0xf029e3(0x191))[_0xf029e3(0x18c)](',')[0x1],_0x514a74=localStorage[_0xf029e3(0x16a)](_0xf029e3(0x193));console[_0xf029e3(0x1aa)](_0x514a74),_0x514a74?azureServer(_0x215872):freeServer(_0x215872);};}catch(_0x3bb421){inputText['textContent']=_0x3bb421['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x247108=_0x417852;document['getElementById'](_0x247108(0x188))[_0x247108(0x17e)]='',a0_0x1e9f66[_0x247108(0x17a)]('',0x0);},0x7530);}async function freeServer(_0x13ba32){const _0x3affdf=a0_0x77011c;document[_0x3affdf(0x197)](_0x3affdf(0x172))[_0x3affdf(0x17e)]='';let _0x5c9191=0x0;const _0x50010a=setInterval(()=>{const _0x4c9fed=_0x3affdf;_0x5c9191+=0x1,_0x5c9191<=0x64&&(inputText[_0x4c9fed(0x17e)]=_0x4c9fed(0x161)+_0x5c9191+'%');},0x64);try{const _0xc2a50=dataURItoBlob(_0x13ba32),_0x35cd57=new FormData();_0x35cd57[_0x3affdf(0x183)]('image',_0xc2a50,_0x3affdf(0x17c)),_0x35cd57[_0x3affdf(0x183)](_0x3affdf(0x17d),_0x3affdf(0x181));let _0x7eaf9f;try{_0x7eaf9f=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':'POST','body':_0x35cd57,'headers':{'Origin':window[_0x3affdf(0x177)][_0x3affdf(0x19d)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x3affdf(0x16d)]}});if(!_0x7eaf9f['ok'])throw new Error(_0x3affdf(0x164)+_0x7eaf9f[_0x3affdf(0x167)]);}catch(_0x5568f6){console['warn'](_0x3affdf(0x1a6)),window['location'][_0x3affdf(0x1a5)]=_0x3affdf(0x187);return;}const _0x1119e1=await _0x7eaf9f[_0x3affdf(0x1ab)]();if(_0x1119e1['type']===_0x3affdf(0x15d))throw new Error(_0x1119e1[_0x3affdf(0x15d)][_0x3affdf(0x166)]);transLogic(_0x1119e1[_0x3affdf(0x169)]);}catch(_0x4b687a){inputText['textContent']=_0x4b687a[_0x3affdf(0x166)];}finally{clearInterval(_0x50010a),isFunctionARunning=![];}}async function azureServer(_0x56c647){const _0x983dd8=a0_0x77011c;document[_0x983dd8(0x197)](_0x983dd8(0x172))['textContent']='',inputText[_0x983dd8(0x17e)]=_0x983dd8(0x161);const _0x548320=localStorage[_0x983dd8(0x16a)](_0x983dd8(0x193));let [_0x4588ce,_0x5a3a9b]=_0x548320[_0x983dd8(0x18c)](',');try{const _0x58fe06=await fetch(_0x5a3a9b+_0x983dd8(0x17b),{'method':_0x983dd8(0x16f),'headers':{'Ocp-Apim-Subscription-Key':_0x4588ce,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x56c647)}),_0x3d1943=await _0x58fe06['json']();if(!_0x58fe06['ok']||_0x3d1943['type']==='error'){const _0x359874=_0x58fe06['ok']?_0x3d1943[_0x983dd8(0x15d)]['message']:_0x58fe06[_0x983dd8(0x167)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x58fe06['json']())[_0x983dd8(0x15d)][_0x983dd8(0x166)];throw new Error(_0x359874);}const _0x17d900=_0x3d1943['readResult']['blocks'][0x0],_0x348601=_0x17d900[_0x983dd8(0x17f)]||[],_0x3c304f=_0x348601[_0x983dd8(0x162)](_0x41b1fc=>_0x41b1fc['text'])[_0x983dd8(0x15b)]('\x0a');transLogic(_0x3c304f);}catch(_0x153249){inputText[_0x983dd8(0x17e)]=_0x153249[_0x983dd8(0x166)];}finally{isFunctionARunning=![];}}async function translateText(_0x1b5e9b,_0x3de8c6,_0x1980b6){const _0x512b95=a0_0x77011c,_0x2a49e7=_0x1b5e9b[_0x512b95(0x168)](/[\r\n]+/g,',\x20')[_0x512b95(0x168)](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x512b95(0x168)](/ {2,}/g,'\x20')[_0x512b95(0x15c)]();var _0x2fe577=_0x512b95(0x171)+_0x3de8c6+_0x512b95(0x18b)+_0x1980b6+_0x512b95(0x18f)+encodeURIComponent(_0x2a49e7);try{const _0x37ddb1=await fetch(_0x2fe577);if(!_0x37ddb1['ok']){if(_0x37ddb1[_0x512b95(0x167)]===0x1f4)throw new Error(_0x512b95(0x1a8));else{const _0x5562b0=await _0x37ddb1['json'](),_0xc0d9da=new Error(_0x5562b0['error'][_0x512b95(0x166)]);_0xc0d9da[_0x512b95(0x194)]=_0x5562b0[_0x512b95(0x15d)][_0x512b95(0x194)];throw _0xc0d9da;}}const _0x151fad=await _0x37ddb1[_0x512b95(0x1ab)]();if(Array[_0x512b95(0x178)](_0x151fad)&&_0x151fad[_0x512b95(0x199)]>0x0&&Array[_0x512b95(0x178)](_0x151fad[0x0])){var _0x12394c=_0x151fad[0x0]['map'](_0x4f0eb6=>_0x4f0eb6[0x0])[_0x512b95(0x15b)]('\x20');return document[_0x512b95(0x197)]('noti-mess')[_0x512b95(0x17e)]='',inputText[_0x512b95(0x17e)]=_0x512b95(0x161)+_0x12394c[_0x512b95(0x168)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x12394c[_0x512b95(0x168)](/ {2,}/g,'\x20');}else return document[_0x512b95(0x197)](_0x512b95(0x172))['textContent']='',inputText[_0x512b95(0x17e)]=_0x512b95(0x161)+_0x151fad,_0x151fad;}catch(_0x204730){inputText[_0x512b95(0x17e)]=_0x204730['message'];throw _0x204730;}}async function autoScroll(){const _0x99c2bf=a0_0x77011c;var _0x1fbf68=inputText[_0x99c2bf(0x170)]-inputText[_0x99c2bf(0x1a1)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1fbf68||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x99c2bf(0x16e)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x586f7f){const _0x460a0d=a0_0x77011c;var _0x1bb680='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x586f7f);try{const _0x378f69=await fetch(_0x1bb680),_0x337028=await _0x378f69['json']();var _0x5420f6=_0x337028[0x8][0x0][0x0];return _0x5420f6;}catch(_0x5d3683){console[_0x460a0d(0x15d)](_0x460a0d(0x182),_0x5d3683);throw _0x5d3683;}}async function transLogic(_0x93cf7e){const _0x4be08d='en';if(_0x4be08d===null){const _0x1e3c7f=await detectLanguage(_0x93cf7e),_0x435d01=await translateText(_0x93cf7e,_0x1e3c7f,'en');return translateText(_0x435d01,'en','vi');}else{if(_0x4be08d==='en')return translateText(_0x93cf7e,'en','vi');else{const _0x190e75=await translateText(_0x93cf7e,_0x4be08d,'en');return translateText(_0x190e75,'en','vi');}}}function dataURItoBlob(_0x3c12ca){const _0x3f0bc7=a0_0x77011c,_0x598254=atob(_0x3c12ca),_0x5d0242=new ArrayBuffer(_0x598254[_0x3f0bc7(0x199)]),_0x2cc92e=new Uint8Array(_0x5d0242);for(let _0x39feee=0x0;_0x39feee<_0x598254['length'];_0x39feee++){_0x2cc92e[_0x39feee]=_0x598254[_0x3f0bc7(0x18e)](_0x39feee);}return new Blob([_0x5d0242],{'type':_0x3f0bc7(0x191)});}document[a0_0x77011c(0x19b)](a0_0x77011c(0x176),function(){const _0x411157=a0_0x77011c;ID['forEach'](function(_0x15e8e9){const _0x3f5450=a0_0x51ee,_0x130eb8=document['getElementById'](_0x15e8e9);_0x130eb8&&_0x130eb8[_0x3f5450(0x19b)](_0x3f5450(0x15f),function(){const _0x4b14f4=_0x3f5450;!isFunctionARunning&&turbo[_0x4b14f4(0x173)]['remove']('turbo-ocr');});}),[_0x411157(0x1a7)][_0x411157(0x18d)](_0x373022=>{const _0x308297=_0x411157;turbo[_0x308297(0x19b)](_0x373022,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x373022,()=>{const _0x29bfe3=_0x308297;areaTrans[_0x29bfe3(0x173)][_0x29bfe3(0x19a)](_0x29bfe3(0x160));});});});