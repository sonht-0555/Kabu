const a0_0x1597ad=a0_0x2bea;(function(_0x38501c,_0x135296){const _0x22c07c=a0_0x2bea,_0x3e6df8=_0x38501c();while(!![]){try{const _0x54b6e7=-parseInt(_0x22c07c(0x120))/0x1*(-parseInt(_0x22c07c(0x151))/0x2)+parseInt(_0x22c07c(0x143))/0x3+parseInt(_0x22c07c(0x12f))/0x4*(parseInt(_0x22c07c(0x149))/0x5)+-parseInt(_0x22c07c(0x11f))/0x6+-parseInt(_0x22c07c(0x14a))/0x7+-parseInt(_0x22c07c(0x14f))/0x8*(parseInt(_0x22c07c(0x13f))/0x9)+parseInt(_0x22c07c(0x127))/0xa;if(_0x54b6e7===_0x135296)break;else _0x3e6df8['push'](_0x3e6df8['shift']());}catch(_0x1991ac){_0x3e6df8['push'](_0x3e6df8['shift']());}}}(a0_0x4cf1,0x64e07));import*as a0_0x4f66fe from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x1597ad(0x116)](a0_0x1597ad(0x10a)),turbo=document[a0_0x1597ad(0x116)](a0_0x1597ad(0x125)),ID=['A','B','R','L'];async function getImage(){const _0x3334be=a0_0x1597ad;turbo[_0x3334be(0x152)][_0x3334be(0x142)]('turbo-ocr');try{const _0x42d3fa=gameName[_0x3334be(0x105)](/\.(gba|gbc|gb|zip)$/,_0x3334be(0x107)),_0x2a287c=await a0_0x4f66fe[_0x3334be(0x150)](_0x42d3fa),_0x26bd5a=new Blob([_0x2a287c],{'type':_0x3334be(0x118)}),_0x39b2c6=await new Promise((_0x2c8607,_0x921dc7)=>{const _0x4c5c37=_0x3334be,_0x36ae67=new FileReader();_0x36ae67['onloadend']=()=>_0x2c8607(_0x36ae67['result']),_0x36ae67[_0x4c5c37(0x140)]=_0x921dc7,_0x36ae67[_0x4c5c37(0x11c)](_0x26bd5a);}),_0x50397b=new Image();_0x50397b[_0x3334be(0x13c)]=_0x39b2c6,_0x50397b[_0x3334be(0x129)]=async()=>{const _0x552339=_0x3334be,_0x214d09=document[_0x552339(0x147)](_0x552339(0x139)),_0x4493a6=_0x214d09[_0x552339(0x14e)]('2d'),_0x2269de=0x4;let _0x5322f6;gameName[_0x552339(0x131)](_0x552339(0x10c))||gameName[_0x552339(0x131)](_0x552339(0x133))?_0x5322f6=0x3/0x6:_0x5322f6=0x3/0x4;const _0x3b155c=localStorage[_0x552339(0x155)](gameName+_0x552339(0x141))||localStorage[_0x552339(0x155)](_0x552339(0x12b)),[_0x3a3b29,_0x3d46f9,_0x92329d,_0x281066]=_0x3b155c['split'](',')['map'](Number);_0x214d09['width']=_0x92329d*_0x5322f6*_0x2269de,_0x214d09[_0x552339(0x11e)]=_0x281066*_0x5322f6*_0x2269de,_0x4493a6[_0x552339(0x13a)](_0x50397b,_0x3a3b29*_0x5322f6,_0x3d46f9*_0x5322f6,_0x92329d*_0x5322f6,_0x281066*_0x5322f6,0x0,0x0,_0x92329d*_0x5322f6*_0x2269de,_0x281066*_0x5322f6*_0x2269de);const _0x4ab90d=_0x214d09[_0x552339(0x136)](_0x552339(0x118))[_0x552339(0x14c)](',')[0x1],_0x3e53de=localStorage[_0x552339(0x155)](_0x552339(0x137));console[_0x552339(0x156)](_0x3e53de),_0x3e53de?azureServer(_0x4ab90d):freeServer(_0x4ab90d);};}catch(_0x3f977e){inputText['textContent']=_0x3f977e[_0x3334be(0x126)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xfcb98c=_0x3334be;document['getElementById'](_0xfcb98c(0x10a))['textContent']='',a0_0x4f66fe['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x269a9d){const _0x5512e2=a0_0x1597ad;document[_0x5512e2(0x116)](_0x5512e2(0x148))[_0x5512e2(0x13b)]='';let _0x448022=0x0;const _0xbde83d=setInterval(()=>{const _0x5578d1=_0x5512e2;_0x448022+=0x1,_0x448022<=0x64&&(inputText[_0x5578d1(0x13b)]=_0x5578d1(0x12a)+_0x448022+'%');},0x64);try{const _0x562306=dataURItoBlob(_0x269a9d),_0x288e01=new FormData();_0x288e01[_0x5512e2(0x106)](_0x5512e2(0x128),_0x562306,_0x5512e2(0x124)),_0x288e01[_0x5512e2(0x106)](_0x5512e2(0x114),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x532d2d;try{_0x532d2d=await fetch(_0x5512e2(0x119),{'method':'POST','body':_0x288e01,'headers':{'Origin':window['location'][_0x5512e2(0x154)],'X-Requested-With':_0x5512e2(0x146),'User-Agent':navigator['userAgent']}});if(!_0x532d2d['ok'])throw new Error(_0x5512e2(0x134)+_0x532d2d['status']);}catch(_0x5dcecc){console['warn'](_0x5512e2(0x104)),window[_0x5512e2(0x13d)][_0x5512e2(0x123)]=_0x5512e2(0x13e);return;}const _0x49ffed=await _0x532d2d[_0x5512e2(0x145)]();if(_0x49ffed['type']===_0x5512e2(0x132))throw new Error(_0x49ffed[_0x5512e2(0x132)][_0x5512e2(0x126)]);transLogic(_0x49ffed['text']);}catch(_0x83fae3){inputText['textContent']=_0x83fae3[_0x5512e2(0x126)];}finally{clearInterval(_0xbde83d),isFunctionARunning=![];}}function a0_0x2bea(_0x5f1704,_0x2ed306){const _0x4cf160=a0_0x4cf1();return a0_0x2bea=function(_0x2bea93,_0x54738b){_0x2bea93=_0x2bea93-0x104;let _0x4a694c=_0x4cf160[_0x2bea93];return _0x4a694c;},a0_0x2bea(_0x5f1704,_0x2ed306);}async function azureServer(_0x35bce5){const _0x4a680b=a0_0x1597ad;document[_0x4a680b(0x116)](_0x4a680b(0x148))['textContent']='',inputText['textContent']=_0x4a680b(0x12a);const _0x272653=localStorage[_0x4a680b(0x155)]('ApiAzure');let [_0x5d8791,_0x37138b]=_0x272653[_0x4a680b(0x14c)](',');try{const _0x6c308f=await fetch(_0x37138b+_0x4a680b(0x14d),{'method':_0x4a680b(0x112),'headers':{'Ocp-Apim-Subscription-Key':_0x5d8791,'Content-Type':_0x4a680b(0x10d)},'body':dataURItoBlob(_0x35bce5)}),_0x239b65=await _0x6c308f[_0x4a680b(0x145)]();if(!_0x6c308f['ok']||_0x239b65[_0x4a680b(0x10e)]==='error'){const _0x2c0389=_0x6c308f['ok']?_0x239b65[_0x4a680b(0x132)]['message']:_0x6c308f['status']===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x6c308f['json']())[_0x4a680b(0x132)][_0x4a680b(0x126)];throw new Error(_0x2c0389);}const _0x4c87b8=_0x239b65[_0x4a680b(0x10b)][_0x4a680b(0x144)][0x0],_0x490041=_0x4c87b8[_0x4a680b(0x138)]||[],_0x16587c=_0x490041['map'](_0x387338=>_0x387338[_0x4a680b(0x10f)])[_0x4a680b(0x110)]('\x0a');transLogic(_0x16587c);}catch(_0x4bf639){inputText[_0x4a680b(0x13b)]=_0x4bf639[_0x4a680b(0x126)];}finally{isFunctionARunning=![];}}async function translateText(_0x51acf8,_0x5dffce,_0x3e32b3){const _0x443c7b=a0_0x1597ad,_0x2d346b=_0x51acf8[_0x443c7b(0x105)](/[\r\n]+/g,',\x20')[_0x443c7b(0x105)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x443c7b(0x105)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x443c7b(0x105)](/ {2,}/g,'\x20')[_0x443c7b(0x122)]();var _0x4270c8='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x5dffce+'&tl='+_0x3e32b3+_0x443c7b(0x113)+encodeURIComponent(_0x2d346b);try{const _0x1092ce=await fetch(_0x4270c8);if(!_0x1092ce['ok']){if(_0x1092ce[_0x443c7b(0x115)]===0x1f4)throw new Error(_0x443c7b(0x109));else{const _0x42262c=await _0x1092ce[_0x443c7b(0x145)](),_0xc446a7=new Error(_0x42262c['error'][_0x443c7b(0x126)]);_0xc446a7[_0x443c7b(0x108)]=_0x42262c['error'][_0x443c7b(0x108)];throw _0xc446a7;}}const _0x120216=await _0x1092ce[_0x443c7b(0x145)]();if(Array[_0x443c7b(0x11d)](_0x120216)&&_0x120216['length']>0x0&&Array[_0x443c7b(0x11d)](_0x120216[0x0])){var _0x4f8dfd=_0x120216[0x0][_0x443c7b(0x11a)](_0x15fc34=>_0x15fc34[0x0])[_0x443c7b(0x110)]('\x20');return document[_0x443c7b(0x116)](_0x443c7b(0x148))[_0x443c7b(0x13b)]='',inputText['textContent']=_0x443c7b(0x12a)+_0x4f8dfd[_0x443c7b(0x105)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4f8dfd[_0x443c7b(0x105)](/ {2,}/g,'\x20');}else return document[_0x443c7b(0x116)](_0x443c7b(0x148))[_0x443c7b(0x13b)]='',inputText[_0x443c7b(0x13b)]='.._\x20'+_0x120216,_0x120216;}catch(_0x7cbe19){inputText[_0x443c7b(0x13b)]=_0x7cbe19[_0x443c7b(0x126)];throw _0x7cbe19;}}async function autoScroll(){const _0x51bf75=a0_0x1597ad;var _0x5017fc=inputText['scrollWidth']-inputText[_0x51bf75(0x14b)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x5017fc||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x51bf75(0x135)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x584d1e){const _0xd07e07=a0_0x1597ad;var _0x3a7601=_0xd07e07(0x157)+encodeURIComponent(_0x584d1e);try{const _0x25de24=await fetch(_0x3a7601),_0xec752a=await _0x25de24[_0xd07e07(0x145)]();var _0x310f00=_0xec752a[0x8][0x0][0x0];return _0x310f00;}catch(_0x195262){console[_0xd07e07(0x132)](_0xd07e07(0x12e),_0x195262);throw _0x195262;}}async function transLogic(_0x1faff7){const _0x2f815f='en';if(_0x2f815f===null){const _0xa2f5ee=await detectLanguage(_0x1faff7),_0x1b3bc4=await translateText(_0x1faff7,_0xa2f5ee,'en');return translateText(_0x1b3bc4,'en','vi');}else{if(_0x2f815f==='en')return translateText(_0x1faff7,'en','vi');else{const _0x338e1f=await translateText(_0x1faff7,_0x2f815f,'en');return translateText(_0x338e1f,'en','vi');}}}function dataURItoBlob(_0x3c53b8){const _0x368470=a0_0x1597ad,_0x2606d2=atob(_0x3c53b8),_0x2f6e07=new ArrayBuffer(_0x2606d2[_0x368470(0x12d)]),_0x187e1d=new Uint8Array(_0x2f6e07);for(let _0x45129c=0x0;_0x45129c<_0x2606d2['length'];_0x45129c++){_0x187e1d[_0x45129c]=_0x2606d2[_0x368470(0x117)](_0x45129c);}return new Blob([_0x2f6e07],{'type':_0x368470(0x118)});}function a0_0x4cf1(){const _0x38f7d6=['json','XMLHttpRequest','createElement','noti-mess','35qcJhqI','522200WjTEaK','clientWidth','split','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','getContext','8584XgDllM','captureOCR','836688FabjFB','classList','addEventListener','origin','getItem','log','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','touchstart','Cors-controlers\x20have\x20not\x20been\x20activated.','replace','append','.png','code','Internal\x20Server\x20Error','inputText','readResult','.gbc','application/octet-stream','type','text','join','toggle','POST','&dt=t&q=','user','status','getElementById','charCodeAt','image/png','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','map','touchend','readAsDataURL','isArray','height','2069364wkWyej','1iUkuvn','forEach','trim','href','image.png','turbo','message','4120740cssIdf','image','onload','.._\x20','screenSize','turbo-ocr','length','Error\x20detecting\x20language:','52180TaBklY','DOMContentLoaded','endsWith','error','.gb','HTTP\x20Error:\x20','scrollLeft','toDataURL','ApiAzure','lines','canvas','drawImage','textContent','src','location','https://cors-anywhere.herokuapp.com/corsdemo','3411FxDuBY','onerror','_setArea','add','952857tloXiH','blocks'];a0_0x4cf1=function(){return _0x38f7d6;};return a0_0x4cf1();}document['addEventListener'](a0_0x1597ad(0x130),function(){const _0x1aacf5=a0_0x1597ad;ID[_0x1aacf5(0x121)](function(_0x43a9f2){const _0x570b27=_0x1aacf5,_0x298bd3=document[_0x570b27(0x116)](_0x43a9f2);_0x298bd3&&_0x298bd3[_0x570b27(0x153)](_0x570b27(0x158),function(){const _0xcb31f3=_0x570b27;!isFunctionARunning&&turbo[_0xcb31f3(0x152)]['remove'](_0xcb31f3(0x12c));});}),[_0x1aacf5(0x11b)][_0x1aacf5(0x121)](_0x5b5a2e=>{const _0x3dd2c6=_0x1aacf5;turbo['addEventListener'](_0x5b5a2e,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x3dd2c6(0x153)](_0x5b5a2e,()=>{const _0x3c09ff=_0x3dd2c6;areaTrans[_0x3c09ff(0x152)][_0x3c09ff(0x111)]('visible');});});});