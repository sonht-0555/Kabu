const a0_0x399f7d=a0_0x1165;function a0_0x38fc(){const _0x4240f7=['Internal\x20Server\x20Error','4924914eZCbuP','toDataURL','getContext','692pBoFBe','932AbLMRp','error','height','forEach','image/png','json','origin','textContent','message','canvas','touchend','ApiAzure','.._\x20','POST','replace','onerror','onload','&dt=t&q=','https://cors-anywhere.herokuapp.com/corsdemo','.gbc','inputText','readAsDataURL','type','scrollWidth','14488IihVBo','classList','500\x20Internal\x20Server\x20Error','lines','2346606iTImoA','application/octet-stream','warn','&tl=','trim','Cors-controlers\x20have\x20not\x20been\x20activated.','status','noti-mess','src','isArray','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','531cRgZzp','turbo','touchstart','location','getItem','append','252KXwqfY','getElementById','map','drawImage','3406550QeqpOh','result','join','add','log','code','_setArea','4HKGpEx','HTTP\x20Error:\x20','toggle','DOMContentLoaded','href','image.png','.gb','7633550AgGWPZ','addEventListener','readResult','turbo-ocr','split','image','.png','7oqGipU','text','remove','scrollLeft','1710775rYTSeq','length','visible','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','user','Error\x20detecting\x20language:','endsWith'];a0_0x38fc=function(){return _0x4240f7;};return a0_0x38fc();}(function(_0x248660,_0x304c76){const _0xb6d6eb=a0_0x1165,_0xbfbcd1=_0x248660();while(!![]){try{const _0x3d84fd=parseInt(_0xb6d6eb(0x7c))/0x1*(parseInt(_0xb6d6eb(0x7d))/0x2)+-parseInt(_0xb6d6eb(0x99))/0x3*(parseInt(_0xb6d6eb(0xb5))/0x4)+-parseInt(_0xb6d6eb(0xae))/0x5+-parseInt(_0xb6d6eb(0x79))/0x6*(parseInt(_0xb6d6eb(0x6d))/0x7)+-parseInt(_0xb6d6eb(0x95))/0x8*(parseInt(_0xb6d6eb(0xa4))/0x9)+-parseInt(_0xb6d6eb(0x66))/0xa+parseInt(_0xb6d6eb(0x71))/0xb*(parseInt(_0xb6d6eb(0xaa))/0xc);if(_0x3d84fd===_0x304c76)break;else _0xbfbcd1['push'](_0xbfbcd1['shift']());}catch(_0x463b65){_0xbfbcd1['push'](_0xbfbcd1['shift']());}}}(a0_0x38fc,0x69f2a));import*as a0_0x2b80d4 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x399f7d(0x91)),turbo=document[a0_0x399f7d(0xab)](a0_0x399f7d(0xa5)),ID=['A','B','R','L'];async function getImage(){const _0x967f17=a0_0x399f7d;turbo[_0x967f17(0x96)][_0x967f17(0xb1)](_0x967f17(0x69));try{const _0x339893=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x967f17(0x6c)),_0x19d498=await a0_0x2b80d4['captureOCR'](_0x339893),_0x173c20=new Blob([_0x19d498],{'type':_0x967f17(0x81)}),_0x782e39=await new Promise((_0x48a7df,_0x27e994)=>{const _0x42dd48=_0x967f17,_0x3e44de=new FileReader();_0x3e44de['onloadend']=()=>_0x48a7df(_0x3e44de[_0x42dd48(0xaf)]),_0x3e44de[_0x42dd48(0x8c)]=_0x27e994,_0x3e44de[_0x42dd48(0x92)](_0x173c20);}),_0x367f6a=new Image();_0x367f6a[_0x967f17(0xa1)]=_0x782e39,_0x367f6a[_0x967f17(0x8d)]=async()=>{const _0x2a2fef=_0x967f17,_0x464fb9=document['createElement'](_0x2a2fef(0x86)),_0x5bea0d=_0x464fb9[_0x2a2fef(0x7b)]('2d'),_0x197fc3=0x4;let _0x275e85;gameName[_0x2a2fef(0x77)](_0x2a2fef(0x90))||gameName[_0x2a2fef(0x77)](_0x2a2fef(0x65))?_0x275e85=0x3/0x6:_0x275e85=0x3/0x4;const _0x977fe3=localStorage[_0x2a2fef(0xa8)](gameName+_0x2a2fef(0xb4))||localStorage['getItem']('screenSize'),[_0x1fac03,_0x1a2ac5,_0x56f8d3,_0x2da64d]=_0x977fe3['split'](',')[_0x2a2fef(0xac)](Number);_0x464fb9['width']=_0x56f8d3*_0x275e85*_0x197fc3,_0x464fb9[_0x2a2fef(0x7f)]=_0x2da64d*_0x275e85*_0x197fc3,_0x5bea0d[_0x2a2fef(0xad)](_0x367f6a,_0x1fac03*_0x275e85,_0x1a2ac5*_0x275e85,_0x56f8d3*_0x275e85,_0x2da64d*_0x275e85,0x0,0x0,_0x56f8d3*_0x275e85*_0x197fc3,_0x2da64d*_0x275e85*_0x197fc3);const _0x436725=_0x464fb9[_0x2a2fef(0x7a)](_0x2a2fef(0x81))['split'](',')[0x1],_0x12bfd3=localStorage['getItem'](_0x2a2fef(0x88));console[_0x2a2fef(0xb2)](_0x12bfd3),_0x12bfd3?azureServer(_0x436725):freeServer(_0x436725);};}catch(_0x6e6835){inputText[_0x967f17(0x84)]=_0x6e6835[_0x967f17(0x85)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x351843=_0x967f17;document['getElementById'](_0x351843(0x91))[_0x351843(0x84)]='',a0_0x2b80d4['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x24e385){const _0x37a961=a0_0x399f7d;document[_0x37a961(0xab)](_0x37a961(0xa0))[_0x37a961(0x84)]='';let _0x5367c1=0x0;const _0xe9cfea=setInterval(()=>{const _0x2dccf5=_0x37a961;_0x5367c1+=0x1,_0x5367c1<=0x64&&(inputText[_0x2dccf5(0x84)]=_0x2dccf5(0x89)+_0x5367c1+'%');},0x64);try{const _0x38cae3=dataURItoBlob(_0x24e385),_0x3c9cf9=new FormData();_0x3c9cf9[_0x37a961(0xa9)](_0x37a961(0x6b),_0x38cae3,_0x37a961(0x64)),_0x3c9cf9['append'](_0x37a961(0x75),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x3da781;try{_0x3da781=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x37a961(0x8a),'body':_0x3c9cf9,'headers':{'Origin':window[_0x37a961(0xa7)][_0x37a961(0x83)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator['userAgent']}});if(!_0x3da781['ok'])throw new Error(_0x37a961(0xb6)+_0x3da781[_0x37a961(0x9f)]);}catch(_0x4c6afd){console[_0x37a961(0x9b)](_0x37a961(0x9e)),window[_0x37a961(0xa7)][_0x37a961(0xb9)]=_0x37a961(0x8f);return;}const _0x852d88=await _0x3da781[_0x37a961(0x82)]();if(_0x852d88['type']===_0x37a961(0x7e))throw new Error(_0x852d88[_0x37a961(0x7e)][_0x37a961(0x85)]);transLogic(_0x852d88[_0x37a961(0x6e)]);}catch(_0x5248a8){inputText[_0x37a961(0x84)]=_0x5248a8[_0x37a961(0x85)];}finally{clearInterval(_0xe9cfea),isFunctionARunning=![];}}async function azureServer(_0x7c6007){const _0x182929=a0_0x399f7d;document[_0x182929(0xab)](_0x182929(0xa0))[_0x182929(0x84)]='',inputText[_0x182929(0x84)]=_0x182929(0x89);const _0x179f2a=localStorage[_0x182929(0xa8)](_0x182929(0x88));let [_0x347364,_0x32787d]=_0x179f2a[_0x182929(0x6a)](',');try{const _0x58db4=await fetch(_0x32787d+_0x182929(0xa3),{'method':_0x182929(0x8a),'headers':{'Ocp-Apim-Subscription-Key':_0x347364,'Content-Type':_0x182929(0x9a)},'body':dataURItoBlob(_0x7c6007)}),_0x4a8d48=await _0x58db4[_0x182929(0x82)]();if(!_0x58db4['ok']||_0x4a8d48[_0x182929(0x93)]===_0x182929(0x7e)){const _0x121554=_0x58db4['ok']?_0x4a8d48[_0x182929(0x7e)][_0x182929(0x85)]:_0x58db4[_0x182929(0x9f)]===0x1f4?_0x182929(0x97):(await _0x58db4['json']())[_0x182929(0x7e)][_0x182929(0x85)];throw new Error(_0x121554);}const _0x4931ff=_0x4a8d48[_0x182929(0x68)]['blocks'][0x0],_0xff034a=_0x4931ff[_0x182929(0x98)]||[],_0x47c606=_0xff034a[_0x182929(0xac)](_0x4b0ac0=>_0x4b0ac0[_0x182929(0x6e)])[_0x182929(0xb0)]('\x0a');transLogic(_0x47c606);}catch(_0x34ce9f){inputText[_0x182929(0x84)]=_0x34ce9f['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x303136,_0x4c5178,_0xf18a7d){const _0x42be13=a0_0x399f7d,_0x2f8784=_0x303136[_0x42be13(0x8b)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,'$1\x20')[_0x42be13(0x8b)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x42be13(0x9d)]();var _0x3a09ef=_0x42be13(0x74)+_0x4c5178+_0x42be13(0x9c)+_0xf18a7d+_0x42be13(0x8e)+encodeURIComponent(_0x2f8784);try{const _0x3f3bed=await fetch(_0x3a09ef);if(!_0x3f3bed['ok']){if(_0x3f3bed['status']===0x1f4)throw new Error(_0x42be13(0x78));else{const _0x35c394=await _0x3f3bed[_0x42be13(0x82)](),_0x32f5fa=new Error(_0x35c394[_0x42be13(0x7e)][_0x42be13(0x85)]);_0x32f5fa[_0x42be13(0xb3)]=_0x35c394[_0x42be13(0x7e)][_0x42be13(0xb3)];throw _0x32f5fa;}}const _0x42e0ec=await _0x3f3bed['json']();if(Array[_0x42be13(0xa2)](_0x42e0ec)&&_0x42e0ec[_0x42be13(0x72)]>0x0&&Array['isArray'](_0x42e0ec[0x0])){var _0x37c501=_0x42e0ec[0x0]['map'](_0x408cc0=>_0x408cc0[0x0])[_0x42be13(0xb0)]('\x20');return document[_0x42be13(0xab)](_0x42be13(0xa0))[_0x42be13(0x84)]='',inputText[_0x42be13(0x84)]=_0x42be13(0x89)+_0x37c501[_0x42be13(0x8b)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x37c501['replace'](/ {2,}/g,'\x20');}else return document[_0x42be13(0xab)]('noti-mess')[_0x42be13(0x84)]='',inputText[_0x42be13(0x84)]=_0x42be13(0x89)+_0x42e0ec,_0x42e0ec;}catch(_0x2aed75){inputText[_0x42be13(0x84)]=_0x2aed75[_0x42be13(0x85)];throw _0x2aed75;}}async function autoScroll(){const _0x2583a5=a0_0x399f7d;var _0x1d9565=inputText[_0x2583a5(0x94)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1d9565||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x2583a5(0x70)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x45af7f){const _0x3637fb=a0_0x399f7d;var _0x1fa5fa='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x45af7f);try{const _0x3a0209=await fetch(_0x1fa5fa),_0x5c339a=await _0x3a0209['json']();var _0x9e07ec=_0x5c339a[0x8][0x0][0x0];return _0x9e07ec;}catch(_0x5afe64){console[_0x3637fb(0x7e)](_0x3637fb(0x76),_0x5afe64);throw _0x5afe64;}}async function transLogic(_0x4cece3){const _0x54404b='en';if(_0x54404b===null){const _0x153f72=await detectLanguage(_0x4cece3),_0x4cde7e=await translateText(_0x4cece3,_0x153f72,'en');return translateText(_0x4cde7e,'en','vi');}else{if(_0x54404b==='en')return translateText(_0x4cece3,'en','vi');else{const _0x479117=await translateText(_0x4cece3,_0x54404b,'en');return translateText(_0x479117,'en','vi');}}}function a0_0x1165(_0x11486,_0x2a8202){const _0x38fc1f=a0_0x38fc();return a0_0x1165=function(_0x116581,_0x37d83c){_0x116581=_0x116581-0x64;let _0x4d7994=_0x38fc1f[_0x116581];return _0x4d7994;},a0_0x1165(_0x11486,_0x2a8202);}function dataURItoBlob(_0x2032e2){const _0x2ba84f=a0_0x399f7d,_0x45b902=atob(_0x2032e2),_0x4a749e=new ArrayBuffer(_0x45b902[_0x2ba84f(0x72)]),_0x175b4a=new Uint8Array(_0x4a749e);for(let _0x1556e6=0x0;_0x1556e6<_0x45b902[_0x2ba84f(0x72)];_0x1556e6++){_0x175b4a[_0x1556e6]=_0x45b902['charCodeAt'](_0x1556e6);}return new Blob([_0x4a749e],{'type':'image/png'});}document[a0_0x399f7d(0x67)](a0_0x399f7d(0xb8),function(){const _0x3de888=a0_0x399f7d;ID[_0x3de888(0x80)](function(_0x921fc7){const _0x198b07=_0x3de888,_0x13d9cc=document[_0x198b07(0xab)](_0x921fc7);_0x13d9cc&&_0x13d9cc[_0x198b07(0x67)](_0x198b07(0xa6),function(){const _0x30608d=_0x198b07;!isFunctionARunning&&turbo[_0x30608d(0x96)][_0x30608d(0x6f)]('turbo-ocr');});}),[_0x3de888(0x87)]['forEach'](_0xa73293=>{const _0x4a2d3b=_0x3de888;turbo[_0x4a2d3b(0x67)](_0xa73293,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x4a2d3b(0x67)](_0xa73293,()=>{const _0xab424b=_0x4a2d3b;areaTrans['classList'][_0xab424b(0xb7)](_0xab424b(0x73));});});});