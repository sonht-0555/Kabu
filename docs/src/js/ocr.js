const a0_0x2a56a0=a0_0x1321;(function(_0x5769bf,_0x2089bb){const _0x421016=a0_0x1321,_0x1cdc01=_0x5769bf();while(!![]){try{const _0x215272=-parseInt(_0x421016(0xd6))/0x1*(-parseInt(_0x421016(0x87))/0x2)+-parseInt(_0x421016(0xd0))/0x3*(-parseInt(_0x421016(0x8e))/0x4)+-parseInt(_0x421016(0xd9))/0x5+parseInt(_0x421016(0xa7))/0x6+parseInt(_0x421016(0xa0))/0x7+parseInt(_0x421016(0x9e))/0x8+parseInt(_0x421016(0x94))/0x9*(-parseInt(_0x421016(0xd5))/0xa);if(_0x215272===_0x2089bb)break;else _0x1cdc01['push'](_0x1cdc01['shift']());}catch(_0x310705){_0x1cdc01['push'](_0x1cdc01['shift']());}}}(a0_0x472e,0x1e347));import*as a0_0xdded6b from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x472e(){const _0x51e87c=['touchstart','replace','message','730494jqHZQb','log','.gb','map','blocks','visible','POST','type','textContent','turbo','result','scrollLeft','getItem','touchend','split','endsWith','HTTP\x20Error:\x20','captureOCR','ApiAzure','$1\x20','drawImage','length','code','charCodeAt','remove','text','DOMContentLoaded','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','src','error','readResult','addEventListener','onload','append','XMLHttpRequest','join','image','getContext','trim','classList','getElementById','93471ypkoQi','&tl=','onerror','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','image/png','322090zIxwJN','1IIlhBv','turbo-ocr','.._\x20','1144305wbWYoY','location','onloadend','json','.png','35374urgOzD','Internal\x20Server\x20Error','add','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','origin','application/octet-stream','width','12BfBTSR','user','&dt=t&q=','noti-mess','screenSize','lines','9oqMLlX','forEach','height','_setArea','warn','https://cors-anywhere.herokuapp.com/corsdemo','isArray','status','scrollWidth','toDataURL','651312AZmzmf','inputText','493276scKsPw','Cors-controlers\x20have\x20not\x20been\x20activated.','href','clientWidth'];a0_0x472e=function(){return _0x51e87c;};return a0_0x472e();}const inputText=document['getElementById']('inputText'),turbo=document[a0_0x2a56a0(0xcf)](a0_0x2a56a0(0xb0)),ID=['A','B','R','L'];async function getImage(){const _0x72b28d=a0_0x2a56a0;turbo[_0x72b28d(0xce)][_0x72b28d(0x89)](_0x72b28d(0xd7));try{const _0x48df46=gameName[_0x72b28d(0xa5)](/\.(gba|gbc|gb|zip)$/,_0x72b28d(0x86)),_0x4ed864=await a0_0xdded6b[_0x72b28d(0xb8)](_0x48df46),_0x29906f=new Blob([_0x4ed864],{'type':_0x72b28d(0xd4)}),_0x57f446=await new Promise((_0x2f7a80,_0x4a5998)=>{const _0x5342d4=_0x72b28d,_0x171f5e=new FileReader();_0x171f5e[_0x5342d4(0xdb)]=()=>_0x2f7a80(_0x171f5e[_0x5342d4(0xb1)]),_0x171f5e[_0x5342d4(0xd2)]=_0x4a5998,_0x171f5e['readAsDataURL'](_0x29906f);}),_0x57f163=new Image();_0x57f163[_0x72b28d(0xc3)]=_0x57f446,_0x57f163[_0x72b28d(0xc7)]=async()=>{const _0x5873d7=_0x72b28d,_0x47e5d1=document['createElement']('canvas'),_0x34d71e=_0x47e5d1[_0x5873d7(0xcc)]('2d'),_0x5e097e=0x4;let _0x323c22;gameName['endsWith']('.gbc')||gameName[_0x5873d7(0xb6)](_0x5873d7(0xa9))?_0x323c22=0x3/0x6:_0x323c22=0x3/0x4;const _0x54298b=localStorage[_0x5873d7(0xb3)](gameName+_0x5873d7(0x97))||localStorage['getItem'](_0x5873d7(0x92)),[_0x2b3e60,_0x23cb8b,_0x3c6c01,_0x50ae59]=_0x54298b['split'](',')['map'](Number);_0x47e5d1[_0x5873d7(0x8d)]=_0x3c6c01*_0x323c22*_0x5e097e,_0x47e5d1[_0x5873d7(0x96)]=_0x50ae59*_0x323c22*_0x5e097e,_0x34d71e[_0x5873d7(0xbb)](_0x57f163,_0x2b3e60*_0x323c22,_0x23cb8b*_0x323c22,_0x3c6c01*_0x323c22,_0x50ae59*_0x323c22,0x0,0x0,_0x3c6c01*_0x323c22*_0x5e097e,_0x50ae59*_0x323c22*_0x5e097e);const _0x2de754=_0x47e5d1[_0x5873d7(0x9d)]('image/png')[_0x5873d7(0xb5)](',')[0x1],_0x2c6be0=localStorage[_0x5873d7(0xb3)]('ApiAzure');console[_0x5873d7(0xa8)](_0x2c6be0),_0x2c6be0?azureServer(_0x2de754):freeServer(_0x2de754);};}catch(_0x5c2c20){inputText['textContent']=_0x5c2c20[_0x72b28d(0xa6)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x191eff=_0x72b28d;document['getElementById'](_0x191eff(0x9f))['textContent']='',a0_0xdded6b['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x305b14){const _0x3ae2a1=a0_0x2a56a0;document['getElementById'](_0x3ae2a1(0x91))[_0x3ae2a1(0xaf)]='';let _0x2b6a5b=0x0;const _0x1adfd1=setInterval(()=>{const _0x10a5db=_0x3ae2a1;_0x2b6a5b+=0x1,_0x2b6a5b<=0x64&&(inputText[_0x10a5db(0xaf)]=_0x10a5db(0xd8)+_0x2b6a5b+'%');},0x64);try{const _0x5dbea9=dataURItoBlob(_0x305b14),_0x4c008e=new FormData();_0x4c008e[_0x3ae2a1(0xc8)](_0x3ae2a1(0xcb),_0x5dbea9,'image.png'),_0x4c008e[_0x3ae2a1(0xc8)](_0x3ae2a1(0x8f),_0x3ae2a1(0xc2));let _0x2b6671;try{_0x2b6671=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x3ae2a1(0xad),'body':_0x4c008e,'headers':{'Origin':window[_0x3ae2a1(0xda)][_0x3ae2a1(0x8b)],'X-Requested-With':_0x3ae2a1(0xc9),'User-Agent':navigator['userAgent']}});if(!_0x2b6671['ok'])throw new Error(_0x3ae2a1(0xb7)+_0x2b6671[_0x3ae2a1(0x9b)]);}catch(_0x2d82b0){console[_0x3ae2a1(0x98)](_0x3ae2a1(0xa1)),window[_0x3ae2a1(0xda)][_0x3ae2a1(0xa2)]=_0x3ae2a1(0x99);return;}const _0x2d190a=await _0x2b6671[_0x3ae2a1(0x85)]();if(_0x2d190a[_0x3ae2a1(0xae)]==='error')throw new Error(_0x2d190a[_0x3ae2a1(0xc4)][_0x3ae2a1(0xa6)]);transLogic(_0x2d190a[_0x3ae2a1(0xc0)]);}catch(_0x2b4a71){inputText[_0x3ae2a1(0xaf)]=_0x2b4a71[_0x3ae2a1(0xa6)];}finally{clearInterval(_0x1adfd1),isFunctionARunning=![];}}async function azureServer(_0x4530d6){const _0x1afd8d=a0_0x2a56a0;document[_0x1afd8d(0xcf)]('noti-mess')['textContent']='',inputText[_0x1afd8d(0xaf)]=_0x1afd8d(0xd8);const _0x112e18=localStorage['getItem'](_0x1afd8d(0xb9));let [_0x2242ad,_0x160a5f]=_0x112e18[_0x1afd8d(0xb5)](',');try{const _0x2d03b2=await fetch(_0x160a5f+_0x1afd8d(0xd3),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x2242ad,'Content-Type':_0x1afd8d(0x8c)},'body':dataURItoBlob(_0x4530d6)}),_0x5d5771=await _0x2d03b2[_0x1afd8d(0x85)]();if(!_0x2d03b2['ok']||_0x5d5771['type']===_0x1afd8d(0xc4)){const _0x447b38=_0x2d03b2['ok']?_0x5d5771['error'][_0x1afd8d(0xa6)]:_0x2d03b2[_0x1afd8d(0x9b)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x2d03b2[_0x1afd8d(0x85)]())[_0x1afd8d(0xc4)][_0x1afd8d(0xa6)];throw new Error(_0x447b38);}const _0x1bfa17=_0x5d5771[_0x1afd8d(0xc5)][_0x1afd8d(0xab)][0x0],_0x10add1=_0x1bfa17[_0x1afd8d(0x93)]||[],_0x3449ae=_0x10add1[_0x1afd8d(0xaa)](_0x57a52e=>_0x57a52e['text'])['join']('\x0a');transLogic(_0x3449ae);}catch(_0x23f0fd){inputText['textContent']=_0x23f0fd['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x55c137,_0x3506d5,_0x251060){const _0x1263b1=a0_0x2a56a0,_0x7200af=_0x55c137[_0x1263b1(0xa5)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x1263b1(0xba))[_0x1263b1(0xa5)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x1263b1(0xa5)](/ {2,}/g,'\x20')[_0x1263b1(0xcd)]();var _0x596e6c=_0x1263b1(0x8a)+_0x3506d5+_0x1263b1(0xd1)+_0x251060+_0x1263b1(0x90)+encodeURIComponent(_0x7200af);try{const _0x4cd34a=await fetch(_0x596e6c);if(!_0x4cd34a['ok']){if(_0x4cd34a[_0x1263b1(0x9b)]===0x1f4)throw new Error(_0x1263b1(0x88));else{const _0x4c7f92=await _0x4cd34a['json'](),_0x5af6df=new Error(_0x4c7f92[_0x1263b1(0xc4)][_0x1263b1(0xa6)]);_0x5af6df[_0x1263b1(0xbd)]=_0x4c7f92[_0x1263b1(0xc4)][_0x1263b1(0xbd)];throw _0x5af6df;}}const _0x4feb2c=await _0x4cd34a[_0x1263b1(0x85)]();if(Array['isArray'](_0x4feb2c)&&_0x4feb2c[_0x1263b1(0xbc)]>0x0&&Array[_0x1263b1(0x9a)](_0x4feb2c[0x0])){var _0x520898=_0x4feb2c[0x0][_0x1263b1(0xaa)](_0x393f39=>_0x393f39[0x0])[_0x1263b1(0xca)]('\x20');return document[_0x1263b1(0xcf)](_0x1263b1(0x91))[_0x1263b1(0xaf)]='',inputText['textContent']='.._\x20'+_0x520898['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x520898[_0x1263b1(0xa5)](/ {2,}/g,'\x20');}else return document[_0x1263b1(0xcf)](_0x1263b1(0x91))['textContent']='',inputText['textContent']=_0x1263b1(0xd8)+_0x4feb2c,_0x4feb2c;}catch(_0x2a10e5){inputText[_0x1263b1(0xaf)]=_0x2a10e5[_0x1263b1(0xa6)];throw _0x2a10e5;}}async function autoScroll(){const _0x5196ab=a0_0x2a56a0;var _0x2f83ff=inputText[_0x5196ab(0x9c)]-inputText[_0x5196ab(0xa3)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2f83ff||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x5196ab(0xb2)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x43fa5a){const _0x4f445e=a0_0x2a56a0;var _0x6c2091='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x43fa5a);try{const _0x326844=await fetch(_0x6c2091),_0x2cbe40=await _0x326844[_0x4f445e(0x85)]();var _0x4d20c6=_0x2cbe40[0x8][0x0][0x0];return _0x4d20c6;}catch(_0x188170){console[_0x4f445e(0xc4)]('Error\x20detecting\x20language:',_0x188170);throw _0x188170;}}function a0_0x1321(_0x54e89f,_0x30c1d5){const _0x472ebf=a0_0x472e();return a0_0x1321=function(_0x132123,_0x521261){_0x132123=_0x132123-0x85;let _0x48ded1=_0x472ebf[_0x132123];return _0x48ded1;},a0_0x1321(_0x54e89f,_0x30c1d5);}async function transLogic(_0x976d34){const _0x7d4110='en';if(_0x7d4110===null){const _0x5956de=await detectLanguage(_0x976d34),_0x5bf891=await translateText(_0x976d34,_0x5956de,'en');return translateText(_0x5bf891,'en','vi');}else{if(_0x7d4110==='en')return translateText(_0x976d34,'en','vi');else{const _0x4e5424=await translateText(_0x976d34,_0x7d4110,'en');return translateText(_0x4e5424,'en','vi');}}}function dataURItoBlob(_0x117335){const _0x30d12b=a0_0x2a56a0,_0x398ab5=atob(_0x117335),_0x3cc12c=new ArrayBuffer(_0x398ab5['length']),_0x2c23b4=new Uint8Array(_0x3cc12c);for(let _0x2b9cd=0x0;_0x2b9cd<_0x398ab5[_0x30d12b(0xbc)];_0x2b9cd++){_0x2c23b4[_0x2b9cd]=_0x398ab5[_0x30d12b(0xbe)](_0x2b9cd);}return new Blob([_0x3cc12c],{'type':'image/png'});}document[a0_0x2a56a0(0xc6)](a0_0x2a56a0(0xc1),function(){const _0x3e36bd=a0_0x2a56a0;ID[_0x3e36bd(0x95)](function(_0x59008d){const _0x1cbf42=_0x3e36bd,_0x2dedd7=document[_0x1cbf42(0xcf)](_0x59008d);_0x2dedd7&&_0x2dedd7['addEventListener'](_0x1cbf42(0xa4),function(){const _0x18bbca=_0x1cbf42;!isFunctionARunning&&turbo[_0x18bbca(0xce)][_0x18bbca(0xbf)]('turbo-ocr');});}),[_0x3e36bd(0xb4)][_0x3e36bd(0x95)](_0x4c4bd6=>{const _0x2f8a59=_0x3e36bd;turbo[_0x2f8a59(0xc6)](_0x4c4bd6,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x4c4bd6,()=>{const _0xfdba69=_0x2f8a59;areaTrans[_0xfdba69(0xce)]['toggle'](_0xfdba69(0xac));});});});