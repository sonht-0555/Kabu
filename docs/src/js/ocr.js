const a0_0x51bf2b=a0_0xf694;(function(_0x3d5039,_0x39200a){const _0x27e0db=a0_0xf694,_0x3fc063=_0x3d5039();while(!![]){try{const _0x16c8ae=parseInt(_0x27e0db(0xed))/0x1+parseInt(_0x27e0db(0x11e))/0x2*(parseInt(_0x27e0db(0x12a))/0x3)+-parseInt(_0x27e0db(0xe8))/0x4*(-parseInt(_0x27e0db(0xe4))/0x5)+-parseInt(_0x27e0db(0x143))/0x6*(parseInt(_0x27e0db(0x123))/0x7)+parseInt(_0x27e0db(0xe3))/0x8*(parseInt(_0x27e0db(0xf9))/0x9)+-parseInt(_0x27e0db(0x10c))/0xa*(parseInt(_0x27e0db(0x12c))/0xb)+parseInt(_0x27e0db(0xeb))/0xc*(parseInt(_0x27e0db(0xee))/0xd);if(_0x16c8ae===_0x39200a)break;else _0x3fc063['push'](_0x3fc063['shift']());}catch(_0x416e20){_0x3fc063['push'](_0x3fc063['shift']());}}}(a0_0x4913,0x92a6e));import*as a0_0x6d75e from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x51bf2b(0x135)](a0_0x51bf2b(0x145)),input=document[a0_0x51bf2b(0x135)](a0_0x51bf2b(0x12f)),turbo=document[a0_0x51bf2b(0x135)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x1555c3=a0_0x51bf2b;turbo[_0x1555c3(0x120)][_0x1555c3(0x131)]('turbo-ocr');try{const _0x1f6aff=gameName[_0x1555c3(0x12e)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x1cbdab=await a0_0x6d75e['captureOCR'](_0x1f6aff),_0x23d689=new Blob([_0x1cbdab],{'type':_0x1555c3(0x129)}),_0x5c5ec4=await new Promise((_0x128b9b,_0xccfc80)=>{const _0x1a6061=_0x1555c3,_0x129835=new FileReader();_0x129835[_0x1a6061(0x136)]=()=>_0x128b9b(_0x129835[_0x1a6061(0x11c)]),_0x129835['onerror']=_0xccfc80,_0x129835[_0x1a6061(0xfa)](_0x23d689);}),_0xb8492c=new Image();_0xb8492c[_0x1555c3(0x115)]=_0x5c5ec4,_0xb8492c[_0x1555c3(0x116)]=()=>{const _0x3a8f7f=_0x1555c3,_0x2dc69d=document['createElement'](_0x3a8f7f(0xe5)),_0x4bbc19=_0x2dc69d[_0x3a8f7f(0x130)]('2d'),_0x554dfc=0x4;let _0x450836;gameName['endsWith'](_0x3a8f7f(0x141))||gameName['endsWith'](_0x3a8f7f(0x108))?_0x450836=Math[_0x3a8f7f(0x139)](0xa0/(window['innerWidth']-0xe6)):_0x450836=Math[_0x3a8f7f(0x139)](0xf0/(window[_0x3a8f7f(0xf7)]-0x96));const _0x5a0503=localStorage[_0x3a8f7f(0x10d)](gameName+_0x3a8f7f(0x10e))||localStorage[_0x3a8f7f(0x10d)](_0x3a8f7f(0xe7)),[_0x243fb3,_0x4fd7d8,_0x2c30d8,_0x39b286]=_0x5a0503[_0x3a8f7f(0x101)](',')[_0x3a8f7f(0x134)](Number);_0x2dc69d['width']=_0x2c30d8*_0x450836*_0x554dfc,_0x2dc69d['height']=_0x39b286*_0x450836*_0x554dfc,_0x4bbc19[_0x3a8f7f(0xfd)](_0xb8492c,_0x243fb3*_0x450836,_0x4fd7d8*_0x450836,_0x2c30d8*_0x450836,_0x39b286*_0x450836,0x0,0x0,_0x2c30d8*_0x450836*_0x554dfc,_0x39b286*_0x450836*_0x554dfc);const _0x354fcf=_0x2dc69d['toDataURL']('image/png')[_0x3a8f7f(0x101)](',')[0x1],_0x1ad655=localStorage[_0x3a8f7f(0x10d)]('ApiAzure');_0x1ad655?azureServer(_0x354fcf):freeServer(_0x354fcf);};}catch(_0x5b75fe){inputText[_0x1555c3(0x118)]=_0x5b75fe[_0x1555c3(0x104)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x367046=_0x1555c3;document[_0x367046(0x135)](_0x367046(0x145))['textContent']=_0x367046(0x13f);},0x7530);}async function freeServer(_0x480a88){const _0x54e1bb=a0_0x51bf2b;let _0x10bad=0x0;const _0x34debe=setInterval(()=>{const _0xd1687e=a0_0xf694;_0x10bad+=0x1,_0x10bad<=0x64&&(inputText[_0xd1687e(0x118)]=_0xd1687e(0x11d)+_0x10bad+'%');},0x64);try{const _0x452867=dataURItoBlob(_0x480a88),_0x24f859=new FormData();_0x24f859[_0x54e1bb(0xfe)]('image',_0x452867,'image.png'),_0x24f859[_0x54e1bb(0xfe)](_0x54e1bb(0xff),_0x54e1bb(0x138));let _0x5192fd;try{_0x5192fd=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':'POST','body':_0x24f859,'headers':{'Origin':window['location'][_0x54e1bb(0x144)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x54e1bb(0x11b)]}});if(!_0x5192fd['ok'])throw new Error(_0x54e1bb(0x100)+_0x5192fd[_0x54e1bb(0x106)]);}catch(_0x38ffe4){console[_0x54e1bb(0xfb)](_0x54e1bb(0xf5)),window[_0x54e1bb(0xf0)]['href']='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x359da=await _0x5192fd['json']();if(_0x359da['type']==='error')throw new Error(_0x359da[_0x54e1bb(0x11a)][_0x54e1bb(0x104)]);transLogic(_0x359da[_0x54e1bb(0xf2)]);}catch(_0x43d11c){inputText[_0x54e1bb(0x118)]=_0x43d11c[_0x54e1bb(0x104)];}finally{clearInterval(_0x34debe),isFunctionARunning=![];}}async function azureServer(_0x338e6a){const _0x46619b=a0_0x51bf2b;inputText[_0x46619b(0x118)]=_0x46619b(0x13f);const _0x43894b=localStorage[_0x46619b(0x10d)](_0x46619b(0x11f));let [_0x14fd30,_0x4e53e9,_0x208d7a]=_0x43894b[_0x46619b(0x101)](',');_0x208d7a=parseInt(_0x208d7a);const _0x25c6d3=new Date(),_0x5279e9=_0x25c6d3[_0x46619b(0x114)](),_0x999784=_0x25c6d3['getFullYear'](),_0x38f323=localStorage[_0x46619b(0x10d)](_0x46619b(0xf3)),_0x5bc05e=_0x38f323?new Date(_0x38f323):null;_0x5bc05e&&(_0x5279e9!==_0x5bc05e[_0x46619b(0x114)]()||_0x999784!==_0x5bc05e[_0x46619b(0x13b)]())&&(_0x208d7a=0x0,localStorage['setItem'](_0x46619b(0xf3),_0x25c6d3[_0x46619b(0x140)]()));if(_0x208d7a>=0x1356){inputText[_0x46619b(0x118)]=_0x46619b(0xf8);return;}try{const _0x4a1c57=await fetch(_0x4e53e9+_0x46619b(0x10a),{'method':_0x46619b(0x124),'headers':{'Ocp-Apim-Subscription-Key':_0x14fd30,'Content-Type':_0x46619b(0x125)},'body':dataURItoBlob(_0x338e6a)}),_0x1316c2=await _0x4a1c57[_0x46619b(0x13e)]();if(!_0x4a1c57['ok']||_0x1316c2[_0x46619b(0x105)]===_0x46619b(0x11a)){const _0x124635=_0x4a1c57['ok']?_0x1316c2[_0x46619b(0x11a)][_0x46619b(0x104)]:_0x4a1c57['status']===0x1f4?_0x46619b(0x111):(await _0x4a1c57[_0x46619b(0x13e)]())[_0x46619b(0x11a)][_0x46619b(0x104)];throw new Error(_0x124635);}const _0x59a555=_0x1316c2[_0x46619b(0x128)][_0x46619b(0xe6)][0x0],_0x5596cc=_0x59a555[_0x46619b(0x142)]||[],_0x3b6fc9=_0x5596cc[_0x46619b(0x134)](_0x198dfb=>_0x198dfb[_0x46619b(0xf2)])[_0x46619b(0x107)]('\x0a');transLogic(_0x3b6fc9);}catch(_0xe22119){inputText[_0x46619b(0x118)]=_0xe22119[_0x46619b(0x104)];const _0x393481=++_0x208d7a;a0_0x6d75e['notiMessage']('['+_0x393481+_0x46619b(0x119),0x7d0),localStorage['setItem']('ApiAzure',_0x14fd30+','+_0x4e53e9+','+_0x393481),localStorage[_0x46619b(0xea)](_0x46619b(0xf3),_0x25c6d3[_0x46619b(0x140)]());}finally{const _0x363d7c=++_0x208d7a;a0_0x6d75e[_0x46619b(0x121)]('['+_0x363d7c+_0x46619b(0x119),0x7d0),isFunctionARunning=![],localStorage['setItem'](_0x46619b(0x11f),_0x14fd30+','+_0x4e53e9+','+_0x363d7c),localStorage[_0x46619b(0xea)](_0x46619b(0xf3),_0x25c6d3['toISOString']());}}function a0_0xf694(_0x4950e3,_0x3e8c10){const _0x491300=a0_0x4913();return a0_0xf694=function(_0xf6945e,_0x1e0d00){_0xf6945e=_0xf6945e-0xe3;let _0x191bf7=_0x491300[_0xf6945e];return _0x191bf7;},a0_0xf694(_0x4950e3,_0x3e8c10);}async function translateText(_0x347262,_0x3020ba,_0x17ca8e){const _0x316fa0=a0_0x51bf2b,_0x3cd96a=_0x347262['replace'](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x316fa0(0x126))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x316fa0(0x12e)](/ {2,}/g,'\x20')[_0x316fa0(0xef)]();var _0x211de4=_0x316fa0(0x132)+_0x3020ba+_0x316fa0(0x113)+_0x17ca8e+'&dt=t&q='+encodeURIComponent(_0x3cd96a);try{const _0x484e7f=await fetch(_0x211de4);if(!_0x484e7f['ok']){if(_0x484e7f[_0x316fa0(0x106)]===0x1f4)throw new Error(_0x316fa0(0xe9));else{const _0x189bcb=await _0x484e7f[_0x316fa0(0x13e)](),_0x4c055c=new Error(_0x189bcb['error'][_0x316fa0(0x104)]);_0x4c055c[_0x316fa0(0x117)]=_0x189bcb[_0x316fa0(0x11a)][_0x316fa0(0x117)];throw _0x4c055c;}}const _0x5e0d68=await _0x484e7f[_0x316fa0(0x13e)]();if(Array[_0x316fa0(0xec)](_0x5e0d68)&&_0x5e0d68['length']>0x0&&Array[_0x316fa0(0xec)](_0x5e0d68[0x0])){var _0x4d8310=_0x5e0d68[0x0][_0x316fa0(0x134)](_0x4104d6=>_0x4104d6[0x0])[_0x316fa0(0x107)]('\x20');return inputText[_0x316fa0(0x118)]=_0x4d8310[_0x316fa0(0x12e)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4d8310[_0x316fa0(0x12e)](/ {2,}/g,'\x20');}else return inputText['textContent']=_0x5e0d68,_0x5e0d68;}catch(_0xbd0505){inputText['textContent']=_0xbd0505['message'];throw _0xbd0505;}}async function autoScroll(){const _0x596513=a0_0x51bf2b;var _0x250356=inputText[_0x596513(0x109)]-inputText[_0x596513(0x137)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x250356||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x596513(0x102)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x92ccf1){const _0x14ef10=a0_0x51bf2b;var _0x33608e='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x92ccf1);try{const _0xdfb5d3=await fetch(_0x33608e),_0x397d05=await _0xdfb5d3[_0x14ef10(0x13e)]();var _0x213748=_0x397d05[0x8][0x0][0x0];return _0x213748;}catch(_0x51dda1){console[_0x14ef10(0x11a)](_0x14ef10(0xf1),_0x51dda1);throw _0x51dda1;}}function a0_0x4913(){const _0x509e1c=['7FMgLKA','POST','application/octet-stream','$1\x20','charCodeAt','readResult','image/png','2465769isaEBA','addEventListener','6945202wcqfDH','touchend','replace','input-container','getContext','add','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','style','map','getElementById','onloadend','clientWidth','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','round','remove','getFullYear','touchstart','length','json','...','toISOString','.gbc','lines','6300480fSvFXA','origin','inputText','7296nVjbBN','655ruPNYi','canvas','blocks','screenSize','26952LBgQFZ','Internal\x20Server\x20Error','setItem','84OcfVWF','isArray','567722YUbCeM','3003aQINfl','trim','location','Error\x20detecting\x20language:','text','lastSavedDate','backgroundPositionX','CORS-Anywhere\x20chưa\x20được\x20kích\x20hoạt.\x20Mở\x20/corsdemo...','mouseup','innerWidth','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','81nwkyWO','readAsDataURL','warn','floor','drawImage','append','user','HTTP\x20Error:\x20','split','scrollLeft','visible','message','type','status','join','.gb','scrollWidth','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','toggle','10KPuZWu','getItem','_setArea','forEach','random','500\x20Internal\x20Server\x20Error','turbo-ocr','&tl=','getMonth','src','onload','code','textContent',']\x20Times\x20Azure','error','userAgent','result','Waiting..','2kMYkVL','ApiAzure','classList','notiMessage','logoOcr'];a0_0x4913=function(){return _0x509e1c;};return a0_0x4913();}async function transLogic(_0x4c2f8d){const _0x287ea1='en';if(_0x287ea1===null){const _0x454d58=await detectLanguage(_0x4c2f8d),_0x3cacdf=await translateText(_0x4c2f8d,_0x454d58,'en');return translateText(_0x3cacdf,'en','vi');}else{if(_0x287ea1==='en')return translateText(_0x4c2f8d,'en','vi');else{const _0x5a90e=await translateText(_0x4c2f8d,_0x287ea1,'en');return translateText(_0x5a90e,'en','vi');}}}function dataURItoBlob(_0x291df5){const _0x5832cc=a0_0x51bf2b,_0x328b67=atob(_0x291df5),_0x3dd92a=new ArrayBuffer(_0x328b67[_0x5832cc(0x13d)]),_0x276c77=new Uint8Array(_0x3dd92a);for(let _0x52093c=0x0;_0x52093c<_0x328b67['length'];_0x52093c++){_0x276c77[_0x52093c]=_0x328b67[_0x5832cc(0x127)](_0x52093c);}return new Blob([_0x3dd92a],{'type':_0x5832cc(0x129)});}function logoOcr(){const _0x384110=a0_0x51bf2b;var _0x3e8a4f=Math[_0x384110(0xfc)](Math[_0x384110(0x110)]()*0x3)+0x1,_0x5c9d3=-0xf*_0x3e8a4f+'px';document[_0x384110(0x135)](_0x384110(0x122))[_0x384110(0x133)][_0x384110(0xf4)]=_0x5c9d3;}document['addEventListener']('DOMContentLoaded',function(){const _0x503d47=a0_0x51bf2b;ID['forEach'](function(_0x3acd12){const _0x1e140e=a0_0xf694,_0x243116=document['getElementById'](_0x3acd12);_0x243116&&_0x243116[_0x1e140e(0x12b)](_0x1e140e(0x13c),function(){const _0x31b106=_0x1e140e;!isFunctionARunning&&turbo[_0x31b106(0x120)][_0x31b106(0x13a)](_0x31b106(0x112));});}),[_0x503d47(0xf6),_0x503d47(0x12d),'touchcancel'][_0x503d47(0x10f)](_0x40f0b8=>{const _0x47c181=_0x503d47;turbo[_0x47c181(0x12b)](_0x40f0b8,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x47c181(0x12b)](_0x40f0b8,()=>{const _0x1cc82d=_0x47c181;areaTrans[_0x1cc82d(0x120)][_0x1cc82d(0x10b)](_0x1cc82d(0x103));});});});