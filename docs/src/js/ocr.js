const a0_0x24c74e=a0_0x20a5;(function(_0xe4baa5,_0x2ab3ba){const _0x3167c5=a0_0x20a5,_0x469dbd=_0xe4baa5();while(!![]){try{const _0x3d0940=-parseInt(_0x3167c5(0x235))/0x1*(parseInt(_0x3167c5(0x1fe))/0x2)+parseInt(_0x3167c5(0x20a))/0x3*(-parseInt(_0x3167c5(0x233))/0x4)+-parseInt(_0x3167c5(0x217))/0x5*(parseInt(_0x3167c5(0x1f0))/0x6)+parseInt(_0x3167c5(0x20e))/0x7+parseInt(_0x3167c5(0x206))/0x8+-parseInt(_0x3167c5(0x203))/0x9+-parseInt(_0x3167c5(0x1f2))/0xa*(-parseInt(_0x3167c5(0x204))/0xb);if(_0x3d0940===_0x2ab3ba)break;else _0x469dbd['push'](_0x469dbd['shift']());}catch(_0x4d18f9){_0x469dbd['push'](_0x469dbd['shift']());}}}(a0_0x4016,0x7d20f));import*as a0_0x31c426 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x24c74e(0x239)](a0_0x24c74e(0x224)),turbo=document[a0_0x24c74e(0x239)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x18b110=a0_0x24c74e;turbo[_0x18b110(0x221)][_0x18b110(0x223)]('turbo-ocr');try{const _0x216ded=gameName[_0x18b110(0x1f1)](/\.(gba|gbc|gb|zip)$/,_0x18b110(0x218)),_0x96c375=await a0_0x31c426[_0x18b110(0x210)](_0x216ded),_0x5309a1=new Blob([_0x96c375],{'type':'image/png'}),_0xab18e5=await new Promise((_0x5baa2b,_0x553e56)=>{const _0x4e7353=_0x18b110,_0x4aa5ce=new FileReader();_0x4aa5ce['onloadend']=()=>_0x5baa2b(_0x4aa5ce[_0x4e7353(0x20d)]),_0x4aa5ce[_0x4e7353(0x230)]=_0x553e56,_0x4aa5ce['readAsDataURL'](_0x5309a1);}),_0x4ac252=new Image();_0x4ac252[_0x18b110(0x220)]=_0xab18e5,_0x4ac252[_0x18b110(0x219)]=async()=>{const _0x1b385f=_0x18b110,_0x9d18b7=document[_0x1b385f(0x21d)](_0x1b385f(0x1f7)),_0x32b90d=_0x9d18b7[_0x1b385f(0x234)]('2d'),_0x3b82bb=0x4;let _0x396848;gameName['endsWith'](_0x1b385f(0x227))||gameName[_0x1b385f(0x22e)]('.gb')?_0x396848=0x3/0x6:_0x396848=0x3/0x4;const _0x18a4b0=localStorage[_0x1b385f(0x22d)](gameName+_0x1b385f(0x1e9))||localStorage[_0x1b385f(0x22d)](_0x1b385f(0x212)),[_0x474c8e,_0x1ca711,_0x561d84,_0x10bc3a]=_0x18a4b0['split'](',')[_0x1b385f(0x1ee)](Number);_0x9d18b7[_0x1b385f(0x1fc)]=_0x561d84*_0x396848*_0x3b82bb,_0x9d18b7['height']=_0x10bc3a*_0x396848*_0x3b82bb,_0x32b90d[_0x1b385f(0x231)](_0x4ac252,_0x474c8e*_0x396848,_0x1ca711*_0x396848,_0x561d84*_0x396848,_0x10bc3a*_0x396848,0x0,0x0,_0x561d84*_0x396848*_0x3b82bb,_0x10bc3a*_0x396848*_0x3b82bb);const _0x24c0b5=_0x9d18b7[_0x1b385f(0x1ea)]('image/png')[_0x1b385f(0x21e)](',')[0x1],_0x28911c=localStorage[_0x1b385f(0x22d)](_0x1b385f(0x22f));console[_0x1b385f(0x20b)](_0x28911c),_0x28911c?azureServer(_0x24c0b5):freeServer(_0x24c0b5);};}catch(_0x188ad8){inputText[_0x18b110(0x21a)]=_0x188ad8[_0x18b110(0x1ec)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x5b1f1c=_0x18b110;document['getElementById'](_0x5b1f1c(0x224))[_0x5b1f1c(0x21a)]='',a0_0x31c426['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x2a2233){const _0x18a491=a0_0x24c74e;document[_0x18a491(0x239)](_0x18a491(0x222))[_0x18a491(0x21a)]='';let _0x5d4fe9=0x0;const _0x29182c=setInterval(()=>{const _0xddc06e=_0x18a491;_0x5d4fe9+=0x1,_0x5d4fe9<=0x64&&(inputText[_0xddc06e(0x21a)]='.._\x20'+_0x5d4fe9+'%');},0x64);try{const _0x53e7a8=dataURItoBlob(_0x2a2233),_0x3476b5=new FormData();_0x3476b5[_0x18a491(0x1e6)](_0x18a491(0x1f4),_0x53e7a8,'image.png'),_0x3476b5[_0x18a491(0x1e6)](_0x18a491(0x20f),_0x18a491(0x215));let _0x1aab8c;try{_0x1aab8c=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x18a491(0x22c),'body':_0x3476b5,'headers':{'Origin':window[_0x18a491(0x1f8)][_0x18a491(0x1f9)],'X-Requested-With':_0x18a491(0x209),'User-Agent':navigator[_0x18a491(0x1ef)]}});if(!_0x1aab8c['ok'])throw new Error(_0x18a491(0x22b)+_0x1aab8c[_0x18a491(0x229)]);}catch(_0x3253a1){console[_0x18a491(0x1e2)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x18a491(0x1f8)]['href']=_0x18a491(0x238);return;}const _0x27646c=await _0x1aab8c[_0x18a491(0x211)]();if(_0x27646c[_0x18a491(0x1ed)]===_0x18a491(0x1e4))throw new Error(_0x27646c[_0x18a491(0x1e4)][_0x18a491(0x1ec)]);transLogic(_0x27646c[_0x18a491(0x22a)]);}catch(_0x5c5629){inputText['textContent']=_0x5c5629[_0x18a491(0x1ec)];}finally{clearInterval(_0x29182c),isFunctionARunning=![];}}async function azureServer(_0x23d8ee){const _0x9ad8ad=a0_0x24c74e;document['getElementById'](_0x9ad8ad(0x222))[_0x9ad8ad(0x21a)]='',inputText[_0x9ad8ad(0x21a)]=_0x9ad8ad(0x201);const _0x549489=localStorage[_0x9ad8ad(0x22d)](_0x9ad8ad(0x22f));let [_0x3cec83,_0x1ba9be]=_0x549489[_0x9ad8ad(0x21e)](',');try{const _0x436b2c=await fetch(_0x1ba9be+_0x9ad8ad(0x213),{'method':_0x9ad8ad(0x22c),'headers':{'Ocp-Apim-Subscription-Key':_0x3cec83,'Content-Type':_0x9ad8ad(0x208)},'body':dataURItoBlob(_0x23d8ee)}),_0x2f18e7=await _0x436b2c['json']();if(!_0x436b2c['ok']||_0x2f18e7[_0x9ad8ad(0x1ed)]==='error'){const _0x2d0291=_0x436b2c['ok']?_0x2f18e7[_0x9ad8ad(0x1e4)]['message']:_0x436b2c['status']===0x1f4?_0x9ad8ad(0x1fa):(await _0x436b2c[_0x9ad8ad(0x211)]())[_0x9ad8ad(0x1e4)][_0x9ad8ad(0x1ec)];throw new Error(_0x2d0291);}const _0x2c6678=_0x2f18e7[_0x9ad8ad(0x1e8)][_0x9ad8ad(0x226)][0x0],_0x9f0bdb=_0x2c6678[_0x9ad8ad(0x1e3)]||[],_0x3c23ec=_0x9f0bdb['map'](_0x232085=>_0x232085['text'])['join']('\x0a');transLogic(_0x3c23ec);}catch(_0x122b3f){inputText[_0x9ad8ad(0x21a)]=_0x122b3f['message'];}finally{isFunctionARunning=![];}}function a0_0x20a5(_0x341423,_0x4418d3){const _0x401634=a0_0x4016();return a0_0x20a5=function(_0x20a54f,_0x287932){_0x20a54f=_0x20a54f-0x1e2;let _0x47b258=_0x401634[_0x20a54f];return _0x47b258;},a0_0x20a5(_0x341423,_0x4418d3);}async function translateText(_0xa00d18,_0x28b656,_0x588744){const _0x1c360e=a0_0x24c74e,_0x2d51e6=_0xa00d18[_0x1c360e(0x1f1)](/[\r\n]+/g,',\x20')[_0x1c360e(0x1f1)](/([!?.,])\s*,\s*/g,_0x1c360e(0x200))[_0x1c360e(0x1f1)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x1c360e(0x1e5)]();var _0x2a7f5c='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x28b656+_0x1c360e(0x21f)+_0x588744+_0x1c360e(0x236)+encodeURIComponent(_0x2d51e6);try{const _0x57800e=await fetch(_0x2a7f5c);if(!_0x57800e['ok']){if(_0x57800e[_0x1c360e(0x229)]===0x1f4)throw new Error(_0x1c360e(0x228));else{const _0x49db27=await _0x57800e[_0x1c360e(0x211)](),_0x8f0696=new Error(_0x49db27[_0x1c360e(0x1e4)][_0x1c360e(0x1ec)]);_0x8f0696[_0x1c360e(0x20c)]=_0x49db27[_0x1c360e(0x1e4)][_0x1c360e(0x20c)];throw _0x8f0696;}}const _0x202034=await _0x57800e['json']();if(Array[_0x1c360e(0x232)](_0x202034)&&_0x202034[_0x1c360e(0x216)]>0x0&&Array[_0x1c360e(0x232)](_0x202034[0x0])){var _0xc5f3e9=_0x202034[0x0][_0x1c360e(0x1ee)](_0x3a05ff=>_0x3a05ff[0x0])[_0x1c360e(0x1f6)]('\x20');return document[_0x1c360e(0x239)](_0x1c360e(0x222))['textContent']='',inputText[_0x1c360e(0x21a)]='.._\x20'+_0xc5f3e9['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0xc5f3e9[_0x1c360e(0x1f1)](/ {2,}/g,'\x20');}else return document[_0x1c360e(0x239)](_0x1c360e(0x222))[_0x1c360e(0x21a)]='',inputText[_0x1c360e(0x21a)]=_0x1c360e(0x201)+_0x202034,_0x202034;}catch(_0x35cdde){inputText[_0x1c360e(0x21a)]=_0x35cdde[_0x1c360e(0x1ec)];throw _0x35cdde;}}async function autoScroll(){const _0x432571=a0_0x24c74e;var _0x362c7a=inputText[_0x432571(0x1f5)]-inputText[_0x432571(0x1ff)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x362c7a||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x432571(0x207)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x13d1d0){const _0x406d73=a0_0x24c74e;var _0x569ce0='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x13d1d0);try{const _0x4bc070=await fetch(_0x569ce0),_0x227881=await _0x4bc070[_0x406d73(0x211)]();var _0x674bc2=_0x227881[0x8][0x0][0x0];return _0x674bc2;}catch(_0x3a25db){console[_0x406d73(0x1e4)](_0x406d73(0x1fb),_0x3a25db);throw _0x3a25db;}}function a0_0x4016(){const _0x6c2bd2=['isArray','143508MwaKCE','getContext','4AmaYbF','&dt=t&q=','charCodeAt','https://cors-anywhere.herokuapp.com/corsdemo','getElementById','warn','lines','error','trim','append','remove','readResult','_setArea','toDataURL','visible','message','type','map','userAgent','2473278LvjVTx','replace','10xLJkuu','addEventListener','image','scrollWidth','join','canvas','location','origin','500\x20Internal\x20Server\x20Error','Error\x20detecting\x20language:','width','turbo-ocr','431888HhRzux','clientWidth','$1\x20','.._\x20','touchstart','5762205XVEeYV','17674811nWXhpu','image/png','4744560qYvQcS','scrollLeft','application/octet-stream','XMLHttpRequest','6gJpGUW','log','code','result','4989999IZYlsU','user','captureOCR','json','screenSize','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','toggle','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','length','10ssHVXp','.png','onload','textContent','DOMContentLoaded','forEach','createElement','split','&tl=','src','classList','noti-mess','add','inputText','touchend','blocks','.gbc','Internal\x20Server\x20Error','status','text','HTTP\x20Error:\x20','POST','getItem','endsWith','ApiAzure','onerror','drawImage'];a0_0x4016=function(){return _0x6c2bd2;};return a0_0x4016();}async function transLogic(_0x1f3d8e){const _0x51bbd5='en';if(_0x51bbd5===null){const _0x33d551=await detectLanguage(_0x1f3d8e),_0x54572e=await translateText(_0x1f3d8e,_0x33d551,'en');return translateText(_0x54572e,'en','vi');}else{if(_0x51bbd5==='en')return translateText(_0x1f3d8e,'en','vi');else{const _0x5d5ff4=await translateText(_0x1f3d8e,_0x51bbd5,'en');return translateText(_0x5d5ff4,'en','vi');}}}function dataURItoBlob(_0x5dc224){const _0x4f59dd=a0_0x24c74e,_0x31ecbe=atob(_0x5dc224),_0x4a30d1=new ArrayBuffer(_0x31ecbe[_0x4f59dd(0x216)]),_0x3f9288=new Uint8Array(_0x4a30d1);for(let _0x14bae0=0x0;_0x14bae0<_0x31ecbe[_0x4f59dd(0x216)];_0x14bae0++){_0x3f9288[_0x14bae0]=_0x31ecbe[_0x4f59dd(0x237)](_0x14bae0);}return new Blob([_0x4a30d1],{'type':_0x4f59dd(0x205)});}document[a0_0x24c74e(0x1f3)](a0_0x24c74e(0x21b),function(){const _0x3697a4=a0_0x24c74e;ID[_0x3697a4(0x21c)](function(_0x3389a0){const _0x1cfccc=_0x3697a4,_0x2b1779=document[_0x1cfccc(0x239)](_0x3389a0);_0x2b1779&&_0x2b1779[_0x1cfccc(0x1f3)](_0x1cfccc(0x202),function(){const _0x34543d=_0x1cfccc;!isFunctionARunning&&turbo[_0x34543d(0x221)][_0x34543d(0x1e7)](_0x34543d(0x1fd));});}),[_0x3697a4(0x225)][_0x3697a4(0x21c)](_0x2a8dc7=>{const _0x47b22b=_0x3697a4;turbo[_0x47b22b(0x1f3)](_0x2a8dc7,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x47b22b(0x1f3)](_0x2a8dc7,()=>{const _0x34866f=_0x47b22b;areaTrans[_0x34866f(0x221)][_0x34866f(0x214)](_0x34866f(0x1eb));});});});