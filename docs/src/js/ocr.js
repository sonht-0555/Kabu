const a0_0x5c0fc4=a0_0x1778;(function(_0x5cffaf,_0x1af9ee){const _0x58bf32=a0_0x1778,_0x448d89=_0x5cffaf();while(!![]){try{const _0x52aea2=parseInt(_0x58bf32(0x136))/0x1+-parseInt(_0x58bf32(0x13e))/0x2*(-parseInt(_0x58bf32(0xff))/0x3)+-parseInt(_0x58bf32(0x111))/0x4*(parseInt(_0x58bf32(0x108))/0x5)+-parseInt(_0x58bf32(0x14e))/0x6*(-parseInt(_0x58bf32(0x12f))/0x7)+-parseInt(_0x58bf32(0x107))/0x8*(-parseInt(_0x58bf32(0x132))/0x9)+-parseInt(_0x58bf32(0x11d))/0xa*(-parseInt(_0x58bf32(0x135))/0xb)+-parseInt(_0x58bf32(0x109))/0xc;if(_0x52aea2===_0x1af9ee)break;else _0x448d89['push'](_0x448d89['shift']());}catch(_0xde6d3b){_0x448d89['push'](_0x448d89['shift']());}}}(a0_0x3abb,0x641b8));function a0_0x1778(_0x2591eb,_0x2a95d8){const _0x3abbd5=a0_0x3abb();return a0_0x1778=function(_0x177816,_0x392f83){_0x177816=_0x177816-0xfc;let _0x44b46e=_0x3abbd5[_0x177816];return _0x44b46e;},a0_0x1778(_0x2591eb,_0x2a95d8);}function a0_0x3abb(){const _0x3e6002=['inputText','getElementById','application/octet-stream','location','width','code','scrollLeft','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','HTTP\x20Error:\x20','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','30RTGvWC','ApiAzure','onloadend','classList','Cors-controlers\x20have\x20not\x20been\x20activated.','POST','trim','remove','turbo','log','join','$1\x20','XMLHttpRequest','&tl=','status','getContext','charCodeAt','split','20923TgNfHD','user','screenSize','5464467kCgeUD','500\x20Internal\x20Server\x20Error','endsWith','1499245sLvGuK','376244KebCil','getItem','append','addEventListener','json','length','src','image','3902HEIDfK','scrollWidth','createElement','readAsDataURL','captureOCR','lines','https://cors-anywhere.herokuapp.com/corsdemo','toDataURL','type','image/png','readResult','error','Internal\x20Server\x20Error','&dt=t&q=','canvas','origin','60WjEAPP','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','warn','touchend','.._\x20','171DCjtrW','noti-mess','DOMContentLoaded','textContent','replace','isArray','.gbc','onload','8tpNtHr','300dagXSH','9792348EOEtHk','turbo-ocr','text','forEach','drawImage','map','message','userAgent','20488uvwTMh','.gb'];a0_0x3abb=function(){return _0x3e6002;};return a0_0x3abb();}import*as a0_0x5c8828 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x5c0fc4(0x114)](a0_0x5c0fc4(0x113)),turbo=document['getElementById'](a0_0x5c0fc4(0x125)),ID=['A','B','R','L'];async function getImage(){const _0x5500bc=a0_0x5c0fc4;turbo[_0x5500bc(0x120)]['add'](_0x5500bc(0x10a));try{const _0x46fa43=gameName[_0x5500bc(0x103)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x3e534c=await a0_0x5c8828[_0x5500bc(0x142)](_0x46fa43),_0xe0dfa2=new Blob([_0x3e534c],{'type':_0x5500bc(0x147)}),_0x2c3ff6=await new Promise((_0x4113e2,_0x183676)=>{const _0x5324a3=_0x5500bc,_0xb7d4a0=new FileReader();_0xb7d4a0[_0x5324a3(0x11f)]=()=>_0x4113e2(_0xb7d4a0['result']),_0xb7d4a0['onerror']=_0x183676,_0xb7d4a0[_0x5324a3(0x141)](_0xe0dfa2);}),_0x3c2adc=new Image();_0x3c2adc[_0x5500bc(0x13c)]=_0x2c3ff6,_0x3c2adc[_0x5500bc(0x106)]=async()=>{const _0x2e1d23=_0x5500bc,_0xa7fc92=document[_0x2e1d23(0x140)](_0x2e1d23(0x14c)),_0x538e14=_0xa7fc92[_0x2e1d23(0x12c)]('2d'),_0x39ec77=0x4;let _0x2eb37c;gameName[_0x2e1d23(0x134)](_0x2e1d23(0x105))||gameName['endsWith'](_0x2e1d23(0x112))?_0x2eb37c=0x3/0x6:_0x2eb37c=0x3/0x4;const _0xb722b6=localStorage['getItem'](gameName+'_setArea')||localStorage['getItem'](_0x2e1d23(0x131)),[_0x53e7c5,_0x144992,_0x13dfcd,_0x5c60fa]=_0xb722b6['split'](',')[_0x2e1d23(0x10e)](Number);_0xa7fc92[_0x2e1d23(0x117)]=_0x13dfcd*_0x2eb37c*_0x39ec77,_0xa7fc92['height']=_0x5c60fa*_0x2eb37c*_0x39ec77,_0x538e14[_0x2e1d23(0x10d)](_0x3c2adc,_0x53e7c5*_0x2eb37c,_0x144992*_0x2eb37c,_0x13dfcd*_0x2eb37c,_0x5c60fa*_0x2eb37c,0x0,0x0,_0x13dfcd*_0x2eb37c*_0x39ec77,_0x5c60fa*_0x2eb37c*_0x39ec77);const _0x526a46=_0xa7fc92[_0x2e1d23(0x145)](_0x2e1d23(0x147))[_0x2e1d23(0x12e)](',')[0x1],_0x41cb42=localStorage[_0x2e1d23(0x137)](_0x2e1d23(0x11e));console[_0x2e1d23(0x126)](_0x41cb42),_0x41cb42?azureServer(_0x526a46):freeServer(_0x526a46);};}catch(_0x975783){inputText[_0x5500bc(0x102)]=_0x975783['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2ecb32=_0x5500bc;document[_0x2ecb32(0x114)](_0x2ecb32(0x113))[_0x2ecb32(0x102)]='',a0_0x5c8828['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x47a1cf){const _0xe02655=a0_0x5c0fc4;document[_0xe02655(0x114)]('noti-mess')['textContent']='';let _0x326b0c=0x0;const _0x3f7a72=setInterval(()=>{const _0x461dbb=_0xe02655;_0x326b0c+=0x1,_0x326b0c<=0x64&&(inputText[_0x461dbb(0x102)]=_0x461dbb(0xfe)+_0x326b0c+'%');},0x64);try{const _0x4512fe=dataURItoBlob(_0x47a1cf),_0x5910fa=new FormData();_0x5910fa[_0xe02655(0x138)](_0xe02655(0x13d),_0x4512fe,'image.png'),_0x5910fa['append'](_0xe02655(0x130),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x2a2fb4;try{_0x2a2fb4=await fetch(_0xe02655(0x11a),{'method':_0xe02655(0x122),'body':_0x5910fa,'headers':{'Origin':window[_0xe02655(0x116)][_0xe02655(0x14d)],'X-Requested-With':_0xe02655(0x129),'User-Agent':navigator[_0xe02655(0x110)]}});if(!_0x2a2fb4['ok'])throw new Error(_0xe02655(0x11b)+_0x2a2fb4[_0xe02655(0x12b)]);}catch(_0xbd473){console[_0xe02655(0xfc)](_0xe02655(0x121)),window[_0xe02655(0x116)]['href']=_0xe02655(0x144);return;}const _0x2c8085=await _0x2a2fb4[_0xe02655(0x13a)]();if(_0x2c8085[_0xe02655(0x146)]===_0xe02655(0x149))throw new Error(_0x2c8085[_0xe02655(0x149)][_0xe02655(0x10f)]);transLogic(_0x2c8085[_0xe02655(0x10b)]);}catch(_0x40978f){inputText[_0xe02655(0x102)]=_0x40978f[_0xe02655(0x10f)];}finally{clearInterval(_0x3f7a72),isFunctionARunning=![];}}async function azureServer(_0x5d39b4){const _0x35c4fd=a0_0x5c0fc4;document['getElementById'](_0x35c4fd(0x100))[_0x35c4fd(0x102)]='',inputText[_0x35c4fd(0x102)]=_0x35c4fd(0xfe);const _0x372928=localStorage['getItem']('ApiAzure');let [_0x10c825,_0x29365c]=_0x372928['split'](',');try{const _0x32c3d2=await fetch(_0x29365c+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x35c4fd(0x122),'headers':{'Ocp-Apim-Subscription-Key':_0x10c825,'Content-Type':_0x35c4fd(0x115)},'body':dataURItoBlob(_0x5d39b4)}),_0x34af54=await _0x32c3d2[_0x35c4fd(0x13a)]();if(!_0x32c3d2['ok']||_0x34af54['type']===_0x35c4fd(0x149)){const _0x5f5154=_0x32c3d2['ok']?_0x34af54[_0x35c4fd(0x149)][_0x35c4fd(0x10f)]:_0x32c3d2['status']===0x1f4?_0x35c4fd(0x133):(await _0x32c3d2[_0x35c4fd(0x13a)]())[_0x35c4fd(0x149)][_0x35c4fd(0x10f)];throw new Error(_0x5f5154);}const _0x353180=_0x34af54[_0x35c4fd(0x148)]['blocks'][0x0],_0x1453e7=_0x353180[_0x35c4fd(0x143)]||[],_0x5b6927=_0x1453e7[_0x35c4fd(0x10e)](_0x93f762=>_0x93f762[_0x35c4fd(0x10b)])[_0x35c4fd(0x127)]('\x0a');transLogic(_0x5b6927);}catch(_0x21b5fd){inputText[_0x35c4fd(0x102)]=_0x21b5fd[_0x35c4fd(0x10f)];}finally{isFunctionARunning=![];}}async function translateText(_0x5ed2d3,_0x415821,_0x4ee1c9){const _0xc85bea=a0_0x5c0fc4,_0x4d89d2=_0x5ed2d3[_0xc85bea(0x103)](/[\r\n]+/g,',\x20')[_0xc85bea(0x103)](/([!?.,])\s*,\s*/g,_0xc85bea(0x128))[_0xc85bea(0x103)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0xc85bea(0x123)]();var _0x45ce76=_0xc85bea(0x11c)+_0x415821+_0xc85bea(0x12a)+_0x4ee1c9+_0xc85bea(0x14b)+encodeURIComponent(_0x4d89d2);try{const _0x383f0c=await fetch(_0x45ce76);if(!_0x383f0c['ok']){if(_0x383f0c[_0xc85bea(0x12b)]===0x1f4)throw new Error(_0xc85bea(0x14a));else{const _0x2bc450=await _0x383f0c[_0xc85bea(0x13a)](),_0xa11c0a=new Error(_0x2bc450[_0xc85bea(0x149)]['message']);_0xa11c0a[_0xc85bea(0x118)]=_0x2bc450['error'][_0xc85bea(0x118)];throw _0xa11c0a;}}const _0x60aed6=await _0x383f0c[_0xc85bea(0x13a)]();if(Array[_0xc85bea(0x104)](_0x60aed6)&&_0x60aed6[_0xc85bea(0x13b)]>0x0&&Array['isArray'](_0x60aed6[0x0])){var _0x591fec=_0x60aed6[0x0][_0xc85bea(0x10e)](_0x461dd1=>_0x461dd1[0x0])[_0xc85bea(0x127)]('\x20');return document['getElementById'](_0xc85bea(0x100))[_0xc85bea(0x102)]='',inputText['textContent']='.._\x20'+_0x591fec[_0xc85bea(0x103)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x591fec['replace'](/ {2,}/g,'\x20');}else return document['getElementById']('noti-mess')['textContent']='',inputText[_0xc85bea(0x102)]=_0xc85bea(0xfe)+_0x60aed6,_0x60aed6;}catch(_0x133ef1){inputText['textContent']=_0x133ef1[_0xc85bea(0x10f)];throw _0x133ef1;}}async function autoScroll(){const _0x292865=a0_0x5c0fc4;var _0x326f2e=inputText[_0x292865(0x13f)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x326f2e||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x292865(0x119)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x4bfb24){const _0x3f0acf=a0_0x5c0fc4;var _0x55ccf1=_0x3f0acf(0x14f)+encodeURIComponent(_0x4bfb24);try{const _0x3212d2=await fetch(_0x55ccf1),_0x4b6d40=await _0x3212d2[_0x3f0acf(0x13a)]();var _0xb7ef7b=_0x4b6d40[0x8][0x0][0x0];return _0xb7ef7b;}catch(_0x1a497b){console[_0x3f0acf(0x149)]('Error\x20detecting\x20language:',_0x1a497b);throw _0x1a497b;}}async function transLogic(_0x5ef300){const _0x493bb8='en';if(_0x493bb8===null){const _0x51b829=await detectLanguage(_0x5ef300),_0x5793a3=await translateText(_0x5ef300,_0x51b829,'en');return translateText(_0x5793a3,'en','vi');}else{if(_0x493bb8==='en')return translateText(_0x5ef300,'en','vi');else{const _0x43a781=await translateText(_0x5ef300,_0x493bb8,'en');return translateText(_0x43a781,'en','vi');}}}function dataURItoBlob(_0x32c667){const _0x1aec1f=a0_0x5c0fc4,_0x1d9a5e=atob(_0x32c667),_0x6d1b8b=new ArrayBuffer(_0x1d9a5e[_0x1aec1f(0x13b)]),_0x1e6217=new Uint8Array(_0x6d1b8b);for(let _0x3a41c6=0x0;_0x3a41c6<_0x1d9a5e[_0x1aec1f(0x13b)];_0x3a41c6++){_0x1e6217[_0x3a41c6]=_0x1d9a5e[_0x1aec1f(0x12d)](_0x3a41c6);}return new Blob([_0x6d1b8b],{'type':'image/png'});}document[a0_0x5c0fc4(0x139)](a0_0x5c0fc4(0x101),function(){const _0x36055d=a0_0x5c0fc4;ID[_0x36055d(0x10c)](function(_0x16c74e){const _0x48d1dd=_0x36055d,_0x3b6cba=document[_0x48d1dd(0x114)](_0x16c74e);_0x3b6cba&&_0x3b6cba[_0x48d1dd(0x139)]('touchstart',function(){const _0x31b5a3=_0x48d1dd;!isFunctionARunning&&turbo[_0x31b5a3(0x120)][_0x31b5a3(0x124)]('turbo-ocr');});}),[_0x36055d(0xfd)][_0x36055d(0x10c)](_0x52aaec=>{const _0x15b5d7=_0x36055d;turbo[_0x15b5d7(0x139)](_0x52aaec,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x52aaec,()=>{const _0x444259=_0x15b5d7;areaTrans[_0x444259(0x120)]['toggle']('visible');});});});