const a0_0x325227=a0_0x15ec;(function(_0x2206f4,_0x5b5cf3){const _0xe7edb3=a0_0x15ec,_0x228a12=_0x2206f4();while(!![]){try{const _0x2bf10b=parseInt(_0xe7edb3(0xe0))/0x1*(parseInt(_0xe7edb3(0xeb))/0x2)+parseInt(_0xe7edb3(0xfe))/0x3*(parseInt(_0xe7edb3(0x107))/0x4)+-parseInt(_0xe7edb3(0x110))/0x5*(-parseInt(_0xe7edb3(0xee))/0x6)+parseInt(_0xe7edb3(0xc9))/0x7+-parseInt(_0xe7edb3(0x10a))/0x8*(parseInt(_0xe7edb3(0xc6))/0x9)+parseInt(_0xe7edb3(0x112))/0xa+-parseInt(_0xe7edb3(0xd6))/0xb*(parseInt(_0xe7edb3(0xec))/0xc);if(_0x2bf10b===_0x5b5cf3)break;else _0x228a12['push'](_0x228a12['shift']());}catch(_0x4a2513){_0x228a12['push'](_0x228a12['shift']());}}}(a0_0x2ae0,0xdc08a));import*as a0_0x5c9d14 from'./main.js';function a0_0x2ae0(){const _0x329ed8=['Cors-controlers\x20have\x20not\x20been\x20activated.','origin','height','endsWith','lines','ApiAzure','join','651WTazYR','status','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','touchend','addEventListener','width','notiMessage','remove','$1\x20','forEach','replace','366MLXhyR','12QjtkrU','isArray','30hjwPHN','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','turbo-ocr','type','split','onerror','HTTP\x20Error:\x20','getItem','image','image.png','error','scrollWidth','href','turbo','src','&tl=','16635KLQVkS','result','application/octet-stream','classList','image/png','textContent','screenSize','append','getContext','548ACwVLR','createElement','captureOCR','667816EDbTUK','length','location','canvas','500\x20Internal\x20Server\x20Error','inputText','1774110Yxkxfh','https://cors-anywhere.herokuapp.com/corsdemo','13895040GBHAvU','Error\x20detecting\x20language:','onloadend','log','toggle','noti-mess','map','36NDDhOe','userAgent','.gbc','5816307qmumAi','touchstart','trim','clientWidth','readAsDataURL','DOMContentLoaded','json','message','code','getElementById','.._\x20','POST','warn','40019617cZGYdT','add','XMLHttpRequest'];a0_0x2ae0=function(){return _0x329ed8;};return a0_0x2ae0();}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x325227(0xd2)](a0_0x325227(0x10f)),turbo=document[a0_0x325227(0xd2)](a0_0x325227(0xfb)),ID=['A','B','R','L'];async function getImage(){const _0x4351c3=a0_0x325227;turbo[_0x4351c3(0x101)][_0x4351c3(0xd7)](_0x4351c3(0xf0));try{const _0x225b94=gameName[_0x4351c3(0xea)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x57399e=await a0_0x5c9d14[_0x4351c3(0x109)](_0x225b94),_0xec7f1c=new Blob([_0x57399e],{'type':'image/png'}),_0x36fd79=await new Promise((_0x3dd825,_0x386288)=>{const _0x1546f2=_0x4351c3,_0x77ef4b=new FileReader();_0x77ef4b[_0x1546f2(0xc1)]=()=>_0x3dd825(_0x77ef4b[_0x1546f2(0xff)]),_0x77ef4b[_0x1546f2(0xf3)]=_0x386288,_0x77ef4b[_0x1546f2(0xcd)](_0xec7f1c);}),_0x35bbac=new Image();_0x35bbac[_0x4351c3(0xfc)]=_0x36fd79,_0x35bbac['onload']=async()=>{const _0x48b300=_0x4351c3,_0x8a1c51=document[_0x48b300(0x108)](_0x48b300(0x10d)),_0x2dbe2d=_0x8a1c51[_0x48b300(0x106)]('2d'),_0x16fff0=0x4;let _0x40543b;gameName[_0x48b300(0xdc)](_0x48b300(0xc8))||gameName[_0x48b300(0xdc)]('.gb')?_0x40543b=0x3/0x6:_0x40543b=0x3/0x4;const _0x163bb1=localStorage[_0x48b300(0xf5)](gameName+'_setArea')||localStorage[_0x48b300(0xf5)](_0x48b300(0x104)),[_0x3ef88c,_0x5ec2c4,_0x19d9b1,_0x2022e9]=_0x163bb1[_0x48b300(0xf2)](',')['map'](Number);_0x8a1c51[_0x48b300(0xe5)]=_0x19d9b1*_0x40543b*_0x16fff0,_0x8a1c51[_0x48b300(0xdb)]=_0x2022e9*_0x40543b*_0x16fff0,_0x2dbe2d['drawImage'](_0x35bbac,_0x3ef88c*_0x40543b,_0x5ec2c4*_0x40543b,_0x19d9b1*_0x40543b,_0x2022e9*_0x40543b,0x0,0x0,_0x19d9b1*_0x40543b*_0x16fff0,_0x2022e9*_0x40543b*_0x16fff0);const _0x24a0b2=_0x8a1c51['toDataURL']('image/png')['split'](',')[0x1],_0x566178=localStorage[_0x48b300(0xf5)](_0x48b300(0xde));console[_0x48b300(0xc2)](_0x566178),_0x566178?azureServer(_0x24a0b2):freeServer(_0x24a0b2);};}catch(_0x1e410b){inputText[_0x4351c3(0x103)]=_0x1e410b['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x50e3fa=_0x4351c3;document[_0x50e3fa(0xd2)](_0x50e3fa(0x10f))['textContent']='',a0_0x5c9d14[_0x50e3fa(0xe6)]('',0x0);},0x7530);}async function freeServer(_0x2df31f){const _0xa02e98=a0_0x325227;document[_0xa02e98(0xd2)](_0xa02e98(0xc4))[_0xa02e98(0x103)]='';let _0xd86769=0x0;const _0x4dc63f=setInterval(()=>{const _0xdc048b=_0xa02e98;_0xd86769+=0x1,_0xd86769<=0x64&&(inputText[_0xdc048b(0x103)]=_0xdc048b(0xd3)+_0xd86769+'%');},0x64);try{const _0x278318=dataURItoBlob(_0x2df31f),_0x4eb3ea=new FormData();_0x4eb3ea[_0xa02e98(0x105)](_0xa02e98(0xf6),_0x278318,_0xa02e98(0xf7)),_0x4eb3ea[_0xa02e98(0x105)]('user',_0xa02e98(0xef));let _0x3eb069;try{_0x3eb069=await fetch(_0xa02e98(0xe2),{'method':_0xa02e98(0xd4),'body':_0x4eb3ea,'headers':{'Origin':window[_0xa02e98(0x10c)][_0xa02e98(0xda)],'X-Requested-With':_0xa02e98(0xd8),'User-Agent':navigator[_0xa02e98(0xc7)]}});if(!_0x3eb069['ok'])throw new Error(_0xa02e98(0xf4)+_0x3eb069['status']);}catch(_0x309240){console[_0xa02e98(0xd5)](_0xa02e98(0xd9)),window[_0xa02e98(0x10c)][_0xa02e98(0xfa)]=_0xa02e98(0x111);return;}const _0x5b9a99=await _0x3eb069[_0xa02e98(0xcf)]();if(_0x5b9a99[_0xa02e98(0xf1)]===_0xa02e98(0xf8))throw new Error(_0x5b9a99[_0xa02e98(0xf8)][_0xa02e98(0xd0)]);transLogic(_0x5b9a99['text']);}catch(_0x27fc77){inputText['textContent']=_0x27fc77[_0xa02e98(0xd0)];}finally{clearInterval(_0x4dc63f),isFunctionARunning=![];}}async function azureServer(_0x209472){const _0x249879=a0_0x325227;document[_0x249879(0xd2)](_0x249879(0xc4))['textContent']='',inputText[_0x249879(0x103)]=_0x249879(0xd3);const _0x2dd06d=localStorage['getItem'](_0x249879(0xde));let [_0x70a609,_0x4d84bd]=_0x2dd06d[_0x249879(0xf2)](',');try{const _0x2710e3=await fetch(_0x4d84bd+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x249879(0xd4),'headers':{'Ocp-Apim-Subscription-Key':_0x70a609,'Content-Type':_0x249879(0x100)},'body':dataURItoBlob(_0x209472)}),_0x52097e=await _0x2710e3['json']();if(!_0x2710e3['ok']||_0x52097e[_0x249879(0xf1)]===_0x249879(0xf8)){const _0x55f32f=_0x2710e3['ok']?_0x52097e[_0x249879(0xf8)]['message']:_0x2710e3[_0x249879(0xe1)]===0x1f4?_0x249879(0x10e):(await _0x2710e3['json']())['error']['message'];throw new Error(_0x55f32f);}const _0x3bd2d7=_0x52097e['readResult']['blocks'][0x0],_0x1b42ba=_0x3bd2d7[_0x249879(0xdd)]||[],_0x2b6a74=_0x1b42ba[_0x249879(0xc5)](_0x4fb4e3=>_0x4fb4e3['text'])[_0x249879(0xdf)]('\x0a');transLogic(_0x2b6a74);}catch(_0x2bd730){inputText[_0x249879(0x103)]=_0x2bd730[_0x249879(0xd0)];}finally{isFunctionARunning=![];}}function a0_0x15ec(_0x57868b,_0x4ae9e4){const _0x2ae0b1=a0_0x2ae0();return a0_0x15ec=function(_0x15eccc,_0x2fc948){_0x15eccc=_0x15eccc-0xc0;let _0x13b9dd=_0x2ae0b1[_0x15eccc];return _0x13b9dd;},a0_0x15ec(_0x57868b,_0x4ae9e4);}async function translateText(_0x12b827,_0x408f48,_0x44ac31){const _0x432c6e=a0_0x325227,_0x78761a=_0x12b827[_0x432c6e(0xea)](/[\r\n]+/g,',\x20')[_0x432c6e(0xea)](/([!?.,])\s*,\s*/g,_0x432c6e(0xe8))[_0x432c6e(0xea)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x432c6e(0xea)](/ {2,}/g,'\x20')[_0x432c6e(0xcb)]();var _0x4071cf='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x408f48+_0x432c6e(0xfd)+_0x44ac31+'&dt=t&q='+encodeURIComponent(_0x78761a);try{const _0x3c3f54=await fetch(_0x4071cf);if(!_0x3c3f54['ok']){if(_0x3c3f54[_0x432c6e(0xe1)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x372854=await _0x3c3f54[_0x432c6e(0xcf)](),_0x52e22a=new Error(_0x372854[_0x432c6e(0xf8)][_0x432c6e(0xd0)]);_0x52e22a[_0x432c6e(0xd1)]=_0x372854[_0x432c6e(0xf8)][_0x432c6e(0xd1)];throw _0x52e22a;}}const _0x4dc5d5=await _0x3c3f54[_0x432c6e(0xcf)]();if(Array[_0x432c6e(0xed)](_0x4dc5d5)&&_0x4dc5d5[_0x432c6e(0x10b)]>0x0&&Array['isArray'](_0x4dc5d5[0x0])){var _0x36cdb2=_0x4dc5d5[0x0]['map'](_0x3f4968=>_0x3f4968[0x0])[_0x432c6e(0xdf)]('\x20');return document[_0x432c6e(0xd2)](_0x432c6e(0xc4))[_0x432c6e(0x103)]='',inputText['textContent']=_0x432c6e(0xd3)+_0x36cdb2['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x36cdb2[_0x432c6e(0xea)](/ {2,}/g,'\x20');}else return document[_0x432c6e(0xd2)](_0x432c6e(0xc4))['textContent']='',inputText[_0x432c6e(0x103)]=_0x432c6e(0xd3)+_0x4dc5d5,_0x4dc5d5;}catch(_0x45110a){inputText['textContent']=_0x45110a[_0x432c6e(0xd0)];throw _0x45110a;}}async function autoScroll(){const _0x98c722=a0_0x325227;var _0x34bc8e=inputText[_0x98c722(0xf9)]-inputText[_0x98c722(0xcc)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x34bc8e||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x14ef3c){const _0x5162f3=a0_0x325227;var _0xa0adda='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x14ef3c);try{const _0x3c6f2f=await fetch(_0xa0adda),_0x37f6=await _0x3c6f2f['json']();var _0x2822f7=_0x37f6[0x8][0x0][0x0];return _0x2822f7;}catch(_0x51a069){console[_0x5162f3(0xf8)](_0x5162f3(0xc0),_0x51a069);throw _0x51a069;}}async function transLogic(_0x2ba0fb){const _0xd3d9bf='en';if(_0xd3d9bf===null){const _0x29e814=await detectLanguage(_0x2ba0fb),_0x334dc9=await translateText(_0x2ba0fb,_0x29e814,'en');return translateText(_0x334dc9,'en','vi');}else{if(_0xd3d9bf==='en')return translateText(_0x2ba0fb,'en','vi');else{const _0x3a27f5=await translateText(_0x2ba0fb,_0xd3d9bf,'en');return translateText(_0x3a27f5,'en','vi');}}}function dataURItoBlob(_0x45199a){const _0x193974=a0_0x325227,_0x3c3e7a=atob(_0x45199a),_0x4da247=new ArrayBuffer(_0x3c3e7a['length']),_0x3bca5d=new Uint8Array(_0x4da247);for(let _0x5599dc=0x0;_0x5599dc<_0x3c3e7a[_0x193974(0x10b)];_0x5599dc++){_0x3bca5d[_0x5599dc]=_0x3c3e7a['charCodeAt'](_0x5599dc);}return new Blob([_0x4da247],{'type':_0x193974(0x102)});}document[a0_0x325227(0xe4)](a0_0x325227(0xce),function(){const _0x51ef28=a0_0x325227;ID[_0x51ef28(0xe9)](function(_0x1a1077){const _0x15e034=_0x51ef28,_0x32cf88=document[_0x15e034(0xd2)](_0x1a1077);_0x32cf88&&_0x32cf88[_0x15e034(0xe4)](_0x15e034(0xca),function(){const _0x42882e=_0x15e034;!isFunctionARunning&&turbo[_0x42882e(0x101)][_0x42882e(0xe7)]('turbo-ocr');});}),[_0x51ef28(0xe3)]['forEach'](_0x472e44=>{const _0x2543b8=_0x51ef28;turbo[_0x2543b8(0xe4)](_0x472e44,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x472e44,()=>{const _0x7867e=_0x2543b8;areaTrans[_0x7867e(0x101)][_0x7867e(0xc3)]('visible');});});});