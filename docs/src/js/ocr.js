const a0_0x4ff27e=a0_0x22fe;function a0_0x22fe(_0xa8fb08,_0x83eb33){const _0x5e1130=a0_0x5e11();return a0_0x22fe=function(_0x22fe15,_0x308171){_0x22fe15=_0x22fe15-0x18e;let _0x151f7c=_0x5e1130[_0x22fe15];return _0x151f7c;},a0_0x22fe(_0xa8fb08,_0x83eb33);}(function(_0x32cb71,_0x16e4ba){const _0x5e73c7=a0_0x22fe,_0x4cf9ed=_0x32cb71();while(!![]){try{const _0x53a37e=parseInt(_0x5e73c7(0x1de))/0x1+parseInt(_0x5e73c7(0x1c8))/0x2*(-parseInt(_0x5e73c7(0x1c5))/0x3)+-parseInt(_0x5e73c7(0x1bb))/0x4+-parseInt(_0x5e73c7(0x1b3))/0x5+-parseInt(_0x5e73c7(0x197))/0x6*(parseInt(_0x5e73c7(0x1be))/0x7)+parseInt(_0x5e73c7(0x1db))/0x8*(parseInt(_0x5e73c7(0x1d5))/0x9)+parseInt(_0x5e73c7(0x1b5))/0xa;if(_0x53a37e===_0x16e4ba)break;else _0x4cf9ed['push'](_0x4cf9ed['shift']());}catch(_0x4483eb){_0x4cf9ed['push'](_0x4cf9ed['shift']());}}}(a0_0x5e11,0xec9e7));import*as a0_0x19e072 from'./main.js';function a0_0x5e11(){const _0x3a25b5=['500\x20Internal\x20Server\x20Error','addEventListener','visible','5525940alWIFj','XMLHttpRequest','map','3633VpFseG','image/png','status','userAgent','result','type','lines','3IcxbVc','location','inputText','484604wHDFtT','charCodeAt','getItem','image','scrollWidth','HTTP\x20Error:\x20','notiMessage','touchend','.._\x20','turbo','https://cors-anywhere.herokuapp.com/corsdemo','replace','textContent','9MdKZiq','application/octet-stream','ApiAzure','origin','turbo-ocr','split','8419024khTcWL','add','readAsDataURL','67491HQSnbq','getContext','blocks','POST','drawImage','warn','href','length','clientWidth','isArray','onload','message','4878CfEFPo','error','width','text','log','user','canvas','append','readResult','captureOCR','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','code','toDataURL','classList','endsWith','noti-mess','forEach','height','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','src','json','onloadend','Internal\x20Server\x20Error','getElementById','DOMContentLoaded','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','join','onerror','6558170PXYlKZ','.png','32066900euuRgf','$1\x20','toggle'];a0_0x5e11=function(){return _0x3a25b5;};return a0_0x5e11();}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x4ff27e(0x1ae)](a0_0x4ff27e(0x1c7)),turbo=document[a0_0x4ff27e(0x1ae)](a0_0x4ff27e(0x1d1)),ID=['A','B','R','L'];async function getImage(){const _0x2547ee=a0_0x4ff27e;turbo[_0x2547ee(0x1a4)][_0x2547ee(0x1dc)](_0x2547ee(0x1d9));try{const _0x1cb84f=gameName[_0x2547ee(0x1d3)](/\.(gba|gbc|gb|zip)$/,_0x2547ee(0x1b4)),_0x370921=await a0_0x19e072[_0x2547ee(0x1a0)](_0x1cb84f),_0x34f07a=new Blob([_0x370921],{'type':'image/png'}),_0x5d3035=await new Promise((_0x1a99ae,_0x1176f7)=>{const _0x4ec7b8=_0x2547ee,_0x32496e=new FileReader();_0x32496e[_0x4ec7b8(0x1ac)]=()=>_0x1a99ae(_0x32496e[_0x4ec7b8(0x1c2)]),_0x32496e[_0x4ec7b8(0x1b2)]=_0x1176f7,_0x32496e[_0x4ec7b8(0x1dd)](_0x34f07a);}),_0x589745=new Image();_0x589745[_0x2547ee(0x1aa)]=_0x5d3035,_0x589745[_0x2547ee(0x195)]=async()=>{const _0x1bda8f=_0x2547ee,_0x4e4f65=document['createElement'](_0x1bda8f(0x19d)),_0x2bd64d=_0x4e4f65[_0x1bda8f(0x1df)]('2d'),_0x2bd84a=0x4;let _0x4297fe;gameName['endsWith']('.gbc')||gameName[_0x1bda8f(0x1a5)]('.gb')?_0x4297fe=0x3/0x6:_0x4297fe=0x3/0x4;const _0x512cd5=localStorage[_0x1bda8f(0x1ca)](gameName+'_setArea')||localStorage[_0x1bda8f(0x1ca)]('screenSize'),[_0x3e9957,_0x4404b5,_0x4b1d40,_0x1d708a]=_0x512cd5[_0x1bda8f(0x1da)](',')[_0x1bda8f(0x1bd)](Number);_0x4e4f65[_0x1bda8f(0x199)]=_0x4b1d40*_0x4297fe*_0x2bd84a,_0x4e4f65[_0x1bda8f(0x1a8)]=_0x1d708a*_0x4297fe*_0x2bd84a,_0x2bd64d[_0x1bda8f(0x18f)](_0x589745,_0x3e9957*_0x4297fe,_0x4404b5*_0x4297fe,_0x4b1d40*_0x4297fe,_0x1d708a*_0x4297fe,0x0,0x0,_0x4b1d40*_0x4297fe*_0x2bd84a,_0x1d708a*_0x4297fe*_0x2bd84a);const _0x1a3d52=_0x4e4f65[_0x1bda8f(0x1a3)](_0x1bda8f(0x1bf))[_0x1bda8f(0x1da)](',')[0x1],_0x1a5451=localStorage[_0x1bda8f(0x1ca)](_0x1bda8f(0x1d7));console[_0x1bda8f(0x19b)](_0x1a5451),_0x1a5451?azureServer(_0x1a3d52):freeServer(_0x1a3d52);};}catch(_0x4fe221){inputText[_0x2547ee(0x1d4)]=_0x4fe221['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x406e67=_0x2547ee;document[_0x406e67(0x1ae)](_0x406e67(0x1c7))['textContent']='',a0_0x19e072[_0x406e67(0x1ce)]('',0x0);},0x7530);}async function freeServer(_0x5c2ca4){const _0x8298f5=a0_0x4ff27e;document[_0x8298f5(0x1ae)](_0x8298f5(0x1a6))[_0x8298f5(0x1d4)]='';let _0x26b0e7=0x0;const _0x5c338c=setInterval(()=>{const _0x176d49=_0x8298f5;_0x26b0e7+=0x1,_0x26b0e7<=0x64&&(inputText[_0x176d49(0x1d4)]=_0x176d49(0x1d0)+_0x26b0e7+'%');},0x64);try{const _0x1d5ebb=dataURItoBlob(_0x5c2ca4),_0x190f91=new FormData();_0x190f91[_0x8298f5(0x19e)](_0x8298f5(0x1cb),_0x1d5ebb,'image.png'),_0x190f91[_0x8298f5(0x19e)](_0x8298f5(0x19c),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x3964b0;try{_0x3964b0=await fetch(_0x8298f5(0x1b0),{'method':_0x8298f5(0x18e),'body':_0x190f91,'headers':{'Origin':window[_0x8298f5(0x1c6)][_0x8298f5(0x1d8)],'X-Requested-With':_0x8298f5(0x1bc),'User-Agent':navigator[_0x8298f5(0x1c1)]}});if(!_0x3964b0['ok'])throw new Error(_0x8298f5(0x1cd)+_0x3964b0[_0x8298f5(0x1c0)]);}catch(_0x4b8485){console[_0x8298f5(0x190)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x8298f5(0x1c6)][_0x8298f5(0x191)]=_0x8298f5(0x1d2);return;}const _0xf1bec2=await _0x3964b0[_0x8298f5(0x1ab)]();if(_0xf1bec2[_0x8298f5(0x1c3)]===_0x8298f5(0x198))throw new Error(_0xf1bec2['error'][_0x8298f5(0x196)]);transLogic(_0xf1bec2[_0x8298f5(0x19a)]);}catch(_0x1b6b78){inputText[_0x8298f5(0x1d4)]=_0x1b6b78[_0x8298f5(0x196)];}finally{clearInterval(_0x5c338c),isFunctionARunning=![];}}async function azureServer(_0xc98218){const _0x40dd9a=a0_0x4ff27e;document[_0x40dd9a(0x1ae)](_0x40dd9a(0x1a6))[_0x40dd9a(0x1d4)]='',inputText[_0x40dd9a(0x1d4)]='.._\x20';const _0x2d4beb=localStorage[_0x40dd9a(0x1ca)](_0x40dd9a(0x1d7));let [_0x309411,_0x40279b]=_0x2d4beb[_0x40dd9a(0x1da)](',');try{const _0x513ff9=await fetch(_0x40279b+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x309411,'Content-Type':_0x40dd9a(0x1d6)},'body':dataURItoBlob(_0xc98218)}),_0x20168a=await _0x513ff9['json']();if(!_0x513ff9['ok']||_0x20168a['type']==='error'){const _0x5db329=_0x513ff9['ok']?_0x20168a[_0x40dd9a(0x198)][_0x40dd9a(0x196)]:_0x513ff9[_0x40dd9a(0x1c0)]===0x1f4?_0x40dd9a(0x1b8):(await _0x513ff9[_0x40dd9a(0x1ab)]())[_0x40dd9a(0x198)][_0x40dd9a(0x196)];throw new Error(_0x5db329);}const _0x174c5d=_0x20168a[_0x40dd9a(0x19f)][_0x40dd9a(0x1e0)][0x0],_0x461d2f=_0x174c5d[_0x40dd9a(0x1c4)]||[],_0x59dd1f=_0x461d2f[_0x40dd9a(0x1bd)](_0x3730d6=>_0x3730d6[_0x40dd9a(0x19a)])[_0x40dd9a(0x1b1)]('\x0a');transLogic(_0x59dd1f);}catch(_0x16e630){inputText[_0x40dd9a(0x1d4)]=_0x16e630[_0x40dd9a(0x196)];}finally{isFunctionARunning=![];}}async function translateText(_0x1dfef4,_0x213226,_0x9f364){const _0x333e2b=a0_0x4ff27e,_0x48891a=_0x1dfef4[_0x333e2b(0x1d3)](/[\r\n]+/g,',\x20')[_0x333e2b(0x1d3)](/([!?.,])\s*,\s*/g,_0x333e2b(0x1b6))[_0x333e2b(0x1d3)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x333e2b(0x1d3)](/ {2,}/g,'\x20')['trim']();var _0x58d601=_0x333e2b(0x1a9)+_0x213226+'&tl='+_0x9f364+'&dt=t&q='+encodeURIComponent(_0x48891a);try{const _0x38a2ed=await fetch(_0x58d601);if(!_0x38a2ed['ok']){if(_0x38a2ed[_0x333e2b(0x1c0)]===0x1f4)throw new Error(_0x333e2b(0x1ad));else{const _0x55328a=await _0x38a2ed['json'](),_0x5833d4=new Error(_0x55328a[_0x333e2b(0x198)][_0x333e2b(0x196)]);_0x5833d4['code']=_0x55328a['error'][_0x333e2b(0x1a2)];throw _0x5833d4;}}const _0xfb324c=await _0x38a2ed[_0x333e2b(0x1ab)]();if(Array[_0x333e2b(0x194)](_0xfb324c)&&_0xfb324c[_0x333e2b(0x192)]>0x0&&Array[_0x333e2b(0x194)](_0xfb324c[0x0])){var _0xd07af3=_0xfb324c[0x0][_0x333e2b(0x1bd)](_0x4a0def=>_0x4a0def[0x0])[_0x333e2b(0x1b1)]('\x20');return document[_0x333e2b(0x1ae)](_0x333e2b(0x1a6))[_0x333e2b(0x1d4)]='',inputText[_0x333e2b(0x1d4)]='.._\x20'+_0xd07af3[_0x333e2b(0x1d3)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0xd07af3[_0x333e2b(0x1d3)](/ {2,}/g,'\x20');}else return document[_0x333e2b(0x1ae)](_0x333e2b(0x1a6))[_0x333e2b(0x1d4)]='',inputText[_0x333e2b(0x1d4)]=_0x333e2b(0x1d0)+_0xfb324c,_0xfb324c;}catch(_0x42d367){inputText['textContent']=_0x42d367['message'];throw _0x42d367;}}async function autoScroll(){const _0xc545a0=a0_0x4ff27e;var _0x68f127=inputText[_0xc545a0(0x1cc)]-inputText[_0xc545a0(0x193)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x68f127||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x404689){const _0x533227=a0_0x4ff27e;var _0x1f4579=_0x533227(0x1a1)+encodeURIComponent(_0x404689);try{const _0x176321=await fetch(_0x1f4579),_0x377529=await _0x176321[_0x533227(0x1ab)]();var _0x195be3=_0x377529[0x8][0x0][0x0];return _0x195be3;}catch(_0x3b63f4){console[_0x533227(0x198)]('Error\x20detecting\x20language:',_0x3b63f4);throw _0x3b63f4;}}async function transLogic(_0x112161){const _0x5b4c12='en';if(_0x5b4c12===null){const _0xbd1acd=await detectLanguage(_0x112161),_0xd594dd=await translateText(_0x112161,_0xbd1acd,'en');return translateText(_0xd594dd,'en','vi');}else{if(_0x5b4c12==='en')return translateText(_0x112161,'en','vi');else{const _0x38f79a=await translateText(_0x112161,_0x5b4c12,'en');return translateText(_0x38f79a,'en','vi');}}}function dataURItoBlob(_0x40ef5a){const _0x30f3b9=a0_0x4ff27e,_0x3d10d4=atob(_0x40ef5a),_0x1dd873=new ArrayBuffer(_0x3d10d4[_0x30f3b9(0x192)]),_0x109d82=new Uint8Array(_0x1dd873);for(let _0x542c05=0x0;_0x542c05<_0x3d10d4[_0x30f3b9(0x192)];_0x542c05++){_0x109d82[_0x542c05]=_0x3d10d4[_0x30f3b9(0x1c9)](_0x542c05);}return new Blob([_0x1dd873],{'type':_0x30f3b9(0x1bf)});}document[a0_0x4ff27e(0x1b9)](a0_0x4ff27e(0x1af),function(){const _0x298fa3=a0_0x4ff27e;ID[_0x298fa3(0x1a7)](function(_0x297722){const _0x59fb91=_0x298fa3,_0x3b4a80=document[_0x59fb91(0x1ae)](_0x297722);_0x3b4a80&&_0x3b4a80[_0x59fb91(0x1b9)]('touchstart',function(){const _0xc251f2=_0x59fb91;!isFunctionARunning&&turbo[_0xc251f2(0x1a4)]['remove']('turbo-ocr');});}),[_0x298fa3(0x1cf)][_0x298fa3(0x1a7)](_0x25242c=>{const _0x34c539=_0x298fa3;turbo[_0x34c539(0x1b9)](_0x25242c,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x34c539(0x1b9)](_0x25242c,()=>{const _0x424faf=_0x34c539;areaTrans[_0x424faf(0x1a4)][_0x424faf(0x1b7)](_0x424faf(0x1ba));});});});