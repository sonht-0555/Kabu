const a0_0x7e8285=a0_0x49e4;(function(_0xa69a69,_0x12b005){const _0x37928b=a0_0x49e4,_0x7bcef1=_0xa69a69();while(!![]){try{const _0x3abb22=-parseInt(_0x37928b(0x87))/0x1*(parseInt(_0x37928b(0xba))/0x2)+-parseInt(_0x37928b(0xb8))/0x3+parseInt(_0x37928b(0x9d))/0x4+parseInt(_0x37928b(0xc1))/0x5*(parseInt(_0x37928b(0x8f))/0x6)+parseInt(_0x37928b(0xa0))/0x7*(parseInt(_0x37928b(0xb2))/0x8)+parseInt(_0x37928b(0x9b))/0x9*(parseInt(_0x37928b(0x90))/0xa)+-parseInt(_0x37928b(0xb0))/0xb;if(_0x3abb22===_0x12b005)break;else _0x7bcef1['push'](_0x7bcef1['shift']());}catch(_0x5ee5e0){_0x7bcef1['push'](_0x7bcef1['shift']());}}}(a0_0x462d,0xd9cfe));import*as a0_0x23ea4f from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x7e8285(0xa9)),turbo=document[a0_0x7e8285(0xad)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0xcf762f=a0_0x7e8285;turbo[_0xcf762f(0x6e)][_0xcf762f(0x7c)](_0xcf762f(0x97));try{const _0x20c003=gameName[_0xcf762f(0xa2)](/\.(gba|gbc|gb|zip)$/,_0xcf762f(0x6d)),_0x4ae55b=await a0_0x23ea4f[_0xcf762f(0xa5)](_0x20c003),_0x16c602=new Blob([_0x4ae55b],{'type':_0xcf762f(0x75)}),_0x3c7b35=await new Promise((_0x39ff94,_0x2cd2bb)=>{const _0x45f07e=_0xcf762f,_0x1ed63f=new FileReader();_0x1ed63f['onloadend']=()=>_0x39ff94(_0x1ed63f[_0x45f07e(0xa4)]),_0x1ed63f[_0x45f07e(0x6f)]=_0x2cd2bb,_0x1ed63f[_0x45f07e(0x91)](_0x16c602);}),_0x1bca63=new Image();_0x1bca63[_0xcf762f(0x76)]=_0x3c7b35,_0x1bca63[_0xcf762f(0xbe)]=async()=>{const _0x1fc533=_0xcf762f,_0x2fc9cd=document['createElement'](_0x1fc533(0xa6)),_0x531226=_0x2fc9cd['getContext']('2d'),_0x4da509=0x4;let _0x14bc14;gameName['endsWith'](_0x1fc533(0xb9))||gameName['endsWith'](_0x1fc533(0x6c))?_0x14bc14=0x3/0x6:_0x14bc14=0x3/0x4;const _0xe4372a=localStorage[_0x1fc533(0x86)](gameName+'_setArea')||localStorage[_0x1fc533(0x86)](_0x1fc533(0xb6)),[_0x15b049,_0x98fb84,_0x57e977,_0x349be8]=_0xe4372a['split'](',')[_0x1fc533(0x70)](Number);_0x2fc9cd[_0x1fc533(0x8a)]=_0x57e977*_0x14bc14*_0x4da509,_0x2fc9cd[_0x1fc533(0x7d)]=_0x349be8*_0x14bc14*_0x4da509,_0x531226['drawImage'](_0x1bca63,_0x15b049*_0x14bc14,_0x98fb84*_0x14bc14,_0x57e977*_0x14bc14,_0x349be8*_0x14bc14,0x0,0x0,_0x57e977*_0x14bc14*_0x4da509,_0x349be8*_0x14bc14*_0x4da509);const _0x45bd79=_0x2fc9cd[_0x1fc533(0xa7)](_0x1fc533(0x75))['split'](',')[0x1],_0x5ebb5b=localStorage['getItem'](_0x1fc533(0x9e));console[_0x1fc533(0xab)](_0x5ebb5b),_0x5ebb5b?azureServer(_0x45bd79):freeServer(_0x45bd79);};}catch(_0x3817e4){inputText[_0xcf762f(0x92)]=_0x3817e4[_0xcf762f(0xa1)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x26b6ad=_0xcf762f;document[_0x26b6ad(0xad)]('inputText')['textContent']='',a0_0x23ea4f[_0x26b6ad(0xb3)]('',0x0);},0x7530);}function a0_0x462d(){const _0x1f018f=['275exGXZC','type','application/octet-stream','.gb','.png','classList','onerror','map','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','charCodeAt','length','userAgent','image/png','src','clientWidth','status','image.png','trim','XMLHttpRequest','add','height','href','&dt=t&q=','DOMContentLoaded','addEventListener','location','code','append','Error\x20detecting\x20language:','getItem','1fksTNv','Cors-controlers\x20have\x20not\x20been\x20activated.','isArray','width','user','noti-mess','origin','remove','10014uNSLdV','3230hJlTzO','readAsDataURL','textContent','error','scrollLeft','$1\x20','join','turbo-ocr','image','scrollWidth','500\x20Internal\x20Server\x20Error','43551htBzfe','.._\x20','4361800idYlVH','ApiAzure','json','14qwXBVk','message','replace','warn','result','captureOCR','canvas','toDataURL','touchend','inputText','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','log','split','getElementById','forEach','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','24285206bPXbBU','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','3163304uYsYTi','notiMessage','toggle','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','screenSize','lines','1205409wHTyUC','.gbc','68722eNQofA','blocks','POST','text','onload','Internal\x20Server\x20Error','https://cors-anywhere.herokuapp.com/corsdemo'];a0_0x462d=function(){return _0x1f018f;};return a0_0x462d();}async function freeServer(_0x2f6b49){const _0x3daa1a=a0_0x7e8285;document[_0x3daa1a(0xad)](_0x3daa1a(0x8c))[_0x3daa1a(0x92)]='';let _0x51c1b9=0x0;const _0x33a2aa=setInterval(()=>{const _0x3290ff=_0x3daa1a;_0x51c1b9+=0x1,_0x51c1b9<=0x64&&(inputText[_0x3290ff(0x92)]=_0x3290ff(0x9c)+_0x51c1b9+'%');},0x64);try{const _0xd0dad1=dataURItoBlob(_0x2f6b49),_0x4cea47=new FormData();_0x4cea47[_0x3daa1a(0x84)](_0x3daa1a(0x98),_0xd0dad1,_0x3daa1a(0x79)),_0x4cea47['append'](_0x3daa1a(0x8b),_0x3daa1a(0xaf));let _0xb6430f;try{_0xb6430f=await fetch(_0x3daa1a(0xb1),{'method':_0x3daa1a(0xbc),'body':_0x4cea47,'headers':{'Origin':window['location'][_0x3daa1a(0x8d)],'X-Requested-With':_0x3daa1a(0x7b),'User-Agent':navigator[_0x3daa1a(0x74)]}});if(!_0xb6430f['ok'])throw new Error('HTTP\x20Error:\x20'+_0xb6430f[_0x3daa1a(0x78)]);}catch(_0xb119a4){console[_0x3daa1a(0xa3)](_0x3daa1a(0x88)),window[_0x3daa1a(0x82)][_0x3daa1a(0x7e)]=_0x3daa1a(0xc0);return;}const _0x5230f1=await _0xb6430f['json']();if(_0x5230f1[_0x3daa1a(0x6a)]===_0x3daa1a(0x93))throw new Error(_0x5230f1[_0x3daa1a(0x93)][_0x3daa1a(0xa1)]);transLogic(_0x5230f1['text']);}catch(_0x541f2e){inputText[_0x3daa1a(0x92)]=_0x541f2e['message'];}finally{clearInterval(_0x33a2aa),isFunctionARunning=![];}}async function azureServer(_0x3a8fe3){const _0x1d8b26=a0_0x7e8285;document[_0x1d8b26(0xad)]('noti-mess')[_0x1d8b26(0x92)]='',inputText[_0x1d8b26(0x92)]='.._\x20';const _0x5444d6=localStorage[_0x1d8b26(0x86)](_0x1d8b26(0x9e));let [_0x2fe0f0,_0x1c034f]=_0x5444d6[_0x1d8b26(0xac)](',');try{const _0x34e918=await fetch(_0x1c034f+_0x1d8b26(0xb5),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x2fe0f0,'Content-Type':_0x1d8b26(0x6b)},'body':dataURItoBlob(_0x3a8fe3)}),_0x1caace=await _0x34e918[_0x1d8b26(0x9f)]();if(!_0x34e918['ok']||_0x1caace[_0x1d8b26(0x6a)]===_0x1d8b26(0x93)){const _0x1bd96d=_0x34e918['ok']?_0x1caace[_0x1d8b26(0x93)]['message']:_0x34e918['status']===0x1f4?_0x1d8b26(0x9a):(await _0x34e918[_0x1d8b26(0x9f)]())[_0x1d8b26(0x93)][_0x1d8b26(0xa1)];throw new Error(_0x1bd96d);}const _0x57a7ca=_0x1caace['readResult'][_0x1d8b26(0xbb)][0x0],_0x12dcfd=_0x57a7ca[_0x1d8b26(0xb7)]||[],_0x19060c=_0x12dcfd[_0x1d8b26(0x70)](_0x1ab49f=>_0x1ab49f[_0x1d8b26(0xbd)])['join']('\x0a');transLogic(_0x19060c);}catch(_0x4e7955){inputText[_0x1d8b26(0x92)]=_0x4e7955[_0x1d8b26(0xa1)];}finally{isFunctionARunning=![];}}async function translateText(_0x44f273,_0xb451fd,_0x9663){const _0x33d46e=a0_0x7e8285,_0x210f02=_0x44f273[_0x33d46e(0xa2)](/[\r\n]+/g,',\x20')[_0x33d46e(0xa2)](/([!?.,])\s*,\s*/g,_0x33d46e(0x95))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x33d46e(0xa2)](/ {2,}/g,'\x20')[_0x33d46e(0x7a)]();var _0x4a6aa5=_0x33d46e(0xaa)+_0xb451fd+'&tl='+_0x9663+_0x33d46e(0x7f)+encodeURIComponent(_0x210f02);try{const _0x190fd6=await fetch(_0x4a6aa5);if(!_0x190fd6['ok']){if(_0x190fd6['status']===0x1f4)throw new Error(_0x33d46e(0xbf));else{const _0x2cf7ac=await _0x190fd6[_0x33d46e(0x9f)](),_0x1ac1af=new Error(_0x2cf7ac['error'][_0x33d46e(0xa1)]);_0x1ac1af[_0x33d46e(0x83)]=_0x2cf7ac[_0x33d46e(0x93)][_0x33d46e(0x83)];throw _0x1ac1af;}}const _0x364553=await _0x190fd6[_0x33d46e(0x9f)]();if(Array['isArray'](_0x364553)&&_0x364553[_0x33d46e(0x73)]>0x0&&Array[_0x33d46e(0x89)](_0x364553[0x0])){var _0x4e9f04=_0x364553[0x0][_0x33d46e(0x70)](_0x168437=>_0x168437[0x0])[_0x33d46e(0x96)]('\x20');return document[_0x33d46e(0xad)](_0x33d46e(0x8c))[_0x33d46e(0x92)]='',inputText[_0x33d46e(0x92)]=_0x33d46e(0x9c)+_0x4e9f04[_0x33d46e(0xa2)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4e9f04[_0x33d46e(0xa2)](/ {2,}/g,'\x20');}else return document[_0x33d46e(0xad)]('noti-mess')[_0x33d46e(0x92)]='',inputText['textContent']=_0x33d46e(0x9c)+_0x364553,_0x364553;}catch(_0x2f10e9){inputText[_0x33d46e(0x92)]=_0x2f10e9['message'];throw _0x2f10e9;}}async function autoScroll(){const _0x439e0a=a0_0x7e8285;var _0x47c06a=inputText[_0x439e0a(0x99)]-inputText[_0x439e0a(0x77)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x47c06a||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x439e0a(0x94)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x2505fc){const _0x421fea=a0_0x7e8285;var _0x511a08=_0x421fea(0x71)+encodeURIComponent(_0x2505fc);try{const _0x87ec49=await fetch(_0x511a08),_0x1f1a15=await _0x87ec49[_0x421fea(0x9f)]();var _0x2606ff=_0x1f1a15[0x8][0x0][0x0];return _0x2606ff;}catch(_0x20a54c){console[_0x421fea(0x93)](_0x421fea(0x85),_0x20a54c);throw _0x20a54c;}}function a0_0x49e4(_0x15052b,_0x2702b3){const _0x462d2e=a0_0x462d();return a0_0x49e4=function(_0x49e49d,_0x53d687){_0x49e49d=_0x49e49d-0x6a;let _0xb22ef8=_0x462d2e[_0x49e49d];return _0xb22ef8;},a0_0x49e4(_0x15052b,_0x2702b3);}async function transLogic(_0x50ee3d){const _0x2d258d='en';if(_0x2d258d===null){const _0x14716b=await detectLanguage(_0x50ee3d),_0x30cf0a=await translateText(_0x50ee3d,_0x14716b,'en');return translateText(_0x30cf0a,'en','vi');}else{if(_0x2d258d==='en')return translateText(_0x50ee3d,'en','vi');else{const _0x5a8e98=await translateText(_0x50ee3d,_0x2d258d,'en');return translateText(_0x5a8e98,'en','vi');}}}function dataURItoBlob(_0x51aff9){const _0x49b56d=a0_0x7e8285,_0x573b68=atob(_0x51aff9),_0xba82c3=new ArrayBuffer(_0x573b68[_0x49b56d(0x73)]),_0x4ba74d=new Uint8Array(_0xba82c3);for(let _0x4f37a5=0x0;_0x4f37a5<_0x573b68[_0x49b56d(0x73)];_0x4f37a5++){_0x4ba74d[_0x4f37a5]=_0x573b68[_0x49b56d(0x72)](_0x4f37a5);}return new Blob([_0xba82c3],{'type':'image/png'});}document[a0_0x7e8285(0x81)](a0_0x7e8285(0x80),function(){const _0x5e6f9a=a0_0x7e8285;ID[_0x5e6f9a(0xae)](function(_0x44dc8e){const _0x403a68=document['getElementById'](_0x44dc8e);_0x403a68&&_0x403a68['addEventListener']('touchstart',function(){const _0x27ee38=a0_0x49e4;!isFunctionARunning&&turbo['classList'][_0x27ee38(0x8e)](_0x27ee38(0x97));});}),[_0x5e6f9a(0xa8)][_0x5e6f9a(0xae)](_0x50125d=>{const _0x1f816f=_0x5e6f9a;turbo[_0x1f816f(0x81)](_0x50125d,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x1f816f(0x81)](_0x50125d,()=>{const _0x10ebaa=_0x1f816f;areaTrans[_0x10ebaa(0x6e)][_0x10ebaa(0xb4)]('visible');});});});