const a0_0x31f93a=a0_0x10f0;(function(_0x1d3423,_0x3779b2){const _0x33625c=a0_0x10f0,_0x228d59=_0x1d3423();while(!![]){try{const _0x11f915=parseInt(_0x33625c(0x232))/0x1*(-parseInt(_0x33625c(0x1f8))/0x2)+-parseInt(_0x33625c(0x22f))/0x3*(parseInt(_0x33625c(0x1e1))/0x4)+parseInt(_0x33625c(0x203))/0x5+parseInt(_0x33625c(0x201))/0x6*(-parseInt(_0x33625c(0x225))/0x7)+-parseInt(_0x33625c(0x1f9))/0x8+-parseInt(_0x33625c(0x1fe))/0x9*(parseInt(_0x33625c(0x1eb))/0xa)+parseInt(_0x33625c(0x1fa))/0xb;if(_0x11f915===_0x3779b2)break;else _0x228d59['push'](_0x228d59['shift']());}catch(_0xbfc091){_0x228d59['push'](_0x228d59['shift']());}}}(a0_0x1e43,0xa0a30));import*as a0_0x54bfb9 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x31f93a(0x230)](a0_0x31f93a(0x21a)),turbo=document[a0_0x31f93a(0x230)](a0_0x31f93a(0x1e4)),ID=['A','B','R','L'];function a0_0x10f0(_0x485b6c,_0x33c80a){const _0x1e43ea=a0_0x1e43();return a0_0x10f0=function(_0x10f0fc,_0x2278d3){_0x10f0fc=_0x10f0fc-0x1dd;let _0x4de707=_0x1e43ea[_0x10f0fc];return _0x4de707;},a0_0x10f0(_0x485b6c,_0x33c80a);}async function getImage(){const _0x1942ed=a0_0x31f93a;turbo[_0x1942ed(0x214)]['add'](_0x1942ed(0x233));try{const _0x33cbd4=gameName[_0x1942ed(0x207)](/\.(gba|gbc|gb|zip)$/,_0x1942ed(0x228)),_0x4fc8a2=await a0_0x54bfb9[_0x1942ed(0x206)](_0x33cbd4),_0x49d438=new Blob([_0x4fc8a2],{'type':'image/png'}),_0x557bd4=await new Promise((_0x5d44ea,_0xbb7fd4)=>{const _0x378c3f=_0x1942ed,_0x3666a2=new FileReader();_0x3666a2['onloadend']=()=>_0x5d44ea(_0x3666a2[_0x378c3f(0x1f3)]),_0x3666a2[_0x378c3f(0x1f6)]=_0xbb7fd4,_0x3666a2[_0x378c3f(0x1e2)](_0x49d438);}),_0x2bce11=new Image();_0x2bce11[_0x1942ed(0x21b)]=_0x557bd4,_0x2bce11[_0x1942ed(0x1ed)]=async()=>{const _0xa85448=_0x1942ed,_0x1a89c4=document['createElement'](_0xa85448(0x215)),_0x4e013a=_0x1a89c4[_0xa85448(0x1dd)]('2d'),_0x253bf9=0x4;let _0x33d741;gameName[_0xa85448(0x1fd)](_0xa85448(0x22c))||gameName[_0xa85448(0x1fd)]('.gb')?_0x33d741=0x3/0x6:_0x33d741=0x3/0x4;const _0x162d52=localStorage[_0xa85448(0x229)](gameName+_0xa85448(0x208))||localStorage[_0xa85448(0x229)](_0xa85448(0x1ec)),[_0x399df1,_0x1cdbe7,_0x578382,_0x53377a]=_0x162d52['split'](',')[_0xa85448(0x20f)](Number);_0x1a89c4[_0xa85448(0x205)]=_0x578382*_0x33d741*_0x253bf9,_0x1a89c4[_0xa85448(0x20e)]=_0x53377a*_0x33d741*_0x253bf9,_0x4e013a['drawImage'](_0x2bce11,_0x399df1*_0x33d741,_0x1cdbe7*_0x33d741,_0x578382*_0x33d741,_0x53377a*_0x33d741,0x0,0x0,_0x578382*_0x33d741*_0x253bf9,_0x53377a*_0x33d741*_0x253bf9);const _0x57f804=_0x1a89c4[_0xa85448(0x1e9)](_0xa85448(0x22e))[_0xa85448(0x222)](',')[0x1],_0x5715e9=localStorage[_0xa85448(0x229)](_0xa85448(0x20d));console[_0xa85448(0x1f7)](_0x5715e9),_0x5715e9?azureServer(_0x57f804):freeServer(_0x57f804);};}catch(_0x5b00d9){inputText['textContent']=_0x5b00d9[_0x1942ed(0x1e7)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x5d6d93=_0x1942ed;document[_0x5d6d93(0x230)](_0x5d6d93(0x21a))[_0x5d6d93(0x21c)]='',a0_0x54bfb9[_0x5d6d93(0x1e5)]('',0x0);},0x7530);}function a0_0x1e43(){const _0x26ac63=['lines','text','origin','split','Error\x20detecting\x20language:','&dt=t&q=','14RbgIRE','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','image.png','.png','getItem','clientWidth','https://cors-anywhere.herokuapp.com/corsdemo','.gbc','DOMContentLoaded','image/png','2052VmHRMn','getElementById','noti-mess','11bjTijX','turbo-ocr','getContext','.._\x20','500\x20Internal\x20Server\x20Error','Internal\x20Server\x20Error','4200ZRvugJ','readAsDataURL','trim','turbo','notiMessage','addEventListener','message','Cors-controlers\x20have\x20not\x20been\x20activated.','toDataURL','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','45580ApCDwh','screenSize','onload','json','image','isArray','append','userAgent','result','POST','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','onerror','log','84126UncHfb','7197136igsjRn','34420408Lwgweq','status','location','endsWith','774BmavYH','forEach','length','956544xSvuyW','touchend','1601055aeXNzu','code','width','captureOCR','replace','_setArea','type','toggle','touchstart','remove','ApiAzure','height','map','readResult','error','$1\x20','join','classList','canvas','scrollWidth','HTTP\x20Error:\x20','scrollLeft','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','inputText','src','textContent','visible','href'];a0_0x1e43=function(){return _0x26ac63;};return a0_0x1e43();}async function freeServer(_0x1ca558){const _0x3470da=a0_0x31f93a;document[_0x3470da(0x230)](_0x3470da(0x231))['textContent']='';let _0x3bbcd3=0x0;const _0x4dfd55=setInterval(()=>{const _0x1aebf8=_0x3470da;_0x3bbcd3+=0x1,_0x3bbcd3<=0x64&&(inputText['textContent']=_0x1aebf8(0x1de)+_0x3bbcd3+'%');},0x64);try{const _0x14cc56=dataURItoBlob(_0x1ca558),_0x5a8daa=new FormData();_0x5a8daa['append'](_0x3470da(0x1ef),_0x14cc56,_0x3470da(0x227)),_0x5a8daa[_0x3470da(0x1f1)]('user',_0x3470da(0x1f5));let _0xea3530;try{_0xea3530=await fetch(_0x3470da(0x219),{'method':_0x3470da(0x1f4),'body':_0x5a8daa,'headers':{'Origin':window[_0x3470da(0x1fc)][_0x3470da(0x221)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x3470da(0x1f2)]}});if(!_0xea3530['ok'])throw new Error(_0x3470da(0x217)+_0xea3530[_0x3470da(0x1fb)]);}catch(_0x3b258a){console['warn'](_0x3470da(0x1e8)),window['location'][_0x3470da(0x21e)]=_0x3470da(0x22b);return;}const _0x3c99ca=await _0xea3530[_0x3470da(0x1ee)]();if(_0x3c99ca[_0x3470da(0x209)]===_0x3470da(0x211))throw new Error(_0x3c99ca[_0x3470da(0x211)][_0x3470da(0x1e7)]);transLogic(_0x3c99ca[_0x3470da(0x220)]);}catch(_0x539ade){inputText[_0x3470da(0x21c)]=_0x539ade[_0x3470da(0x1e7)];}finally{clearInterval(_0x4dfd55),isFunctionARunning=![];}}async function azureServer(_0x516bfb){const _0x59014e=a0_0x31f93a;document[_0x59014e(0x230)]('noti-mess')['textContent']='',inputText[_0x59014e(0x21c)]=_0x59014e(0x1de);const _0x4751b4=localStorage['getItem'](_0x59014e(0x20d));let [_0x9411b9,_0x44a8d6]=_0x4751b4[_0x59014e(0x222)](',');try{const _0x313340=await fetch(_0x44a8d6+_0x59014e(0x1ea),{'method':_0x59014e(0x1f4),'headers':{'Ocp-Apim-Subscription-Key':_0x9411b9,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x516bfb)}),_0x4bdcf7=await _0x313340[_0x59014e(0x1ee)]();if(!_0x313340['ok']||_0x4bdcf7[_0x59014e(0x209)]==='error'){const _0x49d957=_0x313340['ok']?_0x4bdcf7[_0x59014e(0x211)][_0x59014e(0x1e7)]:_0x313340[_0x59014e(0x1fb)]===0x1f4?_0x59014e(0x1df):(await _0x313340[_0x59014e(0x1ee)]())[_0x59014e(0x211)][_0x59014e(0x1e7)];throw new Error(_0x49d957);}const _0x44a30c=_0x4bdcf7[_0x59014e(0x210)]['blocks'][0x0],_0x14a08a=_0x44a30c[_0x59014e(0x21f)]||[],_0x112acd=_0x14a08a[_0x59014e(0x20f)](_0x191107=>_0x191107[_0x59014e(0x220)])[_0x59014e(0x213)]('\x0a');transLogic(_0x112acd);}catch(_0x58c665){inputText[_0x59014e(0x21c)]=_0x58c665[_0x59014e(0x1e7)];}finally{isFunctionARunning=![];}}async function translateText(_0x440912,_0x3ec2e1,_0x278b55){const _0x492216=a0_0x31f93a,_0x272516=_0x440912[_0x492216(0x207)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x492216(0x212))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x492216(0x207)](/ {2,}/g,'\x20')[_0x492216(0x1e3)]();var _0x43c0e8=_0x492216(0x226)+_0x3ec2e1+'&tl='+_0x278b55+_0x492216(0x224)+encodeURIComponent(_0x272516);try{const _0x3e9e3d=await fetch(_0x43c0e8);if(!_0x3e9e3d['ok']){if(_0x3e9e3d['status']===0x1f4)throw new Error(_0x492216(0x1e0));else{const _0x48132e=await _0x3e9e3d['json'](),_0x5071d1=new Error(_0x48132e[_0x492216(0x211)]['message']);_0x5071d1[_0x492216(0x204)]=_0x48132e[_0x492216(0x211)]['code'];throw _0x5071d1;}}const _0x213ec0=await _0x3e9e3d[_0x492216(0x1ee)]();if(Array['isArray'](_0x213ec0)&&_0x213ec0['length']>0x0&&Array[_0x492216(0x1f0)](_0x213ec0[0x0])){var _0x498609=_0x213ec0[0x0]['map'](_0x2577cf=>_0x2577cf[0x0])[_0x492216(0x213)]('\x20');return document[_0x492216(0x230)](_0x492216(0x231))[_0x492216(0x21c)]='',inputText[_0x492216(0x21c)]='.._\x20'+_0x498609[_0x492216(0x207)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x498609['replace'](/ {2,}/g,'\x20');}else return document[_0x492216(0x230)](_0x492216(0x231))[_0x492216(0x21c)]='',inputText[_0x492216(0x21c)]='.._\x20'+_0x213ec0,_0x213ec0;}catch(_0x13c734){inputText[_0x492216(0x21c)]=_0x13c734['message'];throw _0x13c734;}}async function autoScroll(){const _0x46896d=a0_0x31f93a;var _0xc85b49=inputText[_0x46896d(0x216)]-inputText[_0x46896d(0x22a)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0xc85b49||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x46896d(0x218)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x2c12ff){const _0x2845af=a0_0x31f93a;var _0x43d3d4='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x2c12ff);try{const _0x1f18aa=await fetch(_0x43d3d4),_0x3ca28a=await _0x1f18aa[_0x2845af(0x1ee)]();var _0x1e20d1=_0x3ca28a[0x8][0x0][0x0];return _0x1e20d1;}catch(_0xe2b18b){console[_0x2845af(0x211)](_0x2845af(0x223),_0xe2b18b);throw _0xe2b18b;}}async function transLogic(_0x267b4a){const _0x1b5ff5='en';if(_0x1b5ff5===null){const _0x280bea=await detectLanguage(_0x267b4a),_0x5e2cf5=await translateText(_0x267b4a,_0x280bea,'en');return translateText(_0x5e2cf5,'en','vi');}else{if(_0x1b5ff5==='en')return translateText(_0x267b4a,'en','vi');else{const _0x162f99=await translateText(_0x267b4a,_0x1b5ff5,'en');return translateText(_0x162f99,'en','vi');}}}function dataURItoBlob(_0x5ba7a9){const _0x12fbc9=a0_0x31f93a,_0x1e8ae=atob(_0x5ba7a9),_0x14665d=new ArrayBuffer(_0x1e8ae[_0x12fbc9(0x200)]),_0x4e2520=new Uint8Array(_0x14665d);for(let _0x23bdcb=0x0;_0x23bdcb<_0x1e8ae['length'];_0x23bdcb++){_0x4e2520[_0x23bdcb]=_0x1e8ae['charCodeAt'](_0x23bdcb);}return new Blob([_0x14665d],{'type':_0x12fbc9(0x22e)});}document[a0_0x31f93a(0x1e6)](a0_0x31f93a(0x22d),function(){const _0x2bdeef=a0_0x31f93a;ID['forEach'](function(_0x18ed1f){const _0x16aff3=a0_0x10f0,_0x5c4f3c=document[_0x16aff3(0x230)](_0x18ed1f);_0x5c4f3c&&_0x5c4f3c[_0x16aff3(0x1e6)](_0x16aff3(0x20b),function(){const _0x44c310=_0x16aff3;!isFunctionARunning&&turbo[_0x44c310(0x214)][_0x44c310(0x20c)]('turbo-ocr');});}),[_0x2bdeef(0x202)][_0x2bdeef(0x1ff)](_0xe1dfe1=>{const _0x149626=_0x2bdeef;turbo[_0x149626(0x1e6)](_0xe1dfe1,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x149626(0x1e6)](_0xe1dfe1,()=>{const _0x5f1aad=_0x149626;areaTrans[_0x5f1aad(0x214)][_0x5f1aad(0x20a)](_0x5f1aad(0x21d));});});});