const a0_0x7fba6=a0_0x520b;(function(_0x20390e,_0x42d08c){const _0x1cdd8c=a0_0x520b,_0x2f023f=_0x20390e();while(!![]){try{const _0x5a8c78=-parseInt(_0x1cdd8c(0x97))/0x1+-parseInt(_0x1cdd8c(0x8b))/0x2*(-parseInt(_0x1cdd8c(0xb9))/0x3)+parseInt(_0x1cdd8c(0xcf))/0x4*(-parseInt(_0x1cdd8c(0xa7))/0x5)+-parseInt(_0x1cdd8c(0xa3))/0x6*(parseInt(_0x1cdd8c(0xd1))/0x7)+-parseInt(_0x1cdd8c(0xba))/0x8*(-parseInt(_0x1cdd8c(0xc0))/0x9)+parseInt(_0x1cdd8c(0x8e))/0xa+-parseInt(_0x1cdd8c(0x8d))/0xb*(-parseInt(_0x1cdd8c(0x8f))/0xc);if(_0x5a8c78===_0x42d08c)break;else _0x2f023f['push'](_0x2f023f['shift']());}catch(_0x24bfa6){_0x2f023f['push'](_0x2f023f['shift']());}}}(a0_0x53e9,0x2aa59));import*as a0_0x2ec69c from'./main.js';function a0_0x520b(_0x4117ce,_0x4c5d94){const _0x53e99f=a0_0x53e9();return a0_0x520b=function(_0x520bd9,_0x286279){_0x520bd9=_0x520bd9-0x88;let _0x5cf502=_0x53e99f[_0x520bd9];return _0x5cf502;},a0_0x520b(_0x4117ce,_0x4c5d94);}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x53e9(){const _0x244562=['json','createElement','length','addEventListener','toDataURL','textContent','Internal\x20Server\x20Error','5558zpqALc','.png','154YXibPH','3369080GQPIHX','192864rzyBGv','replace','turbo-ocr','image/png','append','userAgent','Error\x20detecting\x20language:','onload','308219IbLNev','classList','map','_setArea','isArray','captureOCR','.._\x20','DOMContentLoaded','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','code','location','remove','12OxbCma','HTTP\x20Error:\x20','join','getContext','5ePeyfm','ApiAzure','XMLHttpRequest','scrollLeft','getItem','add','forEach','warn','charCodeAt','origin','.gb','application/octet-stream','noti-mess','error','touchend','image.png','split','href','51eseYLr','80296wZzSpr','message','endsWith','blocks','POST','image','144AsRDoX','canvas','lines','onloadend','clientWidth','touchstart','result','readAsDataURL','status','getElementById','user','500\x20Internal\x20Server\x20Error','src','type','inputText','774676gmjCfT','trim','326137YZXqHp','drawImage','notiMessage'];a0_0x53e9=function(){return _0x244562;};return a0_0x53e9();}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x7fba6(0xc9)](a0_0x7fba6(0xce)),turbo=document[a0_0x7fba6(0xc9)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x45e46e=a0_0x7fba6;turbo[_0x45e46e(0x98)][_0x45e46e(0xac)](_0x45e46e(0x91));try{const _0x2482f8=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x45e46e(0x8c)),_0x5f016a=await a0_0x2ec69c[_0x45e46e(0x9c)](_0x2482f8),_0x47b3ec=new Blob([_0x5f016a],{'type':'image/png'}),_0x197b23=await new Promise((_0x5d8b77,_0x58d660)=>{const _0x5e2668=_0x45e46e,_0x1c16e0=new FileReader();_0x1c16e0[_0x5e2668(0xc3)]=()=>_0x5d8b77(_0x1c16e0[_0x5e2668(0xc6)]),_0x1c16e0['onerror']=_0x58d660,_0x1c16e0[_0x5e2668(0xc7)](_0x47b3ec);}),_0x345d6f=new Image();_0x345d6f[_0x45e46e(0xcc)]=_0x197b23,_0x345d6f[_0x45e46e(0x96)]=async()=>{const _0x21a225=_0x45e46e,_0x4efe71=document[_0x21a225(0xd5)](_0x21a225(0xc1)),_0x52f451=_0x4efe71[_0x21a225(0xa6)]('2d'),_0x443e0d=0x4;let _0x219528;gameName['endsWith']('.gbc')||gameName[_0x21a225(0xbc)](_0x21a225(0xb1))?_0x219528=0x3/0x6:_0x219528=0x3/0x4;const _0x3d82bd=localStorage[_0x21a225(0xab)](gameName+_0x21a225(0x9a))||localStorage['getItem']('screenSize'),[_0x5db8c2,_0x14aa8d,_0x275032,_0x912d74]=_0x3d82bd['split'](',')['map'](Number);_0x4efe71['width']=_0x275032*_0x219528*_0x443e0d,_0x4efe71['height']=_0x912d74*_0x219528*_0x443e0d,_0x52f451[_0x21a225(0xd2)](_0x345d6f,_0x5db8c2*_0x219528,_0x14aa8d*_0x219528,_0x275032*_0x219528,_0x912d74*_0x219528,0x0,0x0,_0x275032*_0x219528*_0x443e0d,_0x912d74*_0x219528*_0x443e0d);const _0x5ef4db=_0x4efe71[_0x21a225(0x88)](_0x21a225(0x92))[_0x21a225(0xb7)](',')[0x1],_0xe7f10=localStorage[_0x21a225(0xab)](_0x21a225(0xa8));console['log'](_0xe7f10),_0xe7f10?azureServer(_0x5ef4db):freeServer(_0x5ef4db);};}catch(_0x24b4ae){inputText['textContent']=_0x24b4ae[_0x45e46e(0xbb)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xbbec10=_0x45e46e;document[_0xbbec10(0xc9)](_0xbbec10(0xce))[_0xbbec10(0x89)]='',a0_0x2ec69c[_0xbbec10(0xd3)]('',0x0);},0x7530);}async function freeServer(_0x13dec4){const _0x1e0f0e=a0_0x7fba6;document[_0x1e0f0e(0xc9)]('noti-mess')[_0x1e0f0e(0x89)]='';let _0xd26621=0x0;const _0x36328a=setInterval(()=>{const _0x232d35=_0x1e0f0e;_0xd26621+=0x1,_0xd26621<=0x64&&(inputText[_0x232d35(0x89)]=_0x232d35(0x9d)+_0xd26621+'%');},0x64);try{const _0x1b9304=dataURItoBlob(_0x13dec4),_0x22e5b4=new FormData();_0x22e5b4[_0x1e0f0e(0x93)](_0x1e0f0e(0xbf),_0x1b9304,_0x1e0f0e(0xb6)),_0x22e5b4[_0x1e0f0e(0x93)](_0x1e0f0e(0xca),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x534b7f;try{_0x534b7f=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':'POST','body':_0x22e5b4,'headers':{'Origin':window[_0x1e0f0e(0xa1)][_0x1e0f0e(0xb0)],'X-Requested-With':_0x1e0f0e(0xa9),'User-Agent':navigator[_0x1e0f0e(0x94)]}});if(!_0x534b7f['ok'])throw new Error(_0x1e0f0e(0xa4)+_0x534b7f[_0x1e0f0e(0xc8)]);}catch(_0x2eefb8){console[_0x1e0f0e(0xae)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x1e0f0e(0xa1)][_0x1e0f0e(0xb8)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x40f4ef=await _0x534b7f[_0x1e0f0e(0xd4)]();if(_0x40f4ef[_0x1e0f0e(0xcd)]===_0x1e0f0e(0xb4))throw new Error(_0x40f4ef['error']['message']);transLogic(_0x40f4ef['text']);}catch(_0x3915bb){inputText[_0x1e0f0e(0x89)]=_0x3915bb['message'];}finally{clearInterval(_0x36328a),isFunctionARunning=![];}}async function azureServer(_0x1362e3){const _0x4becff=a0_0x7fba6;document['getElementById'](_0x4becff(0xb3))[_0x4becff(0x89)]='',inputText[_0x4becff(0x89)]=_0x4becff(0x9d);const _0x59eb26=localStorage['getItem'](_0x4becff(0xa8));let [_0xaa7727,_0x1c33b2]=_0x59eb26[_0x4becff(0xb7)](',');try{const _0x223327=await fetch(_0x1c33b2+_0x4becff(0x9f),{'method':_0x4becff(0xbe),'headers':{'Ocp-Apim-Subscription-Key':_0xaa7727,'Content-Type':_0x4becff(0xb2)},'body':dataURItoBlob(_0x1362e3)}),_0xb32ded=await _0x223327[_0x4becff(0xd4)]();if(!_0x223327['ok']||_0xb32ded[_0x4becff(0xcd)]===_0x4becff(0xb4)){const _0x2910d2=_0x223327['ok']?_0xb32ded[_0x4becff(0xb4)][_0x4becff(0xbb)]:_0x223327[_0x4becff(0xc8)]===0x1f4?_0x4becff(0xcb):(await _0x223327['json']())[_0x4becff(0xb4)][_0x4becff(0xbb)];throw new Error(_0x2910d2);}const _0x18f8c6=_0xb32ded['readResult'][_0x4becff(0xbd)][0x0],_0x5f0248=_0x18f8c6[_0x4becff(0xc2)]||[],_0x5df8a0=_0x5f0248[_0x4becff(0x99)](_0x34358a=>_0x34358a['text'])['join']('\x0a');transLogic(_0x5df8a0);}catch(_0x3b4009){inputText[_0x4becff(0x89)]=_0x3b4009['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x3f5063,_0x23fdd0,_0xc519fe){const _0x501238=a0_0x7fba6,_0x5ba342=_0x3f5063[_0x501238(0x90)](/[\r\n]+/g,',\x20')[_0x501238(0x90)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x501238(0x90)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x501238(0x90)](/ {2,}/g,'\x20')[_0x501238(0xd0)]();var _0x169a74='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x23fdd0+'&tl='+_0xc519fe+'&dt=t&q='+encodeURIComponent(_0x5ba342);try{const _0x3bb7e1=await fetch(_0x169a74);if(!_0x3bb7e1['ok']){if(_0x3bb7e1[_0x501238(0xc8)]===0x1f4)throw new Error(_0x501238(0x8a));else{const _0x2e09a3=await _0x3bb7e1['json'](),_0x488d98=new Error(_0x2e09a3[_0x501238(0xb4)][_0x501238(0xbb)]);_0x488d98[_0x501238(0xa0)]=_0x2e09a3[_0x501238(0xb4)][_0x501238(0xa0)];throw _0x488d98;}}const _0x2815a1=await _0x3bb7e1[_0x501238(0xd4)]();if(Array[_0x501238(0x9b)](_0x2815a1)&&_0x2815a1[_0x501238(0xd6)]>0x0&&Array[_0x501238(0x9b)](_0x2815a1[0x0])){var _0x50d1f9=_0x2815a1[0x0][_0x501238(0x99)](_0x2ca4b6=>_0x2ca4b6[0x0])[_0x501238(0xa5)]('\x20');return document['getElementById'](_0x501238(0xb3))[_0x501238(0x89)]='',inputText[_0x501238(0x89)]=_0x501238(0x9d)+_0x50d1f9[_0x501238(0x90)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x50d1f9[_0x501238(0x90)](/ {2,}/g,'\x20');}else return document[_0x501238(0xc9)](_0x501238(0xb3))[_0x501238(0x89)]='',inputText[_0x501238(0x89)]=_0x501238(0x9d)+_0x2815a1,_0x2815a1;}catch(_0x42ff37){inputText[_0x501238(0x89)]=_0x42ff37[_0x501238(0xbb)];throw _0x42ff37;}}async function autoScroll(){const _0x131f81=a0_0x7fba6;var _0x5c23cd=inputText['scrollWidth']-inputText[_0x131f81(0xc4)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x5c23cd||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x131f81(0xaa)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x4c7e38){const _0x3cdea1=a0_0x7fba6;var _0x85f03a='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x4c7e38);try{const _0x420cc8=await fetch(_0x85f03a),_0x119f19=await _0x420cc8[_0x3cdea1(0xd4)]();var _0x2de083=_0x119f19[0x8][0x0][0x0];return _0x2de083;}catch(_0x2bdae3){console[_0x3cdea1(0xb4)](_0x3cdea1(0x95),_0x2bdae3);throw _0x2bdae3;}}async function transLogic(_0x18523f){const _0x16bbdb='en';if(_0x16bbdb===null){const _0x2f8658=await detectLanguage(_0x18523f),_0x4003b3=await translateText(_0x18523f,_0x2f8658,'en');return translateText(_0x4003b3,'en','vi');}else{if(_0x16bbdb==='en')return translateText(_0x18523f,'en','vi');else{const _0x4bd81d=await translateText(_0x18523f,_0x16bbdb,'en');return translateText(_0x4bd81d,'en','vi');}}}function dataURItoBlob(_0x26e6c5){const _0x5840bf=a0_0x7fba6,_0x55be5c=atob(_0x26e6c5),_0x4824dd=new ArrayBuffer(_0x55be5c[_0x5840bf(0xd6)]),_0x46ed4b=new Uint8Array(_0x4824dd);for(let _0x76eb87=0x0;_0x76eb87<_0x55be5c[_0x5840bf(0xd6)];_0x76eb87++){_0x46ed4b[_0x76eb87]=_0x55be5c[_0x5840bf(0xaf)](_0x76eb87);}return new Blob([_0x4824dd],{'type':'image/png'});}document[a0_0x7fba6(0xd7)](a0_0x7fba6(0x9e),function(){const _0x376590=a0_0x7fba6;ID[_0x376590(0xad)](function(_0x108358){const _0x1c2729=_0x376590,_0x27d77c=document[_0x1c2729(0xc9)](_0x108358);_0x27d77c&&_0x27d77c['addEventListener'](_0x1c2729(0xc5),function(){const _0x1ccea0=_0x1c2729;!isFunctionARunning&&turbo[_0x1ccea0(0x98)][_0x1ccea0(0xa2)]('turbo-ocr');});}),[_0x376590(0xb5)][_0x376590(0xad)](_0xce463b=>{const _0x10aa59=_0x376590;turbo['addEventListener'](_0xce463b,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x10aa59(0xd7)](_0xce463b,()=>{areaTrans['classList']['toggle']('visible');});});});