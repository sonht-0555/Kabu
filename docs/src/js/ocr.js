const a0_0x1f7ae0=a0_0x4d41;(function(_0x5b295f,_0x9f11f1){const _0x52099a=a0_0x4d41,_0x1d4e3b=_0x5b295f();while(!![]){try{const _0x33a139=parseInt(_0x52099a(0x13a))/0x1+-parseInt(_0x52099a(0x110))/0x2+parseInt(_0x52099a(0x121))/0x3+parseInt(_0x52099a(0x10e))/0x4*(parseInt(_0x52099a(0x10a))/0x5)+parseInt(_0x52099a(0xed))/0x6*(-parseInt(_0x52099a(0x14a))/0x7)+-parseInt(_0x52099a(0x145))/0x8*(-parseInt(_0x52099a(0x105))/0x9)+parseInt(_0x52099a(0x12c))/0xa*(parseInt(_0x52099a(0x112))/0xb);if(_0x33a139===_0x9f11f1)break;else _0x1d4e3b['push'](_0x1d4e3b['shift']());}catch(_0x5a79d3){_0x1d4e3b['push'](_0x1d4e3b['shift']());}}}(a0_0x375e,0x4c071));import*as a0_0x524156 from'./main.js';function a0_0x4d41(_0x42efc5,_0x5ead80){const _0x375e37=a0_0x375e();return a0_0x4d41=function(_0x4d41f9,_0x423098){_0x4d41f9=_0x4d41f9-0xec;let _0x3efe4f=_0x375e37[_0x4d41f9];return _0x3efe4f;},a0_0x4d41(_0x42efc5,_0x5ead80);}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x1f7ae0(0xfd)](a0_0x1f7ae0(0x123)),input=document['getElementById'](a0_0x1f7ae0(0xfe)),turbo=document[a0_0x1f7ae0(0xfd)](a0_0x1f7ae0(0x142)),ID=['A','B','R','L'];async function getImage(){const _0x2e4f7e=a0_0x1f7ae0;turbo[_0x2e4f7e(0x124)]['add']('turbo-ocr');try{const _0x31a409=localStorage[_0x2e4f7e(0x14c)](_0x2e4f7e(0x126)),_0x1599e9=_0x31a409[_0x2e4f7e(0x109)](/\.(gba|gbc|gb|zip)$/,_0x2e4f7e(0xf4)),_0x4eb84d=await a0_0x524156[_0x2e4f7e(0x115)](_0x1599e9),_0xbcf478=new Blob([_0x4eb84d],{'type':_0x2e4f7e(0x143)}),_0x335685=await new Promise((_0x44f0b5,_0x2456f4)=>{const _0x280674=_0x2e4f7e,_0x57f416=new FileReader();_0x57f416['onloadend']=()=>_0x44f0b5(_0x57f416[_0x280674(0xf9)]),_0x57f416[_0x280674(0x11f)]=_0x2456f4,_0x57f416[_0x280674(0x12d)](_0xbcf478);}),_0x2f4d0c=new Image();_0x2f4d0c[_0x2e4f7e(0xf5)]=_0x335685,_0x2f4d0c['onload']=()=>{const _0x13bc65=_0x2e4f7e,_0x4c6f36=document[_0x13bc65(0xf2)](_0x13bc65(0x149)),_0x211e70=_0x4c6f36['getContext']('2d'),_0x153445=0x4;let _0x3c6e4b;_0x31a409[_0x13bc65(0x147)](_0x13bc65(0x14d))||_0x31a409[_0x13bc65(0x147)](_0x13bc65(0xec))?_0x3c6e4b=Math[_0x13bc65(0x10d)](0xa0/(window[_0x13bc65(0xef)]-0xe6)):_0x3c6e4b=Math['round'](0xf0/(window['innerWidth']-0x96));const _0x2bef91=localStorage[_0x13bc65(0x14c)](_0x31a409+_0x13bc65(0x119))||localStorage['getItem'](_0x13bc65(0x11d)),[_0x46a8f0,_0x1cc995,_0x121354,_0x269f91]=_0x2bef91[_0x13bc65(0x118)](',')['map'](Number);_0x4c6f36[_0x13bc65(0x130)]=_0x121354*_0x3c6e4b*_0x153445,_0x4c6f36[_0x13bc65(0x148)]=_0x269f91*_0x3c6e4b*_0x153445,_0x211e70[_0x13bc65(0x111)](_0x2f4d0c,_0x46a8f0*_0x3c6e4b,_0x1cc995*_0x3c6e4b,_0x121354*_0x3c6e4b,_0x269f91*_0x3c6e4b,0x0,0x0,_0x121354*_0x3c6e4b*_0x153445,_0x269f91*_0x3c6e4b*_0x153445);const _0x1cfcf7=_0x4c6f36[_0x13bc65(0x12b)]('image/png')[_0x13bc65(0x118)](',')[0x1],_0x2cdb1=localStorage[_0x13bc65(0x14c)]('ApiAzure');_0x2cdb1?azureServer(_0x1cfcf7):freeServer(_0x1cfcf7);};}catch(_0x581bc3){inputText[_0x2e4f7e(0x133)]=_0x581bc3[_0x2e4f7e(0x107)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x46223e=_0x2e4f7e;document[_0x46223e(0xfd)](_0x46223e(0x123))['textContent']='...';},0x7530);}async function freeServer(_0x3d6c91){const _0x15afb0=a0_0x1f7ae0;let _0x353807=0x0;const _0x377de9=setInterval(()=>{const _0x329010=a0_0x4d41;_0x353807+=0x1,_0x353807<=0x64&&(inputText[_0x329010(0x133)]=_0x329010(0x10c)+_0x353807+'%');},0x64);try{const _0x2e98fb=dataURItoBlob(_0x3d6c91),_0x104121=new FormData();_0x104121[_0x15afb0(0x146)](_0x15afb0(0x11b),_0x2e98fb,_0x15afb0(0x12f)),_0x104121[_0x15afb0(0x146)](_0x15afb0(0x116),_0x15afb0(0x13d));let _0x161346;try{_0x161346=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x15afb0(0x131),'body':_0x104121,'headers':{'Origin':window[_0x15afb0(0x103)][_0x15afb0(0x137)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator['userAgent']}});if(!_0x161346['ok'])throw new Error(_0x15afb0(0x14b)+_0x161346['status']);}catch(_0x2daf30){console[_0x15afb0(0x140)](_0x15afb0(0xee)),window[_0x15afb0(0x103)]['href']=_0x15afb0(0x104);return;}const _0x4a2862=await _0x161346[_0x15afb0(0x122)]();if(_0x4a2862['type']===_0x15afb0(0x10f))throw new Error(_0x4a2862[_0x15afb0(0x10f)][_0x15afb0(0x107)]);transLogic(_0x4a2862[_0x15afb0(0x13c)]);}catch(_0x175681){inputText['textContent']=_0x175681[_0x15afb0(0x107)];}finally{clearInterval(_0x377de9),isFunctionARunning=![];}}function a0_0x375e(){const _0x26f39=['getMonth','blocks','warn','&dt=t&q=','turbo','image/png','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','557176EFjTRV','append','endsWith','height','canvas','539hQImmp','HTTP\x20Error:\x20','getItem','.gbc','.gb','30750thqXQk','CORS-Anywhere\x20chưa\x20được\x20kích\x20hoạt.\x20Mở\x20/corsdemo...','innerWidth','length','trim','createElement','isArray','.png','src','logoOcr','_gameLang','&tl=','result','code','getFullYear','charCodeAt','getElementById','input-container','forEach',']\x20Times\x20Azure','toISOString','Internal\x20Server\x20Error','location','https://cors-anywhere.herokuapp.com/corsdemo','9ikkTjt','lastSavedDate','message','setItem','replace','14455LUbjxT','visible','Waiting..','round','244MPjysg','error','82060xLIoAQ','drawImage','3338687SIvtrp','...','mouseup','captureOCR','user','join','split','_setArea','application/octet-stream','image','ApiAzure','screenSize','scrollWidth','onerror','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','583842yTUZDD','json','inputText','classList','type','gameName','touchend','touchcancel','addEventListener','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','toDataURL','10fvszeQ','readAsDataURL','remove','image.png','width','POST','Error\x20detecting\x20language:','textContent','clientWidth','backgroundPositionX','random','origin','DOMContentLoaded','touchstart','2935rAbDgL','style','text','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2'];a0_0x375e=function(){return _0x26f39;};return a0_0x375e();}async function azureServer(_0x18268c){const _0xca2bb1=a0_0x1f7ae0;inputText[_0xca2bb1(0x133)]=_0xca2bb1(0x113);const _0x2edd6e=localStorage[_0xca2bb1(0x14c)]('ApiAzure');let [_0x2e0605,_0xafc75,_0x14fe39]=_0x2edd6e['split'](',');_0x14fe39=parseInt(_0x14fe39);const _0x34b2b8=new Date(),_0x2ee883=_0x34b2b8[_0xca2bb1(0x13e)](),_0x200fef=_0x34b2b8[_0xca2bb1(0xfb)](),_0x446fe7=localStorage[_0xca2bb1(0x14c)]('lastSavedDate'),_0xadef74=_0x446fe7?new Date(_0x446fe7):null;_0xadef74&&(_0x2ee883!==_0xadef74['getMonth']()||_0x200fef!==_0xadef74[_0xca2bb1(0xfb)]())&&(_0x14fe39=0x0,localStorage[_0xca2bb1(0x108)](_0xca2bb1(0x106),_0x34b2b8['toISOString']()));if(_0x14fe39>=0x1356){inputText[_0xca2bb1(0x133)]='Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.';return;}try{const _0xf39709=await fetch(_0xafc75+_0xca2bb1(0x12a),{'method':_0xca2bb1(0x131),'headers':{'Ocp-Apim-Subscription-Key':_0x2e0605,'Content-Type':_0xca2bb1(0x11a)},'body':dataURItoBlob(_0x18268c)}),_0x32f9db=await _0xf39709[_0xca2bb1(0x122)]();if(!_0xf39709['ok']||_0x32f9db[_0xca2bb1(0x125)]===_0xca2bb1(0x10f)){const _0x5da462=_0xf39709['ok']?_0x32f9db['error'][_0xca2bb1(0x107)]:_0xf39709['status']===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0xf39709[_0xca2bb1(0x122)]())[_0xca2bb1(0x10f)]['message'];throw new Error(_0x5da462);}const _0x57cc44=_0x32f9db['readResult'][_0xca2bb1(0x13f)][0x0],_0x214801=_0x57cc44['lines']||[],_0x5689e7=_0x214801['map'](_0x60c7ff=>_0x60c7ff['text'])['join']('\x0a');transLogic(_0x5689e7);}catch(_0x55cf23){inputText[_0xca2bb1(0x133)]=_0x55cf23[_0xca2bb1(0x107)];const _0x3e9cef=++_0x14fe39;notiMessage('['+_0x3e9cef+_0xca2bb1(0x100),0x7d0),localStorage[_0xca2bb1(0x108)](_0xca2bb1(0x11c),_0x2e0605+','+_0xafc75+','+_0x3e9cef),localStorage[_0xca2bb1(0x108)](_0xca2bb1(0x106),_0x34b2b8[_0xca2bb1(0x101)]());}finally{const _0x26f03b=++_0x14fe39;notiMessage('['+_0x26f03b+']\x20Times\x20Azure',0x7d0),isFunctionARunning=![],localStorage[_0xca2bb1(0x108)](_0xca2bb1(0x11c),_0x2e0605+','+_0xafc75+','+_0x26f03b),localStorage['setItem'](_0xca2bb1(0x106),_0x34b2b8[_0xca2bb1(0x101)]());}}async function translateText(_0x2e91bd,_0x39a132,_0x41a32b){const _0x4cddf5=a0_0x1f7ae0,_0x84017=_0x2e91bd[_0x4cddf5(0x109)](/[\r\n]+/g,',\x20')[_0x4cddf5(0x109)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x4cddf5(0x109)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x4cddf5(0x109)](/ {2,}/g,'\x20')[_0x4cddf5(0xf1)]();var _0x1a4f88=_0x4cddf5(0x120)+_0x39a132+_0x4cddf5(0xf8)+_0x41a32b+_0x4cddf5(0x141)+encodeURIComponent(_0x84017);try{const _0x3276a7=await fetch(_0x1a4f88);if(!_0x3276a7['ok']){if(_0x3276a7['status']===0x1f4)throw new Error(_0x4cddf5(0x102));else{const _0x37ab12=await _0x3276a7[_0x4cddf5(0x122)](),_0x2fa8c1=new Error(_0x37ab12[_0x4cddf5(0x10f)][_0x4cddf5(0x107)]);_0x2fa8c1['code']=_0x37ab12[_0x4cddf5(0x10f)][_0x4cddf5(0xfa)];throw _0x2fa8c1;}}const _0x127842=await _0x3276a7['json']();if(Array[_0x4cddf5(0xf3)](_0x127842)&&_0x127842[_0x4cddf5(0xf0)]>0x0&&Array[_0x4cddf5(0xf3)](_0x127842[0x0])){var _0x117d3c=_0x127842[0x0]['map'](_0x4aba5c=>_0x4aba5c[0x0])[_0x4cddf5(0x117)]('\x20');return inputText[_0x4cddf5(0x133)]=_0x117d3c[_0x4cddf5(0x109)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x117d3c['replace'](/ {2,}/g,'\x20');}else return inputText[_0x4cddf5(0x133)]=_0x127842,_0x127842;}catch(_0x46e670){inputText[_0x4cddf5(0x133)]=_0x46e670['message'];throw _0x46e670;}}async function autoScroll(){const _0x2e178a=a0_0x1f7ae0;var _0x469db6=inputText[_0x2e178a(0x11e)]-inputText[_0x2e178a(0x134)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x469db6||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x4357a6){const _0xd9db01=a0_0x1f7ae0;var _0x4e044a=_0xd9db01(0x144)+encodeURIComponent(_0x4357a6);try{const _0x5e9bc9=await fetch(_0x4e044a),_0x6daa5f=await _0x5e9bc9[_0xd9db01(0x122)]();var _0x5f8a7=_0x6daa5f[0x8][0x0][0x0];return _0x5f8a7;}catch(_0x1c9cfe){console[_0xd9db01(0x10f)](_0xd9db01(0x132),_0x1c9cfe);throw _0x1c9cfe;}}async function transLogic(_0x553a04){const _0x32e2ec=a0_0x1f7ae0,_0x166e37=localStorage[_0x32e2ec(0x14c)](_0x32e2ec(0x126)),_0x1d29c5=localStorage[_0x32e2ec(0x14c)](_0x166e37+_0x32e2ec(0xf7));if(_0x1d29c5===null){const _0x2f3758=await detectLanguage(_0x553a04);localStorage['setItem'](_0x166e37+_0x32e2ec(0xf7),_0x2f3758);const _0x3cd06f=await translateText(_0x553a04,_0x2f3758,'en');return translateText(_0x3cd06f,'en','vi');}else{if(_0x1d29c5==='en')return translateText(_0x553a04,'en','vi');else{const _0x2cc6d7=await translateText(_0x553a04,_0x1d29c5,'en');return translateText(_0x2cc6d7,'en','vi');}}}function dataURItoBlob(_0x5ba511){const _0x11443d=a0_0x1f7ae0,_0x158a37=atob(_0x5ba511),_0x13c760=new ArrayBuffer(_0x158a37[_0x11443d(0xf0)]),_0x1cdaf1=new Uint8Array(_0x13c760);for(let _0x50e945=0x0;_0x50e945<_0x158a37[_0x11443d(0xf0)];_0x50e945++){_0x1cdaf1[_0x50e945]=_0x158a37[_0x11443d(0xfc)](_0x50e945);}return new Blob([_0x13c760],{'type':_0x11443d(0x143)});}function logoOcr(){const _0x96c99e=a0_0x1f7ae0;var _0x57051c=Math['floor'](Math[_0x96c99e(0x136)]()*0x3)+0x1,_0x3a3dd6=-0xf*_0x57051c+'px';document[_0x96c99e(0xfd)](_0x96c99e(0xf6))[_0x96c99e(0x13b)][_0x96c99e(0x135)]=_0x3a3dd6;}document[a0_0x1f7ae0(0x129)](a0_0x1f7ae0(0x138),function(){const _0x36a065=a0_0x1f7ae0;ID[_0x36a065(0xff)](function(_0x1e3486){const _0xd0e188=_0x36a065,_0x5b6baa=document[_0xd0e188(0xfd)](_0x1e3486);_0x5b6baa&&_0x5b6baa[_0xd0e188(0x129)](_0xd0e188(0x139),function(){const _0x320c73=_0xd0e188;!isFunctionARunning&&turbo[_0x320c73(0x124)][_0x320c73(0x12e)]('turbo-ocr');});}),[_0x36a065(0x114),_0x36a065(0x127),_0x36a065(0x128)][_0x36a065(0xff)](_0x57b813=>{const _0x1a6959=_0x36a065;turbo[_0x1a6959(0x129)](_0x57b813,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x1a6959(0x129)](_0x57b813,()=>{const _0x1e8c9=_0x1a6959;areaTrans[_0x1e8c9(0x124)]['toggle'](_0x1e8c9(0x10b));});});});