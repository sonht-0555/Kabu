const a0_0x2b0357=a0_0x3544;(function(_0x106d0b,_0x4d3b3a){const _0x3836f0=a0_0x3544,_0x525a65=_0x106d0b();while(!![]){try{const _0x2b7f12=parseInt(_0x3836f0(0x18a))/0x1+-parseInt(_0x3836f0(0x1a2))/0x2*(-parseInt(_0x3836f0(0x1cc))/0x3)+-parseInt(_0x3836f0(0x18e))/0x4*(-parseInt(_0x3836f0(0x1cd))/0x5)+-parseInt(_0x3836f0(0x1d0))/0x6+-parseInt(_0x3836f0(0x1c5))/0x7*(parseInt(_0x3836f0(0x19d))/0x8)+-parseInt(_0x3836f0(0x1c2))/0x9*(parseInt(_0x3836f0(0x1ca))/0xa)+parseInt(_0x3836f0(0x190))/0xb;if(_0x2b7f12===_0x4d3b3a)break;else _0x525a65['push'](_0x525a65['shift']());}catch(_0x3f554d){_0x525a65['push'](_0x525a65['shift']());}}}(a0_0x28db,0xc083f));import*as a0_0x190512 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x3544(_0x3ce4c9,_0xa2812b){const _0x28db71=a0_0x28db();return a0_0x3544=function(_0x354489,_0x39912c){_0x354489=_0x354489-0x18a;let _0x3ca715=_0x28db71[_0x354489];return _0x3ca715;},a0_0x3544(_0x3ce4c9,_0xa2812b);}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x2b0357(0x1c4)),turbo=document[a0_0x2b0357(0x194)](a0_0x2b0357(0x193)),ID=['A','B','R','L'];async function getImage(){const _0x316de1=a0_0x2b0357;turbo['classList'][_0x316de1(0x19c)]('turbo-ocr');try{const _0x1f89e4=gameName[_0x316de1(0x1cb)](/\.(gba|gbc|gb|zip)$/,_0x316de1(0x1a9)),_0x4a8925=await a0_0x190512[_0x316de1(0x1ce)](_0x1f89e4),_0x2a7044=new Blob([_0x4a8925],{'type':'image/png'}),_0x189309=await new Promise((_0x1b6968,_0x37a1cd)=>{const _0x447f6b=_0x316de1,_0x420e90=new FileReader();_0x420e90['onloadend']=()=>_0x1b6968(_0x420e90[_0x447f6b(0x195)]),_0x420e90[_0x447f6b(0x1c1)]=_0x37a1cd,_0x420e90['readAsDataURL'](_0x2a7044);}),_0x4198e4=new Image();_0x4198e4[_0x316de1(0x1b5)]=_0x189309,_0x4198e4[_0x316de1(0x1c0)]=async()=>{const _0x51beab=_0x316de1,_0x20f08e=document['createElement']('canvas'),_0xea3e62=_0x20f08e[_0x51beab(0x1d8)]('2d'),_0x40095c=0x4;let _0x35888c;gameName[_0x51beab(0x1c9)](_0x51beab(0x1ac))||gameName[_0x51beab(0x1c9)]('.gb')?_0x35888c=0x3/0x6:_0x35888c=0x3/0x4;const _0x3595a1=localStorage[_0x51beab(0x1d2)](gameName+_0x51beab(0x1b8))||localStorage[_0x51beab(0x1d2)](_0x51beab(0x1a7)),[_0x4e740d,_0x3e3f88,_0x43e634,_0x5675f1]=_0x3595a1['split'](',')[_0x51beab(0x1bb)](Number);_0x20f08e['width']=_0x43e634*_0x35888c*_0x40095c,_0x20f08e[_0x51beab(0x1cf)]=_0x5675f1*_0x35888c*_0x40095c,_0xea3e62['drawImage'](_0x4198e4,_0x4e740d*_0x35888c,_0x3e3f88*_0x35888c,_0x43e634*_0x35888c,_0x5675f1*_0x35888c,0x0,0x0,_0x43e634*_0x35888c*_0x40095c,_0x5675f1*_0x35888c*_0x40095c);const _0x4bd887=_0x20f08e['toDataURL']('image/png')[_0x51beab(0x192)](',')[0x1],_0x4bdfa6=localStorage[_0x51beab(0x1d2)](_0x51beab(0x18b));console['log'](_0x4bdfa6),_0x4bdfa6?azureServer(_0x4bd887):freeServer(_0x4bd887);};}catch(_0x330595){inputText[_0x316de1(0x1c3)]=_0x330595[_0x316de1(0x197)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x11952c=_0x316de1;document['getElementById'](_0x11952c(0x1c4))[_0x11952c(0x1c3)]='',a0_0x190512[_0x11952c(0x1a4)]('',0x0);},0x7530);}async function freeServer(_0x132bfc){const _0x3f3796=a0_0x2b0357;document[_0x3f3796(0x194)](_0x3f3796(0x1c8))[_0x3f3796(0x1c3)]='';let _0x55b5b3=0x0;const _0x32dfa0=setInterval(()=>{const _0x52cf83=_0x3f3796;_0x55b5b3+=0x1,_0x55b5b3<=0x64&&(inputText['textContent']=_0x52cf83(0x1d1)+_0x55b5b3+'%');},0x64);try{const _0x2cb164=dataURItoBlob(_0x132bfc),_0x50ca48=new FormData();_0x50ca48['append'](_0x3f3796(0x1b1),_0x2cb164,'image.png'),_0x50ca48[_0x3f3796(0x1b0)](_0x3f3796(0x1a0),_0x3f3796(0x199));let _0x4a4147;try{_0x4a4147=await fetch(_0x3f3796(0x1ae),{'method':_0x3f3796(0x196),'body':_0x50ca48,'headers':{'Origin':window[_0x3f3796(0x1d3)][_0x3f3796(0x1a8)],'X-Requested-With':_0x3f3796(0x1c6),'User-Agent':navigator[_0x3f3796(0x198)]}});if(!_0x4a4147['ok'])throw new Error(_0x3f3796(0x19e)+_0x4a4147[_0x3f3796(0x1a6)]);}catch(_0x43e7ed){console[_0x3f3796(0x1af)](_0x3f3796(0x1b4)),window[_0x3f3796(0x1d3)][_0x3f3796(0x1d5)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x27b721=await _0x4a4147['json']();if(_0x27b721['type']===_0x3f3796(0x1d7))throw new Error(_0x27b721[_0x3f3796(0x1d7)][_0x3f3796(0x197)]);transLogic(_0x27b721[_0x3f3796(0x1aa)]);}catch(_0x5cf409){inputText[_0x3f3796(0x1c3)]=_0x5cf409[_0x3f3796(0x197)];}finally{clearInterval(_0x32dfa0),isFunctionARunning=![];}}function a0_0x28db(){const _0x39361f=['length','notiMessage','charCodeAt','status','screenSize','origin','.png','text','touchend','.gbc','image/png','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','warn','append','image','Internal\x20Server\x20Error','scrollLeft','Cors-controlers\x20have\x20not\x20been\x20activated.','src','json','Error\x20detecting\x20language:','_setArea','classList','turbo-ocr','map','type','join','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','visible','onload','onerror','802701jgufXc','textContent','inputText','5817567lliOCu','XMLHttpRequest','blocks','noti-mess','endsWith','160sxgVPA','replace','4704ZweTkQ','4985ZHWPIO','captureOCR','height','6530550KPhJFf','.._\x20','getItem','location','code','href','&tl=','error','getContext','scrollWidth','245581kGuqVG','ApiAzure','500\x20Internal\x20Server\x20Error','addEventListener','1144ghYKGx','readResult','31230826YfribZ','DOMContentLoaded','split','turbo','getElementById','result','POST','message','userAgent','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','trim','toggle','add','8xAEIrp','HTTP\x20Error:\x20','forEach','user','isArray','976wucJVy'];a0_0x28db=function(){return _0x39361f;};return a0_0x28db();}async function azureServer(_0x1e75a9){const _0x379f91=a0_0x2b0357;document[_0x379f91(0x194)](_0x379f91(0x1c8))[_0x379f91(0x1c3)]='',inputText[_0x379f91(0x1c3)]='.._\x20';const _0xfaff5d=localStorage[_0x379f91(0x1d2)](_0x379f91(0x18b));let [_0x14abdf,_0x3288f5]=_0xfaff5d[_0x379f91(0x192)](',');try{const _0x3b14ff=await fetch(_0x3288f5+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x379f91(0x196),'headers':{'Ocp-Apim-Subscription-Key':_0x14abdf,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x1e75a9)}),_0x3ecb93=await _0x3b14ff[_0x379f91(0x1b6)]();if(!_0x3b14ff['ok']||_0x3ecb93[_0x379f91(0x1bc)]===_0x379f91(0x1d7)){const _0x4baedc=_0x3b14ff['ok']?_0x3ecb93[_0x379f91(0x1d7)]['message']:_0x3b14ff[_0x379f91(0x1a6)]===0x1f4?_0x379f91(0x18c):(await _0x3b14ff[_0x379f91(0x1b6)]())['error'][_0x379f91(0x197)];throw new Error(_0x4baedc);}const _0x25ff69=_0x3ecb93[_0x379f91(0x18f)][_0x379f91(0x1c7)][0x0],_0x137d0d=_0x25ff69['lines']||[],_0x592a7f=_0x137d0d['map'](_0x55dc8a=>_0x55dc8a[_0x379f91(0x1aa)])[_0x379f91(0x1bd)]('\x0a');transLogic(_0x592a7f);}catch(_0x1fcc61){inputText[_0x379f91(0x1c3)]=_0x1fcc61[_0x379f91(0x197)];}finally{isFunctionARunning=![];}}async function translateText(_0x4c1709,_0x35d858,_0x33cb66){const _0x24a628=a0_0x2b0357,_0x58d2d9=_0x4c1709['replace'](/[\r\n]+/g,',\x20')[_0x24a628(0x1cb)](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x24a628(0x19a)]();var _0x30468b=_0x24a628(0x1be)+_0x35d858+_0x24a628(0x1d6)+_0x33cb66+'&dt=t&q='+encodeURIComponent(_0x58d2d9);try{const _0xd72f33=await fetch(_0x30468b);if(!_0xd72f33['ok']){if(_0xd72f33[_0x24a628(0x1a6)]===0x1f4)throw new Error(_0x24a628(0x1b2));else{const _0x4ffbef=await _0xd72f33[_0x24a628(0x1b6)](),_0x3632a5=new Error(_0x4ffbef[_0x24a628(0x1d7)]['message']);_0x3632a5[_0x24a628(0x1d4)]=_0x4ffbef['error'][_0x24a628(0x1d4)];throw _0x3632a5;}}const _0x2c4d6c=await _0xd72f33[_0x24a628(0x1b6)]();if(Array[_0x24a628(0x1a1)](_0x2c4d6c)&&_0x2c4d6c[_0x24a628(0x1a3)]>0x0&&Array[_0x24a628(0x1a1)](_0x2c4d6c[0x0])){var _0x11d1fb=_0x2c4d6c[0x0]['map'](_0x33e9b8=>_0x33e9b8[0x0])['join']('\x20');return document['getElementById']('noti-mess')[_0x24a628(0x1c3)]='',inputText['textContent']=_0x24a628(0x1d1)+_0x11d1fb[_0x24a628(0x1cb)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x11d1fb['replace'](/ {2,}/g,'\x20');}else return document[_0x24a628(0x194)](_0x24a628(0x1c8))['textContent']='',inputText[_0x24a628(0x1c3)]=_0x24a628(0x1d1)+_0x2c4d6c,_0x2c4d6c;}catch(_0x50a8a3){inputText['textContent']=_0x50a8a3[_0x24a628(0x197)];throw _0x50a8a3;}}async function autoScroll(){const _0xd5fc59=a0_0x2b0357;var _0x79aec7=inputText[_0xd5fc59(0x1d9)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x79aec7||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0xd5fc59(0x1b3)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x41e153){const _0x2f383e=a0_0x2b0357;var _0x4c69fe='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x41e153);try{const _0xb1b21=await fetch(_0x4c69fe),_0x39e4d2=await _0xb1b21[_0x2f383e(0x1b6)]();var _0x23d6f7=_0x39e4d2[0x8][0x0][0x0];return _0x23d6f7;}catch(_0x509395){console[_0x2f383e(0x1d7)](_0x2f383e(0x1b7),_0x509395);throw _0x509395;}}async function transLogic(_0x371bfc){const _0x510ea5='en';if(_0x510ea5===null){const _0x4da157=await detectLanguage(_0x371bfc),_0x141d25=await translateText(_0x371bfc,_0x4da157,'en');return translateText(_0x141d25,'en','vi');}else{if(_0x510ea5==='en')return translateText(_0x371bfc,'en','vi');else{const _0x509aab=await translateText(_0x371bfc,_0x510ea5,'en');return translateText(_0x509aab,'en','vi');}}}function dataURItoBlob(_0x2c4be6){const _0x2bce8a=a0_0x2b0357,_0x13ccec=atob(_0x2c4be6),_0x33176a=new ArrayBuffer(_0x13ccec[_0x2bce8a(0x1a3)]),_0x1a4ba0=new Uint8Array(_0x33176a);for(let _0x3404ed=0x0;_0x3404ed<_0x13ccec[_0x2bce8a(0x1a3)];_0x3404ed++){_0x1a4ba0[_0x3404ed]=_0x13ccec[_0x2bce8a(0x1a5)](_0x3404ed);}return new Blob([_0x33176a],{'type':_0x2bce8a(0x1ad)});}document[a0_0x2b0357(0x18d)](a0_0x2b0357(0x191),function(){const _0x332cb2=a0_0x2b0357;ID[_0x332cb2(0x19f)](function(_0x7bc83){const _0x45c2fe=_0x332cb2,_0x536f34=document[_0x45c2fe(0x194)](_0x7bc83);_0x536f34&&_0x536f34[_0x45c2fe(0x18d)]('touchstart',function(){const _0x5cc8dd=_0x45c2fe;!isFunctionARunning&&turbo[_0x5cc8dd(0x1b9)]['remove'](_0x5cc8dd(0x1ba));});}),[_0x332cb2(0x1ab)][_0x332cb2(0x19f)](_0x2a5f81=>{const _0x55aa55=_0x332cb2;turbo[_0x55aa55(0x18d)](_0x2a5f81,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x55aa55(0x18d)](_0x2a5f81,()=>{const _0x23dcd5=_0x55aa55;areaTrans['classList'][_0x23dcd5(0x19b)](_0x23dcd5(0x1bf));});});});