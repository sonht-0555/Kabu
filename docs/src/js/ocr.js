const a0_0x2b0d41=a0_0x3158;(function(_0x54bbbc,_0x209a0c){const _0x2846d4=a0_0x3158,_0x58e544=_0x54bbbc();while(!![]){try{const _0x950768=parseInt(_0x2846d4(0x200))/0x1*(-parseInt(_0x2846d4(0x22c))/0x2)+-parseInt(_0x2846d4(0x1f7))/0x3*(-parseInt(_0x2846d4(0x1f6))/0x4)+parseInt(_0x2846d4(0x21c))/0x5+parseInt(_0x2846d4(0x1fa))/0x6+-parseInt(_0x2846d4(0x20a))/0x7*(-parseInt(_0x2846d4(0x226))/0x8)+parseInt(_0x2846d4(0x221))/0x9+-parseInt(_0x2846d4(0x203))/0xa*(parseInt(_0x2846d4(0x205))/0xb);if(_0x950768===_0x209a0c)break;else _0x58e544['push'](_0x58e544['shift']());}catch(_0x148782){_0x58e544['push'](_0x58e544['shift']());}}}(a0_0x2a06,0x881c0));import*as a0_0x4af164 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x2b0d41(0x1e8)](a0_0x2b0d41(0x21d)),turbo=document[a0_0x2b0d41(0x1e8)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x121985=a0_0x2b0d41;turbo['classList'][_0x121985(0x216)](_0x121985(0x20e));try{const _0x515976=gameName['replace'](/\.(gba|gbc|gb|zip)$/,'.png'),_0x274448=await a0_0x4af164['captureOCR'](_0x515976),_0x3f22b5=new Blob([_0x274448],{'type':_0x121985(0x235)}),_0x2b8c2a=await new Promise((_0x25328d,_0x3c1b6c)=>{const _0x5e2a6b=_0x121985,_0x2bdb8b=new FileReader();_0x2bdb8b['onloadend']=()=>_0x25328d(_0x2bdb8b[_0x5e2a6b(0x206)]),_0x2bdb8b[_0x5e2a6b(0x20f)]=_0x3c1b6c,_0x2bdb8b[_0x5e2a6b(0x225)](_0x3f22b5);}),_0x3f2828=new Image();_0x3f2828[_0x121985(0x22f)]=_0x2b8c2a,_0x3f2828[_0x121985(0x22d)]=async()=>{const _0x3a5f28=_0x121985,_0x41aa2f=document[_0x3a5f28(0x20d)]('canvas'),_0x23a772=_0x41aa2f[_0x3a5f28(0x1f3)]('2d'),_0x37fe18=0x4;let _0x20b90c;gameName[_0x3a5f28(0x22e)](_0x3a5f28(0x211))||gameName['endsWith'](_0x3a5f28(0x1e9))?_0x20b90c=0x3/0x6:_0x20b90c=0x3/0x4;const _0x3f7b7b=localStorage[_0x3a5f28(0x22b)](gameName+_0x3a5f28(0x1ea))||localStorage[_0x3a5f28(0x22b)](_0x3a5f28(0x207)),[_0x9f2e1c,_0x3d4c29,_0x151a51,_0x12c7bd]=_0x3f7b7b[_0x3a5f28(0x1fd)](',')[_0x3a5f28(0x20b)](Number);_0x41aa2f[_0x3a5f28(0x20c)]=_0x151a51*_0x20b90c*_0x37fe18,_0x41aa2f[_0x3a5f28(0x214)]=_0x12c7bd*_0x20b90c*_0x37fe18,_0x23a772[_0x3a5f28(0x224)](_0x3f2828,_0x9f2e1c*_0x20b90c,_0x3d4c29*_0x20b90c,_0x151a51*_0x20b90c,_0x12c7bd*_0x20b90c,0x0,0x0,_0x151a51*_0x20b90c*_0x37fe18,_0x12c7bd*_0x20b90c*_0x37fe18);const _0x5d7f5f=_0x41aa2f[_0x3a5f28(0x230)](_0x3a5f28(0x235))[_0x3a5f28(0x1fd)](',')[0x1],_0x38e4d0=localStorage[_0x3a5f28(0x22b)]('ApiAzure');console[_0x3a5f28(0x1f0)](_0x38e4d0),_0x38e4d0?azureServer(_0x5d7f5f):freeServer(_0x5d7f5f);};}catch(_0x258b05){inputText['textContent']=_0x258b05['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xe9375=_0x121985;document[_0xe9375(0x1e8)]('inputText')[_0xe9375(0x212)]='',a0_0x4af164['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x2a1b3a){const _0x452f8e=a0_0x2b0d41;document[_0x452f8e(0x1e8)](_0x452f8e(0x1f9))['textContent']='';let _0x435f9b=0x0;const _0x25f0b7=setInterval(()=>{const _0x4ce2e5=_0x452f8e;_0x435f9b+=0x1,_0x435f9b<=0x64&&(inputText[_0x4ce2e5(0x212)]=_0x4ce2e5(0x209)+_0x435f9b+'%');},0x64);try{const _0x4cc3d6=dataURItoBlob(_0x2a1b3a),_0x5daa86=new FormData();_0x5daa86['append'](_0x452f8e(0x229),_0x4cc3d6,_0x452f8e(0x231)),_0x5daa86[_0x452f8e(0x1f5)](_0x452f8e(0x233),_0x452f8e(0x1fe));let _0x367d89;try{_0x367d89=await fetch(_0x452f8e(0x1ef),{'method':_0x452f8e(0x1ee),'body':_0x5daa86,'headers':{'Origin':window[_0x452f8e(0x238)][_0x452f8e(0x228)],'X-Requested-With':_0x452f8e(0x21e),'User-Agent':navigator[_0x452f8e(0x223)]}});if(!_0x367d89['ok'])throw new Error('HTTP\x20Error:\x20'+_0x367d89[_0x452f8e(0x1ed)]);}catch(_0x549175){console[_0x452f8e(0x1f2)](_0x452f8e(0x218)),window['location'][_0x452f8e(0x202)]=_0x452f8e(0x1f1);return;}const _0x4792b4=await _0x367d89['json']();if(_0x4792b4[_0x452f8e(0x201)]===_0x452f8e(0x204))throw new Error(_0x4792b4[_0x452f8e(0x204)][_0x452f8e(0x236)]);transLogic(_0x4792b4[_0x452f8e(0x210)]);}catch(_0x541548){inputText[_0x452f8e(0x212)]=_0x541548[_0x452f8e(0x236)];}finally{clearInterval(_0x25f0b7),isFunctionARunning=![];}}async function azureServer(_0x5778f4){const _0x253545=a0_0x2b0d41;document[_0x253545(0x1e8)](_0x253545(0x1f9))[_0x253545(0x212)]='',inputText['textContent']='.._\x20';const _0x285d4b=localStorage['getItem'](_0x253545(0x1f8));let [_0x5e9c2f,_0x1da100]=_0x285d4b[_0x253545(0x1fd)](',');try{const _0x5e6455=await fetch(_0x1da100+_0x253545(0x1fb),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x5e9c2f,'Content-Type':_0x253545(0x1f4)},'body':dataURItoBlob(_0x5778f4)}),_0x57cf0b=await _0x5e6455[_0x253545(0x222)]();if(!_0x5e6455['ok']||_0x57cf0b[_0x253545(0x201)]===_0x253545(0x204)){const _0x218e9a=_0x5e6455['ok']?_0x57cf0b[_0x253545(0x204)][_0x253545(0x236)]:_0x5e6455[_0x253545(0x1ed)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x5e6455[_0x253545(0x222)]())['error'][_0x253545(0x236)];throw new Error(_0x218e9a);}const _0x3d2609=_0x57cf0b[_0x253545(0x22a)]['blocks'][0x0],_0x825f1=_0x3d2609[_0x253545(0x21a)]||[],_0x4e09ca=_0x825f1[_0x253545(0x20b)](_0xef3fc7=>_0xef3fc7[_0x253545(0x210)])['join']('\x0a');transLogic(_0x4e09ca);}catch(_0xa7d1f3){inputText[_0x253545(0x212)]=_0xa7d1f3[_0x253545(0x236)];}finally{isFunctionARunning=![];}}async function translateText(_0x39e76f,_0x69cf0e,_0x1c361d){const _0x2128d7=a0_0x2b0d41,_0x3a5ff1=_0x39e76f['replace'](/[\r\n]+/g,',\x20')[_0x2128d7(0x217)](/([!?.,])\s*,\s*/g,_0x2128d7(0x234))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x2128d7(0x217)](/ {2,}/g,'\x20')['trim']();var _0x1d01f4=_0x2128d7(0x1e7)+_0x69cf0e+_0x2128d7(0x215)+_0x1c361d+_0x2128d7(0x220)+encodeURIComponent(_0x3a5ff1);try{const _0x409e1a=await fetch(_0x1d01f4);if(!_0x409e1a['ok']){if(_0x409e1a[_0x2128d7(0x1ed)]===0x1f4)throw new Error(_0x2128d7(0x1fc));else{const _0x21283a=await _0x409e1a['json'](),_0x386044=new Error(_0x21283a[_0x2128d7(0x204)][_0x2128d7(0x236)]);_0x386044[_0x2128d7(0x239)]=_0x21283a[_0x2128d7(0x204)][_0x2128d7(0x239)];throw _0x386044;}}const _0xfaab1b=await _0x409e1a['json']();if(Array[_0x2128d7(0x21b)](_0xfaab1b)&&_0xfaab1b[_0x2128d7(0x219)]>0x0&&Array[_0x2128d7(0x21b)](_0xfaab1b[0x0])){var _0x571d9f=_0xfaab1b[0x0][_0x2128d7(0x20b)](_0x627638=>_0x627638[0x0])[_0x2128d7(0x237)]('\x20');return document[_0x2128d7(0x1e8)]('noti-mess')[_0x2128d7(0x212)]='',inputText[_0x2128d7(0x212)]=_0x2128d7(0x209)+_0x571d9f['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x571d9f[_0x2128d7(0x217)](/ {2,}/g,'\x20');}else return document[_0x2128d7(0x1e8)](_0x2128d7(0x1f9))[_0x2128d7(0x212)]='',inputText[_0x2128d7(0x212)]=_0x2128d7(0x209)+_0xfaab1b,_0xfaab1b;}catch(_0x7f8edd){inputText['textContent']=_0x7f8edd[_0x2128d7(0x236)];throw _0x7f8edd;}}async function autoScroll(){const _0x51d3c1=a0_0x2b0d41;var _0x39bd91=inputText['scrollWidth']-inputText[_0x51d3c1(0x23a)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x39bd91||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x51d3c1(0x1ec)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}function a0_0x3158(_0x3aa184,_0x37268a){const _0x2a06d2=a0_0x2a06();return a0_0x3158=function(_0x31589e,_0x185155){_0x31589e=_0x31589e-0x1e7;let _0x5eb44a=_0x2a06d2[_0x31589e];return _0x5eb44a;},a0_0x3158(_0x3aa184,_0x37268a);}async function detectLanguage(_0x25cbb1){const _0x14bdef=a0_0x2b0d41;var _0x1ba263=_0x14bdef(0x1eb)+encodeURIComponent(_0x25cbb1);try{const _0x13ab50=await fetch(_0x1ba263),_0x20ed00=await _0x13ab50[_0x14bdef(0x222)]();var _0x19f116=_0x20ed00[0x8][0x0][0x0];return _0x19f116;}catch(_0x14cefd){console[_0x14bdef(0x204)](_0x14bdef(0x1ff),_0x14cefd);throw _0x14cefd;}}function a0_0x2a06(){const _0x282733=['onerror','text','.gbc','textContent','toggle','height','&tl=','add','replace','Cors-controlers\x20have\x20not\x20been\x20activated.','length','lines','isArray','119575xNdeeO','inputText','XMLHttpRequest','forEach','&dt=t&q=','8661150NTGsBx','json','userAgent','drawImage','readAsDataURL','216XHFWgv','classList','origin','image','readResult','getItem','253182bArFZf','onload','endsWith','src','toDataURL','image.png','remove','user','$1\x20','image/png','message','join','location','code','clientWidth','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','getElementById','.gb','_setArea','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','scrollLeft','status','POST','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','log','https://cors-anywhere.herokuapp.com/corsdemo','warn','getContext','application/octet-stream','append','956QbcyDZ','3198FevNgD','ApiAzure','noti-mess','6386448ixXtWg','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','Internal\x20Server\x20Error','split','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','Error\x20detecting\x20language:','1WkSbJe','type','href','10CQTrrL','error','28664383qkQOIQ','result','screenSize','addEventListener','.._\x20','255241RjwGML','map','width','createElement','turbo-ocr'];a0_0x2a06=function(){return _0x282733;};return a0_0x2a06();}async function transLogic(_0x25468f){const _0x5b5e7d='en';if(_0x5b5e7d===null){const _0x109b18=await detectLanguage(_0x25468f),_0x1eedac=await translateText(_0x25468f,_0x109b18,'en');return translateText(_0x1eedac,'en','vi');}else{if(_0x5b5e7d==='en')return translateText(_0x25468f,'en','vi');else{const _0x2f3294=await translateText(_0x25468f,_0x5b5e7d,'en');return translateText(_0x2f3294,'en','vi');}}}function dataURItoBlob(_0x5884f4){const _0x2a5271=a0_0x2b0d41,_0x2b5159=atob(_0x5884f4),_0x976778=new ArrayBuffer(_0x2b5159[_0x2a5271(0x219)]),_0x2939a3=new Uint8Array(_0x976778);for(let _0x22e5cd=0x0;_0x22e5cd<_0x2b5159[_0x2a5271(0x219)];_0x22e5cd++){_0x2939a3[_0x22e5cd]=_0x2b5159['charCodeAt'](_0x22e5cd);}return new Blob([_0x976778],{'type':'image/png'});}document[a0_0x2b0d41(0x208)]('DOMContentLoaded',function(){const _0x2fd229=a0_0x2b0d41;ID['forEach'](function(_0x5d2ba3){const _0x2de70f=a0_0x3158,_0x408f16=document[_0x2de70f(0x1e8)](_0x5d2ba3);_0x408f16&&_0x408f16[_0x2de70f(0x208)]('touchstart',function(){const _0x470c9f=_0x2de70f;!isFunctionARunning&&turbo[_0x470c9f(0x227)][_0x470c9f(0x232)](_0x470c9f(0x20e));});}),['touchend'][_0x2fd229(0x21f)](_0xe93864=>{const _0x1be23d=_0x2fd229;turbo[_0x1be23d(0x208)](_0xe93864,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0xe93864,()=>{const _0x528179=_0x1be23d;areaTrans[_0x528179(0x227)][_0x528179(0x213)]('visible');});});});