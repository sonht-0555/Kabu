const a0_0x332be3=a0_0x3f4a;(function(_0x56d091,_0x1d15e9){const _0x19a1f6=a0_0x3f4a,_0x170b7a=_0x56d091();while(!![]){try{const _0x1cf73f=-parseInt(_0x19a1f6(0x22a))/0x1+parseInt(_0x19a1f6(0x1d1))/0x2*(parseInt(_0x19a1f6(0x1d2))/0x3)+parseInt(_0x19a1f6(0x223))/0x4*(-parseInt(_0x19a1f6(0x21a))/0x5)+parseInt(_0x19a1f6(0x20b))/0x6*(-parseInt(_0x19a1f6(0x20a))/0x7)+-parseInt(_0x19a1f6(0x21d))/0x8*(-parseInt(_0x19a1f6(0x1f4))/0x9)+-parseInt(_0x19a1f6(0x20f))/0xa+-parseInt(_0x19a1f6(0x1db))/0xb*(-parseInt(_0x19a1f6(0x1e6))/0xc);if(_0x1cf73f===_0x1d15e9)break;else _0x170b7a['push'](_0x170b7a['shift']());}catch(_0x1a058f){_0x170b7a['push'](_0x170b7a['shift']());}}}(a0_0xdc0f,0xb7690));import*as a0_0x1b1701 from'./main.js';function a0_0xdc0f(){const _0x2ad7ab=['trim','$1\x20','type','append','35085VfJTaP','.png','DOMContentLoaded','7912rlTVJX','POST','error','replace','onloadend','textContent','852wcYXtH','src','blocks','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','notiMessage','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','location','627237mkELEn','288jyEuSD','10398gxHeof','touchstart','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','&dt=t&q=','getContext','json','isArray','add','turbo-ocr','19272ZDJGSX','&tl=','forEach','lines','image.png','.gb','toDataURL','getElementById','split','canvas','https://cors-anywhere.herokuapp.com/corsdemo','20952Heiaqd','charCodeAt','status','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','length','result','classList','image/png','readAsDataURL','scrollLeft','remove','width','endsWith','toggle','7551QSjBJX','href','height','Error\x20detecting\x20language:','getItem','Internal\x20Server\x20Error','map','code','addEventListener','userAgent','onload','ApiAzure','user','clientWidth','.._\x20','origin','application/octet-stream','createElement','500\x20Internal\x20Server\x20Error','touchend','noti-mess','Cors-controlers\x20have\x20not\x20been\x20activated.','56PHPRBb','614604EHqCIB','screenSize','XMLHttpRequest','join','6952890wcUuqi','image','onerror','message','inputText','text','turbo'];a0_0xdc0f=function(){return _0x2ad7ab;};return a0_0xdc0f();}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x332be3(0x1e2)](a0_0x332be3(0x213)),turbo=document[a0_0x332be3(0x1e2)](a0_0x332be3(0x215)),ID=['A','B','R','L'];async function getImage(){const _0x497233=a0_0x332be3;turbo[_0x497233(0x1ec)][_0x497233(0x1d9)](_0x497233(0x1da));try{const _0x56f1c6=gameName[_0x497233(0x220)](/\.(gba|gbc|gb|zip)$/,_0x497233(0x21b)),_0x4b9800=await a0_0x1b1701['captureOCR'](_0x56f1c6),_0x435cb9=new Blob([_0x4b9800],{'type':_0x497233(0x1ed)}),_0x2d3111=await new Promise((_0x5ecd73,_0x1c8f5e)=>{const _0x15bc6d=_0x497233,_0x517d65=new FileReader();_0x517d65[_0x15bc6d(0x221)]=()=>_0x5ecd73(_0x517d65[_0x15bc6d(0x1eb)]),_0x517d65[_0x15bc6d(0x211)]=_0x1c8f5e,_0x517d65[_0x15bc6d(0x1ee)](_0x435cb9);}),_0x3c035c=new Image();_0x3c035c[_0x497233(0x224)]=_0x2d3111,_0x3c035c[_0x497233(0x1fe)]=async()=>{const _0x315de0=_0x497233,_0x4881dd=document[_0x315de0(0x205)](_0x315de0(0x1e4)),_0x5065a0=_0x4881dd[_0x315de0(0x1d6)]('2d'),_0x1ed778=0x4;let _0x400437;gameName['endsWith']('.gbc')||gameName[_0x315de0(0x1f2)](_0x315de0(0x1e0))?_0x400437=0x3/0x6:_0x400437=0x3/0x4;const _0x2aa0aa=localStorage['getItem'](gameName+'_setArea')||localStorage[_0x315de0(0x1f8)](_0x315de0(0x20c)),[_0x453960,_0x47ad26,_0x330567,_0x31136f]=_0x2aa0aa[_0x315de0(0x1e3)](',')[_0x315de0(0x1fa)](Number);_0x4881dd[_0x315de0(0x1f1)]=_0x330567*_0x400437*_0x1ed778,_0x4881dd[_0x315de0(0x1f6)]=_0x31136f*_0x400437*_0x1ed778,_0x5065a0['drawImage'](_0x3c035c,_0x453960*_0x400437,_0x47ad26*_0x400437,_0x330567*_0x400437,_0x31136f*_0x400437,0x0,0x0,_0x330567*_0x400437*_0x1ed778,_0x31136f*_0x400437*_0x1ed778);const _0x4e50dd=_0x4881dd[_0x315de0(0x1e1)]('image/png')[_0x315de0(0x1e3)](',')[0x1],_0x97e593=localStorage['getItem'](_0x315de0(0x1ff));console['log'](_0x97e593),_0x97e593?azureServer(_0x4e50dd):freeServer(_0x4e50dd);};}catch(_0xcd907d){inputText[_0x497233(0x222)]=_0xcd907d['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2e4d5b=_0x497233;document[_0x2e4d5b(0x1e2)](_0x2e4d5b(0x213))[_0x2e4d5b(0x222)]='',a0_0x1b1701[_0x2e4d5b(0x227)]('',0x0);},0x7530);}async function freeServer(_0x49dc54){const _0x9e42d4=a0_0x332be3;document[_0x9e42d4(0x1e2)](_0x9e42d4(0x208))['textContent']='';let _0x174092=0x0;const _0x4c4d5b=setInterval(()=>{const _0x117286=_0x9e42d4;_0x174092+=0x1,_0x174092<=0x64&&(inputText[_0x117286(0x222)]='.._\x20'+_0x174092+'%');},0x64);try{const _0x1f7803=dataURItoBlob(_0x49dc54),_0x4d5897=new FormData();_0x4d5897[_0x9e42d4(0x219)](_0x9e42d4(0x210),_0x1f7803,_0x9e42d4(0x1df)),_0x4d5897['append'](_0x9e42d4(0x200),_0x9e42d4(0x226));let _0x356538;try{_0x356538=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x9e42d4(0x21e),'body':_0x4d5897,'headers':{'Origin':window['location'][_0x9e42d4(0x203)],'X-Requested-With':_0x9e42d4(0x20d),'User-Agent':navigator[_0x9e42d4(0x1fd)]}});if(!_0x356538['ok'])throw new Error('HTTP\x20Error:\x20'+_0x356538[_0x9e42d4(0x1e8)]);}catch(_0x42b706){console['warn'](_0x9e42d4(0x209)),window[_0x9e42d4(0x229)][_0x9e42d4(0x1f5)]=_0x9e42d4(0x1e5);return;}const _0x114ad6=await _0x356538[_0x9e42d4(0x1d7)]();if(_0x114ad6[_0x9e42d4(0x218)]===_0x9e42d4(0x21f))throw new Error(_0x114ad6[_0x9e42d4(0x21f)][_0x9e42d4(0x212)]);transLogic(_0x114ad6[_0x9e42d4(0x214)]);}catch(_0xde3cae){inputText[_0x9e42d4(0x222)]=_0xde3cae['message'];}finally{clearInterval(_0x4c4d5b),isFunctionARunning=![];}}async function azureServer(_0x55b70c){const _0x4e7c1c=a0_0x332be3;document[_0x4e7c1c(0x1e2)]('noti-mess')[_0x4e7c1c(0x222)]='',inputText['textContent']='.._\x20';const _0x1ffd56=localStorage[_0x4e7c1c(0x1f8)]('ApiAzure');let [_0x5ac3e4,_0x46b716]=_0x1ffd56[_0x4e7c1c(0x1e3)](',');try{const _0x14fcfe=await fetch(_0x46b716+_0x4e7c1c(0x1d4),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x5ac3e4,'Content-Type':_0x4e7c1c(0x204)},'body':dataURItoBlob(_0x55b70c)}),_0x10a6d8=await _0x14fcfe['json']();if(!_0x14fcfe['ok']||_0x10a6d8[_0x4e7c1c(0x218)]===_0x4e7c1c(0x21f)){const _0x901807=_0x14fcfe['ok']?_0x10a6d8['error'][_0x4e7c1c(0x212)]:_0x14fcfe['status']===0x1f4?_0x4e7c1c(0x206):(await _0x14fcfe[_0x4e7c1c(0x1d7)]())[_0x4e7c1c(0x21f)][_0x4e7c1c(0x212)];throw new Error(_0x901807);}const _0x4d1e81=_0x10a6d8['readResult'][_0x4e7c1c(0x225)][0x0],_0x475dc8=_0x4d1e81[_0x4e7c1c(0x1de)]||[],_0x4ab034=_0x475dc8['map'](_0x3b1e16=>_0x3b1e16[_0x4e7c1c(0x214)])['join']('\x0a');transLogic(_0x4ab034);}catch(_0x1303de){inputText[_0x4e7c1c(0x222)]=_0x1303de[_0x4e7c1c(0x212)];}finally{isFunctionARunning=![];}}async function translateText(_0x2eac2c,_0x30068e,_0x5c14d5){const _0x52a673=a0_0x332be3,_0x3cc3f7=_0x2eac2c[_0x52a673(0x220)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x52a673(0x217))[_0x52a673(0x220)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x52a673(0x220)](/ {2,}/g,'\x20')[_0x52a673(0x216)]();var _0x55e748=_0x52a673(0x1e9)+_0x30068e+_0x52a673(0x1dc)+_0x5c14d5+_0x52a673(0x1d5)+encodeURIComponent(_0x3cc3f7);try{const _0x1d4d64=await fetch(_0x55e748);if(!_0x1d4d64['ok']){if(_0x1d4d64[_0x52a673(0x1e8)]===0x1f4)throw new Error(_0x52a673(0x1f9));else{const _0x28af9d=await _0x1d4d64['json'](),_0x1908af=new Error(_0x28af9d[_0x52a673(0x21f)][_0x52a673(0x212)]);_0x1908af[_0x52a673(0x1fb)]=_0x28af9d[_0x52a673(0x21f)][_0x52a673(0x1fb)];throw _0x1908af;}}const _0x4dd40e=await _0x1d4d64['json']();if(Array[_0x52a673(0x1d8)](_0x4dd40e)&&_0x4dd40e['length']>0x0&&Array[_0x52a673(0x1d8)](_0x4dd40e[0x0])){var _0x328783=_0x4dd40e[0x0]['map'](_0x4c8056=>_0x4c8056[0x0])[_0x52a673(0x20e)]('\x20');return document[_0x52a673(0x1e2)](_0x52a673(0x208))['textContent']='',inputText['textContent']=_0x52a673(0x202)+_0x328783[_0x52a673(0x220)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x328783[_0x52a673(0x220)](/ {2,}/g,'\x20');}else return document[_0x52a673(0x1e2)](_0x52a673(0x208))[_0x52a673(0x222)]='',inputText['textContent']=_0x52a673(0x202)+_0x4dd40e,_0x4dd40e;}catch(_0x309395){inputText[_0x52a673(0x222)]=_0x309395['message'];throw _0x309395;}}async function autoScroll(){const _0x406e89=a0_0x332be3;var _0x47b1c1=inputText['scrollWidth']-inputText[_0x406e89(0x201)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x47b1c1||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x406e89(0x1ef)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x12c462){const _0x50b314=a0_0x332be3;var _0x4bdfca=_0x50b314(0x228)+encodeURIComponent(_0x12c462);try{const _0x2d876f=await fetch(_0x4bdfca),_0x2270cf=await _0x2d876f[_0x50b314(0x1d7)]();var _0x55b8a7=_0x2270cf[0x8][0x0][0x0];return _0x55b8a7;}catch(_0x499106){console[_0x50b314(0x21f)](_0x50b314(0x1f7),_0x499106);throw _0x499106;}}async function transLogic(_0x39b0f8){const _0x4b8b10='en';if(_0x4b8b10===null){const _0x55f6a9=await detectLanguage(_0x39b0f8),_0x127c83=await translateText(_0x39b0f8,_0x55f6a9,'en');return translateText(_0x127c83,'en','vi');}else{if(_0x4b8b10==='en')return translateText(_0x39b0f8,'en','vi');else{const _0x3c99e5=await translateText(_0x39b0f8,_0x4b8b10,'en');return translateText(_0x3c99e5,'en','vi');}}}function a0_0x3f4a(_0x5d55e4,_0x1dab23){const _0xdc0fc5=a0_0xdc0f();return a0_0x3f4a=function(_0x3f4a1f,_0x17b9f0){_0x3f4a1f=_0x3f4a1f-0x1d1;let _0x546470=_0xdc0fc5[_0x3f4a1f];return _0x546470;},a0_0x3f4a(_0x5d55e4,_0x1dab23);}function dataURItoBlob(_0x7e2945){const _0x43459c=a0_0x332be3,_0x2f8541=atob(_0x7e2945),_0xd3ae54=new ArrayBuffer(_0x2f8541[_0x43459c(0x1ea)]),_0x6635=new Uint8Array(_0xd3ae54);for(let _0x499608=0x0;_0x499608<_0x2f8541[_0x43459c(0x1ea)];_0x499608++){_0x6635[_0x499608]=_0x2f8541[_0x43459c(0x1e7)](_0x499608);}return new Blob([_0xd3ae54],{'type':_0x43459c(0x1ed)});}document[a0_0x332be3(0x1fc)](a0_0x332be3(0x21c),function(){const _0x51a60c=a0_0x332be3;ID['forEach'](function(_0x4f37a1){const _0x5591a3=a0_0x3f4a,_0x3f87f1=document[_0x5591a3(0x1e2)](_0x4f37a1);_0x3f87f1&&_0x3f87f1[_0x5591a3(0x1fc)](_0x5591a3(0x1d3),function(){const _0x40abfb=_0x5591a3;!isFunctionARunning&&turbo['classList'][_0x40abfb(0x1f0)](_0x40abfb(0x1da));});}),[_0x51a60c(0x207)][_0x51a60c(0x1dd)](_0x42e9f5=>{const _0x3d73ca=_0x51a60c;turbo[_0x3d73ca(0x1fc)](_0x42e9f5,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x3d73ca(0x1fc)](_0x42e9f5,()=>{const _0x510899=_0x3d73ca;areaTrans[_0x510899(0x1ec)][_0x510899(0x1f3)]('visible');});});});