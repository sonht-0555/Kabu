const a0_0x301f29=a0_0x7f42;(function(_0x52668a,_0x1d0b6b){const _0x502ada=a0_0x7f42,_0x4aef6b=_0x52668a();while(!![]){try{const _0x1765dc=-parseInt(_0x502ada(0x152))/0x1*(parseInt(_0x502ada(0x120))/0x2)+-parseInt(_0x502ada(0x11b))/0x3*(parseInt(_0x502ada(0x140))/0x4)+parseInt(_0x502ada(0x150))/0x5+parseInt(_0x502ada(0x16a))/0x6+-parseInt(_0x502ada(0x14c))/0x7+-parseInt(_0x502ada(0x136))/0x8+-parseInt(_0x502ada(0x155))/0x9*(-parseInt(_0x502ada(0x122))/0xa);if(_0x1765dc===_0x1d0b6b)break;else _0x4aef6b['push'](_0x4aef6b['shift']());}catch(_0x582609){_0x4aef6b['push'](_0x4aef6b['shift']());}}}(a0_0x3eb1,0x6e15d));import*as a0_0x24c712 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x7f42(_0x1fa00a,_0x3a050d){const _0x3eb166=a0_0x3eb1();return a0_0x7f42=function(_0x7f4262,_0xbb5a62){_0x7f4262=_0x7f4262-0x116;let _0x156296=_0x3eb166[_0x7f4262];return _0x156296;},a0_0x7f42(_0x1fa00a,_0x3a050d);}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x301f29(0x13e)]('inputText'),turbo=document[a0_0x301f29(0x13e)](a0_0x301f29(0x11c)),ID=['A','B','R','L'];async function getImage(){const _0x5ef501=a0_0x301f29;turbo[_0x5ef501(0x131)][_0x5ef501(0x135)](_0x5ef501(0x118));try{const _0x3b4e59=gameName[_0x5ef501(0x11d)](/\.(gba|gbc|gb|zip)$/,_0x5ef501(0x160)),_0x53499a=await a0_0x24c712[_0x5ef501(0x126)](_0x3b4e59),_0x2b0b64=new Blob([_0x53499a],{'type':_0x5ef501(0x161)}),_0x371d49=await new Promise((_0x3c2c10,_0x3ed6c3)=>{const _0x5ba9e2=_0x5ef501,_0x407540=new FileReader();_0x407540['onloadend']=()=>_0x3c2c10(_0x407540[_0x5ba9e2(0x14f)]),_0x407540[_0x5ba9e2(0x138)]=_0x3ed6c3,_0x407540[_0x5ba9e2(0x15b)](_0x2b0b64);}),_0x533583=new Image();_0x533583[_0x5ef501(0x127)]=_0x371d49,_0x533583[_0x5ef501(0x141)]=async()=>{const _0x30208a=_0x5ef501,_0x341680=document[_0x30208a(0x12b)](_0x30208a(0x13b)),_0x2aa8a1=_0x341680['getContext']('2d'),_0x56b8e0=0x4;let _0x46f338;gameName[_0x30208a(0x148)](_0x30208a(0x163))||gameName[_0x30208a(0x148)]('.gb')?_0x46f338=0x3/0x6:_0x46f338=0x3/0x4;const _0x51e9ba=localStorage['getItem'](gameName+_0x30208a(0x12f))||localStorage[_0x30208a(0x15c)]('screenSize'),[_0x5a2fd3,_0x2c4f1d,_0x2a5127,_0x16b676]=_0x51e9ba[_0x30208a(0x143)](',')[_0x30208a(0x11a)](Number);_0x341680['width']=_0x2a5127*_0x46f338*_0x56b8e0,_0x341680[_0x30208a(0x137)]=_0x16b676*_0x46f338*_0x56b8e0,_0x2aa8a1[_0x30208a(0x149)](_0x533583,_0x5a2fd3*_0x46f338,_0x2c4f1d*_0x46f338,_0x2a5127*_0x46f338,_0x16b676*_0x46f338,0x0,0x0,_0x2a5127*_0x46f338*_0x56b8e0,_0x16b676*_0x46f338*_0x56b8e0);const _0x25115f=_0x341680[_0x30208a(0x146)](_0x30208a(0x161))[_0x30208a(0x143)](',')[0x1],_0x1f1923=localStorage[_0x30208a(0x15c)]('ApiAzure');console[_0x30208a(0x154)](_0x1f1923),_0x1f1923?azureServer(_0x25115f):freeServer(_0x25115f);};}catch(_0x4f2757){inputText[_0x5ef501(0x132)]=_0x4f2757['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x25a57c=_0x5ef501;document[_0x25a57c(0x13e)](_0x25a57c(0x134))[_0x25a57c(0x132)]='',a0_0x24c712[_0x25a57c(0x162)]('',0x0);},0x7530);}function a0_0x3eb1(){const _0xff448b=['location','error','toDataURL','isArray','endsWith','drawImage','join','status','2550870IlnYbx','code','trim','result','3753800xbxhtr','forEach','1NDwlQG','image','log','685089aGPpdA','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','origin','touchstart','text','readAsDataURL','getItem','image.png','DOMContentLoaded','blocks','.png','image/png','notiMessage','.gbc','.._\x20','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','$1\x20','message','user','userAgent','4078902bNKrtS','remove','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','turbo-ocr','XMLHttpRequest','map','64629BTxagg','turbo','replace','500\x20Internal\x20Server\x20Error','&dt=t&q=','1315334WfrEmm','Internal\x20Server\x20Error','50pJSXIE','application/octet-stream','&tl=','warn','captureOCR','src','toggle','POST','Error\x20detecting\x20language:','createElement','lines','charCodeAt','https://cors-anywhere.herokuapp.com/corsdemo','_setArea','json','classList','textContent','addEventListener','inputText','add','292752kGyvZV','height','onerror','append','type','canvas','scrollLeft','touchend','getElementById','noti-mess','56JPVznl','onload','length','split'];a0_0x3eb1=function(){return _0xff448b;};return a0_0x3eb1();}async function freeServer(_0x502a2a){const _0x47e050=a0_0x301f29;document[_0x47e050(0x13e)]('noti-mess')[_0x47e050(0x132)]='';let _0x28fa0c=0x0;const _0x4f17ad=setInterval(()=>{const _0x1176c7=_0x47e050;_0x28fa0c+=0x1,_0x28fa0c<=0x64&&(inputText[_0x1176c7(0x132)]=_0x1176c7(0x164)+_0x28fa0c+'%');},0x64);try{const _0x37e68b=dataURItoBlob(_0x502a2a),_0x4a4e0b=new FormData();_0x4a4e0b[_0x47e050(0x139)](_0x47e050(0x153),_0x37e68b,_0x47e050(0x15d)),_0x4a4e0b[_0x47e050(0x139)](_0x47e050(0x168),_0x47e050(0x165));let _0x2c433f;try{_0x2c433f=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x47e050(0x129),'body':_0x4a4e0b,'headers':{'Origin':window[_0x47e050(0x144)][_0x47e050(0x158)],'X-Requested-With':_0x47e050(0x119),'User-Agent':navigator[_0x47e050(0x169)]}});if(!_0x2c433f['ok'])throw new Error('HTTP\x20Error:\x20'+_0x2c433f[_0x47e050(0x14b)]);}catch(_0x1d45b9){console[_0x47e050(0x125)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x47e050(0x144)]['href']=_0x47e050(0x12e);return;}const _0x287923=await _0x2c433f[_0x47e050(0x130)]();if(_0x287923[_0x47e050(0x13a)]==='error')throw new Error(_0x287923['error'][_0x47e050(0x167)]);transLogic(_0x287923[_0x47e050(0x15a)]);}catch(_0x273a1b){inputText['textContent']=_0x273a1b[_0x47e050(0x167)];}finally{clearInterval(_0x4f17ad),isFunctionARunning=![];}}async function azureServer(_0x2f4e5b){const _0xc7ee0c=a0_0x301f29;document[_0xc7ee0c(0x13e)](_0xc7ee0c(0x13f))[_0xc7ee0c(0x132)]='',inputText[_0xc7ee0c(0x132)]=_0xc7ee0c(0x164);const _0x47bf1e=localStorage['getItem']('ApiAzure');let [_0x113396,_0x3c63ea]=_0x47bf1e[_0xc7ee0c(0x143)](',');try{const _0x40fc8c=await fetch(_0x3c63ea+_0xc7ee0c(0x157),{'method':_0xc7ee0c(0x129),'headers':{'Ocp-Apim-Subscription-Key':_0x113396,'Content-Type':_0xc7ee0c(0x123)},'body':dataURItoBlob(_0x2f4e5b)}),_0x2c3abf=await _0x40fc8c[_0xc7ee0c(0x130)]();if(!_0x40fc8c['ok']||_0x2c3abf[_0xc7ee0c(0x13a)]===_0xc7ee0c(0x145)){const _0x25f75b=_0x40fc8c['ok']?_0x2c3abf[_0xc7ee0c(0x145)]['message']:_0x40fc8c['status']===0x1f4?_0xc7ee0c(0x11e):(await _0x40fc8c[_0xc7ee0c(0x130)]())[_0xc7ee0c(0x145)]['message'];throw new Error(_0x25f75b);}const _0x46c3bd=_0x2c3abf['readResult'][_0xc7ee0c(0x15f)][0x0],_0x52e277=_0x46c3bd[_0xc7ee0c(0x12c)]||[],_0x462818=_0x52e277['map'](_0x44573d=>_0x44573d[_0xc7ee0c(0x15a)])[_0xc7ee0c(0x14a)]('\x0a');transLogic(_0x462818);}catch(_0x36b98e){inputText[_0xc7ee0c(0x132)]=_0x36b98e[_0xc7ee0c(0x167)];}finally{isFunctionARunning=![];}}async function translateText(_0x3f8253,_0x2e88c2,_0x1b10bd){const _0x5d7c18=a0_0x301f29,_0x5b6bf8=_0x3f8253['replace'](/[\r\n]+/g,',\x20')[_0x5d7c18(0x11d)](/([!?.,])\s*,\s*/g,_0x5d7c18(0x166))[_0x5d7c18(0x11d)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x5d7c18(0x14e)]();var _0xf814bf=_0x5d7c18(0x156)+_0x2e88c2+_0x5d7c18(0x124)+_0x1b10bd+_0x5d7c18(0x11f)+encodeURIComponent(_0x5b6bf8);try{const _0x2966f9=await fetch(_0xf814bf);if(!_0x2966f9['ok']){if(_0x2966f9[_0x5d7c18(0x14b)]===0x1f4)throw new Error(_0x5d7c18(0x121));else{const _0x19ba4e=await _0x2966f9[_0x5d7c18(0x130)](),_0x222f35=new Error(_0x19ba4e[_0x5d7c18(0x145)][_0x5d7c18(0x167)]);_0x222f35[_0x5d7c18(0x14d)]=_0x19ba4e[_0x5d7c18(0x145)]['code'];throw _0x222f35;}}const _0x2d546e=await _0x2966f9[_0x5d7c18(0x130)]();if(Array[_0x5d7c18(0x147)](_0x2d546e)&&_0x2d546e[_0x5d7c18(0x142)]>0x0&&Array[_0x5d7c18(0x147)](_0x2d546e[0x0])){var _0x426792=_0x2d546e[0x0]['map'](_0x2a9643=>_0x2a9643[0x0])['join']('\x20');return document['getElementById'](_0x5d7c18(0x13f))[_0x5d7c18(0x132)]='',inputText['textContent']=_0x5d7c18(0x164)+_0x426792[_0x5d7c18(0x11d)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x426792[_0x5d7c18(0x11d)](/ {2,}/g,'\x20');}else return document[_0x5d7c18(0x13e)]('noti-mess')[_0x5d7c18(0x132)]='',inputText[_0x5d7c18(0x132)]=_0x5d7c18(0x164)+_0x2d546e,_0x2d546e;}catch(_0x9274bd){inputText[_0x5d7c18(0x132)]=_0x9274bd[_0x5d7c18(0x167)];throw _0x9274bd;}}async function autoScroll(){const _0x14553c=a0_0x301f29;var _0x5de75e=inputText['scrollWidth']-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x5de75e||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x14553c(0x13c)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x69933a){const _0x2a665e=a0_0x301f29;var _0x5751d8=_0x2a665e(0x117)+encodeURIComponent(_0x69933a);try{const _0x55e25a=await fetch(_0x5751d8),_0x126712=await _0x55e25a[_0x2a665e(0x130)]();var _0x280808=_0x126712[0x8][0x0][0x0];return _0x280808;}catch(_0x3e6b4a){console[_0x2a665e(0x145)](_0x2a665e(0x12a),_0x3e6b4a);throw _0x3e6b4a;}}async function transLogic(_0x173ae0){const _0x5738cf='en';if(_0x5738cf===null){const _0x184b07=await detectLanguage(_0x173ae0),_0x39b930=await translateText(_0x173ae0,_0x184b07,'en');return translateText(_0x39b930,'en','vi');}else{if(_0x5738cf==='en')return translateText(_0x173ae0,'en','vi');else{const _0x25241f=await translateText(_0x173ae0,_0x5738cf,'en');return translateText(_0x25241f,'en','vi');}}}function dataURItoBlob(_0x1d3363){const _0x4527b0=a0_0x301f29,_0x1afa3e=atob(_0x1d3363),_0x47d887=new ArrayBuffer(_0x1afa3e['length']),_0x5c194b=new Uint8Array(_0x47d887);for(let _0x149b19=0x0;_0x149b19<_0x1afa3e[_0x4527b0(0x142)];_0x149b19++){_0x5c194b[_0x149b19]=_0x1afa3e[_0x4527b0(0x12d)](_0x149b19);}return new Blob([_0x47d887],{'type':_0x4527b0(0x161)});}document[a0_0x301f29(0x133)](a0_0x301f29(0x15e),function(){const _0x5e6ac9=a0_0x301f29;ID[_0x5e6ac9(0x151)](function(_0x28143b){const _0x44ac08=_0x5e6ac9,_0xe3e059=document[_0x44ac08(0x13e)](_0x28143b);_0xe3e059&&_0xe3e059[_0x44ac08(0x133)](_0x44ac08(0x159),function(){const _0x55e98c=_0x44ac08;!isFunctionARunning&&turbo[_0x55e98c(0x131)][_0x55e98c(0x116)](_0x55e98c(0x118));});}),[_0x5e6ac9(0x13d)][_0x5e6ac9(0x151)](_0x45e5b8=>{const _0xd136d0=_0x5e6ac9;turbo[_0xd136d0(0x133)](_0x45e5b8,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0xd136d0(0x133)](_0x45e5b8,()=>{const _0x212e11=_0xd136d0;areaTrans[_0x212e11(0x131)][_0x212e11(0x128)]('visible');});});});