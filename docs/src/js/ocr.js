const a0_0x5a2127=a0_0x46c0;(function(_0x51a48e,_0x5c2617){const _0x38ae13=a0_0x46c0,_0x1f5a84=_0x51a48e();while(!![]){try{const _0x40cb4d=-parseInt(_0x38ae13(0x1d4))/0x1+-parseInt(_0x38ae13(0x1c3))/0x2+parseInt(_0x38ae13(0x198))/0x3*(-parseInt(_0x38ae13(0x1b0))/0x4)+parseInt(_0x38ae13(0x1af))/0x5*(parseInt(_0x38ae13(0x1ad))/0x6)+-parseInt(_0x38ae13(0x1b4))/0x7*(parseInt(_0x38ae13(0x1be))/0x8)+parseInt(_0x38ae13(0x19b))/0x9+-parseInt(_0x38ae13(0x1b6))/0xa*(-parseInt(_0x38ae13(0x1cf))/0xb);if(_0x40cb4d===_0x5c2617)break;else _0x1f5a84['push'](_0x1f5a84['shift']());}catch(_0x14310b){_0x1f5a84['push'](_0x1f5a84['shift']());}}}(a0_0x4cc5,0xe9778));import*as a0_0x11b823 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x46c0(_0x25db6f,_0x5f0039){const _0x4cc5c5=a0_0x4cc5();return a0_0x46c0=function(_0x46c0b0,_0x558753){_0x46c0b0=_0x46c0b0-0x18c;let _0x3ac071=_0x4cc5c5[_0x46c0b0];return _0x3ac071;},a0_0x46c0(_0x25db6f,_0x5f0039);}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x5a2127(0x19a)]('inputText'),turbo=document[a0_0x5a2127(0x19a)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x4e0909=a0_0x5a2127;turbo[_0x4e0909(0x1ab)][_0x4e0909(0x1d7)](_0x4e0909(0x1aa));try{const _0x371c89=gameName[_0x4e0909(0x1ba)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x41cd80=await a0_0x11b823[_0x4e0909(0x18f)](_0x371c89),_0x36e3fe=new Blob([_0x41cd80],{'type':'image/png'}),_0x128c44=await new Promise((_0x4e8218,_0x4ba481)=>{const _0x542ce6=_0x4e0909,_0xb68d7c=new FileReader();_0xb68d7c['onloadend']=()=>_0x4e8218(_0xb68d7c[_0x542ce6(0x19d)]),_0xb68d7c[_0x542ce6(0x1d1)]=_0x4ba481,_0xb68d7c['readAsDataURL'](_0x36e3fe);}),_0x1ea35a=new Image();_0x1ea35a[_0x4e0909(0x1b5)]=_0x128c44,_0x1ea35a['onload']=async()=>{const _0x306a43=_0x4e0909,_0x4a3340=document[_0x306a43(0x1b7)](_0x306a43(0x1cc)),_0x4dc6a6=_0x4a3340[_0x306a43(0x1c1)]('2d'),_0x366e55=0x4;let _0x11131d;gameName[_0x306a43(0x1a7)]('.gbc')||gameName['endsWith']('.gb')?_0x11131d=0x3/0x6:_0x11131d=0x3/0x4;const _0x333973=localStorage[_0x306a43(0x1ca)](gameName+_0x306a43(0x1a5))||localStorage[_0x306a43(0x1ca)]('screenSize'),[_0xd3be26,_0x4383bb,_0x516591,_0x19476a]=_0x333973['split'](',')[_0x306a43(0x1a8)](Number);_0x4a3340[_0x306a43(0x1b2)]=_0x516591*_0x11131d*_0x366e55,_0x4a3340[_0x306a43(0x197)]=_0x19476a*_0x11131d*_0x366e55,_0x4dc6a6['drawImage'](_0x1ea35a,_0xd3be26*_0x11131d,_0x4383bb*_0x11131d,_0x516591*_0x11131d,_0x19476a*_0x11131d,0x0,0x0,_0x516591*_0x11131d*_0x366e55,_0x19476a*_0x11131d*_0x366e55);const _0x4ee26f=_0x4a3340[_0x306a43(0x1bd)]('image/png')[_0x306a43(0x191)](',')[0x1],_0x3d8d62=localStorage[_0x306a43(0x1ca)](_0x306a43(0x192));console[_0x306a43(0x1b3)](_0x3d8d62),_0x3d8d62?azureServer(_0x4ee26f):freeServer(_0x4ee26f);};}catch(_0x52f00a){inputText['textContent']=_0x52f00a['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x472370=_0x4e0909;document[_0x472370(0x19a)]('inputText')['textContent']='',a0_0x11b823[_0x472370(0x194)]('',0x0);},0x7530);}async function freeServer(_0x1aecae){const _0x5a5ca3=a0_0x5a2127;document[_0x5a5ca3(0x19a)](_0x5a5ca3(0x19f))[_0x5a5ca3(0x1bf)]='';let _0x481a1b=0x0;const _0x5410f1=setInterval(()=>{const _0x37d52b=_0x5a5ca3;_0x481a1b+=0x1,_0x481a1b<=0x64&&(inputText['textContent']=_0x37d52b(0x1ac)+_0x481a1b+'%');},0x64);try{const _0x384fae=dataURItoBlob(_0x1aecae),_0xb4ae62=new FormData();_0xb4ae62['append']('image',_0x384fae,_0x5a5ca3(0x1b9)),_0xb4ae62['append']('user',_0x5a5ca3(0x1d2));let _0x4ac2bf;try{_0x4ac2bf=await fetch(_0x5a5ca3(0x1d8),{'method':_0x5a5ca3(0x18d),'body':_0xb4ae62,'headers':{'Origin':window['location'][_0x5a5ca3(0x1b8)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x5a5ca3(0x196)]}});if(!_0x4ac2bf['ok'])throw new Error(_0x5a5ca3(0x1c4)+_0x4ac2bf[_0x5a5ca3(0x1bb)]);}catch(_0x25a14e){console[_0x5a5ca3(0x1c5)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x5a5ca3(0x1cd)]['href']=_0x5a5ca3(0x19c);return;}const _0x538737=await _0x4ac2bf[_0x5a5ca3(0x1a6)]();if(_0x538737[_0x5a5ca3(0x1ce)]===_0x5a5ca3(0x1ae))throw new Error(_0x538737['error'][_0x5a5ca3(0x1bc)]);transLogic(_0x538737[_0x5a5ca3(0x1a3)]);}catch(_0x3df50a){inputText['textContent']=_0x3df50a[_0x5a5ca3(0x1bc)];}finally{clearInterval(_0x5410f1),isFunctionARunning=![];}}async function azureServer(_0x3a5cd7){const _0x457b7a=a0_0x5a2127;document[_0x457b7a(0x19a)](_0x457b7a(0x19f))[_0x457b7a(0x1bf)]='',inputText[_0x457b7a(0x1bf)]='.._\x20';const _0x4f1698=localStorage[_0x457b7a(0x1ca)]('ApiAzure');let [_0x272a5d,_0xf57d58]=_0x4f1698[_0x457b7a(0x191)](',');try{const _0x4d77cb=await fetch(_0xf57d58+_0x457b7a(0x1a2),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x272a5d,'Content-Type':_0x457b7a(0x190)},'body':dataURItoBlob(_0x3a5cd7)}),_0x1193ca=await _0x4d77cb['json']();if(!_0x4d77cb['ok']||_0x1193ca[_0x457b7a(0x1ce)]===_0x457b7a(0x1ae)){const _0x5db789=_0x4d77cb['ok']?_0x1193ca[_0x457b7a(0x1ae)][_0x457b7a(0x1bc)]:_0x4d77cb[_0x457b7a(0x1bb)]===0x1f4?_0x457b7a(0x1a9):(await _0x4d77cb[_0x457b7a(0x1a6)]())['error'][_0x457b7a(0x1bc)];throw new Error(_0x5db789);}const _0x3fb875=_0x1193ca[_0x457b7a(0x1c6)][_0x457b7a(0x1c2)][0x0],_0x3f7796=_0x3fb875[_0x457b7a(0x1d0)]||[],_0x4b3fae=_0x3f7796[_0x457b7a(0x1a8)](_0x2e1b02=>_0x2e1b02['text'])['join']('\x0a');transLogic(_0x4b3fae);}catch(_0x2f19b2){inputText[_0x457b7a(0x1bf)]=_0x2f19b2[_0x457b7a(0x1bc)];}finally{isFunctionARunning=![];}}async function translateText(_0xeb9a07,_0x4d7558,_0x3afff1){const _0x2b2167=a0_0x5a2127,_0x55d32d=_0xeb9a07[_0x2b2167(0x1ba)](/[\r\n]+/g,',\x20')[_0x2b2167(0x1ba)](/([!?.,])\s*,\s*/g,_0x2b2167(0x18e))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x2b2167(0x1ba)](/ {2,}/g,'\x20')[_0x2b2167(0x1d9)]();var _0x350fe6='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x4d7558+_0x2b2167(0x1c7)+_0x3afff1+_0x2b2167(0x1d5)+encodeURIComponent(_0x55d32d);try{const _0x5301ff=await fetch(_0x350fe6);if(!_0x5301ff['ok']){if(_0x5301ff[_0x2b2167(0x1bb)]===0x1f4)throw new Error(_0x2b2167(0x1a0));else{const _0x51473b=await _0x5301ff[_0x2b2167(0x1a6)](),_0x473d7b=new Error(_0x51473b[_0x2b2167(0x1ae)][_0x2b2167(0x1bc)]);_0x473d7b[_0x2b2167(0x1b1)]=_0x51473b[_0x2b2167(0x1ae)][_0x2b2167(0x1b1)];throw _0x473d7b;}}const _0x1d3bfa=await _0x5301ff[_0x2b2167(0x1a6)]();if(Array[_0x2b2167(0x19e)](_0x1d3bfa)&&_0x1d3bfa['length']>0x0&&Array[_0x2b2167(0x19e)](_0x1d3bfa[0x0])){var _0x490467=_0x1d3bfa[0x0]['map'](_0x1d2985=>_0x1d2985[0x0])[_0x2b2167(0x1d3)]('\x20');return document['getElementById'](_0x2b2167(0x19f))[_0x2b2167(0x1bf)]='',inputText[_0x2b2167(0x1bf)]=_0x2b2167(0x1ac)+_0x490467[_0x2b2167(0x1ba)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x490467[_0x2b2167(0x1ba)](/ {2,}/g,'\x20');}else return document[_0x2b2167(0x19a)]('noti-mess')[_0x2b2167(0x1bf)]='',inputText[_0x2b2167(0x1bf)]='.._\x20'+_0x1d3bfa,_0x1d3bfa;}catch(_0x574c85){inputText[_0x2b2167(0x1bf)]=_0x574c85[_0x2b2167(0x1bc)];throw _0x574c85;}}async function autoScroll(){const _0x2d57e2=a0_0x5a2127;var _0x566126=inputText[_0x2d57e2(0x1c8)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x566126||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}function a0_0x4cc5(){const _0x5e9efe=['application/octet-stream','split','ApiAzure','addEventListener','notiMessage','image/png','userAgent','height','114lmCzKd','remove','getElementById','2001465NSHsdT','https://cors-anywhere.herokuapp.com/corsdemo','result','isArray','noti-mess','Internal\x20Server\x20Error','visible','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','text','forEach','_setArea','json','endsWith','map','500\x20Internal\x20Server\x20Error','turbo-ocr','classList','.._\x20','6LlovxD','error','8740645kGNPzR','162116rEnHQB','code','width','log','21xWoGZv','src','10VjvJVi','createElement','origin','image.png','replace','status','message','toDataURL','3191496zTSVse','textContent','length','getContext','blocks','3018220CntVcB','HTTP\x20Error:\x20','warn','readResult','&tl=','scrollWidth','toggle','getItem','touchstart','canvas','location','type','37467716GbEClr','lines','onerror','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','join','174367jFrFPF','&dt=t&q=','charCodeAt','add','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','trim','touchend','POST','$1\x20','captureOCR'];a0_0x4cc5=function(){return _0x5e9efe;};return a0_0x4cc5();}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x2aea99){const _0x30074a=a0_0x5a2127;var _0x52ca23='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x2aea99);try{const _0x482bae=await fetch(_0x52ca23),_0x13918e=await _0x482bae[_0x30074a(0x1a6)]();var _0xbf3df5=_0x13918e[0x8][0x0][0x0];return _0xbf3df5;}catch(_0x3690ee){console[_0x30074a(0x1ae)]('Error\x20detecting\x20language:',_0x3690ee);throw _0x3690ee;}}async function transLogic(_0x4f3810){const _0x47b74f='en';if(_0x47b74f===null){const _0x57b46e=await detectLanguage(_0x4f3810),_0x1de755=await translateText(_0x4f3810,_0x57b46e,'en');return translateText(_0x1de755,'en','vi');}else{if(_0x47b74f==='en')return translateText(_0x4f3810,'en','vi');else{const _0xd12156=await translateText(_0x4f3810,_0x47b74f,'en');return translateText(_0xd12156,'en','vi');}}}function dataURItoBlob(_0x1e0063){const _0x275507=a0_0x5a2127,_0x234e1b=atob(_0x1e0063),_0xab2439=new ArrayBuffer(_0x234e1b[_0x275507(0x1c0)]),_0x49be68=new Uint8Array(_0xab2439);for(let _0xbbc2fb=0x0;_0xbbc2fb<_0x234e1b[_0x275507(0x1c0)];_0xbbc2fb++){_0x49be68[_0xbbc2fb]=_0x234e1b[_0x275507(0x1d6)](_0xbbc2fb);}return new Blob([_0xab2439],{'type':_0x275507(0x195)});}document[a0_0x5a2127(0x193)]('DOMContentLoaded',function(){const _0x91af73=a0_0x5a2127;ID[_0x91af73(0x1a4)](function(_0x3dc156){const _0x357778=_0x91af73,_0x6e759a=document['getElementById'](_0x3dc156);_0x6e759a&&_0x6e759a[_0x357778(0x193)](_0x357778(0x1cb),function(){const _0x352c1e=_0x357778;!isFunctionARunning&&turbo['classList'][_0x352c1e(0x199)]('turbo-ocr');});}),[_0x91af73(0x18c)][_0x91af73(0x1a4)](_0xd6d322=>{const _0x16b791=_0x91af73;turbo['addEventListener'](_0xd6d322,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x16b791(0x193)](_0xd6d322,()=>{const _0x248d40=_0x16b791;areaTrans[_0x248d40(0x1ab)][_0x248d40(0x1c9)](_0x248d40(0x1a1));});});});