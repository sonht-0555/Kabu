const a0_0x1ff944=a0_0x39eb;(function(_0x452576,_0x167d0f){const _0x362dcd=a0_0x39eb,_0x42b456=_0x452576();while(!![]){try{const _0x4a3f90=-parseInt(_0x362dcd(0x23c))/0x1*(parseInt(_0x362dcd(0x20c))/0x2)+-parseInt(_0x362dcd(0x21e))/0x3+-parseInt(_0x362dcd(0x231))/0x4*(-parseInt(_0x362dcd(0x215))/0x5)+parseInt(_0x362dcd(0x23d))/0x6+-parseInt(_0x362dcd(0x238))/0x7+parseInt(_0x362dcd(0x22e))/0x8*(-parseInt(_0x362dcd(0x23b))/0x9)+parseInt(_0x362dcd(0x216))/0xa*(parseInt(_0x362dcd(0x232))/0xb);if(_0x4a3f90===_0x167d0f)break;else _0x42b456['push'](_0x42b456['shift']());}catch(_0x2bb700){_0x42b456['push'](_0x42b456['shift']());}}}(a0_0x584c,0xcaa24));import*as a0_0x30bfa6 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x1ff944(0x235)](a0_0x1ff944(0x21f)),turbo=document[a0_0x1ff944(0x235)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x4db14c=a0_0x1ff944;turbo[_0x4db14c(0x226)]['add'](_0x4db14c(0x1f9));try{const _0x52252d=gameName[_0x4db14c(0x209)](/\.(gba|gbc|gb|zip)$/,_0x4db14c(0x229)),_0x47704f=await a0_0x30bfa6[_0x4db14c(0x22c)](_0x52252d),_0x36406b=new Blob([_0x47704f],{'type':_0x4db14c(0x241)}),_0x1522a9=await new Promise((_0x472e27,_0x2a3557)=>{const _0x3043cd=_0x4db14c,_0x2a2bb5=new FileReader();_0x2a2bb5[_0x3043cd(0x224)]=()=>_0x472e27(_0x2a2bb5[_0x3043cd(0x206)]),_0x2a2bb5[_0x3043cd(0x202)]=_0x2a3557,_0x2a2bb5[_0x3043cd(0x1fc)](_0x36406b);}),_0x3d7c59=new Image();_0x3d7c59[_0x4db14c(0x214)]=_0x1522a9,_0x3d7c59[_0x4db14c(0x233)]=async()=>{const _0x3d7dc1=_0x4db14c,_0x2741c9=document[_0x3d7dc1(0x239)](_0x3d7dc1(0x21b)),_0x475a3b=_0x2741c9[_0x3d7dc1(0x1f7)]('2d'),_0x49638f=0x4;let _0x2ac5ed;gameName[_0x3d7dc1(0x1ee)](_0x3d7dc1(0x22d))||gameName[_0x3d7dc1(0x1ee)]('.gb')?_0x2ac5ed=0x3/0x6:_0x2ac5ed=0x3/0x4;const _0x55facb=localStorage['getItem'](gameName+_0x3d7dc1(0x21a))||localStorage[_0x3d7dc1(0x1f6)]('screenSize'),[_0x9992fa,_0xecf266,_0x4def08,_0x7b860f]=_0x55facb['split'](',')[_0x3d7dc1(0x1fd)](Number);_0x2741c9['width']=_0x4def08*_0x2ac5ed*_0x49638f,_0x2741c9[_0x3d7dc1(0x1f4)]=_0x7b860f*_0x2ac5ed*_0x49638f,_0x475a3b[_0x3d7dc1(0x20f)](_0x3d7c59,_0x9992fa*_0x2ac5ed,_0xecf266*_0x2ac5ed,_0x4def08*_0x2ac5ed,_0x7b860f*_0x2ac5ed,0x0,0x0,_0x4def08*_0x2ac5ed*_0x49638f,_0x7b860f*_0x2ac5ed*_0x49638f);const _0x5a30f7=_0x2741c9[_0x3d7dc1(0x20a)](_0x3d7dc1(0x241))[_0x3d7dc1(0x234)](',')[0x1],_0x711a7e=localStorage[_0x3d7dc1(0x1f6)](_0x3d7dc1(0x210));console['log'](_0x711a7e),_0x711a7e?azureServer(_0x5a30f7):freeServer(_0x5a30f7);};}catch(_0x51fbd7){inputText['textContent']=_0x51fbd7[_0x4db14c(0x203)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x4acb7b=_0x4db14c;document[_0x4acb7b(0x235)](_0x4acb7b(0x21f))[_0x4acb7b(0x240)]='',a0_0x30bfa6[_0x4acb7b(0x219)]('',0x0);},0x7530);}function a0_0x39eb(_0x197f2b,_0x191f09){const _0x584c91=a0_0x584c();return a0_0x39eb=function(_0x39eb47,_0x3ca079){_0x39eb47=_0x39eb47-0x1ee;let _0x561ed0=_0x584c91[_0x39eb47];return _0x561ed0;},a0_0x39eb(_0x197f2b,_0x191f09);}async function freeServer(_0x52332b){const _0xc2d35b=a0_0x1ff944;document['getElementById'](_0xc2d35b(0x22a))['textContent']='';let _0x1271e5=0x0;const _0x3314d5=setInterval(()=>{const _0x7fe681=_0xc2d35b;_0x1271e5+=0x1,_0x1271e5<=0x64&&(inputText[_0x7fe681(0x240)]=_0x7fe681(0x211)+_0x1271e5+'%');},0x64);try{const _0x5eb10b=dataURItoBlob(_0x52332b),_0x53c765=new FormData();_0x53c765['append'](_0xc2d35b(0x218),_0x5eb10b,'image.png'),_0x53c765[_0xc2d35b(0x217)]('user',_0xc2d35b(0x208));let _0x1af998;try{_0x1af998=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0xc2d35b(0x1f0),'body':_0x53c765,'headers':{'Origin':window[_0xc2d35b(0x221)]['origin'],'X-Requested-With':_0xc2d35b(0x1fe),'User-Agent':navigator[_0xc2d35b(0x23f)]}});if(!_0x1af998['ok'])throw new Error(_0xc2d35b(0x22f)+_0x1af998['status']);}catch(_0x517c75){console[_0xc2d35b(0x205)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0xc2d35b(0x221)][_0xc2d35b(0x1f5)]=_0xc2d35b(0x1fb);return;}const _0x25f470=await _0x1af998['json']();if(_0x25f470['type']===_0xc2d35b(0x213))throw new Error(_0x25f470['error'][_0xc2d35b(0x203)]);transLogic(_0x25f470[_0xc2d35b(0x20d)]);}catch(_0x14e6f4){inputText[_0xc2d35b(0x240)]=_0x14e6f4[_0xc2d35b(0x203)];}finally{clearInterval(_0x3314d5),isFunctionARunning=![];}}async function azureServer(_0x1850d6){const _0x3f153d=a0_0x1ff944;document['getElementById'](_0x3f153d(0x22a))[_0x3f153d(0x240)]='',inputText[_0x3f153d(0x240)]=_0x3f153d(0x211);const _0x33f3d2=localStorage[_0x3f153d(0x1f6)](_0x3f153d(0x210));let [_0x58fc65,_0x206a9f]=_0x33f3d2['split'](',');try{const _0x54d98a=await fetch(_0x206a9f+_0x3f153d(0x1f3),{'method':_0x3f153d(0x1f0),'headers':{'Ocp-Apim-Subscription-Key':_0x58fc65,'Content-Type':_0x3f153d(0x22b)},'body':dataURItoBlob(_0x1850d6)}),_0x4e7b66=await _0x54d98a[_0x3f153d(0x21c)]();if(!_0x54d98a['ok']||_0x4e7b66['type']===_0x3f153d(0x213)){const _0x3cd076=_0x54d98a['ok']?_0x4e7b66[_0x3f153d(0x213)][_0x3f153d(0x203)]:_0x54d98a[_0x3f153d(0x222)]===0x1f4?_0x3f153d(0x220):(await _0x54d98a[_0x3f153d(0x21c)]())[_0x3f153d(0x213)][_0x3f153d(0x203)];throw new Error(_0x3cd076);}const _0x45c622=_0x4e7b66[_0x3f153d(0x230)][_0x3f153d(0x237)][0x0],_0x5367b7=_0x45c622[_0x3f153d(0x1ef)]||[],_0x57bfbd=_0x5367b7[_0x3f153d(0x1fd)](_0x13191b=>_0x13191b[_0x3f153d(0x20d)])[_0x3f153d(0x201)]('\x0a');transLogic(_0x57bfbd);}catch(_0x2ee0da){inputText[_0x3f153d(0x240)]=_0x2ee0da[_0x3f153d(0x203)];}finally{isFunctionARunning=![];}}async function translateText(_0x1f4815,_0xc9e143,_0x3b9c5c){const _0x849d62=a0_0x1ff944,_0x163a39=_0x1f4815[_0x849d62(0x209)](/[\r\n]+/g,',\x20')[_0x849d62(0x209)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x849d62(0x209)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x849d62(0x209)](/ {2,}/g,'\x20')[_0x849d62(0x1fa)]();var _0x4e417b=_0x849d62(0x223)+_0xc9e143+_0x849d62(0x21d)+_0x3b9c5c+_0x849d62(0x207)+encodeURIComponent(_0x163a39);try{const _0x490af5=await fetch(_0x4e417b);if(!_0x490af5['ok']){if(_0x490af5[_0x849d62(0x222)]===0x1f4)throw new Error(_0x849d62(0x200));else{const _0xe7901c=await _0x490af5['json'](),_0x2fb463=new Error(_0xe7901c[_0x849d62(0x213)][_0x849d62(0x203)]);_0x2fb463[_0x849d62(0x1f2)]=_0xe7901c['error'][_0x849d62(0x1f2)];throw _0x2fb463;}}const _0xe7599e=await _0x490af5['json']();if(Array['isArray'](_0xe7599e)&&_0xe7599e[_0x849d62(0x23a)]>0x0&&Array['isArray'](_0xe7599e[0x0])){var _0x15559d=_0xe7599e[0x0][_0x849d62(0x1fd)](_0x44a7c0=>_0x44a7c0[0x0])[_0x849d62(0x201)]('\x20');return document[_0x849d62(0x235)](_0x849d62(0x22a))[_0x849d62(0x240)]='',inputText[_0x849d62(0x240)]=_0x849d62(0x211)+_0x15559d[_0x849d62(0x209)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x15559d[_0x849d62(0x209)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x849d62(0x22a))[_0x849d62(0x240)]='',inputText['textContent']=_0x849d62(0x211)+_0xe7599e,_0xe7599e;}catch(_0x1fbb0d){inputText[_0x849d62(0x240)]=_0x1fbb0d[_0x849d62(0x203)];throw _0x1fbb0d;}}async function autoScroll(){const _0xb1bb29=a0_0x1ff944;var _0x2e5d4d=inputText[_0xb1bb29(0x1f1)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2e5d4d||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0xb1bb29(0x236)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x14874c){const _0x46f3cd=a0_0x1ff944;var _0x4fa1f5=_0x46f3cd(0x228)+encodeURIComponent(_0x14874c);try{const _0x28b015=await fetch(_0x4fa1f5),_0x3ac16d=await _0x28b015[_0x46f3cd(0x21c)]();var _0x32894d=_0x3ac16d[0x8][0x0][0x0];return _0x32894d;}catch(_0x437529){console['error'](_0x46f3cd(0x225),_0x437529);throw _0x437529;}}async function transLogic(_0x102079){const _0xdd47='en';if(_0xdd47===null){const _0x3ece74=await detectLanguage(_0x102079),_0x1317a1=await translateText(_0x102079,_0x3ece74,'en');return translateText(_0x1317a1,'en','vi');}else{if(_0xdd47==='en')return translateText(_0x102079,'en','vi');else{const _0x4a0a1c=await translateText(_0x102079,_0xdd47,'en');return translateText(_0x4a0a1c,'en','vi');}}}function dataURItoBlob(_0x2e057b){const _0x65a5c5=a0_0x1ff944,_0x4f79ad=atob(_0x2e057b),_0x411fb1=new ArrayBuffer(_0x4f79ad[_0x65a5c5(0x23a)]),_0x29ff9a=new Uint8Array(_0x411fb1);for(let _0x18feda=0x0;_0x18feda<_0x4f79ad[_0x65a5c5(0x23a)];_0x18feda++){_0x29ff9a[_0x18feda]=_0x4f79ad[_0x65a5c5(0x1f8)](_0x18feda);}return new Blob([_0x411fb1],{'type':'image/png'});}function a0_0x584c(){const _0x566768=['length','144knuIbo','12938CQYIgV','846258KCaWGD','forEach','userAgent','textContent','image/png','endsWith','lines','POST','scrollWidth','code','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','height','href','getItem','getContext','charCodeAt','turbo-ocr','trim','https://cors-anywhere.herokuapp.com/corsdemo','readAsDataURL','map','XMLHttpRequest','visible','Internal\x20Server\x20Error','join','onerror','message','touchend','warn','result','&dt=t&q=','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','replace','toDataURL','remove','202AZmFmc','text','DOMContentLoaded','drawImage','ApiAzure','.._\x20','touchstart','error','src','55UwdKdv','10317050pHwtuO','append','image','notiMessage','_setArea','canvas','json','&tl=','2280204raHDOL','inputText','500\x20Internal\x20Server\x20Error','location','status','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','onloadend','Error\x20detecting\x20language:','classList','addEventListener','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','.png','noti-mess','application/octet-stream','captureOCR','.gbc','85816wHAjGt','HTTP\x20Error:\x20','readResult','507736MAiwOr','22qQWAmJ','onload','split','getElementById','scrollLeft','blocks','3726107jVpmAu','createElement'];a0_0x584c=function(){return _0x566768;};return a0_0x584c();}document[a0_0x1ff944(0x227)](a0_0x1ff944(0x20e),function(){const _0x1206ce=a0_0x1ff944;ID[_0x1206ce(0x23e)](function(_0x2843e5){const _0x10d443=_0x1206ce,_0x17e728=document['getElementById'](_0x2843e5);_0x17e728&&_0x17e728['addEventListener'](_0x10d443(0x212),function(){const _0xc0f8ad=_0x10d443;!isFunctionARunning&&turbo['classList'][_0xc0f8ad(0x20b)]('turbo-ocr');});}),[_0x1206ce(0x204)][_0x1206ce(0x23e)](_0xc45ee2=>{turbo['addEventListener'](_0xc45ee2,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0xc45ee2,()=>{const _0x1ff059=a0_0x39eb;areaTrans['classList']['toggle'](_0x1ff059(0x1ff));});});});