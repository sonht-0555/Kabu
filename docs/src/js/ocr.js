const a0_0x59fca3=a0_0x139c;function a0_0x5b52(){const _0x45099c=['https://cors-anywhere.herokuapp.com/corsdemo','charCodeAt','message','getContext','user','touchstart','length','visible','2930tSvEHD','.gbc','8WLppjb','readResult','blocks','getItem','inputText','.gb','drawImage','$1\x20','canvas','Internal\x20Server\x20Error','noti-mess','&tl=','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','clientWidth','screenSize','status','classList','lines','json','type','HTTP\x20Error:\x20','textContent','1096430cZPyHa','ApiAzure','href','getElementById','userAgent','1808VRRDDo','addEventListener','Cors-controlers\x20have\x20not\x20been\x20activated.','image','origin','append','result','.._\x20','2220amvFsj','scrollLeft','replace','1246567anpBRB','turbo-ocr','error','image/png','57960FvYGdK','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','forEach','height','code','log','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','trim','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','add','join','354088OBTgwN','DOMContentLoaded','toggle','POST','300tmSOqK','turbo','1259163zfpnWU','split','map','isArray','onloadend','touchend','onerror','src','location','scrollWidth','readAsDataURL','image.png','text','_setArea','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','remove'];a0_0x5b52=function(){return _0x45099c;};return a0_0x5b52();}(function(_0x3c9f4e,_0x23bcdf){const _0x42eb57=a0_0x139c,_0x323677=_0x3c9f4e();while(!![]){try{const _0x1da3ef=parseInt(_0x42eb57(0x1ea))/0x1+-parseInt(_0x42eb57(0x208))/0x2*(-parseInt(_0x42eb57(0x1ee))/0x3)+-parseInt(_0x42eb57(0x225))/0x4*(parseInt(_0x42eb57(0x22d))/0x5)+parseInt(_0x42eb57(0x234))/0x6+parseInt(_0x42eb57(0x230))/0x7+parseInt(_0x42eb57(0x20a))/0x8*(-parseInt(_0x42eb57(0x1f0))/0x9)+-parseInt(_0x42eb57(0x220))/0xa;if(_0x1da3ef===_0x23bcdf)break;else _0x323677['push'](_0x323677['shift']());}catch(_0x580420){_0x323677['push'](_0x323677['shift']());}}}(a0_0x5b52,0x3a20b));import*as a0_0x23f087 from'./main.js';function a0_0x139c(_0x45cf63,_0x5a3633){const _0x5b5296=a0_0x5b52();return a0_0x139c=function(_0x139cac,_0x43b7a2){_0x139cac=_0x139cac-0x1e3;let _0x2bb440=_0x5b5296[_0x139cac];return _0x2bb440;},a0_0x139c(_0x45cf63,_0x5a3633);}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x59fca3(0x223)](a0_0x59fca3(0x20e)),turbo=document[a0_0x59fca3(0x223)](a0_0x59fca3(0x1ef)),ID=['A','B','R','L'];async function getImage(){const _0x313180=a0_0x59fca3;turbo[_0x313180(0x21a)][_0x313180(0x1e8)](_0x313180(0x231));try{const _0x1940d6=gameName[_0x313180(0x22f)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x4aad70=await a0_0x23f087['captureOCR'](_0x1940d6),_0x2bf05c=new Blob([_0x4aad70],{'type':_0x313180(0x233)}),_0x4e73db=await new Promise((_0x8c7099,_0x3e11c7)=>{const _0x5cb755=_0x313180,_0x51a3b0=new FileReader();_0x51a3b0[_0x5cb755(0x1f4)]=()=>_0x8c7099(_0x51a3b0[_0x5cb755(0x22b)]),_0x51a3b0[_0x5cb755(0x1f6)]=_0x3e11c7,_0x51a3b0[_0x5cb755(0x1fa)](_0x2bf05c);}),_0x160732=new Image();_0x160732[_0x313180(0x1f7)]=_0x4e73db,_0x160732['onload']=async()=>{const _0x305d64=_0x313180,_0x4a99d5=document['createElement'](_0x305d64(0x212)),_0x3660ae=_0x4a99d5[_0x305d64(0x203)]('2d'),_0x32ffe1=0x4;let _0x38c805;gameName['endsWith'](_0x305d64(0x209))||gameName['endsWith'](_0x305d64(0x20f))?_0x38c805=0x3/0x6:_0x38c805=0x3/0x4;const _0x24b101=localStorage[_0x305d64(0x20d)](gameName+_0x305d64(0x1fd))||localStorage['getItem'](_0x305d64(0x218)),[_0x3a030e,_0x4ec83e,_0x21fafe,_0xbe64db]=_0x24b101[_0x305d64(0x1f1)](',')['map'](Number);_0x4a99d5['width']=_0x21fafe*_0x38c805*_0x32ffe1,_0x4a99d5[_0x305d64(0x237)]=_0xbe64db*_0x38c805*_0x32ffe1,_0x3660ae[_0x305d64(0x210)](_0x160732,_0x3a030e*_0x38c805,_0x4ec83e*_0x38c805,_0x21fafe*_0x38c805,_0xbe64db*_0x38c805,0x0,0x0,_0x21fafe*_0x38c805*_0x32ffe1,_0xbe64db*_0x38c805*_0x32ffe1);const _0x18472b=_0x4a99d5['toDataURL']('image/png')[_0x305d64(0x1f1)](',')[0x1],_0x5548e8=localStorage[_0x305d64(0x20d)](_0x305d64(0x221));console[_0x305d64(0x1e4)](_0x5548e8),_0x5548e8?azureServer(_0x18472b):freeServer(_0x18472b);};}catch(_0x3eda3b){inputText[_0x313180(0x21f)]=_0x3eda3b[_0x313180(0x202)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x21fb50=_0x313180;document[_0x21fb50(0x223)]('inputText')[_0x21fb50(0x21f)]='',a0_0x23f087['notiMessage']('',0x0);},0x7530);}async function freeServer(_0xaeb8bb){const _0x25c483=a0_0x59fca3;document[_0x25c483(0x223)](_0x25c483(0x214))[_0x25c483(0x21f)]='';let _0x1d050a=0x0;const _0x5781d4=setInterval(()=>{const _0x1d335e=_0x25c483;_0x1d050a+=0x1,_0x1d050a<=0x64&&(inputText[_0x1d335e(0x21f)]=_0x1d335e(0x22c)+_0x1d050a+'%');},0x64);try{const _0x3e79fd=dataURItoBlob(_0xaeb8bb),_0x3d2e0f=new FormData();_0x3d2e0f[_0x25c483(0x22a)](_0x25c483(0x228),_0x3e79fd,_0x25c483(0x1fb)),_0x3d2e0f[_0x25c483(0x22a)](_0x25c483(0x204),_0x25c483(0x216));let _0xc93a50;try{_0xc93a50=await fetch(_0x25c483(0x235),{'method':_0x25c483(0x1ed),'body':_0x3d2e0f,'headers':{'Origin':window[_0x25c483(0x1f8)][_0x25c483(0x229)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x25c483(0x224)]}});if(!_0xc93a50['ok'])throw new Error(_0x25c483(0x21e)+_0xc93a50[_0x25c483(0x219)]);}catch(_0x3fea0b){console['warn'](_0x25c483(0x227)),window[_0x25c483(0x1f8)][_0x25c483(0x222)]=_0x25c483(0x200);return;}const _0x5e0da4=await _0xc93a50[_0x25c483(0x21c)]();if(_0x5e0da4[_0x25c483(0x21d)]===_0x25c483(0x232))throw new Error(_0x5e0da4['error'][_0x25c483(0x202)]);transLogic(_0x5e0da4[_0x25c483(0x1fc)]);}catch(_0x287f86){inputText[_0x25c483(0x21f)]=_0x287f86[_0x25c483(0x202)];}finally{clearInterval(_0x5781d4),isFunctionARunning=![];}}async function azureServer(_0x53105b){const _0xc40ffa=a0_0x59fca3;document[_0xc40ffa(0x223)]('noti-mess')[_0xc40ffa(0x21f)]='',inputText[_0xc40ffa(0x21f)]=_0xc40ffa(0x22c);const _0x1eb4a4=localStorage[_0xc40ffa(0x20d)](_0xc40ffa(0x221));let [_0x11b111,_0x3f25fe]=_0x1eb4a4[_0xc40ffa(0x1f1)](',');try{const _0x1d47ee=await fetch(_0x3f25fe+_0xc40ffa(0x1e5),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x11b111,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x53105b)}),_0x30681a=await _0x1d47ee[_0xc40ffa(0x21c)]();if(!_0x1d47ee['ok']||_0x30681a[_0xc40ffa(0x21d)]==='error'){const _0x3f5d4f=_0x1d47ee['ok']?_0x30681a[_0xc40ffa(0x232)][_0xc40ffa(0x202)]:_0x1d47ee[_0xc40ffa(0x219)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x1d47ee['json']())[_0xc40ffa(0x232)]['message'];throw new Error(_0x3f5d4f);}const _0x5c6e72=_0x30681a[_0xc40ffa(0x20b)][_0xc40ffa(0x20c)][0x0],_0x51c897=_0x5c6e72[_0xc40ffa(0x21b)]||[],_0x4ed0eb=_0x51c897[_0xc40ffa(0x1f2)](_0x2457bb=>_0x2457bb['text'])[_0xc40ffa(0x1e9)]('\x0a');transLogic(_0x4ed0eb);}catch(_0x46fe3c){inputText[_0xc40ffa(0x21f)]=_0x46fe3c['message'];}finally{isFunctionARunning=![];}}async function translateText(_0xb1146c,_0x160f1c,_0x52d86a){const _0x5244e7=a0_0x59fca3,_0x2d7938=_0xb1146c[_0x5244e7(0x22f)](/[\r\n]+/g,',\x20')[_0x5244e7(0x22f)](/([!?.,])\s*,\s*/g,_0x5244e7(0x211))[_0x5244e7(0x22f)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x5244e7(0x1e6)]();var _0x48fe0a=_0x5244e7(0x1e7)+_0x160f1c+_0x5244e7(0x215)+_0x52d86a+'&dt=t&q='+encodeURIComponent(_0x2d7938);try{const _0x14c606=await fetch(_0x48fe0a);if(!_0x14c606['ok']){if(_0x14c606[_0x5244e7(0x219)]===0x1f4)throw new Error(_0x5244e7(0x213));else{const _0x34bcc2=await _0x14c606[_0x5244e7(0x21c)](),_0x4152b6=new Error(_0x34bcc2[_0x5244e7(0x232)][_0x5244e7(0x202)]);_0x4152b6[_0x5244e7(0x1e3)]=_0x34bcc2[_0x5244e7(0x232)]['code'];throw _0x4152b6;}}const _0x2622a2=await _0x14c606['json']();if(Array[_0x5244e7(0x1f3)](_0x2622a2)&&_0x2622a2[_0x5244e7(0x206)]>0x0&&Array[_0x5244e7(0x1f3)](_0x2622a2[0x0])){var _0x3b97e1=_0x2622a2[0x0]['map'](_0x32ac30=>_0x32ac30[0x0])[_0x5244e7(0x1e9)]('\x20');return document[_0x5244e7(0x223)](_0x5244e7(0x214))[_0x5244e7(0x21f)]='',inputText[_0x5244e7(0x21f)]=_0x5244e7(0x22c)+_0x3b97e1['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x3b97e1[_0x5244e7(0x22f)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x5244e7(0x214))[_0x5244e7(0x21f)]='',inputText[_0x5244e7(0x21f)]=_0x5244e7(0x22c)+_0x2622a2,_0x2622a2;}catch(_0x3f73d7){inputText[_0x5244e7(0x21f)]=_0x3f73d7[_0x5244e7(0x202)];throw _0x3f73d7;}}async function autoScroll(){const _0x45a2d8=a0_0x59fca3;var _0x3df2d5=inputText[_0x45a2d8(0x1f9)]-inputText[_0x45a2d8(0x217)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x3df2d5||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x45a2d8(0x22e)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x4e5399){const _0x544ea4=a0_0x59fca3;var _0x57e49c=_0x544ea4(0x1fe)+encodeURIComponent(_0x4e5399);try{const _0x1fff7c=await fetch(_0x57e49c),_0x86625f=await _0x1fff7c[_0x544ea4(0x21c)]();var _0x237256=_0x86625f[0x8][0x0][0x0];return _0x237256;}catch(_0x58acb0){console[_0x544ea4(0x232)]('Error\x20detecting\x20language:',_0x58acb0);throw _0x58acb0;}}async function transLogic(_0x24fdcb){const _0x48a5a1='en';if(_0x48a5a1===null){const _0x3b8c20=await detectLanguage(_0x24fdcb),_0x44ec29=await translateText(_0x24fdcb,_0x3b8c20,'en');return translateText(_0x44ec29,'en','vi');}else{if(_0x48a5a1==='en')return translateText(_0x24fdcb,'en','vi');else{const _0x43e734=await translateText(_0x24fdcb,_0x48a5a1,'en');return translateText(_0x43e734,'en','vi');}}}function dataURItoBlob(_0x558206){const _0x59cf36=a0_0x59fca3,_0x57ec0a=atob(_0x558206),_0x507046=new ArrayBuffer(_0x57ec0a['length']),_0x2f619a=new Uint8Array(_0x507046);for(let _0x295301=0x0;_0x295301<_0x57ec0a[_0x59cf36(0x206)];_0x295301++){_0x2f619a[_0x295301]=_0x57ec0a[_0x59cf36(0x201)](_0x295301);}return new Blob([_0x507046],{'type':_0x59cf36(0x233)});}document[a0_0x59fca3(0x226)](a0_0x59fca3(0x1eb),function(){const _0x21d557=a0_0x59fca3;ID[_0x21d557(0x236)](function(_0xa93c89){const _0x47847a=_0x21d557,_0xa388da=document[_0x47847a(0x223)](_0xa93c89);_0xa388da&&_0xa388da[_0x47847a(0x226)](_0x47847a(0x205),function(){const _0x4839b5=_0x47847a;!isFunctionARunning&&turbo[_0x4839b5(0x21a)][_0x4839b5(0x1ff)](_0x4839b5(0x231));});}),[_0x21d557(0x1f5)][_0x21d557(0x236)](_0x27a013=>{const _0x6a7422=_0x21d557;turbo['addEventListener'](_0x27a013,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x6a7422(0x226)](_0x27a013,()=>{const _0x58d067=_0x6a7422;areaTrans[_0x58d067(0x21a)][_0x58d067(0x1ec)](_0x58d067(0x207));});});});