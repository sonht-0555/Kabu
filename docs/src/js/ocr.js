const a0_0x190d6c=a0_0x1402;(function(_0x37ea1f,_0x10ef29){const _0x58c512=a0_0x1402,_0x1e166e=_0x37ea1f();while(!![]){try{const _0x3ab5e7=-parseInt(_0x58c512(0xf6))/0x1*(parseInt(_0x58c512(0xb7))/0x2)+parseInt(_0x58c512(0xf3))/0x3+parseInt(_0x58c512(0xe7))/0x4+-parseInt(_0x58c512(0xfa))/0x5*(parseInt(_0x58c512(0xec))/0x6)+-parseInt(_0x58c512(0xf4))/0x7+parseInt(_0x58c512(0xae))/0x8*(parseInt(_0x58c512(0xa3))/0x9)+parseInt(_0x58c512(0xab))/0xa;if(_0x3ab5e7===_0x10ef29)break;else _0x1e166e['push'](_0x1e166e['shift']());}catch(_0x562d1a){_0x1e166e['push'](_0x1e166e['shift']());}}}(a0_0x1a8b,0x6fb79));import*as a0_0x392b1c from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x190d6c(0xdd)]('inputText'),input=document['getElementById']('input-container'),turbo=document[a0_0x190d6c(0xdd)](a0_0x190d6c(0xd3)),ID=['A','B','R','L'];function a0_0x1402(_0x2cd24f,_0xbe17ad){const _0x1a8b8b=a0_0x1a8b();return a0_0x1402=function(_0x1402c3,_0x5648b8){_0x1402c3=_0x1402c3-0x9f;let _0x5bc0ca=_0x1a8b8b[_0x1402c3];return _0x5bc0ca;},a0_0x1402(_0x2cd24f,_0xbe17ad);}async function getImage(){const _0x26b867=a0_0x190d6c;turbo['classList'][_0x26b867(0xa5)]('turbo-ocr');try{const _0x59f333=gameName[_0x26b867(0xa9)](/\.(gba|gbc|gb|zip)$/,_0x26b867(0xea)),_0x43f78e=await a0_0x392b1c[_0x26b867(0xe5)](_0x59f333),_0x1c9dd0=new Blob([_0x43f78e],{'type':_0x26b867(0xa4)}),_0xbf563b=await new Promise((_0x5823d2,_0x362446)=>{const _0x5ae097=_0x26b867,_0x5e989c=new FileReader();_0x5e989c[_0x5ae097(0xa7)]=()=>_0x5823d2(_0x5e989c[_0x5ae097(0xf9)]),_0x5e989c[_0x5ae097(0xdb)]=_0x362446,_0x5e989c[_0x5ae097(0xa0)](_0x1c9dd0);}),_0xe323b3=new Image();_0xe323b3[_0x26b867(0xd5)]=_0xbf563b,_0xe323b3[_0x26b867(0xe3)]=()=>{const _0x300712=_0x26b867,_0x25b4d6=document[_0x300712(0xed)](_0x300712(0xc7)),_0x56018e=_0x25b4d6[_0x300712(0xb1)]('2d'),_0x7c58cc=0x4;let _0x33d495;gameName[_0x300712(0xf2)]('.gbc')||gameName[_0x300712(0xf2)](_0x300712(0xf0))?_0x33d495=Math[_0x300712(0xbb)](0xa0/(window[_0x300712(0xcf)]-0xe6)):_0x33d495=Math[_0x300712(0xbb)](0xf0/(window['innerWidth']-0x96));const _0x36dab8=localStorage[_0x300712(0xb2)](gameName+_0x300712(0x103))||localStorage['getItem'](_0x300712(0xe8)),[_0xfebf3b,_0x410a2e,_0x498d9f,_0x1bdb5d]=_0x36dab8['split'](',')[_0x300712(0xce)](Number);_0x25b4d6[_0x300712(0xbf)]=_0x498d9f*_0x33d495*_0x7c58cc,_0x25b4d6[_0x300712(0xeb)]=_0x1bdb5d*_0x33d495*_0x7c58cc,_0x56018e['drawImage'](_0xe323b3,_0xfebf3b*_0x33d495,_0x410a2e*_0x33d495,_0x498d9f*_0x33d495,_0x1bdb5d*_0x33d495,0x0,0x0,_0x498d9f*_0x33d495*_0x7c58cc,_0x1bdb5d*_0x33d495*_0x7c58cc);const _0x308797=_0x25b4d6[_0x300712(0xba)]('image/png')[_0x300712(0xe1)](',')[0x1],_0x5f4128=localStorage[_0x300712(0xb2)]('ApiAzure');_0x5f4128?azureServer(_0x308797):freeServer(_0x308797);};}catch(_0x18cbb1){inputText[_0x26b867(0xfe)]=_0x18cbb1['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3d0961=_0x26b867;document['getElementById'](_0x3d0961(0xd8))['textContent']=_0x3d0961(0xf5);},0x7530);}async function freeServer(_0xb9b1e9){const _0x1de301=a0_0x190d6c;let _0x22e771=0x0;const _0x9d1f7e=setInterval(()=>{const _0x31dff7=a0_0x1402;_0x22e771+=0x1,_0x22e771<=0x64&&(inputText['textContent']=_0x31dff7(0xaa)+_0x22e771+'%');},0x64);try{const _0x33725f=dataURItoBlob(_0xb9b1e9),_0x569767=new FormData();_0x569767['append'](_0x1de301(0x104),_0x33725f,_0x1de301(0xd2)),_0x569767[_0x1de301(0xc0)](_0x1de301(0xb0),_0x1de301(0xa8));let _0x317d5f;try{_0x317d5f=await fetch(_0x1de301(0xaf),{'method':_0x1de301(0xbe),'body':_0x569767,'headers':{'Origin':window[_0x1de301(0xe4)][_0x1de301(0xbc)],'X-Requested-With':_0x1de301(0xff),'User-Agent':navigator[_0x1de301(0xc5)]}});if(!_0x317d5f['ok'])throw new Error('HTTP\x20Error:\x20'+_0x317d5f[_0x1de301(0xc8)]);}catch(_0x33e308){console[_0x1de301(0xc3)](_0x1de301(0x9f)),window[_0x1de301(0xe4)][_0x1de301(0xd4)]=_0x1de301(0x105);return;}const _0x115976=await _0x317d5f[_0x1de301(0xef)]();if(_0x115976[_0x1de301(0xb4)]==='error')throw new Error(_0x115976[_0x1de301(0xe0)]['message']);transLogic(_0x115976[_0x1de301(0xd7)]);}catch(_0x317ecf){inputText[_0x1de301(0xfe)]=_0x317ecf[_0x1de301(0xc1)];}finally{clearInterval(_0x9d1f7e),isFunctionARunning=![];}}function a0_0x1a8b(){const _0x213fec=['5730732LqtmYt','...','88AEQURS','visible','touchend','result','3221385bfEJWF','&tl=','lines','getFullYear','textContent','XMLHttpRequest','setItem','DOMContentLoaded','ApiAzure','_setArea','image','https://cors-anywhere.herokuapp.com/corsdemo','500\x20Internal\x20Server\x20Error','CORS-Anywhere\x20chưa\x20được\x20kích\x20hoạt.\x20Mở\x20/corsdemo...','readAsDataURL','readResult','Error\x20detecting\x20language:','9KdXiTu','image/png','add','backgroundPositionX','onloadend','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','replace','Waiting..','3915060OJhJiJ','random','toggle','2836240clSFhQ','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','user','getContext','getItem','clientWidth','type','addEventListener','touchstart','3218rYgVdV','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','style','toDataURL','round','origin','scrollWidth','POST','width','append','message','floor','warn','remove','userAgent','charCodeAt','canvas','status','code','length','forEach','classList','toISOString','map','innerWidth','scrollLeft','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','image.png','turbo','href','src',']\x20Times\x20Azure','text','inputText','join','isArray','onerror','lastSavedDate','getElementById','turbo-ocr','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','error','split','blocks','onload','location','captureOCR','logoOcr','2024260olZdFj','screenSize','getMonth','.png','height','6MZaRoe','createElement','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','json','.gb','Internal\x20Server\x20Error','endsWith','2430111plpZno'];a0_0x1a8b=function(){return _0x213fec;};return a0_0x1a8b();}async function azureServer(_0x57b058){const _0x1f9674=a0_0x190d6c;inputText['textContent']=_0x1f9674(0xf5);const _0x59547c=localStorage[_0x1f9674(0xb2)](_0x1f9674(0x102));let [_0x188c2c,_0x5b5b89,_0x50e414]=_0x59547c[_0x1f9674(0xe1)](',');_0x50e414=parseInt(_0x50e414);const _0x555d5b=new Date(),_0xdff1f0=_0x555d5b[_0x1f9674(0xe9)](),_0x4c3921=_0x555d5b[_0x1f9674(0xfd)](),_0x834efc=localStorage[_0x1f9674(0xb2)](_0x1f9674(0xdc)),_0x3f27e1=_0x834efc?new Date(_0x834efc):null;_0x3f27e1&&(_0xdff1f0!==_0x3f27e1[_0x1f9674(0xe9)]()||_0x4c3921!==_0x3f27e1['getFullYear']())&&(_0x50e414=0x0,localStorage[_0x1f9674(0x100)]('lastSavedDate',_0x555d5b['toISOString']()));if(_0x50e414>=0x1356){inputText[_0x1f9674(0xfe)]=_0x1f9674(0xdf);return;}try{const _0xaa7f80=await fetch(_0x5b5b89+_0x1f9674(0xb8),{'method':_0x1f9674(0xbe),'headers':{'Ocp-Apim-Subscription-Key':_0x188c2c,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x57b058)}),_0x19be35=await _0xaa7f80[_0x1f9674(0xef)]();if(!_0xaa7f80['ok']||_0x19be35['type']==='error'){const _0x2c5e46=_0xaa7f80['ok']?_0x19be35['error'][_0x1f9674(0xc1)]:_0xaa7f80[_0x1f9674(0xc8)]===0x1f4?_0x1f9674(0x106):(await _0xaa7f80[_0x1f9674(0xef)]())[_0x1f9674(0xe0)][_0x1f9674(0xc1)];throw new Error(_0x2c5e46);}const _0xcde4b2=_0x19be35[_0x1f9674(0xa1)][_0x1f9674(0xe2)][0x0],_0x402e82=_0xcde4b2[_0x1f9674(0xfc)]||[],_0x25446c=_0x402e82[_0x1f9674(0xce)](_0x23d939=>_0x23d939[_0x1f9674(0xd7)])[_0x1f9674(0xd9)]('\x0a');transLogic(_0x25446c);}catch(_0x3993b0){inputText[_0x1f9674(0xfe)]=_0x3993b0['message'];const _0x3ead62=++_0x50e414;a0_0x392b1c['notiMessage']('['+_0x3ead62+_0x1f9674(0xd6),0x7d0),localStorage[_0x1f9674(0x100)](_0x1f9674(0x102),_0x188c2c+','+_0x5b5b89+','+_0x3ead62),localStorage['setItem']('lastSavedDate',_0x555d5b['toISOString']());}finally{const _0x57794e=++_0x50e414;a0_0x392b1c['notiMessage']('['+_0x57794e+']\x20Times\x20Azure',0x7d0),isFunctionARunning=![],localStorage[_0x1f9674(0x100)]('ApiAzure',_0x188c2c+','+_0x5b5b89+','+_0x57794e),localStorage[_0x1f9674(0x100)](_0x1f9674(0xdc),_0x555d5b[_0x1f9674(0xcd)]());}}async function translateText(_0x5e989a,_0x8de7b7,_0x23886f){const _0x2ee181=a0_0x190d6c,_0x48de30=_0x5e989a[_0x2ee181(0xa9)](/[\r\n]+/g,',\x20')[_0x2ee181(0xa9)](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x2ee181(0xa9)](/ {2,}/g,'\x20')['trim']();var _0x1fa58f=_0x2ee181(0xd1)+_0x8de7b7+_0x2ee181(0xfb)+_0x23886f+'&dt=t&q='+encodeURIComponent(_0x48de30);try{const _0x4e7344=await fetch(_0x1fa58f);if(!_0x4e7344['ok']){if(_0x4e7344['status']===0x1f4)throw new Error(_0x2ee181(0xf1));else{const _0x2b5ed0=await _0x4e7344[_0x2ee181(0xef)](),_0x55e6d6=new Error(_0x2b5ed0[_0x2ee181(0xe0)][_0x2ee181(0xc1)]);_0x55e6d6[_0x2ee181(0xc9)]=_0x2b5ed0[_0x2ee181(0xe0)][_0x2ee181(0xc9)];throw _0x55e6d6;}}const _0x3affef=await _0x4e7344[_0x2ee181(0xef)]();if(Array['isArray'](_0x3affef)&&_0x3affef[_0x2ee181(0xca)]>0x0&&Array[_0x2ee181(0xda)](_0x3affef[0x0])){var _0x40a442=_0x3affef[0x0]['map'](_0x577b16=>_0x577b16[0x0])['join']('\x20');return inputText[_0x2ee181(0xfe)]=_0x40a442['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x40a442[_0x2ee181(0xa9)](/ {2,}/g,'\x20');}else return inputText[_0x2ee181(0xfe)]=_0x3affef,_0x3affef;}catch(_0x33ac12){inputText[_0x2ee181(0xfe)]=_0x33ac12[_0x2ee181(0xc1)];throw _0x33ac12;}}async function autoScroll(){const _0x575ae0=a0_0x190d6c;var _0x37fab5=inputText[_0x575ae0(0xbd)]-inputText[_0x575ae0(0xb3)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x37fab5||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x575ae0(0xd0)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x33d055){const _0x3637d1=a0_0x190d6c;var _0x5b00ed=_0x3637d1(0xee)+encodeURIComponent(_0x33d055);try{const _0x397745=await fetch(_0x5b00ed),_0x256c23=await _0x397745[_0x3637d1(0xef)]();var _0x650537=_0x256c23[0x8][0x0][0x0];return _0x650537;}catch(_0x3c7770){console[_0x3637d1(0xe0)](_0x3637d1(0xa2),_0x3c7770);throw _0x3c7770;}}async function transLogic(_0x550235){const _0x110848='en';if(_0x110848===null){const _0x3ef500=await detectLanguage(_0x550235),_0x57a2cf=await translateText(_0x550235,_0x3ef500,'en');return translateText(_0x57a2cf,'en','vi');}else{if(_0x110848==='en')return translateText(_0x550235,'en','vi');else{const _0x4e7c7c=await translateText(_0x550235,_0x110848,'en');return translateText(_0x4e7c7c,'en','vi');}}}function dataURItoBlob(_0x4e529c){const _0x1681d0=a0_0x190d6c,_0x4288c0=atob(_0x4e529c),_0x224151=new ArrayBuffer(_0x4288c0[_0x1681d0(0xca)]),_0x5bc040=new Uint8Array(_0x224151);for(let _0x23b38a=0x0;_0x23b38a<_0x4288c0[_0x1681d0(0xca)];_0x23b38a++){_0x5bc040[_0x23b38a]=_0x4288c0[_0x1681d0(0xc6)](_0x23b38a);}return new Blob([_0x224151],{'type':_0x1681d0(0xa4)});}function logoOcr(){const _0x551ba2=a0_0x190d6c;var _0x4a8964=Math[_0x551ba2(0xc2)](Math[_0x551ba2(0xac)]()*0x3)+0x1,_0x139bb0=-0xf*_0x4a8964+'px';document[_0x551ba2(0xdd)](_0x551ba2(0xe6))[_0x551ba2(0xb9)][_0x551ba2(0xa6)]=_0x139bb0;}document['addEventListener'](a0_0x190d6c(0x101),function(){const _0x3ce59e=a0_0x190d6c;ID[_0x3ce59e(0xcb)](function(_0x4281a9){const _0x5e3233=_0x3ce59e,_0x3a275e=document[_0x5e3233(0xdd)](_0x4281a9);_0x3a275e&&_0x3a275e[_0x5e3233(0xb5)](_0x5e3233(0xb6),function(){const _0x2a6e27=_0x5e3233;!isFunctionARunning&&turbo[_0x2a6e27(0xcc)][_0x2a6e27(0xc4)](_0x2a6e27(0xde));});}),['mouseup',_0x3ce59e(0xf8),'touchcancel'][_0x3ce59e(0xcb)](_0x1cb98c=>{const _0x46fb4f=_0x3ce59e;turbo[_0x46fb4f(0xb5)](_0x1cb98c,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x46fb4f(0xb5)](_0x1cb98c,()=>{const _0x29c1be=_0x46fb4f;areaTrans[_0x29c1be(0xcc)][_0x29c1be(0xad)](_0x29c1be(0xf7));});});});