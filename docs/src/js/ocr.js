const a0_0x3b8c71=a0_0x4a8a;(function(_0x4cdedd,_0x11610b){const _0x4ede70=a0_0x4a8a,_0x2dd559=_0x4cdedd();while(!![]){try{const _0x274b9a=parseInt(_0x4ede70(0x11d))/0x1+parseInt(_0x4ede70(0x133))/0x2+parseInt(_0x4ede70(0x11c))/0x3+parseInt(_0x4ede70(0x124))/0x4+-parseInt(_0x4ede70(0x104))/0x5+-parseInt(_0x4ede70(0x10b))/0x6+-parseInt(_0x4ede70(0x110))/0x7;if(_0x274b9a===_0x11610b)break;else _0x2dd559['push'](_0x2dd559['shift']());}catch(_0x4af4cf){_0x2dd559['push'](_0x2dd559['shift']());}}}(a0_0x584b,0xba676));import*as a0_0x390a27 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x3b8c71(0xf2)](a0_0x3b8c71(0x125)),turbo=document['getElementById'](a0_0x3b8c71(0x119)),ID=['A','B','R','L'];async function getImage(){const _0x5801fd=a0_0x3b8c71;turbo[_0x5801fd(0x130)]['add'](_0x5801fd(0x111));try{const _0x2e28c9=gameName[_0x5801fd(0xf3)](/\.(gba|gbc|gb|zip)$/,_0x5801fd(0x101)),_0x46f327=await a0_0x390a27['captureOCR'](_0x2e28c9),_0x4ce6ef=new Blob([_0x46f327],{'type':_0x5801fd(0x114)}),_0x4d696d=await new Promise((_0x1e7278,_0xbcc063)=>{const _0x614796=_0x5801fd,_0x502a60=new FileReader();_0x502a60[_0x614796(0xf7)]=()=>_0x1e7278(_0x502a60[_0x614796(0x117)]),_0x502a60[_0x614796(0x137)]=_0xbcc063,_0x502a60[_0x614796(0x126)](_0x4ce6ef);}),_0x58025c=new Image();_0x58025c[_0x5801fd(0x11e)]=_0x4d696d,_0x58025c[_0x5801fd(0xfd)]=async()=>{const _0x40a688=_0x5801fd,_0x680b6c=document['createElement'](_0x40a688(0x116)),_0x1809eb=_0x680b6c['getContext']('2d'),_0x16cac2=0x4;let _0x165cc7;gameName[_0x40a688(0xf1)](_0x40a688(0x135))||gameName[_0x40a688(0xf1)](_0x40a688(0x123))?_0x165cc7=0x3/0x6:_0x165cc7=0x3/0x4;const _0x3e0533=localStorage[_0x40a688(0x139)](gameName+_0x40a688(0x12b))||localStorage[_0x40a688(0x139)]('screenSize'),[_0xc50763,_0x30080f,_0xa2f808,_0x24563b]=_0x3e0533[_0x40a688(0x13e)](',')['map'](Number);_0x680b6c[_0x40a688(0x127)]=_0xa2f808*_0x165cc7*_0x16cac2,_0x680b6c['height']=_0x24563b*_0x165cc7*_0x16cac2,_0x1809eb[_0x40a688(0x11b)](_0x58025c,_0xc50763*_0x165cc7,_0x30080f*_0x165cc7,_0xa2f808*_0x165cc7,_0x24563b*_0x165cc7,0x0,0x0,_0xa2f808*_0x165cc7*_0x16cac2,_0x24563b*_0x165cc7*_0x16cac2);const _0x443b68=_0x680b6c['toDataURL'](_0x40a688(0x114))[_0x40a688(0x13e)](',')[0x1],_0x2e9de6=localStorage[_0x40a688(0x139)](_0x40a688(0x140));console[_0x40a688(0x108)](_0x2e9de6),_0x2e9de6?azureServer(_0x443b68):freeServer(_0x443b68);};}catch(_0x4e068d){inputText[_0x5801fd(0x113)]=_0x4e068d[_0x5801fd(0x12c)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x5bd0ac=_0x5801fd;document[_0x5bd0ac(0xf2)](_0x5bd0ac(0x125))[_0x5bd0ac(0x113)]='',a0_0x390a27['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x28922e){const _0x5ea39c=a0_0x3b8c71;document[_0x5ea39c(0xf2)](_0x5ea39c(0x10a))[_0x5ea39c(0x113)]='';let _0x32ea7b=0x0;const _0x2db1ee=setInterval(()=>{const _0x21ae6e=_0x5ea39c;_0x32ea7b+=0x1,_0x32ea7b<=0x64&&(inputText[_0x21ae6e(0x113)]=_0x21ae6e(0xef)+_0x32ea7b+'%');},0x64);try{const _0x3cf167=dataURItoBlob(_0x28922e),_0x135b75=new FormData();_0x135b75[_0x5ea39c(0x10f)](_0x5ea39c(0xf9),_0x3cf167,_0x5ea39c(0x120)),_0x135b75[_0x5ea39c(0x10f)](_0x5ea39c(0xf5),_0x5ea39c(0x13b));let _0x52d32e;try{_0x52d32e=await fetch(_0x5ea39c(0x10d),{'method':_0x5ea39c(0x131),'body':_0x135b75,'headers':{'Origin':window[_0x5ea39c(0xfc)][_0x5ea39c(0x13a)],'X-Requested-With':_0x5ea39c(0x102),'User-Agent':navigator[_0x5ea39c(0xf6)]}});if(!_0x52d32e['ok'])throw new Error(_0x5ea39c(0x112)+_0x52d32e[_0x5ea39c(0x13d)]);}catch(_0xa9ad83){console['warn'](_0x5ea39c(0x121)),window[_0x5ea39c(0xfc)][_0x5ea39c(0x128)]=_0x5ea39c(0x103);return;}const _0x5855fc=await _0x52d32e[_0x5ea39c(0x12a)]();if(_0x5855fc[_0x5ea39c(0xff)]===_0x5ea39c(0x138))throw new Error(_0x5855fc[_0x5ea39c(0x138)][_0x5ea39c(0x12c)]);transLogic(_0x5855fc[_0x5ea39c(0x106)]);}catch(_0x104544){inputText[_0x5ea39c(0x113)]=_0x104544[_0x5ea39c(0x12c)];}finally{clearInterval(_0x2db1ee),isFunctionARunning=![];}}async function azureServer(_0x56bbb8){const _0x91f491=a0_0x3b8c71;document[_0x91f491(0xf2)](_0x91f491(0x10a))['textContent']='',inputText[_0x91f491(0x113)]=_0x91f491(0xef);const _0x258163=localStorage['getItem']('ApiAzure');let [_0xd4458a,_0x5932f9]=_0x258163['split'](',');try{const _0x106608=await fetch(_0x5932f9+_0x91f491(0x13f),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0xd4458a,'Content-Type':_0x91f491(0x10c)},'body':dataURItoBlob(_0x56bbb8)}),_0x58783c=await _0x106608[_0x91f491(0x12a)]();if(!_0x106608['ok']||_0x58783c['type']===_0x91f491(0x138)){const _0x3276e8=_0x106608['ok']?_0x58783c[_0x91f491(0x138)][_0x91f491(0x12c)]:_0x106608[_0x91f491(0x13d)]===0x1f4?_0x91f491(0x105):(await _0x106608[_0x91f491(0x12a)]())[_0x91f491(0x138)][_0x91f491(0x12c)];throw new Error(_0x3276e8);}const _0x41f56f=_0x58783c[_0x91f491(0xfb)][_0x91f491(0x134)][0x0],_0x3dde94=_0x41f56f[_0x91f491(0x12d)]||[],_0x1f9149=_0x3dde94[_0x91f491(0x132)](_0x5c4deb=>_0x5c4deb['text'])[_0x91f491(0x10e)]('\x0a');transLogic(_0x1f9149);}catch(_0x473d52){inputText[_0x91f491(0x113)]=_0x473d52[_0x91f491(0x12c)];}finally{isFunctionARunning=![];}}async function translateText(_0x4b89a0,_0xb8a4e5,_0x4d66b6){const _0x3a32fb=a0_0x3b8c71,_0x1b8904=_0x4b89a0['replace'](/[\r\n]+/g,',\x20')[_0x3a32fb(0xf3)](/([!?.,])\s*,\s*/g,_0x3a32fb(0x107))[_0x3a32fb(0xf3)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x3a32fb(0x118)]();var _0x227141=_0x3a32fb(0x100)+_0xb8a4e5+_0x3a32fb(0x11a)+_0x4d66b6+_0x3a32fb(0xfe)+encodeURIComponent(_0x1b8904);try{const _0x1b2e5d=await fetch(_0x227141);if(!_0x1b2e5d['ok']){if(_0x1b2e5d[_0x3a32fb(0x13d)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x23b5c3=await _0x1b2e5d[_0x3a32fb(0x12a)](),_0x599ff6=new Error(_0x23b5c3[_0x3a32fb(0x138)][_0x3a32fb(0x12c)]);_0x599ff6[_0x3a32fb(0xee)]=_0x23b5c3[_0x3a32fb(0x138)][_0x3a32fb(0xee)];throw _0x599ff6;}}const _0x51e28a=await _0x1b2e5d['json']();if(Array[_0x3a32fb(0x12e)](_0x51e28a)&&_0x51e28a[_0x3a32fb(0x13c)]>0x0&&Array[_0x3a32fb(0x12e)](_0x51e28a[0x0])){var _0x1791c2=_0x51e28a[0x0][_0x3a32fb(0x132)](_0x29b872=>_0x29b872[0x0])['join']('\x20');return document[_0x3a32fb(0xf2)](_0x3a32fb(0x10a))[_0x3a32fb(0x113)]='',inputText[_0x3a32fb(0x113)]='.._\x20'+_0x1791c2[_0x3a32fb(0xf3)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x1791c2['replace'](/ {2,}/g,'\x20');}else return document[_0x3a32fb(0xf2)](_0x3a32fb(0x10a))[_0x3a32fb(0x113)]='',inputText[_0x3a32fb(0x113)]=_0x3a32fb(0xef)+_0x51e28a,_0x51e28a;}catch(_0x424b24){inputText['textContent']=_0x424b24[_0x3a32fb(0x12c)];throw _0x424b24;}}async function autoScroll(){const _0x3a75d4=a0_0x3b8c71;var _0x3ee526=inputText['scrollWidth']-inputText[_0x3a75d4(0x141)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x3ee526||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x3a75d4(0x11f)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x142ea8){const _0xbe4756=a0_0x3b8c71;var _0x3229d6=_0xbe4756(0x12f)+encodeURIComponent(_0x142ea8);try{const _0x12b49e=await fetch(_0x3229d6),_0x390009=await _0x12b49e[_0xbe4756(0x12a)]();var _0x43a1e6=_0x390009[0x8][0x0][0x0];return _0x43a1e6;}catch(_0x1cda13){console['error'](_0xbe4756(0x122),_0x1cda13);throw _0x1cda13;}}function a0_0x4a8a(_0x33af79,_0x3bf2ea){const _0x584b2a=a0_0x584b();return a0_0x4a8a=function(_0x4a8a31,_0x71677d){_0x4a8a31=_0x4a8a31-0xee;let _0x4c5e37=_0x584b2a[_0x4a8a31];return _0x4c5e37;},a0_0x4a8a(_0x33af79,_0x3bf2ea);}async function transLogic(_0x22f70f){const _0x180bc1='en';if(_0x180bc1===null){const _0x2fbb48=await detectLanguage(_0x22f70f),_0x23fd43=await translateText(_0x22f70f,_0x2fbb48,'en');return translateText(_0x23fd43,'en','vi');}else{if(_0x180bc1==='en')return translateText(_0x22f70f,'en','vi');else{const _0x4a849c=await translateText(_0x22f70f,_0x180bc1,'en');return translateText(_0x4a849c,'en','vi');}}}function a0_0x584b(){const _0x1ca6fb=['5063204yXEKuj','inputText','readAsDataURL','width','href','touchstart','json','_setArea','message','lines','isArray','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','classList','POST','map','1592862nuMURL','blocks','.gbc','visible','onerror','error','getItem','origin','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','length','status','split','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','ApiAzure','clientWidth','code','.._\x20','charCodeAt','endsWith','getElementById','replace','remove','user','userAgent','onloadend','addEventListener','image','forEach','readResult','location','onload','&dt=t&q=','type','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','.png','XMLHttpRequest','https://cors-anywhere.herokuapp.com/corsdemo','4119775BchQXy','500\x20Internal\x20Server\x20Error','text','$1\x20','log','toggle','noti-mess','2412060ceWbMc','application/octet-stream','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','join','append','18065649TuNngo','turbo-ocr','HTTP\x20Error:\x20','textContent','image/png','DOMContentLoaded','canvas','result','trim','turbo','&tl=','drawImage','3424095WWHcbm','1366685OkxaFT','src','scrollLeft','image.png','Cors-controlers\x20have\x20not\x20been\x20activated.','Error\x20detecting\x20language:','.gb'];a0_0x584b=function(){return _0x1ca6fb;};return a0_0x584b();}function dataURItoBlob(_0x3fe902){const _0x461821=a0_0x3b8c71,_0x596d31=atob(_0x3fe902),_0xd51914=new ArrayBuffer(_0x596d31[_0x461821(0x13c)]),_0x5a7f89=new Uint8Array(_0xd51914);for(let _0x23310d=0x0;_0x23310d<_0x596d31[_0x461821(0x13c)];_0x23310d++){_0x5a7f89[_0x23310d]=_0x596d31[_0x461821(0xf0)](_0x23310d);}return new Blob([_0xd51914],{'type':_0x461821(0x114)});}document[a0_0x3b8c71(0xf8)](a0_0x3b8c71(0x115),function(){const _0x170c04=a0_0x3b8c71;ID[_0x170c04(0xfa)](function(_0x2cf344){const _0x53515c=_0x170c04,_0x140151=document[_0x53515c(0xf2)](_0x2cf344);_0x140151&&_0x140151['addEventListener'](_0x53515c(0x129),function(){const _0x3288ee=_0x53515c;!isFunctionARunning&&turbo[_0x3288ee(0x130)][_0x3288ee(0xf4)](_0x3288ee(0x111));});}),['touchend'][_0x170c04(0xfa)](_0x20292a=>{const _0x3e1d66=_0x170c04;turbo['addEventListener'](_0x20292a,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x3e1d66(0xf8)](_0x20292a,()=>{const _0xd44209=_0x3e1d66;areaTrans[_0xd44209(0x130)][_0xd44209(0x109)](_0xd44209(0x136));});});});