const a0_0xf6650f=a0_0x34f8;(function(_0x2109a9,_0x491e8d){const _0x5b3d40=a0_0x34f8,_0x3c1240=_0x2109a9();while(!![]){try{const _0x5883b9=parseInt(_0x5b3d40(0x1d5))/0x1+parseInt(_0x5b3d40(0x200))/0x2*(parseInt(_0x5b3d40(0x1e8))/0x3)+-parseInt(_0x5b3d40(0x207))/0x4+parseInt(_0x5b3d40(0x1c0))/0x5+-parseInt(_0x5b3d40(0x1da))/0x6+parseInt(_0x5b3d40(0x1c2))/0x7*(parseInt(_0x5b3d40(0x1dd))/0x8)+-parseInt(_0x5b3d40(0x1fe))/0x9;if(_0x5883b9===_0x491e8d)break;else _0x3c1240['push'](_0x3c1240['shift']());}catch(_0x5d2f7d){_0x3c1240['push'](_0x3c1240['shift']());}}}(a0_0x2a16,0x3f0fc));function a0_0x34f8(_0x4106e5,_0x29eaa9){const _0x2a16ae=a0_0x2a16();return a0_0x34f8=function(_0x34f898,_0x378cc2){_0x34f898=_0x34f898-0x1bd;let _0x1c1fce=_0x2a16ae[_0x34f898];return _0x1c1fce;},a0_0x34f8(_0x4106e5,_0x29eaa9);}import*as a0_0x179de3 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0xf6650f(0x1be)](a0_0xf6650f(0x1cd)),turbo=document[a0_0xf6650f(0x1be)](a0_0xf6650f(0x1c3)),ID=['A','B','R','L'];async function getImage(){const _0x11d3e6=a0_0xf6650f;turbo['classList']['add'](_0x11d3e6(0x1f3));try{const _0xb3464e=gameName[_0x11d3e6(0x203)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x4ea4d9=await a0_0x179de3['captureOCR'](_0xb3464e),_0x23a555=new Blob([_0x4ea4d9],{'type':_0x11d3e6(0x1d1)}),_0x30e83d=await new Promise((_0xd07ec5,_0x67346b)=>{const _0x18b314=_0x11d3e6,_0x40c9c8=new FileReader();_0x40c9c8[_0x18b314(0x1e7)]=()=>_0xd07ec5(_0x40c9c8['result']),_0x40c9c8[_0x18b314(0x1fb)]=_0x67346b,_0x40c9c8[_0x18b314(0x1ed)](_0x23a555);}),_0x1956b2=new Image();_0x1956b2['src']=_0x30e83d,_0x1956b2['onload']=async()=>{const _0x4556d2=_0x11d3e6,_0xe06bcf=document[_0x4556d2(0x1e9)](_0x4556d2(0x1c4)),_0x5efc62=_0xe06bcf['getContext']('2d'),_0x11dcf6=0x4;let _0x569299;gameName[_0x4556d2(0x1db)]('.gbc')||gameName['endsWith'](_0x4556d2(0x1bd))?_0x569299=0x3/0x6:_0x569299=0x3/0x4;const _0x33bca3=localStorage['getItem'](gameName+_0x4556d2(0x1d9))||localStorage['getItem'](_0x4556d2(0x1c5)),[_0x57b9e1,_0x29c734,_0x3a4c40,_0x3aa095]=_0x33bca3[_0x4556d2(0x1c9)](',')[_0x4556d2(0x1f6)](Number);_0xe06bcf[_0x4556d2(0x1ca)]=_0x3a4c40*_0x569299*_0x11dcf6,_0xe06bcf[_0x4556d2(0x1d6)]=_0x3aa095*_0x569299*_0x11dcf6,_0x5efc62['drawImage'](_0x1956b2,_0x57b9e1*_0x569299,_0x29c734*_0x569299,_0x3a4c40*_0x569299,_0x3aa095*_0x569299,0x0,0x0,_0x3a4c40*_0x569299*_0x11dcf6,_0x3aa095*_0x569299*_0x11dcf6);const _0x59461a=_0xe06bcf[_0x4556d2(0x1f8)](_0x4556d2(0x1d1))[_0x4556d2(0x1c9)](',')[0x1],_0x19b80c=localStorage['getItem'](_0x4556d2(0x1cb));console[_0x4556d2(0x1e6)](_0x19b80c),_0x19b80c?azureServer(_0x59461a):freeServer(_0x59461a);};}catch(_0x327b23){inputText[_0x11d3e6(0x1c1)]=_0x327b23[_0x11d3e6(0x1c6)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xad53ae=_0x11d3e6;document['getElementById'](_0xad53ae(0x1cd))[_0xad53ae(0x1c1)]='',a0_0x179de3[_0xad53ae(0x1ef)]('',0x0);},0x7530);}async function freeServer(_0x296684){const _0x286911=a0_0xf6650f;document[_0x286911(0x1be)](_0x286911(0x1f2))[_0x286911(0x1c1)]='';let _0x405930=0x0;const _0x5a0b8c=setInterval(()=>{_0x405930+=0x1,_0x405930<=0x64&&(inputText['textContent']='.._\x20'+_0x405930+'%');},0x64);try{const _0x590fba=dataURItoBlob(_0x296684),_0x4dd006=new FormData();_0x4dd006[_0x286911(0x1ce)]('image',_0x590fba,'image.png'),_0x4dd006[_0x286911(0x1ce)](_0x286911(0x1fa),_0x286911(0x205));let _0x44154c;try{_0x44154c=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x286911(0x1cf),'body':_0x4dd006,'headers':{'Origin':window['location'][_0x286911(0x1bf)],'X-Requested-With':_0x286911(0x1d4),'User-Agent':navigator[_0x286911(0x204)]}});if(!_0x44154c['ok'])throw new Error(_0x286911(0x1fd)+_0x44154c[_0x286911(0x1f4)]);}catch(_0x52714b){console[_0x286911(0x1e3)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x286911(0x206)]['href']=_0x286911(0x1f5);return;}const _0x5ea846=await _0x44154c['json']();if(_0x5ea846['type']===_0x286911(0x1fc))throw new Error(_0x5ea846['error']['message']);transLogic(_0x5ea846[_0x286911(0x1d8)]);}catch(_0x30f12e){inputText['textContent']=_0x30f12e[_0x286911(0x1c6)];}finally{clearInterval(_0x5a0b8c),isFunctionARunning=![];}}async function azureServer(_0x44fca6){const _0x42fedb=a0_0xf6650f;document[_0x42fedb(0x1be)]('noti-mess')[_0x42fedb(0x1c1)]='',inputText['textContent']=_0x42fedb(0x1dc);const _0x5382e6=localStorage[_0x42fedb(0x1d0)](_0x42fedb(0x1cb));let [_0x2cc9ec,_0x126913]=_0x5382e6[_0x42fedb(0x1c9)](',');try{const _0x325344=await fetch(_0x126913+_0x42fedb(0x201),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x2cc9ec,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x44fca6)}),_0x459a41=await _0x325344[_0x42fedb(0x1d2)]();if(!_0x325344['ok']||_0x459a41[_0x42fedb(0x1ea)]===_0x42fedb(0x1fc)){const _0x47b403=_0x325344['ok']?_0x459a41[_0x42fedb(0x1fc)][_0x42fedb(0x1c6)]:_0x325344['status']===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x325344['json']())[_0x42fedb(0x1fc)]['message'];throw new Error(_0x47b403);}const _0x4e4dcf=_0x459a41['readResult'][_0x42fedb(0x1ec)][0x0],_0x1e351e=_0x4e4dcf[_0x42fedb(0x208)]||[],_0x2ad8bf=_0x1e351e[_0x42fedb(0x1f6)](_0x309662=>_0x309662[_0x42fedb(0x1d8)])[_0x42fedb(0x1ee)]('\x0a');transLogic(_0x2ad8bf);}catch(_0x2bc166){inputText['textContent']=_0x2bc166['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x381fa3,_0x22fa5d,_0x22a697){const _0x3ee224=a0_0xf6650f,_0x12e58e=_0x381fa3[_0x3ee224(0x203)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x3ee224(0x1c8))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x3ee224(0x203)](/ {2,}/g,'\x20')[_0x3ee224(0x1d7)]();var _0x482369=_0x3ee224(0x1d3)+_0x22fa5d+'&tl='+_0x22a697+_0x3ee224(0x1e2)+encodeURIComponent(_0x12e58e);try{const _0x58a833=await fetch(_0x482369);if(!_0x58a833['ok']){if(_0x58a833[_0x3ee224(0x1f4)]===0x1f4)throw new Error(_0x3ee224(0x209));else{const _0x438cc9=await _0x58a833[_0x3ee224(0x1d2)](),_0x1883de=new Error(_0x438cc9[_0x3ee224(0x1fc)][_0x3ee224(0x1c6)]);_0x1883de[_0x3ee224(0x1f0)]=_0x438cc9[_0x3ee224(0x1fc)][_0x3ee224(0x1f0)];throw _0x1883de;}}const _0x5f300b=await _0x58a833[_0x3ee224(0x1d2)]();if(Array[_0x3ee224(0x1ff)](_0x5f300b)&&_0x5f300b[_0x3ee224(0x202)]>0x0&&Array[_0x3ee224(0x1ff)](_0x5f300b[0x0])){var _0xd35d83=_0x5f300b[0x0][_0x3ee224(0x1f6)](_0x278159=>_0x278159[0x0])[_0x3ee224(0x1ee)]('\x20');return document[_0x3ee224(0x1be)](_0x3ee224(0x1f2))[_0x3ee224(0x1c1)]='',inputText[_0x3ee224(0x1c1)]='.._\x20'+_0xd35d83[_0x3ee224(0x203)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0xd35d83[_0x3ee224(0x203)](/ {2,}/g,'\x20');}else return document[_0x3ee224(0x1be)](_0x3ee224(0x1f2))['textContent']='',inputText[_0x3ee224(0x1c1)]=_0x3ee224(0x1dc)+_0x5f300b,_0x5f300b;}catch(_0x21e4a4){inputText[_0x3ee224(0x1c1)]=_0x21e4a4[_0x3ee224(0x1c6)];throw _0x21e4a4;}}async function autoScroll(){const _0x24fbf=a0_0xf6650f;var _0x142bfc=inputText[_0x24fbf(0x1eb)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x142bfc||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x24fbf(0x1e1)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}function a0_0x2a16(){const _0x32fa30=['lines','Internal\x20Server\x20Error','.gb','getElementById','origin','1273140VzRDlL','textContent','14KiqAWz','turbo','canvas','screenSize','message','DOMContentLoaded','$1\x20','split','width','ApiAzure','touchend','inputText','append','POST','getItem','image/png','json','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','XMLHttpRequest','310044DKmFID','height','trim','text','_setArea','1746588UkfMzN','endsWith','.._\x20','176200PCWsXd','visible','toggle','touchstart','scrollLeft','&dt=t&q=','warn','classList','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','log','onloadend','9RERmOg','createElement','type','scrollWidth','blocks','readAsDataURL','join','notiMessage','code','remove','noti-mess','turbo-ocr','status','https://cors-anywhere.herokuapp.com/corsdemo','map','Error\x20detecting\x20language:','toDataURL','addEventListener','user','onerror','error','HTTP\x20Error:\x20','1270683NNzdCx','isArray','286576CSbRZA','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','length','replace','userAgent','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','location','1392004uxgQDn'];a0_0x2a16=function(){return _0x32fa30;};return a0_0x2a16();}async function detectLanguage(_0x420f1d){const _0x3c3a19=a0_0xf6650f;var _0x24a2ff=_0x3c3a19(0x1e5)+encodeURIComponent(_0x420f1d);try{const _0x1de3d8=await fetch(_0x24a2ff),_0x11a08=await _0x1de3d8[_0x3c3a19(0x1d2)]();var _0x344d46=_0x11a08[0x8][0x0][0x0];return _0x344d46;}catch(_0x225468){console['error'](_0x3c3a19(0x1f7),_0x225468);throw _0x225468;}}async function transLogic(_0x4b3a91){const _0xdb007a='en';if(_0xdb007a===null){const _0x34c16c=await detectLanguage(_0x4b3a91),_0x3a49ee=await translateText(_0x4b3a91,_0x34c16c,'en');return translateText(_0x3a49ee,'en','vi');}else{if(_0xdb007a==='en')return translateText(_0x4b3a91,'en','vi');else{const _0x109deb=await translateText(_0x4b3a91,_0xdb007a,'en');return translateText(_0x109deb,'en','vi');}}}function dataURItoBlob(_0x8238cf){const _0x3f6fe7=a0_0xf6650f,_0x45aa0b=atob(_0x8238cf),_0xbc8f0c=new ArrayBuffer(_0x45aa0b['length']),_0x50cb59=new Uint8Array(_0xbc8f0c);for(let _0x91b177=0x0;_0x91b177<_0x45aa0b[_0x3f6fe7(0x202)];_0x91b177++){_0x50cb59[_0x91b177]=_0x45aa0b['charCodeAt'](_0x91b177);}return new Blob([_0xbc8f0c],{'type':_0x3f6fe7(0x1d1)});}document[a0_0xf6650f(0x1f9)](a0_0xf6650f(0x1c7),function(){const _0x2be0d9=a0_0xf6650f;ID['forEach'](function(_0x2ee158){const _0xf42764=a0_0x34f8,_0x542e6e=document[_0xf42764(0x1be)](_0x2ee158);_0x542e6e&&_0x542e6e[_0xf42764(0x1f9)](_0xf42764(0x1e0),function(){const _0x5ee3c8=_0xf42764;!isFunctionARunning&&turbo[_0x5ee3c8(0x1e4)][_0x5ee3c8(0x1f1)](_0x5ee3c8(0x1f3));});}),[_0x2be0d9(0x1cc)]['forEach'](_0x20021d=>{const _0x44e056=_0x2be0d9;turbo[_0x44e056(0x1f9)](_0x20021d,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x44e056(0x1f9)](_0x20021d,()=>{const _0x28c268=_0x44e056;areaTrans[_0x28c268(0x1e4)][_0x28c268(0x1df)](_0x28c268(0x1de));});});});