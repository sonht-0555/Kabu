const a0_0x4ce0d1=a0_0x28c1;function a0_0x4679(){const _0x4230bd=['turbo','lines','503168ssSoOU','textContent','captureOCR','readResult','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','21tlgJFd','image/png','width','Error\x20detecting\x20language:','&tl=','src','endsWith','warn','map','turbo-ocr','onload','blocks','visible','href','notiMessage','userAgent','image.png','length','split','location','drawImage','error','getItem','_setArea','addEventListener','createElement','touchstart','6226816UNImEp','.gbc','getElementById','2416315QuqJFg','charCodeAt','99387xyiRSm','touchend','https://cors-anywhere.herokuapp.com/corsdemo','4KvOwtr','log','POST','classList','user','noti-mess','add','type','result','json','message','forEach','canvas','ApiAzure','isArray','status','join','screenSize','&dt=t&q=','1047528uyCuHt','500\x20Internal\x20Server\x20Error','.._\x20','1990EiWgIA','onerror','replace','34412fwVFkI','append','getContext','1575309lhrnLo','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','Cors-controlers\x20have\x20not\x20been\x20activated.','height','code','$1\x20','text','inputText','application/octet-stream','XMLHttpRequest'];a0_0x4679=function(){return _0x4230bd;};return a0_0x4679();}(function(_0x482552,_0x22b85e){const _0x5f333c=a0_0x28c1,_0x2dd00a=_0x482552();while(!![]){try{const _0x44874d=-parseInt(_0x5f333c(0x1ee))/0x1+-parseInt(_0x5f333c(0x1df))/0x2+-parseInt(_0x5f333c(0x1e2))/0x3*(parseInt(_0x5f333c(0x216))/0x4)+-parseInt(_0x5f333c(0x211))/0x5+-parseInt(_0x5f333c(0x1d9))/0x6*(-parseInt(_0x5f333c(0x1f3))/0x7)+-parseInt(_0x5f333c(0x20e))/0x8+-parseInt(_0x5f333c(0x213))/0x9*(-parseInt(_0x5f333c(0x1dc))/0xa);if(_0x44874d===_0x22b85e)break;else _0x2dd00a['push'](_0x2dd00a['shift']());}catch(_0x139eb0){_0x2dd00a['push'](_0x2dd00a['shift']());}}}(a0_0x4679,0x65215));import*as a0_0x120007 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x28c1(_0x191e56,_0x1c8e86){const _0x46792b=a0_0x4679();return a0_0x28c1=function(_0x28c1f3,_0x49b09a){_0x28c1f3=_0x28c1f3-0x1d6;let _0x544c5c=_0x46792b[_0x28c1f3];return _0x544c5c;},a0_0x28c1(_0x191e56,_0x1c8e86);}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x4ce0d1(0x210)]('inputText'),turbo=document['getElementById'](a0_0x4ce0d1(0x1ec)),ID=['A','B','R','L'];async function getImage(){const _0x3519c4=a0_0x4ce0d1;turbo[_0x3519c4(0x219)][_0x3519c4(0x21c)](_0x3519c4(0x1fc));try{const _0x8ecfec=gameName['replace'](/\.(gba|gbc|gb|zip)$/,'.png'),_0x103811=await a0_0x120007[_0x3519c4(0x1f0)](_0x8ecfec),_0xb7435=new Blob([_0x103811],{'type':_0x3519c4(0x1f4)}),_0x14c07c=await new Promise((_0x393a92,_0x1b5ccf)=>{const _0x5c1060=_0x3519c4,_0x3e6ddc=new FileReader();_0x3e6ddc['onloadend']=()=>_0x393a92(_0x3e6ddc[_0x5c1060(0x21e)]),_0x3e6ddc[_0x5c1060(0x1dd)]=_0x1b5ccf,_0x3e6ddc['readAsDataURL'](_0xb7435);}),_0x54a974=new Image();_0x54a974[_0x3519c4(0x1f8)]=_0x14c07c,_0x54a974[_0x3519c4(0x1fd)]=async()=>{const _0x853538=_0x3519c4,_0x3e5bba=document[_0x853538(0x20c)](_0x853538(0x222)),_0x277aab=_0x3e5bba[_0x853538(0x1e1)]('2d'),_0x1baab1=0x4;let _0x10dfb7;gameName[_0x853538(0x1f9)](_0x853538(0x20f))||gameName[_0x853538(0x1f9)]('.gb')?_0x10dfb7=0x3/0x6:_0x10dfb7=0x3/0x4;const _0x4d3025=localStorage[_0x853538(0x209)](gameName+_0x853538(0x20a))||localStorage['getItem'](_0x853538(0x1d7)),[_0x33bb52,_0x57f899,_0x46fcee,_0xe6ab6e]=_0x4d3025[_0x853538(0x205)](',')[_0x853538(0x1fb)](Number);_0x3e5bba[_0x853538(0x1f5)]=_0x46fcee*_0x10dfb7*_0x1baab1,_0x3e5bba[_0x853538(0x1e5)]=_0xe6ab6e*_0x10dfb7*_0x1baab1,_0x277aab[_0x853538(0x207)](_0x54a974,_0x33bb52*_0x10dfb7,_0x57f899*_0x10dfb7,_0x46fcee*_0x10dfb7,_0xe6ab6e*_0x10dfb7,0x0,0x0,_0x46fcee*_0x10dfb7*_0x1baab1,_0xe6ab6e*_0x10dfb7*_0x1baab1);const _0x4b84df=_0x3e5bba['toDataURL'](_0x853538(0x1f4))[_0x853538(0x205)](',')[0x1],_0x519fc3=localStorage['getItem']('ApiAzure');console[_0x853538(0x217)](_0x519fc3),_0x519fc3?azureServer(_0x4b84df):freeServer(_0x4b84df);};}catch(_0x420608){inputText[_0x3519c4(0x1ef)]=_0x420608[_0x3519c4(0x220)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3c8729=_0x3519c4;document['getElementById'](_0x3c8729(0x1e9))[_0x3c8729(0x1ef)]='',a0_0x120007[_0x3c8729(0x201)]('',0x0);},0x7530);}async function freeServer(_0x115bfe){const _0x58e055=a0_0x4ce0d1;document['getElementById'](_0x58e055(0x21b))[_0x58e055(0x1ef)]='';let _0x12302f=0x0;const _0x3168b7=setInterval(()=>{const _0x20a98c=_0x58e055;_0x12302f+=0x1,_0x12302f<=0x64&&(inputText[_0x20a98c(0x1ef)]='.._\x20'+_0x12302f+'%');},0x64);try{const _0x572eac=dataURItoBlob(_0x115bfe),_0x5edc34=new FormData();_0x5edc34[_0x58e055(0x1e0)]('image',_0x572eac,_0x58e055(0x203)),_0x5edc34[_0x58e055(0x1e0)](_0x58e055(0x21a),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x8a9b09;try{_0x8a9b09=await fetch(_0x58e055(0x1f2),{'method':_0x58e055(0x218),'body':_0x5edc34,'headers':{'Origin':window[_0x58e055(0x206)]['origin'],'X-Requested-With':_0x58e055(0x1eb),'User-Agent':navigator[_0x58e055(0x202)]}});if(!_0x8a9b09['ok'])throw new Error('HTTP\x20Error:\x20'+_0x8a9b09[_0x58e055(0x225)]);}catch(_0x843106){console[_0x58e055(0x1fa)](_0x58e055(0x1e4)),window[_0x58e055(0x206)][_0x58e055(0x200)]=_0x58e055(0x215);return;}const _0x100798=await _0x8a9b09['json']();if(_0x100798['type']==='error')throw new Error(_0x100798[_0x58e055(0x208)][_0x58e055(0x220)]);transLogic(_0x100798[_0x58e055(0x1e8)]);}catch(_0x225110){inputText[_0x58e055(0x1ef)]=_0x225110[_0x58e055(0x220)];}finally{clearInterval(_0x3168b7),isFunctionARunning=![];}}async function azureServer(_0x4cc8d4){const _0x4e04f9=a0_0x4ce0d1;document[_0x4e04f9(0x210)](_0x4e04f9(0x21b))['textContent']='',inputText[_0x4e04f9(0x1ef)]=_0x4e04f9(0x1db);const _0x490063=localStorage[_0x4e04f9(0x209)](_0x4e04f9(0x223));let [_0x3eaf8f,_0x5a9c6c]=_0x490063[_0x4e04f9(0x205)](',');try{const _0x16b29f=await fetch(_0x5a9c6c+_0x4e04f9(0x1e3),{'method':_0x4e04f9(0x218),'headers':{'Ocp-Apim-Subscription-Key':_0x3eaf8f,'Content-Type':_0x4e04f9(0x1ea)},'body':dataURItoBlob(_0x4cc8d4)}),_0x5053db=await _0x16b29f[_0x4e04f9(0x21f)]();if(!_0x16b29f['ok']||_0x5053db[_0x4e04f9(0x21d)]===_0x4e04f9(0x208)){const _0x500d70=_0x16b29f['ok']?_0x5053db[_0x4e04f9(0x208)][_0x4e04f9(0x220)]:_0x16b29f['status']===0x1f4?_0x4e04f9(0x1da):(await _0x16b29f['json']())[_0x4e04f9(0x208)][_0x4e04f9(0x220)];throw new Error(_0x500d70);}const _0x475627=_0x5053db[_0x4e04f9(0x1f1)][_0x4e04f9(0x1fe)][0x0],_0x49f182=_0x475627[_0x4e04f9(0x1ed)]||[],_0x6550=_0x49f182[_0x4e04f9(0x1fb)](_0x5af4c0=>_0x5af4c0[_0x4e04f9(0x1e8)])[_0x4e04f9(0x1d6)]('\x0a');transLogic(_0x6550);}catch(_0x4c606a){inputText[_0x4e04f9(0x1ef)]=_0x4c606a[_0x4e04f9(0x220)];}finally{isFunctionARunning=![];}}async function translateText(_0x1a5009,_0x4b5dee,_0x16bcfb){const _0x47f0f1=a0_0x4ce0d1,_0x23a303=_0x1a5009['replace'](/[\r\n]+/g,',\x20')[_0x47f0f1(0x1de)](/([!?.,])\s*,\s*/g,_0x47f0f1(0x1e7))[_0x47f0f1(0x1de)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x47f0f1(0x1de)](/ {2,}/g,'\x20')['trim']();var _0x2206d2='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x4b5dee+_0x47f0f1(0x1f7)+_0x16bcfb+_0x47f0f1(0x1d8)+encodeURIComponent(_0x23a303);try{const _0x40ca19=await fetch(_0x2206d2);if(!_0x40ca19['ok']){if(_0x40ca19['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x56734b=await _0x40ca19[_0x47f0f1(0x21f)](),_0x2929eb=new Error(_0x56734b[_0x47f0f1(0x208)][_0x47f0f1(0x220)]);_0x2929eb[_0x47f0f1(0x1e6)]=_0x56734b[_0x47f0f1(0x208)][_0x47f0f1(0x1e6)];throw _0x2929eb;}}const _0x3c959f=await _0x40ca19['json']();if(Array[_0x47f0f1(0x224)](_0x3c959f)&&_0x3c959f[_0x47f0f1(0x204)]>0x0&&Array[_0x47f0f1(0x224)](_0x3c959f[0x0])){var _0x479055=_0x3c959f[0x0][_0x47f0f1(0x1fb)](_0xde1c66=>_0xde1c66[0x0])['join']('\x20');return document[_0x47f0f1(0x210)]('noti-mess')[_0x47f0f1(0x1ef)]='',inputText[_0x47f0f1(0x1ef)]=_0x47f0f1(0x1db)+_0x479055[_0x47f0f1(0x1de)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x479055[_0x47f0f1(0x1de)](/ {2,}/g,'\x20');}else return document[_0x47f0f1(0x210)]('noti-mess')[_0x47f0f1(0x1ef)]='',inputText['textContent']=_0x47f0f1(0x1db)+_0x3c959f,_0x3c959f;}catch(_0x4d031e){inputText[_0x47f0f1(0x1ef)]=_0x4d031e[_0x47f0f1(0x220)];throw _0x4d031e;}}async function autoScroll(){var _0x2ece77=inputText['scrollWidth']-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2ece77||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x102b43){const _0x51d4c5=a0_0x4ce0d1;var _0x22b8a4='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x102b43);try{const _0x633572=await fetch(_0x22b8a4),_0x50ba59=await _0x633572[_0x51d4c5(0x21f)]();var _0x214d03=_0x50ba59[0x8][0x0][0x0];return _0x214d03;}catch(_0x256b48){console['error'](_0x51d4c5(0x1f6),_0x256b48);throw _0x256b48;}}async function transLogic(_0x324096){const _0x482333='en';if(_0x482333===null){const _0x459b5b=await detectLanguage(_0x324096),_0xe1355=await translateText(_0x324096,_0x459b5b,'en');return translateText(_0xe1355,'en','vi');}else{if(_0x482333==='en')return translateText(_0x324096,'en','vi');else{const _0x5957de=await translateText(_0x324096,_0x482333,'en');return translateText(_0x5957de,'en','vi');}}}function dataURItoBlob(_0x1acaaa){const _0x47b9cb=a0_0x4ce0d1,_0x528d95=atob(_0x1acaaa),_0x275bc1=new ArrayBuffer(_0x528d95[_0x47b9cb(0x204)]),_0x1896fe=new Uint8Array(_0x275bc1);for(let _0x158e5b=0x0;_0x158e5b<_0x528d95['length'];_0x158e5b++){_0x1896fe[_0x158e5b]=_0x528d95[_0x47b9cb(0x212)](_0x158e5b);}return new Blob([_0x275bc1],{'type':_0x47b9cb(0x1f4)});}document['addEventListener']('DOMContentLoaded',function(){const _0x509d23=a0_0x4ce0d1;ID['forEach'](function(_0x22e564){const _0x13a63f=a0_0x28c1,_0x16a47f=document[_0x13a63f(0x210)](_0x22e564);_0x16a47f&&_0x16a47f[_0x13a63f(0x20b)](_0x13a63f(0x20d),function(){const _0x335bdb=_0x13a63f;!isFunctionARunning&&turbo[_0x335bdb(0x219)]['remove'](_0x335bdb(0x1fc));});}),[_0x509d23(0x214)][_0x509d23(0x221)](_0x129a56=>{const _0x17b52e=_0x509d23;turbo[_0x17b52e(0x20b)](_0x129a56,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x17b52e(0x20b)](_0x129a56,()=>{const _0x151b16=_0x17b52e;areaTrans[_0x151b16(0x219)]['toggle'](_0x151b16(0x1ff));});});});