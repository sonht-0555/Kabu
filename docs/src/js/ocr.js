const a0_0x2679d5=a0_0x2bfd;function a0_0x2bfd(_0x26aaa,_0x53997f){const _0x1ebf5f=a0_0x1ebf();return a0_0x2bfd=function(_0x2bfdd1,_0x5888e1){_0x2bfdd1=_0x2bfdd1-0xbc;let _0x574f7c=_0x1ebf5f[_0x2bfdd1];return _0x574f7c;},a0_0x2bfd(_0x26aaa,_0x53997f);}(function(_0x15b31b,_0x263793){const _0x256d10=a0_0x2bfd,_0x2eaa77=_0x15b31b();while(!![]){try{const _0xf3c727=-parseInt(_0x256d10(0xda))/0x1+-parseInt(_0x256d10(0x11a))/0x2*(parseInt(_0x256d10(0xd8))/0x3)+parseInt(_0x256d10(0xec))/0x4*(-parseInt(_0x256d10(0xf3))/0x5)+parseInt(_0x256d10(0xc1))/0x6*(parseInt(_0x256d10(0xe9))/0x7)+-parseInt(_0x256d10(0x10c))/0x8+parseInt(_0x256d10(0xe0))/0x9*(parseInt(_0x256d10(0xeb))/0xa)+parseInt(_0x256d10(0xf9))/0xb*(parseInt(_0x256d10(0xc4))/0xc);if(_0xf3c727===_0x263793)break;else _0x2eaa77['push'](_0x2eaa77['shift']());}catch(_0x249ed2){_0x2eaa77['push'](_0x2eaa77['shift']());}}}(a0_0x1ebf,0xcacbb));import*as a0_0x51a0bc from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x2679d5(0x113)](a0_0x2679d5(0xdd)),input=document[a0_0x2679d5(0x113)](a0_0x2679d5(0xe6)),turbo=document['getElementById'](a0_0x2679d5(0xe2)),ID=['A','B','R','L'];async function getImage(){const _0x28f140=a0_0x2679d5;turbo[_0x28f140(0xea)][_0x28f140(0x10d)]('turbo-ocr');try{const _0x36cd2f=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x28f140(0xd7)),_0x15b93c=await a0_0x51a0bc['captureOCR'](_0x36cd2f),_0x3b5960=new Blob([_0x15b93c],{'type':_0x28f140(0xce)}),_0x199104=await new Promise((_0x501d15,_0x393b49)=>{const _0x10f26f=_0x28f140,_0x2f9333=new FileReader();_0x2f9333[_0x10f26f(0xe3)]=()=>_0x501d15(_0x2f9333[_0x10f26f(0x100)]),_0x2f9333['onerror']=_0x393b49,_0x2f9333[_0x10f26f(0xc7)](_0x3b5960);}),_0x472640=new Image();_0x472640[_0x28f140(0x10a)]=_0x199104,_0x472640[_0x28f140(0xd6)]=()=>{const _0x259233=_0x28f140,_0x5adcb8=document['createElement']('canvas'),_0xb7f3bb=_0x5adcb8[_0x259233(0xd1)]('2d'),_0x5c23a6=0x4;let _0x52aa49;gameName[_0x259233(0xd9)](_0x259233(0xc0))||gameName[_0x259233(0xd9)]('.gb')?_0x52aa49=Math[_0x259233(0xcd)](0xa0/(window[_0x259233(0x101)]-0xe6)):_0x52aa49=Math['round'](0xf0/(window[_0x259233(0x101)]-0x96));const _0x42fd3f=localStorage[_0x259233(0x119)](gameName+_0x259233(0x10f))||localStorage['getItem'](_0x259233(0xf2)),[_0x1f3e44,_0x437962,_0x598736,_0x38d115]=_0x42fd3f[_0x259233(0xed)](',')[_0x259233(0xbd)](Number);_0x5adcb8[_0x259233(0xde)]=_0x598736*_0x52aa49*_0x5c23a6,_0x5adcb8[_0x259233(0xf0)]=_0x38d115*_0x52aa49*_0x5c23a6,_0xb7f3bb[_0x259233(0xcb)](_0x472640,_0x1f3e44*_0x52aa49,_0x437962*_0x52aa49,_0x598736*_0x52aa49,_0x38d115*_0x52aa49,0x0,0x0,_0x598736*_0x52aa49*_0x5c23a6,_0x38d115*_0x52aa49*_0x5c23a6);const _0x484932=_0x5adcb8[_0x259233(0x107)](_0x259233(0xce))[_0x259233(0xed)](',')[0x1],_0x3f84d8=localStorage['getItem'](_0x259233(0xc8));_0x3f84d8?azureServer(_0x484932):freeServer(_0x484932);};}catch(_0x4566af){inputText[_0x28f140(0x103)]=_0x4566af['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x984efd=_0x28f140;document[_0x984efd(0x113)](_0x984efd(0xdd))[_0x984efd(0x103)]=_0x984efd(0x102);},0x7530);}async function freeServer(_0x4d1405){const _0x14d864=a0_0x2679d5;let _0x367fcf=0x0;const _0x24d8df=setInterval(()=>{const _0x2b20b5=a0_0x2bfd;_0x367fcf+=0x1,_0x367fcf<=0x64&&(inputText[_0x2b20b5(0x103)]=_0x2b20b5(0xc9)+_0x367fcf+'%');},0x64);try{const _0x17756b=dataURItoBlob(_0x4d1405),_0x18a1df=new FormData();_0x18a1df['append']('image',_0x17756b,_0x14d864(0xe7)),_0x18a1df[_0x14d864(0x108)](_0x14d864(0xd5),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x3a11a4;try{_0x3a11a4=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':'POST','body':_0x18a1df,'headers':{'Origin':window['location'][_0x14d864(0xc3)],'X-Requested-With':_0x14d864(0xf8),'User-Agent':navigator[_0x14d864(0x10b)]}});if(!_0x3a11a4['ok'])throw new Error(_0x14d864(0xc2)+_0x3a11a4['status']);}catch(_0x274a77){console['warn'](_0x14d864(0x114)),window['location'][_0x14d864(0xf5)]=_0x14d864(0xbc);return;}const _0x1f1c75=await _0x3a11a4[_0x14d864(0xee)]();if(_0x1f1c75['type']===_0x14d864(0x104))throw new Error(_0x1f1c75[_0x14d864(0x104)][_0x14d864(0x10e)]);transLogic(_0x1f1c75[_0x14d864(0xca)]);}catch(_0x4b4b7c){inputText[_0x14d864(0x103)]=_0x4b4b7c['message'];}finally{clearInterval(_0x24d8df),isFunctionARunning=![];}}async function azureServer(_0x38b6b1){const _0x5a304a=a0_0x2679d5;inputText[_0x5a304a(0x103)]='...';const _0x2b9f74=localStorage[_0x5a304a(0x119)](_0x5a304a(0xc8));let [_0xac24b7,_0xf45fe4,_0xd31572]=_0x2b9f74[_0x5a304a(0xed)](',');_0xd31572=parseInt(_0xd31572);const _0x4f4b19=new Date(),_0x465a5a=_0x4f4b19[_0x5a304a(0xdb)](),_0x2171c4=_0x4f4b19[_0x5a304a(0xf6)](),_0x593765=localStorage[_0x5a304a(0x119)](_0x5a304a(0x105)),_0x1d3821=_0x593765?new Date(_0x593765):null;_0x1d3821&&(_0x465a5a!==_0x1d3821[_0x5a304a(0xdb)]()||_0x2171c4!==_0x1d3821[_0x5a304a(0xf6)]())&&(_0xd31572=0x0,localStorage[_0x5a304a(0xfb)]('lastSavedDate',_0x4f4b19[_0x5a304a(0x115)]()));if(_0xd31572>=0x1356){inputText[_0x5a304a(0x103)]=_0x5a304a(0x116);return;}try{const _0x5763b5=await fetch(_0xf45fe4+_0x5a304a(0xfe),{'method':_0x5a304a(0xc6),'headers':{'Ocp-Apim-Subscription-Key':_0xac24b7,'Content-Type':_0x5a304a(0xef)},'body':dataURItoBlob(_0x38b6b1)}),_0x15d177=await _0x5763b5['json']();if(!_0x5763b5['ok']||_0x15d177[_0x5a304a(0xdc)]===_0x5a304a(0x104)){const _0x26b247=_0x5763b5['ok']?_0x15d177[_0x5a304a(0x104)][_0x5a304a(0x10e)]:_0x5763b5[_0x5a304a(0xd4)]===0x1f4?_0x5a304a(0xfa):(await _0x5763b5[_0x5a304a(0xee)]())['error'][_0x5a304a(0x10e)];throw new Error(_0x26b247);}const _0x820e46=_0x15d177[_0x5a304a(0x109)][_0x5a304a(0xcf)][0x0],_0x5531e7=_0x820e46['lines']||[],_0x23df56=_0x5531e7[_0x5a304a(0xbd)](_0x30bede=>_0x30bede[_0x5a304a(0xca)])[_0x5a304a(0xe5)]('\x0a');transLogic(_0x23df56);}catch(_0xdb6615){inputText[_0x5a304a(0x103)]=_0xdb6615[_0x5a304a(0x10e)];const _0x2d1f6b=++_0xd31572;a0_0x51a0bc[_0x5a304a(0xe8)]('['+_0x2d1f6b+_0x5a304a(0xf4),0x7d0),localStorage['setItem'](_0x5a304a(0xc8),_0xac24b7+','+_0xf45fe4+','+_0x2d1f6b),localStorage[_0x5a304a(0xfb)](_0x5a304a(0x105),_0x4f4b19[_0x5a304a(0x115)]());}finally{const _0x34a33c=++_0xd31572;a0_0x51a0bc[_0x5a304a(0xe8)]('['+_0x34a33c+_0x5a304a(0xf4),0x7d0),isFunctionARunning=![],localStorage['setItem'](_0x5a304a(0xc8),_0xac24b7+','+_0xf45fe4+','+_0x34a33c),localStorage[_0x5a304a(0xfb)](_0x5a304a(0x105),_0x4f4b19[_0x5a304a(0x115)]());}}async function translateText(_0x326daf,_0x33cc8a,_0xaba5d){const _0x1f0f30=a0_0x2679d5,_0x5df49e=_0x326daf['replace'](/[\r\n]+/g,',\x20')[_0x1f0f30(0xff)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x1f0f30(0xff)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x1f0f30(0xff)](/ {2,}/g,'\x20')[_0x1f0f30(0xcc)]();var _0x4c5c5f='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x33cc8a+'&tl='+_0xaba5d+'&dt=t&q='+encodeURIComponent(_0x5df49e);try{const _0x544155=await fetch(_0x4c5c5f);if(!_0x544155['ok']){if(_0x544155[_0x1f0f30(0xd4)]===0x1f4)throw new Error(_0x1f0f30(0xd3));else{const _0x143215=await _0x544155[_0x1f0f30(0xee)](),_0x2c01d2=new Error(_0x143215[_0x1f0f30(0x104)][_0x1f0f30(0x10e)]);_0x2c01d2[_0x1f0f30(0xfd)]=_0x143215[_0x1f0f30(0x104)][_0x1f0f30(0xfd)];throw _0x2c01d2;}}const _0x20057e=await _0x544155[_0x1f0f30(0xee)]();if(Array[_0x1f0f30(0xbe)](_0x20057e)&&_0x20057e['length']>0x0&&Array[_0x1f0f30(0xbe)](_0x20057e[0x0])){var _0x4db195=_0x20057e[0x0][_0x1f0f30(0xbd)](_0x3d0a06=>_0x3d0a06[0x0])['join']('\x20');return inputText[_0x1f0f30(0x103)]=_0x4db195[_0x1f0f30(0xff)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4db195[_0x1f0f30(0xff)](/ {2,}/g,'\x20');}else return inputText[_0x1f0f30(0x103)]=_0x20057e,_0x20057e;}catch(_0x2a2a0e){inputText[_0x1f0f30(0x103)]=_0x2a2a0e['message'];throw _0x2a2a0e;}}async function autoScroll(){const _0x5e499c=a0_0x2679d5;var _0x30e781=inputText[_0x5e499c(0xd0)]-inputText[_0x5e499c(0x117)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x30e781||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x5e499c(0xf1)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x5e8a5f){const _0x3cb135=a0_0x2679d5;var _0x4b37eb=_0x3cb135(0xbf)+encodeURIComponent(_0x5e8a5f);try{const _0x4325f3=await fetch(_0x4b37eb),_0xa8653f=await _0x4325f3[_0x3cb135(0xee)]();var _0x43560f=_0xa8653f[0x8][0x0][0x0];return _0x43560f;}catch(_0x1f8a52){console[_0x3cb135(0x104)]('Error\x20detecting\x20language:',_0x1f8a52);throw _0x1f8a52;}}async function transLogic(_0x50fd6e){const _0x558586='en';if(_0x558586===null){const _0x466be5=await detectLanguage(_0x50fd6e),_0x4420cd=await translateText(_0x50fd6e,_0x466be5,'en');return translateText(_0x4420cd,'en','vi');}else{if(_0x558586==='en')return translateText(_0x50fd6e,'en','vi');else{const _0x21fe6b=await translateText(_0x50fd6e,_0x558586,'en');return translateText(_0x21fe6b,'en','vi');}}}function dataURItoBlob(_0x4c2a69){const _0x36cefd=a0_0x2679d5,_0x3b9baa=atob(_0x4c2a69),_0x4adf64=new ArrayBuffer(_0x3b9baa[_0x36cefd(0xdf)]),_0x38aec4=new Uint8Array(_0x4adf64);for(let _0x49e174=0x0;_0x49e174<_0x3b9baa[_0x36cefd(0xdf)];_0x49e174++){_0x38aec4[_0x49e174]=_0x3b9baa['charCodeAt'](_0x49e174);}return new Blob([_0x4adf64],{'type':_0x36cefd(0xce)});}function logoOcr(){const _0x200a82=a0_0x2679d5;var _0xb1d633=Math['floor'](Math[_0x200a82(0xe1)]()*0x3)+0x1,_0x45a2bc=-0xf*_0xb1d633+'px';document['getElementById'](_0x200a82(0x106))[_0x200a82(0x112)][_0x200a82(0x118)]=_0x45a2bc;}document['addEventListener'](a0_0x2679d5(0xe4),function(){const _0x3c71a1=a0_0x2679d5;ID['forEach'](function(_0x4da89){const _0x111e9b=a0_0x2bfd,_0x166731=document['getElementById'](_0x4da89);_0x166731&&_0x166731[_0x111e9b(0xd2)](_0x111e9b(0xfc),function(){const _0x3c257e=_0x111e9b;!isFunctionARunning&&turbo[_0x3c257e(0xea)][_0x3c257e(0x110)](_0x3c257e(0xc5));});}),[_0x3c71a1(0xf7)]['forEach'](_0x185ee1=>{const _0x5e4302=_0x3c71a1;turbo[_0x5e4302(0xd2)](_0x185ee1,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x5e4302(0xd2)](_0x185ee1,()=>{const _0x47e6f1=_0x5e4302;areaTrans[_0x47e6f1(0xea)][_0x47e6f1(0x111)]('visible');});});});function a0_0x1ebf(){const _0x150baf=['image/png','blocks','scrollWidth','getContext','addEventListener','Internal\x20Server\x20Error','status','user','onload','.png','9xSeMjQ','endsWith','968431kmkqtU','getMonth','type','inputText','width','length','1179VhutOF','random','turbo','onloadend','DOMContentLoaded','join','input-container','image.png','notiMessage','49378FGxsqo','classList','76060eqjJLo','730748rOMgTW','split','json','application/octet-stream','height','scrollLeft','screenSize','5yWWLgF',']\x20Times\x20Azure','href','getFullYear','touchend','XMLHttpRequest','3459962uOWRDX','500\x20Internal\x20Server\x20Error','setItem','touchstart','code','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','replace','result','innerWidth','...','textContent','error','lastSavedDate','logoOcr','toDataURL','append','readResult','src','userAgent','6036464PxmMls','add','message','_setArea','remove','toggle','style','getElementById','Cors-controlers\x20have\x20not\x20been\x20activated.','toISOString','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','clientWidth','backgroundPositionX','getItem','335266iLRzkz','https://cors-anywhere.herokuapp.com/corsdemo','map','isArray','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','.gbc','570edaVnl','HTTP\x20Error:\x20','origin','60gTtvGj','turbo-ocr','POST','readAsDataURL','ApiAzure','Waiting..','text','drawImage','trim','round'];a0_0x1ebf=function(){return _0x150baf;};return a0_0x1ebf();}