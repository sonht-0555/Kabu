const a0_0x5d0e92=a0_0x42e1;(function(_0x1ca8c1,_0x31112c){const _0x4ebdfb=a0_0x42e1,_0x1c69b8=_0x1ca8c1();while(!![]){try{const _0x32287d=parseInt(_0x4ebdfb(0x20d))/0x1+-parseInt(_0x4ebdfb(0x202))/0x2+-parseInt(_0x4ebdfb(0x209))/0x3*(-parseInt(_0x4ebdfb(0x231))/0x4)+-parseInt(_0x4ebdfb(0x1f2))/0x5*(parseInt(_0x4ebdfb(0x220))/0x6)+parseInt(_0x4ebdfb(0x224))/0x7*(-parseInt(_0x4ebdfb(0x1f3))/0x8)+parseInt(_0x4ebdfb(0x225))/0x9*(-parseInt(_0x4ebdfb(0x1e5))/0xa)+parseInt(_0x4ebdfb(0x1ff))/0xb;if(_0x32287d===_0x31112c)break;else _0x1c69b8['push'](_0x1c69b8['shift']());}catch(_0x1d5ad){_0x1c69b8['push'](_0x1c69b8['shift']());}}}(a0_0x23b5,0x80008));import*as a0_0x43de6e from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x23b5(){const _0x17b7aa=['scrollLeft','add','map','readResult','createElement','20062790jGaEAT','trim','touchstart','1355432QRPVcs','getItem','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','isArray','screenSize','classList','Cors-controlers\x20have\x20not\x20been\x20activated.','6GgxYtw','Error\x20detecting\x20language:','onerror','charCodeAt','49324BKTdff','split','warn','HTTP\x20Error:\x20','onloadend','append','length','getElementById','XMLHttpRequest','DOMContentLoaded','readAsDataURL','location','inputText','height','error','join','code','user','replace','21228Vpqnps','userAgent','turbo-ocr','drawImage','7KpsYIr','1503khvImN','.png','type','image','onload','notiMessage','origin','toDataURL','image/png','Internal\x20Server\x20Error','&tl=','result','603868MFkHzg','getContext','turbo','lines','application/octet-stream','message','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','visible','.gb','src','remove','11950qoKNdM','&dt=t&q=','textContent','width','ApiAzure','noti-mess','toggle','endsWith','status','href','forEach','https://cors-anywhere.herokuapp.com/corsdemo','.gbc','655kuHOYk','2480744xAwIOI','log','clientWidth','json','500\x20Internal\x20Server\x20Error','.._\x20','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text'];a0_0x23b5=function(){return _0x17b7aa;};return a0_0x23b5();}const inputText=document[a0_0x5d0e92(0x214)](a0_0x5d0e92(0x219)),turbo=document[a0_0x5d0e92(0x214)](a0_0x5d0e92(0x1dc)),ID=['A','B','R','L'];function a0_0x42e1(_0x3ef4a5,_0x5d9c32){const _0x23b5fe=a0_0x23b5();return a0_0x42e1=function(_0x42e1a0,_0x1794f0){_0x42e1a0=_0x42e1a0-0x1dc;let _0x95684f=_0x23b5fe[_0x42e1a0];return _0x95684f;},a0_0x42e1(_0x3ef4a5,_0x5d9c32);}async function getImage(){const _0x40a4cb=a0_0x5d0e92;turbo[_0x40a4cb(0x207)][_0x40a4cb(0x1fb)](_0x40a4cb(0x222));try{const _0x1e33f5=gameName[_0x40a4cb(0x21f)](/\.(gba|gbc|gb|zip)$/,_0x40a4cb(0x226)),_0x39e9e8=await a0_0x43de6e['captureOCR'](_0x1e33f5),_0x117afc=new Blob([_0x39e9e8],{'type':_0x40a4cb(0x22d)}),_0x261219=await new Promise((_0x5539ad,_0x10596c)=>{const _0x4c7c25=_0x40a4cb,_0x316320=new FileReader();_0x316320[_0x4c7c25(0x211)]=()=>_0x5539ad(_0x316320[_0x4c7c25(0x230)]),_0x316320[_0x4c7c25(0x20b)]=_0x10596c,_0x316320[_0x4c7c25(0x217)](_0x117afc);}),_0x31905c=new Image();_0x31905c[_0x40a4cb(0x1e3)]=_0x261219,_0x31905c[_0x40a4cb(0x229)]=async()=>{const _0x2e89e9=_0x40a4cb,_0x45db8d=document[_0x2e89e9(0x1fe)]('canvas'),_0x5020dc=_0x45db8d[_0x2e89e9(0x232)]('2d'),_0x4f5ec1=0x4;let _0x5d6aef;gameName['endsWith'](_0x2e89e9(0x1f1))||gameName[_0x2e89e9(0x1ec)](_0x2e89e9(0x1e2))?_0x5d6aef=0x3/0x6:_0x5d6aef=0x3/0x4;const _0xf1adb7=localStorage[_0x2e89e9(0x203)](gameName+'_setArea')||localStorage[_0x2e89e9(0x203)](_0x2e89e9(0x206)),[_0x433dfc,_0x30dcee,_0x30d1ba,_0x314f33]=_0xf1adb7[_0x2e89e9(0x20e)](',')[_0x2e89e9(0x1fc)](Number);_0x45db8d[_0x2e89e9(0x1e8)]=_0x30d1ba*_0x5d6aef*_0x4f5ec1,_0x45db8d[_0x2e89e9(0x21a)]=_0x314f33*_0x5d6aef*_0x4f5ec1,_0x5020dc[_0x2e89e9(0x223)](_0x31905c,_0x433dfc*_0x5d6aef,_0x30dcee*_0x5d6aef,_0x30d1ba*_0x5d6aef,_0x314f33*_0x5d6aef,0x0,0x0,_0x30d1ba*_0x5d6aef*_0x4f5ec1,_0x314f33*_0x5d6aef*_0x4f5ec1);const _0x47f65f=_0x45db8d[_0x2e89e9(0x22c)](_0x2e89e9(0x22d))[_0x2e89e9(0x20e)](',')[0x1],_0x421936=localStorage[_0x2e89e9(0x203)]('ApiAzure');console[_0x2e89e9(0x1f4)](_0x421936),_0x421936?azureServer(_0x47f65f):freeServer(_0x47f65f);};}catch(_0x270207){inputText[_0x40a4cb(0x1e7)]=_0x270207['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x5748a1=_0x40a4cb;document['getElementById'](_0x5748a1(0x219))[_0x5748a1(0x1e7)]='',a0_0x43de6e[_0x5748a1(0x22a)]('',0x0);},0x7530);}async function freeServer(_0x16cd74){const _0x22f2f3=a0_0x5d0e92;document['getElementById'](_0x22f2f3(0x1ea))[_0x22f2f3(0x1e7)]='';let _0x3f4ed8=0x0;const _0xf12568=setInterval(()=>{const _0x3f999a=_0x22f2f3;_0x3f4ed8+=0x1,_0x3f4ed8<=0x64&&(inputText[_0x3f999a(0x1e7)]=_0x3f999a(0x1f8)+_0x3f4ed8+'%');},0x64);try{const _0x165c17=dataURItoBlob(_0x16cd74),_0x4fb6fd=new FormData();_0x4fb6fd[_0x22f2f3(0x212)](_0x22f2f3(0x228),_0x165c17,'image.png'),_0x4fb6fd[_0x22f2f3(0x212)](_0x22f2f3(0x21e),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x1448bf;try{_0x1448bf=await fetch(_0x22f2f3(0x1f9),{'method':'POST','body':_0x4fb6fd,'headers':{'Origin':window[_0x22f2f3(0x218)][_0x22f2f3(0x22b)],'X-Requested-With':_0x22f2f3(0x215),'User-Agent':navigator[_0x22f2f3(0x221)]}});if(!_0x1448bf['ok'])throw new Error(_0x22f2f3(0x210)+_0x1448bf[_0x22f2f3(0x1ed)]);}catch(_0x32fbab){console[_0x22f2f3(0x20f)](_0x22f2f3(0x208)),window['location'][_0x22f2f3(0x1ee)]=_0x22f2f3(0x1f0);return;}const _0x4e823c=await _0x1448bf[_0x22f2f3(0x1f6)]();if(_0x4e823c[_0x22f2f3(0x227)]==='error')throw new Error(_0x4e823c[_0x22f2f3(0x21b)][_0x22f2f3(0x1df)]);transLogic(_0x4e823c['text']);}catch(_0x5309f5){inputText[_0x22f2f3(0x1e7)]=_0x5309f5['message'];}finally{clearInterval(_0xf12568),isFunctionARunning=![];}}async function azureServer(_0x3d938e){const _0x1f5221=a0_0x5d0e92;document[_0x1f5221(0x214)](_0x1f5221(0x1ea))[_0x1f5221(0x1e7)]='',inputText[_0x1f5221(0x1e7)]=_0x1f5221(0x1f8);const _0x33f6bf=localStorage[_0x1f5221(0x203)](_0x1f5221(0x1e9));let [_0x103049,_0x2f096e]=_0x33f6bf[_0x1f5221(0x20e)](',');try{const _0x1a4928=await fetch(_0x2f096e+_0x1f5221(0x1e0),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x103049,'Content-Type':_0x1f5221(0x1de)},'body':dataURItoBlob(_0x3d938e)}),_0x5eb9d4=await _0x1a4928[_0x1f5221(0x1f6)]();if(!_0x1a4928['ok']||_0x5eb9d4[_0x1f5221(0x227)]===_0x1f5221(0x21b)){const _0x1ab79f=_0x1a4928['ok']?_0x5eb9d4['error'][_0x1f5221(0x1df)]:_0x1a4928[_0x1f5221(0x1ed)]===0x1f4?_0x1f5221(0x1f7):(await _0x1a4928[_0x1f5221(0x1f6)]())[_0x1f5221(0x21b)]['message'];throw new Error(_0x1ab79f);}const _0x30ee58=_0x5eb9d4[_0x1f5221(0x1fd)]['blocks'][0x0],_0x227a11=_0x30ee58[_0x1f5221(0x1dd)]||[],_0x5658d3=_0x227a11[_0x1f5221(0x1fc)](_0xe43dd6=>_0xe43dd6['text'])[_0x1f5221(0x21c)]('\x0a');transLogic(_0x5658d3);}catch(_0x180fa5){inputText[_0x1f5221(0x1e7)]=_0x180fa5[_0x1f5221(0x1df)];}finally{isFunctionARunning=![];}}async function translateText(_0x24541c,_0x29f409,_0x40984c){const _0x1a3d06=a0_0x5d0e92,_0x299c34=_0x24541c[_0x1a3d06(0x21f)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x1a3d06(0x21f)](/ {2,}/g,'\x20')[_0x1a3d06(0x200)]();var _0xd00835=_0x1a3d06(0x204)+_0x29f409+_0x1a3d06(0x22f)+_0x40984c+_0x1a3d06(0x1e6)+encodeURIComponent(_0x299c34);try{const _0x4b49c6=await fetch(_0xd00835);if(!_0x4b49c6['ok']){if(_0x4b49c6[_0x1a3d06(0x1ed)]===0x1f4)throw new Error(_0x1a3d06(0x22e));else{const _0x4b6b9e=await _0x4b49c6['json'](),_0x1c499d=new Error(_0x4b6b9e[_0x1a3d06(0x21b)][_0x1a3d06(0x1df)]);_0x1c499d[_0x1a3d06(0x21d)]=_0x4b6b9e[_0x1a3d06(0x21b)][_0x1a3d06(0x21d)];throw _0x1c499d;}}const _0x2352be=await _0x4b49c6[_0x1a3d06(0x1f6)]();if(Array['isArray'](_0x2352be)&&_0x2352be['length']>0x0&&Array[_0x1a3d06(0x205)](_0x2352be[0x0])){var _0xa70814=_0x2352be[0x0][_0x1a3d06(0x1fc)](_0x482ab1=>_0x482ab1[0x0])[_0x1a3d06(0x21c)]('\x20');return document[_0x1a3d06(0x214)](_0x1a3d06(0x1ea))[_0x1a3d06(0x1e7)]='',inputText['textContent']=_0x1a3d06(0x1f8)+_0xa70814[_0x1a3d06(0x21f)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0xa70814['replace'](/ {2,}/g,'\x20');}else return document[_0x1a3d06(0x214)](_0x1a3d06(0x1ea))[_0x1a3d06(0x1e7)]='',inputText['textContent']=_0x1a3d06(0x1f8)+_0x2352be,_0x2352be;}catch(_0x1568cb){inputText[_0x1a3d06(0x1e7)]=_0x1568cb['message'];throw _0x1568cb;}}async function autoScroll(){const _0x1989ed=a0_0x5d0e92;var _0x129c2a=inputText['scrollWidth']-inputText[_0x1989ed(0x1f5)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x129c2a||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x1989ed(0x1fa)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x2faddb){const _0x5e29d0=a0_0x5d0e92;var _0x54d53e='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x2faddb);try{const _0x4424fe=await fetch(_0x54d53e),_0x181846=await _0x4424fe[_0x5e29d0(0x1f6)]();var _0x3aafee=_0x181846[0x8][0x0][0x0];return _0x3aafee;}catch(_0x3f5149){console['error'](_0x5e29d0(0x20a),_0x3f5149);throw _0x3f5149;}}async function transLogic(_0x43e8c2){const _0x2b34fd='en';if(_0x2b34fd===null){const _0x350eb7=await detectLanguage(_0x43e8c2),_0x509547=await translateText(_0x43e8c2,_0x350eb7,'en');return translateText(_0x509547,'en','vi');}else{if(_0x2b34fd==='en')return translateText(_0x43e8c2,'en','vi');else{const _0x308515=await translateText(_0x43e8c2,_0x2b34fd,'en');return translateText(_0x308515,'en','vi');}}}function dataURItoBlob(_0x4d5725){const _0x572cf4=a0_0x5d0e92,_0x240ea0=atob(_0x4d5725),_0x40a259=new ArrayBuffer(_0x240ea0[_0x572cf4(0x213)]),_0x3e2497=new Uint8Array(_0x40a259);for(let _0x1ea842=0x0;_0x1ea842<_0x240ea0['length'];_0x1ea842++){_0x3e2497[_0x1ea842]=_0x240ea0[_0x572cf4(0x20c)](_0x1ea842);}return new Blob([_0x40a259],{'type':'image/png'});}document['addEventListener'](a0_0x5d0e92(0x216),function(){const _0x5adeac=a0_0x5d0e92;ID[_0x5adeac(0x1ef)](function(_0x2cc7df){const _0x43a353=_0x5adeac,_0x4176e6=document[_0x43a353(0x214)](_0x2cc7df);_0x4176e6&&_0x4176e6['addEventListener'](_0x43a353(0x201),function(){const _0x25a811=_0x43a353;!isFunctionARunning&&turbo[_0x25a811(0x207)][_0x25a811(0x1e4)](_0x25a811(0x222));});}),['touchend']['forEach'](_0xa40e6b=>{turbo['addEventListener'](_0xa40e6b,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0xa40e6b,()=>{const _0x161a60=a0_0x42e1;areaTrans[_0x161a60(0x207)][_0x161a60(0x1eb)](_0x161a60(0x1e1));});});});