const a0_0x3f9689=a0_0x31e5;(function(_0x1f0fa5,_0x15ca4c){const _0x183031=a0_0x31e5,_0x2afb2a=_0x1f0fa5();while(!![]){try{const _0x148c7f=-parseInt(_0x183031(0x17e))/0x1+-parseInt(_0x183031(0x192))/0x2*(-parseInt(_0x183031(0x176))/0x3)+parseInt(_0x183031(0x183))/0x4+parseInt(_0x183031(0x15f))/0x5+-parseInt(_0x183031(0x150))/0x6*(parseInt(_0x183031(0x188))/0x7)+parseInt(_0x183031(0x16a))/0x8+parseInt(_0x183031(0x14c))/0x9;if(_0x148c7f===_0x15ca4c)break;else _0x2afb2a['push'](_0x2afb2a['shift']());}catch(_0x2ccea2){_0x2afb2a['push'](_0x2afb2a['shift']());}}}(a0_0x72f0,0xdcdd5));function a0_0x72f0(){const _0x2706e0=['json','addEventListener','500\x20Internal\x20Server\x20Error','endsWith','39010UolncH','drawImage','src','length','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','&dt=t&q=','inputText','lines','href','16607547qAdgeI','image.png','clientWidth','Cors-controlers\x20have\x20not\x20been\x20activated.','1132146DpubJa','result','HTTP\x20Error:\x20','canvas','Error\x20detecting\x20language:','replace','.gbc','createElement','classList','XMLHttpRequest','type','ApiAzure','turbo-ocr','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','width','666410CEEDvG','getElementById','visible','status','getItem','.._\x20','location','origin','split','forEach','screenSize','3695728ZjJwtq','POST','join','code','image/png','warn','scrollWidth','captureOCR','touchstart','https://cors-anywhere.herokuapp.com/corsdemo','add','image','39uceZQR','$1\x20','append','readAsDataURL','turbo','log','text','readResult','1284633wdZadk','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','scrollLeft','.png','onload','4773668tNvQwo','textContent','trim','noti-mess','error','63rYSSCP','isArray','map','&tl=','message','user'];a0_0x72f0=function(){return _0x2706e0;};return a0_0x72f0();}import*as a0_0x6037f7 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x31e5(_0x333258,_0x5a0481){const _0x72f0ae=a0_0x72f0();return a0_0x31e5=function(_0x31e5dd,_0x48dd36){_0x31e5dd=_0x31e5dd-0x14c;let _0x10f3d9=_0x72f0ae[_0x31e5dd];return _0x10f3d9;},a0_0x31e5(_0x333258,_0x5a0481);}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x3f9689(0x160)](a0_0x3f9689(0x198)),turbo=document[a0_0x3f9689(0x160)](a0_0x3f9689(0x17a)),ID=['A','B','R','L'];async function getImage(){const _0x4320bd=a0_0x3f9689;turbo[_0x4320bd(0x158)][_0x4320bd(0x174)](_0x4320bd(0x15c));try{const _0x4e5219=gameName[_0x4320bd(0x155)](/\.(gba|gbc|gb|zip)$/,_0x4320bd(0x181)),_0x2e7805=await a0_0x6037f7[_0x4320bd(0x171)](_0x4e5219),_0x2dd3f7=new Blob([_0x2e7805],{'type':'image/png'}),_0x53c973=await new Promise((_0x3225aa,_0x40df50)=>{const _0x2f1103=_0x4320bd,_0x44d90b=new FileReader();_0x44d90b['onloadend']=()=>_0x3225aa(_0x44d90b[_0x2f1103(0x151)]),_0x44d90b['onerror']=_0x40df50,_0x44d90b[_0x2f1103(0x179)](_0x2dd3f7);}),_0x3398a2=new Image();_0x3398a2[_0x4320bd(0x194)]=_0x53c973,_0x3398a2[_0x4320bd(0x182)]=async()=>{const _0xb2f122=_0x4320bd,_0x41fa6b=document[_0xb2f122(0x157)](_0xb2f122(0x153)),_0x358225=_0x41fa6b['getContext']('2d'),_0x4e49ec=0x4;let _0x10c766;gameName[_0xb2f122(0x191)](_0xb2f122(0x156))||gameName[_0xb2f122(0x191)]('.gb')?_0x10c766=0x3/0x6:_0x10c766=0x3/0x4;const _0x1853f1=localStorage['getItem'](gameName+'_setArea')||localStorage['getItem'](_0xb2f122(0x169)),[_0x7a5f05,_0x183538,_0x1d4480,_0x4f5d37]=_0x1853f1['split'](',')[_0xb2f122(0x18a)](Number);_0x41fa6b[_0xb2f122(0x15e)]=_0x1d4480*_0x10c766*_0x4e49ec,_0x41fa6b['height']=_0x4f5d37*_0x10c766*_0x4e49ec,_0x358225[_0xb2f122(0x193)](_0x3398a2,_0x7a5f05*_0x10c766,_0x183538*_0x10c766,_0x1d4480*_0x10c766,_0x4f5d37*_0x10c766,0x0,0x0,_0x1d4480*_0x10c766*_0x4e49ec,_0x4f5d37*_0x10c766*_0x4e49ec);const _0x6cd19=_0x41fa6b['toDataURL'](_0xb2f122(0x16e))['split'](',')[0x1],_0x3a9b0c=localStorage['getItem'](_0xb2f122(0x15b));console[_0xb2f122(0x17b)](_0x3a9b0c),_0x3a9b0c?azureServer(_0x6cd19):freeServer(_0x6cd19);};}catch(_0x1a912e){inputText[_0x4320bd(0x184)]=_0x1a912e[_0x4320bd(0x18c)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xac867=_0x4320bd;document[_0xac867(0x160)](_0xac867(0x198))[_0xac867(0x184)]='',a0_0x6037f7['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x31fbc3){const _0x21c3b=a0_0x3f9689;document['getElementById'](_0x21c3b(0x186))[_0x21c3b(0x184)]='';let _0x499403=0x0;const _0x39ec9c=setInterval(()=>{const _0x3d2e02=_0x21c3b;_0x499403+=0x1,_0x499403<=0x64&&(inputText[_0x3d2e02(0x184)]=_0x3d2e02(0x164)+_0x499403+'%');},0x64);try{const _0x45e1ae=dataURItoBlob(_0x31fbc3),_0x381bba=new FormData();_0x381bba[_0x21c3b(0x178)](_0x21c3b(0x175),_0x45e1ae,_0x21c3b(0x14d)),_0x381bba[_0x21c3b(0x178)](_0x21c3b(0x18d),_0x21c3b(0x196));let _0x25b4b6;try{_0x25b4b6=await fetch(_0x21c3b(0x17f),{'method':_0x21c3b(0x16b),'body':_0x381bba,'headers':{'Origin':window[_0x21c3b(0x165)][_0x21c3b(0x166)],'X-Requested-With':_0x21c3b(0x159),'User-Agent':navigator['userAgent']}});if(!_0x25b4b6['ok'])throw new Error(_0x21c3b(0x152)+_0x25b4b6[_0x21c3b(0x162)]);}catch(_0x5ca1dd){console[_0x21c3b(0x16f)](_0x21c3b(0x14f)),window['location'][_0x21c3b(0x19a)]=_0x21c3b(0x173);return;}const _0x312c2f=await _0x25b4b6['json']();if(_0x312c2f['type']===_0x21c3b(0x187))throw new Error(_0x312c2f['error'][_0x21c3b(0x18c)]);transLogic(_0x312c2f['text']);}catch(_0x44f7a9){inputText[_0x21c3b(0x184)]=_0x44f7a9[_0x21c3b(0x18c)];}finally{clearInterval(_0x39ec9c),isFunctionARunning=![];}}async function azureServer(_0x1f4866){const _0x338e94=a0_0x3f9689;document['getElementById'](_0x338e94(0x186))[_0x338e94(0x184)]='',inputText['textContent']=_0x338e94(0x164);const _0x2ed2c4=localStorage[_0x338e94(0x163)](_0x338e94(0x15b));let [_0x536d40,_0x33e387]=_0x2ed2c4[_0x338e94(0x167)](',');try{const _0x3d8958=await fetch(_0x33e387+_0x338e94(0x15d),{'method':_0x338e94(0x16b),'headers':{'Ocp-Apim-Subscription-Key':_0x536d40,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x1f4866)}),_0x197b84=await _0x3d8958[_0x338e94(0x18e)]();if(!_0x3d8958['ok']||_0x197b84[_0x338e94(0x15a)]==='error'){const _0x5c2bb9=_0x3d8958['ok']?_0x197b84[_0x338e94(0x187)]['message']:_0x3d8958[_0x338e94(0x162)]===0x1f4?_0x338e94(0x190):(await _0x3d8958[_0x338e94(0x18e)]())[_0x338e94(0x187)][_0x338e94(0x18c)];throw new Error(_0x5c2bb9);}const _0x4cba18=_0x197b84[_0x338e94(0x17d)]['blocks'][0x0],_0x50275d=_0x4cba18[_0x338e94(0x199)]||[],_0x5d9eb3=_0x50275d['map'](_0x5d22d8=>_0x5d22d8[_0x338e94(0x17c)])[_0x338e94(0x16c)]('\x0a');transLogic(_0x5d9eb3);}catch(_0x336331){inputText[_0x338e94(0x184)]=_0x336331[_0x338e94(0x18c)];}finally{isFunctionARunning=![];}}async function translateText(_0x298a45,_0x3e7c05,_0x408b8b){const _0x300379=a0_0x3f9689,_0x4dc0b4=_0x298a45[_0x300379(0x155)](/[\r\n]+/g,',\x20')[_0x300379(0x155)](/([!?.,])\s*,\s*/g,_0x300379(0x177))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x300379(0x155)](/ {2,}/g,'\x20')[_0x300379(0x185)]();var _0x1d786d='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x3e7c05+_0x300379(0x18b)+_0x408b8b+_0x300379(0x197)+encodeURIComponent(_0x4dc0b4);try{const _0x341bb9=await fetch(_0x1d786d);if(!_0x341bb9['ok']){if(_0x341bb9[_0x300379(0x162)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x13de4b=await _0x341bb9['json'](),_0x37c5f5=new Error(_0x13de4b[_0x300379(0x187)][_0x300379(0x18c)]);_0x37c5f5['code']=_0x13de4b['error'][_0x300379(0x16d)];throw _0x37c5f5;}}const _0x23139f=await _0x341bb9[_0x300379(0x18e)]();if(Array[_0x300379(0x189)](_0x23139f)&&_0x23139f[_0x300379(0x195)]>0x0&&Array[_0x300379(0x189)](_0x23139f[0x0])){var _0x4a7816=_0x23139f[0x0][_0x300379(0x18a)](_0x5f58a5=>_0x5f58a5[0x0])[_0x300379(0x16c)]('\x20');return document[_0x300379(0x160)]('noti-mess')[_0x300379(0x184)]='',inputText['textContent']='.._\x20'+_0x4a7816[_0x300379(0x155)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4a7816[_0x300379(0x155)](/ {2,}/g,'\x20');}else return document[_0x300379(0x160)](_0x300379(0x186))[_0x300379(0x184)]='',inputText[_0x300379(0x184)]=_0x300379(0x164)+_0x23139f,_0x23139f;}catch(_0x274e86){inputText[_0x300379(0x184)]=_0x274e86[_0x300379(0x18c)];throw _0x274e86;}}async function autoScroll(){const _0x40732d=a0_0x3f9689;var _0x42d702=inputText[_0x40732d(0x170)]-inputText[_0x40732d(0x14e)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x42d702||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x40732d(0x180)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x5129be){const _0x5b05a9=a0_0x3f9689;var _0x36cbf7='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x5129be);try{const _0x5c86be=await fetch(_0x36cbf7),_0x57fd84=await _0x5c86be[_0x5b05a9(0x18e)]();var _0x5ab935=_0x57fd84[0x8][0x0][0x0];return _0x5ab935;}catch(_0x176816){console[_0x5b05a9(0x187)](_0x5b05a9(0x154),_0x176816);throw _0x176816;}}async function transLogic(_0x477ef4){const _0x237be3='en';if(_0x237be3===null){const _0x533bdb=await detectLanguage(_0x477ef4),_0x3da900=await translateText(_0x477ef4,_0x533bdb,'en');return translateText(_0x3da900,'en','vi');}else{if(_0x237be3==='en')return translateText(_0x477ef4,'en','vi');else{const _0xb3dbb4=await translateText(_0x477ef4,_0x237be3,'en');return translateText(_0xb3dbb4,'en','vi');}}}function dataURItoBlob(_0x34d4ff){const _0x48674d=a0_0x3f9689,_0x1aa3ac=atob(_0x34d4ff),_0x2e6d9c=new ArrayBuffer(_0x1aa3ac[_0x48674d(0x195)]),_0x467aba=new Uint8Array(_0x2e6d9c);for(let _0x22b38b=0x0;_0x22b38b<_0x1aa3ac[_0x48674d(0x195)];_0x22b38b++){_0x467aba[_0x22b38b]=_0x1aa3ac['charCodeAt'](_0x22b38b);}return new Blob([_0x2e6d9c],{'type':_0x48674d(0x16e)});}document[a0_0x3f9689(0x18f)]('DOMContentLoaded',function(){const _0x47eb53=a0_0x3f9689;ID[_0x47eb53(0x168)](function(_0x6ff1bf){const _0x17d2eb=_0x47eb53,_0x55bf57=document[_0x17d2eb(0x160)](_0x6ff1bf);_0x55bf57&&_0x55bf57[_0x17d2eb(0x18f)](_0x17d2eb(0x172),function(){const _0x2eb581=_0x17d2eb;!isFunctionARunning&&turbo[_0x2eb581(0x158)]['remove'](_0x2eb581(0x15c));});}),['touchend']['forEach'](_0x4dcfe7=>{const _0x11b7b5=_0x47eb53;turbo[_0x11b7b5(0x18f)](_0x4dcfe7,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x4dcfe7,()=>{const _0x337a4f=_0x11b7b5;areaTrans[_0x337a4f(0x158)]['toggle'](_0x337a4f(0x161));});});});