const a0_0x544571=a0_0x2e10;function a0_0x2e10(_0x1cbaf8,_0x47f9d4){const _0x6b039b=a0_0x6b03();return a0_0x2e10=function(_0x2e108e,_0x52ddad){_0x2e108e=_0x2e108e-0x18d;let _0x46727b=_0x6b039b[_0x2e108e];return _0x46727b;},a0_0x2e10(_0x1cbaf8,_0x47f9d4);}(function(_0x3e914b,_0x1ee37a){const _0x37510c=a0_0x2e10,_0x5b2b01=_0x3e914b();while(!![]){try{const _0x43a6aa=-parseInt(_0x37510c(0x1d6))/0x1+parseInt(_0x37510c(0x1b7))/0x2*(-parseInt(_0x37510c(0x1d2))/0x3)+-parseInt(_0x37510c(0x1d5))/0x4*(parseInt(_0x37510c(0x1d1))/0x5)+-parseInt(_0x37510c(0x18f))/0x6*(-parseInt(_0x37510c(0x198))/0x7)+-parseInt(_0x37510c(0x1b5))/0x8+-parseInt(_0x37510c(0x19a))/0x9+parseInt(_0x37510c(0x1d4))/0xa;if(_0x43a6aa===_0x1ee37a)break;else _0x5b2b01['push'](_0x5b2b01['shift']());}catch(_0x4597de){_0x5b2b01['push'](_0x5b2b01['shift']());}}}(a0_0x6b03,0xc6d14));import*as a0_0x4e442e from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x544571(0x1bb)](a0_0x544571(0x1ac)),turbo=document['getElementById'](a0_0x544571(0x1c5)),ID=['A','B','R','L'];function a0_0x6b03(){const _0x13ee2f=['imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','_setArea','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','1556720ObfZcF','touchstart','208soNJUB','&dt=t&q=','forEach','lines','getElementById','$1\x20','createElement','.._\x20','height','width','status','image.png','src','append','turbo','onerror','clientWidth','image/png','noti-mess','charCodeAt','POST','XMLHttpRequest','split','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','log','notiMessage','9295yOEijG','11142RFDiPc','https://cors-anywhere.herokuapp.com/corsdemo','36134240wjahHS','1052lmRJRi','840399clpnCf','scrollWidth','.gb','toggle','join','json','replace','canvas','type','classList','Cors-controlers\x20have\x20not\x20been\x20activated.','warn','468idzgrZ','HTTP\x20Error:\x20','userAgent','addEventListener','Internal\x20Server\x20Error','touchend','length','ApiAzure','application/octet-stream','3409mAxdPv','DOMContentLoaded','8342028yPrAMa','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','scrollLeft','.png','onload','visible','result','Error\x20detecting\x20language:','captureOCR','text','&tl=','image','map','error','endsWith','textContent','add','readResult','inputText','location','message','getItem','user','isArray'];a0_0x6b03=function(){return _0x13ee2f;};return a0_0x6b03();}async function getImage(){const _0xd0b987=a0_0x544571;turbo['classList'][_0xd0b987(0x1aa)]('turbo-ocr');try{const _0x282940=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0xd0b987(0x19d)),_0x52ef2b=await a0_0x4e442e[_0xd0b987(0x1a2)](_0x282940),_0x11a34e=new Blob([_0x52ef2b],{'type':_0xd0b987(0x1c8)}),_0x504db2=await new Promise((_0xed874,_0x5e165f)=>{const _0x2d1047=_0xd0b987,_0xd6c7b9=new FileReader();_0xd6c7b9['onloadend']=()=>_0xed874(_0xd6c7b9[_0x2d1047(0x1a0)]),_0xd6c7b9[_0x2d1047(0x1c6)]=_0x5e165f,_0xd6c7b9['readAsDataURL'](_0x11a34e);}),_0x4febbe=new Image();_0x4febbe[_0xd0b987(0x1c3)]=_0x504db2,_0x4febbe[_0xd0b987(0x19e)]=async()=>{const _0x58ca2c=_0xd0b987,_0x24bc30=document[_0x58ca2c(0x1bd)](_0x58ca2c(0x1dd)),_0x5588ea=_0x24bc30['getContext']('2d'),_0x1d9b21=0x4;let _0x4ced83;gameName['endsWith']('.gbc')||gameName[_0x58ca2c(0x1a8)](_0x58ca2c(0x1d8))?_0x4ced83=0x3/0x6:_0x4ced83=0x3/0x4;const _0x41afd5=localStorage[_0x58ca2c(0x1af)](gameName+_0x58ca2c(0x1b3))||localStorage[_0x58ca2c(0x1af)]('screenSize'),[_0x83361e,_0x466d3a,_0x5e1934,_0x384a7d]=_0x41afd5[_0x58ca2c(0x1cd)](',')[_0x58ca2c(0x1a6)](Number);_0x24bc30[_0x58ca2c(0x1c0)]=_0x5e1934*_0x4ced83*_0x1d9b21,_0x24bc30[_0x58ca2c(0x1bf)]=_0x384a7d*_0x4ced83*_0x1d9b21,_0x5588ea['drawImage'](_0x4febbe,_0x83361e*_0x4ced83,_0x466d3a*_0x4ced83,_0x5e1934*_0x4ced83,_0x384a7d*_0x4ced83,0x0,0x0,_0x5e1934*_0x4ced83*_0x1d9b21,_0x384a7d*_0x4ced83*_0x1d9b21);const _0x494f12=_0x24bc30['toDataURL']('image/png')[_0x58ca2c(0x1cd)](',')[0x1],_0x5b5d58=localStorage['getItem'](_0x58ca2c(0x196));console[_0x58ca2c(0x1cf)](_0x5b5d58),_0x5b5d58?azureServer(_0x494f12):freeServer(_0x494f12);};}catch(_0x2471f5){inputText[_0xd0b987(0x1a9)]=_0x2471f5[_0xd0b987(0x1ae)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x11b489=_0xd0b987;document[_0x11b489(0x1bb)]('inputText')[_0x11b489(0x1a9)]='',a0_0x4e442e[_0x11b489(0x1d0)]('',0x0);},0x7530);}async function freeServer(_0x2b9167){const _0x3b6384=a0_0x544571;document[_0x3b6384(0x1bb)](_0x3b6384(0x1c9))[_0x3b6384(0x1a9)]='';let _0x5a42c9=0x0;const _0x5db59b=setInterval(()=>{_0x5a42c9+=0x1,_0x5a42c9<=0x64&&(inputText['textContent']='.._\x20'+_0x5a42c9+'%');},0x64);try{const _0x1ca0a5=dataURItoBlob(_0x2b9167),_0x19a9da=new FormData();_0x19a9da[_0x3b6384(0x1c4)](_0x3b6384(0x1a5),_0x1ca0a5,_0x3b6384(0x1c2)),_0x19a9da[_0x3b6384(0x1c4)](_0x3b6384(0x1b0),_0x3b6384(0x1ce));let _0x4943d4;try{_0x4943d4=await fetch(_0x3b6384(0x19b),{'method':'POST','body':_0x19a9da,'headers':{'Origin':window[_0x3b6384(0x1ad)]['origin'],'X-Requested-With':_0x3b6384(0x1cc),'User-Agent':navigator[_0x3b6384(0x191)]}});if(!_0x4943d4['ok'])throw new Error(_0x3b6384(0x190)+_0x4943d4[_0x3b6384(0x1c1)]);}catch(_0x46c57e){console[_0x3b6384(0x18e)](_0x3b6384(0x18d)),window[_0x3b6384(0x1ad)]['href']=_0x3b6384(0x1d3);return;}const _0x1dccf9=await _0x4943d4['json']();if(_0x1dccf9[_0x3b6384(0x1de)]===_0x3b6384(0x1a7))throw new Error(_0x1dccf9[_0x3b6384(0x1a7)][_0x3b6384(0x1ae)]);transLogic(_0x1dccf9[_0x3b6384(0x1a3)]);}catch(_0x1ba02c){inputText[_0x3b6384(0x1a9)]=_0x1ba02c[_0x3b6384(0x1ae)];}finally{clearInterval(_0x5db59b),isFunctionARunning=![];}}async function azureServer(_0xfc2cdf){const _0x5cdcaa=a0_0x544571;document[_0x5cdcaa(0x1bb)](_0x5cdcaa(0x1c9))[_0x5cdcaa(0x1a9)]='',inputText['textContent']='.._\x20';const _0x545981=localStorage['getItem']('ApiAzure');let [_0x3c2009,_0x4cef04]=_0x545981[_0x5cdcaa(0x1cd)](',');try{const _0x1426e3=await fetch(_0x4cef04+_0x5cdcaa(0x1b2),{'method':_0x5cdcaa(0x1cb),'headers':{'Ocp-Apim-Subscription-Key':_0x3c2009,'Content-Type':_0x5cdcaa(0x197)},'body':dataURItoBlob(_0xfc2cdf)}),_0x3d5d42=await _0x1426e3['json']();if(!_0x1426e3['ok']||_0x3d5d42[_0x5cdcaa(0x1de)]===_0x5cdcaa(0x1a7)){const _0x2c88ca=_0x1426e3['ok']?_0x3d5d42[_0x5cdcaa(0x1a7)][_0x5cdcaa(0x1ae)]:_0x1426e3['status']===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x1426e3[_0x5cdcaa(0x1db)]())[_0x5cdcaa(0x1a7)][_0x5cdcaa(0x1ae)];throw new Error(_0x2c88ca);}const _0x56a386=_0x3d5d42[_0x5cdcaa(0x1ab)]['blocks'][0x0],_0x3adf44=_0x56a386[_0x5cdcaa(0x1ba)]||[],_0x27ef15=_0x3adf44['map'](_0x54aa80=>_0x54aa80[_0x5cdcaa(0x1a3)])[_0x5cdcaa(0x1da)]('\x0a');transLogic(_0x27ef15);}catch(_0x332696){inputText[_0x5cdcaa(0x1a9)]=_0x332696[_0x5cdcaa(0x1ae)];}finally{isFunctionARunning=![];}}async function translateText(_0x2bb354,_0x4bc29c,_0x4c87d6){const _0x280452=a0_0x544571,_0x1827e6=_0x2bb354[_0x280452(0x1dc)](/[\r\n]+/g,',\x20')[_0x280452(0x1dc)](/([!?.,])\s*,\s*/g,_0x280452(0x1bc))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x280452(0x1dc)](/ {2,}/g,'\x20')['trim']();var _0x24d0ba=_0x280452(0x1b4)+_0x4bc29c+_0x280452(0x1a4)+_0x4c87d6+_0x280452(0x1b8)+encodeURIComponent(_0x1827e6);try{const _0x4fb9f6=await fetch(_0x24d0ba);if(!_0x4fb9f6['ok']){if(_0x4fb9f6[_0x280452(0x1c1)]===0x1f4)throw new Error(_0x280452(0x193));else{const _0x45146e=await _0x4fb9f6[_0x280452(0x1db)](),_0x157558=new Error(_0x45146e['error']['message']);_0x157558['code']=_0x45146e[_0x280452(0x1a7)]['code'];throw _0x157558;}}const _0x2a265e=await _0x4fb9f6['json']();if(Array['isArray'](_0x2a265e)&&_0x2a265e[_0x280452(0x195)]>0x0&&Array[_0x280452(0x1b1)](_0x2a265e[0x0])){var _0x18778c=_0x2a265e[0x0][_0x280452(0x1a6)](_0x32a321=>_0x32a321[0x0])[_0x280452(0x1da)]('\x20');return document['getElementById'](_0x280452(0x1c9))[_0x280452(0x1a9)]='',inputText['textContent']=_0x280452(0x1be)+_0x18778c[_0x280452(0x1dc)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x18778c[_0x280452(0x1dc)](/ {2,}/g,'\x20');}else return document[_0x280452(0x1bb)]('noti-mess')[_0x280452(0x1a9)]='',inputText[_0x280452(0x1a9)]=_0x280452(0x1be)+_0x2a265e,_0x2a265e;}catch(_0x41693d){inputText[_0x280452(0x1a9)]=_0x41693d[_0x280452(0x1ae)];throw _0x41693d;}}async function autoScroll(){const _0x304727=a0_0x544571;var _0x3d15b1=inputText[_0x304727(0x1d7)]-inputText[_0x304727(0x1c7)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x3d15b1||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x304727(0x19c)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x21c1d0){const _0x5086ed=a0_0x544571;var _0x4e57ba='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x21c1d0);try{const _0x1df61b=await fetch(_0x4e57ba),_0x4bccb5=await _0x1df61b[_0x5086ed(0x1db)]();var _0x5f4f95=_0x4bccb5[0x8][0x0][0x0];return _0x5f4f95;}catch(_0x17472e){console[_0x5086ed(0x1a7)](_0x5086ed(0x1a1),_0x17472e);throw _0x17472e;}}async function transLogic(_0x2dce48){const _0x5dd899='en';if(_0x5dd899===null){const _0x45f60e=await detectLanguage(_0x2dce48),_0x596fe1=await translateText(_0x2dce48,_0x45f60e,'en');return translateText(_0x596fe1,'en','vi');}else{if(_0x5dd899==='en')return translateText(_0x2dce48,'en','vi');else{const _0x50b04c=await translateText(_0x2dce48,_0x5dd899,'en');return translateText(_0x50b04c,'en','vi');}}}function dataURItoBlob(_0x51cf32){const _0x4b7792=a0_0x544571,_0x3be1c9=atob(_0x51cf32),_0x30b76a=new ArrayBuffer(_0x3be1c9[_0x4b7792(0x195)]),_0x1e2a0e=new Uint8Array(_0x30b76a);for(let _0x31510f=0x0;_0x31510f<_0x3be1c9['length'];_0x31510f++){_0x1e2a0e[_0x31510f]=_0x3be1c9[_0x4b7792(0x1ca)](_0x31510f);}return new Blob([_0x30b76a],{'type':_0x4b7792(0x1c8)});}document[a0_0x544571(0x192)](a0_0x544571(0x199),function(){const _0x46893c=a0_0x544571;ID[_0x46893c(0x1b9)](function(_0x2c5e19){const _0x327ee7=_0x46893c,_0x467900=document[_0x327ee7(0x1bb)](_0x2c5e19);_0x467900&&_0x467900[_0x327ee7(0x192)](_0x327ee7(0x1b6),function(){const _0x21a6c3=_0x327ee7;!isFunctionARunning&&turbo[_0x21a6c3(0x1df)]['remove']('turbo-ocr');});}),[_0x46893c(0x194)][_0x46893c(0x1b9)](_0x49819f=>{const _0x3c6f3f=_0x46893c;turbo[_0x3c6f3f(0x192)](_0x49819f,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x49819f,()=>{const _0x3319c6=_0x3c6f3f;areaTrans[_0x3319c6(0x1df)][_0x3319c6(0x1d9)](_0x3319c6(0x19f));});});});