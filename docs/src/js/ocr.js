const a0_0x5b1759=a0_0x2811;(function(_0x47d0fb,_0x1607af){const _0x454d1c=a0_0x2811,_0x463679=_0x47d0fb();while(!![]){try{const _0x161acb=-parseInt(_0x454d1c(0x132))/0x1+parseInt(_0x454d1c(0x167))/0x2+-parseInt(_0x454d1c(0x159))/0x3*(parseInt(_0x454d1c(0x142))/0x4)+parseInt(_0x454d1c(0x162))/0x5*(parseInt(_0x454d1c(0x151))/0x6)+-parseInt(_0x454d1c(0x12f))/0x7+-parseInt(_0x454d1c(0x164))/0x8*(parseInt(_0x454d1c(0x160))/0x9)+parseInt(_0x454d1c(0x123))/0xa;if(_0x161acb===_0x1607af)break;else _0x463679['push'](_0x463679['shift']());}catch(_0x5634de){_0x463679['push'](_0x463679['shift']());}}}(a0_0x16aa,0x3a675));import*as a0_0x4c58b8 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x5b1759(0x150)]('inputText'),turbo=document[a0_0x5b1759(0x150)](a0_0x5b1759(0x124)),ID=['A','B','R','L'];async function getImage(){const _0x509eb5=a0_0x5b1759;turbo[_0x509eb5(0x120)][_0x509eb5(0x137)]('turbo-ocr');try{const _0x484493=gameName[_0x509eb5(0x12e)](/\.(gba|gbc|gb|zip)$/,_0x509eb5(0x11f)),_0x54a546=await a0_0x4c58b8[_0x509eb5(0x129)](_0x484493),_0x3e985b=new Blob([_0x54a546],{'type':_0x509eb5(0x140)}),_0x4fa895=await new Promise((_0xbe0082,_0x345969)=>{const _0x18afe1=_0x509eb5,_0x244164=new FileReader();_0x244164['onloadend']=()=>_0xbe0082(_0x244164['result']),_0x244164[_0x18afe1(0x14d)]=_0x345969,_0x244164[_0x18afe1(0x13f)](_0x3e985b);}),_0x3e3fea=new Image();_0x3e3fea[_0x509eb5(0x117)]=_0x4fa895,_0x3e3fea['onload']=async()=>{const _0x1e1a7d=_0x509eb5,_0x16406a=document[_0x1e1a7d(0x121)]('canvas'),_0xa19ac0=_0x16406a[_0x1e1a7d(0x15d)]('2d'),_0x190190=0x4;let _0x60f192;gameName['endsWith'](_0x1e1a7d(0x12d))||gameName[_0x1e1a7d(0x146)](_0x1e1a7d(0x12c))?_0x60f192=0x3/0x6:_0x60f192=0x3/0x4;const _0x5a2c8a=localStorage[_0x1e1a7d(0x14f)](gameName+_0x1e1a7d(0x11b))||localStorage[_0x1e1a7d(0x14f)](_0x1e1a7d(0x163)),[_0x280256,_0x5ea526,_0x48352e,_0x56d335]=_0x5a2c8a[_0x1e1a7d(0x153)](',')[_0x1e1a7d(0x13b)](Number);_0x16406a[_0x1e1a7d(0x13c)]=_0x48352e*_0x60f192*_0x190190,_0x16406a[_0x1e1a7d(0x158)]=_0x56d335*_0x60f192*_0x190190,_0xa19ac0['drawImage'](_0x3e3fea,_0x280256*_0x60f192,_0x5ea526*_0x60f192,_0x48352e*_0x60f192,_0x56d335*_0x60f192,0x0,0x0,_0x48352e*_0x60f192*_0x190190,_0x56d335*_0x60f192*_0x190190);const _0x4ea38c=_0x16406a['toDataURL'](_0x1e1a7d(0x140))[_0x1e1a7d(0x153)](',')[0x1],_0x400a65=localStorage[_0x1e1a7d(0x14f)](_0x1e1a7d(0x128));console[_0x1e1a7d(0x130)](_0x400a65),_0x400a65?azureServer(_0x4ea38c):freeServer(_0x4ea38c);};}catch(_0x2afad0){inputText[_0x509eb5(0x119)]=_0x2afad0['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2c48f4=_0x509eb5;document['getElementById']('inputText')['textContent']='',a0_0x4c58b8[_0x2c48f4(0x15a)]('',0x0);},0x7530);}async function freeServer(_0x416629){const _0x3b09a4=a0_0x5b1759;document['getElementById'](_0x3b09a4(0x12a))['textContent']='';let _0x511215=0x0;const _0x28bb8=setInterval(()=>{const _0x295239=_0x3b09a4;_0x511215+=0x1,_0x511215<=0x64&&(inputText[_0x295239(0x119)]='.._\x20'+_0x511215+'%');},0x64);try{const _0x400169=dataURItoBlob(_0x416629),_0x439df3=new FormData();_0x439df3['append'](_0x3b09a4(0x125),_0x400169,_0x3b09a4(0x14a)),_0x439df3[_0x3b09a4(0x11c)](_0x3b09a4(0x136),_0x3b09a4(0x126));let _0xa7b509;try{_0xa7b509=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x3b09a4(0x13a),'body':_0x439df3,'headers':{'Origin':window[_0x3b09a4(0x15e)]['origin'],'X-Requested-With':_0x3b09a4(0x156),'User-Agent':navigator['userAgent']}});if(!_0xa7b509['ok'])throw new Error(_0x3b09a4(0x118)+_0xa7b509[_0x3b09a4(0x14b)]);}catch(_0x590f0e){console[_0x3b09a4(0x148)](_0x3b09a4(0x15b)),window['location'][_0x3b09a4(0x139)]=_0x3b09a4(0x145);return;}const _0x14171f=await _0xa7b509[_0x3b09a4(0x141)]();if(_0x14171f[_0x3b09a4(0x131)]==='error')throw new Error(_0x14171f[_0x3b09a4(0x116)][_0x3b09a4(0x122)]);transLogic(_0x14171f[_0x3b09a4(0x127)]);}catch(_0x3de01c){inputText[_0x3b09a4(0x119)]=_0x3de01c[_0x3b09a4(0x122)];}finally{clearInterval(_0x28bb8),isFunctionARunning=![];}}async function azureServer(_0x5a652f){const _0x42bb9=a0_0x5b1759;document[_0x42bb9(0x150)](_0x42bb9(0x12a))[_0x42bb9(0x119)]='',inputText[_0x42bb9(0x119)]=_0x42bb9(0x152);const _0x15007a=localStorage[_0x42bb9(0x14f)](_0x42bb9(0x128));let [_0x305ca4,_0x36d517]=_0x15007a[_0x42bb9(0x153)](',');try{const _0x266a7f=await fetch(_0x36d517+_0x42bb9(0x14c),{'method':_0x42bb9(0x13a),'headers':{'Ocp-Apim-Subscription-Key':_0x305ca4,'Content-Type':_0x42bb9(0x143)},'body':dataURItoBlob(_0x5a652f)}),_0x2169f6=await _0x266a7f['json']();if(!_0x266a7f['ok']||_0x2169f6[_0x42bb9(0x131)]===_0x42bb9(0x116)){const _0x4de463=_0x266a7f['ok']?_0x2169f6[_0x42bb9(0x116)][_0x42bb9(0x122)]:_0x266a7f[_0x42bb9(0x14b)]===0x1f4?_0x42bb9(0x13e):(await _0x266a7f[_0x42bb9(0x141)]())[_0x42bb9(0x116)][_0x42bb9(0x122)];throw new Error(_0x4de463);}const _0x5218fa=_0x2169f6['readResult'][_0x42bb9(0x155)][0x0],_0x1c0fe7=_0x5218fa[_0x42bb9(0x12b)]||[],_0x517db2=_0x1c0fe7['map'](_0x4a4378=>_0x4a4378[_0x42bb9(0x127)])[_0x42bb9(0x15c)]('\x0a');transLogic(_0x517db2);}catch(_0x72f364){inputText[_0x42bb9(0x119)]=_0x72f364['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x27a94d,_0xe4fff5,_0x1b38a){const _0x284a56=a0_0x5b1759,_0x227bcf=_0x27a94d[_0x284a56(0x12e)](/[\r\n]+/g,',\x20')[_0x284a56(0x12e)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x284a56(0x12e)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x284a56(0x12e)](/ {2,}/g,'\x20')['trim']();var _0x492743='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0xe4fff5+_0x284a56(0x154)+_0x1b38a+'&dt=t&q='+encodeURIComponent(_0x227bcf);try{const _0x26d6ee=await fetch(_0x492743);if(!_0x26d6ee['ok']){if(_0x26d6ee[_0x284a56(0x14b)]===0x1f4)throw new Error(_0x284a56(0x149));else{const _0xd99e71=await _0x26d6ee['json'](),_0xdbcd8f=new Error(_0xd99e71[_0x284a56(0x116)]['message']);_0xdbcd8f['code']=_0xd99e71['error'][_0x284a56(0x15f)];throw _0xdbcd8f;}}const _0x13dbf5=await _0x26d6ee['json']();if(Array[_0x284a56(0x138)](_0x13dbf5)&&_0x13dbf5[_0x284a56(0x147)]>0x0&&Array['isArray'](_0x13dbf5[0x0])){var _0x2c7c3c=_0x13dbf5[0x0][_0x284a56(0x13b)](_0x4e66ec=>_0x4e66ec[0x0])[_0x284a56(0x15c)]('\x20');return document[_0x284a56(0x150)](_0x284a56(0x12a))[_0x284a56(0x119)]='',inputText[_0x284a56(0x119)]=_0x284a56(0x152)+_0x2c7c3c['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x2c7c3c['replace'](/ {2,}/g,'\x20');}else return document[_0x284a56(0x150)]('noti-mess')['textContent']='',inputText[_0x284a56(0x119)]=_0x284a56(0x152)+_0x13dbf5,_0x13dbf5;}catch(_0x123e0c){inputText[_0x284a56(0x119)]=_0x123e0c[_0x284a56(0x122)];throw _0x123e0c;}}async function autoScroll(){const _0x469abe=a0_0x5b1759;var _0xc9fde0=inputText['scrollWidth']-inputText[_0x469abe(0x161)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0xc9fde0||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x469abe(0x135)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x16c6b4){const _0x3a2d7b=a0_0x5b1759;var _0x479d59=_0x3a2d7b(0x133)+encodeURIComponent(_0x16c6b4);try{const _0x230f1a=await fetch(_0x479d59),_0x440353=await _0x230f1a[_0x3a2d7b(0x141)]();var _0x1b4174=_0x440353[0x8][0x0][0x0];return _0x1b4174;}catch(_0x160c2c){console[_0x3a2d7b(0x116)](_0x3a2d7b(0x144),_0x160c2c);throw _0x160c2c;}}function a0_0x2811(_0x10ffec,_0x2dfda7){const _0x16aa6e=a0_0x16aa();return a0_0x2811=function(_0x28114e,_0x73ec2e){_0x28114e=_0x28114e-0x116;let _0x529582=_0x16aa6e[_0x28114e];return _0x529582;},a0_0x2811(_0x10ffec,_0x2dfda7);}function a0_0x16aa(){const _0x2a036d=['27704SXHhlZ','remove','addEventListener','738166qjKmRX','error','src','HTTP\x20Error:\x20','textContent','touchend','_setArea','append','visible','turbo-ocr','.png','classList','createElement','message','6088420xUxxmP','turbo','image','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','text','ApiAzure','captureOCR','noti-mess','lines','.gb','.gbc','replace','422527Tqajit','log','type','454343pCbnUk','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','charCodeAt','scrollLeft','user','add','isArray','href','POST','map','width','forEach','500\x20Internal\x20Server\x20Error','readAsDataURL','image/png','json','201464iRTrZV','application/octet-stream','Error\x20detecting\x20language:','https://cors-anywhere.herokuapp.com/corsdemo','endsWith','length','warn','Internal\x20Server\x20Error','image.png','status','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','onerror','DOMContentLoaded','getItem','getElementById','24bOFEPp','.._\x20','split','&tl=','blocks','XMLHttpRequest','toggle','height','15DHhLLh','notiMessage','Cors-controlers\x20have\x20not\x20been\x20activated.','join','getContext','location','code','18kdXEZu','clientWidth','43445mDveAh','screenSize'];a0_0x16aa=function(){return _0x2a036d;};return a0_0x16aa();}async function transLogic(_0x1e2a58){const _0x4a9282='en';if(_0x4a9282===null){const _0x3bd6a9=await detectLanguage(_0x1e2a58),_0x1532aa=await translateText(_0x1e2a58,_0x3bd6a9,'en');return translateText(_0x1532aa,'en','vi');}else{if(_0x4a9282==='en')return translateText(_0x1e2a58,'en','vi');else{const _0x400bd3=await translateText(_0x1e2a58,_0x4a9282,'en');return translateText(_0x400bd3,'en','vi');}}}function dataURItoBlob(_0x3b65ca){const _0xd4ab1f=a0_0x5b1759,_0x2a9d2d=atob(_0x3b65ca),_0x271165=new ArrayBuffer(_0x2a9d2d['length']),_0x37f77f=new Uint8Array(_0x271165);for(let _0x275105=0x0;_0x275105<_0x2a9d2d[_0xd4ab1f(0x147)];_0x275105++){_0x37f77f[_0x275105]=_0x2a9d2d[_0xd4ab1f(0x134)](_0x275105);}return new Blob([_0x271165],{'type':_0xd4ab1f(0x140)});}document[a0_0x5b1759(0x166)](a0_0x5b1759(0x14e),function(){const _0x43a53e=a0_0x5b1759;ID[_0x43a53e(0x13d)](function(_0x384260){const _0x27c4db=_0x43a53e,_0x1c3706=document[_0x27c4db(0x150)](_0x384260);_0x1c3706&&_0x1c3706['addEventListener']('touchstart',function(){const _0x3e95f4=_0x27c4db;!isFunctionARunning&&turbo[_0x3e95f4(0x120)][_0x3e95f4(0x165)](_0x3e95f4(0x11e));});}),[_0x43a53e(0x11a)][_0x43a53e(0x13d)](_0x433a37=>{const _0x1871d5=_0x43a53e;turbo[_0x1871d5(0x166)](_0x433a37,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x1871d5(0x166)](_0x433a37,()=>{const _0x44874e=_0x1871d5;areaTrans[_0x44874e(0x120)][_0x44874e(0x157)](_0x44874e(0x11d));});});});