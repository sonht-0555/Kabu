const a0_0x3c742e=a0_0x57c3;(function(_0xb73a5e,_0x31ad3d){const _0x18835a=a0_0x57c3,_0x185282=_0xb73a5e();while(!![]){try{const _0x3d046c=-parseInt(_0x18835a(0xf0))/0x1+-parseInt(_0x18835a(0x111))/0x2+-parseInt(_0x18835a(0x105))/0x3*(-parseInt(_0x18835a(0xe8))/0x4)+parseInt(_0x18835a(0xfd))/0x5*(-parseInt(_0x18835a(0xdb))/0x6)+-parseInt(_0x18835a(0x102))/0x7*(-parseInt(_0x18835a(0x115))/0x8)+-parseInt(_0x18835a(0xd9))/0x9+parseInt(_0x18835a(0xe2))/0xa*(parseInt(_0x18835a(0xf6))/0xb);if(_0x3d046c===_0x31ad3d)break;else _0x185282['push'](_0x185282['shift']());}catch(_0x168bec){_0x185282['push'](_0x185282['shift']());}}}(a0_0x1a1f,0x3b936));import*as a0_0x5f5720 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x57c3(_0xe52bec,_0x5c00ca){const _0x1a1f62=a0_0x1a1f();return a0_0x57c3=function(_0x57c3e7,_0x4152af){_0x57c3e7=_0x57c3e7-0xd7;let _0x24b157=_0x1a1f62[_0x57c3e7];return _0x24b157;},a0_0x57c3(_0xe52bec,_0x5c00ca);}const inputText=document['getElementById'](a0_0x3c742e(0x10d)),turbo=document['getElementById'](a0_0x3c742e(0x129)),ID=['A','B','R','L'];async function getImage(){const _0x165774=a0_0x3c742e;turbo['classList'][_0x165774(0x11c)]('turbo-ocr');try{const _0x4292b0=gameName[_0x165774(0x106)](/\.(gba|gbc|gb|zip)$/,_0x165774(0xed)),_0xaaa6ab=await a0_0x5f5720[_0x165774(0xff)](_0x4292b0),_0x5e9cd9=new Blob([_0xaaa6ab],{'type':_0x165774(0xf2)}),_0x2aec15=await new Promise((_0x5c2838,_0x4ffc93)=>{const _0x396c0c=_0x165774,_0x37b2ba=new FileReader();_0x37b2ba[_0x396c0c(0xfc)]=()=>_0x5c2838(_0x37b2ba[_0x396c0c(0xf4)]),_0x37b2ba[_0x396c0c(0xe5)]=_0x4ffc93,_0x37b2ba[_0x396c0c(0xe6)](_0x5e9cd9);}),_0x3f12db=new Image();_0x3f12db['src']=_0x2aec15,_0x3f12db[_0x165774(0x114)]=async()=>{const _0x465edb=_0x165774,_0x4d6ba5=document['createElement'](_0x465edb(0x10a)),_0x4f6943=_0x4d6ba5[_0x465edb(0xea)]('2d'),_0xe1112c=0x4;let _0x5e918a;gameName['endsWith']('.gbc')||gameName[_0x465edb(0xd8)](_0x465edb(0x12a))?_0x5e918a=0x3/0x6:_0x5e918a=0x3/0x4;const _0x52e733=localStorage[_0x465edb(0x112)](gameName+'_setArea')||localStorage[_0x465edb(0x112)](_0x465edb(0x128)),[_0x3ab222,_0x1e26c9,_0x35865f,_0x332dc5]=_0x52e733[_0x465edb(0x10e)](',')[_0x465edb(0x110)](Number);_0x4d6ba5[_0x465edb(0xdf)]=_0x35865f*_0x5e918a*_0xe1112c,_0x4d6ba5[_0x465edb(0x109)]=_0x332dc5*_0x5e918a*_0xe1112c,_0x4f6943[_0x465edb(0xe9)](_0x3f12db,_0x3ab222*_0x5e918a,_0x1e26c9*_0x5e918a,_0x35865f*_0x5e918a,_0x332dc5*_0x5e918a,0x0,0x0,_0x35865f*_0x5e918a*_0xe1112c,_0x332dc5*_0x5e918a*_0xe1112c);const _0x5792c8=_0x4d6ba5[_0x465edb(0xfe)]('image/png')[_0x465edb(0x10e)](',')[0x1],_0x385889=localStorage['getItem'](_0x465edb(0x11a));console[_0x465edb(0x107)](_0x385889),_0x385889?azureServer(_0x5792c8):freeServer(_0x5792c8);};}catch(_0x81152b){inputText[_0x165774(0x11e)]=_0x81152b[_0x165774(0x104)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xf0e49b=_0x165774;document['getElementById'](_0xf0e49b(0x10d))['textContent']='',a0_0x5f5720['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x1521c3){const _0x895368=a0_0x3c742e;document['getElementById'](_0x895368(0x116))[_0x895368(0x11e)]='';let _0xf69d1e=0x0;const _0x5d9cdf=setInterval(()=>{const _0x164277=_0x895368;_0xf69d1e+=0x1,_0xf69d1e<=0x64&&(inputText[_0x164277(0x11e)]='.._\x20'+_0xf69d1e+'%');},0x64);try{const _0x434294=dataURItoBlob(_0x1521c3),_0xcc9dff=new FormData();_0xcc9dff['append'](_0x895368(0x125),_0x434294,_0x895368(0xf8)),_0xcc9dff[_0x895368(0x100)](_0x895368(0x101),_0x895368(0x10b));let _0x4191ae;try{_0x4191ae=await fetch(_0x895368(0xdc),{'method':'POST','body':_0xcc9dff,'headers':{'Origin':window[_0x895368(0xf5)][_0x895368(0xfb)],'X-Requested-With':_0x895368(0x108),'User-Agent':navigator[_0x895368(0x126)]}});if(!_0x4191ae['ok'])throw new Error('HTTP\x20Error:\x20'+_0x4191ae['status']);}catch(_0xf07bdb){console[_0x895368(0xd7)](_0x895368(0xf7)),window[_0x895368(0xf5)]['href']=_0x895368(0xe1);return;}const _0x15e752=await _0x4191ae[_0x895368(0xda)]();if(_0x15e752[_0x895368(0xdd)]==='error')throw new Error(_0x15e752[_0x895368(0xfa)][_0x895368(0x104)]);transLogic(_0x15e752['text']);}catch(_0x5dffec){inputText[_0x895368(0x11e)]=_0x5dffec[_0x895368(0x104)];}finally{clearInterval(_0x5d9cdf),isFunctionARunning=![];}}async function azureServer(_0x2e31f0){const _0x253895=a0_0x3c742e;document[_0x253895(0xec)](_0x253895(0x116))[_0x253895(0x11e)]='',inputText[_0x253895(0x11e)]=_0x253895(0x123);const _0x1f353a=localStorage[_0x253895(0x112)](_0x253895(0x11a));let [_0xfddd2f,_0x3c265b]=_0x1f353a['split'](',');try{const _0x1f3554=await fetch(_0x3c265b+_0x253895(0x122),{'method':_0x253895(0x12b),'headers':{'Ocp-Apim-Subscription-Key':_0xfddd2f,'Content-Type':_0x253895(0x10c)},'body':dataURItoBlob(_0x2e31f0)}),_0x324a03=await _0x1f3554['json']();if(!_0x1f3554['ok']||_0x324a03['type']==='error'){const _0x1d7464=_0x1f3554['ok']?_0x324a03[_0x253895(0xfa)]['message']:_0x1f3554[_0x253895(0x121)]===0x1f4?_0x253895(0x10f):(await _0x1f3554[_0x253895(0xda)]())[_0x253895(0xfa)]['message'];throw new Error(_0x1d7464);}const _0x408c44=_0x324a03['readResult'][_0x253895(0xde)][0x0],_0x39b3b8=_0x408c44[_0x253895(0x103)]||[],_0xc020aa=_0x39b3b8[_0x253895(0x110)](_0x4a58e5=>_0x4a58e5[_0x253895(0x118)])[_0x253895(0xeb)]('\x0a');transLogic(_0xc020aa);}catch(_0x3d419b){inputText[_0x253895(0x11e)]=_0x3d419b[_0x253895(0x104)];}finally{isFunctionARunning=![];}}async function translateText(_0x1eb36d,_0x28f2d8,_0x512d2d){const _0x3a1289=a0_0x3c742e,_0x29786b=_0x1eb36d[_0x3a1289(0x106)](/[\r\n]+/g,',\x20')[_0x3a1289(0x106)](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x3a1289(0x106)](/ {2,}/g,'\x20')[_0x3a1289(0x120)]();var _0x193fbb=_0x3a1289(0xf3)+_0x28f2d8+'&tl='+_0x512d2d+'&dt=t&q='+encodeURIComponent(_0x29786b);try{const _0x11dcdd=await fetch(_0x193fbb);if(!_0x11dcdd['ok']){if(_0x11dcdd[_0x3a1289(0x121)]===0x1f4)throw new Error(_0x3a1289(0xee));else{const _0x1664a8=await _0x11dcdd['json'](),_0x15b563=new Error(_0x1664a8[_0x3a1289(0xfa)][_0x3a1289(0x104)]);_0x15b563[_0x3a1289(0x113)]=_0x1664a8['error']['code'];throw _0x15b563;}}const _0x3dd328=await _0x11dcdd[_0x3a1289(0xda)]();if(Array['isArray'](_0x3dd328)&&_0x3dd328['length']>0x0&&Array[_0x3a1289(0xe0)](_0x3dd328[0x0])){var _0x497bfc=_0x3dd328[0x0][_0x3a1289(0x110)](_0x4be5b4=>_0x4be5b4[0x0])['join']('\x20');return document[_0x3a1289(0xec)](_0x3a1289(0x116))['textContent']='',inputText[_0x3a1289(0x11e)]=_0x3a1289(0x123)+_0x497bfc['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x497bfc[_0x3a1289(0x106)](/ {2,}/g,'\x20');}else return document[_0x3a1289(0xec)](_0x3a1289(0x116))[_0x3a1289(0x11e)]='',inputText[_0x3a1289(0x11e)]=_0x3a1289(0x123)+_0x3dd328,_0x3dd328;}catch(_0x3ebf34){inputText[_0x3a1289(0x11e)]=_0x3ebf34['message'];throw _0x3ebf34;}}async function autoScroll(){const _0xa72b4f=a0_0x3c742e;var _0x3c92bc=inputText[_0xa72b4f(0x117)]-inputText[_0xa72b4f(0x124)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x3c92bc||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x576e9a){const _0x5b93a5=a0_0x3c742e;var _0xd0cfa2=_0x5b93a5(0x11b)+encodeURIComponent(_0x576e9a);try{const _0x29593b=await fetch(_0xd0cfa2),_0x396b61=await _0x29593b[_0x5b93a5(0xda)]();var _0x5e3bd9=_0x396b61[0x8][0x0][0x0];return _0x5e3bd9;}catch(_0x3e803a){console[_0x5b93a5(0xfa)](_0x5b93a5(0x127),_0x3e803a);throw _0x3e803a;}}async function transLogic(_0xff1766){const _0x49e596='en';if(_0x49e596===null){const _0x5a669f=await detectLanguage(_0xff1766),_0x1d85ed=await translateText(_0xff1766,_0x5a669f,'en');return translateText(_0x1d85ed,'en','vi');}else{if(_0x49e596==='en')return translateText(_0xff1766,'en','vi');else{const _0x5911cc=await translateText(_0xff1766,_0x49e596,'en');return translateText(_0x5911cc,'en','vi');}}}function dataURItoBlob(_0x1f1f3a){const _0x4d9219=a0_0x3c742e,_0x7b2631=atob(_0x1f1f3a),_0x49f9d4=new ArrayBuffer(_0x7b2631[_0x4d9219(0x11f)]),_0x990768=new Uint8Array(_0x49f9d4);for(let _0x53c5b9=0x0;_0x53c5b9<_0x7b2631[_0x4d9219(0x11f)];_0x53c5b9++){_0x990768[_0x53c5b9]=_0x7b2631[_0x4d9219(0xf9)](_0x53c5b9);}return new Blob([_0x49f9d4],{'type':_0x4d9219(0xf2)});}document[a0_0x3c742e(0xf1)]('DOMContentLoaded',function(){const _0x4d92a4=a0_0x3c742e;ID[_0x4d92a4(0xef)](function(_0x2e60dc){const _0x2dbb08=_0x4d92a4,_0x1e5d76=document[_0x2dbb08(0xec)](_0x2e60dc);_0x1e5d76&&_0x1e5d76[_0x2dbb08(0xf1)]('touchstart',function(){const _0x4e539a=_0x2dbb08;!isFunctionARunning&&turbo[_0x4e539a(0xe3)][_0x4e539a(0xe4)]('turbo-ocr');});}),[_0x4d92a4(0x11d)]['forEach'](_0x23e20e=>{const _0x5b9878=_0x4d92a4;turbo[_0x5b9878(0xf1)](_0x23e20e,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x23e20e,()=>{const _0x24618c=_0x5b9878;areaTrans['classList'][_0x24618c(0xe7)](_0x24618c(0x119));});});});function a0_0x1a1f(){const _0x313c67=['00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','application/octet-stream','inputText','split','500\x20Internal\x20Server\x20Error','map','526550KwpUAj','getItem','code','onload','1912WPXpvW','noti-mess','scrollWidth','text','visible','ApiAzure','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','add','touchend','textContent','length','trim','status','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','.._\x20','clientWidth','image','userAgent','Error\x20detecting\x20language:','screenSize','turbo','.gb','POST','warn','endsWith','21168CJVRKi','json','24mlaupv','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','type','blocks','width','isArray','https://cors-anywhere.herokuapp.com/corsdemo','2628950HkmrkD','classList','remove','onerror','readAsDataURL','toggle','32540LUeMUn','drawImage','getContext','join','getElementById','.png','Internal\x20Server\x20Error','forEach','280754yAOTzD','addEventListener','image/png','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','result','location','11vSbiUY','Cors-controlers\x20have\x20not\x20been\x20activated.','image.png','charCodeAt','error','origin','onloadend','5480WkosaP','toDataURL','captureOCR','append','user','12481YbDNQw','lines','message','39yVxUgr','replace','log','XMLHttpRequest','height','canvas'];a0_0x1a1f=function(){return _0x313c67;};return a0_0x1a1f();}