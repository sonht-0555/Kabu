const a0_0x3d2b4f=a0_0x1e91;function a0_0x54b9(){const _0x14256e=['1492548CYppvn','map','visible','toggle','inputText','image','origin','Error\x20detecting\x20language:','1044398CSmVIo','scrollLeft','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','3363515YjdPAf','isArray','_setArea','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','readAsDataURL','onerror','add','getElementById','onload','classList','1146152FxnIAV','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','captureOCR','679755oVWERl','replace','drawImage','canvas','type','lines','userAgent','.gb','width','ApiAzure','&tl=','turbo','readResult','createElement','status','text','image.png','500\x20Internal\x20Server\x20Error','clientWidth','getItem','error','endsWith','join','XMLHttpRequest','HTTP\x20Error:\x20','user','code','.gbc','href','location','image/png','POST','result','split','length','noti-mess','2311052nDJgYV','onloadend','https://cors-anywhere.herokuapp.com/corsdemo','forEach','getContext','4156411LyhAeF','scrollWidth','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','notiMessage','warn','append','textContent','toDataURL','json','addEventListener','.._\x20','message','Internal\x20Server\x20Error','height'];a0_0x54b9=function(){return _0x14256e;};return a0_0x54b9();}(function(_0x4e6a03,_0x8c64f7){const _0x440450=a0_0x1e91,_0x18995d=_0x4e6a03();while(!![]){try{const _0x2c3136=-parseInt(_0x440450(0xbf))/0x1+parseInt(_0x440450(0xa4))/0x2+parseInt(_0x440450(0xcf))/0x3+parseInt(_0x440450(0xcc))/0x4+-parseInt(_0x440450(0xc2))/0x5+parseInt(_0x440450(0xb7))/0x6+parseInt(_0x440450(0xa9))/0x7;if(_0x2c3136===_0x8c64f7)break;else _0x18995d['push'](_0x18995d['shift']());}catch(_0x15c6e6){_0x18995d['push'](_0x18995d['shift']());}}}(a0_0x54b9,0xc1ddf));import*as a0_0x43a35d from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x3d2b4f(0xc9)](a0_0x3d2b4f(0xbb)),turbo=document[a0_0x3d2b4f(0xc9)](a0_0x3d2b4f(0xda)),ID=['A','B','R','L'];async function getImage(){const _0x2a5f23=a0_0x3d2b4f;turbo[_0x2a5f23(0xcb)][_0x2a5f23(0xc8)]('turbo-ocr');try{const _0x437b19=gameName['replace'](/\.(gba|gbc|gb|zip)$/,'.png'),_0x35aa03=await a0_0x43a35d[_0x2a5f23(0xce)](_0x437b19),_0x5e842d=new Blob([_0x35aa03],{'type':_0x2a5f23(0x9e)}),_0xefb08a=await new Promise((_0x3be3ee,_0x131420)=>{const _0x4a24ea=_0x2a5f23,_0x24e09e=new FileReader();_0x24e09e[_0x4a24ea(0xa5)]=()=>_0x3be3ee(_0x24e09e[_0x4a24ea(0xa0)]),_0x24e09e[_0x4a24ea(0xc7)]=_0x131420,_0x24e09e[_0x4a24ea(0xc6)](_0x5e842d);}),_0x28a444=new Image();_0x28a444['src']=_0xefb08a,_0x28a444[_0x2a5f23(0xca)]=async()=>{const _0x1205f6=_0x2a5f23,_0x9a8217=document[_0x1205f6(0xdc)](_0x1205f6(0xd2)),_0x13da5a=_0x9a8217[_0x1205f6(0xa8)]('2d'),_0x40169f=0x4;let _0x1f3fbf;gameName[_0x1205f6(0x95)](_0x1205f6(0x9b))||gameName[_0x1205f6(0x95)](_0x1205f6(0xd6))?_0x1f3fbf=0x3/0x6:_0x1f3fbf=0x3/0x4;const _0x591a37=localStorage['getItem'](gameName+_0x1205f6(0xc4))||localStorage[_0x1205f6(0x93)]('screenSize'),[_0x2ac6ca,_0x347d66,_0xb96a3e,_0x1b5ee5]=_0x591a37['split'](',')[_0x1205f6(0xb8)](Number);_0x9a8217[_0x1205f6(0xd7)]=_0xb96a3e*_0x1f3fbf*_0x40169f,_0x9a8217[_0x1205f6(0xb6)]=_0x1b5ee5*_0x1f3fbf*_0x40169f,_0x13da5a[_0x1205f6(0xd1)](_0x28a444,_0x2ac6ca*_0x1f3fbf,_0x347d66*_0x1f3fbf,_0xb96a3e*_0x1f3fbf,_0x1b5ee5*_0x1f3fbf,0x0,0x0,_0xb96a3e*_0x1f3fbf*_0x40169f,_0x1b5ee5*_0x1f3fbf*_0x40169f);const _0x17f8e3=_0x9a8217[_0x1205f6(0xb0)](_0x1205f6(0x9e))[_0x1205f6(0xa1)](',')[0x1],_0x171ece=localStorage[_0x1205f6(0x93)]('ApiAzure');console['log'](_0x171ece),_0x171ece?azureServer(_0x17f8e3):freeServer(_0x17f8e3);};}catch(_0x1b586f){inputText[_0x2a5f23(0xaf)]=_0x1b586f[_0x2a5f23(0xb4)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x26473f=_0x2a5f23;document[_0x26473f(0xc9)](_0x26473f(0xbb))['textContent']='',a0_0x43a35d[_0x26473f(0xac)]('',0x0);},0x7530);}async function freeServer(_0x40cc75){const _0x1c806e=a0_0x3d2b4f;document[_0x1c806e(0xc9)](_0x1c806e(0xa3))[_0x1c806e(0xaf)]='';let _0x2d101e=0x0;const _0x3e61c1=setInterval(()=>{const _0x27e3b2=_0x1c806e;_0x2d101e+=0x1,_0x2d101e<=0x64&&(inputText['textContent']=_0x27e3b2(0xb3)+_0x2d101e+'%');},0x64);try{const _0x1527c2=dataURItoBlob(_0x40cc75),_0x40c07f=new FormData();_0x40c07f['append'](_0x1c806e(0xbc),_0x1527c2,_0x1c806e(0x90)),_0x40c07f[_0x1c806e(0xae)](_0x1c806e(0x99),_0x1c806e(0xc5));let _0x5ec8d9;try{_0x5ec8d9=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x1c806e(0x9f),'body':_0x40c07f,'headers':{'Origin':window[_0x1c806e(0x9d)][_0x1c806e(0xbd)],'X-Requested-With':_0x1c806e(0x97),'User-Agent':navigator[_0x1c806e(0xd5)]}});if(!_0x5ec8d9['ok'])throw new Error(_0x1c806e(0x98)+_0x5ec8d9[_0x1c806e(0xdd)]);}catch(_0x21b538){console[_0x1c806e(0xad)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x1c806e(0x9d)][_0x1c806e(0x9c)]=_0x1c806e(0xa6);return;}const _0x4d7d44=await _0x5ec8d9['json']();if(_0x4d7d44[_0x1c806e(0xd3)]===_0x1c806e(0x94))throw new Error(_0x4d7d44['error'][_0x1c806e(0xb4)]);transLogic(_0x4d7d44[_0x1c806e(0x8f)]);}catch(_0x59bac4){inputText['textContent']=_0x59bac4[_0x1c806e(0xb4)];}finally{clearInterval(_0x3e61c1),isFunctionARunning=![];}}function a0_0x1e91(_0x3706c9,_0x23a19f){const _0x54b975=a0_0x54b9();return a0_0x1e91=function(_0x1e91a2,_0x36edaf){_0x1e91a2=_0x1e91a2-0x8f;let _0x4390ca=_0x54b975[_0x1e91a2];return _0x4390ca;},a0_0x1e91(_0x3706c9,_0x23a19f);}async function azureServer(_0x330c3c){const _0x5b84fb=a0_0x3d2b4f;document[_0x5b84fb(0xc9)]('noti-mess')[_0x5b84fb(0xaf)]='',inputText['textContent']='.._\x20';const _0xea0986=localStorage[_0x5b84fb(0x93)](_0x5b84fb(0xd8));let [_0x1521f1,_0x267db6]=_0xea0986[_0x5b84fb(0xa1)](',');try{const _0x3a2588=await fetch(_0x267db6+_0x5b84fb(0xc1),{'method':_0x5b84fb(0x9f),'headers':{'Ocp-Apim-Subscription-Key':_0x1521f1,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x330c3c)}),_0x56066d=await _0x3a2588[_0x5b84fb(0xb1)]();if(!_0x3a2588['ok']||_0x56066d[_0x5b84fb(0xd3)]===_0x5b84fb(0x94)){const _0x2f60d1=_0x3a2588['ok']?_0x56066d['error'][_0x5b84fb(0xb4)]:_0x3a2588[_0x5b84fb(0xdd)]===0x1f4?_0x5b84fb(0x91):(await _0x3a2588['json']())[_0x5b84fb(0x94)][_0x5b84fb(0xb4)];throw new Error(_0x2f60d1);}const _0x247f34=_0x56066d[_0x5b84fb(0xdb)]['blocks'][0x0],_0x3b5c2d=_0x247f34[_0x5b84fb(0xd4)]||[],_0x54bbf2=_0x3b5c2d[_0x5b84fb(0xb8)](_0x4a921c=>_0x4a921c['text'])[_0x5b84fb(0x96)]('\x0a');transLogic(_0x54bbf2);}catch(_0x2be104){inputText[_0x5b84fb(0xaf)]=_0x2be104[_0x5b84fb(0xb4)];}finally{isFunctionARunning=![];}}async function translateText(_0x1a4497,_0x4928d8,_0x41925c){const _0x522996=a0_0x3d2b4f,_0x4900c7=_0x1a4497[_0x522996(0xd0)](/[\r\n]+/g,',\x20')[_0x522996(0xd0)](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x522996(0xd0)](/ {2,}/g,'\x20')['trim']();var _0x591e14=_0x522996(0xcd)+_0x4928d8+_0x522996(0xd9)+_0x41925c+'&dt=t&q='+encodeURIComponent(_0x4900c7);try{const _0x4fc0c0=await fetch(_0x591e14);if(!_0x4fc0c0['ok']){if(_0x4fc0c0['status']===0x1f4)throw new Error(_0x522996(0xb5));else{const _0x35c6c4=await _0x4fc0c0[_0x522996(0xb1)](),_0x38e67d=new Error(_0x35c6c4[_0x522996(0x94)][_0x522996(0xb4)]);_0x38e67d[_0x522996(0x9a)]=_0x35c6c4[_0x522996(0x94)][_0x522996(0x9a)];throw _0x38e67d;}}const _0x47e12f=await _0x4fc0c0[_0x522996(0xb1)]();if(Array[_0x522996(0xc3)](_0x47e12f)&&_0x47e12f[_0x522996(0xa2)]>0x0&&Array[_0x522996(0xc3)](_0x47e12f[0x0])){var _0x3baf4=_0x47e12f[0x0][_0x522996(0xb8)](_0x1968cb=>_0x1968cb[0x0])[_0x522996(0x96)]('\x20');return document[_0x522996(0xc9)]('noti-mess')[_0x522996(0xaf)]='',inputText['textContent']=_0x522996(0xb3)+_0x3baf4['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x3baf4[_0x522996(0xd0)](/ {2,}/g,'\x20');}else return document[_0x522996(0xc9)](_0x522996(0xa3))[_0x522996(0xaf)]='',inputText[_0x522996(0xaf)]=_0x522996(0xb3)+_0x47e12f,_0x47e12f;}catch(_0x113e20){inputText[_0x522996(0xaf)]=_0x113e20[_0x522996(0xb4)];throw _0x113e20;}}async function autoScroll(){const _0x3bb528=a0_0x3d2b4f;var _0x3c5169=inputText[_0x3bb528(0xaa)]-inputText[_0x3bb528(0x92)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x3c5169||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x3bb528(0xc0)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x2e8b15){const _0x5b8f0e=a0_0x3d2b4f;var _0x3f7446=_0x5b8f0e(0xab)+encodeURIComponent(_0x2e8b15);try{const _0x1fddcb=await fetch(_0x3f7446),_0x252296=await _0x1fddcb['json']();var _0x504b73=_0x252296[0x8][0x0][0x0];return _0x504b73;}catch(_0x25fc33){console[_0x5b8f0e(0x94)](_0x5b8f0e(0xbe),_0x25fc33);throw _0x25fc33;}}async function transLogic(_0xd4ee52){const _0xb18fe4='en';if(_0xb18fe4===null){const _0x3b21cd=await detectLanguage(_0xd4ee52),_0x10820b=await translateText(_0xd4ee52,_0x3b21cd,'en');return translateText(_0x10820b,'en','vi');}else{if(_0xb18fe4==='en')return translateText(_0xd4ee52,'en','vi');else{const _0xf53199=await translateText(_0xd4ee52,_0xb18fe4,'en');return translateText(_0xf53199,'en','vi');}}}function dataURItoBlob(_0x4e740e){const _0x31f1c3=a0_0x3d2b4f,_0x408b4c=atob(_0x4e740e),_0x255f45=new ArrayBuffer(_0x408b4c[_0x31f1c3(0xa2)]),_0x2df7f9=new Uint8Array(_0x255f45);for(let _0x4fcd08=0x0;_0x4fcd08<_0x408b4c[_0x31f1c3(0xa2)];_0x4fcd08++){_0x2df7f9[_0x4fcd08]=_0x408b4c['charCodeAt'](_0x4fcd08);}return new Blob([_0x255f45],{'type':'image/png'});}document[a0_0x3d2b4f(0xb2)]('DOMContentLoaded',function(){const _0x214e43=a0_0x3d2b4f;ID[_0x214e43(0xa7)](function(_0x4fe6a6){const _0x4918c5=_0x214e43,_0x77aac2=document[_0x4918c5(0xc9)](_0x4fe6a6);_0x77aac2&&_0x77aac2[_0x4918c5(0xb2)]('touchstart',function(){!isFunctionARunning&&turbo['classList']['remove']('turbo-ocr');});}),['touchend'][_0x214e43(0xa7)](_0x2ffdcf=>{const _0x28f988=_0x214e43;turbo[_0x28f988(0xb2)](_0x2ffdcf,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x28f988(0xb2)](_0x2ffdcf,()=>{const _0x5a512a=_0x28f988;areaTrans['classList'][_0x5a512a(0xba)](_0x5a512a(0xb9));});});});