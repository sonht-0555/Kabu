const a0_0x381dfc=a0_0x329b;(function(_0x1e65c4,_0x41248b){const _0x1b1051=a0_0x329b,_0xf8609e=_0x1e65c4();while(!![]){try{const _0x5477a7=parseInt(_0x1b1051(0x202))/0x1*(-parseInt(_0x1b1051(0x204))/0x2)+parseInt(_0x1b1051(0x21c))/0x3+parseInt(_0x1b1051(0x1f5))/0x4*(parseInt(_0x1b1051(0x216))/0x5)+-parseInt(_0x1b1051(0x1e8))/0x6+-parseInt(_0x1b1051(0x20c))/0x7*(parseInt(_0x1b1051(0x224))/0x8)+parseInt(_0x1b1051(0x208))/0x9+-parseInt(_0x1b1051(0x234))/0xa*(-parseInt(_0x1b1051(0x1fc))/0xb);if(_0x5477a7===_0x41248b)break;else _0xf8609e['push'](_0xf8609e['shift']());}catch(_0x2e7836){_0xf8609e['push'](_0xf8609e['shift']());}}}(a0_0x2a60,0x60c9a));import*as a0_0x5df792 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x381dfc(0x1ed)](a0_0x381dfc(0x1fe)),turbo=document[a0_0x381dfc(0x1ed)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x4da647=a0_0x381dfc;turbo[_0x4da647(0x22c)][_0x4da647(0x233)](_0x4da647(0x210));try{const _0x5ba5b4=gameName[_0x4da647(0x1ee)](/\.(gba|gbc|gb|zip)$/,_0x4da647(0x1f3)),_0x3a7258=await a0_0x5df792['captureOCR'](_0x5ba5b4),_0xd796eb=new Blob([_0x3a7258],{'type':'image/png'}),_0x30ac03=await new Promise((_0x8561b1,_0x5de19b)=>{const _0x4edc36=_0x4da647,_0x20df51=new FileReader();_0x20df51['onloadend']=()=>_0x8561b1(_0x20df51[_0x4edc36(0x1e4)]),_0x20df51[_0x4edc36(0x22e)]=_0x5de19b,_0x20df51['readAsDataURL'](_0xd796eb);}),_0x3ac834=new Image();_0x3ac834[_0x4da647(0x21a)]=_0x30ac03,_0x3ac834[_0x4da647(0x20d)]=async()=>{const _0x33965b=_0x4da647,_0x582622=document[_0x33965b(0x222)](_0x33965b(0x1f1)),_0x555c56=_0x582622[_0x33965b(0x1f8)]('2d'),_0x1d76aa=0x4;let _0x23a4e1;gameName[_0x33965b(0x1e9)](_0x33965b(0x212))||gameName[_0x33965b(0x1e9)](_0x33965b(0x220))?_0x23a4e1=0x3/0x6:_0x23a4e1=0x3/0x4;const _0x4df5cd=localStorage['getItem'](gameName+_0x33965b(0x1fb))||localStorage[_0x33965b(0x215)](_0x33965b(0x209)),[_0x26894e,_0x5e1bee,_0x793c72,_0x3d962e]=_0x4df5cd[_0x33965b(0x213)](',')[_0x33965b(0x1ec)](Number);_0x582622[_0x33965b(0x206)]=_0x793c72*_0x23a4e1*_0x1d76aa,_0x582622[_0x33965b(0x1f4)]=_0x3d962e*_0x23a4e1*_0x1d76aa,_0x555c56[_0x33965b(0x1f0)](_0x3ac834,_0x26894e*_0x23a4e1,_0x5e1bee*_0x23a4e1,_0x793c72*_0x23a4e1,_0x3d962e*_0x23a4e1,0x0,0x0,_0x793c72*_0x23a4e1*_0x1d76aa,_0x3d962e*_0x23a4e1*_0x1d76aa);const _0x368363=_0x582622[_0x33965b(0x1ef)]('image/png')['split'](',')[0x1],_0xe05b54=localStorage[_0x33965b(0x215)](_0x33965b(0x211));console[_0x33965b(0x20b)](_0xe05b54),_0xe05b54?azureServer(_0x368363):freeServer(_0x368363);};}catch(_0x22f765){inputText['textContent']=_0x22f765[_0x4da647(0x221)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2116a9=_0x4da647;document[_0x2116a9(0x1ed)](_0x2116a9(0x1fe))[_0x2116a9(0x223)]='',a0_0x5df792[_0x2116a9(0x218)]('',0x0);},0x7530);}async function freeServer(_0x40113c){const _0x5ddcfa=a0_0x381dfc;document['getElementById']('noti-mess')['textContent']='';let _0x15afde=0x0;const _0x3c46f9=setInterval(()=>{const _0x37fe89=a0_0x329b;_0x15afde+=0x1,_0x15afde<=0x64&&(inputText[_0x37fe89(0x223)]=_0x37fe89(0x1fd)+_0x15afde+'%');},0x64);try{const _0x5a65ee=dataURItoBlob(_0x40113c),_0x4a6721=new FormData();_0x4a6721[_0x5ddcfa(0x225)](_0x5ddcfa(0x1f2),_0x5a65ee,_0x5ddcfa(0x227)),_0x4a6721[_0x5ddcfa(0x225)](_0x5ddcfa(0x214),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0xec005;try{_0xec005=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x5ddcfa(0x230),'body':_0x4a6721,'headers':{'Origin':window[_0x5ddcfa(0x205)]['origin'],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x5ddcfa(0x226)]}});if(!_0xec005['ok'])throw new Error(_0x5ddcfa(0x203)+_0xec005['status']);}catch(_0x162615){console[_0x5ddcfa(0x231)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x5ddcfa(0x205)]['href']=_0x5ddcfa(0x1eb);return;}const _0x32e4a7=await _0xec005[_0x5ddcfa(0x20e)]();if(_0x32e4a7[_0x5ddcfa(0x1f7)]===_0x5ddcfa(0x1fa))throw new Error(_0x32e4a7[_0x5ddcfa(0x1fa)]['message']);transLogic(_0x32e4a7[_0x5ddcfa(0x22d)]);}catch(_0x2d2087){inputText[_0x5ddcfa(0x223)]=_0x2d2087[_0x5ddcfa(0x221)];}finally{clearInterval(_0x3c46f9),isFunctionARunning=![];}}function a0_0x2a60(){const _0x318079=['code','classList','text','onerror','image/png','POST','warn','clientWidth','add','400FXXtMs','isArray','result','DOMContentLoaded','noti-mess','Error\x20detecting\x20language:','2417472CbOQcw','endsWith','500\x20Internal\x20Server\x20Error','https://cors-anywhere.herokuapp.com/corsdemo','map','getElementById','replace','toDataURL','drawImage','canvas','image','.png','height','1212LKgxbO','trim','type','getContext','touchend','error','_setArea','138963GXMqkJ','.._\x20','inputText','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','join','addEventListener','49739eJeZuw','HTTP\x20Error:\x20','6YMUGOx','location','width','&tl=','951111MFPifR','screenSize','touchstart','log','175MxwtLF','onload','json','readResult','turbo-ocr','ApiAzure','.gbc','split','user','getItem','1665ppaNMe','length','notiMessage','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','src','status','2128794vheZDJ','forEach','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','visible','.gb','message','createElement','textContent','151336WYNKSO','append','userAgent','image.png','remove','blocks','scrollLeft'];a0_0x2a60=function(){return _0x318079;};return a0_0x2a60();}async function azureServer(_0x694676){const _0x11946c=a0_0x381dfc;document[_0x11946c(0x1ed)](_0x11946c(0x1e6))['textContent']='',inputText[_0x11946c(0x223)]=_0x11946c(0x1fd);const _0x41b64d=localStorage['getItem'](_0x11946c(0x211));let [_0x365fe4,_0x574737]=_0x41b64d[_0x11946c(0x213)](',');try{const _0x14bd6f=await fetch(_0x574737+_0x11946c(0x1ff),{'method':_0x11946c(0x230),'headers':{'Ocp-Apim-Subscription-Key':_0x365fe4,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x694676)}),_0x3e9c76=await _0x14bd6f['json']();if(!_0x14bd6f['ok']||_0x3e9c76[_0x11946c(0x1f7)]===_0x11946c(0x1fa)){const _0x5ec6ac=_0x14bd6f['ok']?_0x3e9c76[_0x11946c(0x1fa)][_0x11946c(0x221)]:_0x14bd6f[_0x11946c(0x21b)]===0x1f4?_0x11946c(0x1ea):(await _0x14bd6f['json']())[_0x11946c(0x1fa)][_0x11946c(0x221)];throw new Error(_0x5ec6ac);}const _0x2d630c=_0x3e9c76[_0x11946c(0x20f)][_0x11946c(0x229)][0x0],_0x6f4655=_0x2d630c['lines']||[],_0x2cdc74=_0x6f4655[_0x11946c(0x1ec)](_0x21115a=>_0x21115a[_0x11946c(0x22d)])[_0x11946c(0x200)]('\x0a');transLogic(_0x2cdc74);}catch(_0x5c1994){inputText['textContent']=_0x5c1994[_0x11946c(0x221)];}finally{isFunctionARunning=![];}}async function translateText(_0x45108f,_0x1aeca7,_0x5b1a5e){const _0x131377=a0_0x381dfc,_0x875105=_0x45108f[_0x131377(0x1ee)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,'$1\x20')[_0x131377(0x1ee)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x131377(0x1f6)]();var _0x33b818=_0x131377(0x21e)+_0x1aeca7+_0x131377(0x207)+_0x5b1a5e+'&dt=t&q='+encodeURIComponent(_0x875105);try{const _0x49b510=await fetch(_0x33b818);if(!_0x49b510['ok']){if(_0x49b510[_0x131377(0x21b)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x4fa79a=await _0x49b510['json'](),_0x47a103=new Error(_0x4fa79a[_0x131377(0x1fa)]['message']);_0x47a103['code']=_0x4fa79a['error'][_0x131377(0x22b)];throw _0x47a103;}}const _0x283744=await _0x49b510[_0x131377(0x20e)]();if(Array[_0x131377(0x1e3)](_0x283744)&&_0x283744[_0x131377(0x217)]>0x0&&Array[_0x131377(0x1e3)](_0x283744[0x0])){var _0x875076=_0x283744[0x0][_0x131377(0x1ec)](_0x125aef=>_0x125aef[0x0])[_0x131377(0x200)]('\x20');return document[_0x131377(0x1ed)](_0x131377(0x1e6))[_0x131377(0x223)]='',inputText[_0x131377(0x223)]=_0x131377(0x1fd)+_0x875076['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x875076[_0x131377(0x1ee)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x131377(0x1e6))[_0x131377(0x223)]='',inputText[_0x131377(0x223)]=_0x131377(0x1fd)+_0x283744,_0x283744;}catch(_0xb6a9bf){inputText[_0x131377(0x223)]=_0xb6a9bf[_0x131377(0x221)];throw _0xb6a9bf;}}async function autoScroll(){const _0x1478b9=a0_0x381dfc;var _0x3c8c58=inputText['scrollWidth']-inputText[_0x1478b9(0x232)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x3c8c58||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x1478b9(0x22a)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x15a1a6){const _0x374fef=a0_0x381dfc;var _0x46f5bc=_0x374fef(0x219)+encodeURIComponent(_0x15a1a6);try{const _0x3fb16a=await fetch(_0x46f5bc),_0x37326c=await _0x3fb16a['json']();var _0x3487df=_0x37326c[0x8][0x0][0x0];return _0x3487df;}catch(_0x35d1c2){console[_0x374fef(0x1fa)](_0x374fef(0x1e7),_0x35d1c2);throw _0x35d1c2;}}function a0_0x329b(_0x83d0ef,_0x3787ff){const _0x2a608c=a0_0x2a60();return a0_0x329b=function(_0x329b21,_0x251fb0){_0x329b21=_0x329b21-0x1e3;let _0xa0daea=_0x2a608c[_0x329b21];return _0xa0daea;},a0_0x329b(_0x83d0ef,_0x3787ff);}async function transLogic(_0x4d7cfb){const _0x296ffd='en';if(_0x296ffd===null){const _0x3b5151=await detectLanguage(_0x4d7cfb),_0x34e6e9=await translateText(_0x4d7cfb,_0x3b5151,'en');return translateText(_0x34e6e9,'en','vi');}else{if(_0x296ffd==='en')return translateText(_0x4d7cfb,'en','vi');else{const _0x410acb=await translateText(_0x4d7cfb,_0x296ffd,'en');return translateText(_0x410acb,'en','vi');}}}function dataURItoBlob(_0x34545a){const _0x3dc958=a0_0x381dfc,_0x1fc5de=atob(_0x34545a),_0x2fcc67=new ArrayBuffer(_0x1fc5de['length']),_0x48c801=new Uint8Array(_0x2fcc67);for(let _0x2686cd=0x0;_0x2686cd<_0x1fc5de[_0x3dc958(0x217)];_0x2686cd++){_0x48c801[_0x2686cd]=_0x1fc5de['charCodeAt'](_0x2686cd);}return new Blob([_0x2fcc67],{'type':_0x3dc958(0x22f)});}document[a0_0x381dfc(0x201)](a0_0x381dfc(0x1e5),function(){const _0x334086=a0_0x381dfc;ID[_0x334086(0x21d)](function(_0x19a4fc){const _0x22ab22=_0x334086,_0x30a7eb=document['getElementById'](_0x19a4fc);_0x30a7eb&&_0x30a7eb[_0x22ab22(0x201)](_0x22ab22(0x20a),function(){const _0x497f91=_0x22ab22;!isFunctionARunning&&turbo[_0x497f91(0x22c)][_0x497f91(0x228)]('turbo-ocr');});}),[_0x334086(0x1f9)][_0x334086(0x21d)](_0x2228cc=>{const _0x52726f=_0x334086;turbo[_0x52726f(0x201)](_0x2228cc,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x2228cc,()=>{const _0x13ca60=_0x52726f;areaTrans['classList']['toggle'](_0x13ca60(0x21f));});});});