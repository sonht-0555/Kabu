const a0_0x1ad6b1=a0_0x23c3;(function(_0x360d07,_0xc530c2){const _0x21898c=a0_0x23c3,_0x5d6a7e=_0x360d07();while(!![]){try{const _0x4df4fc=-parseInt(_0x21898c(0x1cd))/0x1*(-parseInt(_0x21898c(0x1e7))/0x2)+-parseInt(_0x21898c(0x1d3))/0x3+parseInt(_0x21898c(0x1de))/0x4*(parseInt(_0x21898c(0x1eb))/0x5)+-parseInt(_0x21898c(0x1ef))/0x6*(parseInt(_0x21898c(0x1ee))/0x7)+parseInt(_0x21898c(0x1dd))/0x8*(parseInt(_0x21898c(0x1fe))/0x9)+-parseInt(_0x21898c(0x209))/0xa+parseInt(_0x21898c(0x207))/0xb*(-parseInt(_0x21898c(0x202))/0xc);if(_0x4df4fc===_0xc530c2)break;else _0x5d6a7e['push'](_0x5d6a7e['shift']());}catch(_0x142cca){_0x5d6a7e['push'](_0x5d6a7e['shift']());}}}(a0_0x4a5a,0xcb4e7));import*as a0_0x464ead from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x1ad6b1(0x1f9)](a0_0x1ad6b1(0x211)),turbo=document[a0_0x1ad6b1(0x1f9)](a0_0x1ad6b1(0x1fd)),ID=['A','B','R','L'];async function getImage(){const _0x12da40=a0_0x1ad6b1;turbo['classList'][_0x12da40(0x1ea)]('turbo-ocr');try{const _0x3885df=gameName[_0x12da40(0x1e2)](/\.(gba|gbc|gb|zip)$/,_0x12da40(0x1e5)),_0x908660=await a0_0x464ead[_0x12da40(0x204)](_0x3885df),_0x2927da=new Blob([_0x908660],{'type':_0x12da40(0x214)}),_0x2949c4=await new Promise((_0x38d92c,_0xb90d92)=>{const _0x16906f=_0x12da40,_0x508f7c=new FileReader();_0x508f7c['onloadend']=()=>_0x38d92c(_0x508f7c[_0x16906f(0x1f3)]),_0x508f7c[_0x16906f(0x1ff)]=_0xb90d92,_0x508f7c['readAsDataURL'](_0x2927da);}),_0x2a6f83=new Image();_0x2a6f83['src']=_0x2949c4,_0x2a6f83[_0x12da40(0x1d0)]=async()=>{const _0x256a12=_0x12da40,_0x160118=document[_0x256a12(0x1fb)](_0x256a12(0x1cf)),_0x1666f6=_0x160118['getContext']('2d'),_0x2ccf2a=0x4;let _0xebd9c7;gameName[_0x256a12(0x1e1)]('.gbc')||gameName[_0x256a12(0x1e1)](_0x256a12(0x1d2))?_0xebd9c7=0x3/0x6:_0xebd9c7=0x3/0x4;const _0x5744fd=localStorage[_0x256a12(0x1e6)](gameName+_0x256a12(0x1da))||localStorage[_0x256a12(0x1e6)]('screenSize'),[_0x18590f,_0x3c96ea,_0x37a983,_0xa9fc78]=_0x5744fd[_0x256a12(0x20a)](',')[_0x256a12(0x212)](Number);_0x160118['width']=_0x37a983*_0xebd9c7*_0x2ccf2a,_0x160118['height']=_0xa9fc78*_0xebd9c7*_0x2ccf2a,_0x1666f6[_0x256a12(0x1e3)](_0x2a6f83,_0x18590f*_0xebd9c7,_0x3c96ea*_0xebd9c7,_0x37a983*_0xebd9c7,_0xa9fc78*_0xebd9c7,0x0,0x0,_0x37a983*_0xebd9c7*_0x2ccf2a,_0xa9fc78*_0xebd9c7*_0x2ccf2a);const _0x1286de=_0x160118[_0x256a12(0x1d4)](_0x256a12(0x214))[_0x256a12(0x20a)](',')[0x1],_0x253fd0=localStorage['getItem'](_0x256a12(0x1ed));console[_0x256a12(0x1f7)](_0x253fd0),_0x253fd0?azureServer(_0x1286de):freeServer(_0x1286de);};}catch(_0x52979b){inputText[_0x12da40(0x1d1)]=_0x52979b[_0x12da40(0x215)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x4f7f7e=_0x12da40;document[_0x4f7f7e(0x1f9)](_0x4f7f7e(0x211))[_0x4f7f7e(0x1d1)]='',a0_0x464ead['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x445e9c){const _0x5a70cc=a0_0x1ad6b1;document['getElementById']('noti-mess')[_0x5a70cc(0x1d1)]='';let _0x3affd8=0x0;const _0x560c90=setInterval(()=>{const _0x3cd18b=_0x5a70cc;_0x3affd8+=0x1,_0x3affd8<=0x64&&(inputText['textContent']=_0x3cd18b(0x1e4)+_0x3affd8+'%');},0x64);try{const _0x56638f=dataURItoBlob(_0x445e9c),_0x33f1a=new FormData();_0x33f1a[_0x5a70cc(0x208)]('image',_0x56638f,'image.png'),_0x33f1a['append'](_0x5a70cc(0x1f4),_0x5a70cc(0x20f));let _0xe890fe;try{_0xe890fe=await fetch(_0x5a70cc(0x1e9),{'method':_0x5a70cc(0x1ca),'body':_0x33f1a,'headers':{'Origin':window[_0x5a70cc(0x216)][_0x5a70cc(0x206)],'X-Requested-With':_0x5a70cc(0x1fa),'User-Agent':navigator[_0x5a70cc(0x1f1)]}});if(!_0xe890fe['ok'])throw new Error('HTTP\x20Error:\x20'+_0xe890fe[_0x5a70cc(0x203)]);}catch(_0x236184){console[_0x5a70cc(0x1d9)](_0x5a70cc(0x201)),window[_0x5a70cc(0x216)][_0x5a70cc(0x1cc)]=_0x5a70cc(0x1df);return;}const _0x52dbdb=await _0xe890fe[_0x5a70cc(0x20c)]();if(_0x52dbdb[_0x5a70cc(0x213)]==='error')throw new Error(_0x52dbdb[_0x5a70cc(0x1f0)]['message']);transLogic(_0x52dbdb[_0x5a70cc(0x1db)]);}catch(_0x211096){inputText[_0x5a70cc(0x1d1)]=_0x211096['message'];}finally{clearInterval(_0x560c90),isFunctionARunning=![];}}async function azureServer(_0x33263c){const _0x39e3e3=a0_0x1ad6b1;document[_0x39e3e3(0x1f9)](_0x39e3e3(0x1d7))[_0x39e3e3(0x1d1)]='',inputText[_0x39e3e3(0x1d1)]=_0x39e3e3(0x1e4);const _0x58737f=localStorage['getItem'](_0x39e3e3(0x1ed));let [_0x3197c8,_0xd50722]=_0x58737f[_0x39e3e3(0x20a)](',');try{const _0x249909=await fetch(_0xd50722+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x39e3e3(0x1ca),'headers':{'Ocp-Apim-Subscription-Key':_0x3197c8,'Content-Type':_0x39e3e3(0x1e8)},'body':dataURItoBlob(_0x33263c)}),_0x45baaa=await _0x249909[_0x39e3e3(0x20c)]();if(!_0x249909['ok']||_0x45baaa['type']==='error'){const _0xf1d7f2=_0x249909['ok']?_0x45baaa['error'][_0x39e3e3(0x215)]:_0x249909['status']===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x249909[_0x39e3e3(0x20c)]())[_0x39e3e3(0x1f0)][_0x39e3e3(0x215)];throw new Error(_0xf1d7f2);}const _0xae1566=_0x45baaa[_0x39e3e3(0x1c9)][_0x39e3e3(0x1fc)][0x0],_0x58b080=_0xae1566['lines']||[],_0x1f0514=_0x58b080['map'](_0x163570=>_0x163570[_0x39e3e3(0x1db)])['join']('\x0a');transLogic(_0x1f0514);}catch(_0x38c333){inputText[_0x39e3e3(0x1d1)]=_0x38c333[_0x39e3e3(0x215)];}finally{isFunctionARunning=![];}}async function translateText(_0x5642a6,_0x4c65ef,_0x2738d6){const _0x5ba73f=a0_0x1ad6b1,_0x3266e1=_0x5642a6[_0x5ba73f(0x1e2)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x5ba73f(0x1e2)](/ {2,}/g,'\x20')['trim']();var _0x114d7e=_0x5ba73f(0x1d8)+_0x4c65ef+_0x5ba73f(0x20d)+_0x2738d6+_0x5ba73f(0x1f5)+encodeURIComponent(_0x3266e1);try{const _0x1206b2=await fetch(_0x114d7e);if(!_0x1206b2['ok']){if(_0x1206b2['status']===0x1f4)throw new Error(_0x5ba73f(0x1dc));else{const _0x1cea12=await _0x1206b2[_0x5ba73f(0x20c)](),_0x583620=new Error(_0x1cea12['error'][_0x5ba73f(0x215)]);_0x583620[_0x5ba73f(0x1ce)]=_0x1cea12[_0x5ba73f(0x1f0)]['code'];throw _0x583620;}}const _0x4f34cf=await _0x1206b2[_0x5ba73f(0x20c)]();if(Array['isArray'](_0x4f34cf)&&_0x4f34cf['length']>0x0&&Array['isArray'](_0x4f34cf[0x0])){var _0x4ea5b3=_0x4f34cf[0x0]['map'](_0x4411f3=>_0x4411f3[0x0])[_0x5ba73f(0x1cb)]('\x20');return document[_0x5ba73f(0x1f9)]('noti-mess')[_0x5ba73f(0x1d1)]='',inputText[_0x5ba73f(0x1d1)]=_0x5ba73f(0x1e4)+_0x4ea5b3[_0x5ba73f(0x1e2)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4ea5b3['replace'](/ {2,}/g,'\x20');}else return document['getElementById'](_0x5ba73f(0x1d7))[_0x5ba73f(0x1d1)]='',inputText[_0x5ba73f(0x1d1)]=_0x5ba73f(0x1e4)+_0x4f34cf,_0x4f34cf;}catch(_0x3a79c1){inputText['textContent']=_0x3a79c1['message'];throw _0x3a79c1;}}async function autoScroll(){const _0xd5b6c4=a0_0x1ad6b1;var _0x554269=inputText['scrollWidth']-inputText[_0xd5b6c4(0x205)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x554269||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0xd5b6c4(0x20b)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}function a0_0x23c3(_0x141973,_0x492efe){const _0x4a5aff=a0_0x4a5a();return a0_0x23c3=function(_0x23c3a4,_0x918c93){_0x23c3a4=_0x23c3a4-0x1c8;let _0xb07195=_0x4a5aff[_0x23c3a4];return _0xb07195;},a0_0x23c3(_0x141973,_0x492efe);}async function detectLanguage(_0x46be48){const _0x2a907f=a0_0x1ad6b1;var _0x5f4a9b=_0x2a907f(0x1e0)+encodeURIComponent(_0x46be48);try{const _0x1e2544=await fetch(_0x5f4a9b),_0x10a890=await _0x1e2544['json']();var _0x56f2dc=_0x10a890[0x8][0x0][0x0];return _0x56f2dc;}catch(_0x2e402b){console[_0x2a907f(0x1f0)]('Error\x20detecting\x20language:',_0x2e402b);throw _0x2e402b;}}async function transLogic(_0x25eee6){const _0x2d7d71='en';if(_0x2d7d71===null){const _0xf9e298=await detectLanguage(_0x25eee6),_0x2980e2=await translateText(_0x25eee6,_0xf9e298,'en');return translateText(_0x2980e2,'en','vi');}else{if(_0x2d7d71==='en')return translateText(_0x25eee6,'en','vi');else{const _0x286fa9=await translateText(_0x25eee6,_0x2d7d71,'en');return translateText(_0x286fa9,'en','vi');}}}function dataURItoBlob(_0x16e241){const _0x53b0a2=a0_0x1ad6b1,_0xae5e42=atob(_0x16e241),_0x5b6d38=new ArrayBuffer(_0xae5e42[_0x53b0a2(0x1f8)]),_0x45a85d=new Uint8Array(_0x5b6d38);for(let _0x1e082c=0x0;_0x1e082c<_0xae5e42['length'];_0x1e082c++){_0x45a85d[_0x1e082c]=_0xae5e42[_0x53b0a2(0x1d6)](_0x1e082c);}return new Blob([_0x5b6d38],{'type':'image/png'});}document[a0_0x1ad6b1(0x1f2)](a0_0x1ad6b1(0x210),function(){const _0x5388b5=a0_0x1ad6b1;ID[_0x5388b5(0x1d5)](function(_0x1da813){const _0x2ce479=_0x5388b5,_0x199f32=document['getElementById'](_0x1da813);_0x199f32&&_0x199f32[_0x2ce479(0x1f2)](_0x2ce479(0x1c8),function(){const _0x496e5e=_0x2ce479;!isFunctionARunning&&turbo[_0x496e5e(0x200)][_0x496e5e(0x1f6)]('turbo-ocr');});}),['touchend'][_0x5388b5(0x1d5)](_0x4b29d4=>{const _0xf3d62=_0x5388b5;turbo[_0xf3d62(0x1f2)](_0x4b29d4,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0xf3d62(0x1f2)](_0x4b29d4,()=>{const _0x57767f=_0xf3d62;areaTrans[_0x57767f(0x200)][_0x57767f(0x20e)](_0x57767f(0x1ec));});});});function a0_0x4a5a(){const _0x11b92a=['code','canvas','onload','textContent','.gb','4261062IPUGHw','toDataURL','forEach','charCodeAt','noti-mess','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','warn','_setArea','text','Internal\x20Server\x20Error','72NrMqDn','4RTYDmv','https://cors-anywhere.herokuapp.com/corsdemo','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','endsWith','replace','drawImage','.._\x20','.png','getItem','44CKdrDS','application/octet-stream','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','add','7468735pWwUQN','visible','ApiAzure','7fGcrBc','4013430zEuGkn','error','userAgent','addEventListener','result','user','&dt=t&q=','remove','log','length','getElementById','XMLHttpRequest','createElement','blocks','turbo','1218816lUZnay','onerror','classList','Cors-controlers\x20have\x20not\x20been\x20activated.','228apvEkz','status','captureOCR','clientWidth','origin','490193YCBZIa','append','456460DYjrrX','split','scrollLeft','json','&tl=','toggle','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','DOMContentLoaded','inputText','map','type','image/png','message','location','touchstart','readResult','POST','join','href','50081qnOSdk'];a0_0x4a5a=function(){return _0x11b92a;};return a0_0x4a5a();}