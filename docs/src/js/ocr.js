const a0_0x4c8de2=a0_0xd31f;(function(_0x22cb09,_0x3642f8){const _0x12600d=a0_0xd31f,_0x589c22=_0x22cb09();while(!![]){try{const _0x5daf97=parseInt(_0x12600d(0x103))/0x1*(parseInt(_0x12600d(0xfc))/0x2)+-parseInt(_0x12600d(0x11c))/0x3*(parseInt(_0x12600d(0xe8))/0x4)+-parseInt(_0x12600d(0x113))/0x5*(-parseInt(_0x12600d(0xd7))/0x6)+-parseInt(_0x12600d(0x11f))/0x7+parseInt(_0x12600d(0x100))/0x8+parseInt(_0x12600d(0x108))/0x9+parseInt(_0x12600d(0xf1))/0xa*(-parseInt(_0x12600d(0xe6))/0xb);if(_0x5daf97===_0x3642f8)break;else _0x589c22['push'](_0x589c22['shift']());}catch(_0x56539c){_0x589c22['push'](_0x589c22['shift']());}}}(a0_0x3d98,0x81f75));import*as a0_0x3695dc from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];function a0_0x3d98(){const _0x3a7a03=['onloadend','HTTP\x20Error:\x20','height','join','append','width','trim','519262ADnFWR','scrollLeft','location','canvas','900336dZqfYy','map','POST','3bxGqLK','toDataURL','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','readResult','error','7414668xudMqO','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','https://cors-anywhere.herokuapp.com/corsdemo','DOMContentLoaded','isArray','addEventListener','captureOCR','message','status','touchstart','textContent','10RwQJPt','clientWidth','.._\x20','type','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','src','length','split','log','3ALJuhM','$1\x20','getContext','3998260hQbFvi','getItem','turbo-ocr','image.png','endsWith','onerror','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','json','ApiAzure','readAsDataURL','createElement','_setArea','image/png','2732238uzIikd','&tl=','user','.gbc','getElementById','noti-mess','screenSize','Cors-controlers\x20have\x20not\x20been\x20activated.','code','classList','origin','XMLHttpRequest','500\x20Internal\x20Server\x20Error','scrollWidth','inputText','44AWNTyn','lines','1625504OBTpCz','touchend','href','toggle','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','replace','notiMessage','result','forEach','2790340CzFwpj','warn','.gb','userAgent'];a0_0x3d98=function(){return _0x3a7a03;};return a0_0x3d98();}var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x4c8de2(0xdb)]('inputText'),turbo=document[a0_0x4c8de2(0xdb)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x4ec4dd=a0_0x4c8de2;turbo[_0x4ec4dd(0xe0)]['add'](_0x4ec4dd(0xcc));try{const _0x193059=gameName[_0x4ec4dd(0xed)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x5adaa6=await a0_0x3695dc[_0x4ec4dd(0x10e)](_0x193059),_0x4055bb=new Blob([_0x5adaa6],{'type':_0x4ec4dd(0xd6)}),_0x2669ee=await new Promise((_0x3e1bc5,_0x4429b7)=>{const _0x4dc49b=_0x4ec4dd,_0x1a208c=new FileReader();_0x1a208c[_0x4dc49b(0xf5)]=()=>_0x3e1bc5(_0x1a208c[_0x4dc49b(0xef)]),_0x1a208c[_0x4dc49b(0xcf)]=_0x4429b7,_0x1a208c[_0x4dc49b(0xd3)](_0x4055bb);}),_0x27d19a=new Image();_0x27d19a[_0x4ec4dd(0x118)]=_0x2669ee,_0x27d19a['onload']=async()=>{const _0x2c5a09=_0x4ec4dd,_0xe2433e=document[_0x2c5a09(0xd4)](_0x2c5a09(0xff)),_0x15d99e=_0xe2433e[_0x2c5a09(0x11e)]('2d'),_0x225dde=0x4;let _0x10a9cd;gameName[_0x2c5a09(0xce)](_0x2c5a09(0xda))||gameName[_0x2c5a09(0xce)](_0x2c5a09(0xf3))?_0x10a9cd=0x3/0x6:_0x10a9cd=0x3/0x4;const _0x8c2f0e=localStorage[_0x2c5a09(0x120)](gameName+_0x2c5a09(0xd5))||localStorage[_0x2c5a09(0x120)](_0x2c5a09(0xdd)),[_0x47c9a6,_0xba6be4,_0xb8e6e7,_0x42aa54]=_0x8c2f0e[_0x2c5a09(0x11a)](',')[_0x2c5a09(0x101)](Number);_0xe2433e[_0x2c5a09(0xfa)]=_0xb8e6e7*_0x10a9cd*_0x225dde,_0xe2433e[_0x2c5a09(0xf7)]=_0x42aa54*_0x10a9cd*_0x225dde,_0x15d99e['drawImage'](_0x27d19a,_0x47c9a6*_0x10a9cd,_0xba6be4*_0x10a9cd,_0xb8e6e7*_0x10a9cd,_0x42aa54*_0x10a9cd,0x0,0x0,_0xb8e6e7*_0x10a9cd*_0x225dde,_0x42aa54*_0x10a9cd*_0x225dde);const _0x172e23=_0xe2433e[_0x2c5a09(0x104)](_0x2c5a09(0xd6))[_0x2c5a09(0x11a)](',')[0x1],_0x4cb673=localStorage[_0x2c5a09(0x120)](_0x2c5a09(0xd2));console[_0x2c5a09(0x11b)](_0x4cb673),_0x4cb673?azureServer(_0x172e23):freeServer(_0x172e23);};}catch(_0x421222){inputText[_0x4ec4dd(0x112)]=_0x421222['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x1a8d9c=_0x4ec4dd;document[_0x1a8d9c(0xdb)](_0x1a8d9c(0xe5))[_0x1a8d9c(0x112)]='',a0_0x3695dc[_0x1a8d9c(0xee)]('',0x0);},0x7530);}async function freeServer(_0x235964){const _0x4b49ae=a0_0x4c8de2;document[_0x4b49ae(0xdb)](_0x4b49ae(0xdc))[_0x4b49ae(0x112)]='';let _0x5c04ef=0x0;const _0x5cc1f3=setInterval(()=>{const _0x5b048b=_0x4b49ae;_0x5c04ef+=0x1,_0x5c04ef<=0x64&&(inputText[_0x5b048b(0x112)]=_0x5b048b(0x115)+_0x5c04ef+'%');},0x64);try{const _0x222783=dataURItoBlob(_0x235964),_0x29ff15=new FormData();_0x29ff15['append']('image',_0x222783,_0x4b49ae(0xcd)),_0x29ff15[_0x4b49ae(0xf9)](_0x4b49ae(0xd9),_0x4b49ae(0x109));let _0x39c70f;try{_0x39c70f=await fetch(_0x4b49ae(0x117),{'method':_0x4b49ae(0x102),'body':_0x29ff15,'headers':{'Origin':window[_0x4b49ae(0xfe)][_0x4b49ae(0xe1)],'X-Requested-With':_0x4b49ae(0xe2),'User-Agent':navigator[_0x4b49ae(0xf4)]}});if(!_0x39c70f['ok'])throw new Error(_0x4b49ae(0xf6)+_0x39c70f[_0x4b49ae(0x110)]);}catch(_0x1b3462){console[_0x4b49ae(0xf2)](_0x4b49ae(0xde)),window[_0x4b49ae(0xfe)][_0x4b49ae(0xea)]=_0x4b49ae(0x10a);return;}const _0x206057=await _0x39c70f['json']();if(_0x206057[_0x4b49ae(0x116)]===_0x4b49ae(0x107))throw new Error(_0x206057[_0x4b49ae(0x107)]['message']);transLogic(_0x206057['text']);}catch(_0x787e8f){inputText[_0x4b49ae(0x112)]=_0x787e8f[_0x4b49ae(0x10f)];}finally{clearInterval(_0x5cc1f3),isFunctionARunning=![];}}async function azureServer(_0x160bff){const _0xdff83=a0_0x4c8de2;document[_0xdff83(0xdb)](_0xdff83(0xdc))['textContent']='',inputText[_0xdff83(0x112)]=_0xdff83(0x115);const _0x268f52=localStorage[_0xdff83(0x120)]('ApiAzure');let [_0x3dacb7,_0x48a37b]=_0x268f52[_0xdff83(0x11a)](',');try{const _0x33d583=await fetch(_0x48a37b+_0xdff83(0x105),{'method':_0xdff83(0x102),'headers':{'Ocp-Apim-Subscription-Key':_0x3dacb7,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x160bff)}),_0x4f44fe=await _0x33d583[_0xdff83(0xd1)]();if(!_0x33d583['ok']||_0x4f44fe[_0xdff83(0x116)]===_0xdff83(0x107)){const _0x5ce1cf=_0x33d583['ok']?_0x4f44fe[_0xdff83(0x107)][_0xdff83(0x10f)]:_0x33d583[_0xdff83(0x110)]===0x1f4?_0xdff83(0xe3):(await _0x33d583[_0xdff83(0xd1)]())[_0xdff83(0x107)][_0xdff83(0x10f)];throw new Error(_0x5ce1cf);}const _0x22c7ff=_0x4f44fe[_0xdff83(0x106)]['blocks'][0x0],_0x1366db=_0x22c7ff[_0xdff83(0xe7)]||[],_0x5091ef=_0x1366db[_0xdff83(0x101)](_0x31f50c=>_0x31f50c['text'])[_0xdff83(0xf8)]('\x0a');transLogic(_0x5091ef);}catch(_0x58f4e1){inputText[_0xdff83(0x112)]=_0x58f4e1[_0xdff83(0x10f)];}finally{isFunctionARunning=![];}}async function translateText(_0x181e22,_0x2e3645,_0x164166){const _0x175fc0=a0_0x4c8de2,_0x4669ea=_0x181e22['replace'](/[\r\n]+/g,',\x20')[_0x175fc0(0xed)](/([!?.,])\s*,\s*/g,_0x175fc0(0x11d))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x175fc0(0xed)](/ {2,}/g,'\x20')[_0x175fc0(0xfb)]();var _0x360346=_0x175fc0(0xd0)+_0x2e3645+_0x175fc0(0xd8)+_0x164166+'&dt=t&q='+encodeURIComponent(_0x4669ea);try{const _0x445a14=await fetch(_0x360346);if(!_0x445a14['ok']){if(_0x445a14['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x23ecef=await _0x445a14['json'](),_0x150f1f=new Error(_0x23ecef[_0x175fc0(0x107)][_0x175fc0(0x10f)]);_0x150f1f[_0x175fc0(0xdf)]=_0x23ecef['error'][_0x175fc0(0xdf)];throw _0x150f1f;}}const _0x21497b=await _0x445a14[_0x175fc0(0xd1)]();if(Array[_0x175fc0(0x10c)](_0x21497b)&&_0x21497b[_0x175fc0(0x119)]>0x0&&Array[_0x175fc0(0x10c)](_0x21497b[0x0])){var _0x1115c4=_0x21497b[0x0][_0x175fc0(0x101)](_0x5c3afd=>_0x5c3afd[0x0])[_0x175fc0(0xf8)]('\x20');return document[_0x175fc0(0xdb)]('noti-mess')['textContent']='',inputText[_0x175fc0(0x112)]=_0x175fc0(0x115)+_0x1115c4[_0x175fc0(0xed)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x1115c4[_0x175fc0(0xed)](/ {2,}/g,'\x20');}else return document[_0x175fc0(0xdb)](_0x175fc0(0xdc))[_0x175fc0(0x112)]='',inputText[_0x175fc0(0x112)]=_0x175fc0(0x115)+_0x21497b,_0x21497b;}catch(_0x3ae3c2){inputText[_0x175fc0(0x112)]=_0x3ae3c2['message'];throw _0x3ae3c2;}}async function autoScroll(){const _0x2f7445=a0_0x4c8de2;var _0x576f6a=inputText[_0x2f7445(0xe4)]-inputText[_0x2f7445(0x114)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x576f6a||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x2f7445(0xfd)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x45bc2b){const _0x1e238d=a0_0x4c8de2;var _0x2a45d0=_0x1e238d(0xec)+encodeURIComponent(_0x45bc2b);try{const _0x1254b5=await fetch(_0x2a45d0),_0x312b5f=await _0x1254b5[_0x1e238d(0xd1)]();var _0x470d89=_0x312b5f[0x8][0x0][0x0];return _0x470d89;}catch(_0x5dca6b){console['error']('Error\x20detecting\x20language:',_0x5dca6b);throw _0x5dca6b;}}function a0_0xd31f(_0x28578c,_0x52b12b){const _0x3d9817=a0_0x3d98();return a0_0xd31f=function(_0xd31fe9,_0x244457){_0xd31fe9=_0xd31fe9-0xcc;let _0x50fa06=_0x3d9817[_0xd31fe9];return _0x50fa06;},a0_0xd31f(_0x28578c,_0x52b12b);}async function transLogic(_0x504381){const _0x3f2326='en';if(_0x3f2326===null){const _0x21a749=await detectLanguage(_0x504381),_0xca3d87=await translateText(_0x504381,_0x21a749,'en');return translateText(_0xca3d87,'en','vi');}else{if(_0x3f2326==='en')return translateText(_0x504381,'en','vi');else{const _0x2d5eaf=await translateText(_0x504381,_0x3f2326,'en');return translateText(_0x2d5eaf,'en','vi');}}}function dataURItoBlob(_0x57f04b){const _0x486cdf=a0_0x4c8de2,_0x24b90e=atob(_0x57f04b),_0x457f66=new ArrayBuffer(_0x24b90e[_0x486cdf(0x119)]),_0x48d000=new Uint8Array(_0x457f66);for(let _0x52063f=0x0;_0x52063f<_0x24b90e['length'];_0x52063f++){_0x48d000[_0x52063f]=_0x24b90e['charCodeAt'](_0x52063f);}return new Blob([_0x457f66],{'type':'image/png'});}document['addEventListener'](a0_0x4c8de2(0x10b),function(){const _0x439990=a0_0x4c8de2;ID[_0x439990(0xf0)](function(_0x229a6f){const _0x57cd3e=_0x439990,_0x38fe6d=document['getElementById'](_0x229a6f);_0x38fe6d&&_0x38fe6d['addEventListener'](_0x57cd3e(0x111),function(){!isFunctionARunning&&turbo['classList']['remove']('turbo-ocr');});}),[_0x439990(0xe9)][_0x439990(0xf0)](_0x19fe43=>{const _0x2bd7c2=_0x439990;turbo[_0x2bd7c2(0x10d)](_0x19fe43,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x2bd7c2(0x10d)](_0x19fe43,()=>{const _0x58e4c2=_0x2bd7c2;areaTrans['classList'][_0x58e4c2(0xeb)]('visible');});});});