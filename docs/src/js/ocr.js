const a0_0x15163f=a0_0xda13;(function(_0x2c7361,_0x2f10e0){const _0x2fc66c=a0_0xda13,_0x1b81da=_0x2c7361();while(!![]){try{const _0x343cf8=-parseInt(_0x2fc66c(0x149))/0x1+-parseInt(_0x2fc66c(0x14a))/0x2*(parseInt(_0x2fc66c(0x121))/0x3)+-parseInt(_0x2fc66c(0x12a))/0x4*(-parseInt(_0x2fc66c(0x120))/0x5)+parseInt(_0x2fc66c(0x106))/0x6+parseInt(_0x2fc66c(0x10e))/0x7+parseInt(_0x2fc66c(0x107))/0x8+parseInt(_0x2fc66c(0x111))/0x9*(-parseInt(_0x2fc66c(0x14b))/0xa);if(_0x343cf8===_0x2f10e0)break;else _0x1b81da['push'](_0x1b81da['shift']());}catch(_0x237ccb){_0x1b81da['push'](_0x1b81da['shift']());}}}(a0_0x3a93,0xe75cc));import*as a0_0x4d2237 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];function a0_0xda13(_0x42fbe5,_0x389114){const _0x3a9349=a0_0x3a93();return a0_0xda13=function(_0xda1351,_0x5bf3db){_0xda1351=_0xda1351-0x104;let _0x5b7bd3=_0x3a9349[_0xda1351];return _0x5b7bd3;},a0_0xda13(_0x42fbe5,_0x389114);}var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x15163f(0x113)](a0_0x15163f(0x12d)),turbo=document[a0_0x15163f(0x113)](a0_0x15163f(0x109)),ID=['A','B','R','L'];async function getImage(){const _0x3ae7b7=a0_0x15163f;turbo[_0x3ae7b7(0x137)][_0x3ae7b7(0x140)]('turbo-ocr');try{const _0x4f1ebe=gameName[_0x3ae7b7(0x118)](/\.(gba|gbc|gb|zip)$/,_0x3ae7b7(0x108)),_0x1d4737=await a0_0x4d2237[_0x3ae7b7(0x10b)](_0x4f1ebe),_0x278b50=new Blob([_0x1d4737],{'type':_0x3ae7b7(0x148)}),_0x5000f0=await new Promise((_0x5f0759,_0x4d2781)=>{const _0x3e4ff3=_0x3ae7b7,_0x33a94e=new FileReader();_0x33a94e[_0x3e4ff3(0x151)]=()=>_0x5f0759(_0x33a94e[_0x3e4ff3(0x145)]),_0x33a94e['onerror']=_0x4d2781,_0x33a94e[_0x3e4ff3(0x128)](_0x278b50);}),_0x3b456c=new Image();_0x3b456c[_0x3ae7b7(0x123)]=_0x5000f0,_0x3b456c[_0x3ae7b7(0x12f)]=async()=>{const _0x3b369d=_0x3ae7b7,_0x269383=document[_0x3b369d(0x13b)](_0x3b369d(0x13f)),_0x164f06=_0x269383[_0x3b369d(0x10d)]('2d'),_0x308cfb=0x4;let _0x57038e;gameName[_0x3b369d(0x154)]('.gbc')||gameName[_0x3b369d(0x154)](_0x3b369d(0x127))?_0x57038e=0x3/0x6:_0x57038e=0x3/0x4;const _0x32a5e8=localStorage[_0x3b369d(0x152)](gameName+_0x3b369d(0x141))||localStorage['getItem']('screenSize'),[_0x398a29,_0x10bffc,_0x2f168a,_0x49c1b1]=_0x32a5e8['split'](',')[_0x3b369d(0x139)](Number);_0x269383[_0x3b369d(0x150)]=_0x2f168a*_0x57038e*_0x308cfb,_0x269383[_0x3b369d(0x10c)]=_0x49c1b1*_0x57038e*_0x308cfb,_0x164f06[_0x3b369d(0x14f)](_0x3b456c,_0x398a29*_0x57038e,_0x10bffc*_0x57038e,_0x2f168a*_0x57038e,_0x49c1b1*_0x57038e,0x0,0x0,_0x2f168a*_0x57038e*_0x308cfb,_0x49c1b1*_0x57038e*_0x308cfb);const _0x33e2cd=_0x269383['toDataURL'](_0x3b369d(0x148))['split'](',')[0x1],_0x342e3f=localStorage[_0x3b369d(0x152)](_0x3b369d(0x147));console[_0x3b369d(0x14c)](_0x342e3f),_0x342e3f?azureServer(_0x33e2cd):freeServer(_0x33e2cd);};}catch(_0x4ed72d){inputText[_0x3ae7b7(0x13d)]=_0x4ed72d[_0x3ae7b7(0x13a)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x246104=_0x3ae7b7;document[_0x246104(0x113)]('inputText')['textContent']='',a0_0x4d2237[_0x246104(0x112)]('',0x0);},0x7530);}async function freeServer(_0x5c6d3b){const _0x47b41a=a0_0x15163f;document[_0x47b41a(0x113)](_0x47b41a(0x135))[_0x47b41a(0x13d)]='';let _0x2d1a04=0x0;const _0x4f490c=setInterval(()=>{const _0x31a3d1=_0x47b41a;_0x2d1a04+=0x1,_0x2d1a04<=0x64&&(inputText['textContent']=_0x31a3d1(0x12b)+_0x2d1a04+'%');},0x64);try{const _0x845fbb=dataURItoBlob(_0x5c6d3b),_0x4c9cc6=new FormData();_0x4c9cc6[_0x47b41a(0x10f)](_0x47b41a(0x14d),_0x845fbb,_0x47b41a(0x129)),_0x4c9cc6['append'](_0x47b41a(0x124),_0x47b41a(0x11c));let _0x142970;try{_0x142970=await fetch(_0x47b41a(0x131),{'method':_0x47b41a(0x11b),'body':_0x4c9cc6,'headers':{'Origin':window[_0x47b41a(0x14e)][_0x47b41a(0x117)],'X-Requested-With':_0x47b41a(0x115),'User-Agent':navigator['userAgent']}});if(!_0x142970['ok'])throw new Error(_0x47b41a(0x116)+_0x142970['status']);}catch(_0x5f164a){console[_0x47b41a(0x11f)](_0x47b41a(0x105)),window['location']['href']=_0x47b41a(0x11d);return;}const _0x1ccf99=await _0x142970['json']();if(_0x1ccf99[_0x47b41a(0x110)]===_0x47b41a(0x132))throw new Error(_0x1ccf99[_0x47b41a(0x132)]['message']);transLogic(_0x1ccf99[_0x47b41a(0x125)]);}catch(_0x181e04){inputText[_0x47b41a(0x13d)]=_0x181e04[_0x47b41a(0x13a)];}finally{clearInterval(_0x4f490c),isFunctionARunning=![];}}function a0_0x3a93(){const _0x670148=['image.png','36qmzyvA','.._\x20','code','inputText','json','onload','trim','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','error','blocks','touchend','noti-mess','length','classList','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','map','message','createElement','isArray','textContent','charCodeAt','canvas','add','_setArea','status','readResult','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','result','addEventListener','ApiAzure','image/png','432289AcRbDN','9380QHpqYv','80ThvHtL','log','image','location','drawImage','width','onloadend','getItem','split','endsWith','&dt=t&q=','clientWidth','Cors-controlers\x20have\x20not\x20been\x20activated.','10516896QFLnRs','10689896oHoHiT','.png','turbo','scrollWidth','captureOCR','height','getContext','7248157CdptxL','append','type','4410927wBsjCG','notiMessage','getElementById','500\x20Internal\x20Server\x20Error','XMLHttpRequest','HTTP\x20Error:\x20','origin','replace','forEach','touchstart','POST','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','https://cors-anywhere.herokuapp.com/corsdemo','Error\x20detecting\x20language:','warn','1015655slRScE','417SVbAkd','turbo-ocr','src','user','text','application/octet-stream','.gb','readAsDataURL'];a0_0x3a93=function(){return _0x670148;};return a0_0x3a93();}async function azureServer(_0x4b58d4){const _0x188b25=a0_0x15163f;document[_0x188b25(0x113)]('noti-mess')['textContent']='',inputText['textContent']=_0x188b25(0x12b);const _0x2522ec=localStorage[_0x188b25(0x152)](_0x188b25(0x147));let [_0xd5f6c3,_0x46d3d7]=_0x2522ec[_0x188b25(0x153)](',');try{const _0x41f807=await fetch(_0x46d3d7+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x188b25(0x11b),'headers':{'Ocp-Apim-Subscription-Key':_0xd5f6c3,'Content-Type':_0x188b25(0x126)},'body':dataURItoBlob(_0x4b58d4)}),_0x55efc5=await _0x41f807['json']();if(!_0x41f807['ok']||_0x55efc5['type']===_0x188b25(0x132)){const _0x38758b=_0x41f807['ok']?_0x55efc5[_0x188b25(0x132)][_0x188b25(0x13a)]:_0x41f807[_0x188b25(0x142)]===0x1f4?_0x188b25(0x114):(await _0x41f807[_0x188b25(0x12e)]())[_0x188b25(0x132)][_0x188b25(0x13a)];throw new Error(_0x38758b);}const _0x58a554=_0x55efc5[_0x188b25(0x143)][_0x188b25(0x133)][0x0],_0x2c07ae=_0x58a554['lines']||[],_0x6455e0=_0x2c07ae[_0x188b25(0x139)](_0x2705ca=>_0x2705ca[_0x188b25(0x125)])['join']('\x0a');transLogic(_0x6455e0);}catch(_0x11113f){inputText[_0x188b25(0x13d)]=_0x11113f[_0x188b25(0x13a)];}finally{isFunctionARunning=![];}}async function translateText(_0x5ac73c,_0x12ccbb,_0x4d4081){const _0x1d45af=a0_0x15163f,_0x27732f=_0x5ac73c[_0x1d45af(0x118)](/[\r\n]+/g,',\x20')[_0x1d45af(0x118)](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x1d45af(0x130)]();var _0x14fa89=_0x1d45af(0x144)+_0x12ccbb+'&tl='+_0x4d4081+_0x1d45af(0x155)+encodeURIComponent(_0x27732f);try{const _0x172bb4=await fetch(_0x14fa89);if(!_0x172bb4['ok']){if(_0x172bb4['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x546439=await _0x172bb4['json'](),_0xaa53c=new Error(_0x546439[_0x1d45af(0x132)]['message']);_0xaa53c['code']=_0x546439['error'][_0x1d45af(0x12c)];throw _0xaa53c;}}const _0xa4d334=await _0x172bb4[_0x1d45af(0x12e)]();if(Array[_0x1d45af(0x13c)](_0xa4d334)&&_0xa4d334[_0x1d45af(0x136)]>0x0&&Array['isArray'](_0xa4d334[0x0])){var _0x159c24=_0xa4d334[0x0][_0x1d45af(0x139)](_0x176da8=>_0x176da8[0x0])['join']('\x20');return document[_0x1d45af(0x113)](_0x1d45af(0x135))[_0x1d45af(0x13d)]='',inputText[_0x1d45af(0x13d)]=_0x1d45af(0x12b)+_0x159c24[_0x1d45af(0x118)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x159c24[_0x1d45af(0x118)](/ {2,}/g,'\x20');}else return document[_0x1d45af(0x113)](_0x1d45af(0x135))[_0x1d45af(0x13d)]='',inputText[_0x1d45af(0x13d)]=_0x1d45af(0x12b)+_0xa4d334,_0xa4d334;}catch(_0x484a82){inputText['textContent']=_0x484a82[_0x1d45af(0x13a)];throw _0x484a82;}}async function autoScroll(){const _0x629901=a0_0x15163f;var _0x5c9443=inputText[_0x629901(0x10a)]-inputText[_0x629901(0x104)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x5c9443||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x46ad8a){const _0x5de580=a0_0x15163f;var _0x3ca576=_0x5de580(0x138)+encodeURIComponent(_0x46ad8a);try{const _0x1b4315=await fetch(_0x3ca576),_0x5376f9=await _0x1b4315[_0x5de580(0x12e)]();var _0x491e9a=_0x5376f9[0x8][0x0][0x0];return _0x491e9a;}catch(_0x24f992){console[_0x5de580(0x132)](_0x5de580(0x11e),_0x24f992);throw _0x24f992;}}async function transLogic(_0x1a5bcf){const _0x58826a='en';if(_0x58826a===null){const _0x531468=await detectLanguage(_0x1a5bcf),_0x5523bf=await translateText(_0x1a5bcf,_0x531468,'en');return translateText(_0x5523bf,'en','vi');}else{if(_0x58826a==='en')return translateText(_0x1a5bcf,'en','vi');else{const _0x1ce950=await translateText(_0x1a5bcf,_0x58826a,'en');return translateText(_0x1ce950,'en','vi');}}}function dataURItoBlob(_0x343a99){const _0x1c4894=a0_0x15163f,_0x4bf9b7=atob(_0x343a99),_0x51f8f6=new ArrayBuffer(_0x4bf9b7[_0x1c4894(0x136)]),_0x261400=new Uint8Array(_0x51f8f6);for(let _0x4ce752=0x0;_0x4ce752<_0x4bf9b7[_0x1c4894(0x136)];_0x4ce752++){_0x261400[_0x4ce752]=_0x4bf9b7[_0x1c4894(0x13e)](_0x4ce752);}return new Blob([_0x51f8f6],{'type':_0x1c4894(0x148)});}document['addEventListener']('DOMContentLoaded',function(){const _0x47d5a2=a0_0x15163f;ID[_0x47d5a2(0x119)](function(_0x1bdaf6){const _0x691f6a=_0x47d5a2,_0x241b29=document[_0x691f6a(0x113)](_0x1bdaf6);_0x241b29&&_0x241b29[_0x691f6a(0x146)](_0x691f6a(0x11a),function(){const _0x5e092a=_0x691f6a;!isFunctionARunning&&turbo[_0x5e092a(0x137)]['remove'](_0x5e092a(0x122));});}),[_0x47d5a2(0x134)][_0x47d5a2(0x119)](_0x2f2929=>{const _0x106d3b=_0x47d5a2;turbo[_0x106d3b(0x146)](_0x2f2929,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x106d3b(0x146)](_0x2f2929,()=>{const _0x2518f1=_0x106d3b;areaTrans[_0x2518f1(0x137)]['toggle']('visible');});});});