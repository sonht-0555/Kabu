const a0_0x37d551=a0_0x14a8;function a0_0x14a8(_0xe7c903,_0x5504c5){const _0x1b0c14=a0_0x1b0c();return a0_0x14a8=function(_0x14a802,_0x1e21b4){_0x14a802=_0x14a802-0x10f;let _0x42c86c=_0x1b0c14[_0x14a802];return _0x42c86c;},a0_0x14a8(_0xe7c903,_0x5504c5);}(function(_0x4c902f,_0x12d1d6){const _0x3a0e24=a0_0x14a8,_0x1fd0bd=_0x4c902f();while(!![]){try{const _0x5d3b93=-parseInt(_0x3a0e24(0x152))/0x1*(parseInt(_0x3a0e24(0x13e))/0x2)+-parseInt(_0x3a0e24(0x160))/0x3+parseInt(_0x3a0e24(0x119))/0x4*(parseInt(_0x3a0e24(0x156))/0x5)+parseInt(_0x3a0e24(0x12e))/0x6+-parseInt(_0x3a0e24(0x12f))/0x7*(-parseInt(_0x3a0e24(0x114))/0x8)+parseInt(_0x3a0e24(0x142))/0x9+-parseInt(_0x3a0e24(0x12c))/0xa*(parseInt(_0x3a0e24(0x137))/0xb);if(_0x5d3b93===_0x12d1d6)break;else _0x1fd0bd['push'](_0x1fd0bd['shift']());}catch(_0x5ef327){_0x1fd0bd['push'](_0x1fd0bd['shift']());}}}(a0_0x1b0c,0x9293f));import*as a0_0x178518 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById']('inputText'),turbo=document[a0_0x37d551(0x14d)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x7e2a6d=a0_0x37d551;turbo['classList']['add'](_0x7e2a6d(0x125));try{const _0x53929a=gameName[_0x7e2a6d(0x15b)](/\.(gba|gbc|gb|zip)$/,_0x7e2a6d(0x153)),_0x10d6ca=await a0_0x178518['captureOCR'](_0x53929a),_0x4b1ca0=new Blob([_0x10d6ca],{'type':_0x7e2a6d(0x127)}),_0x15fb05=await new Promise((_0x44977d,_0x4efc66)=>{const _0x44758f=_0x7e2a6d,_0x2e4444=new FileReader();_0x2e4444[_0x44758f(0x14a)]=()=>_0x44977d(_0x2e4444[_0x44758f(0x146)]),_0x2e4444[_0x44758f(0x14e)]=_0x4efc66,_0x2e4444[_0x44758f(0x143)](_0x4b1ca0);}),_0x39b54f=new Image();_0x39b54f[_0x7e2a6d(0x15f)]=_0x15fb05,_0x39b54f[_0x7e2a6d(0x154)]=async()=>{const _0x2e0cfb=_0x7e2a6d,_0x572823=document[_0x2e0cfb(0x13c)](_0x2e0cfb(0x14b)),_0x4d6001=_0x572823[_0x2e0cfb(0x15c)]('2d'),_0x221ee2=0x4;let _0x3c8cbb;gameName['endsWith']('.gbc')||gameName[_0x2e0cfb(0x11c)](_0x2e0cfb(0x118))?_0x3c8cbb=0x3/0x6:_0x3c8cbb=0x3/0x4;const _0x1afec1=localStorage[_0x2e0cfb(0x11d)](gameName+'_setArea')||localStorage[_0x2e0cfb(0x11d)]('screenSize'),[_0x2b3946,_0x3b2d7d,_0x2493ec,_0x55a787]=_0x1afec1[_0x2e0cfb(0x130)](',')[_0x2e0cfb(0x141)](Number);_0x572823['width']=_0x2493ec*_0x3c8cbb*_0x221ee2,_0x572823[_0x2e0cfb(0x12d)]=_0x55a787*_0x3c8cbb*_0x221ee2,_0x4d6001[_0x2e0cfb(0x15a)](_0x39b54f,_0x2b3946*_0x3c8cbb,_0x3b2d7d*_0x3c8cbb,_0x2493ec*_0x3c8cbb,_0x55a787*_0x3c8cbb,0x0,0x0,_0x2493ec*_0x3c8cbb*_0x221ee2,_0x55a787*_0x3c8cbb*_0x221ee2);const _0x5d1875=_0x572823['toDataURL']('image/png')[_0x2e0cfb(0x130)](',')[0x1],_0x1bb3ed=localStorage[_0x2e0cfb(0x11d)](_0x2e0cfb(0x15d));console['log'](_0x1bb3ed),_0x1bb3ed?azureServer(_0x5d1875):freeServer(_0x5d1875);};}catch(_0x951753){inputText[_0x7e2a6d(0x149)]=_0x951753[_0x7e2a6d(0x120)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x13c1c1=_0x7e2a6d;document[_0x13c1c1(0x14d)](_0x13c1c1(0x13b))[_0x13c1c1(0x149)]='',a0_0x178518['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x535427){const _0x50afc3=a0_0x37d551;document[_0x50afc3(0x14d)](_0x50afc3(0x128))[_0x50afc3(0x149)]='';let _0x105e1c=0x0;const _0x597b4a=setInterval(()=>{const _0x3129cc=_0x50afc3;_0x105e1c+=0x1,_0x105e1c<=0x64&&(inputText[_0x3129cc(0x149)]=_0x3129cc(0x159)+_0x105e1c+'%');},0x64);try{const _0x49f9db=dataURItoBlob(_0x535427),_0x1dc21f=new FormData();_0x1dc21f[_0x50afc3(0x129)](_0x50afc3(0x13f),_0x49f9db,_0x50afc3(0x134)),_0x1dc21f[_0x50afc3(0x129)](_0x50afc3(0x15e),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x2f3216;try{_0x2f3216=await fetch(_0x50afc3(0x133),{'method':'POST','body':_0x1dc21f,'headers':{'Origin':window[_0x50afc3(0x155)][_0x50afc3(0x14c)],'X-Requested-With':_0x50afc3(0x145),'User-Agent':navigator[_0x50afc3(0x157)]}});if(!_0x2f3216['ok'])throw new Error('HTTP\x20Error:\x20'+_0x2f3216['status']);}catch(_0x330be0){console[_0x50afc3(0x115)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x50afc3(0x155)]['href']=_0x50afc3(0x123);return;}const _0x2cdc26=await _0x2f3216[_0x50afc3(0x147)]();if(_0x2cdc26[_0x50afc3(0x13a)]===_0x50afc3(0x121))throw new Error(_0x2cdc26[_0x50afc3(0x121)][_0x50afc3(0x120)]);transLogic(_0x2cdc26['text']);}catch(_0xa5e245){inputText[_0x50afc3(0x149)]=_0xa5e245['message'];}finally{clearInterval(_0x597b4a),isFunctionARunning=![];}}async function azureServer(_0x18a1b4){const _0x437a39=a0_0x37d551;document[_0x437a39(0x14d)](_0x437a39(0x128))[_0x437a39(0x149)]='',inputText['textContent']='.._\x20';const _0x74350c=localStorage[_0x437a39(0x11d)]('ApiAzure');let [_0x5df671,_0x268abe]=_0x74350c['split'](',');try{const _0x2b0d88=await fetch(_0x268abe+_0x437a39(0x12b),{'method':_0x437a39(0x111),'headers':{'Ocp-Apim-Subscription-Key':_0x5df671,'Content-Type':_0x437a39(0x110)},'body':dataURItoBlob(_0x18a1b4)}),_0x3a3596=await _0x2b0d88[_0x437a39(0x147)]();if(!_0x2b0d88['ok']||_0x3a3596[_0x437a39(0x13a)]===_0x437a39(0x121)){const _0x61cf26=_0x2b0d88['ok']?_0x3a3596[_0x437a39(0x121)][_0x437a39(0x120)]:_0x2b0d88[_0x437a39(0x158)]===0x1f4?_0x437a39(0x11e):(await _0x2b0d88[_0x437a39(0x147)]())[_0x437a39(0x121)][_0x437a39(0x120)];throw new Error(_0x61cf26);}const _0x7c56ae=_0x3a3596[_0x437a39(0x150)][_0x437a39(0x11b)][0x0],_0x109ed6=_0x7c56ae[_0x437a39(0x122)]||[],_0x26db9a=_0x109ed6[_0x437a39(0x141)](_0x4c214e=>_0x4c214e[_0x437a39(0x144)])['join']('\x0a');transLogic(_0x26db9a);}catch(_0x59fae8){inputText[_0x437a39(0x149)]=_0x59fae8[_0x437a39(0x120)];}finally{isFunctionARunning=![];}}async function translateText(_0xb0c0d0,_0x1d878f,_0x71ff76){const _0x514691=a0_0x37d551,_0x48dfb6=_0xb0c0d0[_0x514691(0x15b)](/[\r\n]+/g,',\x20')[_0x514691(0x15b)](/([!?.,])\s*,\s*/g,_0x514691(0x117))[_0x514691(0x15b)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x514691(0x136)]();var _0x153ed8=_0x514691(0x116)+_0x1d878f+'&tl='+_0x71ff76+'&dt=t&q='+encodeURIComponent(_0x48dfb6);try{const _0x50e8e0=await fetch(_0x153ed8);if(!_0x50e8e0['ok']){if(_0x50e8e0[_0x514691(0x158)]===0x1f4)throw new Error(_0x514691(0x135));else{const _0x10f08d=await _0x50e8e0[_0x514691(0x147)](),_0x21e174=new Error(_0x10f08d[_0x514691(0x121)][_0x514691(0x120)]);_0x21e174['code']=_0x10f08d[_0x514691(0x121)][_0x514691(0x14f)];throw _0x21e174;}}const _0x124384=await _0x50e8e0[_0x514691(0x147)]();if(Array[_0x514691(0x13d)](_0x124384)&&_0x124384[_0x514691(0x10f)]>0x0&&Array[_0x514691(0x13d)](_0x124384[0x0])){var _0x16ae52=_0x124384[0x0]['map'](_0x174fe4=>_0x174fe4[0x0])[_0x514691(0x11a)]('\x20');return document[_0x514691(0x14d)](_0x514691(0x128))[_0x514691(0x149)]='',inputText[_0x514691(0x149)]=_0x514691(0x159)+_0x16ae52[_0x514691(0x15b)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x16ae52[_0x514691(0x15b)](/ {2,}/g,'\x20');}else return document[_0x514691(0x14d)](_0x514691(0x128))[_0x514691(0x149)]='',inputText['textContent']=_0x514691(0x159)+_0x124384,_0x124384;}catch(_0x4f7cb1){inputText['textContent']=_0x4f7cb1['message'];throw _0x4f7cb1;}}async function autoScroll(){const _0x13ab60=a0_0x37d551;var _0x4a22aa=inputText[_0x13ab60(0x151)]-inputText[_0x13ab60(0x132)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x4a22aa||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x13ab60(0x113)]=scrollAmount,requestAnimationFrame(autoScroll);}function a0_0x1b0c(){const _0x22d4bd=['noti-mess','append','classList','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','8360XFlLqM','height','2576538CpKOfr','133KhRztd','split','touchend','clientWidth','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','image.png','Internal\x20Server\x20Error','trim','2464bzTyzg','Error\x20detecting\x20language:','visible','type','inputText','createElement','isArray','28076dxvAfC','image','toggle','map','4887495AMYtyF','readAsDataURL','text','XMLHttpRequest','result','json','charCodeAt','textContent','onloadend','canvas','origin','getElementById','onerror','code','readResult','scrollWidth','79vBBYDC','.png','onload','location','318725zTtPSF','userAgent','status','.._\x20','drawImage','replace','getContext','ApiAzure','user','src','257265zBhmEt','length','application/octet-stream','POST','forEach','scrollLeft','291032kYNRUK','warn','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','$1\x20','.gb','20oclogl','join','blocks','endsWith','getItem','500\x20Internal\x20Server\x20Error','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','message','error','lines','https://cors-anywhere.herokuapp.com/corsdemo','DOMContentLoaded','turbo-ocr','addEventListener','image/png'];a0_0x1b0c=function(){return _0x22d4bd;};return a0_0x1b0c();}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1b7697){const _0x404c93=a0_0x37d551;var _0x4db363=_0x404c93(0x11f)+encodeURIComponent(_0x1b7697);try{const _0x2de322=await fetch(_0x4db363),_0x48d242=await _0x2de322['json']();var _0x3903f2=_0x48d242[0x8][0x0][0x0];return _0x3903f2;}catch(_0x45440f){console[_0x404c93(0x121)](_0x404c93(0x138),_0x45440f);throw _0x45440f;}}async function transLogic(_0x4bcdf0){const _0x2a221a='en';if(_0x2a221a===null){const _0x142204=await detectLanguage(_0x4bcdf0),_0x222148=await translateText(_0x4bcdf0,_0x142204,'en');return translateText(_0x222148,'en','vi');}else{if(_0x2a221a==='en')return translateText(_0x4bcdf0,'en','vi');else{const _0x2e8d32=await translateText(_0x4bcdf0,_0x2a221a,'en');return translateText(_0x2e8d32,'en','vi');}}}function dataURItoBlob(_0x10a0a0){const _0x59b8e3=a0_0x37d551,_0x3a459f=atob(_0x10a0a0),_0x38ec27=new ArrayBuffer(_0x3a459f['length']),_0x52df72=new Uint8Array(_0x38ec27);for(let _0x422a9e=0x0;_0x422a9e<_0x3a459f['length'];_0x422a9e++){_0x52df72[_0x422a9e]=_0x3a459f[_0x59b8e3(0x148)](_0x422a9e);}return new Blob([_0x38ec27],{'type':_0x59b8e3(0x127)});}document[a0_0x37d551(0x126)](a0_0x37d551(0x124),function(){const _0x33b0f3=a0_0x37d551;ID[_0x33b0f3(0x112)](function(_0x4f990d){const _0x48e81f=_0x33b0f3,_0x34e4bb=document['getElementById'](_0x4f990d);_0x34e4bb&&_0x34e4bb[_0x48e81f(0x126)]('touchstart',function(){const _0x576000=_0x48e81f;!isFunctionARunning&&turbo['classList']['remove'](_0x576000(0x125));});}),[_0x33b0f3(0x131)][_0x33b0f3(0x112)](_0x1693c4=>{const _0xa4077e=_0x33b0f3;turbo['addEventListener'](_0x1693c4,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0xa4077e(0x126)](_0x1693c4,()=>{const _0x3a6818=_0xa4077e;areaTrans[_0x3a6818(0x12a)][_0x3a6818(0x140)](_0x3a6818(0x139));});});});