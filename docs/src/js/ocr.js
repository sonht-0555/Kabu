const a0_0x485224=a0_0x516d;(function(_0x39611f,_0x5e7320){const _0x230f2a=a0_0x516d,_0x1b8f99=_0x39611f();while(!![]){try{const _0xc0a7a4=parseInt(_0x230f2a(0xb3))/0x1*(-parseInt(_0x230f2a(0xf5))/0x2)+parseInt(_0x230f2a(0xc3))/0x3*(parseInt(_0x230f2a(0xb6))/0x4)+parseInt(_0x230f2a(0xb0))/0x5*(parseInt(_0x230f2a(0xd3))/0x6)+-parseInt(_0x230f2a(0xaf))/0x7+parseInt(_0x230f2a(0xe5))/0x8+parseInt(_0x230f2a(0xd1))/0x9+-parseInt(_0x230f2a(0xac))/0xa;if(_0xc0a7a4===_0x5e7320)break;else _0x1b8f99['push'](_0x1b8f99['shift']());}catch(_0x43ac69){_0x1b8f99['push'](_0x1b8f99['shift']());}}}(a0_0x4b1d,0x35ed6));import*as a0_0x28e29e from'./main.js';function a0_0x4b1d(){const _0x3a9be1=['touchstart','error','2717484DJctLi','71615hHTZum','_setArea','XMLHttpRequest','245447amREtM','turbo','status','8sDjYyc','image/png','classList','application/octet-stream','length','onloadend','scrollLeft','noti-mess','forEach','userAgent','json','.gb','touchend','111678QatXdh','getItem','ApiAzure','DOMContentLoaded','location','replace','getElementById','onerror','addEventListener','readResult','join','text','notiMessage','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','3532203GFjbxM','width','120gKLDlK','.._\x20','image.png','&dt=t&q=','toDataURL','message','map','500\x20Internal\x20Server\x20Error','trim','turbo-ocr','inputText','getContext','captureOCR','append','href','type','textContent','isArray','1944016gJjCwS','HTTP\x20Error:\x20','origin','height','split','lines','blocks','screenSize','createElement','charCodeAt','$1\x20','clientWidth','log','image','code','endsWith','2brohMp','Cors-controlers\x20have\x20not\x20been\x20activated.','readAsDataURL','warn','canvas','https://cors-anywhere.herokuapp.com/corsdemo','.png','drawImage','POST','toggle','src','1418360mdqyki'];a0_0x4b1d=function(){return _0x3a9be1;};return a0_0x4b1d();}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x485224(0xc9)]('inputText'),turbo=document[a0_0x485224(0xc9)](a0_0x485224(0xb4)),ID=['A','B','R','L'];async function getImage(){const _0x5624ed=a0_0x485224;turbo[_0x5624ed(0xb8)]['add'](_0x5624ed(0xdc));try{const _0x48f971=gameName[_0x5624ed(0xc8)](/\.(gba|gbc|gb|zip)$/,_0x5624ed(0xa7)),_0x450240=await a0_0x28e29e[_0x5624ed(0xdf)](_0x48f971),_0xc577c5=new Blob([_0x450240],{'type':_0x5624ed(0xb7)}),_0x17886d=await new Promise((_0x4e6f5c,_0x5c9c51)=>{const _0x50a4ac=_0x5624ed,_0x298205=new FileReader();_0x298205[_0x50a4ac(0xbb)]=()=>_0x4e6f5c(_0x298205['result']),_0x298205[_0x50a4ac(0xca)]=_0x5c9c51,_0x298205[_0x50a4ac(0xf7)](_0xc577c5);}),_0x43f496=new Image();_0x43f496[_0x5624ed(0xab)]=_0x17886d,_0x43f496['onload']=async()=>{const _0x46d4f5=_0x5624ed,_0x48c0d0=document[_0x46d4f5(0xed)](_0x46d4f5(0xf9)),_0x144e65=_0x48c0d0[_0x46d4f5(0xde)]('2d'),_0x288597=0x4;let _0x32fdb5;gameName[_0x46d4f5(0xf4)]('.gbc')||gameName[_0x46d4f5(0xf4)](_0x46d4f5(0xc1))?_0x32fdb5=0x3/0x6:_0x32fdb5=0x3/0x4;const _0x5352b1=localStorage[_0x46d4f5(0xc4)](gameName+_0x46d4f5(0xb1))||localStorage['getItem'](_0x46d4f5(0xec)),[_0x1a0f3d,_0x433254,_0x1a036b,_0x4a2d27]=_0x5352b1[_0x46d4f5(0xe9)](',')[_0x46d4f5(0xd9)](Number);_0x48c0d0[_0x46d4f5(0xd2)]=_0x1a036b*_0x32fdb5*_0x288597,_0x48c0d0[_0x46d4f5(0xe8)]=_0x4a2d27*_0x32fdb5*_0x288597,_0x144e65[_0x46d4f5(0xa8)](_0x43f496,_0x1a0f3d*_0x32fdb5,_0x433254*_0x32fdb5,_0x1a036b*_0x32fdb5,_0x4a2d27*_0x32fdb5,0x0,0x0,_0x1a036b*_0x32fdb5*_0x288597,_0x4a2d27*_0x32fdb5*_0x288597);const _0x2bc965=_0x48c0d0[_0x46d4f5(0xd7)]('image/png')[_0x46d4f5(0xe9)](',')[0x1],_0x597522=localStorage[_0x46d4f5(0xc4)](_0x46d4f5(0xc5));console[_0x46d4f5(0xf1)](_0x597522),_0x597522?azureServer(_0x2bc965):freeServer(_0x2bc965);};}catch(_0xeb626e){inputText['textContent']=_0xeb626e[_0x5624ed(0xd8)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3fb691=_0x5624ed;document[_0x3fb691(0xc9)](_0x3fb691(0xdd))['textContent']='',a0_0x28e29e[_0x3fb691(0xcf)]('',0x0);},0x7530);}async function freeServer(_0x3d866a){const _0x2aac21=a0_0x485224;document[_0x2aac21(0xc9)](_0x2aac21(0xbd))[_0x2aac21(0xe3)]='';let _0x367163=0x0;const _0x5290e0=setInterval(()=>{const _0x1c889f=_0x2aac21;_0x367163+=0x1,_0x367163<=0x64&&(inputText[_0x1c889f(0xe3)]=_0x1c889f(0xd4)+_0x367163+'%');},0x64);try{const _0x4710e8=dataURItoBlob(_0x3d866a),_0x4187c7=new FormData();_0x4187c7['append'](_0x2aac21(0xf2),_0x4710e8,_0x2aac21(0xd5)),_0x4187c7[_0x2aac21(0xe0)]('user','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x5309e7;try{_0x5309e7=await fetch(_0x2aac21(0xd0),{'method':'POST','body':_0x4187c7,'headers':{'Origin':window[_0x2aac21(0xc7)][_0x2aac21(0xe7)],'X-Requested-With':_0x2aac21(0xb2),'User-Agent':navigator[_0x2aac21(0xbf)]}});if(!_0x5309e7['ok'])throw new Error(_0x2aac21(0xe6)+_0x5309e7['status']);}catch(_0x1b8923){console[_0x2aac21(0xf8)](_0x2aac21(0xf6)),window[_0x2aac21(0xc7)][_0x2aac21(0xe1)]=_0x2aac21(0xfa);return;}const _0x4eddb0=await _0x5309e7['json']();if(_0x4eddb0[_0x2aac21(0xe2)]===_0x2aac21(0xae))throw new Error(_0x4eddb0[_0x2aac21(0xae)][_0x2aac21(0xd8)]);transLogic(_0x4eddb0[_0x2aac21(0xce)]);}catch(_0x4f9fc7){inputText['textContent']=_0x4f9fc7[_0x2aac21(0xd8)];}finally{clearInterval(_0x5290e0),isFunctionARunning=![];}}async function azureServer(_0x1d3e1c){const _0x39cf1b=a0_0x485224;document['getElementById'](_0x39cf1b(0xbd))[_0x39cf1b(0xe3)]='',inputText[_0x39cf1b(0xe3)]=_0x39cf1b(0xd4);const _0xd14587=localStorage[_0x39cf1b(0xc4)]('ApiAzure');let [_0x10a04f,_0x48f710]=_0xd14587['split'](',');try{const _0x69288d=await fetch(_0x48f710+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x39cf1b(0xa9),'headers':{'Ocp-Apim-Subscription-Key':_0x10a04f,'Content-Type':_0x39cf1b(0xb9)},'body':dataURItoBlob(_0x1d3e1c)}),_0xb2fa74=await _0x69288d[_0x39cf1b(0xc0)]();if(!_0x69288d['ok']||_0xb2fa74[_0x39cf1b(0xe2)]==='error'){const _0x2e7139=_0x69288d['ok']?_0xb2fa74[_0x39cf1b(0xae)][_0x39cf1b(0xd8)]:_0x69288d[_0x39cf1b(0xb5)]===0x1f4?_0x39cf1b(0xda):(await _0x69288d[_0x39cf1b(0xc0)]())[_0x39cf1b(0xae)]['message'];throw new Error(_0x2e7139);}const _0x5e4fb0=_0xb2fa74[_0x39cf1b(0xcc)][_0x39cf1b(0xeb)][0x0],_0x525165=_0x5e4fb0[_0x39cf1b(0xea)]||[],_0x12090b=_0x525165[_0x39cf1b(0xd9)](_0x352ee6=>_0x352ee6[_0x39cf1b(0xce)])[_0x39cf1b(0xcd)]('\x0a');transLogic(_0x12090b);}catch(_0x2df8d2){inputText['textContent']=_0x2df8d2[_0x39cf1b(0xd8)];}finally{isFunctionARunning=![];}}async function translateText(_0x502664,_0x3bdf55,_0x320dd8){const _0x14402b=a0_0x485224,_0x53d7c8=_0x502664[_0x14402b(0xc8)](/[\r\n]+/g,',\x20')[_0x14402b(0xc8)](/([!?.,])\s*,\s*/g,_0x14402b(0xef))[_0x14402b(0xc8)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x14402b(0xc8)](/ {2,}/g,'\x20')[_0x14402b(0xdb)]();var _0x390676='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x3bdf55+'&tl='+_0x320dd8+_0x14402b(0xd6)+encodeURIComponent(_0x53d7c8);try{const _0x209502=await fetch(_0x390676);if(!_0x209502['ok']){if(_0x209502['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x5b8c28=await _0x209502['json'](),_0x14a4e6=new Error(_0x5b8c28['error'][_0x14402b(0xd8)]);_0x14a4e6['code']=_0x5b8c28[_0x14402b(0xae)][_0x14402b(0xf3)];throw _0x14a4e6;}}const _0x48f4f7=await _0x209502['json']();if(Array[_0x14402b(0xe4)](_0x48f4f7)&&_0x48f4f7[_0x14402b(0xba)]>0x0&&Array[_0x14402b(0xe4)](_0x48f4f7[0x0])){var _0x2e1245=_0x48f4f7[0x0]['map'](_0x16165b=>_0x16165b[0x0])['join']('\x20');return document[_0x14402b(0xc9)](_0x14402b(0xbd))[_0x14402b(0xe3)]='',inputText[_0x14402b(0xe3)]=_0x14402b(0xd4)+_0x2e1245[_0x14402b(0xc8)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x2e1245[_0x14402b(0xc8)](/ {2,}/g,'\x20');}else return document[_0x14402b(0xc9)]('noti-mess')[_0x14402b(0xe3)]='',inputText[_0x14402b(0xe3)]='.._\x20'+_0x48f4f7,_0x48f4f7;}catch(_0x265204){inputText['textContent']=_0x265204['message'];throw _0x265204;}}async function autoScroll(){const _0x2f2fe8=a0_0x485224;var _0x142554=inputText['scrollWidth']-inputText[_0x2f2fe8(0xf0)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x142554||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x2f2fe8(0xbc)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x48aa53){const _0x306448=a0_0x485224;var _0x13b0a6='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x48aa53);try{const _0x47975a=await fetch(_0x13b0a6),_0x1504a2=await _0x47975a['json']();var _0x4f2dec=_0x1504a2[0x8][0x0][0x0];return _0x4f2dec;}catch(_0xab31ab){console[_0x306448(0xae)]('Error\x20detecting\x20language:',_0xab31ab);throw _0xab31ab;}}async function transLogic(_0x1a232c){const _0x4e4b7e='en';if(_0x4e4b7e===null){const _0xdccf0c=await detectLanguage(_0x1a232c),_0x353609=await translateText(_0x1a232c,_0xdccf0c,'en');return translateText(_0x353609,'en','vi');}else{if(_0x4e4b7e==='en')return translateText(_0x1a232c,'en','vi');else{const _0x71d580=await translateText(_0x1a232c,_0x4e4b7e,'en');return translateText(_0x71d580,'en','vi');}}}function dataURItoBlob(_0x4edde5){const _0x179805=a0_0x485224,_0x23a03b=atob(_0x4edde5),_0x111e72=new ArrayBuffer(_0x23a03b[_0x179805(0xba)]),_0x2bae4c=new Uint8Array(_0x111e72);for(let _0x19dd57=0x0;_0x19dd57<_0x23a03b[_0x179805(0xba)];_0x19dd57++){_0x2bae4c[_0x19dd57]=_0x23a03b[_0x179805(0xee)](_0x19dd57);}return new Blob([_0x111e72],{'type':_0x179805(0xb7)});}function a0_0x516d(_0xcdd65f,_0x1272ec){const _0x4b1dac=a0_0x4b1d();return a0_0x516d=function(_0x516d9b,_0x2a42bb){_0x516d9b=_0x516d9b-0xa7;let _0x4b8b3d=_0x4b1dac[_0x516d9b];return _0x4b8b3d;},a0_0x516d(_0xcdd65f,_0x1272ec);}document[a0_0x485224(0xcb)](a0_0x485224(0xc6),function(){const _0x1b91b6=a0_0x485224;ID[_0x1b91b6(0xbe)](function(_0x42adb1){const _0x58938d=_0x1b91b6,_0x3374f9=document[_0x58938d(0xc9)](_0x42adb1);_0x3374f9&&_0x3374f9[_0x58938d(0xcb)](_0x58938d(0xad),function(){const _0x4a2f42=_0x58938d;!isFunctionARunning&&turbo[_0x4a2f42(0xb8)]['remove']('turbo-ocr');});}),[_0x1b91b6(0xc2)]['forEach'](_0x27f815=>{const _0x38b449=_0x1b91b6;turbo[_0x38b449(0xcb)](_0x27f815,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x27f815,()=>{const _0x495a91=_0x38b449;areaTrans[_0x495a91(0xb8)][_0x495a91(0xaa)]('visible');});});});