const a0_0x374bff=a0_0x355d;(function(_0x1c977c,_0x268fc9){const _0x3b8114=a0_0x355d,_0x28c747=_0x1c977c();while(!![]){try{const _0x5675a0=-parseInt(_0x3b8114(0x1cd))/0x1*(parseInt(_0x3b8114(0x1e1))/0x2)+-parseInt(_0x3b8114(0x1f1))/0x3+parseInt(_0x3b8114(0x1de))/0x4*(-parseInt(_0x3b8114(0x1e4))/0x5)+-parseInt(_0x3b8114(0x1af))/0x6+parseInt(_0x3b8114(0x1c2))/0x7*(parseInt(_0x3b8114(0x1b0))/0x8)+parseInt(_0x3b8114(0x1c9))/0x9+parseInt(_0x3b8114(0x1d1))/0xa;if(_0x5675a0===_0x268fc9)break;else _0x28c747['push'](_0x28c747['shift']());}catch(_0x331c7e){_0x28c747['push'](_0x28c747['shift']());}}}(a0_0x4708,0xc8fd0));import*as a0_0x384bc3 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x374bff(0x1ce)),turbo=document['getElementById']('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x5e1dcf=a0_0x374bff;turbo[_0x5e1dcf(0x1ed)][_0x5e1dcf(0x1b8)]('turbo-ocr');try{const _0xdc90e2=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x5e1dcf(0x1cb)),_0x38fc04=await a0_0x384bc3['captureOCR'](_0xdc90e2),_0x5bc62d=new Blob([_0x38fc04],{'type':_0x5e1dcf(0x1e3)}),_0x431519=await new Promise((_0x31cb2a,_0x5d2c11)=>{const _0x55a43e=_0x5e1dcf,_0x4afaf2=new FileReader();_0x4afaf2[_0x55a43e(0x1dc)]=()=>_0x31cb2a(_0x4afaf2['result']),_0x4afaf2[_0x55a43e(0x1db)]=_0x5d2c11,_0x4afaf2['readAsDataURL'](_0x5bc62d);}),_0x57aff7=new Image();_0x57aff7['src']=_0x431519,_0x57aff7['onload']=async()=>{const _0x97ac0e=_0x5e1dcf,_0x36e886=document[_0x97ac0e(0x1ba)](_0x97ac0e(0x1ec)),_0x4adcb0=_0x36e886[_0x97ac0e(0x1d2)]('2d'),_0x2a25ff=0x4;let _0x2bb01b;gameName[_0x97ac0e(0x1d3)](_0x97ac0e(0x1e7))||gameName[_0x97ac0e(0x1d3)](_0x97ac0e(0x1d5))?_0x2bb01b=0x3/0x6:_0x2bb01b=0x3/0x4;const _0x594d1a=localStorage['getItem'](gameName+_0x97ac0e(0x1e6))||localStorage['getItem']('screenSize'),[_0x4529d1,_0xe9c6fe,_0x382f8f,_0xcdaea5]=_0x594d1a['split'](',')[_0x97ac0e(0x1e8)](Number);_0x36e886[_0x97ac0e(0x1fc)]=_0x382f8f*_0x2bb01b*_0x2a25ff,_0x36e886['height']=_0xcdaea5*_0x2bb01b*_0x2a25ff,_0x4adcb0[_0x97ac0e(0x1bd)](_0x57aff7,_0x4529d1*_0x2bb01b,_0xe9c6fe*_0x2bb01b,_0x382f8f*_0x2bb01b,_0xcdaea5*_0x2bb01b,0x0,0x0,_0x382f8f*_0x2bb01b*_0x2a25ff,_0xcdaea5*_0x2bb01b*_0x2a25ff);const _0x5bd567=_0x36e886['toDataURL'](_0x97ac0e(0x1e3))[_0x97ac0e(0x1f3)](',')[0x1],_0x25594e=localStorage[_0x97ac0e(0x1c3)](_0x97ac0e(0x1b4));console['log'](_0x25594e),_0x25594e?azureServer(_0x5bd567):freeServer(_0x5bd567);};}catch(_0x44112a){inputText['textContent']=_0x44112a['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x506078=_0x5e1dcf;document['getElementById'](_0x506078(0x1ce))[_0x506078(0x1c4)]='',a0_0x384bc3[_0x506078(0x1cc)]('',0x0);},0x7530);}function a0_0x4708(){const _0xc3fb3f=['append','charCodeAt','7EJkmvJ','getItem','textContent','join','readResult','forEach','touchstart','8639856NCUBAS','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','.png','notiMessage','442270aySmik','inputText','https://cors-anywhere.herokuapp.com/corsdemo','visible','19435750WWJeVh','getContext','endsWith','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','.gb','touchend','blocks','message','lines','image.png','onerror','onloadend','XMLHttpRequest','12fLuaRr','error','scrollWidth','2EKpRTc','noti-mess','image/png','2705485KUUjHB','user','_setArea','.gbc','map','DOMContentLoaded','code','HTTP\x20Error:\x20','canvas','classList','&dt=t&q=','replace','POST','2653164zGttWM','status','split','length','image','.._\x20','json','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','$1\x20','turbo-ocr','addEventListener','width','1713498XabSvC','9241768lozohr','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','clientWidth','warn','ApiAzure','userAgent','trim','&tl=','add','location','createElement','Error\x20detecting\x20language:','getElementById','drawImage','isArray','text'];a0_0x4708=function(){return _0xc3fb3f;};return a0_0x4708();}async function freeServer(_0x3059e2){const _0xbc8359=a0_0x374bff;document['getElementById'](_0xbc8359(0x1e2))['textContent']='';let _0x31b6d5=0x0;const _0x1a15f2=setInterval(()=>{const _0x3c1444=_0xbc8359;_0x31b6d5+=0x1,_0x31b6d5<=0x64&&(inputText['textContent']=_0x3c1444(0x1f6)+_0x31b6d5+'%');},0x64);try{const _0x5cad27=dataURItoBlob(_0x3059e2),_0x1a568a=new FormData();_0x1a568a['append'](_0xbc8359(0x1f5),_0x5cad27,_0xbc8359(0x1da)),_0x1a568a[_0xbc8359(0x1c0)](_0xbc8359(0x1e5),_0xbc8359(0x1f8));let _0x358175;try{_0x358175=await fetch(_0xbc8359(0x1b1),{'method':_0xbc8359(0x1f0),'body':_0x1a568a,'headers':{'Origin':window[_0xbc8359(0x1b9)]['origin'],'X-Requested-With':_0xbc8359(0x1dd),'User-Agent':navigator[_0xbc8359(0x1b5)]}});if(!_0x358175['ok'])throw new Error(_0xbc8359(0x1eb)+_0x358175[_0xbc8359(0x1f2)]);}catch(_0x423098){console[_0xbc8359(0x1b3)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0xbc8359(0x1b9)]['href']=_0xbc8359(0x1cf);return;}const _0x123048=await _0x358175[_0xbc8359(0x1f7)]();if(_0x123048['type']===_0xbc8359(0x1df))throw new Error(_0x123048[_0xbc8359(0x1df)]['message']);transLogic(_0x123048[_0xbc8359(0x1bf)]);}catch(_0x5af0f3){inputText[_0xbc8359(0x1c4)]=_0x5af0f3[_0xbc8359(0x1d8)];}finally{clearInterval(_0x1a15f2),isFunctionARunning=![];}}async function azureServer(_0x164091){const _0x84351d=a0_0x374bff;document['getElementById'](_0x84351d(0x1e2))[_0x84351d(0x1c4)]='',inputText[_0x84351d(0x1c4)]=_0x84351d(0x1f6);const _0x4873d3=localStorage[_0x84351d(0x1c3)](_0x84351d(0x1b4));let [_0x43649a,_0x579878]=_0x4873d3['split'](',');try{const _0x13d920=await fetch(_0x579878+_0x84351d(0x1ca),{'method':_0x84351d(0x1f0),'headers':{'Ocp-Apim-Subscription-Key':_0x43649a,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x164091)}),_0x338d4f=await _0x13d920[_0x84351d(0x1f7)]();if(!_0x13d920['ok']||_0x338d4f['type']===_0x84351d(0x1df)){const _0xbdf1d9=_0x13d920['ok']?_0x338d4f[_0x84351d(0x1df)][_0x84351d(0x1d8)]:_0x13d920['status']===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x13d920[_0x84351d(0x1f7)]())[_0x84351d(0x1df)]['message'];throw new Error(_0xbdf1d9);}const _0x308f33=_0x338d4f[_0x84351d(0x1c6)][_0x84351d(0x1d7)][0x0],_0x31a299=_0x308f33[_0x84351d(0x1d9)]||[],_0x1a0cf3=_0x31a299[_0x84351d(0x1e8)](_0x5c0e07=>_0x5c0e07[_0x84351d(0x1bf)])[_0x84351d(0x1c5)]('\x0a');transLogic(_0x1a0cf3);}catch(_0x43ef86){inputText['textContent']=_0x43ef86[_0x84351d(0x1d8)];}finally{isFunctionARunning=![];}}async function translateText(_0x3dc90f,_0x2c1451,_0x4be71c){const _0x204781=a0_0x374bff,_0x116a00=_0x3dc90f[_0x204781(0x1ef)](/[\r\n]+/g,',\x20')[_0x204781(0x1ef)](/([!?.,])\s*,\s*/g,_0x204781(0x1f9))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x204781(0x1b6)]();var _0x3b4a2a=_0x204781(0x1d4)+_0x2c1451+_0x204781(0x1b7)+_0x4be71c+_0x204781(0x1ee)+encodeURIComponent(_0x116a00);try{const _0x2b2948=await fetch(_0x3b4a2a);if(!_0x2b2948['ok']){if(_0x2b2948[_0x204781(0x1f2)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x352aef=await _0x2b2948[_0x204781(0x1f7)](),_0x537332=new Error(_0x352aef[_0x204781(0x1df)][_0x204781(0x1d8)]);_0x537332['code']=_0x352aef[_0x204781(0x1df)][_0x204781(0x1ea)];throw _0x537332;}}const _0x5987ab=await _0x2b2948[_0x204781(0x1f7)]();if(Array[_0x204781(0x1be)](_0x5987ab)&&_0x5987ab[_0x204781(0x1f4)]>0x0&&Array['isArray'](_0x5987ab[0x0])){var _0x51df36=_0x5987ab[0x0]['map'](_0x42ecac=>_0x42ecac[0x0])[_0x204781(0x1c5)]('\x20');return document[_0x204781(0x1bc)](_0x204781(0x1e2))[_0x204781(0x1c4)]='',inputText['textContent']='.._\x20'+_0x51df36['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x51df36[_0x204781(0x1ef)](/ {2,}/g,'\x20');}else return document[_0x204781(0x1bc)](_0x204781(0x1e2))[_0x204781(0x1c4)]='',inputText[_0x204781(0x1c4)]=_0x204781(0x1f6)+_0x5987ab,_0x5987ab;}catch(_0xb3f790){inputText[_0x204781(0x1c4)]=_0xb3f790[_0x204781(0x1d8)];throw _0xb3f790;}}async function autoScroll(){const _0xb02349=a0_0x374bff;var _0x5a55b1=inputText[_0xb02349(0x1e0)]-inputText[_0xb02349(0x1b2)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x5a55b1||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3433a6){const _0x17ce31=a0_0x374bff;var _0x94298a='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x3433a6);try{const _0x5af9ed=await fetch(_0x94298a),_0x37dfc5=await _0x5af9ed[_0x17ce31(0x1f7)]();var _0x53d9ca=_0x37dfc5[0x8][0x0][0x0];return _0x53d9ca;}catch(_0x45e0b1){console[_0x17ce31(0x1df)](_0x17ce31(0x1bb),_0x45e0b1);throw _0x45e0b1;}}function a0_0x355d(_0x163e6b,_0x44caa0){const _0x47081f=a0_0x4708();return a0_0x355d=function(_0x355d08,_0x362c52){_0x355d08=_0x355d08-0x1af;let _0x307c12=_0x47081f[_0x355d08];return _0x307c12;},a0_0x355d(_0x163e6b,_0x44caa0);}async function transLogic(_0x526b23){const _0x2c5d9a='en';if(_0x2c5d9a===null){const _0x380825=await detectLanguage(_0x526b23),_0x2c2e38=await translateText(_0x526b23,_0x380825,'en');return translateText(_0x2c2e38,'en','vi');}else{if(_0x2c5d9a==='en')return translateText(_0x526b23,'en','vi');else{const _0x14cb00=await translateText(_0x526b23,_0x2c5d9a,'en');return translateText(_0x14cb00,'en','vi');}}}function dataURItoBlob(_0x343a25){const _0x41c249=a0_0x374bff,_0x2e68e7=atob(_0x343a25),_0x18aa03=new ArrayBuffer(_0x2e68e7[_0x41c249(0x1f4)]),_0x1fd2f2=new Uint8Array(_0x18aa03);for(let _0x19b647=0x0;_0x19b647<_0x2e68e7[_0x41c249(0x1f4)];_0x19b647++){_0x1fd2f2[_0x19b647]=_0x2e68e7[_0x41c249(0x1c1)](_0x19b647);}return new Blob([_0x18aa03],{'type':_0x41c249(0x1e3)});}document[a0_0x374bff(0x1fb)](a0_0x374bff(0x1e9),function(){const _0x191ea2=a0_0x374bff;ID['forEach'](function(_0xb10274){const _0x5ff244=a0_0x355d,_0x5890be=document[_0x5ff244(0x1bc)](_0xb10274);_0x5890be&&_0x5890be[_0x5ff244(0x1fb)](_0x5ff244(0x1c8),function(){const _0x11beb6=_0x5ff244;!isFunctionARunning&&turbo[_0x11beb6(0x1ed)]['remove'](_0x11beb6(0x1fa));});}),[_0x191ea2(0x1d6)][_0x191ea2(0x1c7)](_0x464e4b=>{const _0x384f4a=_0x191ea2;turbo[_0x384f4a(0x1fb)](_0x464e4b,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x384f4a(0x1fb)](_0x464e4b,()=>{const _0x3f83b1=_0x384f4a;areaTrans[_0x3f83b1(0x1ed)]['toggle'](_0x3f83b1(0x1d0));});});});