const a0_0x59552=a0_0x5875;(function(_0x5f19bc,_0x55d657){const _0x50642f=a0_0x5875,_0x43d525=_0x5f19bc();while(!![]){try{const _0x45c235=parseInt(_0x50642f(0x13d))/0x1+-parseInt(_0x50642f(0x153))/0x2*(-parseInt(_0x50642f(0x15d))/0x3)+-parseInt(_0x50642f(0x15e))/0x4*(-parseInt(_0x50642f(0x13a))/0x5)+parseInt(_0x50642f(0x166))/0x6+parseInt(_0x50642f(0x142))/0x7+-parseInt(_0x50642f(0x131))/0x8+-parseInt(_0x50642f(0x132))/0x9*(parseInt(_0x50642f(0x167))/0xa);if(_0x45c235===_0x55d657)break;else _0x43d525['push'](_0x43d525['shift']());}catch(_0x48679f){_0x43d525['push'](_0x43d525['shift']());}}}(a0_0x5f40,0x595dc));import*as a0_0x411783 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];function a0_0x5f40(){const _0x28d2e0=['log','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','https://cors-anywhere.herokuapp.com/corsdemo','json','inputText','turbo','_setArea','add','href','toDataURL','replace','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','message','origin','noti-mess','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','notiMessage','949776NjMTsE','72MyKfCJ','HTTP\x20Error:\x20','onerror','canvas','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','user','Error\x20detecting\x20language:','application/octet-stream','7205ROgCzY','map','ApiAzure','318615EPyiBv','lines','500\x20Internal\x20Server\x20Error','clientWidth','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','1364391XKZfAz','Cors-controlers\x20have\x20not\x20been\x20activated.','image.png','toggle','Internal\x20Server\x20Error','code','split','join','captureOCR','blocks','addEventListener','type','scrollLeft','createElement','readAsDataURL','height','turbo-ocr','44426IRxDBL','length','text','.._\x20','getElementById','image/png','width','append','isArray','classList','9NRPxsl','1532fiLeNK','location','XMLHttpRequest','&dt=t&q=','drawImage','textContent','error','getItem','2433312SOtbUF','1316070sBfvUR','status','trim','forEach','POST'];a0_0x5f40=function(){return _0x28d2e0;};return a0_0x5f40();}var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x59552(0x157)]('inputText'),turbo=document['getElementById'](a0_0x59552(0x171)),ID=['A','B','R','L'];function a0_0x5875(_0x2bc69c,_0x2d0697){const _0x5f4062=a0_0x5f40();return a0_0x5875=function(_0x58758d,_0x4566f0){_0x58758d=_0x58758d-0x126;let _0x281e2b=_0x5f4062[_0x58758d];return _0x281e2b;},a0_0x5875(_0x2bc69c,_0x2d0697);}async function getImage(){const _0xa8812a=a0_0x59552;turbo['classList'][_0xa8812a(0x127)](_0xa8812a(0x152));try{const _0xc6c06f=gameName[_0xa8812a(0x12a)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x325a74=await a0_0x411783[_0xa8812a(0x14a)](_0xc6c06f),_0x962bce=new Blob([_0x325a74],{'type':_0xa8812a(0x158)}),_0x4dbece=await new Promise((_0x38b4af,_0x1c203c)=>{const _0x1d5234=_0xa8812a,_0x9d1c03=new FileReader();_0x9d1c03['onloadend']=()=>_0x38b4af(_0x9d1c03['result']),_0x9d1c03[_0x1d5234(0x134)]=_0x1c203c,_0x9d1c03[_0x1d5234(0x150)](_0x962bce);}),_0x325c4d=new Image();_0x325c4d['src']=_0x4dbece,_0x325c4d['onload']=async()=>{const _0x386739=_0xa8812a,_0x207c6e=document[_0x386739(0x14f)](_0x386739(0x135)),_0x2cf5ad=_0x207c6e['getContext']('2d'),_0x12c271=0x4;let _0x2e8f64;gameName['endsWith']('.gbc')||gameName['endsWith']('.gb')?_0x2e8f64=0x3/0x6:_0x2e8f64=0x3/0x4;const _0x284e65=localStorage[_0x386739(0x165)](gameName+_0x386739(0x126))||localStorage[_0x386739(0x165)]('screenSize'),[_0x28bda1,_0x24288c,_0x34c259,_0x529885]=_0x284e65[_0x386739(0x148)](',')['map'](Number);_0x207c6e[_0x386739(0x159)]=_0x34c259*_0x2e8f64*_0x12c271,_0x207c6e[_0x386739(0x151)]=_0x529885*_0x2e8f64*_0x12c271,_0x2cf5ad[_0x386739(0x162)](_0x325c4d,_0x28bda1*_0x2e8f64,_0x24288c*_0x2e8f64,_0x34c259*_0x2e8f64,_0x529885*_0x2e8f64,0x0,0x0,_0x34c259*_0x2e8f64*_0x12c271,_0x529885*_0x2e8f64*_0x12c271);const _0x5bb821=_0x207c6e[_0x386739(0x129)](_0x386739(0x158))[_0x386739(0x148)](',')[0x1],_0x2ff700=localStorage[_0x386739(0x165)]('ApiAzure');console[_0x386739(0x16c)](_0x2ff700),_0x2ff700?azureServer(_0x5bb821):freeServer(_0x5bb821);};}catch(_0x235e22){inputText[_0xa8812a(0x163)]=_0x235e22['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x47bea6=_0xa8812a;document['getElementById'](_0x47bea6(0x170))[_0x47bea6(0x163)]='',a0_0x411783[_0x47bea6(0x130)]('',0x0);},0x7530);}async function freeServer(_0xa7f048){const _0x182d40=a0_0x59552;document['getElementById'](_0x182d40(0x12e))['textContent']='';let _0x547a3e=0x0;const _0x2ddaaf=setInterval(()=>{const _0x164e97=_0x182d40;_0x547a3e+=0x1,_0x547a3e<=0x64&&(inputText['textContent']=_0x164e97(0x156)+_0x547a3e+'%');},0x64);try{const _0x2a0832=dataURItoBlob(_0xa7f048),_0x3424a4=new FormData();_0x3424a4['append']('image',_0x2a0832,_0x182d40(0x144)),_0x3424a4[_0x182d40(0x15a)](_0x182d40(0x137),_0x182d40(0x12b));let _0xb2f47f;try{_0xb2f47f=await fetch(_0x182d40(0x16d),{'method':_0x182d40(0x16b),'body':_0x3424a4,'headers':{'Origin':window[_0x182d40(0x15f)][_0x182d40(0x12d)],'X-Requested-With':_0x182d40(0x160),'User-Agent':navigator['userAgent']}});if(!_0xb2f47f['ok'])throw new Error(_0x182d40(0x133)+_0xb2f47f[_0x182d40(0x168)]);}catch(_0x574756){console['warn'](_0x182d40(0x143)),window[_0x182d40(0x15f)][_0x182d40(0x128)]=_0x182d40(0x16e);return;}const _0x45cf87=await _0xb2f47f['json']();if(_0x45cf87[_0x182d40(0x14d)]===_0x182d40(0x164))throw new Error(_0x45cf87[_0x182d40(0x164)][_0x182d40(0x12c)]);transLogic(_0x45cf87[_0x182d40(0x155)]);}catch(_0x5edd72){inputText[_0x182d40(0x163)]=_0x5edd72[_0x182d40(0x12c)];}finally{clearInterval(_0x2ddaaf),isFunctionARunning=![];}}async function azureServer(_0x4f9910){const _0x21d92c=a0_0x59552;document['getElementById']('noti-mess')[_0x21d92c(0x163)]='',inputText[_0x21d92c(0x163)]=_0x21d92c(0x156);const _0x4db189=localStorage[_0x21d92c(0x165)](_0x21d92c(0x13c));let [_0x37ef7d,_0x4aa66b]=_0x4db189[_0x21d92c(0x148)](',');try{const _0x549500=await fetch(_0x4aa66b+_0x21d92c(0x136),{'method':_0x21d92c(0x16b),'headers':{'Ocp-Apim-Subscription-Key':_0x37ef7d,'Content-Type':_0x21d92c(0x139)},'body':dataURItoBlob(_0x4f9910)}),_0xb1c567=await _0x549500[_0x21d92c(0x16f)]();if(!_0x549500['ok']||_0xb1c567[_0x21d92c(0x14d)]===_0x21d92c(0x164)){const _0x1883ef=_0x549500['ok']?_0xb1c567[_0x21d92c(0x164)]['message']:_0x549500[_0x21d92c(0x168)]===0x1f4?_0x21d92c(0x13f):(await _0x549500[_0x21d92c(0x16f)]())[_0x21d92c(0x164)][_0x21d92c(0x12c)];throw new Error(_0x1883ef);}const _0x578f9f=_0xb1c567['readResult'][_0x21d92c(0x14b)][0x0],_0x3c1c08=_0x578f9f[_0x21d92c(0x13e)]||[],_0x3a141c=_0x3c1c08[_0x21d92c(0x13b)](_0x4a8de7=>_0x4a8de7['text'])[_0x21d92c(0x149)]('\x0a');transLogic(_0x3a141c);}catch(_0x2db6b0){inputText['textContent']=_0x2db6b0[_0x21d92c(0x12c)];}finally{isFunctionARunning=![];}}async function translateText(_0x1c33d1,_0x295d6a,_0x1e6789){const _0x301e39=a0_0x59552,_0x387a88=_0x1c33d1['replace'](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,'$1\x20')['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x301e39(0x12a)](/ {2,}/g,'\x20')[_0x301e39(0x169)]();var _0x2993ef=_0x301e39(0x12f)+_0x295d6a+'&tl='+_0x1e6789+_0x301e39(0x161)+encodeURIComponent(_0x387a88);try{const _0x57bb89=await fetch(_0x2993ef);if(!_0x57bb89['ok']){if(_0x57bb89[_0x301e39(0x168)]===0x1f4)throw new Error(_0x301e39(0x146));else{const _0x1d908b=await _0x57bb89['json'](),_0x2fe442=new Error(_0x1d908b[_0x301e39(0x164)][_0x301e39(0x12c)]);_0x2fe442['code']=_0x1d908b[_0x301e39(0x164)][_0x301e39(0x147)];throw _0x2fe442;}}const _0x44cff3=await _0x57bb89[_0x301e39(0x16f)]();if(Array[_0x301e39(0x15b)](_0x44cff3)&&_0x44cff3[_0x301e39(0x154)]>0x0&&Array['isArray'](_0x44cff3[0x0])){var _0x140c32=_0x44cff3[0x0][_0x301e39(0x13b)](_0x4eebeb=>_0x4eebeb[0x0])['join']('\x20');return document['getElementById'](_0x301e39(0x12e))[_0x301e39(0x163)]='',inputText[_0x301e39(0x163)]=_0x301e39(0x156)+_0x140c32[_0x301e39(0x12a)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x140c32[_0x301e39(0x12a)](/ {2,}/g,'\x20');}else return document[_0x301e39(0x157)](_0x301e39(0x12e))['textContent']='',inputText['textContent']=_0x301e39(0x156)+_0x44cff3,_0x44cff3;}catch(_0x36a1bf){inputText[_0x301e39(0x163)]=_0x36a1bf[_0x301e39(0x12c)];throw _0x36a1bf;}}async function autoScroll(){const _0x3d3a67=a0_0x59552;var _0x1f68e6=inputText['scrollWidth']-inputText[_0x3d3a67(0x140)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1f68e6||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x3d3a67(0x14e)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3e0a4a){const _0x554d5f=a0_0x59552;var _0x293f21=_0x554d5f(0x141)+encodeURIComponent(_0x3e0a4a);try{const _0x389a2c=await fetch(_0x293f21),_0x1a8d76=await _0x389a2c['json']();var _0x53542d=_0x1a8d76[0x8][0x0][0x0];return _0x53542d;}catch(_0x2be99e){console[_0x554d5f(0x164)](_0x554d5f(0x138),_0x2be99e);throw _0x2be99e;}}async function transLogic(_0x37c4a9){const _0x762a38='en';if(_0x762a38===null){const _0x29889b=await detectLanguage(_0x37c4a9),_0xd8fec=await translateText(_0x37c4a9,_0x29889b,'en');return translateText(_0xd8fec,'en','vi');}else{if(_0x762a38==='en')return translateText(_0x37c4a9,'en','vi');else{const _0xfb7ed5=await translateText(_0x37c4a9,_0x762a38,'en');return translateText(_0xfb7ed5,'en','vi');}}}function dataURItoBlob(_0x4721f3){const _0x313433=a0_0x59552,_0x3bba81=atob(_0x4721f3),_0x166ac6=new ArrayBuffer(_0x3bba81['length']),_0x365dfb=new Uint8Array(_0x166ac6);for(let _0x3e04f1=0x0;_0x3e04f1<_0x3bba81[_0x313433(0x154)];_0x3e04f1++){_0x365dfb[_0x3e04f1]=_0x3bba81['charCodeAt'](_0x3e04f1);}return new Blob([_0x166ac6],{'type':_0x313433(0x158)});}document[a0_0x59552(0x14c)]('DOMContentLoaded',function(){const _0x10e77d=a0_0x59552;ID[_0x10e77d(0x16a)](function(_0x47b9e6){const _0x566ba3=_0x10e77d,_0x27d627=document[_0x566ba3(0x157)](_0x47b9e6);_0x27d627&&_0x27d627[_0x566ba3(0x14c)]('touchstart',function(){const _0x142553=_0x566ba3;!isFunctionARunning&&turbo[_0x142553(0x15c)]['remove'](_0x142553(0x152));});}),['touchend'][_0x10e77d(0x16a)](_0x4b988b=>{const _0x216baf=_0x10e77d;turbo[_0x216baf(0x14c)](_0x4b988b,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x4b988b,()=>{const _0x2f27d7=_0x216baf;areaTrans[_0x2f27d7(0x15c)][_0x2f27d7(0x145)]('visible');});});});