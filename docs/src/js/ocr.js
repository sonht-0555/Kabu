const a0_0x5a5dfb=a0_0x500e;(function(_0x181cc6,_0x3c93fe){const _0x339cad=a0_0x500e,_0x3d37c4=_0x181cc6();while(!![]){try{const _0x2b5c83=parseInt(_0x339cad(0x11a))/0x1+-parseInt(_0x339cad(0x127))/0x2+parseInt(_0x339cad(0x146))/0x3+parseInt(_0x339cad(0x117))/0x4*(-parseInt(_0x339cad(0x11e))/0x5)+-parseInt(_0x339cad(0x124))/0x6*(-parseInt(_0x339cad(0x113))/0x7)+-parseInt(_0x339cad(0x134))/0x8*(parseInt(_0x339cad(0x123))/0x9)+parseInt(_0x339cad(0x148))/0xa;if(_0x2b5c83===_0x3c93fe)break;else _0x3d37c4['push'](_0x3d37c4['shift']());}catch(_0x170eee){_0x3d37c4['push'](_0x3d37c4['shift']());}}}(a0_0x4f28,0xc0110));import*as a0_0xa834f4 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x4f28(){const _0x204758=['DOMContentLoaded','18CQluOL','1230pWyxdM','readResult','trim','1105464UbIZdh','message','length','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','isArray','screenSize','join','.png','origin','.gbc','location','href','log','4628224VwhDJQ','clientWidth','application/octet-stream','textContent','map','text','endsWith','&tl=','ApiAzure','toggle','Internal\x20Server\x20Error','image/png','inputText','append','replace','notiMessage','image','visible','2374704qbetjz','drawImage','24867400zuvqHB','turbo','touchstart','readAsDataURL','getContext','error','userAgent','type','noti-mess','code','lines','captureOCR','charCodeAt','status','width','split','turbo-ocr','addEventListener','onloadend','https://cors-anywhere.herokuapp.com/corsdemo','blocks','HTTP\x20Error:\x20','Error\x20detecting\x20language:','500\x20Internal\x20Server\x20Error','classList','scrollWidth','5509cYKfxD','getElementById','remove','canvas','140PaeUkE','getItem','$1\x20','558524PtjXHt','height','POST','touchend','214525mGaYAw','json','XMLHttpRequest','.._\x20'];a0_0x4f28=function(){return _0x204758;};return a0_0x4f28();}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x5a5dfb(0x114)](a0_0x5a5dfb(0x140)),turbo=document[a0_0x5a5dfb(0x114)](a0_0x5a5dfb(0x149)),ID=['A','B','R','L'];async function getImage(){const _0x4adfaa=a0_0x5a5dfb;turbo[_0x4adfaa(0x111)]['add']('turbo-ocr');try{const _0xe72f3e=gameName[_0x4adfaa(0x142)](/\.(gba|gbc|gb|zip)$/,_0x4adfaa(0x12e)),_0x36c898=await a0_0xa834f4[_0x4adfaa(0x104)](_0xe72f3e),_0x2a8188=new Blob([_0x36c898],{'type':_0x4adfaa(0x13f)}),_0x156737=await new Promise((_0x4e71a3,_0x2939fe)=>{const _0x3be598=_0x4adfaa,_0x4b086b=new FileReader();_0x4b086b[_0x3be598(0x10b)]=()=>_0x4e71a3(_0x4b086b['result']),_0x4b086b['onerror']=_0x2939fe,_0x4b086b[_0x3be598(0x14b)](_0x2a8188);}),_0x1e33ff=new Image();_0x1e33ff['src']=_0x156737,_0x1e33ff['onload']=async()=>{const _0x8838b9=_0x4adfaa,_0x184f32=document['createElement'](_0x8838b9(0x116)),_0x890a01=_0x184f32[_0x8838b9(0x14c)]('2d'),_0x165fe7=0x4;let _0x5c8f44;gameName[_0x8838b9(0x13a)](_0x8838b9(0x130))||gameName[_0x8838b9(0x13a)]('.gb')?_0x5c8f44=0x3/0x6:_0x5c8f44=0x3/0x4;const _0x3d234b=localStorage[_0x8838b9(0x118)](gameName+'_setArea')||localStorage[_0x8838b9(0x118)](_0x8838b9(0x12c)),[_0x461a27,_0x579c37,_0x4428ba,_0x305ee3]=_0x3d234b[_0x8838b9(0x108)](',')[_0x8838b9(0x138)](Number);_0x184f32[_0x8838b9(0x107)]=_0x4428ba*_0x5c8f44*_0x165fe7,_0x184f32[_0x8838b9(0x11b)]=_0x305ee3*_0x5c8f44*_0x165fe7,_0x890a01[_0x8838b9(0x147)](_0x1e33ff,_0x461a27*_0x5c8f44,_0x579c37*_0x5c8f44,_0x4428ba*_0x5c8f44,_0x305ee3*_0x5c8f44,0x0,0x0,_0x4428ba*_0x5c8f44*_0x165fe7,_0x305ee3*_0x5c8f44*_0x165fe7);const _0x422dac=_0x184f32['toDataURL'](_0x8838b9(0x13f))[_0x8838b9(0x108)](',')[0x1],_0xdc370f=localStorage[_0x8838b9(0x118)]('ApiAzure');console[_0x8838b9(0x133)](_0xdc370f),_0xdc370f?azureServer(_0x422dac):freeServer(_0x422dac);};}catch(_0x5c0cf0){inputText['textContent']=_0x5c0cf0[_0x4adfaa(0x128)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2b7aea=_0x4adfaa;document[_0x2b7aea(0x114)](_0x2b7aea(0x140))[_0x2b7aea(0x137)]='',a0_0xa834f4[_0x2b7aea(0x143)]('',0x0);},0x7530);}async function freeServer(_0x36619e){const _0x544303=a0_0x5a5dfb;document['getElementById'](_0x544303(0x101))[_0x544303(0x137)]='';let _0x4ef3a1=0x0;const _0x428bfa=setInterval(()=>{const _0x5e7d33=_0x544303;_0x4ef3a1+=0x1,_0x4ef3a1<=0x64&&(inputText['textContent']=_0x5e7d33(0x121)+_0x4ef3a1+'%');},0x64);try{const _0x4deaa8=dataURItoBlob(_0x36619e),_0x4082cb=new FormData();_0x4082cb[_0x544303(0x141)](_0x544303(0x144),_0x4deaa8,'image.png'),_0x4082cb['append']('user','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x4ad321;try{_0x4ad321=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x544303(0x11c),'body':_0x4082cb,'headers':{'Origin':window['location'][_0x544303(0x12f)],'X-Requested-With':_0x544303(0x120),'User-Agent':navigator[_0x544303(0xff)]}});if(!_0x4ad321['ok'])throw new Error(_0x544303(0x10e)+_0x4ad321['status']);}catch(_0x561ac6){console['warn']('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x544303(0x131)][_0x544303(0x132)]=_0x544303(0x10c);return;}const _0x202cc0=await _0x4ad321[_0x544303(0x11f)]();if(_0x202cc0[_0x544303(0x100)]===_0x544303(0x14d))throw new Error(_0x202cc0[_0x544303(0x14d)][_0x544303(0x128)]);transLogic(_0x202cc0[_0x544303(0x139)]);}catch(_0x20823c){inputText['textContent']=_0x20823c[_0x544303(0x128)];}finally{clearInterval(_0x428bfa),isFunctionARunning=![];}}async function azureServer(_0x2db018){const _0x26f96d=a0_0x5a5dfb;document['getElementById'](_0x26f96d(0x101))[_0x26f96d(0x137)]='',inputText[_0x26f96d(0x137)]=_0x26f96d(0x121);const _0x23f557=localStorage[_0x26f96d(0x118)](_0x26f96d(0x13c));let [_0x9222bc,_0x57c51c]=_0x23f557[_0x26f96d(0x108)](',');try{const _0x316657=await fetch(_0x57c51c+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x26f96d(0x11c),'headers':{'Ocp-Apim-Subscription-Key':_0x9222bc,'Content-Type':_0x26f96d(0x136)},'body':dataURItoBlob(_0x2db018)}),_0x12eb98=await _0x316657[_0x26f96d(0x11f)]();if(!_0x316657['ok']||_0x12eb98[_0x26f96d(0x100)]===_0x26f96d(0x14d)){const _0x4c5824=_0x316657['ok']?_0x12eb98[_0x26f96d(0x14d)][_0x26f96d(0x128)]:_0x316657[_0x26f96d(0x106)]===0x1f4?_0x26f96d(0x110):(await _0x316657[_0x26f96d(0x11f)]())[_0x26f96d(0x14d)][_0x26f96d(0x128)];throw new Error(_0x4c5824);}const _0x4edb3b=_0x12eb98[_0x26f96d(0x125)][_0x26f96d(0x10d)][0x0],_0x4c8137=_0x4edb3b[_0x26f96d(0x103)]||[],_0x598f91=_0x4c8137[_0x26f96d(0x138)](_0x36536a=>_0x36536a[_0x26f96d(0x139)])[_0x26f96d(0x12d)]('\x0a');transLogic(_0x598f91);}catch(_0x2a1db6){inputText['textContent']=_0x2a1db6[_0x26f96d(0x128)];}finally{isFunctionARunning=![];}}async function translateText(_0x5f0b15,_0x5e8de4,_0x38bbfe){const _0x1d3e63=a0_0x5a5dfb,_0x60287b=_0x5f0b15['replace'](/[\r\n]+/g,',\x20')[_0x1d3e63(0x142)](/([!?.,])\s*,\s*/g,_0x1d3e63(0x119))[_0x1d3e63(0x142)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x1d3e63(0x142)](/ {2,}/g,'\x20')[_0x1d3e63(0x126)]();var _0x37f850='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x5e8de4+_0x1d3e63(0x13b)+_0x38bbfe+'&dt=t&q='+encodeURIComponent(_0x60287b);try{const _0x435000=await fetch(_0x37f850);if(!_0x435000['ok']){if(_0x435000[_0x1d3e63(0x106)]===0x1f4)throw new Error(_0x1d3e63(0x13e));else{const _0x32e183=await _0x435000['json'](),_0x34d214=new Error(_0x32e183[_0x1d3e63(0x14d)][_0x1d3e63(0x128)]);_0x34d214[_0x1d3e63(0x102)]=_0x32e183[_0x1d3e63(0x14d)][_0x1d3e63(0x102)];throw _0x34d214;}}const _0x1bdd38=await _0x435000['json']();if(Array['isArray'](_0x1bdd38)&&_0x1bdd38[_0x1d3e63(0x129)]>0x0&&Array[_0x1d3e63(0x12b)](_0x1bdd38[0x0])){var _0x40cde2=_0x1bdd38[0x0][_0x1d3e63(0x138)](_0x1c9d74=>_0x1c9d74[0x0])['join']('\x20');return document['getElementById']('noti-mess')[_0x1d3e63(0x137)]='',inputText[_0x1d3e63(0x137)]=_0x1d3e63(0x121)+_0x40cde2[_0x1d3e63(0x142)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x40cde2['replace'](/ {2,}/g,'\x20');}else return document[_0x1d3e63(0x114)](_0x1d3e63(0x101))[_0x1d3e63(0x137)]='',inputText['textContent']=_0x1d3e63(0x121)+_0x1bdd38,_0x1bdd38;}catch(_0x4a8c25){inputText[_0x1d3e63(0x137)]=_0x4a8c25[_0x1d3e63(0x128)];throw _0x4a8c25;}}async function autoScroll(){const _0x3caaa8=a0_0x5a5dfb;var _0x382654=inputText[_0x3caaa8(0x112)]-inputText[_0x3caaa8(0x135)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x382654||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}function a0_0x500e(_0x62fb8e,_0x101496){const _0x4f2864=a0_0x4f28();return a0_0x500e=function(_0x500e5f,_0x4fc7c0){_0x500e5f=_0x500e5f-0xff;let _0x26fab1=_0x4f2864[_0x500e5f];return _0x26fab1;},a0_0x500e(_0x62fb8e,_0x101496);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x22204d){const _0x354408=a0_0x5a5dfb;var _0x118966=_0x354408(0x12a)+encodeURIComponent(_0x22204d);try{const _0x5cf077=await fetch(_0x118966),_0xa72e1e=await _0x5cf077[_0x354408(0x11f)]();var _0x225e75=_0xa72e1e[0x8][0x0][0x0];return _0x225e75;}catch(_0x294fea){console[_0x354408(0x14d)](_0x354408(0x10f),_0x294fea);throw _0x294fea;}}async function transLogic(_0x1ac124){const _0x4206bf='en';if(_0x4206bf===null){const _0x351434=await detectLanguage(_0x1ac124),_0x5988aa=await translateText(_0x1ac124,_0x351434,'en');return translateText(_0x5988aa,'en','vi');}else{if(_0x4206bf==='en')return translateText(_0x1ac124,'en','vi');else{const _0x1fa285=await translateText(_0x1ac124,_0x4206bf,'en');return translateText(_0x1fa285,'en','vi');}}}function dataURItoBlob(_0x14bc19){const _0x424448=a0_0x5a5dfb,_0x4d7272=atob(_0x14bc19),_0x294609=new ArrayBuffer(_0x4d7272[_0x424448(0x129)]),_0x2839a8=new Uint8Array(_0x294609);for(let _0x3036f0=0x0;_0x3036f0<_0x4d7272[_0x424448(0x129)];_0x3036f0++){_0x2839a8[_0x3036f0]=_0x4d7272[_0x424448(0x105)](_0x3036f0);}return new Blob([_0x294609],{'type':_0x424448(0x13f)});}document[a0_0x5a5dfb(0x10a)](a0_0x5a5dfb(0x122),function(){const _0x347a94=a0_0x5a5dfb;ID['forEach'](function(_0x1041be){const _0x31f15e=a0_0x500e,_0x58f19e=document[_0x31f15e(0x114)](_0x1041be);_0x58f19e&&_0x58f19e[_0x31f15e(0x10a)](_0x31f15e(0x14a),function(){const _0x5b5d96=_0x31f15e;!isFunctionARunning&&turbo[_0x5b5d96(0x111)][_0x5b5d96(0x115)](_0x5b5d96(0x109));});}),[_0x347a94(0x11d)]['forEach'](_0x40417e=>{const _0x24a23a=_0x347a94;turbo[_0x24a23a(0x10a)](_0x40417e,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x40417e,()=>{const _0xc04343=_0x24a23a;areaTrans[_0xc04343(0x111)][_0xc04343(0x13d)](_0xc04343(0x145));});});});