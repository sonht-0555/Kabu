function a0_0x4189(){const _0x2d5f74=['image/png','code','turbo-ocr','image','9653770ZsukTQ','toDataURL','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','inputText','Internal\x20Server\x20Error','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','add','warn','blocks','createElement','scrollLeft','width','onerror','forEach','_setArea','.._\x20','noti-mess','image.png','touchend','POST','visible','500\x20Internal\x20Server\x20Error','.png','append','onload','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','Error\x20detecting\x20language:','&tl=','addEventListener','isArray','split','charCodeAt','readResult','getItem','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','3421584gcUkhl','3257424jIBOyC','log','message','result','notiMessage','getElementById','map','88882hEJToV','66VreCcp','type','4kskEuO','user','application/octet-stream','98826rLFaXq','.gbc','height','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','json','1204000ysNAVm','toggle','src','userAgent','status','readAsDataURL','onloadend','location','href','text','1449345GtNJFF','join','remove','clientWidth','replace','scrollWidth','textContent','turbo','HTTP\x20Error:\x20','https://cors-anywhere.herokuapp.com/corsdemo','classList','endsWith','error','11ABcWor','length','&dt=t&q=','getContext'];a0_0x4189=function(){return _0x2d5f74;};return a0_0x4189();}const a0_0x5d32b4=a0_0x353c;(function(_0x32d023,_0x260c0d){const _0x4240b8=a0_0x353c,_0x46f5ea=_0x32d023();while(!![]){try{const _0x3327d1=-parseInt(_0x4240b8(0x1e6))/0x1*(-parseInt(_0x4240b8(0x219))/0x2)+parseInt(_0x4240b8(0x1d9))/0x3+-parseInt(_0x4240b8(0x21c))/0x4*(-parseInt(_0x4240b8(0x1cf))/0x5)+-parseInt(_0x4240b8(0x21a))/0x6*(-parseInt(_0x4240b8(0x1ca))/0x7)+-parseInt(_0x4240b8(0x212))/0x8+parseInt(_0x4240b8(0x211))/0x9+-parseInt(_0x4240b8(0x1ee))/0xa;if(_0x3327d1===_0x260c0d)break;else _0x46f5ea['push'](_0x46f5ea['shift']());}catch(_0xea7a2b){_0x46f5ea['push'](_0x46f5ea['shift']());}}}(a0_0x4189,0x5bb85));import*as a0_0xb3cf1d from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x5d32b4(0x1f1)),turbo=document[a0_0x5d32b4(0x217)](a0_0x5d32b4(0x1e0)),ID=['A','B','R','L'];async function getImage(){const _0x5f22aa=a0_0x5d32b4;turbo[_0x5f22aa(0x1e3)][_0x5f22aa(0x1f4)](_0x5f22aa(0x1ec));try{const _0x3c746f=gameName[_0x5f22aa(0x1dd)](/\.(gba|gbc|gb|zip)$/,_0x5f22aa(0x204)),_0x11a053=await a0_0xb3cf1d['captureOCR'](_0x3c746f),_0x5ef369=new Blob([_0x11a053],{'type':_0x5f22aa(0x1ea)}),_0x5acab2=await new Promise((_0x3398e8,_0x5c8a5a)=>{const _0x358235=_0x5f22aa,_0x1e0f7e=new FileReader();_0x1e0f7e[_0x358235(0x1d5)]=()=>_0x3398e8(_0x1e0f7e[_0x358235(0x215)]),_0x1e0f7e[_0x358235(0x1fa)]=_0x5c8a5a,_0x1e0f7e[_0x358235(0x1d4)](_0x5ef369);}),_0x3475d1=new Image();_0x3475d1[_0x5f22aa(0x1d1)]=_0x5acab2,_0x3475d1[_0x5f22aa(0x206)]=async()=>{const _0x347f74=_0x5f22aa,_0x246b11=document[_0x347f74(0x1f7)]('canvas'),_0x1446d4=_0x246b11[_0x347f74(0x1e9)]('2d'),_0x49b167=0x4;let _0x8171c6;gameName[_0x347f74(0x1e4)](_0x347f74(0x1cb))||gameName['endsWith']('.gb')?_0x8171c6=0x3/0x6:_0x8171c6=0x3/0x4;const _0x563f9e=localStorage[_0x347f74(0x20f)](gameName+_0x347f74(0x1fc))||localStorage[_0x347f74(0x20f)]('screenSize'),[_0x5210c8,_0x104d90,_0xabfcc2,_0x1ca0cb]=_0x563f9e[_0x347f74(0x20c)](',')[_0x347f74(0x218)](Number);_0x246b11[_0x347f74(0x1f9)]=_0xabfcc2*_0x8171c6*_0x49b167,_0x246b11[_0x347f74(0x1cc)]=_0x1ca0cb*_0x8171c6*_0x49b167,_0x1446d4['drawImage'](_0x3475d1,_0x5210c8*_0x8171c6,_0x104d90*_0x8171c6,_0xabfcc2*_0x8171c6,_0x1ca0cb*_0x8171c6,0x0,0x0,_0xabfcc2*_0x8171c6*_0x49b167,_0x1ca0cb*_0x8171c6*_0x49b167);const _0x120170=_0x246b11[_0x347f74(0x1ef)](_0x347f74(0x1ea))['split'](',')[0x1],_0x6f920d=localStorage['getItem']('ApiAzure');console[_0x347f74(0x213)](_0x6f920d),_0x6f920d?azureServer(_0x120170):freeServer(_0x120170);};}catch(_0x16417f){inputText[_0x5f22aa(0x1df)]=_0x16417f[_0x5f22aa(0x214)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x124d23=_0x5f22aa;document[_0x124d23(0x217)](_0x124d23(0x1f1))[_0x124d23(0x1df)]='',a0_0xb3cf1d[_0x124d23(0x216)]('',0x0);},0x7530);}async function freeServer(_0x1384fd){const _0x53957a=a0_0x5d32b4;document[_0x53957a(0x217)]('noti-mess')['textContent']='';let _0x302f6a=0x0;const _0x3caf71=setInterval(()=>{const _0x26655d=_0x53957a;_0x302f6a+=0x1,_0x302f6a<=0x64&&(inputText[_0x26655d(0x1df)]='.._\x20'+_0x302f6a+'%');},0x64);try{const _0x2d9588=dataURItoBlob(_0x1384fd),_0x3f518e=new FormData();_0x3f518e[_0x53957a(0x205)](_0x53957a(0x1ed),_0x2d9588,_0x53957a(0x1ff)),_0x3f518e[_0x53957a(0x205)](_0x53957a(0x1c8),_0x53957a(0x210));let _0x3dc10d;try{_0x3dc10d=await fetch(_0x53957a(0x207),{'method':_0x53957a(0x201),'body':_0x3f518e,'headers':{'Origin':window[_0x53957a(0x1d6)]['origin'],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x53957a(0x1d2)]}});if(!_0x3dc10d['ok'])throw new Error(_0x53957a(0x1e1)+_0x3dc10d[_0x53957a(0x1d3)]);}catch(_0x39a515){console[_0x53957a(0x1f5)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x53957a(0x1d6)][_0x53957a(0x1d7)]=_0x53957a(0x1e2);return;}const _0x524a3f=await _0x3dc10d[_0x53957a(0x1ce)]();if(_0x524a3f[_0x53957a(0x21b)]===_0x53957a(0x1e5))throw new Error(_0x524a3f[_0x53957a(0x1e5)][_0x53957a(0x214)]);transLogic(_0x524a3f[_0x53957a(0x1d8)]);}catch(_0x3a3a07){inputText[_0x53957a(0x1df)]=_0x3a3a07['message'];}finally{clearInterval(_0x3caf71),isFunctionARunning=![];}}async function azureServer(_0x399bc6){const _0x2027c3=a0_0x5d32b4;document[_0x2027c3(0x217)](_0x2027c3(0x1fe))[_0x2027c3(0x1df)]='',inputText[_0x2027c3(0x1df)]=_0x2027c3(0x1fd);const _0x16cef5=localStorage[_0x2027c3(0x20f)]('ApiAzure');let [_0x4d5f41,_0x4f2af9]=_0x16cef5[_0x2027c3(0x20c)](',');try{const _0x14c9a0=await fetch(_0x4f2af9+_0x2027c3(0x1f3),{'method':_0x2027c3(0x201),'headers':{'Ocp-Apim-Subscription-Key':_0x4d5f41,'Content-Type':_0x2027c3(0x1c9)},'body':dataURItoBlob(_0x399bc6)}),_0x41c7db=await _0x14c9a0[_0x2027c3(0x1ce)]();if(!_0x14c9a0['ok']||_0x41c7db[_0x2027c3(0x21b)]===_0x2027c3(0x1e5)){const _0x305da7=_0x14c9a0['ok']?_0x41c7db['error'][_0x2027c3(0x214)]:_0x14c9a0[_0x2027c3(0x1d3)]===0x1f4?_0x2027c3(0x203):(await _0x14c9a0[_0x2027c3(0x1ce)]())[_0x2027c3(0x1e5)][_0x2027c3(0x214)];throw new Error(_0x305da7);}const _0x56a3ad=_0x41c7db[_0x2027c3(0x20e)][_0x2027c3(0x1f6)][0x0],_0x346e65=_0x56a3ad['lines']||[],_0x5af66f=_0x346e65[_0x2027c3(0x218)](_0x8e305f=>_0x8e305f['text'])['join']('\x0a');transLogic(_0x5af66f);}catch(_0x935dc3){inputText[_0x2027c3(0x1df)]=_0x935dc3['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x38facf,_0x3ecdbd,_0x1e820c){const _0xb83c18=a0_0x5d32b4,_0x182b58=_0x38facf[_0xb83c18(0x1dd)](/[\r\n]+/g,',\x20')[_0xb83c18(0x1dd)](/([!?.,])\s*,\s*/g,'$1\x20')[_0xb83c18(0x1dd)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0xb83c18(0x1dd)](/ {2,}/g,'\x20')['trim']();var _0x366aac=_0xb83c18(0x1cd)+_0x3ecdbd+_0xb83c18(0x209)+_0x1e820c+_0xb83c18(0x1e8)+encodeURIComponent(_0x182b58);try{const _0x5db162=await fetch(_0x366aac);if(!_0x5db162['ok']){if(_0x5db162[_0xb83c18(0x1d3)]===0x1f4)throw new Error(_0xb83c18(0x1f2));else{const _0x89c19e=await _0x5db162['json'](),_0x12fa7e=new Error(_0x89c19e[_0xb83c18(0x1e5)][_0xb83c18(0x214)]);_0x12fa7e[_0xb83c18(0x1eb)]=_0x89c19e['error']['code'];throw _0x12fa7e;}}const _0x283010=await _0x5db162[_0xb83c18(0x1ce)]();if(Array['isArray'](_0x283010)&&_0x283010[_0xb83c18(0x1e7)]>0x0&&Array[_0xb83c18(0x20b)](_0x283010[0x0])){var _0x10a1bc=_0x283010[0x0][_0xb83c18(0x218)](_0x125405=>_0x125405[0x0])[_0xb83c18(0x1da)]('\x20');return document['getElementById'](_0xb83c18(0x1fe))[_0xb83c18(0x1df)]='',inputText[_0xb83c18(0x1df)]=_0xb83c18(0x1fd)+_0x10a1bc['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x10a1bc[_0xb83c18(0x1dd)](/ {2,}/g,'\x20');}else return document[_0xb83c18(0x217)](_0xb83c18(0x1fe))[_0xb83c18(0x1df)]='',inputText[_0xb83c18(0x1df)]=_0xb83c18(0x1fd)+_0x283010,_0x283010;}catch(_0x3bb6d2){inputText[_0xb83c18(0x1df)]=_0x3bb6d2['message'];throw _0x3bb6d2;}}function a0_0x353c(_0x1c8d6b,_0x1c2b68){const _0x41895b=a0_0x4189();return a0_0x353c=function(_0x353ce9,_0x482acc){_0x353ce9=_0x353ce9-0x1c8;let _0x1831e6=_0x41895b[_0x353ce9];return _0x1831e6;},a0_0x353c(_0x1c8d6b,_0x1c2b68);}async function autoScroll(){const _0x27aae1=a0_0x5d32b4;var _0x46d2ea=inputText[_0x27aae1(0x1de)]-inputText[_0x27aae1(0x1dc)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x46d2ea||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x27aae1(0x1f8)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x55cb1b){const _0x3b5034=a0_0x5d32b4;var _0x37da5a=_0x3b5034(0x1f0)+encodeURIComponent(_0x55cb1b);try{const _0x138c1b=await fetch(_0x37da5a),_0x5efb16=await _0x138c1b['json']();var _0x3254a4=_0x5efb16[0x8][0x0][0x0];return _0x3254a4;}catch(_0x525e2e){console['error'](_0x3b5034(0x208),_0x525e2e);throw _0x525e2e;}}async function transLogic(_0x43abab){const _0x569274='en';if(_0x569274===null){const _0x187aaf=await detectLanguage(_0x43abab),_0x25bc08=await translateText(_0x43abab,_0x187aaf,'en');return translateText(_0x25bc08,'en','vi');}else{if(_0x569274==='en')return translateText(_0x43abab,'en','vi');else{const _0x299013=await translateText(_0x43abab,_0x569274,'en');return translateText(_0x299013,'en','vi');}}}function dataURItoBlob(_0x517a8c){const _0x23b2b2=a0_0x5d32b4,_0x253430=atob(_0x517a8c),_0x49ef47=new ArrayBuffer(_0x253430['length']),_0x31f7bb=new Uint8Array(_0x49ef47);for(let _0x2d0d69=0x0;_0x2d0d69<_0x253430[_0x23b2b2(0x1e7)];_0x2d0d69++){_0x31f7bb[_0x2d0d69]=_0x253430[_0x23b2b2(0x20d)](_0x2d0d69);}return new Blob([_0x49ef47],{'type':'image/png'});}document[a0_0x5d32b4(0x20a)]('DOMContentLoaded',function(){const _0x2aa3dd=a0_0x5d32b4;ID[_0x2aa3dd(0x1fb)](function(_0x2520ab){const _0x2d79e9=_0x2aa3dd,_0x5310a9=document[_0x2d79e9(0x217)](_0x2520ab);_0x5310a9&&_0x5310a9[_0x2d79e9(0x20a)]('touchstart',function(){const _0x4574ac=_0x2d79e9;!isFunctionARunning&&turbo[_0x4574ac(0x1e3)][_0x4574ac(0x1db)](_0x4574ac(0x1ec));});}),[_0x2aa3dd(0x200)][_0x2aa3dd(0x1fb)](_0x330886=>{const _0x51136a=_0x2aa3dd;turbo[_0x51136a(0x20a)](_0x330886,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x330886,()=>{const _0x22bce7=_0x51136a;areaTrans['classList'][_0x22bce7(0x1d0)](_0x22bce7(0x202));});});});