const a0_0x4ae1b5=a0_0x4388;(function(_0x1a956a,_0xd21987){const _0x10c013=a0_0x4388,_0x5ec581=_0x1a956a();while(!![]){try{const _0xee0ac=parseInt(_0x10c013(0x120))/0x1*(parseInt(_0x10c013(0xe0))/0x2)+-parseInt(_0x10c013(0xde))/0x3+-parseInt(_0x10c013(0xe9))/0x4*(-parseInt(_0x10c013(0x11e))/0x5)+parseInt(_0x10c013(0xe6))/0x6*(-parseInt(_0x10c013(0x112))/0x7)+parseInt(_0x10c013(0xea))/0x8*(-parseInt(_0x10c013(0xf6))/0x9)+parseInt(_0x10c013(0xe8))/0xa*(parseInt(_0x10c013(0xef))/0xb)+-parseInt(_0x10c013(0x10c))/0xc;if(_0xee0ac===_0xd21987)break;else _0x5ec581['push'](_0x5ec581['shift']());}catch(_0x283708){_0x5ec581['push'](_0x5ec581['shift']());}}}(a0_0x1b2d,0x7d2f1));import*as a0_0x535df3 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x4388(_0x3ef3c9,_0x3f3a54){const _0x1b2d6f=a0_0x1b2d();return a0_0x4388=function(_0x4388be,_0x13a508){_0x4388be=_0x4388be-0xc6;let _0x284dc2=_0x1b2d6f[_0x4388be];return _0x284dc2;},a0_0x4388(_0x3ef3c9,_0x3f3a54);}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x4ae1b5(0xdc)](a0_0x4ae1b5(0xf9)),turbo=document[a0_0x4ae1b5(0xdc)](a0_0x4ae1b5(0x10b)),ID=['A','B','R','L'];async function getImage(){const _0x199ae1=a0_0x4ae1b5;turbo[_0x199ae1(0x123)]['add'](_0x199ae1(0xf8));try{const _0x71990a=gameName[_0x199ae1(0xcd)](/\.(gba|gbc|gb|zip)$/,_0x199ae1(0x105)),_0x5d6bd8=await a0_0x535df3['captureOCR'](_0x71990a),_0x2adaec=new Blob([_0x5d6bd8],{'type':'image/png'}),_0x491cc3=await new Promise((_0x174132,_0x1f6f54)=>{const _0x3a12be=_0x199ae1,_0x13e48b=new FileReader();_0x13e48b[_0x3a12be(0x10f)]=()=>_0x174132(_0x13e48b[_0x3a12be(0xc9)]),_0x13e48b[_0x3a12be(0x11b)]=_0x1f6f54,_0x13e48b[_0x3a12be(0x109)](_0x2adaec);}),_0xa7e6c4=new Image();_0xa7e6c4[_0x199ae1(0xfd)]=_0x491cc3,_0xa7e6c4[_0x199ae1(0x116)]=async()=>{const _0x16a019=_0x199ae1,_0x21d3d1=document[_0x16a019(0xfc)](_0x16a019(0x119)),_0x3e6f58=_0x21d3d1[_0x16a019(0xf0)]('2d'),_0x3271fc=0x4;let _0x1e9449;gameName['endsWith'](_0x16a019(0xc8))||gameName[_0x16a019(0x113)](_0x16a019(0xff))?_0x1e9449=0x3/0x6:_0x1e9449=0x3/0x4;const _0x22316f=localStorage[_0x16a019(0xd8)](gameName+_0x16a019(0x111))||localStorage[_0x16a019(0xd8)](_0x16a019(0xe5)),[_0x89e0e7,_0x4b9154,_0x41ee11,_0x1c7f9d]=_0x22316f['split'](',')['map'](Number);_0x21d3d1[_0x16a019(0xd1)]=_0x41ee11*_0x1e9449*_0x3271fc,_0x21d3d1[_0x16a019(0xe3)]=_0x1c7f9d*_0x1e9449*_0x3271fc,_0x3e6f58[_0x16a019(0xeb)](_0xa7e6c4,_0x89e0e7*_0x1e9449,_0x4b9154*_0x1e9449,_0x41ee11*_0x1e9449,_0x1c7f9d*_0x1e9449,0x0,0x0,_0x41ee11*_0x1e9449*_0x3271fc,_0x1c7f9d*_0x1e9449*_0x3271fc);const _0xc901d7=_0x21d3d1[_0x16a019(0xd4)]('image/png')[_0x16a019(0xf2)](',')[0x1],_0x522562=localStorage['getItem'](_0x16a019(0xfa));console[_0x16a019(0xca)](_0x522562),_0x522562?azureServer(_0xc901d7):freeServer(_0xc901d7);};}catch(_0x9e19e3){inputText[_0x199ae1(0xfb)]=_0x9e19e3[_0x199ae1(0xee)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x5b5084=_0x199ae1;document[_0x5b5084(0xdc)](_0x5b5084(0xf9))['textContent']='',a0_0x535df3[_0x5b5084(0x106)]('',0x0);},0x7530);}async function freeServer(_0x4bf4cf){const _0x50910f=a0_0x4ae1b5;document[_0x50910f(0xdc)](_0x50910f(0x110))[_0x50910f(0xfb)]='';let _0x1b028a=0x0;const _0x2ab5bf=setInterval(()=>{const _0x48f1cf=_0x50910f;_0x1b028a+=0x1,_0x1b028a<=0x64&&(inputText[_0x48f1cf(0xfb)]=_0x48f1cf(0xdb)+_0x1b028a+'%');},0x64);try{const _0x4d2ac1=dataURItoBlob(_0x4bf4cf),_0x234f00=new FormData();_0x234f00[_0x50910f(0xcc)](_0x50910f(0x11a),_0x4d2ac1,_0x50910f(0x103)),_0x234f00[_0x50910f(0xcc)]('user',_0x50910f(0xdf));let _0x3fcb95;try{_0x3fcb95=await fetch(_0x50910f(0xcf),{'method':_0x50910f(0xd9),'body':_0x234f00,'headers':{'Origin':window[_0x50910f(0x101)][_0x50910f(0x10e)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x50910f(0x115)]}});if(!_0x3fcb95['ok'])throw new Error(_0x50910f(0x107)+_0x3fcb95['status']);}catch(_0x1ba76b){console[_0x50910f(0xcb)](_0x50910f(0xd3)),window[_0x50910f(0x101)]['href']=_0x50910f(0xf5);return;}const _0x551468=await _0x3fcb95[_0x50910f(0xd5)]();if(_0x551468[_0x50910f(0xe4)]===_0x50910f(0xf3))throw new Error(_0x551468[_0x50910f(0xf3)][_0x50910f(0xee)]);transLogic(_0x551468[_0x50910f(0x10d)]);}catch(_0x50bf87){inputText['textContent']=_0x50bf87[_0x50910f(0xee)];}finally{clearInterval(_0x2ab5bf),isFunctionARunning=![];}}async function azureServer(_0x16266f){const _0x5e7487=a0_0x4ae1b5;document[_0x5e7487(0xdc)]('noti-mess')[_0x5e7487(0xfb)]='',inputText[_0x5e7487(0xfb)]=_0x5e7487(0xdb);const _0x20b65f=localStorage[_0x5e7487(0xd8)](_0x5e7487(0xfa));let [_0x16f314,_0x405d96]=_0x20b65f[_0x5e7487(0xf2)](',');try{const _0x616b3f=await fetch(_0x405d96+_0x5e7487(0x104),{'method':_0x5e7487(0xd9),'headers':{'Ocp-Apim-Subscription-Key':_0x16f314,'Content-Type':_0x5e7487(0x102)},'body':dataURItoBlob(_0x16266f)}),_0x508ab4=await _0x616b3f[_0x5e7487(0xd5)]();if(!_0x616b3f['ok']||_0x508ab4[_0x5e7487(0xe4)]==='error'){const _0x3f63c7=_0x616b3f['ok']?_0x508ab4['error']['message']:_0x616b3f[_0x5e7487(0xdd)]===0x1f4?_0x5e7487(0xd0):(await _0x616b3f['json']())[_0x5e7487(0xf3)]['message'];throw new Error(_0x3f63c7);}const _0xa18356=_0x508ab4[_0x5e7487(0xce)][_0x5e7487(0xe2)][0x0],_0x3eedc0=_0xa18356[_0x5e7487(0xc6)]||[],_0x5104f3=_0x3eedc0['map'](_0x55eb96=>_0x55eb96[_0x5e7487(0x10d)])['join']('\x0a');transLogic(_0x5104f3);}catch(_0x371e39){inputText[_0x5e7487(0xfb)]=_0x371e39[_0x5e7487(0xee)];}finally{isFunctionARunning=![];}}function a0_0x1b2d(){const _0x53f697=['imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','.png','notiMessage','HTTP\x20Error:\x20','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','readAsDataURL','length','turbo','12137964zNEyhZ','text','origin','onloadend','noti-mess','_setArea','58961Lqbzic','endsWith','touchend','userAgent','onload','join','trim','canvas','image','onerror','&tl=','addEventListener','2294545QECvXU','toggle','15668qBNhCf','forEach','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','classList','lines','$1\x20','.gbc','result','log','warn','append','replace','readResult','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','500\x20Internal\x20Server\x20Error','width','map','Cors-controlers\x20have\x20not\x20been\x20activated.','toDataURL','json','image/png','clientWidth','getItem','POST','code','.._\x20','getElementById','status','149325bWRoZB','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','46WAvJxe','isArray','blocks','height','type','screenSize','54WZwjNV','visible','220730gONKSI','8tJLRqH','8ZdfKAS','drawImage','scrollLeft','scrollWidth','message','451oeziNm','getContext','remove','split','error','DOMContentLoaded','https://cors-anywhere.herokuapp.com/corsdemo','4800087yboguH','&dt=t&q=','turbo-ocr','inputText','ApiAzure','textContent','createElement','src','Internal\x20Server\x20Error','.gb','Error\x20detecting\x20language:','location','application/octet-stream','image.png'];a0_0x1b2d=function(){return _0x53f697;};return a0_0x1b2d();}async function translateText(_0x5c8312,_0x48826e,_0x2e1eef){const _0x370bc2=a0_0x4ae1b5,_0x383ae9=_0x5c8312[_0x370bc2(0xcd)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x370bc2(0xc7))[_0x370bc2(0xcd)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x370bc2(0xcd)](/ {2,}/g,'\x20')[_0x370bc2(0x118)]();var _0x57ee78=_0x370bc2(0x108)+_0x48826e+_0x370bc2(0x11c)+_0x2e1eef+_0x370bc2(0xf7)+encodeURIComponent(_0x383ae9);try{const _0x4c8ed5=await fetch(_0x57ee78);if(!_0x4c8ed5['ok']){if(_0x4c8ed5[_0x370bc2(0xdd)]===0x1f4)throw new Error(_0x370bc2(0xfe));else{const _0x43ba06=await _0x4c8ed5[_0x370bc2(0xd5)](),_0x52df0d=new Error(_0x43ba06['error']['message']);_0x52df0d[_0x370bc2(0xda)]=_0x43ba06['error'][_0x370bc2(0xda)];throw _0x52df0d;}}const _0x3b351b=await _0x4c8ed5[_0x370bc2(0xd5)]();if(Array[_0x370bc2(0xe1)](_0x3b351b)&&_0x3b351b[_0x370bc2(0x10a)]>0x0&&Array[_0x370bc2(0xe1)](_0x3b351b[0x0])){var _0x2adc0a=_0x3b351b[0x0][_0x370bc2(0xd2)](_0x24c113=>_0x24c113[0x0])[_0x370bc2(0x117)]('\x20');return document[_0x370bc2(0xdc)](_0x370bc2(0x110))[_0x370bc2(0xfb)]='',inputText[_0x370bc2(0xfb)]=_0x370bc2(0xdb)+_0x2adc0a[_0x370bc2(0xcd)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x2adc0a[_0x370bc2(0xcd)](/ {2,}/g,'\x20');}else return document['getElementById']('noti-mess')[_0x370bc2(0xfb)]='',inputText[_0x370bc2(0xfb)]=_0x370bc2(0xdb)+_0x3b351b,_0x3b351b;}catch(_0x576c92){inputText['textContent']=_0x576c92['message'];throw _0x576c92;}}async function autoScroll(){const _0x2f44bd=a0_0x4ae1b5;var _0x2c75bb=inputText[_0x2f44bd(0xed)]-inputText[_0x2f44bd(0xd7)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2c75bb||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x2f44bd(0xec)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x318fa5){const _0x87525c=a0_0x4ae1b5;var _0x8b6f67=_0x87525c(0x122)+encodeURIComponent(_0x318fa5);try{const _0x1403c4=await fetch(_0x8b6f67),_0x4d9be1=await _0x1403c4[_0x87525c(0xd5)]();var _0x362324=_0x4d9be1[0x8][0x0][0x0];return _0x362324;}catch(_0x8daf23){console['error'](_0x87525c(0x100),_0x8daf23);throw _0x8daf23;}}async function transLogic(_0x3176d3){const _0x3f1433='en';if(_0x3f1433===null){const _0x587cbb=await detectLanguage(_0x3176d3),_0x314243=await translateText(_0x3176d3,_0x587cbb,'en');return translateText(_0x314243,'en','vi');}else{if(_0x3f1433==='en')return translateText(_0x3176d3,'en','vi');else{const _0x58b49d=await translateText(_0x3176d3,_0x3f1433,'en');return translateText(_0x58b49d,'en','vi');}}}function dataURItoBlob(_0x315efc){const _0x32733d=a0_0x4ae1b5,_0x2cde6d=atob(_0x315efc),_0x8881fa=new ArrayBuffer(_0x2cde6d[_0x32733d(0x10a)]),_0x3daa6f=new Uint8Array(_0x8881fa);for(let _0x35fc3f=0x0;_0x35fc3f<_0x2cde6d[_0x32733d(0x10a)];_0x35fc3f++){_0x3daa6f[_0x35fc3f]=_0x2cde6d['charCodeAt'](_0x35fc3f);}return new Blob([_0x8881fa],{'type':_0x32733d(0xd6)});}document[a0_0x4ae1b5(0x11d)](a0_0x4ae1b5(0xf4),function(){const _0x4ed77c=a0_0x4ae1b5;ID[_0x4ed77c(0x121)](function(_0x1e347a){const _0x5c57a9=_0x4ed77c,_0x313184=document[_0x5c57a9(0xdc)](_0x1e347a);_0x313184&&_0x313184[_0x5c57a9(0x11d)]('touchstart',function(){const _0x30730d=_0x5c57a9;!isFunctionARunning&&turbo['classList'][_0x30730d(0xf1)](_0x30730d(0xf8));});}),[_0x4ed77c(0x114)][_0x4ed77c(0x121)](_0x3720e9=>{const _0x3c0724=_0x4ed77c;turbo[_0x3c0724(0x11d)](_0x3720e9,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x3c0724(0x11d)](_0x3720e9,()=>{const _0x285bc3=_0x3c0724;areaTrans['classList'][_0x285bc3(0x11f)](_0x285bc3(0xe7));});});});