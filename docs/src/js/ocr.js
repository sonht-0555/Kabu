const a0_0x5d39e5=a0_0x5a77;(function(_0x4f1b30,_0x4a0929){const _0xaf81e5=a0_0x5a77,_0x21dfd5=_0x4f1b30();while(!![]){try{const _0x486603=-parseInt(_0xaf81e5(0x166))/0x1+parseInt(_0xaf81e5(0x15f))/0x2*(-parseInt(_0xaf81e5(0x14d))/0x3)+-parseInt(_0xaf81e5(0x160))/0x4+parseInt(_0xaf81e5(0x148))/0x5*(-parseInt(_0xaf81e5(0x181))/0x6)+-parseInt(_0xaf81e5(0x178))/0x7*(-parseInt(_0xaf81e5(0x162))/0x8)+-parseInt(_0xaf81e5(0x161))/0x9+parseInt(_0xaf81e5(0x149))/0xa*(parseInt(_0xaf81e5(0x12f))/0xb);if(_0x486603===_0x4a0929)break;else _0x21dfd5['push'](_0x21dfd5['shift']());}catch(_0x238f79){_0x21dfd5['push'](_0x21dfd5['shift']());}}}(a0_0x165f,0xa2dfb));import*as a0_0x33d728 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x5d39e5(0x151)]('inputText'),turbo=document[a0_0x5d39e5(0x151)](a0_0x5d39e5(0x14e)),ID=['A','B','R','L'];async function getImage(){const _0x2a2ee5=a0_0x5d39e5;turbo[_0x2a2ee5(0x175)][_0x2a2ee5(0x153)](_0x2a2ee5(0x156));try{const _0x47c59e=gameName[_0x2a2ee5(0x145)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x4ee446=await a0_0x33d728[_0x2a2ee5(0x14a)](_0x47c59e),_0x5b9373=new Blob([_0x4ee446],{'type':_0x2a2ee5(0x139)}),_0x138818=await new Promise((_0xfbe7e,_0x28fcb6)=>{const _0x15f1af=_0x2a2ee5,_0x4d8984=new FileReader();_0x4d8984[_0x15f1af(0x17e)]=()=>_0xfbe7e(_0x4d8984[_0x15f1af(0x17f)]),_0x4d8984[_0x15f1af(0x176)]=_0x28fcb6,_0x4d8984[_0x15f1af(0x164)](_0x5b9373);}),_0x425cf5=new Image();_0x425cf5[_0x2a2ee5(0x16d)]=_0x138818,_0x425cf5[_0x2a2ee5(0x12d)]=async()=>{const _0x2b1bd2=_0x2a2ee5,_0x33e08d=document[_0x2b1bd2(0x171)](_0x2b1bd2(0x13d)),_0x56cb8d=_0x33e08d[_0x2b1bd2(0x17d)]('2d'),_0x5e9698=0x4;let _0x38bce4;gameName[_0x2b1bd2(0x159)]('.gbc')||gameName[_0x2b1bd2(0x159)](_0x2b1bd2(0x143))?_0x38bce4=0x3/0x6:_0x38bce4=0x3/0x4;const _0x6902b6=localStorage['getItem'](gameName+_0x2b1bd2(0x180))||localStorage[_0x2b1bd2(0x173)]('screenSize'),[_0x12b7fa,_0x202fe0,_0x271ecd,_0x46b0d3]=_0x6902b6['split'](',')['map'](Number);_0x33e08d[_0x2b1bd2(0x179)]=_0x271ecd*_0x38bce4*_0x5e9698,_0x33e08d[_0x2b1bd2(0x135)]=_0x46b0d3*_0x38bce4*_0x5e9698,_0x56cb8d[_0x2b1bd2(0x15d)](_0x425cf5,_0x12b7fa*_0x38bce4,_0x202fe0*_0x38bce4,_0x271ecd*_0x38bce4,_0x46b0d3*_0x38bce4,0x0,0x0,_0x271ecd*_0x38bce4*_0x5e9698,_0x46b0d3*_0x38bce4*_0x5e9698);const _0x1297c7=_0x33e08d[_0x2b1bd2(0x144)]('image/png')[_0x2b1bd2(0x136)](',')[0x1],_0x2ab9eb=localStorage[_0x2b1bd2(0x173)](_0x2b1bd2(0x13b));console[_0x2b1bd2(0x15a)](_0x2ab9eb),_0x2ab9eb?azureServer(_0x1297c7):freeServer(_0x1297c7);};}catch(_0x264f39){inputText[_0x2a2ee5(0x184)]=_0x264f39['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x443258=_0x2a2ee5;document[_0x443258(0x151)](_0x443258(0x146))[_0x443258(0x184)]='',a0_0x33d728['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x21fe73){const _0x38daa8=a0_0x5d39e5;document['getElementById'](_0x38daa8(0x154))[_0x38daa8(0x184)]='';let _0x1389af=0x0;const _0x318af1=setInterval(()=>{const _0x5bee9b=_0x38daa8;_0x1389af+=0x1,_0x1389af<=0x64&&(inputText[_0x5bee9b(0x184)]=_0x5bee9b(0x133)+_0x1389af+'%');},0x64);try{const _0x337a34=dataURItoBlob(_0x21fe73),_0x4f170d=new FormData();_0x4f170d['append'](_0x38daa8(0x17b),_0x337a34,_0x38daa8(0x15e)),_0x4f170d[_0x38daa8(0x134)](_0x38daa8(0x165),_0x38daa8(0x16f));let _0x8395e9;try{_0x8395e9=await fetch(_0x38daa8(0x16a),{'method':'POST','body':_0x4f170d,'headers':{'Origin':window[_0x38daa8(0x17a)]['origin'],'X-Requested-With':_0x38daa8(0x16c),'User-Agent':navigator[_0x38daa8(0x167)]}});if(!_0x8395e9['ok'])throw new Error(_0x38daa8(0x163)+_0x8395e9[_0x38daa8(0x137)]);}catch(_0x581c92){console['warn'](_0x38daa8(0x142)),window['location'][_0x38daa8(0x15b)]=_0x38daa8(0x183);return;}const _0x4c241c=await _0x8395e9[_0x38daa8(0x13a)]();if(_0x4c241c[_0x38daa8(0x152)]===_0x38daa8(0x14f))throw new Error(_0x4c241c[_0x38daa8(0x14f)][_0x38daa8(0x141)]);transLogic(_0x4c241c[_0x38daa8(0x14b)]);}catch(_0x562f0b){inputText[_0x38daa8(0x184)]=_0x562f0b[_0x38daa8(0x141)];}finally{clearInterval(_0x318af1),isFunctionARunning=![];}}async function azureServer(_0x134ae2){const _0x40d540=a0_0x5d39e5;document[_0x40d540(0x151)]('noti-mess')[_0x40d540(0x184)]='',inputText['textContent']=_0x40d540(0x133);const _0x4a42ff=localStorage['getItem'](_0x40d540(0x13b));let [_0x68de62,_0x3e0262]=_0x4a42ff[_0x40d540(0x136)](',');try{const _0x23d856=await fetch(_0x3e0262+_0x40d540(0x168),{'method':_0x40d540(0x14c),'headers':{'Ocp-Apim-Subscription-Key':_0x68de62,'Content-Type':_0x40d540(0x158)},'body':dataURItoBlob(_0x134ae2)}),_0xc3c47d=await _0x23d856[_0x40d540(0x13a)]();if(!_0x23d856['ok']||_0xc3c47d[_0x40d540(0x152)]===_0x40d540(0x14f)){const _0x1a6681=_0x23d856['ok']?_0xc3c47d[_0x40d540(0x14f)][_0x40d540(0x141)]:_0x23d856['status']===0x1f4?_0x40d540(0x131):(await _0x23d856[_0x40d540(0x13a)]())['error']['message'];throw new Error(_0x1a6681);}const _0x5a31ff=_0xc3c47d[_0x40d540(0x13c)]['blocks'][0x0],_0x227bd2=_0x5a31ff[_0x40d540(0x13f)]||[],_0x4cd260=_0x227bd2[_0x40d540(0x174)](_0xa0cd1f=>_0xa0cd1f[_0x40d540(0x14b)])[_0x40d540(0x130)]('\x0a');transLogic(_0x4cd260);}catch(_0x148b46){inputText[_0x40d540(0x184)]=_0x148b46[_0x40d540(0x141)];}finally{isFunctionARunning=![];}}function a0_0x165f(){const _0x60e26b=['href','forEach','drawImage','image.png','1538CfqeDl','509996CgMpKi','7967385iQYiMr','8851736ljGCcz','HTTP\x20Error:\x20','readAsDataURL','user','726329skUmQg','userAgent','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','touchstart','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','remove','XMLHttpRequest','src','$1\x20','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','addEventListener','createElement','scrollLeft','getItem','map','classList','onerror','clientWidth','7UlwtNs','width','location','image','charCodeAt','getContext','onloadend','result','_setArea','1662dJlSot','DOMContentLoaded','https://cors-anywhere.herokuapp.com/corsdemo','textContent','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','onload','&tl=','1659405PNcOCA','join','500\x20Internal\x20Server\x20Error','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','.._\x20','append','height','split','status','length','image/png','json','ApiAzure','readResult','canvas','visible','lines','isArray','message','Cors-controlers\x20have\x20not\x20been\x20activated.','.gb','toDataURL','replace','inputText','trim','65yMHsts','110cpluDk','captureOCR','text','POST','1389GVVVKF','turbo','error','toggle','getElementById','type','add','noti-mess','touchend','turbo-ocr','&dt=t&q=','application/octet-stream','endsWith','log'];a0_0x165f=function(){return _0x60e26b;};return a0_0x165f();}async function translateText(_0xcc6882,_0x4e5af9,_0x4eab0a){const _0x41ba68=a0_0x5d39e5,_0x2df900=_0xcc6882[_0x41ba68(0x145)](/[\r\n]+/g,',\x20')[_0x41ba68(0x145)](/([!?.,])\s*,\s*/g,_0x41ba68(0x16e))[_0x41ba68(0x145)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x41ba68(0x147)]();var _0x945eea=_0x41ba68(0x12c)+_0x4e5af9+_0x41ba68(0x12e)+_0x4eab0a+_0x41ba68(0x157)+encodeURIComponent(_0x2df900);try{const _0x53e2c4=await fetch(_0x945eea);if(!_0x53e2c4['ok']){if(_0x53e2c4[_0x41ba68(0x137)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x4367ed=await _0x53e2c4[_0x41ba68(0x13a)](),_0x1bef54=new Error(_0x4367ed[_0x41ba68(0x14f)][_0x41ba68(0x141)]);_0x1bef54['code']=_0x4367ed[_0x41ba68(0x14f)]['code'];throw _0x1bef54;}}const _0x21657d=await _0x53e2c4[_0x41ba68(0x13a)]();if(Array[_0x41ba68(0x140)](_0x21657d)&&_0x21657d[_0x41ba68(0x138)]>0x0&&Array[_0x41ba68(0x140)](_0x21657d[0x0])){var _0x22ad4c=_0x21657d[0x0][_0x41ba68(0x174)](_0x809198=>_0x809198[0x0])[_0x41ba68(0x130)]('\x20');return document[_0x41ba68(0x151)](_0x41ba68(0x154))[_0x41ba68(0x184)]='',inputText[_0x41ba68(0x184)]=_0x41ba68(0x133)+_0x22ad4c[_0x41ba68(0x145)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x22ad4c[_0x41ba68(0x145)](/ {2,}/g,'\x20');}else return document[_0x41ba68(0x151)](_0x41ba68(0x154))[_0x41ba68(0x184)]='',inputText[_0x41ba68(0x184)]=_0x41ba68(0x133)+_0x21657d,_0x21657d;}catch(_0x2faf4f){inputText[_0x41ba68(0x184)]=_0x2faf4f[_0x41ba68(0x141)];throw _0x2faf4f;}}async function autoScroll(){const _0x49a786=a0_0x5d39e5;var _0x148ac5=inputText['scrollWidth']-inputText[_0x49a786(0x177)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x148ac5||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x49a786(0x172)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x509770){const _0x2f61ce=a0_0x5d39e5;var _0x4c5204=_0x2f61ce(0x132)+encodeURIComponent(_0x509770);try{const _0x5de16d=await fetch(_0x4c5204),_0x52aa8a=await _0x5de16d[_0x2f61ce(0x13a)]();var _0x333395=_0x52aa8a[0x8][0x0][0x0];return _0x333395;}catch(_0x33a8c5){console[_0x2f61ce(0x14f)]('Error\x20detecting\x20language:',_0x33a8c5);throw _0x33a8c5;}}async function transLogic(_0x385411){const _0x184353='en';if(_0x184353===null){const _0x3db991=await detectLanguage(_0x385411),_0x478e43=await translateText(_0x385411,_0x3db991,'en');return translateText(_0x478e43,'en','vi');}else{if(_0x184353==='en')return translateText(_0x385411,'en','vi');else{const _0xef51e4=await translateText(_0x385411,_0x184353,'en');return translateText(_0xef51e4,'en','vi');}}}function dataURItoBlob(_0x17c642){const _0x3c32d1=a0_0x5d39e5,_0x361f5d=atob(_0x17c642),_0x278e5d=new ArrayBuffer(_0x361f5d[_0x3c32d1(0x138)]),_0x5d1f1c=new Uint8Array(_0x278e5d);for(let _0x22a58c=0x0;_0x22a58c<_0x361f5d[_0x3c32d1(0x138)];_0x22a58c++){_0x5d1f1c[_0x22a58c]=_0x361f5d[_0x3c32d1(0x17c)](_0x22a58c);}return new Blob([_0x278e5d],{'type':_0x3c32d1(0x139)});}function a0_0x5a77(_0x2baa37,_0x301c42){const _0x165f87=a0_0x165f();return a0_0x5a77=function(_0x5a7730,_0x1e6b3e){_0x5a7730=_0x5a7730-0x12c;let _0x353ebc=_0x165f87[_0x5a7730];return _0x353ebc;},a0_0x5a77(_0x2baa37,_0x301c42);}document[a0_0x5d39e5(0x170)](a0_0x5d39e5(0x182),function(){const _0x21c693=a0_0x5d39e5;ID['forEach'](function(_0x4412ef){const _0xab1e05=a0_0x5a77,_0x1fa266=document['getElementById'](_0x4412ef);_0x1fa266&&_0x1fa266[_0xab1e05(0x170)](_0xab1e05(0x169),function(){const _0x4e7d9e=_0xab1e05;!isFunctionARunning&&turbo['classList'][_0x4e7d9e(0x16b)](_0x4e7d9e(0x156));});}),[_0x21c693(0x155)][_0x21c693(0x15c)](_0x33b767=>{const _0x151976=_0x21c693;turbo[_0x151976(0x170)](_0x33b767,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x33b767,()=>{const _0x376fa1=_0x151976;areaTrans['classList'][_0x376fa1(0x150)](_0x376fa1(0x13e));});});});