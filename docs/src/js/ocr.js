function a0_0x6610(){const _0x117ed2=['Error\x20detecting\x20language:','classList','onerror','remove','application/octet-stream','2944248UjbURy','64945ZnwyUv','clientWidth','Internal\x20Server\x20Error','image/png','XMLHttpRequest','toggle','touchend','turbo','status','DOMContentLoaded','split','json','noti-mess','append','getItem','length','createElement','&dt=t&q=','79260PuAtox','readAsDataURL','onloadend','src','addEventListener','isArray','POST','inputText','user','2BjVPhr','3546657qoUgMA','charCodeAt','notiMessage','visible','type','message','log','text','$1\x20','_setArea','readResult','drawImage','add','scrollLeft','captureOCR','replace','error','ApiAzure','onload','1620072WdYFGf','trim','href','turbo-ocr','warn','&tl=','21rQSKei','map','595915YHYPKh','userAgent','touchstart','500\x20Internal\x20Server\x20Error','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','join','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','screenSize','.gb','forEach','textContent','.png','4876960bnetfz','code','canvas','.gbc','28ZomZYT','getElementById','https://cors-anywhere.herokuapp.com/corsdemo'];a0_0x6610=function(){return _0x117ed2;};return a0_0x6610();}const a0_0x333ce8=a0_0x2116;(function(_0x2e4db7,_0x308584){const _0x3c0a41=a0_0x2116,_0x1f60c3=_0x2e4db7();while(!![]){try{const _0x5908f7=parseInt(_0x3c0a41(0x10a))/0x1*(parseInt(_0x3c0a41(0xee))/0x2)+parseInt(_0x3c0a41(0xe5))/0x3+-parseInt(_0x3c0a41(0x11b))/0x4*(parseInt(_0x3c0a41(0xd3))/0x5)+-parseInt(_0x3c0a41(0xd2))/0x6+-parseInt(_0x3c0a41(0x108))/0x7*(parseInt(_0x3c0a41(0x102))/0x8)+parseInt(_0x3c0a41(0xef))/0x9+parseInt(_0x3c0a41(0x117))/0xa;if(_0x5908f7===_0x308584)break;else _0x1f60c3['push'](_0x1f60c3['shift']());}catch(_0x1ec943){_0x1f60c3['push'](_0x1f60c3['shift']());}}}(a0_0x6610,0x4ce42));import*as a0_0x31e319 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x333ce8(0xec)),turbo=document[a0_0x333ce8(0x11c)](a0_0x333ce8(0xda)),ID=['A','B','R','L'];async function getImage(){const _0x2ca650=a0_0x333ce8;turbo[_0x2ca650(0x11f)][_0x2ca650(0xfb)](_0x2ca650(0x105));try{const _0x12c01a=gameName[_0x2ca650(0xfe)](/\.(gba|gbc|gb|zip)$/,_0x2ca650(0x116)),_0x513c44=await a0_0x31e319[_0x2ca650(0xfd)](_0x12c01a),_0x1e818b=new Blob([_0x513c44],{'type':_0x2ca650(0xd6)}),_0x221305=await new Promise((_0xa0d63d,_0x372e62)=>{const _0x4063d1=_0x2ca650,_0x31af28=new FileReader();_0x31af28[_0x4063d1(0xe7)]=()=>_0xa0d63d(_0x31af28['result']),_0x31af28[_0x4063d1(0xcf)]=_0x372e62,_0x31af28[_0x4063d1(0xe6)](_0x1e818b);}),_0x399995=new Image();_0x399995[_0x2ca650(0xe8)]=_0x221305,_0x399995[_0x2ca650(0x101)]=async()=>{const _0x5781b2=_0x2ca650,_0x156dc4=document[_0x5781b2(0xe3)](_0x5781b2(0x119)),_0xfd9b99=_0x156dc4['getContext']('2d'),_0x1d70d1=0x4;let _0x4a4d7d;gameName['endsWith'](_0x5781b2(0x11a))||gameName['endsWith'](_0x5781b2(0x113))?_0x4a4d7d=0x3/0x6:_0x4a4d7d=0x3/0x4;const _0x5cb410=localStorage['getItem'](gameName+_0x5781b2(0xf8))||localStorage['getItem'](_0x5781b2(0x112)),[_0x5cd2cd,_0x496e4d,_0x2dc550,_0x413bbb]=_0x5cb410[_0x5781b2(0xdd)](',')[_0x5781b2(0x109)](Number);_0x156dc4['width']=_0x2dc550*_0x4a4d7d*_0x1d70d1,_0x156dc4['height']=_0x413bbb*_0x4a4d7d*_0x1d70d1,_0xfd9b99[_0x5781b2(0xfa)](_0x399995,_0x5cd2cd*_0x4a4d7d,_0x496e4d*_0x4a4d7d,_0x2dc550*_0x4a4d7d,_0x413bbb*_0x4a4d7d,0x0,0x0,_0x2dc550*_0x4a4d7d*_0x1d70d1,_0x413bbb*_0x4a4d7d*_0x1d70d1);const _0x1d6b3d=_0x156dc4['toDataURL'](_0x5781b2(0xd6))[_0x5781b2(0xdd)](',')[0x1],_0x177182=localStorage[_0x5781b2(0xe1)](_0x5781b2(0x100));console[_0x5781b2(0xf5)](_0x177182),_0x177182?azureServer(_0x1d6b3d):freeServer(_0x1d6b3d);};}catch(_0x38bc10){inputText[_0x2ca650(0x115)]=_0x38bc10[_0x2ca650(0xf4)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x3f28ed=_0x2ca650;document['getElementById'](_0x3f28ed(0xec))['textContent']='',a0_0x31e319[_0x3f28ed(0xf1)]('',0x0);},0x7530);}async function freeServer(_0x578bd5){const _0x381d7d=a0_0x333ce8;document['getElementById']('noti-mess')[_0x381d7d(0x115)]='';let _0x18b58d=0x0;const _0x43b209=setInterval(()=>{_0x18b58d+=0x1,_0x18b58d<=0x64&&(inputText['textContent']='.._\x20'+_0x18b58d+'%');},0x64);try{const _0x5e69e9=dataURItoBlob(_0x578bd5),_0x3d0040=new FormData();_0x3d0040[_0x381d7d(0xe0)]('image',_0x5e69e9,'image.png'),_0x3d0040[_0x381d7d(0xe0)](_0x381d7d(0xed),_0x381d7d(0x111));let _0x4b587c;try{_0x4b587c=await fetch(_0x381d7d(0x110),{'method':_0x381d7d(0xeb),'body':_0x3d0040,'headers':{'Origin':window['location']['origin'],'X-Requested-With':_0x381d7d(0xd7),'User-Agent':navigator[_0x381d7d(0x10b)]}});if(!_0x4b587c['ok'])throw new Error('HTTP\x20Error:\x20'+_0x4b587c[_0x381d7d(0xdb)]);}catch(_0x43b887){console[_0x381d7d(0x106)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window['location'][_0x381d7d(0x104)]=_0x381d7d(0x11d);return;}const _0x4c564a=await _0x4b587c['json']();if(_0x4c564a[_0x381d7d(0xf3)]===_0x381d7d(0xff))throw new Error(_0x4c564a[_0x381d7d(0xff)][_0x381d7d(0xf4)]);transLogic(_0x4c564a[_0x381d7d(0xf6)]);}catch(_0xe2ec53){inputText[_0x381d7d(0x115)]=_0xe2ec53[_0x381d7d(0xf4)];}finally{clearInterval(_0x43b209),isFunctionARunning=![];}}function a0_0x2116(_0x411505,_0x2d26bf){const _0x661077=a0_0x6610();return a0_0x2116=function(_0x211650,_0x59d808){_0x211650=_0x211650-0xcf;let _0x37110a=_0x661077[_0x211650];return _0x37110a;},a0_0x2116(_0x411505,_0x2d26bf);}async function azureServer(_0xfe4bea){const _0x42b8c8=a0_0x333ce8;document[_0x42b8c8(0x11c)](_0x42b8c8(0xdf))[_0x42b8c8(0x115)]='',inputText[_0x42b8c8(0x115)]='.._\x20';const _0x1bbd9d=localStorage[_0x42b8c8(0xe1)](_0x42b8c8(0x100));let [_0x415d24,_0xa2e7ad]=_0x1bbd9d['split'](',');try{const _0x4ac68=await fetch(_0xa2e7ad+_0x42b8c8(0x10e),{'method':_0x42b8c8(0xeb),'headers':{'Ocp-Apim-Subscription-Key':_0x415d24,'Content-Type':_0x42b8c8(0xd1)},'body':dataURItoBlob(_0xfe4bea)}),_0x2f1b1e=await _0x4ac68[_0x42b8c8(0xde)]();if(!_0x4ac68['ok']||_0x2f1b1e['type']==='error'){const _0x202b2b=_0x4ac68['ok']?_0x2f1b1e['error']['message']:_0x4ac68[_0x42b8c8(0xdb)]===0x1f4?_0x42b8c8(0x10d):(await _0x4ac68[_0x42b8c8(0xde)]())[_0x42b8c8(0xff)]['message'];throw new Error(_0x202b2b);}const _0x432d23=_0x2f1b1e[_0x42b8c8(0xf9)]['blocks'][0x0],_0x1b01a0=_0x432d23['lines']||[],_0x4da328=_0x1b01a0[_0x42b8c8(0x109)](_0x4a284d=>_0x4a284d['text'])[_0x42b8c8(0x10f)]('\x0a');transLogic(_0x4da328);}catch(_0x385306){inputText['textContent']=_0x385306[_0x42b8c8(0xf4)];}finally{isFunctionARunning=![];}}async function translateText(_0x19b526,_0x183436,_0xef2ea9){const _0x46cb19=a0_0x333ce8,_0x2d5464=_0x19b526['replace'](/[\r\n]+/g,',\x20')[_0x46cb19(0xfe)](/([!?.,])\s*,\s*/g,_0x46cb19(0xf7))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x46cb19(0xfe)](/ {2,}/g,'\x20')[_0x46cb19(0x103)]();var _0x5726e8='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x183436+_0x46cb19(0x107)+_0xef2ea9+_0x46cb19(0xe4)+encodeURIComponent(_0x2d5464);try{const _0x4e9068=await fetch(_0x5726e8);if(!_0x4e9068['ok']){if(_0x4e9068[_0x46cb19(0xdb)]===0x1f4)throw new Error(_0x46cb19(0xd5));else{const _0x540bf6=await _0x4e9068['json'](),_0x526476=new Error(_0x540bf6['error'][_0x46cb19(0xf4)]);_0x526476['code']=_0x540bf6['error'][_0x46cb19(0x118)];throw _0x526476;}}const _0x519862=await _0x4e9068['json']();if(Array[_0x46cb19(0xea)](_0x519862)&&_0x519862[_0x46cb19(0xe2)]>0x0&&Array[_0x46cb19(0xea)](_0x519862[0x0])){var _0x5deff8=_0x519862[0x0][_0x46cb19(0x109)](_0x17ca24=>_0x17ca24[0x0])[_0x46cb19(0x10f)]('\x20');return document['getElementById'](_0x46cb19(0xdf))[_0x46cb19(0x115)]='',inputText['textContent']='.._\x20'+_0x5deff8[_0x46cb19(0xfe)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x5deff8[_0x46cb19(0xfe)](/ {2,}/g,'\x20');}else return document['getElementById']('noti-mess')['textContent']='',inputText[_0x46cb19(0x115)]='.._\x20'+_0x519862,_0x519862;}catch(_0x35e97b){inputText[_0x46cb19(0x115)]=_0x35e97b[_0x46cb19(0xf4)];throw _0x35e97b;}}async function autoScroll(){const _0x31ddb3=a0_0x333ce8;var _0x47b489=inputText['scrollWidth']-inputText[_0x31ddb3(0xd4)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x47b489||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x31ddb3(0xfc)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0xb9673){const _0x3dc81f=a0_0x333ce8;var _0x3d55c5='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0xb9673);try{const _0x331e1e=await fetch(_0x3d55c5),_0x21a75e=await _0x331e1e[_0x3dc81f(0xde)]();var _0x53aaab=_0x21a75e[0x8][0x0][0x0];return _0x53aaab;}catch(_0x4bbc61){console[_0x3dc81f(0xff)](_0x3dc81f(0x11e),_0x4bbc61);throw _0x4bbc61;}}async function transLogic(_0x3ab4cb){const _0x39fdf1='en';if(_0x39fdf1===null){const _0xd1ac4e=await detectLanguage(_0x3ab4cb),_0x59a9cb=await translateText(_0x3ab4cb,_0xd1ac4e,'en');return translateText(_0x59a9cb,'en','vi');}else{if(_0x39fdf1==='en')return translateText(_0x3ab4cb,'en','vi');else{const _0x5a0d5e=await translateText(_0x3ab4cb,_0x39fdf1,'en');return translateText(_0x5a0d5e,'en','vi');}}}function dataURItoBlob(_0x4ebfdf){const _0x1d1769=a0_0x333ce8,_0x9d5126=atob(_0x4ebfdf),_0x1c8b42=new ArrayBuffer(_0x9d5126[_0x1d1769(0xe2)]),_0x23bb98=new Uint8Array(_0x1c8b42);for(let _0x204bb3=0x0;_0x204bb3<_0x9d5126['length'];_0x204bb3++){_0x23bb98[_0x204bb3]=_0x9d5126[_0x1d1769(0xf0)](_0x204bb3);}return new Blob([_0x1c8b42],{'type':_0x1d1769(0xd6)});}document['addEventListener'](a0_0x333ce8(0xdc),function(){const _0x12a296=a0_0x333ce8;ID[_0x12a296(0x114)](function(_0x293cff){const _0xc93562=_0x12a296,_0x37a8a2=document[_0xc93562(0x11c)](_0x293cff);_0x37a8a2&&_0x37a8a2[_0xc93562(0xe9)](_0xc93562(0x10c),function(){const _0x489a77=_0xc93562;!isFunctionARunning&&turbo[_0x489a77(0x11f)][_0x489a77(0xd0)](_0x489a77(0x105));});}),[_0x12a296(0xd9)]['forEach'](_0x3ccf1c=>{const _0x4beaa0=_0x12a296;turbo[_0x4beaa0(0xe9)](_0x3ccf1c,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x4beaa0(0xe9)](_0x3ccf1c,()=>{const _0x5c53ed=_0x4beaa0;areaTrans[_0x5c53ed(0x11f)][_0x5c53ed(0xd8)](_0x5c53ed(0xf2));});});});