const a0_0x1164b0=a0_0x2fd3;(function(_0x148881,_0x2cc17c){const _0x350657=a0_0x2fd3,_0x215b9d=_0x148881();while(!![]){try{const _0x10540a=-parseInt(_0x350657(0x10e))/0x1*(parseInt(_0x350657(0x128))/0x2)+-parseInt(_0x350657(0xfc))/0x3*(parseInt(_0x350657(0x129))/0x4)+-parseInt(_0x350657(0x101))/0x5*(parseInt(_0x350657(0x105))/0x6)+-parseInt(_0x350657(0xff))/0x7*(parseInt(_0x350657(0x104))/0x8)+parseInt(_0x350657(0xfa))/0x9+-parseInt(_0x350657(0xf9))/0xa+-parseInt(_0x350657(0x110))/0xb*(-parseInt(_0x350657(0xda))/0xc);if(_0x10540a===_0x2cc17c)break;else _0x215b9d['push'](_0x215b9d['shift']());}catch(_0x3c1f25){_0x215b9d['push'](_0x215b9d['shift']());}}}(a0_0x2797,0x80dc4));import*as a0_0x55ee53 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x1164b0(0xcd)](a0_0x1164b0(0x11a)),input=document[a0_0x1164b0(0xcd)](a0_0x1164b0(0xec)),turbo=document[a0_0x1164b0(0xcd)](a0_0x1164b0(0x11e)),ID=['A','B','R','L'];async function getImage(){const _0x217abb=a0_0x1164b0;turbo[_0x217abb(0x123)][_0x217abb(0x10d)](_0x217abb(0xf5));try{const _0x38d433=localStorage['getItem'](_0x217abb(0x118)),_0x28ce9a=_0x38d433[_0x217abb(0x107)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x531839=await a0_0x55ee53[_0x217abb(0x10b)](_0x28ce9a),_0x149487=new Blob([_0x531839],{'type':_0x217abb(0x126)}),_0x4b0e09=await new Promise((_0x4a789a,_0x12b88b)=>{const _0x2b9546=_0x217abb,_0x4b50fb=new FileReader();_0x4b50fb[_0x2b9546(0xd0)]=()=>_0x4a789a(_0x4b50fb['result']),_0x4b50fb['onerror']=_0x12b88b,_0x4b50fb[_0x2b9546(0x115)](_0x149487);}),_0x18e9b4=new Image();_0x18e9b4['src']=_0x4b0e09,_0x18e9b4[_0x217abb(0x10c)]=()=>{const _0x8bb30d=_0x217abb,_0x28b248=document['createElement'](_0x8bb30d(0x119)),_0x5aa7b4=_0x28b248['getContext']('2d'),_0x5d8969=0x4;let _0x5b24be;_0x38d433[_0x8bb30d(0xe4)]('.gbc')||_0x38d433[_0x8bb30d(0xe4)](_0x8bb30d(0xd7))?_0x5b24be=Math[_0x8bb30d(0x116)](0xa0/(window[_0x8bb30d(0xd5)]-0xe6)):_0x5b24be=Math[_0x8bb30d(0x116)](0xf0/(window[_0x8bb30d(0xd5)]-0x96));const _0x5b01dc=localStorage[_0x8bb30d(0xcf)](_0x38d433+_0x8bb30d(0x112))||localStorage[_0x8bb30d(0xcf)](_0x8bb30d(0x10a)),[_0x2e08fb,_0x29101a,_0x2d3310,_0x47dfeb]=_0x5b01dc[_0x8bb30d(0xdd)](',')[_0x8bb30d(0xf7)](Number);_0x28b248['width']=_0x2d3310*_0x5b24be*_0x5d8969,_0x28b248[_0x8bb30d(0xfe)]=_0x47dfeb*_0x5b24be*_0x5d8969,_0x5aa7b4[_0x8bb30d(0xef)](_0x18e9b4,_0x2e08fb*_0x5b24be,_0x29101a*_0x5b24be,_0x2d3310*_0x5b24be,_0x47dfeb*_0x5b24be,0x0,0x0,_0x2d3310*_0x5b24be*_0x5d8969,_0x47dfeb*_0x5b24be*_0x5d8969);const _0x2aea16=_0x28b248['toDataURL']('image/png')[_0x8bb30d(0xdd)](',')[0x1],_0x12f1eb=localStorage[_0x8bb30d(0xcf)]('ApiAzure');_0x12f1eb?azureServer(_0x2aea16):freeServer(_0x2aea16);};}catch(_0x30867f){inputText[_0x217abb(0xd2)]=_0x30867f[_0x217abb(0x11f)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x42fc02=_0x217abb;document[_0x42fc02(0xcd)]('inputText')['textContent']=_0x42fc02(0x113);},0x7530);}async function freeServer(_0x4d1c9e){const _0xc0e4a4=a0_0x1164b0;let _0x1133a0,_0x3a7873=0x0;const _0x5b908f=setInterval(()=>{const _0x3fc233=a0_0x2fd3;_0x3a7873+=0x1,_0x3a7873<=0x64&&(inputText[_0x3fc233(0xd2)]=_0x3fc233(0xee)+_0x3a7873+'%');},0x64);try{const _0x24f651=dataURItoBlob(_0x4d1c9e),_0x8980e0=new FormData();_0x8980e0[_0xc0e4a4(0xd6)]('image',_0x24f651,_0xc0e4a4(0xd8)),_0x8980e0['append']('user',_0xc0e4a4(0x114)),_0x1133a0=await fetch(_0xc0e4a4(0xc9),{'method':'POST','body':_0x8980e0,'headers':{'Origin':window['location'][_0xc0e4a4(0x111)],'X-Requested-With':_0xc0e4a4(0xd1),'User-Agent':navigator[_0xc0e4a4(0xf0)]}});const _0x4b7dcc=await _0x1133a0[_0xc0e4a4(0x120)]();if(!_0x1133a0['ok']||_0x4b7dcc[_0xc0e4a4(0xdc)]===_0xc0e4a4(0xe8)){const _0x4ab7f0=_0x1133a0['ok']?_0x4b7dcc['error'][_0xc0e4a4(0x11f)]:_0x1133a0[_0xc0e4a4(0x125)]===0x1f4?_0xc0e4a4(0xea):(await _0x1133a0[_0xc0e4a4(0x120)]())[_0xc0e4a4(0xe8)][_0xc0e4a4(0x11f)];throw new Error(_0x4ab7f0);}transLogic(_0x4b7dcc[_0xc0e4a4(0xf4)]);}catch(_0xa60a00){inputText[_0xc0e4a4(0xd2)]=_0xa60a00[_0xc0e4a4(0x11f)];}finally{clearInterval(_0x5b908f),isFunctionARunning=![];}}async function azureServer(_0x5b202e){const _0xf61c90=a0_0x1164b0;inputText[_0xf61c90(0xd2)]=_0xf61c90(0x113);const _0x87586b=localStorage[_0xf61c90(0xcf)]('ApiAzure');let [_0x3a724e,_0x1e5bf7,_0x53542a]=_0x87586b[_0xf61c90(0xdd)](',');_0x53542a=parseInt(_0x53542a);const _0x27b12d=new Date(),_0x5c7a57=_0x27b12d[_0xf61c90(0x122)](),_0xe842f0=_0x27b12d[_0xf61c90(0xc8)](),_0x330b0d=localStorage[_0xf61c90(0xcf)](_0xf61c90(0x103)),_0x18a5bc=_0x330b0d?new Date(_0x330b0d):null;_0x18a5bc&&(_0x5c7a57!==_0x18a5bc['getMonth']()||_0xe842f0!==_0x18a5bc[_0xf61c90(0xc8)]())&&(_0x53542a=0x0,localStorage['setItem'](_0xf61c90(0x103),_0x27b12d[_0xf61c90(0x102)]()));if(_0x53542a>=0x1356){inputText[_0xf61c90(0xd2)]=_0xf61c90(0xe2);return;}try{const _0x1f1865=await fetch(_0x1e5bf7+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0xf61c90(0xf1),'headers':{'Ocp-Apim-Subscription-Key':_0x3a724e,'Content-Type':_0xf61c90(0xf8)},'body':dataURItoBlob(_0x5b202e)}),_0x1202bc=await _0x1f1865[_0xf61c90(0x120)]();if(!_0x1f1865['ok']||_0x1202bc[_0xf61c90(0xdc)]==='error'){const _0x19abb3=_0x1f1865['ok']?_0x1202bc[_0xf61c90(0xe8)][_0xf61c90(0x11f)]:_0x1f1865[_0xf61c90(0x125)]===0x1f4?_0xf61c90(0x109):(await _0x1f1865['json']())[_0xf61c90(0xe8)][_0xf61c90(0x11f)];throw new Error(_0x19abb3);}const _0x5cb7a6=_0x1202bc[_0xf61c90(0xe6)][_0xf61c90(0x127)][0x0],_0x232747=_0x5cb7a6[_0xf61c90(0xdb)]||[],_0x4b73f6=_0x232747[_0xf61c90(0xf7)](_0x27d3fd=>_0x27d3fd['text'])[_0xf61c90(0x11c)]('\x0a');transLogic(_0x4b73f6);}catch(_0xa95793){inputText[_0xf61c90(0xd2)]=_0xa95793[_0xf61c90(0x11f)];const _0x1c3fed=++_0x53542a;notiMessage('['+_0x1c3fed+_0xf61c90(0xde),0x7d0),localStorage[_0xf61c90(0xca)](_0xf61c90(0xe3),_0x3a724e+','+_0x1e5bf7+','+_0x1c3fed),localStorage[_0xf61c90(0xca)](_0xf61c90(0x103),_0x27b12d['toISOString']());}finally{const _0x5e2876=++_0x53542a;notiMessage('['+_0x5e2876+_0xf61c90(0xde),0x7d0),isFunctionARunning=![],localStorage[_0xf61c90(0xca)](_0xf61c90(0xe3),_0x3a724e+','+_0x1e5bf7+','+_0x5e2876),localStorage['setItem']('lastSavedDate',_0x27b12d[_0xf61c90(0x102)]());}}async function translateText(_0x3dbab1,_0x2c86ab,_0x302874){const _0x761747=a0_0x1164b0,_0x8c086e=_0x3dbab1['replace'](/[\r\n]+/g,',\x20')[_0x761747(0x107)](/([!?.,])\s*,\s*/g,_0x761747(0x11b))[_0x761747(0x107)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x761747(0x107)](/ {2,}/g,'\x20')[_0x761747(0x100)]();var _0x45ca1d=_0x761747(0xfb)+_0x2c86ab+_0x761747(0xdf)+_0x302874+_0x761747(0xd3)+encodeURIComponent(_0x8c086e);try{const _0x40fea8=await fetch(_0x45ca1d);if(!_0x40fea8['ok']){if(_0x40fea8['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x13f5e1=await _0x40fea8[_0x761747(0x120)](),_0x3f2814=new Error(_0x13f5e1['error']['message']);_0x3f2814[_0x761747(0xd9)]=_0x13f5e1['error'][_0x761747(0xd9)];throw _0x3f2814;}}const _0x4eedb7=await _0x40fea8['json']();if(Array[_0x761747(0xed)](_0x4eedb7)&&_0x4eedb7[_0x761747(0xe7)]>0x0&&Array[_0x761747(0xed)](_0x4eedb7[0x0])){var _0x3994d6=_0x4eedb7[0x0]['map'](_0x1b0f5a=>_0x1b0f5a[0x0])[_0x761747(0x11c)]('\x20');return inputText[_0x761747(0xd2)]=_0x3994d6[_0x761747(0x107)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x3994d6[_0x761747(0x107)](/ {2,}/g,'\x20');}else return inputText[_0x761747(0xd2)]=_0x4eedb7,_0x4eedb7;}catch(_0x3cc94a){inputText[_0x761747(0xd2)]=_0x3cc94a[_0x761747(0x11f)];throw _0x3cc94a;}}async function autoScroll(){const _0x1d2538=a0_0x1164b0;var _0x1e8e46=inputText[_0x1d2538(0xe0)]-inputText[_0x1d2538(0x106)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1e8e46||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x1d2538(0xce)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3d5ed0){const _0x44a0a0=a0_0x1164b0;var _0x22adcd=_0x44a0a0(0xfd)+encodeURIComponent(_0x3d5ed0);try{const _0x5d16ba=await fetch(_0x22adcd),_0x48cfc3=await _0x5d16ba[_0x44a0a0(0x120)]();var _0x1680ed=_0x48cfc3[0x8][0x0][0x0];return _0x1680ed;}catch(_0xf54922){console['error'](_0x44a0a0(0x108),_0xf54922);throw _0xf54922;}}function a0_0x2fd3(_0x29ba1a,_0x134aa9){const _0x279722=a0_0x2797();return a0_0x2fd3=function(_0x2fd3a7,_0xbaa05a){_0x2fd3a7=_0x2fd3a7-0xc8;let _0x3abf26=_0x279722[_0x2fd3a7];return _0x3abf26;},a0_0x2fd3(_0x29ba1a,_0x134aa9);}async function transLogic(_0x376fd6){const _0x3ea972=a0_0x1164b0,_0x5d7fad=localStorage[_0x3ea972(0xcf)](_0x3ea972(0x118)),_0x34ec3f=localStorage['getItem'](_0x5d7fad+_0x3ea972(0xcc));if(_0x34ec3f===null){const _0x2bd0a3=await detectLanguage(_0x376fd6);localStorage['setItem'](_0x5d7fad+'_gameLang',_0x2bd0a3);const _0x5097ea=await translateText(_0x376fd6,_0x2bd0a3,'en');return translateText(_0x5097ea,'en','vi');}else{if(_0x34ec3f==='en')return translateText(_0x376fd6,'en','vi');else{const _0x1c4d37=await translateText(_0x376fd6,_0x34ec3f,'en');return translateText(_0x1c4d37,'en','vi');}}}function dataURItoBlob(_0x2d7503){const _0x3c85c4=a0_0x1164b0,_0x4d661c=atob(_0x2d7503),_0x54d3a5=new ArrayBuffer(_0x4d661c[_0x3c85c4(0xe7)]),_0x122490=new Uint8Array(_0x54d3a5);for(let _0x2774a6=0x0;_0x2774a6<_0x4d661c['length'];_0x2774a6++){_0x122490[_0x2774a6]=_0x4d661c[_0x3c85c4(0xeb)](_0x2774a6);}return new Blob([_0x54d3a5],{'type':_0x3c85c4(0x126)});}function logoOcr(){const _0x4c67f9=a0_0x1164b0;var _0x2ef84a=Math[_0x4c67f9(0x124)](Math[_0x4c67f9(0xf3)]()*0x3)+0x1,_0x3806ca=-0xf*_0x2ef84a+'px';document[_0x4c67f9(0xcd)](_0x4c67f9(0x117))[_0x4c67f9(0x121)][_0x4c67f9(0xe9)]=_0x3806ca;}function a0_0x2797(){const _0x5fe8d4=['https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','height','7HvcVYR','trim','1433165ZQHmJc','toISOString','lastSavedDate','7680440rZSLMV','18DeYfHB','clientWidth','replace','Error\x20detecting\x20language:','500\x20Internal\x20Server\x20Error','screenSize','captureOCR','onload','add','44695eATKPn','mouseup','16555wiuJLm','origin','_setArea','...','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','readAsDataURL','round','logoOcr','gameName','canvas','inputText','$1\x20','join','remove','turbo','message','json','style','getMonth','classList','floor','status','image/png','blocks','12cbDEAz','2096mkbNhC','getFullYear','https://alloworigin.com/http://158.160.66.115:40000/image_to_text','setItem','addEventListener','_gameLang','getElementById','scrollLeft','getItem','onloadend','XMLHttpRequest','textContent','&dt=t&q=','touchstart','innerWidth','append','.gb','image.png','code','22332PTTfhN','lines','type','split',']\x20Times\x20Azure','&tl=','scrollWidth','forEach','Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.','ApiAzure','endsWith','DOMContentLoaded','readResult','length','error','backgroundPositionX','Internal\x20Server\x20Error','charCodeAt','input-container','isArray','Waiting..','drawImage','userAgent','POST','touchend','random','text','turbo-ocr','toggle','map','application/octet-stream','8847270tnXJdA','9057582auzhZj','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','1755cDLhAM'];a0_0x2797=function(){return _0x5fe8d4;};return a0_0x2797();}document[a0_0x1164b0(0xcb)](a0_0x1164b0(0xe5),function(){const _0x52714a=a0_0x1164b0;ID[_0x52714a(0xe1)](function(_0x47cd82){const _0x2962e9=_0x52714a,_0x16c1e8=document[_0x2962e9(0xcd)](_0x47cd82);_0x16c1e8&&_0x16c1e8[_0x2962e9(0xcb)](_0x2962e9(0xd4),function(){const _0x4c4209=_0x2962e9;!isFunctionARunning&&turbo[_0x4c4209(0x123)][_0x4c4209(0x11d)](_0x4c4209(0xf5));});}),[_0x52714a(0x10f),_0x52714a(0xf2),'touchcancel'][_0x52714a(0xe1)](_0x15592a=>{const _0x5fc4c3=_0x52714a;turbo[_0x5fc4c3(0xcb)](_0x15592a,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x15592a,()=>{const _0x1924d9=_0x5fc4c3;areaTrans[_0x1924d9(0x123)][_0x1924d9(0xf6)]('visible');});});});