const a0_0x2e48ce=a0_0x51c7;(function(_0x161f39,_0xa8977f){const _0x146106=a0_0x51c7,_0x3f0d8d=_0x161f39();while(!![]){try{const _0xa415dd=-parseInt(_0x146106(0x1f4))/0x1+parseInt(_0x146106(0x1ce))/0x2*(parseInt(_0x146106(0x205))/0x3)+-parseInt(_0x146106(0x1ca))/0x4+parseInt(_0x146106(0x211))/0x5+parseInt(_0x146106(0x1fa))/0x6*(parseInt(_0x146106(0x20a))/0x7)+-parseInt(_0x146106(0x1f8))/0x8+parseInt(_0x146106(0x1f6))/0x9;if(_0xa415dd===_0xa8977f)break;else _0x3f0d8d['push'](_0x3f0d8d['shift']());}catch(_0x2b4d84){_0x3f0d8d['push'](_0x3f0d8d['shift']());}}}(a0_0x5275,0x96659));import*as a0_0x2ca81f from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x2e48ce(0x1e1)](a0_0x2e48ce(0x1d6)),turbo=document[a0_0x2e48ce(0x1e1)](a0_0x2e48ce(0x20f)),ID=['A','B','R','L'];function a0_0x5275(){const _0x287789=['_setArea','getContext','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','blocks','forEach','onloadend','image','getElementById','width','endsWith','noti-mess','code','replace','clientWidth','warn','href','remove','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','touchend','$1\x20','scrollWidth','XMLHttpRequest','json','readAsDataURL','getItem','addEventListener','175027fJYUNE','lines','8240373TbrzXz','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','6879304ZMkckP','&dt=t&q=','48JRcyJp','DOMContentLoaded','classList','location','readResult','screenSize','type','POST','map','scrollLeft','log','21YQdJLZ','&tl=','image.png','Internal\x20Server\x20Error','charCodeAt','297647iCsIrE','image/png','toggle','join','append','turbo','.gb','2688300GUIcqq','origin','userAgent','visible','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','length','ApiAzure','turbo-ocr','text','notiMessage','2448696baOOuU','touchstart','height','onerror','134204ZFvIAS','.gbc','error','.._\x20','split','textContent','status','src','inputText','message','canvas','user'];a0_0x5275=function(){return _0x287789;};return a0_0x5275();}async function getImage(){const _0x4cb2d2=a0_0x2e48ce;turbo[_0x4cb2d2(0x1fc)]['add'](_0x4cb2d2(0x1c7));try{const _0x43406d=gameName['replace'](/\.(gba|gbc|gb|zip)$/,'.png'),_0x45e28c=await a0_0x2ca81f['captureOCR'](_0x43406d),_0x2ab7fe=new Blob([_0x45e28c],{'type':'image/png'}),_0x184a0b=await new Promise((_0x422b83,_0xd7bef9)=>{const _0x33cea7=_0x4cb2d2,_0x4f7b53=new FileReader();_0x4f7b53[_0x33cea7(0x1df)]=()=>_0x422b83(_0x4f7b53['result']),_0x4f7b53[_0x33cea7(0x1cd)]=_0xd7bef9,_0x4f7b53[_0x33cea7(0x1f1)](_0x2ab7fe);}),_0x40bcc9=new Image();_0x40bcc9[_0x4cb2d2(0x1d5)]=_0x184a0b,_0x40bcc9['onload']=async()=>{const _0x5196be=_0x4cb2d2,_0xf968ac=document['createElement'](_0x5196be(0x1d8)),_0x26d3e0=_0xf968ac[_0x5196be(0x1db)]('2d'),_0x3316fa=0x4;let _0x4ac9a8;gameName[_0x5196be(0x1e3)](_0x5196be(0x1cf))||gameName[_0x5196be(0x1e3)](_0x5196be(0x210))?_0x4ac9a8=0x3/0x6:_0x4ac9a8=0x3/0x4;const _0x25af1c=localStorage['getItem'](gameName+_0x5196be(0x1da))||localStorage['getItem'](_0x5196be(0x1ff)),[_0x4ea9a5,_0x102ade,_0x5c3e07,_0x8e3f8]=_0x25af1c[_0x5196be(0x1d2)](',')[_0x5196be(0x202)](Number);_0xf968ac[_0x5196be(0x1e2)]=_0x5c3e07*_0x4ac9a8*_0x3316fa,_0xf968ac[_0x5196be(0x1cc)]=_0x8e3f8*_0x4ac9a8*_0x3316fa,_0x26d3e0['drawImage'](_0x40bcc9,_0x4ea9a5*_0x4ac9a8,_0x102ade*_0x4ac9a8,_0x5c3e07*_0x4ac9a8,_0x8e3f8*_0x4ac9a8,0x0,0x0,_0x5c3e07*_0x4ac9a8*_0x3316fa,_0x8e3f8*_0x4ac9a8*_0x3316fa);const _0x3adc62=_0xf968ac['toDataURL']('image/png')['split'](',')[0x1],_0x222fa1=localStorage[_0x5196be(0x1f2)]('ApiAzure');console[_0x5196be(0x204)](_0x222fa1),_0x222fa1?azureServer(_0x3adc62):freeServer(_0x3adc62);};}catch(_0x5bd024){inputText[_0x4cb2d2(0x1d3)]=_0x5bd024[_0x4cb2d2(0x1d7)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x481c65=_0x4cb2d2;document['getElementById'](_0x481c65(0x1d6))[_0x481c65(0x1d3)]='',a0_0x2ca81f[_0x481c65(0x1c9)]('',0x0);},0x7530);}async function freeServer(_0x43df9e){const _0x3a6152=a0_0x2e48ce;document['getElementById'](_0x3a6152(0x1e4))[_0x3a6152(0x1d3)]='';let _0x9c5113=0x0;const _0x157560=setInterval(()=>{const _0x4c0ec1=_0x3a6152;_0x9c5113+=0x1,_0x9c5113<=0x64&&(inputText[_0x4c0ec1(0x1d3)]=_0x4c0ec1(0x1d1)+_0x9c5113+'%');},0x64);try{const _0x18917e=dataURItoBlob(_0x43df9e),_0x5a567d=new FormData();_0x5a567d[_0x3a6152(0x20e)](_0x3a6152(0x1e0),_0x18917e,_0x3a6152(0x207)),_0x5a567d[_0x3a6152(0x20e)](_0x3a6152(0x1d9),'00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x180007;try{_0x180007=await fetch(_0x3a6152(0x1f7),{'method':_0x3a6152(0x201),'body':_0x5a567d,'headers':{'Origin':window[_0x3a6152(0x1fd)][_0x3a6152(0x212)],'X-Requested-With':_0x3a6152(0x1ef),'User-Agent':navigator[_0x3a6152(0x213)]}});if(!_0x180007['ok'])throw new Error('HTTP\x20Error:\x20'+_0x180007[_0x3a6152(0x1d4)]);}catch(_0xf50604){console[_0x3a6152(0x1e8)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window['location'][_0x3a6152(0x1e9)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x5c4367=await _0x180007[_0x3a6152(0x1f0)]();if(_0x5c4367[_0x3a6152(0x200)]===_0x3a6152(0x1d0))throw new Error(_0x5c4367[_0x3a6152(0x1d0)][_0x3a6152(0x1d7)]);transLogic(_0x5c4367[_0x3a6152(0x1c8)]);}catch(_0x2fde5d){inputText['textContent']=_0x2fde5d[_0x3a6152(0x1d7)];}finally{clearInterval(_0x157560),isFunctionARunning=![];}}async function azureServer(_0x4f58af){const _0x1e6b6b=a0_0x2e48ce;document[_0x1e6b6b(0x1e1)](_0x1e6b6b(0x1e4))[_0x1e6b6b(0x1d3)]='',inputText[_0x1e6b6b(0x1d3)]=_0x1e6b6b(0x1d1);const _0x271280=localStorage[_0x1e6b6b(0x1f2)](_0x1e6b6b(0x1c6));let [_0x465daf,_0xed2f4a]=_0x271280['split'](',');try{const _0x702d22=await fetch(_0xed2f4a+_0x1e6b6b(0x1eb),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x465daf,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x4f58af)}),_0x441445=await _0x702d22[_0x1e6b6b(0x1f0)]();if(!_0x702d22['ok']||_0x441445['type']==='error'){const _0x453037=_0x702d22['ok']?_0x441445[_0x1e6b6b(0x1d0)][_0x1e6b6b(0x1d7)]:_0x702d22[_0x1e6b6b(0x1d4)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x702d22[_0x1e6b6b(0x1f0)]())[_0x1e6b6b(0x1d0)][_0x1e6b6b(0x1d7)];throw new Error(_0x453037);}const _0x15b365=_0x441445[_0x1e6b6b(0x1fe)][_0x1e6b6b(0x1dd)][0x0],_0x5b847d=_0x15b365[_0x1e6b6b(0x1f5)]||[],_0x1c20b0=_0x5b847d['map'](_0xa2f43c=>_0xa2f43c[_0x1e6b6b(0x1c8)])[_0x1e6b6b(0x20d)]('\x0a');transLogic(_0x1c20b0);}catch(_0x584921){inputText[_0x1e6b6b(0x1d3)]=_0x584921[_0x1e6b6b(0x1d7)];}finally{isFunctionARunning=![];}}async function translateText(_0x23cf08,_0x3738e6,_0x28d208){const _0x1cca5e=a0_0x2e48ce,_0x4eeb53=_0x23cf08[_0x1cca5e(0x1e6)](/[\r\n]+/g,',\x20')[_0x1cca5e(0x1e6)](/([!?.,])\s*,\s*/g,_0x1cca5e(0x1ed))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x1cca5e(0x1e6)](/ {2,}/g,'\x20')['trim']();var _0xc1f2c=_0x1cca5e(0x1dc)+_0x3738e6+_0x1cca5e(0x206)+_0x28d208+_0x1cca5e(0x1f9)+encodeURIComponent(_0x4eeb53);try{const _0x37189c=await fetch(_0xc1f2c);if(!_0x37189c['ok']){if(_0x37189c['status']===0x1f4)throw new Error(_0x1cca5e(0x208));else{const _0x32bbf0=await _0x37189c[_0x1cca5e(0x1f0)](),_0x4c5da8=new Error(_0x32bbf0[_0x1cca5e(0x1d0)][_0x1cca5e(0x1d7)]);_0x4c5da8['code']=_0x32bbf0['error'][_0x1cca5e(0x1e5)];throw _0x4c5da8;}}const _0x368a8a=await _0x37189c['json']();if(Array['isArray'](_0x368a8a)&&_0x368a8a[_0x1cca5e(0x216)]>0x0&&Array['isArray'](_0x368a8a[0x0])){var _0x5194d9=_0x368a8a[0x0][_0x1cca5e(0x202)](_0x4b583d=>_0x4b583d[0x0])[_0x1cca5e(0x20d)]('\x20');return document[_0x1cca5e(0x1e1)]('noti-mess')[_0x1cca5e(0x1d3)]='',inputText[_0x1cca5e(0x1d3)]=_0x1cca5e(0x1d1)+_0x5194d9[_0x1cca5e(0x1e6)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x5194d9[_0x1cca5e(0x1e6)](/ {2,}/g,'\x20');}else return document[_0x1cca5e(0x1e1)](_0x1cca5e(0x1e4))['textContent']='',inputText[_0x1cca5e(0x1d3)]=_0x1cca5e(0x1d1)+_0x368a8a,_0x368a8a;}catch(_0x290a3a){inputText['textContent']=_0x290a3a[_0x1cca5e(0x1d7)];throw _0x290a3a;}}function a0_0x51c7(_0x5082b4,_0x29d03e){const _0x527587=a0_0x5275();return a0_0x51c7=function(_0x51c723,_0x39edc){_0x51c723=_0x51c723-0x1c6;let _0x1f4b50=_0x527587[_0x51c723];return _0x1f4b50;},a0_0x51c7(_0x5082b4,_0x29d03e);}async function autoScroll(){const _0x1f3df1=a0_0x2e48ce;var _0x8f6e3d=inputText[_0x1f3df1(0x1ee)]-inputText[_0x1f3df1(0x1e7)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x8f6e3d||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x1f3df1(0x203)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x143532){const _0x26f8ef=a0_0x2e48ce;var _0x4315a8=_0x26f8ef(0x215)+encodeURIComponent(_0x143532);try{const _0x3f51d9=await fetch(_0x4315a8),_0x40c82b=await _0x3f51d9[_0x26f8ef(0x1f0)]();var _0x2088d6=_0x40c82b[0x8][0x0][0x0];return _0x2088d6;}catch(_0x2019fb){console[_0x26f8ef(0x1d0)]('Error\x20detecting\x20language:',_0x2019fb);throw _0x2019fb;}}async function transLogic(_0x2a60e9){const _0x4a9fb3='en';if(_0x4a9fb3===null){const _0x24040e=await detectLanguage(_0x2a60e9),_0x16139c=await translateText(_0x2a60e9,_0x24040e,'en');return translateText(_0x16139c,'en','vi');}else{if(_0x4a9fb3==='en')return translateText(_0x2a60e9,'en','vi');else{const _0x625ffc=await translateText(_0x2a60e9,_0x4a9fb3,'en');return translateText(_0x625ffc,'en','vi');}}}function dataURItoBlob(_0x49d7c5){const _0x21ca9c=a0_0x2e48ce,_0x1182f8=atob(_0x49d7c5),_0x4a1ca4=new ArrayBuffer(_0x1182f8[_0x21ca9c(0x216)]),_0x38d2fb=new Uint8Array(_0x4a1ca4);for(let _0x5e1ca1=0x0;_0x5e1ca1<_0x1182f8['length'];_0x5e1ca1++){_0x38d2fb[_0x5e1ca1]=_0x1182f8[_0x21ca9c(0x209)](_0x5e1ca1);}return new Blob([_0x4a1ca4],{'type':_0x21ca9c(0x20b)});}document[a0_0x2e48ce(0x1f3)](a0_0x2e48ce(0x1fb),function(){const _0x3c3487=a0_0x2e48ce;ID[_0x3c3487(0x1de)](function(_0x4464dc){const _0x187609=_0x3c3487,_0x1c0178=document[_0x187609(0x1e1)](_0x4464dc);_0x1c0178&&_0x1c0178['addEventListener'](_0x187609(0x1cb),function(){const _0x27e433=_0x187609;!isFunctionARunning&&turbo[_0x27e433(0x1fc)][_0x27e433(0x1ea)]('turbo-ocr');});}),[_0x3c3487(0x1ec)][_0x3c3487(0x1de)](_0x3a6f17=>{const _0x17f33c=_0x3c3487;turbo[_0x17f33c(0x1f3)](_0x3a6f17,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x17f33c(0x1f3)](_0x3a6f17,()=>{const _0x39dd92=_0x17f33c;areaTrans[_0x39dd92(0x1fc)][_0x39dd92(0x20c)](_0x39dd92(0x214));});});});