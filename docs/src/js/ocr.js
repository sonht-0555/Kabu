const a0_0x534cfd=a0_0x51e4;(function(_0x2dd5c5,_0x34daf4){const _0x50e6cd=a0_0x51e4,_0x1a6f8=_0x2dd5c5();while(!![]){try{const _0x2d7f4b=parseInt(_0x50e6cd(0x198))/0x1*(parseInt(_0x50e6cd(0x16c))/0x2)+parseInt(_0x50e6cd(0x1a6))/0x3+parseInt(_0x50e6cd(0x16e))/0x4*(-parseInt(_0x50e6cd(0x182))/0x5)+-parseInt(_0x50e6cd(0x189))/0x6+parseInt(_0x50e6cd(0x19c))/0x7*(parseInt(_0x50e6cd(0x177))/0x8)+parseInt(_0x50e6cd(0x167))/0x9+-parseInt(_0x50e6cd(0x19b))/0xa;if(_0x2d7f4b===_0x34daf4)break;else _0x1a6f8['push'](_0x1a6f8['shift']());}catch(_0x53f840){_0x1a6f8['push'](_0x1a6f8['shift']());}}}(a0_0x49e7,0x25ab5));import*as a0_0x19a135 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];function a0_0x51e4(_0x1dc661,_0x4b3b71){const _0x49e724=a0_0x49e7();return a0_0x51e4=function(_0x51e4e6,_0xfe8e80){_0x51e4e6=_0x51e4e6-0x159;let _0x11ac7e=_0x49e724[_0x51e4e6];return _0x11ac7e;},a0_0x51e4(_0x1dc661,_0x4b3b71);}var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x534cfd(0x162)](a0_0x534cfd(0x18f)),turbo=document[a0_0x534cfd(0x162)]('turbo'),ID=['A','B','R','L'];function a0_0x49e7(){const _0x225e8a=['height','length','touchend','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','map','.png','.gb','681846YEIqEg','json','trim','image/png','classList','src','scrollLeft','result','visible','HTTP\x20Error:\x20','forEach','log','addEventListener','split','getItem','turbo-ocr','https://cors-anywhere.herokuapp.com/corsdemo','lines','getElementById','ApiAzure','notiMessage','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','_setArea','1783539tzBXkK','append','DOMContentLoaded','toggle','warn','345410InByiA','readAsDataURL','4KOIWpn','add','error','origin','captureOCR','&dt=t&q=','scrollWidth','POST','userAgent','16xkahAc','Cors-controlers\x20have\x20not\x20been\x20activated.','.._\x20','endsWith','500\x20Internal\x20Server\x20Error','textContent','application/octet-stream','touchstart','join','$1\x20','noti-mess','199730ZkVIhA','text','isArray','readResult','status','code','location','399408CbFCqQ','drawImage','getContext','&tl=','clientWidth','user','inputText','blocks','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','.gbc','XMLHttpRequest','Internal\x20Server\x20Error','replace','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','type','1LgIjwI','screenSize','message','5476750NyxVHO','736134roUhJb','onloadend','charCodeAt'];a0_0x49e7=function(){return _0x225e8a;};return a0_0x49e7();}async function getImage(){const _0x2762d4=a0_0x534cfd;turbo[_0x2762d4(0x1aa)][_0x2762d4(0x16f)](_0x2762d4(0x15f));try{const _0x452f5e=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x2762d4(0x1a4)),_0x30cd47=await a0_0x19a135[_0x2762d4(0x172)](_0x452f5e),_0x23416a=new Blob([_0x30cd47],{'type':'image/png'}),_0x2b3b2a=await new Promise((_0x52c4fc,_0x58d986)=>{const _0x5a67cd=_0x2762d4,_0x13c198=new FileReader();_0x13c198[_0x5a67cd(0x19d)]=()=>_0x52c4fc(_0x13c198[_0x5a67cd(0x1ad)]),_0x13c198['onerror']=_0x58d986,_0x13c198[_0x5a67cd(0x16d)](_0x23416a);}),_0x32ea84=new Image();_0x32ea84[_0x2762d4(0x1ab)]=_0x2b3b2a,_0x32ea84['onload']=async()=>{const _0x1ccaa1=_0x2762d4,_0x15e157=document['createElement']('canvas'),_0x35a38=_0x15e157[_0x1ccaa1(0x18b)]('2d'),_0x276b0e=0x4;let _0x269ec3;gameName[_0x1ccaa1(0x17a)](_0x1ccaa1(0x192))||gameName[_0x1ccaa1(0x17a)](_0x1ccaa1(0x1a5))?_0x269ec3=0x3/0x6:_0x269ec3=0x3/0x4;const _0x5d6cd7=localStorage['getItem'](gameName+_0x1ccaa1(0x166))||localStorage[_0x1ccaa1(0x15e)](_0x1ccaa1(0x199)),[_0xef604a,_0xb59971,_0x464ddf,_0x2f0366]=_0x5d6cd7['split'](',')[_0x1ccaa1(0x1a3)](Number);_0x15e157['width']=_0x464ddf*_0x269ec3*_0x276b0e,_0x15e157[_0x1ccaa1(0x19f)]=_0x2f0366*_0x269ec3*_0x276b0e,_0x35a38[_0x1ccaa1(0x18a)](_0x32ea84,_0xef604a*_0x269ec3,_0xb59971*_0x269ec3,_0x464ddf*_0x269ec3,_0x2f0366*_0x269ec3,0x0,0x0,_0x464ddf*_0x269ec3*_0x276b0e,_0x2f0366*_0x269ec3*_0x276b0e);const _0x2c5e72=_0x15e157['toDataURL']('image/png')['split'](',')[0x1],_0x489ce0=localStorage[_0x1ccaa1(0x15e)]('ApiAzure');console[_0x1ccaa1(0x15b)](_0x489ce0),_0x489ce0?azureServer(_0x2c5e72):freeServer(_0x2c5e72);};}catch(_0x46cd5d){inputText[_0x2762d4(0x17c)]=_0x46cd5d[_0x2762d4(0x19a)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x31cdc1=_0x2762d4;document[_0x31cdc1(0x162)](_0x31cdc1(0x18f))[_0x31cdc1(0x17c)]='',a0_0x19a135[_0x31cdc1(0x164)]('',0x0);},0x7530);}async function freeServer(_0x39be59){const _0x247977=a0_0x534cfd;document[_0x247977(0x162)](_0x247977(0x181))[_0x247977(0x17c)]='';let _0x1d63fd=0x0;const _0x3c3299=setInterval(()=>{const _0x21bca4=_0x247977;_0x1d63fd+=0x1,_0x1d63fd<=0x64&&(inputText[_0x21bca4(0x17c)]=_0x21bca4(0x179)+_0x1d63fd+'%');},0x64);try{const _0x41e1e0=dataURItoBlob(_0x39be59),_0x587825=new FormData();_0x587825[_0x247977(0x168)]('image',_0x41e1e0,'image.png'),_0x587825[_0x247977(0x168)](_0x247977(0x18e),_0x247977(0x165));let _0x404a21;try{_0x404a21=await fetch(_0x247977(0x191),{'method':_0x247977(0x175),'body':_0x587825,'headers':{'Origin':window[_0x247977(0x188)][_0x247977(0x171)],'X-Requested-With':_0x247977(0x193),'User-Agent':navigator[_0x247977(0x176)]}});if(!_0x404a21['ok'])throw new Error(_0x247977(0x159)+_0x404a21[_0x247977(0x186)]);}catch(_0x4768c8){console[_0x247977(0x16b)](_0x247977(0x178)),window[_0x247977(0x188)]['href']=_0x247977(0x160);return;}const _0x3ee37d=await _0x404a21[_0x247977(0x1a7)]();if(_0x3ee37d[_0x247977(0x197)]===_0x247977(0x170))throw new Error(_0x3ee37d['error'][_0x247977(0x19a)]);transLogic(_0x3ee37d[_0x247977(0x183)]);}catch(_0x2ed122){inputText[_0x247977(0x17c)]=_0x2ed122[_0x247977(0x19a)];}finally{clearInterval(_0x3c3299),isFunctionARunning=![];}}async function azureServer(_0x131fff){const _0xfc9ade=a0_0x534cfd;document[_0xfc9ade(0x162)](_0xfc9ade(0x181))[_0xfc9ade(0x17c)]='',inputText[_0xfc9ade(0x17c)]=_0xfc9ade(0x179);const _0x5aaa56=localStorage['getItem'](_0xfc9ade(0x163));let [_0x553415,_0x121484]=_0x5aaa56[_0xfc9ade(0x15d)](',');try{const _0x4a457f=await fetch(_0x121484+_0xfc9ade(0x196),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x553415,'Content-Type':_0xfc9ade(0x17d)},'body':dataURItoBlob(_0x131fff)}),_0x2e4041=await _0x4a457f[_0xfc9ade(0x1a7)]();if(!_0x4a457f['ok']||_0x2e4041[_0xfc9ade(0x197)]===_0xfc9ade(0x170)){const _0x296a6b=_0x4a457f['ok']?_0x2e4041[_0xfc9ade(0x170)]['message']:_0x4a457f[_0xfc9ade(0x186)]===0x1f4?_0xfc9ade(0x17b):(await _0x4a457f[_0xfc9ade(0x1a7)]())[_0xfc9ade(0x170)][_0xfc9ade(0x19a)];throw new Error(_0x296a6b);}const _0x445ed5=_0x2e4041[_0xfc9ade(0x185)][_0xfc9ade(0x190)][0x0],_0x500374=_0x445ed5[_0xfc9ade(0x161)]||[],_0x3e6613=_0x500374[_0xfc9ade(0x1a3)](_0x336f63=>_0x336f63[_0xfc9ade(0x183)])[_0xfc9ade(0x17f)]('\x0a');transLogic(_0x3e6613);}catch(_0x341e40){inputText[_0xfc9ade(0x17c)]=_0x341e40['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x4bec42,_0x237674,_0x426e61){const _0x3a0a75=a0_0x534cfd,_0x250a89=_0x4bec42[_0x3a0a75(0x195)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x3a0a75(0x180))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x3a0a75(0x195)](/ {2,}/g,'\x20')[_0x3a0a75(0x1a8)]();var _0xc5ee86='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x237674+_0x3a0a75(0x18c)+_0x426e61+_0x3a0a75(0x173)+encodeURIComponent(_0x250a89);try{const _0x55b57c=await fetch(_0xc5ee86);if(!_0x55b57c['ok']){if(_0x55b57c[_0x3a0a75(0x186)]===0x1f4)throw new Error(_0x3a0a75(0x194));else{const _0x5db6a0=await _0x55b57c[_0x3a0a75(0x1a7)](),_0x200a6f=new Error(_0x5db6a0[_0x3a0a75(0x170)][_0x3a0a75(0x19a)]);_0x200a6f[_0x3a0a75(0x187)]=_0x5db6a0[_0x3a0a75(0x170)]['code'];throw _0x200a6f;}}const _0x52e3d4=await _0x55b57c[_0x3a0a75(0x1a7)]();if(Array['isArray'](_0x52e3d4)&&_0x52e3d4[_0x3a0a75(0x1a0)]>0x0&&Array[_0x3a0a75(0x184)](_0x52e3d4[0x0])){var _0x220060=_0x52e3d4[0x0][_0x3a0a75(0x1a3)](_0x441f2b=>_0x441f2b[0x0])[_0x3a0a75(0x17f)]('\x20');return document[_0x3a0a75(0x162)](_0x3a0a75(0x181))['textContent']='',inputText['textContent']=_0x3a0a75(0x179)+_0x220060[_0x3a0a75(0x195)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x220060[_0x3a0a75(0x195)](/ {2,}/g,'\x20');}else return document[_0x3a0a75(0x162)](_0x3a0a75(0x181))[_0x3a0a75(0x17c)]='',inputText[_0x3a0a75(0x17c)]=_0x3a0a75(0x179)+_0x52e3d4,_0x52e3d4;}catch(_0x526c97){inputText[_0x3a0a75(0x17c)]=_0x526c97[_0x3a0a75(0x19a)];throw _0x526c97;}}async function autoScroll(){const _0x49392b=a0_0x534cfd;var _0x34a67e=inputText[_0x49392b(0x174)]-inputText[_0x49392b(0x18d)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x34a67e||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x49392b(0x1ac)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x2d7467){const _0x3d8bda=a0_0x534cfd;var _0x5d2a89=_0x3d8bda(0x1a2)+encodeURIComponent(_0x2d7467);try{const _0x5090b2=await fetch(_0x5d2a89),_0x912d6a=await _0x5090b2[_0x3d8bda(0x1a7)]();var _0x41c2be=_0x912d6a[0x8][0x0][0x0];return _0x41c2be;}catch(_0x1b8a03){console[_0x3d8bda(0x170)]('Error\x20detecting\x20language:',_0x1b8a03);throw _0x1b8a03;}}async function transLogic(_0x250a02){const _0x2f5c0d='en';if(_0x2f5c0d===null){const _0x247b99=await detectLanguage(_0x250a02),_0x14f747=await translateText(_0x250a02,_0x247b99,'en');return translateText(_0x14f747,'en','vi');}else{if(_0x2f5c0d==='en')return translateText(_0x250a02,'en','vi');else{const _0x1a79fe=await translateText(_0x250a02,_0x2f5c0d,'en');return translateText(_0x1a79fe,'en','vi');}}}function dataURItoBlob(_0x231298){const _0x3484e4=a0_0x534cfd,_0x570043=atob(_0x231298),_0x72cef2=new ArrayBuffer(_0x570043['length']),_0x46ade1=new Uint8Array(_0x72cef2);for(let _0x4a5ce3=0x0;_0x4a5ce3<_0x570043['length'];_0x4a5ce3++){_0x46ade1[_0x4a5ce3]=_0x570043[_0x3484e4(0x19e)](_0x4a5ce3);}return new Blob([_0x72cef2],{'type':_0x3484e4(0x1a9)});}document['addEventListener'](a0_0x534cfd(0x169),function(){const _0x26adc7=a0_0x534cfd;ID[_0x26adc7(0x15a)](function(_0x4d8f96){const _0x42ecf7=_0x26adc7,_0x18eabb=document[_0x42ecf7(0x162)](_0x4d8f96);_0x18eabb&&_0x18eabb[_0x42ecf7(0x15c)](_0x42ecf7(0x17e),function(){!isFunctionARunning&&turbo['classList']['remove']('turbo-ocr');});}),[_0x26adc7(0x1a1)][_0x26adc7(0x15a)](_0x120ae1=>{const _0x20125f=_0x26adc7;turbo[_0x20125f(0x15c)](_0x120ae1,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x20125f(0x15c)](_0x120ae1,()=>{const _0x4c6a60=_0x20125f;areaTrans[_0x4c6a60(0x1aa)][_0x4c6a60(0x16a)](_0x4c6a60(0x1ae));});});});