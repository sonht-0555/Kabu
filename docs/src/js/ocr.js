const a0_0x2f129b=a0_0xbf50;(function(_0x409656,_0x3a4a36){const _0x3cfdbf=a0_0xbf50,_0x3b6db2=_0x409656();while(!![]){try{const _0x2f5027=-parseInt(_0x3cfdbf(0xcd))/0x1+parseInt(_0x3cfdbf(0xa9))/0x2+-parseInt(_0x3cfdbf(0x86))/0x3*(parseInt(_0x3cfdbf(0x88))/0x4)+parseInt(_0x3cfdbf(0xc1))/0x5*(-parseInt(_0x3cfdbf(0x8e))/0x6)+parseInt(_0x3cfdbf(0xa6))/0x7*(parseInt(_0x3cfdbf(0xb9))/0x8)+parseInt(_0x3cfdbf(0xa0))/0x9*(-parseInt(_0x3cfdbf(0x8b))/0xa)+parseInt(_0x3cfdbf(0xbd))/0xb;if(_0x2f5027===_0x3a4a36)break;else _0x3b6db2['push'](_0x3b6db2['shift']());}catch(_0x3aa57f){_0x3b6db2['push'](_0x3b6db2['shift']());}}}(a0_0x1046,0x9fc7a));import*as a0_0x166001 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0xbf50(_0x4bcd71,_0x45b6b0){const _0x10465b=a0_0x1046();return a0_0xbf50=function(_0xbf50cb,_0x564fea){_0xbf50cb=_0xbf50cb-0x81;let _0x20ddca=_0x10465b[_0xbf50cb];return _0x20ddca;},a0_0xbf50(_0x4bcd71,_0x45b6b0);}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x2f129b(0xce)](a0_0x2f129b(0xc5)),turbo=document[a0_0x2f129b(0xce)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x2592bc=a0_0x2f129b;turbo['classList'][_0x2592bc(0xb0)]('turbo-ocr');try{const _0x4efad0=gameName[_0x2592bc(0x93)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x538f1e=await a0_0x166001[_0x2592bc(0xd3)](_0x4efad0),_0x80f072=new Blob([_0x538f1e],{'type':'image/png'}),_0x7c1693=await new Promise((_0x40219c,_0x566ccc)=>{const _0x381a55=_0x2592bc,_0x5eedac=new FileReader();_0x5eedac[_0x381a55(0x92)]=()=>_0x40219c(_0x5eedac[_0x381a55(0x87)]),_0x5eedac['onerror']=_0x566ccc,_0x5eedac[_0x381a55(0xa4)](_0x80f072);}),_0x424781=new Image();_0x424781[_0x2592bc(0xae)]=_0x7c1693,_0x424781[_0x2592bc(0xb1)]=async()=>{const _0xf1f221=_0x2592bc,_0x1faf0d=document[_0xf1f221(0x84)](_0xf1f221(0x81)),_0x135c05=_0x1faf0d['getContext']('2d'),_0x3efef0=0x4;let _0x23523a;gameName['endsWith'](_0xf1f221(0xc8))||gameName[_0xf1f221(0xa1)](_0xf1f221(0xcb))?_0x23523a=0x3/0x6:_0x23523a=0x3/0x4;const _0x409011=localStorage[_0xf1f221(0xaf)](gameName+'_setArea')||localStorage[_0xf1f221(0xaf)](_0xf1f221(0xc4)),[_0x1f5082,_0x561ef9,_0x126fd0,_0x7c75fb]=_0x409011[_0xf1f221(0x9a)](',')['map'](Number);_0x1faf0d[_0xf1f221(0xb5)]=_0x126fd0*_0x23523a*_0x3efef0,_0x1faf0d[_0xf1f221(0xa3)]=_0x7c75fb*_0x23523a*_0x3efef0,_0x135c05[_0xf1f221(0xcf)](_0x424781,_0x1f5082*_0x23523a,_0x561ef9*_0x23523a,_0x126fd0*_0x23523a,_0x7c75fb*_0x23523a,0x0,0x0,_0x126fd0*_0x23523a*_0x3efef0,_0x7c75fb*_0x23523a*_0x3efef0);const _0x491e91=_0x1faf0d[_0xf1f221(0xb2)](_0xf1f221(0x94))[_0xf1f221(0x9a)](',')[0x1],_0x124446=localStorage[_0xf1f221(0xaf)](_0xf1f221(0xb6));console[_0xf1f221(0xcc)](_0x124446),_0x124446?azureServer(_0x491e91):freeServer(_0x491e91);};}catch(_0xe21c68){inputText[_0x2592bc(0x89)]=_0xe21c68['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x422d4e=_0x2592bc;document[_0x422d4e(0xce)](_0x422d4e(0xc5))[_0x422d4e(0x89)]='',a0_0x166001['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x2fd071){const _0x54f9c2=a0_0x2f129b;document[_0x54f9c2(0xce)](_0x54f9c2(0x8d))[_0x54f9c2(0x89)]='';let _0xc10ac3=0x0;const _0x198bc4=setInterval(()=>{const _0x4d1119=_0x54f9c2;_0xc10ac3+=0x1,_0xc10ac3<=0x64&&(inputText[_0x4d1119(0x89)]=_0x4d1119(0xac)+_0xc10ac3+'%');},0x64);try{const _0x259bdf=dataURItoBlob(_0x2fd071),_0x2f6626=new FormData();_0x2f6626[_0x54f9c2(0xc9)](_0x54f9c2(0x97),_0x259bdf,_0x54f9c2(0xd1)),_0x2f6626[_0x54f9c2(0xc9)](_0x54f9c2(0x8a),_0x54f9c2(0x8c));let _0x2c5b4c;try{_0x2c5b4c=await fetch(_0x54f9c2(0xd0),{'method':_0x54f9c2(0xc6),'body':_0x2f6626,'headers':{'Origin':window['location'][_0x54f9c2(0xc0)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x54f9c2(0xc7)]}});if(!_0x2c5b4c['ok'])throw new Error('HTTP\x20Error:\x20'+_0x2c5b4c[_0x54f9c2(0x95)]);}catch(_0x4d41b3){console[_0x54f9c2(0xa2)](_0x54f9c2(0x9f)),window[_0x54f9c2(0xbb)][_0x54f9c2(0x9e)]=_0x54f9c2(0xd5);return;}const _0x1b11d4=await _0x2c5b4c[_0x54f9c2(0xd4)]();if(_0x1b11d4[_0x54f9c2(0xa7)]===_0x54f9c2(0x99))throw new Error(_0x1b11d4['error']['message']);transLogic(_0x1b11d4['text']);}catch(_0x1a64b3){inputText[_0x54f9c2(0x89)]=_0x1a64b3[_0x54f9c2(0xb7)];}finally{clearInterval(_0x198bc4),isFunctionARunning=![];}}async function azureServer(_0x2ab584){const _0x37fb53=a0_0x2f129b;document[_0x37fb53(0xce)]('noti-mess')['textContent']='',inputText[_0x37fb53(0x89)]=_0x37fb53(0xac);const _0x3963da=localStorage[_0x37fb53(0xaf)](_0x37fb53(0xb6));let [_0x239a78,_0xa48810]=_0x3963da[_0x37fb53(0x9a)](',');try{const _0x362dd1=await fetch(_0xa48810+_0x37fb53(0xca),{'method':_0x37fb53(0xc6),'headers':{'Ocp-Apim-Subscription-Key':_0x239a78,'Content-Type':_0x37fb53(0xd2)},'body':dataURItoBlob(_0x2ab584)}),_0x4e7b0f=await _0x362dd1[_0x37fb53(0xd4)]();if(!_0x362dd1['ok']||_0x4e7b0f[_0x37fb53(0xa7)]==='error'){const _0x1b7584=_0x362dd1['ok']?_0x4e7b0f[_0x37fb53(0x99)][_0x37fb53(0xb7)]:_0x362dd1['status']===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x362dd1[_0x37fb53(0xd4)]())['error'][_0x37fb53(0xb7)];throw new Error(_0x1b7584);}const _0x4fb1bd=_0x4e7b0f['readResult'][_0x37fb53(0xb3)][0x0],_0xd29ef9=_0x4fb1bd[_0x37fb53(0xbc)]||[],_0x507fdc=_0xd29ef9[_0x37fb53(0xc2)](_0x1c7f67=>_0x1c7f67['text'])[_0x37fb53(0x82)]('\x0a');transLogic(_0x507fdc);}catch(_0x34afa2){inputText['textContent']=_0x34afa2[_0x37fb53(0xb7)];}finally{isFunctionARunning=![];}}async function translateText(_0x623490,_0x22951e,_0x1e002d){const _0x9130de=a0_0x2f129b,_0x58628c=_0x623490['replace'](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x9130de(0xad))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x9130de(0x93)](/ {2,}/g,'\x20')[_0x9130de(0x83)]();var _0x2b2feb=_0x9130de(0x98)+_0x22951e+'&tl='+_0x1e002d+_0x9130de(0x90)+encodeURIComponent(_0x58628c);try{const _0x581940=await fetch(_0x2b2feb);if(!_0x581940['ok']){if(_0x581940[_0x9130de(0x95)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0xfa03fa=await _0x581940[_0x9130de(0xd4)](),_0x329d16=new Error(_0xfa03fa['error']['message']);_0x329d16[_0x9130de(0x9c)]=_0xfa03fa[_0x9130de(0x99)]['code'];throw _0x329d16;}}const _0x5bb626=await _0x581940[_0x9130de(0xd4)]();if(Array[_0x9130de(0xab)](_0x5bb626)&&_0x5bb626[_0x9130de(0xb4)]>0x0&&Array[_0x9130de(0xab)](_0x5bb626[0x0])){var _0x3145e3=_0x5bb626[0x0][_0x9130de(0xc2)](_0x539315=>_0x539315[0x0])[_0x9130de(0x82)]('\x20');return document['getElementById']('noti-mess')[_0x9130de(0x89)]='',inputText[_0x9130de(0x89)]=_0x9130de(0xac)+_0x3145e3[_0x9130de(0x93)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x3145e3['replace'](/ {2,}/g,'\x20');}else return document[_0x9130de(0xce)](_0x9130de(0x8d))['textContent']='',inputText[_0x9130de(0x89)]=_0x9130de(0xac)+_0x5bb626,_0x5bb626;}catch(_0x74eb5f){inputText[_0x9130de(0x89)]=_0x74eb5f['message'];throw _0x74eb5f;}}async function autoScroll(){const _0x4e8bc7=a0_0x2f129b;var _0x5224f7=inputText[_0x4e8bc7(0xbe)]-inputText[_0x4e8bc7(0x96)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x5224f7||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x4e8bc7(0xb8)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1b0b42){const _0x2be01d=a0_0x2f129b;var _0x108f2f=_0x2be01d(0xa8)+encodeURIComponent(_0x1b0b42);try{const _0x21bf93=await fetch(_0x108f2f),_0xa4cd16=await _0x21bf93['json']();var _0x52119a=_0xa4cd16[0x8][0x0][0x0];return _0x52119a;}catch(_0x58d912){console[_0x2be01d(0x99)](_0x2be01d(0xbf),_0x58d912);throw _0x58d912;}}function a0_0x1046(){const _0x3d94c0=['split','remove','code','touchend','href','Cors-controlers\x20have\x20not\x20been\x20activated.','9GsVFHJ','endsWith','warn','height','readAsDataURL','classList','7nUGOXq','type','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','186662XtfleT','forEach','isArray','.._\x20','$1\x20','src','getItem','add','onload','toDataURL','blocks','length','width','ApiAzure','message','scrollLeft','4405048kaLPbD','visible','location','lines','22956912qmCkRS','scrollWidth','Error\x20detecting\x20language:','origin','5YBlRBJ','map','addEventListener','screenSize','inputText','POST','userAgent','.gbc','append','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','.gb','log','303898rRbAeF','getElementById','drawImage','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','image.png','application/octet-stream','captureOCR','json','https://cors-anywhere.herokuapp.com/corsdemo','canvas','join','trim','createElement','charCodeAt','24vIZmXB','result','573908SjlvfX','textContent','user','4635010zxrRAh','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','noti-mess','967686lAiaOe','touchstart','&dt=t&q=','toggle','onloadend','replace','image/png','status','clientWidth','image','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','error'];a0_0x1046=function(){return _0x3d94c0;};return a0_0x1046();}async function transLogic(_0x1acae7){const _0x13180a='en';if(_0x13180a===null){const _0x211ed1=await detectLanguage(_0x1acae7),_0xea46bf=await translateText(_0x1acae7,_0x211ed1,'en');return translateText(_0xea46bf,'en','vi');}else{if(_0x13180a==='en')return translateText(_0x1acae7,'en','vi');else{const _0x3f90b7=await translateText(_0x1acae7,_0x13180a,'en');return translateText(_0x3f90b7,'en','vi');}}}function dataURItoBlob(_0x1f669b){const _0x15491e=a0_0x2f129b,_0xc9829d=atob(_0x1f669b),_0x6fcbdc=new ArrayBuffer(_0xc9829d['length']),_0x9f7b63=new Uint8Array(_0x6fcbdc);for(let _0x556ba1=0x0;_0x556ba1<_0xc9829d[_0x15491e(0xb4)];_0x556ba1++){_0x9f7b63[_0x556ba1]=_0xc9829d[_0x15491e(0x85)](_0x556ba1);}return new Blob([_0x6fcbdc],{'type':_0x15491e(0x94)});}document['addEventListener']('DOMContentLoaded',function(){const _0xceadea=a0_0x2f129b;ID[_0xceadea(0xaa)](function(_0x3e6a3c){const _0x20d788=_0xceadea,_0x252a47=document[_0x20d788(0xce)](_0x3e6a3c);_0x252a47&&_0x252a47['addEventListener'](_0x20d788(0x8f),function(){const _0xc3f303=_0x20d788;!isFunctionARunning&&turbo[_0xc3f303(0xa5)][_0xc3f303(0x9b)]('turbo-ocr');});}),[_0xceadea(0x9d)][_0xceadea(0xaa)](_0x2b6ed9=>{const _0x5a723e=_0xceadea;turbo[_0x5a723e(0xc3)](_0x2b6ed9,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x5a723e(0xc3)](_0x2b6ed9,()=>{const _0x2cc251=_0x5a723e;areaTrans[_0x2cc251(0xa5)][_0x2cc251(0x91)](_0x2cc251(0xba));});});});