function a0_0x12b3(_0x22372f,_0x5bbc3e){const _0x56c4be=a0_0x56c4();return a0_0x12b3=function(_0x12b395,_0x233fd5){_0x12b395=_0x12b395-0x74;let _0x1e514b=_0x56c4be[_0x12b395];return _0x1e514b;},a0_0x12b3(_0x22372f,_0x5bbc3e);}const a0_0xbc6f42=a0_0x12b3;(function(_0x496689,_0x3c4f56){const _0x51ee4e=a0_0x12b3,_0x15e31f=_0x496689();while(!![]){try{const _0x2feef8=-parseInt(_0x51ee4e(0xbd))/0x1+-parseInt(_0x51ee4e(0x90))/0x2+-parseInt(_0x51ee4e(0xa6))/0x3*(parseInt(_0x51ee4e(0xbc))/0x4)+parseInt(_0x51ee4e(0x96))/0x5*(parseInt(_0x51ee4e(0xa4))/0x6)+-parseInt(_0x51ee4e(0xaf))/0x7*(-parseInt(_0x51ee4e(0x81))/0x8)+-parseInt(_0x51ee4e(0x78))/0x9*(parseInt(_0x51ee4e(0x9b))/0xa)+-parseInt(_0x51ee4e(0x9a))/0xb*(-parseInt(_0x51ee4e(0xac))/0xc);if(_0x2feef8===_0x3c4f56)break;else _0x15e31f['push'](_0x15e31f['shift']());}catch(_0x1e6e7e){_0x15e31f['push'](_0x15e31f['shift']());}}}(a0_0x56c4,0xa4256));import*as a0_0x5b67e8 from'./main.js';function a0_0x56c4(){const _0x134dd3=['noti-mess','&dt=t&q=','touchstart','.png','replace','location','readAsDataURL','textContent','notiMessage','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','HTTP\x20Error:\x20','application/octet-stream','1523992gwbjkX','join','remove','turbo-ocr','status','isArray','5rRljkp','XMLHttpRequest','append','lines','77ZJfwgn','10930GSmZaz','result','blocks','type','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','text','length','log','getItem','2642196oiZrzK','forEach','96HeiRXv','src','readResult','href','code','Cors-controlers\x20have\x20not\x20been\x20activated.','3453000uHnfms','POST','inputText','1250011UmRRPZ','&tl=','$1\x20','classList','scrollWidth','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','warn','DOMContentLoaded','onloadend','createElement','origin','user','userAgent','52396AtKPqT','208044QJaXbm','addEventListener','onerror','.._\x20','getElementById','split','.gb','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','ApiAzure','add','charCodeAt','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','scrollLeft','image/png','Error\x20detecting\x20language:','500\x20Internal\x20Server\x20Error','json','4707uLoQyE','endsWith','onload','trim','error','drawImage','clientWidth','map','turbo','8rkiCyx','captureOCR','message'];a0_0x56c4=function(){return _0x134dd3;};return a0_0x56c4();}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0xbc6f42(0xc1)](a0_0xbc6f42(0xae)),turbo=document[a0_0xbc6f42(0xc1)](a0_0xbc6f42(0x80)),ID=['A','B','R','L'];async function getImage(){const _0x3e2a4a=a0_0xbc6f42;turbo['classList'][_0x3e2a4a(0xc6)](_0x3e2a4a(0x93));try{const _0x16c70f=gameName[_0x3e2a4a(0x88)](/\.(gba|gbc|gb|zip)$/,_0x3e2a4a(0x87)),_0x420e9c=await a0_0x5b67e8[_0x3e2a4a(0x82)](_0x16c70f),_0x239994=new Blob([_0x420e9c],{'type':'image/png'}),_0x276381=await new Promise((_0x31069f,_0x353421)=>{const _0x3c8614=_0x3e2a4a,_0x1e4cfa=new FileReader();_0x1e4cfa[_0x3c8614(0xb7)]=()=>_0x31069f(_0x1e4cfa[_0x3c8614(0x9c)]),_0x1e4cfa[_0x3c8614(0xbf)]=_0x353421,_0x1e4cfa[_0x3c8614(0x8a)](_0x239994);}),_0x393854=new Image();_0x393854[_0x3e2a4a(0xa7)]=_0x276381,_0x393854[_0x3e2a4a(0x7a)]=async()=>{const _0x11c197=_0x3e2a4a,_0x32f1e4=document[_0x11c197(0xb8)]('canvas'),_0x7eff0=_0x32f1e4['getContext']('2d'),_0x152087=0x4;let _0x3bb3e8;gameName['endsWith']('.gbc')||gameName[_0x11c197(0x79)](_0x11c197(0xc3))?_0x3bb3e8=0x3/0x6:_0x3bb3e8=0x3/0x4;const _0x494f62=localStorage['getItem'](gameName+'_setArea')||localStorage[_0x11c197(0xa3)]('screenSize'),[_0x4ba63a,_0x3b87ae,_0x4d9119,_0x2479a1]=_0x494f62[_0x11c197(0xc2)](',')[_0x11c197(0x7f)](Number);_0x32f1e4['width']=_0x4d9119*_0x3bb3e8*_0x152087,_0x32f1e4['height']=_0x2479a1*_0x3bb3e8*_0x152087,_0x7eff0[_0x11c197(0x7d)](_0x393854,_0x4ba63a*_0x3bb3e8,_0x3b87ae*_0x3bb3e8,_0x4d9119*_0x3bb3e8,_0x2479a1*_0x3bb3e8,0x0,0x0,_0x4d9119*_0x3bb3e8*_0x152087,_0x2479a1*_0x3bb3e8*_0x152087);const _0xad3510=_0x32f1e4['toDataURL']('image/png')[_0x11c197(0xc2)](',')[0x1],_0x19f2f8=localStorage[_0x11c197(0xa3)]('ApiAzure');console[_0x11c197(0xa2)](_0x19f2f8),_0x19f2f8?azureServer(_0xad3510):freeServer(_0xad3510);};}catch(_0x1ec84a){inputText[_0x3e2a4a(0x8b)]=_0x1ec84a['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x4b63e0=_0x3e2a4a;document[_0x4b63e0(0xc1)](_0x4b63e0(0xae))[_0x4b63e0(0x8b)]='',a0_0x5b67e8[_0x4b63e0(0x8c)]('',0x0);},0x7530);}async function freeServer(_0x1a2fb3){const _0x48be93=a0_0xbc6f42;document[_0x48be93(0xc1)]('noti-mess')[_0x48be93(0x8b)]='';let _0x24b7a6=0x0;const _0xc85162=setInterval(()=>{const _0x22f5fb=_0x48be93;_0x24b7a6+=0x1,_0x24b7a6<=0x64&&(inputText[_0x22f5fb(0x8b)]=_0x22f5fb(0xc0)+_0x24b7a6+'%');},0x64);try{const _0x21a552=dataURItoBlob(_0x1a2fb3),_0x4fc173=new FormData();_0x4fc173[_0x48be93(0x98)]('image',_0x21a552,'image.png'),_0x4fc173[_0x48be93(0x98)](_0x48be93(0xba),_0x48be93(0x8d));let _0x337c69;try{_0x337c69=await fetch(_0x48be93(0xc8),{'method':_0x48be93(0xad),'body':_0x4fc173,'headers':{'Origin':window[_0x48be93(0x89)][_0x48be93(0xb9)],'X-Requested-With':_0x48be93(0x97),'User-Agent':navigator[_0x48be93(0xbb)]}});if(!_0x337c69['ok'])throw new Error(_0x48be93(0x8e)+_0x337c69[_0x48be93(0x94)]);}catch(_0xc05ecb){console[_0x48be93(0xb5)](_0x48be93(0xab)),window[_0x48be93(0x89)][_0x48be93(0xa9)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x5f194b=await _0x337c69[_0x48be93(0x77)]();if(_0x5f194b[_0x48be93(0x9e)]==='error')throw new Error(_0x5f194b['error']['message']);transLogic(_0x5f194b[_0x48be93(0xa0)]);}catch(_0x15e6a4){inputText[_0x48be93(0x8b)]=_0x15e6a4[_0x48be93(0x83)];}finally{clearInterval(_0xc85162),isFunctionARunning=![];}}async function azureServer(_0xdb2b89){const _0x58c4b5=a0_0xbc6f42;document['getElementById'](_0x58c4b5(0x84))[_0x58c4b5(0x8b)]='',inputText[_0x58c4b5(0x8b)]='.._\x20';const _0x497d57=localStorage['getItem'](_0x58c4b5(0xc5));let [_0x38fee6,_0x312f17]=_0x497d57[_0x58c4b5(0xc2)](',');try{const _0x219b1e=await fetch(_0x312f17+_0x58c4b5(0xb4),{'method':_0x58c4b5(0xad),'headers':{'Ocp-Apim-Subscription-Key':_0x38fee6,'Content-Type':_0x58c4b5(0x8f)},'body':dataURItoBlob(_0xdb2b89)}),_0x3d3464=await _0x219b1e[_0x58c4b5(0x77)]();if(!_0x219b1e['ok']||_0x3d3464[_0x58c4b5(0x9e)]===_0x58c4b5(0x7c)){const _0x3b09c4=_0x219b1e['ok']?_0x3d3464[_0x58c4b5(0x7c)]['message']:_0x219b1e[_0x58c4b5(0x94)]===0x1f4?_0x58c4b5(0x76):(await _0x219b1e[_0x58c4b5(0x77)]())[_0x58c4b5(0x7c)]['message'];throw new Error(_0x3b09c4);}const _0x36f8db=_0x3d3464[_0x58c4b5(0xa8)][_0x58c4b5(0x9d)][0x0],_0x2715d6=_0x36f8db[_0x58c4b5(0x99)]||[],_0xfcd3f=_0x2715d6[_0x58c4b5(0x7f)](_0x4d99a4=>_0x4d99a4[_0x58c4b5(0xa0)])[_0x58c4b5(0x91)]('\x0a');transLogic(_0xfcd3f);}catch(_0x2c3419){inputText[_0x58c4b5(0x8b)]=_0x2c3419[_0x58c4b5(0x83)];}finally{isFunctionARunning=![];}}async function translateText(_0x23e790,_0x51b87a,_0x563a55){const _0x147d41=a0_0xbc6f42,_0x4a91a9=_0x23e790[_0x147d41(0x88)](/[\r\n]+/g,',\x20')[_0x147d41(0x88)](/([!?.,])\s*,\s*/g,_0x147d41(0xb1))[_0x147d41(0x88)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x147d41(0x7b)]();var _0x2192f1=_0x147d41(0xc4)+_0x51b87a+_0x147d41(0xb0)+_0x563a55+_0x147d41(0x85)+encodeURIComponent(_0x4a91a9);try{const _0x579d07=await fetch(_0x2192f1);if(!_0x579d07['ok']){if(_0x579d07[_0x147d41(0x94)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x155c43=await _0x579d07[_0x147d41(0x77)](),_0x2a5daa=new Error(_0x155c43[_0x147d41(0x7c)]['message']);_0x2a5daa['code']=_0x155c43[_0x147d41(0x7c)][_0x147d41(0xaa)];throw _0x2a5daa;}}const _0x51bad7=await _0x579d07[_0x147d41(0x77)]();if(Array[_0x147d41(0x95)](_0x51bad7)&&_0x51bad7[_0x147d41(0xa1)]>0x0&&Array[_0x147d41(0x95)](_0x51bad7[0x0])){var _0x2a4721=_0x51bad7[0x0][_0x147d41(0x7f)](_0x1909f8=>_0x1909f8[0x0])[_0x147d41(0x91)]('\x20');return document[_0x147d41(0xc1)](_0x147d41(0x84))[_0x147d41(0x8b)]='',inputText['textContent']='.._\x20'+_0x2a4721[_0x147d41(0x88)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x2a4721[_0x147d41(0x88)](/ {2,}/g,'\x20');}else return document[_0x147d41(0xc1)](_0x147d41(0x84))[_0x147d41(0x8b)]='',inputText[_0x147d41(0x8b)]=_0x147d41(0xc0)+_0x51bad7,_0x51bad7;}catch(_0x4a9687){inputText[_0x147d41(0x8b)]=_0x4a9687['message'];throw _0x4a9687;}}async function autoScroll(){const _0x13f2c9=a0_0xbc6f42;var _0x4bc2a0=inputText[_0x13f2c9(0xb3)]-inputText[_0x13f2c9(0x7e)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x4bc2a0||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x13f2c9(0xc9)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0xcc654b){const _0xdf222e=a0_0xbc6f42;var _0x5b0d1a=_0xdf222e(0x9f)+encodeURIComponent(_0xcc654b);try{const _0x30b8b3=await fetch(_0x5b0d1a),_0x54c15d=await _0x30b8b3[_0xdf222e(0x77)]();var _0x415abe=_0x54c15d[0x8][0x0][0x0];return _0x415abe;}catch(_0x201d0d){console[_0xdf222e(0x7c)](_0xdf222e(0x75),_0x201d0d);throw _0x201d0d;}}async function transLogic(_0x3e15f8){const _0x549195='en';if(_0x549195===null){const _0x5051b6=await detectLanguage(_0x3e15f8),_0x1d2e13=await translateText(_0x3e15f8,_0x5051b6,'en');return translateText(_0x1d2e13,'en','vi');}else{if(_0x549195==='en')return translateText(_0x3e15f8,'en','vi');else{const _0x37d2ca=await translateText(_0x3e15f8,_0x549195,'en');return translateText(_0x37d2ca,'en','vi');}}}function dataURItoBlob(_0x206249){const _0x4bc29e=a0_0xbc6f42,_0xb8a735=atob(_0x206249),_0x21c012=new ArrayBuffer(_0xb8a735[_0x4bc29e(0xa1)]),_0x2a6c1a=new Uint8Array(_0x21c012);for(let _0x29ec1d=0x0;_0x29ec1d<_0xb8a735[_0x4bc29e(0xa1)];_0x29ec1d++){_0x2a6c1a[_0x29ec1d]=_0xb8a735[_0x4bc29e(0xc7)](_0x29ec1d);}return new Blob([_0x21c012],{'type':_0x4bc29e(0x74)});}document[a0_0xbc6f42(0xbe)](a0_0xbc6f42(0xb6),function(){const _0x55f749=a0_0xbc6f42;ID[_0x55f749(0xa5)](function(_0x5237bf){const _0x1af9e3=_0x55f749,_0x1e7478=document['getElementById'](_0x5237bf);_0x1e7478&&_0x1e7478['addEventListener'](_0x1af9e3(0x86),function(){const _0x3f6e7c=_0x1af9e3;!isFunctionARunning&&turbo[_0x3f6e7c(0xb2)][_0x3f6e7c(0x92)]('turbo-ocr');});}),['touchend'][_0x55f749(0xa5)](_0x21f54e=>{const _0x52fd48=_0x55f749;turbo[_0x52fd48(0xbe)](_0x21f54e,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x52fd48(0xbe)](_0x21f54e,()=>{const _0x4c9470=_0x52fd48;areaTrans[_0x4c9470(0xb2)]['toggle']('visible');});});});