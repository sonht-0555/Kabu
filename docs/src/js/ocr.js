const a0_0x2f92ee=a0_0x2d5a;function a0_0x2d5a(_0x451d80,_0x15e4e5){const _0x168486=a0_0x1684();return a0_0x2d5a=function(_0x2d5ae9,_0x3cb0d4){_0x2d5ae9=_0x2d5ae9-0x78;let _0x2b5cf0=_0x168486[_0x2d5ae9];return _0x2b5cf0;},a0_0x2d5a(_0x451d80,_0x15e4e5);}(function(_0xf757a5,_0x57616f){const _0x5ab46e=a0_0x2d5a,_0x55b807=_0xf757a5();while(!![]){try{const _0x33f7be=parseInt(_0x5ab46e(0xbb))/0x1+-parseInt(_0x5ab46e(0xca))/0x2*(-parseInt(_0x5ab46e(0x9e))/0x3)+parseInt(_0x5ab46e(0x7b))/0x4+-parseInt(_0x5ab46e(0xcb))/0x5+parseInt(_0x5ab46e(0x7a))/0x6+parseInt(_0x5ab46e(0x94))/0x7*(parseInt(_0x5ab46e(0x79))/0x8)+-parseInt(_0x5ab46e(0xcf))/0x9*(parseInt(_0x5ab46e(0x85))/0xa);if(_0x33f7be===_0x57616f)break;else _0x55b807['push'](_0x55b807['shift']());}catch(_0x30db4f){_0x55b807['push'](_0x55b807['shift']());}}}(a0_0x1684,0xac16c));import*as a0_0x17481f from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x1684(){const _0x4a9b8f=['visible','image','user','XMLHttpRequest','width','endsWith','random','758231OfbwtY','lines',']\x20Times\x20Azure','error','json','lastSavedDate','logoOcr','notiMessage','readAsDataURL','warn','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','userAgent','backgroundPositionX','ApiAzure','length','1142266xQqvdv','2126625vApsTF','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','toISOString','application/octet-stream','13204278qyIBQC','isArray','toggle','POST','getContext','CORS-Anywhere\x20chưa\x20được\x20kích\x20hoạt.\x20Mở\x20/corsdemo...','onerror','&dt=t&q=','16gsVQSd','1055778qesajC','1872104iidoBs','inputText','_setArea','getItem','getElementById','setItem','scrollLeft','blocks','turbo-ocr','type','10BEclvK','src','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','touchend','image/png','href','touchstart','https://cors-anywhere.herokuapp.com/corsdemo','toDataURL','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','classList','floor','500\x20Internal\x20Server\x20Error','message','&tl=','2183965ahDonD','round','$1\x20','location','replace','trim','scrollWidth','.gbc','canvas','split','3JbpJcE','getMonth','result','input-container','DOMContentLoaded','join','clientWidth','append','getFullYear','origin','innerWidth','onload','charCodeAt','Waiting..','map','createElement','screenSize','textContent','addEventListener','turbo','height','status'];a0_0x1684=function(){return _0x4a9b8f;};return a0_0x1684();}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x2f92ee(0x7f)]('inputText'),input=document['getElementById'](a0_0x2f92ee(0xa1)),turbo=document['getElementById'](a0_0x2f92ee(0xb1)),ID=['A','B','R','L'];async function getImage(){const _0x13fd7d=a0_0x2f92ee;turbo[_0x13fd7d(0x8f)]['add'](_0x13fd7d(0x83));try{const _0x25e51a=gameName[_0x13fd7d(0x98)](/\.(gba|gbc|gb|zip)$/,'.png'),_0x47adc6=await a0_0x17481f['captureOCR'](_0x25e51a),_0x59aa7f=new Blob([_0x47adc6],{'type':_0x13fd7d(0x89)}),_0x557309=await new Promise((_0x49e5e0,_0x438791)=>{const _0x2b4b36=_0x13fd7d,_0x1dd182=new FileReader();_0x1dd182['onloadend']=()=>_0x49e5e0(_0x1dd182[_0x2b4b36(0xa0)]),_0x1dd182[_0x2b4b36(0xd5)]=_0x438791,_0x1dd182[_0x2b4b36(0xc3)](_0x59aa7f);}),_0x27fc3e=new Image();_0x27fc3e[_0x13fd7d(0x86)]=_0x557309,_0x27fc3e[_0x13fd7d(0xa9)]=()=>{const _0xdc750e=_0x13fd7d,_0x42d027=document[_0xdc750e(0xad)](_0xdc750e(0x9c)),_0x46c474=_0x42d027[_0xdc750e(0xd3)]('2d'),_0x4149b7=0x4;let _0x25d62;gameName[_0xdc750e(0xb9)](_0xdc750e(0x9b))||gameName[_0xdc750e(0xb9)]('.gb')?_0x25d62=Math[_0xdc750e(0x95)](0xa0/(window[_0xdc750e(0xa8)]-0xe6)):_0x25d62=Math[_0xdc750e(0x95)](0xf0/(window[_0xdc750e(0xa8)]-0x96));const _0x186dcc=localStorage[_0xdc750e(0x7e)](gameName+_0xdc750e(0x7d))||localStorage[_0xdc750e(0x7e)](_0xdc750e(0xae)),[_0x45d31e,_0x47bdd9,_0x1761e9,_0x3335ba]=_0x186dcc[_0xdc750e(0x9d)](',')['map'](Number);_0x42d027[_0xdc750e(0xb8)]=_0x1761e9*_0x25d62*_0x4149b7,_0x42d027[_0xdc750e(0xb2)]=_0x3335ba*_0x25d62*_0x4149b7,_0x46c474['drawImage'](_0x27fc3e,_0x45d31e*_0x25d62,_0x47bdd9*_0x25d62,_0x1761e9*_0x25d62,_0x3335ba*_0x25d62,0x0,0x0,_0x1761e9*_0x25d62*_0x4149b7,_0x3335ba*_0x25d62*_0x4149b7);const _0x2c17bf=_0x42d027[_0xdc750e(0x8d)](_0xdc750e(0x89))['split'](',')[0x1],_0x2c30de=localStorage['getItem'](_0xdc750e(0xc8));_0x2c30de?azureServer(_0x2c17bf):freeServer(_0x2c17bf);};}catch(_0x5280ae){inputText[_0x13fd7d(0xaf)]=_0x5280ae['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xd04a01=_0x13fd7d;document[_0xd04a01(0x7f)](_0xd04a01(0x7c))[_0xd04a01(0xaf)]='...';},0x7530);}async function freeServer(_0x245a0b){const _0x5a9683=a0_0x2f92ee;let _0x3b7ef7=0x0;const _0x16a9f1=setInterval(()=>{const _0x131ab1=a0_0x2d5a;_0x3b7ef7+=0x1,_0x3b7ef7<=0x64&&(inputText['textContent']=_0x131ab1(0xab)+_0x3b7ef7+'%');},0x64);try{const _0x163644=dataURItoBlob(_0x245a0b),_0x2a96bd=new FormData();_0x2a96bd['append'](_0x5a9683(0xb5),_0x163644,'image.png'),_0x2a96bd[_0x5a9683(0xa5)](_0x5a9683(0xb6),_0x5a9683(0x8e));let _0x124b5a;try{_0x124b5a=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x5a9683(0xd2),'body':_0x2a96bd,'headers':{'Origin':window[_0x5a9683(0x97)][_0x5a9683(0xa7)],'X-Requested-With':_0x5a9683(0xb7),'User-Agent':navigator[_0x5a9683(0xc6)]}});if(!_0x124b5a['ok'])throw new Error('HTTP\x20Error:\x20'+_0x124b5a[_0x5a9683(0xb3)]);}catch(_0x2de2d2){console[_0x5a9683(0xc4)](_0x5a9683(0xd4)),window['location'][_0x5a9683(0x8a)]=_0x5a9683(0x8c);return;}const _0x2f306a=await _0x124b5a[_0x5a9683(0xbf)]();if(_0x2f306a[_0x5a9683(0x84)]===_0x5a9683(0xbe))throw new Error(_0x2f306a[_0x5a9683(0xbe)][_0x5a9683(0x92)]);transLogic(_0x2f306a['text']);}catch(_0x429be0){inputText[_0x5a9683(0xaf)]=_0x429be0[_0x5a9683(0x92)];}finally{clearInterval(_0x16a9f1),isFunctionARunning=![];}}async function azureServer(_0x2ceb53){const _0x3f7421=a0_0x2f92ee;inputText[_0x3f7421(0xaf)]='...';const _0x13b091=localStorage[_0x3f7421(0x7e)](_0x3f7421(0xc8));let [_0xdf4177,_0x2c2cd2,_0x565a6a]=_0x13b091['split'](',');_0x565a6a=parseInt(_0x565a6a);const _0x4d5c3d=new Date(),_0x2392ce=_0x4d5c3d['getMonth'](),_0xd1b518=_0x4d5c3d[_0x3f7421(0xa6)](),_0x429e72=localStorage[_0x3f7421(0x7e)](_0x3f7421(0xc0)),_0x5e8891=_0x429e72?new Date(_0x429e72):null;_0x5e8891&&(_0x2392ce!==_0x5e8891[_0x3f7421(0x9f)]()||_0xd1b518!==_0x5e8891[_0x3f7421(0xa6)]())&&(_0x565a6a=0x0,localStorage[_0x3f7421(0x80)]('lastSavedDate',_0x4d5c3d['toISOString']()));if(_0x565a6a>=0x1356){inputText[_0x3f7421(0xaf)]='Used\x20more\x20than\x204950\x20times.\x20Continue\x20using\x20next\x20month.';return;}try{const _0x5e196e=await fetch(_0x2c2cd2+_0x3f7421(0x87),{'method':_0x3f7421(0xd2),'headers':{'Ocp-Apim-Subscription-Key':_0xdf4177,'Content-Type':_0x3f7421(0xce)},'body':dataURItoBlob(_0x2ceb53)}),_0x488bc8=await _0x5e196e[_0x3f7421(0xbf)]();if(!_0x5e196e['ok']||_0x488bc8[_0x3f7421(0x84)]===_0x3f7421(0xbe)){const _0x15d734=_0x5e196e['ok']?_0x488bc8[_0x3f7421(0xbe)][_0x3f7421(0x92)]:_0x5e196e[_0x3f7421(0xb3)]===0x1f4?_0x3f7421(0x91):(await _0x5e196e[_0x3f7421(0xbf)]())[_0x3f7421(0xbe)]['message'];throw new Error(_0x15d734);}const _0x385af5=_0x488bc8['readResult'][_0x3f7421(0x82)][0x0],_0x328860=_0x385af5[_0x3f7421(0xbc)]||[],_0x50d012=_0x328860['map'](_0x526f2f=>_0x526f2f['text'])[_0x3f7421(0xa3)]('\x0a');transLogic(_0x50d012);}catch(_0x2144ae){inputText[_0x3f7421(0xaf)]=_0x2144ae[_0x3f7421(0x92)];const _0x2f843a=++_0x565a6a;a0_0x17481f[_0x3f7421(0xc2)]('['+_0x2f843a+']\x20Times\x20Azure',0x7d0),localStorage[_0x3f7421(0x80)](_0x3f7421(0xc8),_0xdf4177+','+_0x2c2cd2+','+_0x2f843a),localStorage[_0x3f7421(0x80)](_0x3f7421(0xc0),_0x4d5c3d[_0x3f7421(0xcd)]());}finally{const _0x5bfae5=++_0x565a6a;a0_0x17481f['notiMessage']('['+_0x5bfae5+_0x3f7421(0xbd),0x7d0),isFunctionARunning=![],localStorage[_0x3f7421(0x80)]('ApiAzure',_0xdf4177+','+_0x2c2cd2+','+_0x5bfae5),localStorage[_0x3f7421(0x80)]('lastSavedDate',_0x4d5c3d[_0x3f7421(0xcd)]());}}async function translateText(_0x4cb442,_0x7092c,_0x18d1b9){const _0x512330=a0_0x2f92ee,_0x1d835a=_0x4cb442['replace'](/[\r\n]+/g,',\x20')[_0x512330(0x98)](/([!?.,])\s*,\s*/g,_0x512330(0x96))[_0x512330(0x98)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x512330(0x98)](/ {2,}/g,'\x20')[_0x512330(0x99)]();var _0x5738f1=_0x512330(0xc5)+_0x7092c+_0x512330(0x93)+_0x18d1b9+_0x512330(0x78)+encodeURIComponent(_0x1d835a);try{const _0x16bdab=await fetch(_0x5738f1);if(!_0x16bdab['ok']){if(_0x16bdab[_0x512330(0xb3)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0xde8eb=await _0x16bdab[_0x512330(0xbf)](),_0x462883=new Error(_0xde8eb[_0x512330(0xbe)]['message']);_0x462883['code']=_0xde8eb[_0x512330(0xbe)]['code'];throw _0x462883;}}const _0x569cf2=await _0x16bdab['json']();if(Array[_0x512330(0xd0)](_0x569cf2)&&_0x569cf2[_0x512330(0xc9)]>0x0&&Array[_0x512330(0xd0)](_0x569cf2[0x0])){var _0x1da1cc=_0x569cf2[0x0][_0x512330(0xac)](_0x5e7430=>_0x5e7430[0x0])[_0x512330(0xa3)]('\x20');return inputText[_0x512330(0xaf)]=_0x1da1cc['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x1da1cc[_0x512330(0x98)](/ {2,}/g,'\x20');}else return inputText['textContent']=_0x569cf2,_0x569cf2;}catch(_0x52dbdd){inputText[_0x512330(0xaf)]=_0x52dbdd['message'];throw _0x52dbdd;}}async function autoScroll(){const _0x3a1b9a=a0_0x2f92ee;var _0x2adb44=inputText[_0x3a1b9a(0x9a)]-inputText[_0x3a1b9a(0xa4)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2adb44||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x3a1b9a(0x81)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1b0a54){const _0x451640=a0_0x2f92ee;var _0x223301=_0x451640(0xcc)+encodeURIComponent(_0x1b0a54);try{const _0x294769=await fetch(_0x223301),_0x213bdd=await _0x294769[_0x451640(0xbf)]();var _0x244bf6=_0x213bdd[0x8][0x0][0x0];return _0x244bf6;}catch(_0x1e45d3){console[_0x451640(0xbe)]('Error\x20detecting\x20language:',_0x1e45d3);throw _0x1e45d3;}}async function transLogic(_0x5535d9){const _0x14a075='en';if(_0x14a075===null){const _0x222450=await detectLanguage(_0x5535d9),_0x11b106=await translateText(_0x5535d9,_0x222450,'en');return translateText(_0x11b106,'en','vi');}else{if(_0x14a075==='en')return translateText(_0x5535d9,'en','vi');else{const _0x3831fd=await translateText(_0x5535d9,_0x14a075,'en');return translateText(_0x3831fd,'en','vi');}}}function dataURItoBlob(_0x19fcff){const _0x15955e=a0_0x2f92ee,_0x1e45a5=atob(_0x19fcff),_0x5039a3=new ArrayBuffer(_0x1e45a5[_0x15955e(0xc9)]),_0x564047=new Uint8Array(_0x5039a3);for(let _0x317c94=0x0;_0x317c94<_0x1e45a5[_0x15955e(0xc9)];_0x317c94++){_0x564047[_0x317c94]=_0x1e45a5[_0x15955e(0xaa)](_0x317c94);}return new Blob([_0x5039a3],{'type':_0x15955e(0x89)});}function logoOcr(){const _0x6eba53=a0_0x2f92ee;var _0xe5f628=Math[_0x6eba53(0x90)](Math[_0x6eba53(0xba)]()*0x3)+0x1,_0x37bc3b=-0xf*_0xe5f628+'px';document[_0x6eba53(0x7f)](_0x6eba53(0xc1))['style'][_0x6eba53(0xc7)]=_0x37bc3b;}document['addEventListener'](a0_0x2f92ee(0xa2),function(){const _0xef056=a0_0x2f92ee;ID['forEach'](function(_0x5a2754){const _0x5bd922=a0_0x2d5a,_0x38dad9=document[_0x5bd922(0x7f)](_0x5a2754);_0x38dad9&&_0x38dad9[_0x5bd922(0xb0)](_0x5bd922(0x8b),function(){const _0x17978a=_0x5bd922;!isFunctionARunning&&turbo[_0x17978a(0x8f)]['remove']('turbo-ocr');});}),[_0xef056(0x88)]['forEach'](_0x405024=>{const _0x22a168=_0xef056;turbo['addEventListener'](_0x405024,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage(),logoOcr())),clickTurbo=0x0;},0x12c);}),areaSet[_0x22a168(0xb0)](_0x405024,()=>{const _0x2f8b37=_0x22a168;areaTrans[_0x2f8b37(0x8f)][_0x2f8b37(0xd1)](_0x2f8b37(0xb4));});});});