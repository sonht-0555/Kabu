const a0_0x2b4ffa=a0_0x48f0;(function(_0x56fae5,_0x35471){const _0x5e2506=a0_0x48f0,_0x335e20=_0x56fae5();while(!![]){try{const _0x3cd644=parseInt(_0x5e2506(0x82))/0x1*(-parseInt(_0x5e2506(0x7e))/0x2)+parseInt(_0x5e2506(0x99))/0x3+-parseInt(_0x5e2506(0xa8))/0x4*(parseInt(_0x5e2506(0xb4))/0x5)+-parseInt(_0x5e2506(0x78))/0x6*(parseInt(_0x5e2506(0xc3))/0x7)+parseInt(_0x5e2506(0x89))/0x8*(parseInt(_0x5e2506(0x77))/0x9)+-parseInt(_0x5e2506(0xc1))/0xa*(parseInt(_0x5e2506(0xa0))/0xb)+parseInt(_0x5e2506(0x93))/0xc;if(_0x3cd644===_0x35471)break;else _0x335e20['push'](_0x335e20['shift']());}catch(_0x91dc00){_0x335e20['push'](_0x335e20['shift']());}}}(a0_0x2e53,0x4ecd3));import*as a0_0x1765e6 from'./main.js';function a0_0x48f0(_0x11c79a,_0x319734){const _0x2e53cd=a0_0x2e53();return a0_0x48f0=function(_0x48f07a,_0x44111c){_0x48f07a=_0x48f07a-0x73;let _0x1e0134=_0x2e53cd[_0x48f07a];return _0x1e0134;},a0_0x48f0(_0x11c79a,_0x319734);}function a0_0x2e53(){const _0x7e25ee=['lines','scrollLeft','map','turbo-ocr','19245UIhtOJ','500\x20Internal\x20Server\x20Error','warn','classList','HTTP\x20Error:\x20','Cors-controlers\x20have\x20not\x20been\x20activated.','image','trim','getContext','createElement','log','canvas','forEach','20wJwUXZ','endsWith','77JvjXMx','toDataURL','error','onload','&tl=','scrollWidth','DOMContentLoaded','.gbc','135ZnqnkI','316956qsPBJh','.gb','noti-mess','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','image/png','readResult','213100wakfrO','height','join','.._\x20','4qSCAMV','remove','status','href','json','split','readAsDataURL','123976gGLgDe','user','code','drawImage','location','replace','screenSize','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','captureOCR','&dt=t&q=','22045524uEBPIE','src','append','onerror','.png','length','871959EMYrQG','addEventListener','touchstart','Internal\x20Server\x20Error','https://cors-anywhere.herokuapp.com/corsdemo','getItem','charCodeAt','2321198LvAway','onloadend','origin','userAgent','toggle','application/octet-stream','POST','width','632hbdXLm','message','clientWidth','touchend','getElementById','inputText','textContent','type'];a0_0x2e53=function(){return _0x7e25ee;};return a0_0x2e53();}var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x2b4ffa(0xac)](a0_0x2b4ffa(0xad)),turbo=document['getElementById']('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x1f6733=a0_0x2b4ffa;turbo[_0x1f6733(0xb7)]['add']('turbo-ocr');try{const _0x2fffa0=gameName['replace'](/\.(gba|gbc|gb|zip)$/,_0x1f6733(0x97)),_0x3bd385=await a0_0x1765e6[_0x1f6733(0x91)](_0x2fffa0),_0x132aec=new Blob([_0x3bd385],{'type':'image/png'}),_0x30612f=await new Promise((_0x34790d,_0x16075b)=>{const _0x2006e2=_0x1f6733,_0x43d8dd=new FileReader();_0x43d8dd[_0x2006e2(0xa1)]=()=>_0x34790d(_0x43d8dd['result']),_0x43d8dd[_0x2006e2(0x96)]=_0x16075b,_0x43d8dd[_0x2006e2(0x88)](_0x132aec);}),_0x4d9f43=new Image();_0x4d9f43[_0x1f6733(0x94)]=_0x30612f,_0x4d9f43[_0x1f6733(0xc6)]=async()=>{const _0x354f5e=_0x1f6733,_0x3ee5ea=document[_0x354f5e(0xbd)](_0x354f5e(0xbf)),_0x5d0f98=_0x3ee5ea[_0x354f5e(0xbc)]('2d'),_0x25ae97=0x4;let _0x3432ae;gameName[_0x354f5e(0xc2)](_0x354f5e(0x76))||gameName[_0x354f5e(0xc2)](_0x354f5e(0x79))?_0x3432ae=0x3/0x6:_0x3432ae=0x3/0x4;const _0x10efbe=localStorage[_0x354f5e(0x9e)](gameName+'_setArea')||localStorage[_0x354f5e(0x9e)](_0x354f5e(0x8f)),[_0x45841d,_0x1e57bd,_0x3d911d,_0x4b1bd9]=_0x10efbe[_0x354f5e(0x87)](',')[_0x354f5e(0xb2)](Number);_0x3ee5ea[_0x354f5e(0xa7)]=_0x3d911d*_0x3432ae*_0x25ae97,_0x3ee5ea[_0x354f5e(0x7f)]=_0x4b1bd9*_0x3432ae*_0x25ae97,_0x5d0f98[_0x354f5e(0x8c)](_0x4d9f43,_0x45841d*_0x3432ae,_0x1e57bd*_0x3432ae,_0x3d911d*_0x3432ae,_0x4b1bd9*_0x3432ae,0x0,0x0,_0x3d911d*_0x3432ae*_0x25ae97,_0x4b1bd9*_0x3432ae*_0x25ae97);const _0x59d564=_0x3ee5ea[_0x354f5e(0xc4)](_0x354f5e(0x7c))[_0x354f5e(0x87)](',')[0x1],_0x42cdaf=localStorage[_0x354f5e(0x9e)]('ApiAzure');console[_0x354f5e(0xbe)](_0x42cdaf),_0x42cdaf?azureServer(_0x59d564):freeServer(_0x59d564);};}catch(_0x466a43){inputText[_0x1f6733(0xae)]=_0x466a43['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x316732=_0x1f6733;document[_0x316732(0xac)](_0x316732(0xad))[_0x316732(0xae)]='',a0_0x1765e6['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x54527d){const _0x3c64a7=a0_0x2b4ffa;document['getElementById']('noti-mess')[_0x3c64a7(0xae)]='';let _0x9befa=0x0;const _0x43ac64=setInterval(()=>{const _0x47457e=_0x3c64a7;_0x9befa+=0x1,_0x9befa<=0x64&&(inputText[_0x47457e(0xae)]=_0x47457e(0x81)+_0x9befa+'%');},0x64);try{const _0x4047b8=dataURItoBlob(_0x54527d),_0x531a41=new FormData();_0x531a41['append'](_0x3c64a7(0xba),_0x4047b8,'image.png'),_0x531a41[_0x3c64a7(0x95)](_0x3c64a7(0x8a),_0x3c64a7(0x7b));let _0x3c6a9c;try{_0x3c6a9c=await fetch(_0x3c64a7(0x90),{'method':'POST','body':_0x531a41,'headers':{'Origin':window['location'][_0x3c64a7(0xa2)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x3c64a7(0xa3)]}});if(!_0x3c6a9c['ok'])throw new Error(_0x3c64a7(0xb8)+_0x3c6a9c[_0x3c64a7(0x84)]);}catch(_0x30a761){console[_0x3c64a7(0xb6)](_0x3c64a7(0xb9)),window[_0x3c64a7(0x8d)][_0x3c64a7(0x85)]=_0x3c64a7(0x9d);return;}const _0x2cfaf2=await _0x3c6a9c[_0x3c64a7(0x86)]();if(_0x2cfaf2[_0x3c64a7(0xaf)]===_0x3c64a7(0xc5))throw new Error(_0x2cfaf2[_0x3c64a7(0xc5)][_0x3c64a7(0xa9)]);transLogic(_0x2cfaf2['text']);}catch(_0x79c856){inputText['textContent']=_0x79c856[_0x3c64a7(0xa9)];}finally{clearInterval(_0x43ac64),isFunctionARunning=![];}}async function azureServer(_0xfd7fb0){const _0x2c9113=a0_0x2b4ffa;document['getElementById']('noti-mess')[_0x2c9113(0xae)]='',inputText['textContent']=_0x2c9113(0x81);const _0x44ba0f=localStorage[_0x2c9113(0x9e)]('ApiAzure');let [_0x558fb1,_0x3a6f61]=_0x44ba0f['split'](',');try{const _0x287fe7=await fetch(_0x3a6f61+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x2c9113(0xa6),'headers':{'Ocp-Apim-Subscription-Key':_0x558fb1,'Content-Type':_0x2c9113(0xa5)},'body':dataURItoBlob(_0xfd7fb0)}),_0x2b6647=await _0x287fe7[_0x2c9113(0x86)]();if(!_0x287fe7['ok']||_0x2b6647['type']==='error'){const _0xba3275=_0x287fe7['ok']?_0x2b6647[_0x2c9113(0xc5)][_0x2c9113(0xa9)]:_0x287fe7['status']===0x1f4?_0x2c9113(0xb5):(await _0x287fe7[_0x2c9113(0x86)]())[_0x2c9113(0xc5)][_0x2c9113(0xa9)];throw new Error(_0xba3275);}const _0x5b3fd4=_0x2b6647[_0x2c9113(0x7d)]['blocks'][0x0],_0x48282a=_0x5b3fd4[_0x2c9113(0xb0)]||[],_0x260bdf=_0x48282a[_0x2c9113(0xb2)](_0x3eeda0=>_0x3eeda0['text'])[_0x2c9113(0x80)]('\x0a');transLogic(_0x260bdf);}catch(_0x153fd2){inputText[_0x2c9113(0xae)]=_0x153fd2[_0x2c9113(0xa9)];}finally{isFunctionARunning=![];}}async function translateText(_0x29b74,_0x504bd6,_0x402e99){const _0x5cd1da=a0_0x2b4ffa,_0x390c94=_0x29b74[_0x5cd1da(0x8e)](/[\r\n]+/g,',\x20')[_0x5cd1da(0x8e)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x5cd1da(0x8e)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x5cd1da(0xbb)]();var _0x5c35b2='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x504bd6+_0x5cd1da(0x73)+_0x402e99+_0x5cd1da(0x92)+encodeURIComponent(_0x390c94);try{const _0x19b82c=await fetch(_0x5c35b2);if(!_0x19b82c['ok']){if(_0x19b82c['status']===0x1f4)throw new Error(_0x5cd1da(0x9c));else{const _0x5ea7a8=await _0x19b82c['json'](),_0x54312a=new Error(_0x5ea7a8['error'][_0x5cd1da(0xa9)]);_0x54312a[_0x5cd1da(0x8b)]=_0x5ea7a8[_0x5cd1da(0xc5)][_0x5cd1da(0x8b)];throw _0x54312a;}}const _0x4d1596=await _0x19b82c[_0x5cd1da(0x86)]();if(Array['isArray'](_0x4d1596)&&_0x4d1596['length']>0x0&&Array['isArray'](_0x4d1596[0x0])){var _0x12f0cb=_0x4d1596[0x0][_0x5cd1da(0xb2)](_0x2456f0=>_0x2456f0[0x0])[_0x5cd1da(0x80)]('\x20');return document['getElementById'](_0x5cd1da(0x7a))[_0x5cd1da(0xae)]='',inputText['textContent']=_0x5cd1da(0x81)+_0x12f0cb[_0x5cd1da(0x8e)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x12f0cb[_0x5cd1da(0x8e)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x5cd1da(0x7a))[_0x5cd1da(0xae)]='',inputText[_0x5cd1da(0xae)]='.._\x20'+_0x4d1596,_0x4d1596;}catch(_0x174652){inputText[_0x5cd1da(0xae)]=_0x174652[_0x5cd1da(0xa9)];throw _0x174652;}}async function autoScroll(){const _0x823d49=a0_0x2b4ffa;var _0x20e606=inputText[_0x823d49(0x74)]-inputText[_0x823d49(0xaa)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x20e606||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x823d49(0xb1)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1a8f85){const _0x1bb39a=a0_0x2b4ffa;var _0x372dd1='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x1a8f85);try{const _0x35762b=await fetch(_0x372dd1),_0x13932b=await _0x35762b[_0x1bb39a(0x86)]();var _0x210557=_0x13932b[0x8][0x0][0x0];return _0x210557;}catch(_0xafbe4){console[_0x1bb39a(0xc5)]('Error\x20detecting\x20language:',_0xafbe4);throw _0xafbe4;}}async function transLogic(_0xfbc399){const _0x36f65b='en';if(_0x36f65b===null){const _0x63eca5=await detectLanguage(_0xfbc399),_0x6ae880=await translateText(_0xfbc399,_0x63eca5,'en');return translateText(_0x6ae880,'en','vi');}else{if(_0x36f65b==='en')return translateText(_0xfbc399,'en','vi');else{const _0x1185f2=await translateText(_0xfbc399,_0x36f65b,'en');return translateText(_0x1185f2,'en','vi');}}}function dataURItoBlob(_0x55f62a){const _0x4d5232=a0_0x2b4ffa,_0x5784c9=atob(_0x55f62a),_0xdb3f8d=new ArrayBuffer(_0x5784c9[_0x4d5232(0x98)]),_0xe08c53=new Uint8Array(_0xdb3f8d);for(let _0x1b032d=0x0;_0x1b032d<_0x5784c9['length'];_0x1b032d++){_0xe08c53[_0x1b032d]=_0x5784c9[_0x4d5232(0x9f)](_0x1b032d);}return new Blob([_0xdb3f8d],{'type':_0x4d5232(0x7c)});}document[a0_0x2b4ffa(0x9a)](a0_0x2b4ffa(0x75),function(){const _0x341672=a0_0x2b4ffa;ID[_0x341672(0xc0)](function(_0x33793d){const _0x282648=_0x341672,_0x49880e=document[_0x282648(0xac)](_0x33793d);_0x49880e&&_0x49880e[_0x282648(0x9a)](_0x282648(0x9b),function(){const _0x1cfd19=_0x282648;!isFunctionARunning&&turbo[_0x1cfd19(0xb7)][_0x1cfd19(0x83)](_0x1cfd19(0xb3));});}),[_0x341672(0xab)]['forEach'](_0x42b922=>{const _0x4cb9fa=_0x341672;turbo[_0x4cb9fa(0x9a)](_0x42b922,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x42b922,()=>{const _0x2f5793=_0x4cb9fa;areaTrans[_0x2f5793(0xb7)][_0x2f5793(0xa4)]('visible');});});});