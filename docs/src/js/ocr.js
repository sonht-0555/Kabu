function a0_0x4871(_0x3a86fa,_0x1b144a){const _0x47b41b=a0_0x47b4();return a0_0x4871=function(_0x48710e,_0x4edd84){_0x48710e=_0x48710e-0x1ad;let _0x371918=_0x47b41b[_0x48710e];return _0x371918;},a0_0x4871(_0x3a86fa,_0x1b144a);}const a0_0x2d7d09=a0_0x4871;(function(_0x51e8ab,_0x381d9c){const _0x947ccc=a0_0x4871,_0x1bf0e1=_0x51e8ab();while(!![]){try{const _0x55c93e=parseInt(_0x947ccc(0x1b8))/0x1*(-parseInt(_0x947ccc(0x1d5))/0x2)+-parseInt(_0x947ccc(0x1d6))/0x3*(-parseInt(_0x947ccc(0x1bc))/0x4)+-parseInt(_0x947ccc(0x1ef))/0x5*(parseInt(_0x947ccc(0x1bd))/0x6)+parseInt(_0x947ccc(0x1e4))/0x7+-parseInt(_0x947ccc(0x1bb))/0x8+-parseInt(_0x947ccc(0x1b0))/0x9+parseInt(_0x947ccc(0x1f7))/0xa*(parseInt(_0x947ccc(0x1e7))/0xb);if(_0x55c93e===_0x381d9c)break;else _0x1bf0e1['push'](_0x1bf0e1['shift']());}catch(_0x2ab3e2){_0x1bf0e1['push'](_0x1bf0e1['shift']());}}}(a0_0x47b4,0x5ff74));function a0_0x47b4(){const _0x544d09=['blocks','223355FhkPWm','getElementById','add','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','onloadend','.gbc','error','text','4105WAnDqv','classList','XMLHttpRequest','user','&tl=','charCodeAt','type','addEventListener','1050wNtWHZ','inputText','onload','Cors-controlers\x20have\x20not\x20been\x20activated.','screenSize','length','visible','Error\x20detecting\x20language:','2227986aQupnW','scrollWidth','clientWidth','width','Internal\x20Server\x20Error','location','touchstart','ApiAzure','99439cVJLsJ','height','POST','5574576CGGRQr','277316MPBOMA','4962kNIsYi','map','drawImage','noti-mess','href','onerror','scrollLeft','.png','origin','forEach','captureOCR','_setArea','toggle','status','createElement','&dt=t&q=','readResult','code','$1\x20','remove','replace','join','split','textContent','14YyuKet','6UcgnWz','lines','.._\x20','getContext','isArray','message','endsWith','image/png','append','result','warn','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','json','3092663QudAVw','getItem'];a0_0x47b4=function(){return _0x544d09;};return a0_0x47b4();}import*as a0_0x595726 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x2d7d09(0x1f8)),turbo=document[a0_0x2d7d09(0x1e8)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x73810c=a0_0x2d7d09;turbo[_0x73810c(0x1f0)][_0x73810c(0x1e9)]('turbo-ocr');try{const _0x2cb2fd=gameName[_0x73810c(0x1d1)](/\.(gba|gbc|gb|zip)$/,_0x73810c(0x1c4)),_0x21eb46=await a0_0x595726[_0x73810c(0x1c7)](_0x2cb2fd),_0x44accc=new Blob([_0x21eb46],{'type':_0x73810c(0x1dd)}),_0x4779cc=await new Promise((_0x4d998d,_0x37bfa7)=>{const _0x2ff8f2=_0x73810c,_0x3bc35c=new FileReader();_0x3bc35c[_0x2ff8f2(0x1eb)]=()=>_0x4d998d(_0x3bc35c[_0x2ff8f2(0x1df)]),_0x3bc35c[_0x2ff8f2(0x1c2)]=_0x37bfa7,_0x3bc35c['readAsDataURL'](_0x44accc);}),_0x5d9c89=new Image();_0x5d9c89['src']=_0x4779cc,_0x5d9c89[_0x73810c(0x1f9)]=async()=>{const _0xaa30a3=_0x73810c,_0x170a9f=document[_0xaa30a3(0x1cb)]('canvas'),_0x27c625=_0x170a9f[_0xaa30a3(0x1d9)]('2d'),_0x18a6fd=0x4;let _0x2abfa6;gameName['endsWith'](_0xaa30a3(0x1ec))||gameName[_0xaa30a3(0x1dc)]('.gb')?_0x2abfa6=0x3/0x6:_0x2abfa6=0x3/0x4;const _0x3e9af4=localStorage[_0xaa30a3(0x1e5)](gameName+_0xaa30a3(0x1c8))||localStorage[_0xaa30a3(0x1e5)](_0xaa30a3(0x1fb)),[_0x569547,_0x5827cb,_0x9062f0,_0x93c97c]=_0x3e9af4[_0xaa30a3(0x1d3)](',')[_0xaa30a3(0x1be)](Number);_0x170a9f[_0xaa30a3(0x1b3)]=_0x9062f0*_0x2abfa6*_0x18a6fd,_0x170a9f[_0xaa30a3(0x1b9)]=_0x93c97c*_0x2abfa6*_0x18a6fd,_0x27c625[_0xaa30a3(0x1bf)](_0x5d9c89,_0x569547*_0x2abfa6,_0x5827cb*_0x2abfa6,_0x9062f0*_0x2abfa6,_0x93c97c*_0x2abfa6,0x0,0x0,_0x9062f0*_0x2abfa6*_0x18a6fd,_0x93c97c*_0x2abfa6*_0x18a6fd);const _0xb9d1c9=_0x170a9f['toDataURL']('image/png')[_0xaa30a3(0x1d3)](',')[0x1],_0x3e87f6=localStorage['getItem'](_0xaa30a3(0x1b7));console['log'](_0x3e87f6),_0x3e87f6?azureServer(_0xb9d1c9):freeServer(_0xb9d1c9);};}catch(_0x48a49a){inputText[_0x73810c(0x1d4)]=_0x48a49a['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x1421b3=_0x73810c;document[_0x1421b3(0x1e8)](_0x1421b3(0x1f8))[_0x1421b3(0x1d4)]='',a0_0x595726['notiMessage']('',0x0);},0x7530);}async function freeServer(_0xfb1159){const _0x217642=a0_0x2d7d09;document[_0x217642(0x1e8)](_0x217642(0x1c0))[_0x217642(0x1d4)]='';let _0x2f4394=0x0;const _0x1c4815=setInterval(()=>{const _0x38a03d=_0x217642;_0x2f4394+=0x1,_0x2f4394<=0x64&&(inputText['textContent']=_0x38a03d(0x1d8)+_0x2f4394+'%');},0x64);try{const _0x2977ac=dataURItoBlob(_0xfb1159),_0x26a913=new FormData();_0x26a913['append']('image',_0x2977ac,'image.png'),_0x26a913[_0x217642(0x1de)](_0x217642(0x1f2),_0x217642(0x1e1));let _0x752eae;try{_0x752eae=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x217642(0x1ba),'body':_0x26a913,'headers':{'Origin':window[_0x217642(0x1b5)][_0x217642(0x1c5)],'X-Requested-With':_0x217642(0x1f1),'User-Agent':navigator['userAgent']}});if(!_0x752eae['ok'])throw new Error('HTTP\x20Error:\x20'+_0x752eae[_0x217642(0x1ca)]);}catch(_0x472fd7){console[_0x217642(0x1e0)](_0x217642(0x1fa)),window[_0x217642(0x1b5)][_0x217642(0x1c1)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x160241=await _0x752eae[_0x217642(0x1e3)]();if(_0x160241[_0x217642(0x1f5)]===_0x217642(0x1ed))throw new Error(_0x160241[_0x217642(0x1ed)][_0x217642(0x1db)]);transLogic(_0x160241[_0x217642(0x1ee)]);}catch(_0x4454e3){inputText[_0x217642(0x1d4)]=_0x4454e3[_0x217642(0x1db)];}finally{clearInterval(_0x1c4815),isFunctionARunning=![];}}async function azureServer(_0x19bd82){const _0x14575=a0_0x2d7d09;document[_0x14575(0x1e8)](_0x14575(0x1c0))['textContent']='',inputText[_0x14575(0x1d4)]='.._\x20';const _0x51d19f=localStorage[_0x14575(0x1e5)](_0x14575(0x1b7));let [_0x263d6d,_0x4f73e7]=_0x51d19f[_0x14575(0x1d3)](',');try{const _0x4f5933=await fetch(_0x4f73e7+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x14575(0x1ba),'headers':{'Ocp-Apim-Subscription-Key':_0x263d6d,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x19bd82)}),_0x490662=await _0x4f5933[_0x14575(0x1e3)]();if(!_0x4f5933['ok']||_0x490662[_0x14575(0x1f5)]===_0x14575(0x1ed)){const _0xb41156=_0x4f5933['ok']?_0x490662[_0x14575(0x1ed)]['message']:_0x4f5933[_0x14575(0x1ca)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x4f5933['json']())['error'][_0x14575(0x1db)];throw new Error(_0xb41156);}const _0x5d3235=_0x490662[_0x14575(0x1cd)][_0x14575(0x1e6)][0x0],_0x24c1eb=_0x5d3235[_0x14575(0x1d7)]||[],_0x4d0993=_0x24c1eb['map'](_0xfeb412=>_0xfeb412[_0x14575(0x1ee)])['join']('\x0a');transLogic(_0x4d0993);}catch(_0x3cd7c1){inputText[_0x14575(0x1d4)]=_0x3cd7c1[_0x14575(0x1db)];}finally{isFunctionARunning=![];}}async function translateText(_0x33b6e2,_0x56de96,_0x5642c4){const _0x2c688b=a0_0x2d7d09,_0x5c00f8=_0x33b6e2[_0x2c688b(0x1d1)](/[\r\n]+/g,',\x20')[_0x2c688b(0x1d1)](/([!?.,])\s*,\s*/g,_0x2c688b(0x1cf))[_0x2c688b(0x1d1)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x2c688b(0x1d1)](/ {2,}/g,'\x20')['trim']();var _0xae8dd1=_0x2c688b(0x1ea)+_0x56de96+_0x2c688b(0x1f3)+_0x5642c4+_0x2c688b(0x1cc)+encodeURIComponent(_0x5c00f8);try{const _0x4bbab4=await fetch(_0xae8dd1);if(!_0x4bbab4['ok']){if(_0x4bbab4[_0x2c688b(0x1ca)]===0x1f4)throw new Error(_0x2c688b(0x1b4));else{const _0x361918=await _0x4bbab4[_0x2c688b(0x1e3)](),_0x14cf3e=new Error(_0x361918['error']['message']);_0x14cf3e['code']=_0x361918['error'][_0x2c688b(0x1ce)];throw _0x14cf3e;}}const _0x1ab3eb=await _0x4bbab4[_0x2c688b(0x1e3)]();if(Array[_0x2c688b(0x1da)](_0x1ab3eb)&&_0x1ab3eb[_0x2c688b(0x1ad)]>0x0&&Array[_0x2c688b(0x1da)](_0x1ab3eb[0x0])){var _0x400e67=_0x1ab3eb[0x0][_0x2c688b(0x1be)](_0x1a0793=>_0x1a0793[0x0])[_0x2c688b(0x1d2)]('\x20');return document[_0x2c688b(0x1e8)](_0x2c688b(0x1c0))[_0x2c688b(0x1d4)]='',inputText['textContent']=_0x2c688b(0x1d8)+_0x400e67['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x400e67[_0x2c688b(0x1d1)](/ {2,}/g,'\x20');}else return document[_0x2c688b(0x1e8)](_0x2c688b(0x1c0))[_0x2c688b(0x1d4)]='',inputText[_0x2c688b(0x1d4)]=_0x2c688b(0x1d8)+_0x1ab3eb,_0x1ab3eb;}catch(_0x4c7a10){inputText[_0x2c688b(0x1d4)]=_0x4c7a10[_0x2c688b(0x1db)];throw _0x4c7a10;}}async function autoScroll(){const _0x449a36=a0_0x2d7d09;var _0x1f7b28=inputText[_0x449a36(0x1b1)]-inputText[_0x449a36(0x1b2)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1f7b28||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x449a36(0x1c3)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3254f2){const _0x4a24b5=a0_0x2d7d09;var _0x7df291=_0x4a24b5(0x1e2)+encodeURIComponent(_0x3254f2);try{const _0x58d4d7=await fetch(_0x7df291),_0x25a929=await _0x58d4d7['json']();var _0x8602a=_0x25a929[0x8][0x0][0x0];return _0x8602a;}catch(_0x1db8c2){console[_0x4a24b5(0x1ed)](_0x4a24b5(0x1af),_0x1db8c2);throw _0x1db8c2;}}async function transLogic(_0x10fd04){const _0x2d2227='en';if(_0x2d2227===null){const _0xd01daa=await detectLanguage(_0x10fd04),_0x226fff=await translateText(_0x10fd04,_0xd01daa,'en');return translateText(_0x226fff,'en','vi');}else{if(_0x2d2227==='en')return translateText(_0x10fd04,'en','vi');else{const _0x4672fa=await translateText(_0x10fd04,_0x2d2227,'en');return translateText(_0x4672fa,'en','vi');}}}function dataURItoBlob(_0x4defd4){const _0x21e291=a0_0x2d7d09,_0x2cd734=atob(_0x4defd4),_0x1b67d7=new ArrayBuffer(_0x2cd734[_0x21e291(0x1ad)]),_0x86f3b=new Uint8Array(_0x1b67d7);for(let _0x481c73=0x0;_0x481c73<_0x2cd734[_0x21e291(0x1ad)];_0x481c73++){_0x86f3b[_0x481c73]=_0x2cd734[_0x21e291(0x1f4)](_0x481c73);}return new Blob([_0x1b67d7],{'type':'image/png'});}document['addEventListener']('DOMContentLoaded',function(){const _0x568d8b=a0_0x2d7d09;ID[_0x568d8b(0x1c6)](function(_0x2bab34){const _0x50d84b=_0x568d8b,_0xb4c79f=document[_0x50d84b(0x1e8)](_0x2bab34);_0xb4c79f&&_0xb4c79f[_0x50d84b(0x1f6)](_0x50d84b(0x1b6),function(){const _0x1bc0ba=_0x50d84b;!isFunctionARunning&&turbo['classList'][_0x1bc0ba(0x1d0)]('turbo-ocr');});}),['touchend'][_0x568d8b(0x1c6)](_0x453a2e=>{const _0x1d0d3c=_0x568d8b;turbo[_0x1d0d3c(0x1f6)](_0x453a2e,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x1d0d3c(0x1f6)](_0x453a2e,()=>{const _0x4efcaa=_0x1d0d3c;areaTrans['classList'][_0x4efcaa(0x1c9)](_0x4efcaa(0x1ae));});});});