const a0_0x3bc1ea=a0_0x232d;(function(_0x11f740,_0xff341){const _0x1acb05=a0_0x232d,_0x3cf6c4=_0x11f740();while(!![]){try{const _0x143a66=-parseInt(_0x1acb05(0x22e))/0x1*(parseInt(_0x1acb05(0x1ee))/0x2)+parseInt(_0x1acb05(0x21c))/0x3*(-parseInt(_0x1acb05(0x206))/0x4)+parseInt(_0x1acb05(0x232))/0x5*(-parseInt(_0x1acb05(0x205))/0x6)+-parseInt(_0x1acb05(0x225))/0x7*(-parseInt(_0x1acb05(0x220))/0x8)+-parseInt(_0x1acb05(0x1f1))/0x9+-parseInt(_0x1acb05(0x20e))/0xa+parseInt(_0x1acb05(0x21d))/0xb;if(_0x143a66===_0xff341)break;else _0x3cf6c4['push'](_0x3cf6c4['shift']());}catch(_0xc48409){_0x3cf6c4['push'](_0x3cf6c4['shift']());}}}(a0_0x2e27,0x28af6));import*as a0_0x162d8c from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x2e27(){const _0x40f8af=['remove','.gb','error','canvas','.._\x20','97KZPIgD','&dt=t&q=','classList','result','76985vghOgx','log','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','forEach','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','json','image/png','user','.png','addEventListener','src','blocks','userAgent','warn','6284Ajgvzd','HTTP\x20Error:\x20','createElement','2701377OTTgqD','.gbc','toDataURL','&tl=','type','trim','https://cors-anywhere.herokuapp.com/corsdemo','onerror','onload','join','DOMContentLoaded','add','status','touchstart','_setArea','getItem','charCodeAt','length','href','replace','42pKKoVF','4724faGKid','readAsDataURL','message','inputText','scrollLeft','noti-mess','captureOCR','touchend','28090UWfZuW','code','readResult','map','screenSize','getContext','split','$1\x20','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','scrollWidth','POST','textContent','image.png','endsWith','165eszWCq','6966696ZZhfaG','500\x20Internal\x20Server\x20Error','getElementById','928DgOCVK','append','Internal\x20Server\x20Error','onloadend','ApiAzure','18935uixfKZ','location','text','XMLHttpRequest'];a0_0x2e27=function(){return _0x40f8af;};return a0_0x2e27();}const inputText=document[a0_0x3bc1ea(0x21f)]('inputText'),turbo=document[a0_0x3bc1ea(0x21f)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x3b2896=a0_0x3bc1ea;turbo[_0x3b2896(0x230)][_0x3b2896(0x1fc)]('turbo-ocr');try{const _0x2b7fc4=gameName[_0x3b2896(0x204)](/\.(gba|gbc|gb|zip)$/,_0x3b2896(0x23a)),_0x4a9f35=await a0_0x162d8c[_0x3b2896(0x20c)](_0x2b7fc4),_0x56e924=new Blob([_0x4a9f35],{'type':'image/png'}),_0x1dc840=await new Promise((_0x25e3eb,_0x2d2a3c)=>{const _0x20721d=_0x3b2896,_0x52db1a=new FileReader();_0x52db1a[_0x20721d(0x223)]=()=>_0x25e3eb(_0x52db1a[_0x20721d(0x231)]),_0x52db1a[_0x20721d(0x1f8)]=_0x2d2a3c,_0x52db1a[_0x20721d(0x207)](_0x56e924);}),_0x19ee3e=new Image();_0x19ee3e[_0x3b2896(0x23c)]=_0x1dc840,_0x19ee3e[_0x3b2896(0x1f9)]=async()=>{const _0x3359c7=_0x3b2896,_0x1fa157=document[_0x3359c7(0x1f0)](_0x3359c7(0x22c)),_0x5d842d=_0x1fa157[_0x3359c7(0x213)]('2d'),_0x3d714c=0x4;let _0x4da1ec;gameName['endsWith'](_0x3359c7(0x1f2))||gameName[_0x3359c7(0x21b)](_0x3359c7(0x22a))?_0x4da1ec=0x3/0x6:_0x4da1ec=0x3/0x4;const _0x40287d=localStorage['getItem'](gameName+_0x3359c7(0x1ff))||localStorage[_0x3359c7(0x200)](_0x3359c7(0x212)),[_0x389b4e,_0x1c5ee7,_0x5e31f6,_0x47555e]=_0x40287d[_0x3359c7(0x214)](',')[_0x3359c7(0x211)](Number);_0x1fa157['width']=_0x5e31f6*_0x4da1ec*_0x3d714c,_0x1fa157['height']=_0x47555e*_0x4da1ec*_0x3d714c,_0x5d842d['drawImage'](_0x19ee3e,_0x389b4e*_0x4da1ec,_0x1c5ee7*_0x4da1ec,_0x5e31f6*_0x4da1ec,_0x47555e*_0x4da1ec,0x0,0x0,_0x5e31f6*_0x4da1ec*_0x3d714c,_0x47555e*_0x4da1ec*_0x3d714c);const _0x36d489=_0x1fa157[_0x3359c7(0x1f3)](_0x3359c7(0x238))['split'](',')[0x1],_0x593acb=localStorage[_0x3359c7(0x200)](_0x3359c7(0x224));console[_0x3359c7(0x233)](_0x593acb),_0x593acb?azureServer(_0x36d489):freeServer(_0x36d489);};}catch(_0x3d07b4){inputText[_0x3b2896(0x219)]=_0x3d07b4[_0x3b2896(0x208)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x28d329=_0x3b2896;document[_0x28d329(0x21f)](_0x28d329(0x209))[_0x28d329(0x219)]='',a0_0x162d8c['notiMessage']('',0x0);},0x7530);}async function freeServer(_0xa095b6){const _0x260080=a0_0x3bc1ea;document[_0x260080(0x21f)]('noti-mess')[_0x260080(0x219)]='';let _0x2c4011=0x0;const _0x171b5c=setInterval(()=>{const _0x1dcae1=_0x260080;_0x2c4011+=0x1,_0x2c4011<=0x64&&(inputText[_0x1dcae1(0x219)]=_0x1dcae1(0x22d)+_0x2c4011+'%');},0x64);try{const _0x34ec96=dataURItoBlob(_0xa095b6),_0x2ab663=new FormData();_0x2ab663[_0x260080(0x221)]('image',_0x34ec96,_0x260080(0x21a)),_0x2ab663['append'](_0x260080(0x239),_0x260080(0x216));let _0x32587b;try{_0x32587b=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x260080(0x218),'body':_0x2ab663,'headers':{'Origin':window[_0x260080(0x226)]['origin'],'X-Requested-With':_0x260080(0x228),'User-Agent':navigator[_0x260080(0x1ec)]}});if(!_0x32587b['ok'])throw new Error(_0x260080(0x1ef)+_0x32587b[_0x260080(0x1fd)]);}catch(_0x4d44cb){console[_0x260080(0x1ed)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x260080(0x226)][_0x260080(0x203)]=_0x260080(0x1f7);return;}const _0x1d42b8=await _0x32587b[_0x260080(0x237)]();if(_0x1d42b8[_0x260080(0x1f5)]===_0x260080(0x22b))throw new Error(_0x1d42b8[_0x260080(0x22b)][_0x260080(0x208)]);transLogic(_0x1d42b8[_0x260080(0x227)]);}catch(_0x41575f){inputText[_0x260080(0x219)]=_0x41575f[_0x260080(0x208)];}finally{clearInterval(_0x171b5c),isFunctionARunning=![];}}async function azureServer(_0x7b821a){const _0x528ed2=a0_0x3bc1ea;document['getElementById'](_0x528ed2(0x20b))[_0x528ed2(0x219)]='',inputText['textContent']=_0x528ed2(0x22d);const _0x281fc2=localStorage[_0x528ed2(0x200)](_0x528ed2(0x224));let [_0x5d62e9,_0x2e7605]=_0x281fc2[_0x528ed2(0x214)](',');try{const _0x49c66f=await fetch(_0x2e7605+_0x528ed2(0x234),{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x5d62e9,'Content-Type':'application/octet-stream'},'body':dataURItoBlob(_0x7b821a)}),_0x253ebc=await _0x49c66f['json']();if(!_0x49c66f['ok']||_0x253ebc[_0x528ed2(0x1f5)]===_0x528ed2(0x22b)){const _0x56125e=_0x49c66f['ok']?_0x253ebc[_0x528ed2(0x22b)][_0x528ed2(0x208)]:_0x49c66f['status']===0x1f4?_0x528ed2(0x21e):(await _0x49c66f[_0x528ed2(0x237)]())[_0x528ed2(0x22b)][_0x528ed2(0x208)];throw new Error(_0x56125e);}const _0x367be2=_0x253ebc[_0x528ed2(0x210)][_0x528ed2(0x23d)][0x0],_0x399114=_0x367be2['lines']||[],_0x1e6a4c=_0x399114['map'](_0x20f37b=>_0x20f37b['text'])['join']('\x0a');transLogic(_0x1e6a4c);}catch(_0x4ae24c){inputText[_0x528ed2(0x219)]=_0x4ae24c[_0x528ed2(0x208)];}finally{isFunctionARunning=![];}}async function translateText(_0x250469,_0x5d5b15,_0xb7cd5b){const _0x462cfe=a0_0x3bc1ea,_0x58ded0=_0x250469[_0x462cfe(0x204)](/[\r\n]+/g,',\x20')[_0x462cfe(0x204)](/([!?.,])\s*,\s*/g,_0x462cfe(0x215))[_0x462cfe(0x204)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x462cfe(0x204)](/ {2,}/g,'\x20')[_0x462cfe(0x1f6)]();var _0xf46ac4='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x5d5b15+_0x462cfe(0x1f4)+_0xb7cd5b+_0x462cfe(0x22f)+encodeURIComponent(_0x58ded0);try{const _0x37f9e5=await fetch(_0xf46ac4);if(!_0x37f9e5['ok']){if(_0x37f9e5[_0x462cfe(0x1fd)]===0x1f4)throw new Error(_0x462cfe(0x222));else{const _0xa23c24=await _0x37f9e5['json'](),_0x1b1cc8=new Error(_0xa23c24[_0x462cfe(0x22b)]['message']);_0x1b1cc8['code']=_0xa23c24[_0x462cfe(0x22b)][_0x462cfe(0x20f)];throw _0x1b1cc8;}}const _0x4cda64=await _0x37f9e5['json']();if(Array['isArray'](_0x4cda64)&&_0x4cda64[_0x462cfe(0x202)]>0x0&&Array['isArray'](_0x4cda64[0x0])){var _0x739f33=_0x4cda64[0x0][_0x462cfe(0x211)](_0x29161d=>_0x29161d[0x0])[_0x462cfe(0x1fa)]('\x20');return document[_0x462cfe(0x21f)](_0x462cfe(0x20b))[_0x462cfe(0x219)]='',inputText['textContent']=_0x462cfe(0x22d)+_0x739f33['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x739f33[_0x462cfe(0x204)](/ {2,}/g,'\x20');}else return document[_0x462cfe(0x21f)](_0x462cfe(0x20b))[_0x462cfe(0x219)]='',inputText[_0x462cfe(0x219)]=_0x462cfe(0x22d)+_0x4cda64,_0x4cda64;}catch(_0xda6ab3){inputText['textContent']=_0xda6ab3[_0x462cfe(0x208)];throw _0xda6ab3;}}function a0_0x232d(_0x329a4f,_0x3fab60){const _0x2e27b3=a0_0x2e27();return a0_0x232d=function(_0x232dca,_0x4ed539){_0x232dca=_0x232dca-0x1ec;let _0xaeee86=_0x2e27b3[_0x232dca];return _0xaeee86;},a0_0x232d(_0x329a4f,_0x3fab60);}async function autoScroll(){const _0x345b1d=a0_0x3bc1ea;var _0x56a14e=inputText[_0x345b1d(0x217)]-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x56a14e||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x345b1d(0x20a)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0xee2c28){const _0x5bc1e4=a0_0x3bc1ea;var _0x405ac3=_0x5bc1e4(0x236)+encodeURIComponent(_0xee2c28);try{const _0x2db424=await fetch(_0x405ac3),_0x5edfb9=await _0x2db424[_0x5bc1e4(0x237)]();var _0x2a2477=_0x5edfb9[0x8][0x0][0x0];return _0x2a2477;}catch(_0x53ee11){console[_0x5bc1e4(0x22b)]('Error\x20detecting\x20language:',_0x53ee11);throw _0x53ee11;}}async function transLogic(_0x3e297f){const _0x3e2bfb='en';if(_0x3e2bfb===null){const _0x1707dd=await detectLanguage(_0x3e297f),_0x173885=await translateText(_0x3e297f,_0x1707dd,'en');return translateText(_0x173885,'en','vi');}else{if(_0x3e2bfb==='en')return translateText(_0x3e297f,'en','vi');else{const _0xdfdf0b=await translateText(_0x3e297f,_0x3e2bfb,'en');return translateText(_0xdfdf0b,'en','vi');}}}function dataURItoBlob(_0x486a95){const _0x45cb49=a0_0x3bc1ea,_0x3045f7=atob(_0x486a95),_0x561b6f=new ArrayBuffer(_0x3045f7[_0x45cb49(0x202)]),_0x339926=new Uint8Array(_0x561b6f);for(let _0x146d4a=0x0;_0x146d4a<_0x3045f7[_0x45cb49(0x202)];_0x146d4a++){_0x339926[_0x146d4a]=_0x3045f7[_0x45cb49(0x201)](_0x146d4a);}return new Blob([_0x561b6f],{'type':_0x45cb49(0x238)});}document[a0_0x3bc1ea(0x23b)](a0_0x3bc1ea(0x1fb),function(){const _0x784794=a0_0x3bc1ea;ID[_0x784794(0x235)](function(_0x2b2e28){const _0x12a8f2=_0x784794,_0x249fde=document[_0x12a8f2(0x21f)](_0x2b2e28);_0x249fde&&_0x249fde[_0x12a8f2(0x23b)](_0x12a8f2(0x1fe),function(){const _0x5f42cf=_0x12a8f2;!isFunctionARunning&&turbo[_0x5f42cf(0x230)][_0x5f42cf(0x229)]('turbo-ocr');});}),[_0x784794(0x20d)][_0x784794(0x235)](_0x56570a=>{const _0x35f196=_0x784794;turbo[_0x35f196(0x23b)](_0x56570a,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x56570a,()=>{const _0x508b3e=_0x35f196;areaTrans[_0x508b3e(0x230)]['toggle']('visible');});});});