const a0_0x17f586=a0_0x4ac2;(function(_0x4604b5,_0x5c7f7a){const _0x2bde2e=a0_0x4ac2,_0x1035b9=_0x4604b5();while(!![]){try{const _0x4dd1be=parseInt(_0x2bde2e(0xe7))/0x1*(-parseInt(_0x2bde2e(0xf9))/0x2)+-parseInt(_0x2bde2e(0xf3))/0x3*(parseInt(_0x2bde2e(0x108))/0x4)+parseInt(_0x2bde2e(0x112))/0x5*(parseInt(_0x2bde2e(0xfb))/0x6)+parseInt(_0x2bde2e(0xd2))/0x7*(-parseInt(_0x2bde2e(0x10c))/0x8)+-parseInt(_0x2bde2e(0xd5))/0x9*(parseInt(_0x2bde2e(0x10e))/0xa)+parseInt(_0x2bde2e(0xe9))/0xb*(-parseInt(_0x2bde2e(0xe2))/0xc)+-parseInt(_0x2bde2e(0xd3))/0xd*(-parseInt(_0x2bde2e(0x113))/0xe);if(_0x4dd1be===_0x5c7f7a)break;else _0x1035b9['push'](_0x1035b9['shift']());}catch(_0x5d0891){_0x1035b9['push'](_0x1035b9['shift']());}}}(a0_0x1376,0x69cc9));import*as a0_0x30fe6f from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x4ac2(_0x5e64f0,_0x43e0ab){const _0x137630=a0_0x1376();return a0_0x4ac2=function(_0x4ac205,_0x17df0a){_0x4ac205=_0x4ac205-0xbc;let _0x4d15bd=_0x137630[_0x4ac205];return _0x4d15bd;},a0_0x4ac2(_0x5e64f0,_0x43e0ab);}const inputText=document[a0_0x17f586(0xd6)](a0_0x17f586(0xe1)),turbo=document[a0_0x17f586(0xd6)](a0_0x17f586(0x10a)),ID=['A','B','R','L'];async function getImage(){const _0x4f1b16=a0_0x17f586;turbo[_0x4f1b16(0x101)][_0x4f1b16(0xc2)](_0x4f1b16(0xd9));try{const _0x393962=gameName[_0x4f1b16(0x110)](/\.(gba|gbc|gb|zip)$/,_0x4f1b16(0xf1)),_0x5706ec=await a0_0x30fe6f['captureOCR'](_0x393962),_0x5e34a5=new Blob([_0x5706ec],{'type':_0x4f1b16(0xcf)}),_0x5b5636=await new Promise((_0x14687d,_0x34feb3)=>{const _0x455138=_0x4f1b16,_0x191f88=new FileReader();_0x191f88[_0x455138(0xc9)]=()=>_0x14687d(_0x191f88[_0x455138(0xf0)]),_0x191f88[_0x455138(0xdf)]=_0x34feb3,_0x191f88[_0x455138(0x114)](_0x5e34a5);}),_0x49be07=new Image();_0x49be07[_0x4f1b16(0xdc)]=_0x5b5636,_0x49be07[_0x4f1b16(0xf6)]=async()=>{const _0x3a9730=_0x4f1b16,_0x12f818=document[_0x3a9730(0xe5)](_0x3a9730(0xed)),_0x222506=_0x12f818[_0x3a9730(0x104)]('2d'),_0x23ec55=0x4;let _0x1eec9d;gameName[_0x3a9730(0x109)]('.gbc')||gameName[_0x3a9730(0x109)](_0x3a9730(0xbf))?_0x1eec9d=0x3/0x6:_0x1eec9d=0x3/0x4;const _0x67fb1a=localStorage['getItem'](gameName+_0x3a9730(0x106))||localStorage[_0x3a9730(0xe4)](_0x3a9730(0xcd)),[_0x3ca575,_0xeaf3d4,_0x3df285,_0x33ee1d]=_0x67fb1a[_0x3a9730(0x111)](',')['map'](Number);_0x12f818['width']=_0x3df285*_0x1eec9d*_0x23ec55,_0x12f818[_0x3a9730(0xce)]=_0x33ee1d*_0x1eec9d*_0x23ec55,_0x222506[_0x3a9730(0xca)](_0x49be07,_0x3ca575*_0x1eec9d,_0xeaf3d4*_0x1eec9d,_0x3df285*_0x1eec9d,_0x33ee1d*_0x1eec9d,0x0,0x0,_0x3df285*_0x1eec9d*_0x23ec55,_0x33ee1d*_0x1eec9d*_0x23ec55);const _0x39f69b=_0x12f818[_0x3a9730(0xf8)](_0x3a9730(0xcf))[_0x3a9730(0x111)](',')[0x1],_0x5cfb99=localStorage[_0x3a9730(0xe4)](_0x3a9730(0xe0));console[_0x3a9730(0xea)](_0x5cfb99),_0x5cfb99?azureServer(_0x39f69b):freeServer(_0x39f69b);};}catch(_0x557527){inputText[_0x4f1b16(0x10f)]=_0x557527['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x4a5db1=_0x4f1b16;document[_0x4a5db1(0xd6)](_0x4a5db1(0xe1))['textContent']='',a0_0x30fe6f[_0x4a5db1(0xd8)]('',0x0);},0x7530);}function a0_0x1376(){const _0x5a8149=['onload','lines','toDataURL','6LHehdR','clientWidth','32892WTxjkN','code','visible','Cors-controlers\x20have\x20not\x20been\x20activated.','toggle','image.png','classList','map','.._\x20','getContext','isArray','_setArea','noti-mess','88968NgCPLx','endsWith','turbo','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','17032jZqssf','warn','970WpQwLP','textContent','replace','split','360ggbRJL','42OJlQVO','readAsDataURL','application/octet-stream','https://cors-anywhere.herokuapp.com/corsdemo','addEventListener','image','.gb','trim','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','add','status','json','500\x20Internal\x20Server\x20Error','forEach','charCodeAt','DOMContentLoaded','onloadend','drawImage','error','href','screenSize','height','image/png','&tl=','location','1946cNDbnH','10128794XxfUwb','touchend','50031VxParx','getElementById','origin','notiMessage','turbo-ocr','scrollLeft','join','src','length','append','onerror','ApiAzure','inputText','6108dYfjQt','HTTP\x20Error:\x20','getItem','createElement','type','171004OwEigG','$1\x20','11264tLTOTy','log','text','Internal\x20Server\x20Error','canvas','remove','touchstart','result','.png','blocks','18RYZNQT','message','XMLHttpRequest'];a0_0x1376=function(){return _0x5a8149;};return a0_0x1376();}async function freeServer(_0xf3fe91){const _0x287602=a0_0x17f586;document[_0x287602(0xd6)](_0x287602(0x107))[_0x287602(0x10f)]='';let _0x12b7fd=0x0;const _0x363365=setInterval(()=>{_0x12b7fd+=0x1,_0x12b7fd<=0x64&&(inputText['textContent']='.._\x20'+_0x12b7fd+'%');},0x64);try{const _0x3f04a3=dataURItoBlob(_0xf3fe91),_0xc1c8=new FormData();_0xc1c8[_0x287602(0xde)](_0x287602(0xbe),_0x3f04a3,_0x287602(0x100)),_0xc1c8[_0x287602(0xde)]('user','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x11f691;try{_0x11f691=await fetch(_0x287602(0xc1),{'method':'POST','body':_0xc1c8,'headers':{'Origin':window[_0x287602(0xd1)][_0x287602(0xd7)],'X-Requested-With':_0x287602(0xf5),'User-Agent':navigator['userAgent']}});if(!_0x11f691['ok'])throw new Error(_0x287602(0xe3)+_0x11f691['status']);}catch(_0xce80c6){console[_0x287602(0x10d)](_0x287602(0xfe)),window['location'][_0x287602(0xcc)]=_0x287602(0xbc);return;}const _0x22268b=await _0x11f691[_0x287602(0xc4)]();if(_0x22268b[_0x287602(0xe6)]==='error')throw new Error(_0x22268b['error']['message']);transLogic(_0x22268b[_0x287602(0xeb)]);}catch(_0x3feb89){inputText['textContent']=_0x3feb89[_0x287602(0xf4)];}finally{clearInterval(_0x363365),isFunctionARunning=![];}}async function azureServer(_0x5aa9ae){const _0x48d6d0=a0_0x17f586;document[_0x48d6d0(0xd6)](_0x48d6d0(0x107))[_0x48d6d0(0x10f)]='',inputText['textContent']=_0x48d6d0(0x103);const _0x248a37=localStorage['getItem'](_0x48d6d0(0xe0));let [_0x4d57f2,_0x452b6d]=_0x248a37[_0x48d6d0(0x111)](',');try{const _0x150561=await fetch(_0x452b6d+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':'POST','headers':{'Ocp-Apim-Subscription-Key':_0x4d57f2,'Content-Type':_0x48d6d0(0x115)},'body':dataURItoBlob(_0x5aa9ae)}),_0x15554d=await _0x150561[_0x48d6d0(0xc4)]();if(!_0x150561['ok']||_0x15554d['type']===_0x48d6d0(0xcb)){const _0x123c75=_0x150561['ok']?_0x15554d[_0x48d6d0(0xcb)][_0x48d6d0(0xf4)]:_0x150561[_0x48d6d0(0xc3)]===0x1f4?_0x48d6d0(0xc5):(await _0x150561[_0x48d6d0(0xc4)]())['error'][_0x48d6d0(0xf4)];throw new Error(_0x123c75);}const _0x3f07df=_0x15554d['readResult'][_0x48d6d0(0xf2)][0x0],_0x1bcc94=_0x3f07df[_0x48d6d0(0xf7)]||[],_0x363919=_0x1bcc94[_0x48d6d0(0x102)](_0xb4138e=>_0xb4138e[_0x48d6d0(0xeb)])[_0x48d6d0(0xdb)]('\x0a');transLogic(_0x363919);}catch(_0x36d276){inputText['textContent']=_0x36d276[_0x48d6d0(0xf4)];}finally{isFunctionARunning=![];}}async function translateText(_0x5bce3c,_0x7217f2,_0x3568d9){const _0x55335a=a0_0x17f586,_0xb56afd=_0x5bce3c[_0x55335a(0x110)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x55335a(0xe8))[_0x55335a(0x110)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x55335a(0x110)](/ {2,}/g,'\x20')[_0x55335a(0xc0)]();var _0xa1a007=_0x55335a(0x10b)+_0x7217f2+_0x55335a(0xd0)+_0x3568d9+'&dt=t&q='+encodeURIComponent(_0xb56afd);try{const _0x170e9e=await fetch(_0xa1a007);if(!_0x170e9e['ok']){if(_0x170e9e[_0x55335a(0xc3)]===0x1f4)throw new Error(_0x55335a(0xec));else{const _0x40fd08=await _0x170e9e[_0x55335a(0xc4)](),_0x2c2f00=new Error(_0x40fd08[_0x55335a(0xcb)][_0x55335a(0xf4)]);_0x2c2f00[_0x55335a(0xfc)]=_0x40fd08['error'][_0x55335a(0xfc)];throw _0x2c2f00;}}const _0x381817=await _0x170e9e[_0x55335a(0xc4)]();if(Array[_0x55335a(0x105)](_0x381817)&&_0x381817['length']>0x0&&Array[_0x55335a(0x105)](_0x381817[0x0])){var _0x17f577=_0x381817[0x0]['map'](_0x2e0af5=>_0x2e0af5[0x0])[_0x55335a(0xdb)]('\x20');return document[_0x55335a(0xd6)]('noti-mess')['textContent']='',inputText[_0x55335a(0x10f)]=_0x55335a(0x103)+_0x17f577[_0x55335a(0x110)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x17f577[_0x55335a(0x110)](/ {2,}/g,'\x20');}else return document[_0x55335a(0xd6)](_0x55335a(0x107))[_0x55335a(0x10f)]='',inputText['textContent']=_0x55335a(0x103)+_0x381817,_0x381817;}catch(_0x58693f){inputText[_0x55335a(0x10f)]=_0x58693f[_0x55335a(0xf4)];throw _0x58693f;}}async function autoScroll(){const _0xc8382e=a0_0x17f586;var _0x39fee2=inputText['scrollWidth']-inputText[_0xc8382e(0xfa)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x39fee2||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0xc8382e(0xda)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0xe877c4){const _0x2c4299=a0_0x17f586;var _0x4b0ac4='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0xe877c4);try{const _0x432423=await fetch(_0x4b0ac4),_0x324917=await _0x432423['json']();var _0x543860=_0x324917[0x8][0x0][0x0];return _0x543860;}catch(_0x3d6384){console[_0x2c4299(0xcb)]('Error\x20detecting\x20language:',_0x3d6384);throw _0x3d6384;}}async function transLogic(_0x3a55cd){const _0x4429cf='en';if(_0x4429cf===null){const _0x4fe55b=await detectLanguage(_0x3a55cd),_0x21f91b=await translateText(_0x3a55cd,_0x4fe55b,'en');return translateText(_0x21f91b,'en','vi');}else{if(_0x4429cf==='en')return translateText(_0x3a55cd,'en','vi');else{const _0x48e81d=await translateText(_0x3a55cd,_0x4429cf,'en');return translateText(_0x48e81d,'en','vi');}}}function dataURItoBlob(_0xae1a26){const _0x4761c9=a0_0x17f586,_0x4bf31c=atob(_0xae1a26),_0x2054d4=new ArrayBuffer(_0x4bf31c[_0x4761c9(0xdd)]),_0x354f9a=new Uint8Array(_0x2054d4);for(let _0xbf3df7=0x0;_0xbf3df7<_0x4bf31c[_0x4761c9(0xdd)];_0xbf3df7++){_0x354f9a[_0xbf3df7]=_0x4bf31c[_0x4761c9(0xc7)](_0xbf3df7);}return new Blob([_0x2054d4],{'type':'image/png'});}document[a0_0x17f586(0xbd)](a0_0x17f586(0xc8),function(){const _0x444c87=a0_0x17f586;ID['forEach'](function(_0x3b726a){const _0x535eca=a0_0x4ac2,_0x37f783=document[_0x535eca(0xd6)](_0x3b726a);_0x37f783&&_0x37f783[_0x535eca(0xbd)](_0x535eca(0xef),function(){const _0x3814c3=_0x535eca;!isFunctionARunning&&turbo[_0x3814c3(0x101)][_0x3814c3(0xee)](_0x3814c3(0xd9));});}),[_0x444c87(0xd4)][_0x444c87(0xc6)](_0xda0632=>{const _0x5c4049=_0x444c87;turbo[_0x5c4049(0xbd)](_0xda0632,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x5c4049(0xbd)](_0xda0632,()=>{const _0x3cc51d=_0x5c4049;areaTrans[_0x3cc51d(0x101)][_0x3cc51d(0xff)](_0x3cc51d(0xfd));});});});