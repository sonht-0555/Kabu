const a0_0x489b4d=a0_0x43d6;(function(_0x5e7de,_0x39da9f){const _0xd36e71=a0_0x43d6,_0x930b20=_0x5e7de();while(!![]){try{const _0x383158=parseInt(_0xd36e71(0x1ea))/0x1*(parseInt(_0xd36e71(0x20e))/0x2)+parseInt(_0xd36e71(0x1e6))/0x3*(-parseInt(_0xd36e71(0x215))/0x4)+-parseInt(_0xd36e71(0x1f7))/0x5*(-parseInt(_0xd36e71(0x1f2))/0x6)+parseInt(_0xd36e71(0x204))/0x7+-parseInt(_0xd36e71(0x1f0))/0x8*(-parseInt(_0xd36e71(0x1e7))/0x9)+-parseInt(_0xd36e71(0x225))/0xa+parseInt(_0xd36e71(0x205))/0xb*(-parseInt(_0xd36e71(0x1f6))/0xc);if(_0x383158===_0x39da9f)break;else _0x930b20['push'](_0x930b20['shift']());}catch(_0x58e797){_0x930b20['push'](_0x930b20['shift']());}}}(a0_0x576b,0x92d7a));import*as a0_0x4e5e14 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x576b(){const _0x4eff1d=['6798995NlraCz','55jqkJpn','.gbc','map','code','500\x20Internal\x20Server\x20Error','clientWidth','screenSize','result','visible','2081774jgfKVB','location','replace','inputText','split','endsWith','type','4vzlqUb','isArray','_setArea','turbo','HTTP\x20Error:\x20','onloadend','canvas','readResult','ApiAzure','remove','json','notiMessage','message','image/png','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','application/octet-stream','6676680wGlikv','Internal\x20Server\x20Error','&dt=t&q=','append','forEach','POST','.._\x20','add','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','toggle','captureOCR','join','src','image.png','image','text','getElementById','getItem','classList','user','blocks','92067WEYUrb','27gGiPtT','XMLHttpRequest','status','1dmBPAO','readAsDataURL','noti-mess','DOMContentLoaded','error','onerror','2782672dKtMHN','length','52476cAttbx','touchstart','scrollLeft','trim','6921804COtBOF','645geaGOv','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','height','userAgent','.png','addEventListener','textContent','createElement','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','toDataURL','$1\x20','https://cors-anywhere.herokuapp.com/corsdemo','log'];a0_0x576b=function(){return _0x4eff1d;};return a0_0x576b();}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x489b4d(0x1e1)](a0_0x489b4d(0x211)),turbo=document[a0_0x489b4d(0x1e1)](a0_0x489b4d(0x218)),ID=['A','B','R','L'];async function getImage(){const _0xa14d73=a0_0x489b4d;turbo[_0xa14d73(0x1e3)][_0xa14d73(0x22c)]('turbo-ocr');try{const _0x47217c=gameName[_0xa14d73(0x210)](/\.(gba|gbc|gb|zip)$/,_0xa14d73(0x1fb)),_0x25eb11=await a0_0x4e5e14[_0xa14d73(0x1db)](_0x47217c),_0x3c9c6a=new Blob([_0x25eb11],{'type':'image/png'}),_0x240e73=await new Promise((_0x42ac0d,_0x591e73)=>{const _0x161fdc=_0xa14d73,_0x442231=new FileReader();_0x442231[_0x161fdc(0x21a)]=()=>_0x42ac0d(_0x442231[_0x161fdc(0x20c)]),_0x442231[_0x161fdc(0x1ef)]=_0x591e73,_0x442231[_0x161fdc(0x1eb)](_0x3c9c6a);}),_0xe8e2c=new Image();_0xe8e2c[_0xa14d73(0x1dd)]=_0x240e73,_0xe8e2c['onload']=async()=>{const _0x55ef13=_0xa14d73,_0x21f627=document[_0x55ef13(0x1fe)](_0x55ef13(0x21b)),_0x4ad4ac=_0x21f627['getContext']('2d'),_0x3c20e3=0x4;let _0x3e52d4;gameName[_0x55ef13(0x213)](_0x55ef13(0x206))||gameName[_0x55ef13(0x213)]('.gb')?_0x3e52d4=0x3/0x6:_0x3e52d4=0x3/0x4;const _0x52bbdf=localStorage[_0x55ef13(0x1e2)](gameName+_0x55ef13(0x217))||localStorage['getItem'](_0x55ef13(0x20b)),[_0x5026fc,_0x32f780,_0x345234,_0x45abd3]=_0x52bbdf[_0x55ef13(0x212)](',')[_0x55ef13(0x207)](Number);_0x21f627['width']=_0x345234*_0x3e52d4*_0x3c20e3,_0x21f627[_0x55ef13(0x1f9)]=_0x45abd3*_0x3e52d4*_0x3c20e3,_0x4ad4ac['drawImage'](_0xe8e2c,_0x5026fc*_0x3e52d4,_0x32f780*_0x3e52d4,_0x345234*_0x3e52d4,_0x45abd3*_0x3e52d4,0x0,0x0,_0x345234*_0x3e52d4*_0x3c20e3,_0x45abd3*_0x3e52d4*_0x3c20e3);const _0x715630=_0x21f627[_0x55ef13(0x200)](_0x55ef13(0x222))['split'](',')[0x1],_0x235f36=localStorage[_0x55ef13(0x1e2)](_0x55ef13(0x21d));console[_0x55ef13(0x203)](_0x235f36),_0x235f36?azureServer(_0x715630):freeServer(_0x715630);};}catch(_0x3d9948){inputText[_0xa14d73(0x1fd)]=_0x3d9948[_0xa14d73(0x221)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x37a6cf=_0xa14d73;document[_0x37a6cf(0x1e1)](_0x37a6cf(0x211))[_0x37a6cf(0x1fd)]='',a0_0x4e5e14[_0x37a6cf(0x220)]('',0x0);},0x7530);}async function freeServer(_0x54a196){const _0x52815a=a0_0x489b4d;document[_0x52815a(0x1e1)](_0x52815a(0x1ec))[_0x52815a(0x1fd)]='';let _0x6c4279=0x0;const _0x2c4216=setInterval(()=>{const _0x238125=_0x52815a;_0x6c4279+=0x1,_0x6c4279<=0x64&&(inputText[_0x238125(0x1fd)]=_0x238125(0x22b)+_0x6c4279+'%');},0x64);try{const _0x24d9a2=dataURItoBlob(_0x54a196),_0x5ac9b8=new FormData();_0x5ac9b8['append'](_0x52815a(0x1df),_0x24d9a2,_0x52815a(0x1de)),_0x5ac9b8[_0x52815a(0x228)](_0x52815a(0x1e4),_0x52815a(0x1f8));let _0x570af7;try{_0x570af7=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x52815a(0x22a),'body':_0x5ac9b8,'headers':{'Origin':window[_0x52815a(0x20f)]['origin'],'X-Requested-With':_0x52815a(0x1e8),'User-Agent':navigator[_0x52815a(0x1fa)]}});if(!_0x570af7['ok'])throw new Error(_0x52815a(0x219)+_0x570af7[_0x52815a(0x1e9)]);}catch(_0x18b782){console['warn']('Cors-controlers\x20have\x20not\x20been\x20activated.'),window['location']['href']=_0x52815a(0x202);return;}const _0x508af1=await _0x570af7[_0x52815a(0x21f)]();if(_0x508af1[_0x52815a(0x214)]===_0x52815a(0x1ee))throw new Error(_0x508af1[_0x52815a(0x1ee)][_0x52815a(0x221)]);transLogic(_0x508af1[_0x52815a(0x1e0)]);}catch(_0x44302b){inputText['textContent']=_0x44302b[_0x52815a(0x221)];}finally{clearInterval(_0x2c4216),isFunctionARunning=![];}}async function azureServer(_0x589f9e){const _0x1a3435=a0_0x489b4d;document[_0x1a3435(0x1e1)]('noti-mess')['textContent']='',inputText['textContent']=_0x1a3435(0x22b);const _0x3f6220=localStorage['getItem'](_0x1a3435(0x21d));let [_0x23eb6b,_0x325151]=_0x3f6220['split'](',');try{const _0x1cfdb0=await fetch(_0x325151+_0x1a3435(0x1ff),{'method':_0x1a3435(0x22a),'headers':{'Ocp-Apim-Subscription-Key':_0x23eb6b,'Content-Type':_0x1a3435(0x224)},'body':dataURItoBlob(_0x589f9e)}),_0x1f81cf=await _0x1cfdb0[_0x1a3435(0x21f)]();if(!_0x1cfdb0['ok']||_0x1f81cf[_0x1a3435(0x214)]==='error'){const _0x42d4a7=_0x1cfdb0['ok']?_0x1f81cf[_0x1a3435(0x1ee)][_0x1a3435(0x221)]:_0x1cfdb0['status']===0x1f4?_0x1a3435(0x209):(await _0x1cfdb0[_0x1a3435(0x21f)]())[_0x1a3435(0x1ee)]['message'];throw new Error(_0x42d4a7);}const _0x5050e7=_0x1f81cf[_0x1a3435(0x21c)][_0x1a3435(0x1e5)][0x0],_0x50ad24=_0x5050e7['lines']||[],_0x3181c3=_0x50ad24['map'](_0x1b7d17=>_0x1b7d17['text'])[_0x1a3435(0x1dc)]('\x0a');transLogic(_0x3181c3);}catch(_0x34c691){inputText[_0x1a3435(0x1fd)]=_0x34c691[_0x1a3435(0x221)];}finally{isFunctionARunning=![];}}async function translateText(_0x33d90b,_0x578d22,_0x3063c4){const _0x46c61f=a0_0x489b4d,_0xcb9dae=_0x33d90b[_0x46c61f(0x210)](/[\r\n]+/g,',\x20')[_0x46c61f(0x210)](/([!?.,])\s*,\s*/g,_0x46c61f(0x201))[_0x46c61f(0x210)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x46c61f(0x210)](/ {2,}/g,'\x20')[_0x46c61f(0x1f5)]();var _0x47bb19=_0x46c61f(0x223)+_0x578d22+'&tl='+_0x3063c4+_0x46c61f(0x227)+encodeURIComponent(_0xcb9dae);try{const _0x58d719=await fetch(_0x47bb19);if(!_0x58d719['ok']){if(_0x58d719[_0x46c61f(0x1e9)]===0x1f4)throw new Error(_0x46c61f(0x226));else{const _0x58de7a=await _0x58d719[_0x46c61f(0x21f)](),_0x5d1a58=new Error(_0x58de7a['error'][_0x46c61f(0x221)]);_0x5d1a58[_0x46c61f(0x208)]=_0x58de7a[_0x46c61f(0x1ee)][_0x46c61f(0x208)];throw _0x5d1a58;}}const _0x58331b=await _0x58d719[_0x46c61f(0x21f)]();if(Array['isArray'](_0x58331b)&&_0x58331b[_0x46c61f(0x1f1)]>0x0&&Array[_0x46c61f(0x216)](_0x58331b[0x0])){var _0x3073cc=_0x58331b[0x0][_0x46c61f(0x207)](_0xf3c665=>_0xf3c665[0x0])[_0x46c61f(0x1dc)]('\x20');return document[_0x46c61f(0x1e1)](_0x46c61f(0x1ec))[_0x46c61f(0x1fd)]='',inputText['textContent']='.._\x20'+_0x3073cc[_0x46c61f(0x210)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x3073cc[_0x46c61f(0x210)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x46c61f(0x1ec))[_0x46c61f(0x1fd)]='',inputText[_0x46c61f(0x1fd)]=_0x46c61f(0x22b)+_0x58331b,_0x58331b;}catch(_0x4f23a3){inputText[_0x46c61f(0x1fd)]=_0x4f23a3[_0x46c61f(0x221)];throw _0x4f23a3;}}function a0_0x43d6(_0x2aa4a8,_0x3bb731){const _0x576b02=a0_0x576b();return a0_0x43d6=function(_0x43d6e8,_0x40f0df){_0x43d6e8=_0x43d6e8-0x1da;let _0x20a6d9=_0x576b02[_0x43d6e8];return _0x20a6d9;},a0_0x43d6(_0x2aa4a8,_0x3bb731);}async function autoScroll(){const _0x4bf0f3=a0_0x489b4d;var _0x1405e0=inputText['scrollWidth']-inputText[_0x4bf0f3(0x20a)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1405e0||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x4bf0f3(0x1f4)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x5c6417){const _0x4c454a=a0_0x489b4d;var _0x41d593=_0x4c454a(0x22d)+encodeURIComponent(_0x5c6417);try{const _0x402404=await fetch(_0x41d593),_0x28346b=await _0x402404[_0x4c454a(0x21f)]();var _0x58e490=_0x28346b[0x8][0x0][0x0];return _0x58e490;}catch(_0x5ed2ee){console['error']('Error\x20detecting\x20language:',_0x5ed2ee);throw _0x5ed2ee;}}async function transLogic(_0x5e26ff){const _0xba3d9='en';if(_0xba3d9===null){const _0x160324=await detectLanguage(_0x5e26ff),_0x48d2d8=await translateText(_0x5e26ff,_0x160324,'en');return translateText(_0x48d2d8,'en','vi');}else{if(_0xba3d9==='en')return translateText(_0x5e26ff,'en','vi');else{const _0x14eea3=await translateText(_0x5e26ff,_0xba3d9,'en');return translateText(_0x14eea3,'en','vi');}}}function dataURItoBlob(_0x1d8a97){const _0x4177c2=a0_0x489b4d,_0x1b02e9=atob(_0x1d8a97),_0x4280d5=new ArrayBuffer(_0x1b02e9['length']),_0x5d8482=new Uint8Array(_0x4280d5);for(let _0x368166=0x0;_0x368166<_0x1b02e9[_0x4177c2(0x1f1)];_0x368166++){_0x5d8482[_0x368166]=_0x1b02e9['charCodeAt'](_0x368166);}return new Blob([_0x4280d5],{'type':'image/png'});}document[a0_0x489b4d(0x1fc)](a0_0x489b4d(0x1ed),function(){const _0x103bfb=a0_0x489b4d;ID['forEach'](function(_0x132d9f){const _0x871104=a0_0x43d6,_0x23f5da=document[_0x871104(0x1e1)](_0x132d9f);_0x23f5da&&_0x23f5da[_0x871104(0x1fc)](_0x871104(0x1f3),function(){const _0x4076a2=_0x871104;!isFunctionARunning&&turbo['classList'][_0x4076a2(0x21e)]('turbo-ocr');});}),['touchend'][_0x103bfb(0x229)](_0x47c548=>{const _0x276426=_0x103bfb;turbo[_0x276426(0x1fc)](_0x47c548,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x276426(0x1fc)](_0x47c548,()=>{const _0x548e51=_0x276426;areaTrans[_0x548e51(0x1e3)][_0x548e51(0x1da)](_0x548e51(0x20d));});});});