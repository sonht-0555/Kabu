const a0_0x8713da=a0_0x234f;(function(_0x3b99d5,_0x125ccf){const _0x139730=a0_0x234f,_0x36a509=_0x3b99d5();while(!![]){try{const _0xf498b4=-parseInt(_0x139730(0x111))/0x1*(parseInt(_0x139730(0x133))/0x2)+-parseInt(_0x139730(0x155))/0x3+-parseInt(_0x139730(0x14b))/0x4+parseInt(_0x139730(0x150))/0x5*(parseInt(_0x139730(0x12c))/0x6)+-parseInt(_0x139730(0x115))/0x7+-parseInt(_0x139730(0x121))/0x8+parseInt(_0x139730(0x142))/0x9*(parseInt(_0x139730(0x144))/0xa);if(_0xf498b4===_0x125ccf)break;else _0x36a509['push'](_0x36a509['shift']());}catch(_0x3f5fc1){_0x36a509['push'](_0x36a509['shift']());}}}(a0_0xc12f,0x93eae));function a0_0x234f(_0xab3dfa,_0xba0ec2){const _0xc12ff1=a0_0xc12f();return a0_0x234f=function(_0x234f46,_0x2238df){_0x234f46=_0x234f46-0x10a;let _0x175c47=_0xc12ff1[_0x234f46];return _0x175c47;},a0_0x234f(_0xab3dfa,_0xba0ec2);}import*as a0_0x33e29c from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x8713da(0x11f)](a0_0x8713da(0x138)),turbo=document[a0_0x8713da(0x11f)](a0_0x8713da(0x153)),ID=['A','B','R','L'];async function getImage(){const _0x7f7e0c=a0_0x8713da;turbo[_0x7f7e0c(0x13d)][_0x7f7e0c(0x13f)]('turbo-ocr');try{const _0x45d474=gameName[_0x7f7e0c(0x11a)](/\.(gba|gbc|gb|zip)$/,_0x7f7e0c(0x12e)),_0x4efd23=await a0_0x33e29c[_0x7f7e0c(0x118)](_0x45d474),_0x251925=new Blob([_0x4efd23],{'type':_0x7f7e0c(0x125)}),_0x43f36a=await new Promise((_0x545fa3,_0x47c527)=>{const _0x1a08c6=_0x7f7e0c,_0x40ec16=new FileReader();_0x40ec16['onloadend']=()=>_0x545fa3(_0x40ec16['result']),_0x40ec16[_0x1a08c6(0x113)]=_0x47c527,_0x40ec16['readAsDataURL'](_0x251925);}),_0x2cc9cc=new Image();_0x2cc9cc['src']=_0x43f36a,_0x2cc9cc[_0x7f7e0c(0x132)]=async()=>{const _0x5d5c64=_0x7f7e0c,_0xf3d01=document['createElement'](_0x5d5c64(0x158)),_0x51dfa6=_0xf3d01[_0x5d5c64(0x11c)]('2d'),_0x197e5c=0x4;let _0x2f7ed0;gameName[_0x5d5c64(0x10f)]('.gbc')||gameName[_0x5d5c64(0x10f)]('.gb')?_0x2f7ed0=0x3/0x6:_0x2f7ed0=0x3/0x4;const _0x2d741a=localStorage[_0x5d5c64(0x119)](gameName+'_setArea')||localStorage['getItem'](_0x5d5c64(0x110)),[_0x24ecf7,_0x3f5364,_0x3d314e,_0x317149]=_0x2d741a[_0x5d5c64(0x123)](',')[_0x5d5c64(0x10d)](Number);_0xf3d01[_0x5d5c64(0x14a)]=_0x3d314e*_0x2f7ed0*_0x197e5c,_0xf3d01[_0x5d5c64(0x157)]=_0x317149*_0x2f7ed0*_0x197e5c,_0x51dfa6[_0x5d5c64(0x147)](_0x2cc9cc,_0x24ecf7*_0x2f7ed0,_0x3f5364*_0x2f7ed0,_0x3d314e*_0x2f7ed0,_0x317149*_0x2f7ed0,0x0,0x0,_0x3d314e*_0x2f7ed0*_0x197e5c,_0x317149*_0x2f7ed0*_0x197e5c);const _0x54976b=_0xf3d01[_0x5d5c64(0x141)]('image/png')[_0x5d5c64(0x123)](',')[0x1],_0x3db3e7=localStorage[_0x5d5c64(0x119)](_0x5d5c64(0x10b));console['log'](_0x3db3e7),_0x3db3e7?azureServer(_0x54976b):freeServer(_0x54976b);};}catch(_0x30710b){inputText[_0x7f7e0c(0x131)]=_0x30710b[_0x7f7e0c(0x149)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x1fa46f=_0x7f7e0c;document[_0x1fa46f(0x11f)](_0x1fa46f(0x138))[_0x1fa46f(0x131)]='',a0_0x33e29c[_0x1fa46f(0x143)]('',0x0);},0x7530);}async function freeServer(_0x1abec8){const _0x95b980=a0_0x8713da;document[_0x95b980(0x11f)](_0x95b980(0x120))[_0x95b980(0x131)]='';let _0x52bc6e=0x0;const _0x27a49d=setInterval(()=>{const _0x1064da=_0x95b980;_0x52bc6e+=0x1,_0x52bc6e<=0x64&&(inputText['textContent']=_0x1064da(0x12f)+_0x52bc6e+'%');},0x64);try{const _0x1694cc=dataURItoBlob(_0x1abec8),_0x3f53b7=new FormData();_0x3f53b7['append'](_0x95b980(0x112),_0x1694cc,_0x95b980(0x11b)),_0x3f53b7['append'](_0x95b980(0x152),_0x95b980(0x10a));let _0x278982;try{_0x278982=await fetch(_0x95b980(0x117),{'method':_0x95b980(0x126),'body':_0x3f53b7,'headers':{'Origin':window[_0x95b980(0x135)]['origin'],'X-Requested-With':_0x95b980(0x140),'User-Agent':navigator[_0x95b980(0x148)]}});if(!_0x278982['ok'])throw new Error('HTTP\x20Error:\x20'+_0x278982[_0x95b980(0x159)]);}catch(_0x23d669){console[_0x95b980(0x156)](_0x95b980(0x122)),window[_0x95b980(0x135)]['href']=_0x95b980(0x127);return;}const _0x4b93c7=await _0x278982[_0x95b980(0x10c)]();if(_0x4b93c7[_0x95b980(0x130)]===_0x95b980(0x14f))throw new Error(_0x4b93c7[_0x95b980(0x14f)][_0x95b980(0x149)]);transLogic(_0x4b93c7[_0x95b980(0x136)]);}catch(_0x19ccbf){inputText[_0x95b980(0x131)]=_0x19ccbf[_0x95b980(0x149)];}finally{clearInterval(_0x27a49d),isFunctionARunning=![];}}async function azureServer(_0x10b3a9){const _0x148443=a0_0x8713da;document[_0x148443(0x11f)](_0x148443(0x120))[_0x148443(0x131)]='',inputText[_0x148443(0x131)]=_0x148443(0x12f);const _0x5cde8a=localStorage['getItem'](_0x148443(0x10b));let [_0x5117bf,_0xe06f44]=_0x5cde8a['split'](',');try{const _0x501e2c=await fetch(_0xe06f44+_0x148443(0x114),{'method':_0x148443(0x126),'headers':{'Ocp-Apim-Subscription-Key':_0x5117bf,'Content-Type':_0x148443(0x13c)},'body':dataURItoBlob(_0x10b3a9)}),_0x470e3c=await _0x501e2c[_0x148443(0x10c)]();if(!_0x501e2c['ok']||_0x470e3c[_0x148443(0x130)]==='error'){const _0x3fe509=_0x501e2c['ok']?_0x470e3c[_0x148443(0x14f)][_0x148443(0x149)]:_0x501e2c[_0x148443(0x159)]===0x1f4?_0x148443(0x128):(await _0x501e2c[_0x148443(0x10c)]())['error']['message'];throw new Error(_0x3fe509);}const _0x41a42b=_0x470e3c['readResult'][_0x148443(0x14d)][0x0],_0x2f879a=_0x41a42b[_0x148443(0x14c)]||[],_0x37a1b1=_0x2f879a[_0x148443(0x10d)](_0x11c407=>_0x11c407[_0x148443(0x136)])[_0x148443(0x154)]('\x0a');transLogic(_0x37a1b1);}catch(_0x124e7b){inputText[_0x148443(0x131)]=_0x124e7b['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x349b15,_0x21a1ce,_0x5644d0){const _0x513532=a0_0x8713da,_0x1ae44f=_0x349b15[_0x513532(0x11a)](/[\r\n]+/g,',\x20')[_0x513532(0x11a)](/([!?.,])\s*,\s*/g,_0x513532(0x151))[_0x513532(0x11a)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x513532(0x11a)](/ {2,}/g,'\x20')['trim']();var _0x5b6ec0=_0x513532(0x11e)+_0x21a1ce+_0x513532(0x139)+_0x5644d0+_0x513532(0x13b)+encodeURIComponent(_0x1ae44f);try{const _0x4df333=await fetch(_0x5b6ec0);if(!_0x4df333['ok']){if(_0x4df333[_0x513532(0x159)]===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x103777=await _0x4df333['json'](),_0x53754e=new Error(_0x103777[_0x513532(0x14f)]['message']);_0x53754e[_0x513532(0x145)]=_0x103777['error']['code'];throw _0x53754e;}}const _0x5a6ba1=await _0x4df333[_0x513532(0x10c)]();if(Array[_0x513532(0x13e)](_0x5a6ba1)&&_0x5a6ba1[_0x513532(0x116)]>0x0&&Array[_0x513532(0x13e)](_0x5a6ba1[0x0])){var _0xa3156f=_0x5a6ba1[0x0][_0x513532(0x10d)](_0x444be4=>_0x444be4[0x0])[_0x513532(0x154)]('\x20');return document[_0x513532(0x11f)]('noti-mess')[_0x513532(0x131)]='',inputText['textContent']='.._\x20'+_0xa3156f[_0x513532(0x11a)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0xa3156f['replace'](/ {2,}/g,'\x20');}else return document[_0x513532(0x11f)](_0x513532(0x120))[_0x513532(0x131)]='',inputText[_0x513532(0x131)]='.._\x20'+_0x5a6ba1,_0x5a6ba1;}catch(_0x21857d){inputText[_0x513532(0x131)]=_0x21857d[_0x513532(0x149)];throw _0x21857d;}}async function autoScroll(){const _0x21ad73=a0_0x8713da;var _0x3dec04=inputText[_0x21ad73(0x137)]-inputText[_0x21ad73(0x11d)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x3dec04||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x5780ab){const _0x4e8c02=a0_0x8713da;var _0x5a2167=_0x4e8c02(0x12d)+encodeURIComponent(_0x5780ab);try{const _0x15038d=await fetch(_0x5a2167),_0xe742e0=await _0x15038d[_0x4e8c02(0x10c)]();var _0x3964f3=_0xe742e0[0x8][0x0][0x0];return _0x3964f3;}catch(_0x24830c){console[_0x4e8c02(0x14f)](_0x4e8c02(0x124),_0x24830c);throw _0x24830c;}}function a0_0xc12f(){const _0x32ecb2=['application/octet-stream','classList','isArray','add','XMLHttpRequest','toDataURL','18307638vqNBwz','notiMessage','20GtZoLm','code','charCodeAt','drawImage','userAgent','message','width','3209208jylXIv','lines','blocks','touchstart','error','1399635fFlmAO','$1\x20','user','turbo','join','2847900eEJkvp','warn','height','canvas','status','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','ApiAzure','json','map','addEventListener','endsWith','screenSize','168937bBAUvA','image','onerror','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','7169323JHlsWO','length','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','captureOCR','getItem','replace','image.png','getContext','clientWidth','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','getElementById','noti-mess','4102896oRealq','Cors-controlers\x20have\x20not\x20been\x20activated.','split','Error\x20detecting\x20language:','image/png','POST','https://cors-anywhere.herokuapp.com/corsdemo','500\x20Internal\x20Server\x20Error','touchend','remove','visible','18vuEldF','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','.png','.._\x20','type','textContent','onload','12fNtHnM','DOMContentLoaded','location','text','scrollWidth','inputText','&tl=','forEach','&dt=t&q='];a0_0xc12f=function(){return _0x32ecb2;};return a0_0xc12f();}async function transLogic(_0x362ce9){const _0x438eb8='en';if(_0x438eb8===null){const _0x389eb5=await detectLanguage(_0x362ce9),_0x303a8a=await translateText(_0x362ce9,_0x389eb5,'en');return translateText(_0x303a8a,'en','vi');}else{if(_0x438eb8==='en')return translateText(_0x362ce9,'en','vi');else{const _0x59b19d=await translateText(_0x362ce9,_0x438eb8,'en');return translateText(_0x59b19d,'en','vi');}}}function dataURItoBlob(_0x565797){const _0x7c7c86=a0_0x8713da,_0x532a0c=atob(_0x565797),_0x4b6df6=new ArrayBuffer(_0x532a0c['length']),_0x4def25=new Uint8Array(_0x4b6df6);for(let _0x180915=0x0;_0x180915<_0x532a0c[_0x7c7c86(0x116)];_0x180915++){_0x4def25[_0x180915]=_0x532a0c[_0x7c7c86(0x146)](_0x180915);}return new Blob([_0x4b6df6],{'type':'image/png'});}document[a0_0x8713da(0x10e)](a0_0x8713da(0x134),function(){const _0xd32c07=a0_0x8713da;ID[_0xd32c07(0x13a)](function(_0x47a2bb){const _0x1decfa=_0xd32c07,_0x160121=document[_0x1decfa(0x11f)](_0x47a2bb);_0x160121&&_0x160121[_0x1decfa(0x10e)](_0x1decfa(0x14e),function(){const _0x8b6bff=_0x1decfa;!isFunctionARunning&&turbo[_0x8b6bff(0x13d)][_0x8b6bff(0x12a)]('turbo-ocr');});}),[_0xd32c07(0x129)]['forEach'](_0x15e72f=>{const _0x540052=_0xd32c07;turbo['addEventListener'](_0x15e72f,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x540052(0x10e)](_0x15e72f,()=>{const _0x9456a1=_0x540052;areaTrans[_0x9456a1(0x13d)]['toggle'](_0x9456a1(0x12b));});});});