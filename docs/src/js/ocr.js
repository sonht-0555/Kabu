const a0_0x21113f=a0_0x50ff;(function(_0x2fb270,_0x155b16){const _0x4b9671=a0_0x50ff,_0x915222=_0x2fb270();while(!![]){try{const _0x1d951c=parseInt(_0x4b9671(0x7a))/0x1*(parseInt(_0x4b9671(0x85))/0x2)+parseInt(_0x4b9671(0xa2))/0x3*(parseInt(_0x4b9671(0x6b))/0x4)+parseInt(_0x4b9671(0x88))/0x5+-parseInt(_0x4b9671(0x6c))/0x6+-parseInt(_0x4b9671(0xaf))/0x7*(parseInt(_0x4b9671(0xb1))/0x8)+-parseInt(_0x4b9671(0xa8))/0x9+parseInt(_0x4b9671(0xa1))/0xa;if(_0x1d951c===_0x155b16)break;else _0x915222['push'](_0x915222['shift']());}catch(_0x59ec15){_0x915222['push'](_0x915222['shift']());}}}(a0_0x4923,0x911c0));import*as a0_0x18b71b from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x50ff(_0x53bc78,_0xd5fb1f){const _0x492391=a0_0x4923();return a0_0x50ff=function(_0x50ff3f,_0x382e6d){_0x50ff3f=_0x50ff3f-0x6b;let _0x5ce0f0=_0x492391[_0x50ff3f];return _0x5ce0f0;},a0_0x50ff(_0x53bc78,_0xd5fb1f);}let isFunctionARunning=![];var maxRunCount=0x2;function a0_0x4923(){const _0x513f0f=['.gbc','getElementById','height','canvas','image/png','forEach','onload','type','image','isArray','getItem','log','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','readResult','remove','add','text','&dt=t&q=','error','18688970zRofKm','68958SAoBoe','drawImage','$1\x20','XMLHttpRequest','&tl=','blocks','8962569CEwZYF','touchend','Internal\x20Server\x20Error','DOMContentLoaded','toDataURL','addEventListener','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','878052NjaBBd','map','48jKeATf','origin','result','noti-mess','HTTP\x20Error:\x20','json','textContent','warn','screenSize','POST','scrollWidth','clientWidth','onloadend','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','turbo-ocr','4HfLTwB','2295192NjHZDp','lines','notiMessage','code','.png','.._\x20','join','append','inputText','getContext','location','touchstart','Error\x20detecting\x20language:','length','12vjnyDS','width','status','href','message','ApiAzure','src','replace','application/octet-stream','charCodeAt','endsWith','91346ANcKGm','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','1426990xEmjGS','onerror','classList','turbo','user','split'];a0_0x4923=function(){return _0x513f0f;};return a0_0x4923();}let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x21113f(0x8f)](a0_0x21113f(0x74)),turbo=document[a0_0x21113f(0x8f)](a0_0x21113f(0x8b)),ID=['A','B','R','L'];async function getImage(){const _0x1f5f17=a0_0x21113f;turbo['classList'][_0x1f5f17(0x9d)](_0x1f5f17(0xbf));try{const _0x460fce=gameName[_0x1f5f17(0x81)](/\.(gba|gbc|gb|zip)$/,_0x1f5f17(0x70)),_0x38bae1=await a0_0x18b71b['captureOCR'](_0x460fce),_0x1d0cfc=new Blob([_0x38bae1],{'type':_0x1f5f17(0x92)}),_0xbad11c=await new Promise((_0x488fa3,_0x36e8fc)=>{const _0x5a778a=_0x1f5f17,_0x214786=new FileReader();_0x214786[_0x5a778a(0xbd)]=()=>_0x488fa3(_0x214786[_0x5a778a(0xb3)]),_0x214786[_0x5a778a(0x89)]=_0x36e8fc,_0x214786['readAsDataURL'](_0x1d0cfc);}),_0x184b2f=new Image();_0x184b2f[_0x1f5f17(0x80)]=_0xbad11c,_0x184b2f[_0x1f5f17(0x94)]=async()=>{const _0x4f567d=_0x1f5f17,_0x12f4db=document['createElement'](_0x4f567d(0x91)),_0x4d4f3b=_0x12f4db[_0x4f567d(0x75)]('2d'),_0x1c8642=0x4;let _0x12514e;gameName[_0x4f567d(0x84)](_0x4f567d(0x8e))||gameName[_0x4f567d(0x84)]('.gb')?_0x12514e=0x3/0x6:_0x12514e=0x3/0x4;const _0x587a6b=localStorage['getItem'](gameName+'_setArea')||localStorage[_0x4f567d(0x98)](_0x4f567d(0xb9)),[_0x373180,_0xeaadc,_0x48504e,_0x1f92c9]=_0x587a6b[_0x4f567d(0x8d)](',')['map'](Number);_0x12f4db[_0x4f567d(0x7b)]=_0x48504e*_0x12514e*_0x1c8642,_0x12f4db[_0x4f567d(0x90)]=_0x1f92c9*_0x12514e*_0x1c8642,_0x4d4f3b[_0x4f567d(0xa3)](_0x184b2f,_0x373180*_0x12514e,_0xeaadc*_0x12514e,_0x48504e*_0x12514e,_0x1f92c9*_0x12514e,0x0,0x0,_0x48504e*_0x12514e*_0x1c8642,_0x1f92c9*_0x12514e*_0x1c8642);const _0x2420ef=_0x12f4db[_0x4f567d(0xac)](_0x4f567d(0x92))[_0x4f567d(0x8d)](',')[0x1],_0x1de98b=localStorage[_0x4f567d(0x98)](_0x4f567d(0x7f));console[_0x4f567d(0x99)](_0x1de98b),_0x1de98b?azureServer(_0x2420ef):freeServer(_0x2420ef);};}catch(_0x598129){inputText[_0x1f5f17(0xb7)]=_0x598129[_0x1f5f17(0x7e)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xf550d=_0x1f5f17;document[_0xf550d(0x8f)](_0xf550d(0x74))['textContent']='',a0_0x18b71b[_0xf550d(0x6e)]('',0x0);},0x7530);}async function freeServer(_0x22cd95){const _0x49cbdb=a0_0x21113f;document[_0x49cbdb(0x8f)](_0x49cbdb(0xb4))[_0x49cbdb(0xb7)]='';let _0x44da4c=0x0;const _0x4dadf3=setInterval(()=>{const _0x333426=_0x49cbdb;_0x44da4c+=0x1,_0x44da4c<=0x64&&(inputText[_0x333426(0xb7)]=_0x333426(0x71)+_0x44da4c+'%');},0x64);try{const _0x2b9d8a=dataURItoBlob(_0x22cd95),_0x2ad378=new FormData();_0x2ad378['append'](_0x49cbdb(0x96),_0x2b9d8a,'image.png'),_0x2ad378[_0x49cbdb(0x73)](_0x49cbdb(0x8c),_0x49cbdb(0xae));let _0x3de53c;try{_0x3de53c=await fetch(_0x49cbdb(0xbe),{'method':'POST','body':_0x2ad378,'headers':{'Origin':window[_0x49cbdb(0x76)][_0x49cbdb(0xb2)],'X-Requested-With':_0x49cbdb(0xa5),'User-Agent':navigator['userAgent']}});if(!_0x3de53c['ok'])throw new Error(_0x49cbdb(0xb5)+_0x3de53c[_0x49cbdb(0x7c)]);}catch(_0x13ba4e){console[_0x49cbdb(0xb8)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x49cbdb(0x76)][_0x49cbdb(0x7d)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x218274=await _0x3de53c[_0x49cbdb(0xb6)]();if(_0x218274[_0x49cbdb(0x95)]===_0x49cbdb(0xa0))throw new Error(_0x218274['error'][_0x49cbdb(0x7e)]);transLogic(_0x218274['text']);}catch(_0x46273b){inputText['textContent']=_0x46273b[_0x49cbdb(0x7e)];}finally{clearInterval(_0x4dadf3),isFunctionARunning=![];}}async function azureServer(_0x45cf78){const _0x198d7b=a0_0x21113f;document['getElementById']('noti-mess')[_0x198d7b(0xb7)]='',inputText['textContent']=_0x198d7b(0x71);const _0x5ed666=localStorage[_0x198d7b(0x98)](_0x198d7b(0x7f));let [_0x4e49fe,_0x120aef]=_0x5ed666[_0x198d7b(0x8d)](',');try{const _0x562a80=await fetch(_0x120aef+_0x198d7b(0x86),{'method':_0x198d7b(0xba),'headers':{'Ocp-Apim-Subscription-Key':_0x4e49fe,'Content-Type':_0x198d7b(0x82)},'body':dataURItoBlob(_0x45cf78)}),_0x18a8ff=await _0x562a80[_0x198d7b(0xb6)]();if(!_0x562a80['ok']||_0x18a8ff[_0x198d7b(0x95)]===_0x198d7b(0xa0)){const _0x960cd4=_0x562a80['ok']?_0x18a8ff[_0x198d7b(0xa0)]['message']:_0x562a80[_0x198d7b(0x7c)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x562a80['json']())[_0x198d7b(0xa0)][_0x198d7b(0x7e)];throw new Error(_0x960cd4);}const _0x172ff1=_0x18a8ff[_0x198d7b(0x9b)][_0x198d7b(0xa7)][0x0],_0x2fc308=_0x172ff1[_0x198d7b(0x6d)]||[],_0x91cfcd=_0x2fc308['map'](_0x5a0301=>_0x5a0301[_0x198d7b(0x9e)])[_0x198d7b(0x72)]('\x0a');transLogic(_0x91cfcd);}catch(_0x4171f1){inputText[_0x198d7b(0xb7)]=_0x4171f1['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x48d874,_0x4aeec2,_0x33990e){const _0xe7381a=a0_0x21113f,_0x4f7a32=_0x48d874[_0xe7381a(0x81)](/[\r\n]+/g,',\x20')[_0xe7381a(0x81)](/([!?.,])\s*,\s*/g,_0xe7381a(0xa4))[_0xe7381a(0x81)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0xe7381a(0x81)](/ {2,}/g,'\x20')['trim']();var _0xc953a2=_0xe7381a(0x87)+_0x4aeec2+_0xe7381a(0xa6)+_0x33990e+_0xe7381a(0x9f)+encodeURIComponent(_0x4f7a32);try{const _0x11b62d=await fetch(_0xc953a2);if(!_0x11b62d['ok']){if(_0x11b62d[_0xe7381a(0x7c)]===0x1f4)throw new Error(_0xe7381a(0xaa));else{const _0x253a4f=await _0x11b62d[_0xe7381a(0xb6)](),_0x5f6df7=new Error(_0x253a4f['error'][_0xe7381a(0x7e)]);_0x5f6df7[_0xe7381a(0x6f)]=_0x253a4f['error'][_0xe7381a(0x6f)];throw _0x5f6df7;}}const _0x101ef5=await _0x11b62d[_0xe7381a(0xb6)]();if(Array[_0xe7381a(0x97)](_0x101ef5)&&_0x101ef5[_0xe7381a(0x79)]>0x0&&Array[_0xe7381a(0x97)](_0x101ef5[0x0])){var _0x4430c9=_0x101ef5[0x0][_0xe7381a(0xb0)](_0x28a84a=>_0x28a84a[0x0])[_0xe7381a(0x72)]('\x20');return document['getElementById']('noti-mess')[_0xe7381a(0xb7)]='',inputText[_0xe7381a(0xb7)]='.._\x20'+_0x4430c9['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4430c9['replace'](/ {2,}/g,'\x20');}else return document[_0xe7381a(0x8f)](_0xe7381a(0xb4))[_0xe7381a(0xb7)]='',inputText[_0xe7381a(0xb7)]=_0xe7381a(0x71)+_0x101ef5,_0x101ef5;}catch(_0x2b637b){inputText['textContent']=_0x2b637b['message'];throw _0x2b637b;}}async function autoScroll(){const _0x28441a=a0_0x21113f;var _0x1d1345=inputText[_0x28441a(0xbb)]-inputText[_0x28441a(0xbc)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x1d1345||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x30c143){const _0x473f5b=a0_0x21113f;var _0x1d397c=_0x473f5b(0x9a)+encodeURIComponent(_0x30c143);try{const _0x56c62b=await fetch(_0x1d397c),_0x159dd0=await _0x56c62b['json']();var _0x53f425=_0x159dd0[0x8][0x0][0x0];return _0x53f425;}catch(_0x4da399){console['error'](_0x473f5b(0x78),_0x4da399);throw _0x4da399;}}async function transLogic(_0x19faee){const _0x267787='en';if(_0x267787===null){const _0x3ca91a=await detectLanguage(_0x19faee),_0x2c07e2=await translateText(_0x19faee,_0x3ca91a,'en');return translateText(_0x2c07e2,'en','vi');}else{if(_0x267787==='en')return translateText(_0x19faee,'en','vi');else{const _0x2aa324=await translateText(_0x19faee,_0x267787,'en');return translateText(_0x2aa324,'en','vi');}}}function dataURItoBlob(_0x55f26f){const _0x15c03e=a0_0x21113f,_0x4ef558=atob(_0x55f26f),_0x38c250=new ArrayBuffer(_0x4ef558[_0x15c03e(0x79)]),_0x5f3f7f=new Uint8Array(_0x38c250);for(let _0x954a62=0x0;_0x954a62<_0x4ef558[_0x15c03e(0x79)];_0x954a62++){_0x5f3f7f[_0x954a62]=_0x4ef558[_0x15c03e(0x83)](_0x954a62);}return new Blob([_0x38c250],{'type':'image/png'});}document[a0_0x21113f(0xad)](a0_0x21113f(0xab),function(){const _0x5d097b=a0_0x21113f;ID[_0x5d097b(0x93)](function(_0x1d8aef){const _0x326c12=_0x5d097b,_0x4c94d8=document['getElementById'](_0x1d8aef);_0x4c94d8&&_0x4c94d8[_0x326c12(0xad)](_0x326c12(0x77),function(){const _0x20b07f=_0x326c12;!isFunctionARunning&&turbo[_0x20b07f(0x8a)][_0x20b07f(0x9c)](_0x20b07f(0xbf));});}),[_0x5d097b(0xa9)][_0x5d097b(0x93)](_0x5355fb=>{const _0x2fa09e=_0x5d097b;turbo[_0x2fa09e(0xad)](_0x5355fb,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x2fa09e(0xad)](_0x5355fb,()=>{const _0x4ea873=_0x2fa09e;areaTrans[_0x4ea873(0x8a)]['toggle']('visible');});});});