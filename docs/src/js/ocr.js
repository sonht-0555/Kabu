const a0_0x4c34ba=a0_0x4136;(function(_0x590f39,_0x1da8cf){const _0x2b31e9=a0_0x4136,_0x5089ac=_0x590f39();while(!![]){try{const _0x4cf5bb=parseInt(_0x2b31e9(0xaa))/0x1+parseInt(_0x2b31e9(0xac))/0x2+parseInt(_0x2b31e9(0xb6))/0x3+parseInt(_0x2b31e9(0xb3))/0x4+parseInt(_0x2b31e9(0x8d))/0x5*(parseInt(_0x2b31e9(0xb8))/0x6)+parseInt(_0x2b31e9(0xb5))/0x7*(parseInt(_0x2b31e9(0xc2))/0x8)+-parseInt(_0x2b31e9(0x87))/0x9;if(_0x4cf5bb===_0x1da8cf)break;else _0x5089ac['push'](_0x5089ac['shift']());}catch(_0x1d7e94){_0x5089ac['push'](_0x5089ac['shift']());}}}(a0_0x58f4,0xa0314));import*as a0_0x1b8449 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x58f4(){const _0x14ce80=['https://translate.googleapis.com/translate_a/single?client=gtx&sl=','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','inputText','location','screenSize','warn','XMLHttpRequest','classList','toggle','visible','message','append','$1\x20','noti-mess','Error\x20detecting\x20language:','endsWith','887625JwqFal','type','890738zXmEaE','textContent','width','DOMContentLoaded','remove','POST','image.png','659552xckkzu','getContext','494186JRkUgP','1791240hFtUrX','origin','4344yTCOjh','turbo-ocr','.._\x20','getElementById','href','canvas','code','blocks','getItem','charCodeAt','32eRLXjg','userAgent','onloadend','replace','forEach','readAsDataURL','image/png','length','https://cors-anywhere.herokuapp.com/corsdemo','drawImage','join','addEventListener','.gb','captureOCR','lines','&tl=','touchend','user','image','application/octet-stream','trim','map','error','src','23257926PgrAfp','HTTP\x20Error:\x20','json','result','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','turbo','5960RHGTox','add','Internal\x20Server\x20Error','ApiAzure','height','status','createElement','isArray','.gbc','notiMessage','.png','split','text'];a0_0x58f4=function(){return _0x14ce80;};return a0_0x58f4();}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x4c34ba(0xbb)](a0_0x4c34ba(0x9c)),turbo=document['getElementById'](a0_0x4c34ba(0x8c)),ID=['A','B','R','L'];async function getImage(){const _0x5e6e7e=a0_0x4c34ba;turbo[_0x5e6e7e(0xa1)][_0x5e6e7e(0x8e)](_0x5e6e7e(0xb9));try{const _0x242d82=gameName[_0x5e6e7e(0xc5)](/\.(gba|gbc|gb|zip)$/,_0x5e6e7e(0x97)),_0x5e989c=await a0_0x1b8449[_0x5e6e7e(0xcf)](_0x242d82),_0x6e09b=new Blob([_0x5e989c],{'type':_0x5e6e7e(0xc8)}),_0x193592=await new Promise((_0x3e47f0,_0x5b9f92)=>{const _0x28019e=_0x5e6e7e,_0x465f67=new FileReader();_0x465f67[_0x28019e(0xc4)]=()=>_0x3e47f0(_0x465f67[_0x28019e(0x8a)]),_0x465f67['onerror']=_0x5b9f92,_0x465f67[_0x28019e(0xc7)](_0x6e09b);}),_0x4a49c8=new Image();_0x4a49c8[_0x5e6e7e(0x86)]=_0x193592,_0x4a49c8['onload']=async()=>{const _0x51a3ec=_0x5e6e7e,_0x136b20=document[_0x51a3ec(0x93)](_0x51a3ec(0xbd)),_0x1c86ee=_0x136b20[_0x51a3ec(0xb4)]('2d'),_0x927bb4=0x4;let _0x512f45;gameName[_0x51a3ec(0xa9)](_0x51a3ec(0x95))||gameName[_0x51a3ec(0xa9)](_0x51a3ec(0xce))?_0x512f45=0x3/0x6:_0x512f45=0x3/0x4;const _0x1e0eac=localStorage['getItem'](gameName+'_setArea')||localStorage['getItem'](_0x51a3ec(0x9e)),[_0x67dea1,_0x13c5b8,_0x11821a,_0x341509]=_0x1e0eac['split'](',')[_0x51a3ec(0xd7)](Number);_0x136b20[_0x51a3ec(0xae)]=_0x11821a*_0x512f45*_0x927bb4,_0x136b20[_0x51a3ec(0x91)]=_0x341509*_0x512f45*_0x927bb4,_0x1c86ee[_0x51a3ec(0xcb)](_0x4a49c8,_0x67dea1*_0x512f45,_0x13c5b8*_0x512f45,_0x11821a*_0x512f45,_0x341509*_0x512f45,0x0,0x0,_0x11821a*_0x512f45*_0x927bb4,_0x341509*_0x512f45*_0x927bb4);const _0x13c1ec=_0x136b20['toDataURL'](_0x51a3ec(0xc8))[_0x51a3ec(0x98)](',')[0x1],_0x29a1fb=localStorage[_0x51a3ec(0xc0)](_0x51a3ec(0x90));console['log'](_0x29a1fb),_0x29a1fb?azureServer(_0x13c1ec):freeServer(_0x13c1ec);};}catch(_0x25dfea){inputText[_0x5e6e7e(0xad)]=_0x25dfea[_0x5e6e7e(0xa4)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2f55e8=_0x5e6e7e;document['getElementById'](_0x2f55e8(0x9c))[_0x2f55e8(0xad)]='',a0_0x1b8449[_0x2f55e8(0x96)]('',0x0);},0x7530);}async function freeServer(_0x44dca0){const _0x54d887=a0_0x4c34ba;document[_0x54d887(0xbb)](_0x54d887(0xa7))[_0x54d887(0xad)]='';let _0x2cb872=0x0;const _0xb5201a=setInterval(()=>{const _0x209ad7=_0x54d887;_0x2cb872+=0x1,_0x2cb872<=0x64&&(inputText[_0x209ad7(0xad)]='.._\x20'+_0x2cb872+'%');},0x64);try{const _0x410da1=dataURItoBlob(_0x44dca0),_0x26e75e=new FormData();_0x26e75e[_0x54d887(0xa5)](_0x54d887(0xd4),_0x410da1,_0x54d887(0xb2)),_0x26e75e['append'](_0x54d887(0xd3),_0x54d887(0x8b));let _0x265fbe;try{_0x265fbe=await fetch(_0x54d887(0x9b),{'method':_0x54d887(0xb1),'body':_0x26e75e,'headers':{'Origin':window[_0x54d887(0x9d)][_0x54d887(0xb7)],'X-Requested-With':_0x54d887(0xa0),'User-Agent':navigator[_0x54d887(0xc3)]}});if(!_0x265fbe['ok'])throw new Error(_0x54d887(0x88)+_0x265fbe[_0x54d887(0x92)]);}catch(_0xce09d9){console[_0x54d887(0x9f)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x54d887(0x9d)][_0x54d887(0xbc)]=_0x54d887(0xca);return;}const _0x8dc761=await _0x265fbe['json']();if(_0x8dc761[_0x54d887(0xab)]===_0x54d887(0x85))throw new Error(_0x8dc761['error']['message']);transLogic(_0x8dc761[_0x54d887(0x99)]);}catch(_0x2d2720){inputText[_0x54d887(0xad)]=_0x2d2720[_0x54d887(0xa4)];}finally{clearInterval(_0xb5201a),isFunctionARunning=![];}}async function azureServer(_0xe6b8ce){const _0x598f1f=a0_0x4c34ba;document['getElementById'](_0x598f1f(0xa7))[_0x598f1f(0xad)]='',inputText['textContent']=_0x598f1f(0xba);const _0x1755a2=localStorage[_0x598f1f(0xc0)](_0x598f1f(0x90));let [_0x56577d,_0x3d7352]=_0x1755a2[_0x598f1f(0x98)](',');try{const _0x482c85=await fetch(_0x3d7352+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x598f1f(0xb1),'headers':{'Ocp-Apim-Subscription-Key':_0x56577d,'Content-Type':_0x598f1f(0xd5)},'body':dataURItoBlob(_0xe6b8ce)}),_0x4d8f4a=await _0x482c85[_0x598f1f(0x89)]();if(!_0x482c85['ok']||_0x4d8f4a['type']===_0x598f1f(0x85)){const _0x58b7d4=_0x482c85['ok']?_0x4d8f4a[_0x598f1f(0x85)][_0x598f1f(0xa4)]:_0x482c85['status']===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x482c85[_0x598f1f(0x89)]())[_0x598f1f(0x85)][_0x598f1f(0xa4)];throw new Error(_0x58b7d4);}const _0xa755fd=_0x4d8f4a['readResult'][_0x598f1f(0xbf)][0x0],_0x1e2dad=_0xa755fd[_0x598f1f(0xd0)]||[],_0x280192=_0x1e2dad['map'](_0x20d3c9=>_0x20d3c9[_0x598f1f(0x99)])[_0x598f1f(0xcc)]('\x0a');transLogic(_0x280192);}catch(_0x49b143){inputText['textContent']=_0x49b143[_0x598f1f(0xa4)];}finally{isFunctionARunning=![];}}async function translateText(_0x4ceeed,_0x512bb3,_0x468e10){const _0x3aec6e=a0_0x4c34ba,_0x433391=_0x4ceeed[_0x3aec6e(0xc5)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x3aec6e(0xa6))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x3aec6e(0xc5)](/ {2,}/g,'\x20')[_0x3aec6e(0xd6)]();var _0x319ee1=_0x3aec6e(0x9a)+_0x512bb3+_0x3aec6e(0xd1)+_0x468e10+'&dt=t&q='+encodeURIComponent(_0x433391);try{const _0x41b4c4=await fetch(_0x319ee1);if(!_0x41b4c4['ok']){if(_0x41b4c4[_0x3aec6e(0x92)]===0x1f4)throw new Error(_0x3aec6e(0x8f));else{const _0x51cec8=await _0x41b4c4[_0x3aec6e(0x89)](),_0x4b021d=new Error(_0x51cec8[_0x3aec6e(0x85)][_0x3aec6e(0xa4)]);_0x4b021d[_0x3aec6e(0xbe)]=_0x51cec8[_0x3aec6e(0x85)][_0x3aec6e(0xbe)];throw _0x4b021d;}}const _0x3de4ce=await _0x41b4c4[_0x3aec6e(0x89)]();if(Array[_0x3aec6e(0x94)](_0x3de4ce)&&_0x3de4ce[_0x3aec6e(0xc9)]>0x0&&Array['isArray'](_0x3de4ce[0x0])){var _0x592c5c=_0x3de4ce[0x0][_0x3aec6e(0xd7)](_0x4ce2d4=>_0x4ce2d4[0x0])['join']('\x20');return document[_0x3aec6e(0xbb)](_0x3aec6e(0xa7))[_0x3aec6e(0xad)]='',inputText[_0x3aec6e(0xad)]=_0x3aec6e(0xba)+_0x592c5c['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x592c5c[_0x3aec6e(0xc5)](/ {2,}/g,'\x20');}else return document[_0x3aec6e(0xbb)](_0x3aec6e(0xa7))['textContent']='',inputText['textContent']=_0x3aec6e(0xba)+_0x3de4ce,_0x3de4ce;}catch(_0x3e94c9){inputText[_0x3aec6e(0xad)]=_0x3e94c9[_0x3aec6e(0xa4)];throw _0x3e94c9;}}async function autoScroll(){var _0x209d3b=inputText['scrollWidth']-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x209d3b||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x243173){const _0x11c6d9=a0_0x4c34ba;var _0x577f66='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x243173);try{const _0x3f192a=await fetch(_0x577f66),_0x3a122d=await _0x3f192a[_0x11c6d9(0x89)]();var _0x43c3dc=_0x3a122d[0x8][0x0][0x0];return _0x43c3dc;}catch(_0x5da42b){console['error'](_0x11c6d9(0xa8),_0x5da42b);throw _0x5da42b;}}function a0_0x4136(_0x1d3437,_0x185fbc){const _0x58f488=a0_0x58f4();return a0_0x4136=function(_0x413664,_0x446676){_0x413664=_0x413664-0x85;let _0xc32e86=_0x58f488[_0x413664];return _0xc32e86;},a0_0x4136(_0x1d3437,_0x185fbc);}async function transLogic(_0x217ff5){const _0x2fc489='en';if(_0x2fc489===null){const _0x581d5e=await detectLanguage(_0x217ff5),_0x225860=await translateText(_0x217ff5,_0x581d5e,'en');return translateText(_0x225860,'en','vi');}else{if(_0x2fc489==='en')return translateText(_0x217ff5,'en','vi');else{const _0x3f6dfc=await translateText(_0x217ff5,_0x2fc489,'en');return translateText(_0x3f6dfc,'en','vi');}}}function dataURItoBlob(_0x2512e2){const _0x3e565d=a0_0x4c34ba,_0x177ae2=atob(_0x2512e2),_0xcf02d2=new ArrayBuffer(_0x177ae2[_0x3e565d(0xc9)]),_0x17ef58=new Uint8Array(_0xcf02d2);for(let _0x28163e=0x0;_0x28163e<_0x177ae2[_0x3e565d(0xc9)];_0x28163e++){_0x17ef58[_0x28163e]=_0x177ae2[_0x3e565d(0xc1)](_0x28163e);}return new Blob([_0xcf02d2],{'type':_0x3e565d(0xc8)});}document[a0_0x4c34ba(0xcd)](a0_0x4c34ba(0xaf),function(){const _0x4b09d8=a0_0x4c34ba;ID[_0x4b09d8(0xc6)](function(_0x35dbed){const _0x5d2f48=_0x4b09d8,_0x1ff6bd=document[_0x5d2f48(0xbb)](_0x35dbed);_0x1ff6bd&&_0x1ff6bd[_0x5d2f48(0xcd)]('touchstart',function(){const _0x328ed1=_0x5d2f48;!isFunctionARunning&&turbo[_0x328ed1(0xa1)][_0x328ed1(0xb0)]('turbo-ocr');});}),[_0x4b09d8(0xd2)][_0x4b09d8(0xc6)](_0x5d6f27=>{turbo['addEventListener'](_0x5d6f27,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x5d6f27,()=>{const _0x235e7f=a0_0x4136;areaTrans[_0x235e7f(0xa1)][_0x235e7f(0xa2)](_0x235e7f(0xa3));});});});