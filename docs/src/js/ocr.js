const a0_0x42eb8a=a0_0x4ab2;function a0_0x3872(){const _0x540006=['endsWith','.png','toggle','add','charCodeAt','.._\x20','onload','location','getItem','.gbc','onerror','turbo','1565544WBMpzp','type','onloadend','code','warn','text','remove','9BrXabH','https://cors-anywhere.herokuapp.com/corsdemo','origin','397776yOatgX','length','src','height','XMLHttpRequest','map','Internal\x20Server\x20Error','lines','touchend','&tl=','replace','$1\x20','append','log','isArray','application/octet-stream','error','1547750PZaXgR','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','1031947GBwEbg','18iwIanR','image.png','image/png','DOMContentLoaded','message','width','ApiAzure','14872cmcLHe','json','_setArea','246765OaqKqw','notiMessage','560352FMlIKw','&dt=t&q=','readAsDataURL','Error\x20detecting\x20language:','drawImage','image','2NOrdxQ','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','textContent','createElement','turbo-ocr','forEach','inputText','getElementById','visible','addEventListener','join','canvas','userAgent','noti-mess','status','POST','.gb','classList','split'];a0_0x3872=function(){return _0x540006;};return a0_0x3872();}(function(_0x5b9558,_0x4b7534){const _0x26570f=a0_0x4ab2,_0x2f8526=_0x5b9558();while(!![]){try{const _0x44fdd1=parseInt(_0x26570f(0x18d))/0x1*(-parseInt(_0x26570f(0x182))/0x2)+parseInt(_0x26570f(0x187))/0x3+-parseInt(_0x26570f(0x1b7))/0x4+-parseInt(_0x26570f(0x185))/0x5*(parseInt(_0x26570f(0x1cb))/0x6)+parseInt(_0x26570f(0x1ca))/0x7+parseInt(_0x26570f(0x1ad))/0x8+parseInt(_0x26570f(0x1b4))/0x9*(-parseInt(_0x26570f(0x1c8))/0xa);if(_0x44fdd1===_0x4b7534)break;else _0x2f8526['push'](_0x2f8526['shift']());}catch(_0x350f91){_0x2f8526['push'](_0x2f8526['shift']());}}}(a0_0x3872,0x1b86c));import*as a0_0x23b374 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x42eb8a(0x195)](a0_0x42eb8a(0x194)),turbo=document[a0_0x42eb8a(0x195)](a0_0x42eb8a(0x1ac)),ID=['A','B','R','L'];async function getImage(){const _0x8ece23=a0_0x42eb8a;turbo[_0x8ece23(0x19f)][_0x8ece23(0x1a4)](_0x8ece23(0x192));try{const _0x273151=gameName[_0x8ece23(0x1c1)](/\.(gba|gbc|gb|zip)$/,_0x8ece23(0x1a2)),_0x2edd61=await a0_0x23b374['captureOCR'](_0x273151),_0x986202=new Blob([_0x2edd61],{'type':_0x8ece23(0x17d)}),_0x4dc21c=await new Promise((_0xaa7ad8,_0xba9dde)=>{const _0x58b2c1=_0x8ece23,_0xd67a0a=new FileReader();_0xd67a0a[_0x58b2c1(0x1af)]=()=>_0xaa7ad8(_0xd67a0a['result']),_0xd67a0a[_0x58b2c1(0x1ab)]=_0xba9dde,_0xd67a0a[_0x58b2c1(0x189)](_0x986202);}),_0xefb2d5=new Image();_0xefb2d5[_0x8ece23(0x1b9)]=_0x4dc21c,_0xefb2d5[_0x8ece23(0x1a7)]=async()=>{const _0x174f3c=_0x8ece23,_0x1c8455=document[_0x174f3c(0x191)](_0x174f3c(0x199)),_0x2a4645=_0x1c8455['getContext']('2d'),_0x29409b=0x4;let _0x5db929;gameName[_0x174f3c(0x1a1)](_0x174f3c(0x1aa))||gameName[_0x174f3c(0x1a1)](_0x174f3c(0x19e))?_0x5db929=0x3/0x6:_0x5db929=0x3/0x4;const _0x158e2e=localStorage['getItem'](gameName+_0x174f3c(0x184))||localStorage[_0x174f3c(0x1a9)]('screenSize'),[_0x1a49b7,_0x4957c9,_0x25754e,_0x4674b2]=_0x158e2e['split'](',')[_0x174f3c(0x1bc)](Number);_0x1c8455[_0x174f3c(0x180)]=_0x25754e*_0x5db929*_0x29409b,_0x1c8455[_0x174f3c(0x1ba)]=_0x4674b2*_0x5db929*_0x29409b,_0x2a4645[_0x174f3c(0x18b)](_0xefb2d5,_0x1a49b7*_0x5db929,_0x4957c9*_0x5db929,_0x25754e*_0x5db929,_0x4674b2*_0x5db929,0x0,0x0,_0x25754e*_0x5db929*_0x29409b,_0x4674b2*_0x5db929*_0x29409b);const _0x44ac76=_0x1c8455['toDataURL'](_0x174f3c(0x17d))[_0x174f3c(0x1a0)](',')[0x1],_0x53b43b=localStorage[_0x174f3c(0x1a9)](_0x174f3c(0x181));console[_0x174f3c(0x1c4)](_0x53b43b),_0x53b43b?azureServer(_0x44ac76):freeServer(_0x44ac76);};}catch(_0x2cc1f6){inputText[_0x8ece23(0x190)]=_0x2cc1f6[_0x8ece23(0x17f)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x4a53e4=_0x8ece23;document['getElementById'](_0x4a53e4(0x194))[_0x4a53e4(0x190)]='',a0_0x23b374[_0x4a53e4(0x186)]('',0x0);},0x7530);}async function freeServer(_0x210b42){const _0x1d02f1=a0_0x42eb8a;document[_0x1d02f1(0x195)](_0x1d02f1(0x19b))[_0x1d02f1(0x190)]='';let _0x69b07c=0x0;const _0x48a731=setInterval(()=>{const _0x431944=_0x1d02f1;_0x69b07c+=0x1,_0x69b07c<=0x64&&(inputText[_0x431944(0x190)]=_0x431944(0x1a6)+_0x69b07c+'%');},0x64);try{const _0x2ee0b2=dataURItoBlob(_0x210b42),_0x3ecc49=new FormData();_0x3ecc49[_0x1d02f1(0x1c3)](_0x1d02f1(0x18c),_0x2ee0b2,_0x1d02f1(0x1cc)),_0x3ecc49['append']('user','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2');let _0x3e8584;try{_0x3e8584=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x1d02f1(0x19d),'body':_0x3ecc49,'headers':{'Origin':window[_0x1d02f1(0x1a8)][_0x1d02f1(0x1b6)],'X-Requested-With':_0x1d02f1(0x1bb),'User-Agent':navigator[_0x1d02f1(0x19a)]}});if(!_0x3e8584['ok'])throw new Error('HTTP\x20Error:\x20'+_0x3e8584['status']);}catch(_0x59ec77){console[_0x1d02f1(0x1b1)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x1d02f1(0x1a8)]['href']=_0x1d02f1(0x1b5);return;}const _0x578819=await _0x3e8584[_0x1d02f1(0x183)]();if(_0x578819['type']===_0x1d02f1(0x1c7))throw new Error(_0x578819[_0x1d02f1(0x1c7)][_0x1d02f1(0x17f)]);transLogic(_0x578819[_0x1d02f1(0x1b2)]);}catch(_0x486eff){inputText[_0x1d02f1(0x190)]=_0x486eff[_0x1d02f1(0x17f)];}finally{clearInterval(_0x48a731),isFunctionARunning=![];}}async function azureServer(_0xb2d52b){const _0x33a924=a0_0x42eb8a;document[_0x33a924(0x195)](_0x33a924(0x19b))[_0x33a924(0x190)]='',inputText['textContent']=_0x33a924(0x1a6);const _0x3f9b76=localStorage['getItem']('ApiAzure');let [_0x4e5bf1,_0x546492]=_0x3f9b76[_0x33a924(0x1a0)](',');try{const _0x2b2b89=await fetch(_0x546492+_0x33a924(0x1c9),{'method':_0x33a924(0x19d),'headers':{'Ocp-Apim-Subscription-Key':_0x4e5bf1,'Content-Type':_0x33a924(0x1c6)},'body':dataURItoBlob(_0xb2d52b)}),_0x5f376e=await _0x2b2b89[_0x33a924(0x183)]();if(!_0x2b2b89['ok']||_0x5f376e[_0x33a924(0x1ae)]===_0x33a924(0x1c7)){const _0xe057ec=_0x2b2b89['ok']?_0x5f376e[_0x33a924(0x1c7)][_0x33a924(0x17f)]:_0x2b2b89['status']===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x2b2b89[_0x33a924(0x183)]())[_0x33a924(0x1c7)]['message'];throw new Error(_0xe057ec);}const _0x381746=_0x5f376e['readResult']['blocks'][0x0],_0x4f90fb=_0x381746[_0x33a924(0x1be)]||[],_0x4f482e=_0x4f90fb[_0x33a924(0x1bc)](_0x5d27ea=>_0x5d27ea[_0x33a924(0x1b2)])[_0x33a924(0x198)]('\x0a');transLogic(_0x4f482e);}catch(_0x462614){inputText['textContent']=_0x462614[_0x33a924(0x17f)];}finally{isFunctionARunning=![];}}async function translateText(_0x3e228c,_0xa3217e,_0x2f4229){const _0x374dfc=a0_0x42eb8a,_0x4c8684=_0x3e228c[_0x374dfc(0x1c1)](/[\r\n]+/g,',\x20')[_0x374dfc(0x1c1)](/([!?.,])\s*,\s*/g,_0x374dfc(0x1c2))[_0x374dfc(0x1c1)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')['trim']();var _0x5a3844=_0x374dfc(0x18f)+_0xa3217e+_0x374dfc(0x1c0)+_0x2f4229+_0x374dfc(0x188)+encodeURIComponent(_0x4c8684);try{const _0x208408=await fetch(_0x5a3844);if(!_0x208408['ok']){if(_0x208408[_0x374dfc(0x19c)]===0x1f4)throw new Error(_0x374dfc(0x1bd));else{const _0x3e0bac=await _0x208408[_0x374dfc(0x183)](),_0x368f3b=new Error(_0x3e0bac[_0x374dfc(0x1c7)][_0x374dfc(0x17f)]);_0x368f3b[_0x374dfc(0x1b0)]=_0x3e0bac[_0x374dfc(0x1c7)]['code'];throw _0x368f3b;}}const _0x3d9a2f=await _0x208408['json']();if(Array[_0x374dfc(0x1c5)](_0x3d9a2f)&&_0x3d9a2f[_0x374dfc(0x1b8)]>0x0&&Array['isArray'](_0x3d9a2f[0x0])){var _0x30bb67=_0x3d9a2f[0x0]['map'](_0x488127=>_0x488127[0x0])[_0x374dfc(0x198)]('\x20');return document['getElementById'](_0x374dfc(0x19b))['textContent']='',inputText['textContent']=_0x374dfc(0x1a6)+_0x30bb67[_0x374dfc(0x1c1)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x30bb67['replace'](/ {2,}/g,'\x20');}else return document[_0x374dfc(0x195)](_0x374dfc(0x19b))['textContent']='',inputText[_0x374dfc(0x190)]=_0x374dfc(0x1a6)+_0x3d9a2f,_0x3d9a2f;}catch(_0x1ed236){inputText[_0x374dfc(0x190)]=_0x1ed236[_0x374dfc(0x17f)];throw _0x1ed236;}}async function autoScroll(){var _0x2469b7=inputText['scrollWidth']-inputText['clientWidth'];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2469b7||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText['scrollLeft']=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x221048){const _0x4bccb2=a0_0x42eb8a;var _0xd729bb=_0x4bccb2(0x18e)+encodeURIComponent(_0x221048);try{const _0x5a4812=await fetch(_0xd729bb),_0x21a5c6=await _0x5a4812[_0x4bccb2(0x183)]();var _0x57677d=_0x21a5c6[0x8][0x0][0x0];return _0x57677d;}catch(_0x5b3de0){console[_0x4bccb2(0x1c7)](_0x4bccb2(0x18a),_0x5b3de0);throw _0x5b3de0;}}function a0_0x4ab2(_0x409d8a,_0x24b628){const _0x3872e9=a0_0x3872();return a0_0x4ab2=function(_0x4ab246,_0x4fa552){_0x4ab246=_0x4ab246-0x17d;let _0x531d9f=_0x3872e9[_0x4ab246];return _0x531d9f;},a0_0x4ab2(_0x409d8a,_0x24b628);}async function transLogic(_0x55fc07){const _0x2be143='en';if(_0x2be143===null){const _0xf83da8=await detectLanguage(_0x55fc07),_0xfb0282=await translateText(_0x55fc07,_0xf83da8,'en');return translateText(_0xfb0282,'en','vi');}else{if(_0x2be143==='en')return translateText(_0x55fc07,'en','vi');else{const _0x3f39f3=await translateText(_0x55fc07,_0x2be143,'en');return translateText(_0x3f39f3,'en','vi');}}}function dataURItoBlob(_0x3520e5){const _0x31b61a=a0_0x42eb8a,_0x54c5a0=atob(_0x3520e5),_0x4b2db2=new ArrayBuffer(_0x54c5a0[_0x31b61a(0x1b8)]),_0xbca926=new Uint8Array(_0x4b2db2);for(let _0x13888c=0x0;_0x13888c<_0x54c5a0[_0x31b61a(0x1b8)];_0x13888c++){_0xbca926[_0x13888c]=_0x54c5a0[_0x31b61a(0x1a5)](_0x13888c);}return new Blob([_0x4b2db2],{'type':'image/png'});}document[a0_0x42eb8a(0x197)](a0_0x42eb8a(0x17e),function(){const _0xfbfeab=a0_0x42eb8a;ID['forEach'](function(_0x5e91a1){const _0x465603=a0_0x4ab2,_0x23e89d=document[_0x465603(0x195)](_0x5e91a1);_0x23e89d&&_0x23e89d[_0x465603(0x197)]('touchstart',function(){const _0xcae061=_0x465603;!isFunctionARunning&&turbo['classList'][_0xcae061(0x1b3)](_0xcae061(0x192));});}),[_0xfbfeab(0x1bf)][_0xfbfeab(0x193)](_0xa3033e=>{const _0x558e48=_0xfbfeab;turbo['addEventListener'](_0xa3033e,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x558e48(0x197)](_0xa3033e,()=>{const _0x588493=_0x558e48;areaTrans['classList'][_0x588493(0x1a3)](_0x588493(0x196));});});});