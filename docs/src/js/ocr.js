const a0_0x590aa8=a0_0x5c5f;function a0_0x1608(){const _0x380e56=['304472McrvFQ','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','type','&tl=','message','337357EFIvxB','endsWith','visible','classList','turbo','ApiAzure','textContent','DOMContentLoaded','userAgent','split','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','height','2610455bPpIuR','2qzPoyc','readResult','XMLHttpRequest','touchend','code','onload','inputText','21iidyWy','blocks','getContext','trim','462636aLvRez','Cors-controlers\x20have\x20not\x20been\x20activated.','map','.._\x20','join','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','result','HTTP\x20Error:\x20','status','lines','addEventListener','log','origin','length','862130MPUMbF','append','clientWidth','text','isArray','turbo-ocr','forEach','remove','charCodeAt','readAsDataURL','image','application/octet-stream','noti-mess','notiMessage','src','getElementById','POST','3301299iljQms','99xlTwgN','Internal\x20Server\x20Error','captureOCR','add','scrollWidth','getItem','toggle','json','$1\x20','Error\x20detecting\x20language:','https://cors-anywhere.herokuapp.com/corsdemo','8WaQfYf','545118sTopYH','location','image/png','width','.png','scrollLeft','replace','error'];a0_0x1608=function(){return _0x380e56;};return a0_0x1608();}(function(_0x664dc2,_0x3e3468){const _0x3642dc=a0_0x5c5f,_0x34f2ef=_0x664dc2();while(!![]){try{const _0x545d16=parseInt(_0x3642dc(0x19e))/0x1*(parseInt(_0x3642dc(0x1ab))/0x2)+-parseInt(_0x3642dc(0x1b6))/0x3+-parseInt(_0x3642dc(0x199))/0x4+-parseInt(_0x3642dc(0x1aa))/0x5+parseInt(_0x3642dc(0x191))/0x6*(parseInt(_0x3642dc(0x1b2))/0x7)+parseInt(_0x3642dc(0x190))/0x8*(-parseInt(_0x3642dc(0x184))/0x9)+-parseInt(_0x3642dc(0x173))/0xa*(-parseInt(_0x3642dc(0x185))/0xb);if(_0x545d16===_0x3e3468)break;else _0x34f2ef['push'](_0x34f2ef['shift']());}catch(_0xac963){_0x34f2ef['push'](_0x34f2ef['shift']());}}}(a0_0x1608,0x41169));import*as a0_0x50fbdd from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x590aa8(0x182)](a0_0x590aa8(0x1b1)),turbo=document[a0_0x590aa8(0x182)](a0_0x590aa8(0x1a2)),ID=['A','B','R','L'];async function getImage(){const _0x1fe696=a0_0x590aa8;turbo['classList'][_0x1fe696(0x188)](_0x1fe696(0x178));try{const _0x65b274=gameName[_0x1fe696(0x197)](/\.(gba|gbc|gb|zip)$/,_0x1fe696(0x195)),_0x3a9c86=await a0_0x50fbdd[_0x1fe696(0x187)](_0x65b274),_0x3df467=new Blob([_0x3a9c86],{'type':_0x1fe696(0x193)}),_0xc06294=await new Promise((_0x5c1b79,_0x143e26)=>{const _0x1f0151=_0x1fe696,_0x287aa3=new FileReader();_0x287aa3['onloadend']=()=>_0x5c1b79(_0x287aa3[_0x1f0151(0x1bc)]),_0x287aa3['onerror']=_0x143e26,_0x287aa3[_0x1f0151(0x17c)](_0x3df467);}),_0x31ffd6=new Image();_0x31ffd6[_0x1fe696(0x181)]=_0xc06294,_0x31ffd6[_0x1fe696(0x1b0)]=async()=>{const _0x25f1f2=_0x1fe696,_0x5908ee=document['createElement']('canvas'),_0x43d40e=_0x5908ee[_0x25f1f2(0x1b4)]('2d'),_0x389c36=0x4;let _0x41bfb9;gameName['endsWith']('.gbc')||gameName[_0x25f1f2(0x19f)]('.gb')?_0x41bfb9=0x3/0x6:_0x41bfb9=0x3/0x4;const _0x435eb4=localStorage[_0x25f1f2(0x18a)](gameName+'_setArea')||localStorage[_0x25f1f2(0x18a)]('screenSize'),[_0x209718,_0x105e93,_0x335d0f,_0x57f151]=_0x435eb4[_0x25f1f2(0x1a7)](',')[_0x25f1f2(0x1b8)](Number);_0x5908ee[_0x25f1f2(0x194)]=_0x335d0f*_0x41bfb9*_0x389c36,_0x5908ee[_0x25f1f2(0x1a9)]=_0x57f151*_0x41bfb9*_0x389c36,_0x43d40e['drawImage'](_0x31ffd6,_0x209718*_0x41bfb9,_0x105e93*_0x41bfb9,_0x335d0f*_0x41bfb9,_0x57f151*_0x41bfb9,0x0,0x0,_0x335d0f*_0x41bfb9*_0x389c36,_0x57f151*_0x41bfb9*_0x389c36);const _0x45b2a6=_0x5908ee['toDataURL'](_0x25f1f2(0x193))[_0x25f1f2(0x1a7)](',')[0x1],_0x8b3cd6=localStorage[_0x25f1f2(0x18a)](_0x25f1f2(0x1a3));console[_0x25f1f2(0x1c1)](_0x8b3cd6),_0x8b3cd6?azureServer(_0x45b2a6):freeServer(_0x45b2a6);};}catch(_0x4c8756){inputText[_0x1fe696(0x1a4)]=_0x4c8756[_0x1fe696(0x19d)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x20c47e=_0x1fe696;document[_0x20c47e(0x182)]('inputText')[_0x20c47e(0x1a4)]='',a0_0x50fbdd[_0x20c47e(0x180)]('',0x0);},0x7530);}async function freeServer(_0x1b30a4){const _0x48c851=a0_0x590aa8;document[_0x48c851(0x182)](_0x48c851(0x17f))[_0x48c851(0x1a4)]='';let _0x5ea23b=0x0;const _0x63d990=setInterval(()=>{_0x5ea23b+=0x1,_0x5ea23b<=0x64&&(inputText['textContent']='.._\x20'+_0x5ea23b+'%');},0x64);try{const _0xb0775a=dataURItoBlob(_0x1b30a4),_0x535717=new FormData();_0x535717[_0x48c851(0x174)](_0x48c851(0x17d),_0xb0775a,'image.png'),_0x535717[_0x48c851(0x174)]('user',_0x48c851(0x19a));let _0x4fe4b2;try{_0x4fe4b2=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x48c851(0x183),'body':_0x535717,'headers':{'Origin':window['location'][_0x48c851(0x171)],'X-Requested-With':_0x48c851(0x1ad),'User-Agent':navigator[_0x48c851(0x1a6)]}});if(!_0x4fe4b2['ok'])throw new Error(_0x48c851(0x1bd)+_0x4fe4b2[_0x48c851(0x1be)]);}catch(_0x5e21ad){console['warn'](_0x48c851(0x1b7)),window[_0x48c851(0x192)]['href']=_0x48c851(0x18f);return;}const _0x5c1542=await _0x4fe4b2[_0x48c851(0x18c)]();if(_0x5c1542[_0x48c851(0x19b)]===_0x48c851(0x198))throw new Error(_0x5c1542[_0x48c851(0x198)][_0x48c851(0x19d)]);transLogic(_0x5c1542[_0x48c851(0x176)]);}catch(_0x4a0013){inputText[_0x48c851(0x1a4)]=_0x4a0013[_0x48c851(0x19d)];}finally{clearInterval(_0x63d990),isFunctionARunning=![];}}function a0_0x5c5f(_0x2c46f5,_0x185d5c){const _0x16087a=a0_0x1608();return a0_0x5c5f=function(_0x5c5f5a,_0x7605ec){_0x5c5f5a=_0x5c5f5a-0x171;let _0x59084a=_0x16087a[_0x5c5f5a];return _0x59084a;},a0_0x5c5f(_0x2c46f5,_0x185d5c);}async function azureServer(_0x137a21){const _0x4af49a=a0_0x590aa8;document[_0x4af49a(0x182)](_0x4af49a(0x17f))[_0x4af49a(0x1a4)]='',inputText[_0x4af49a(0x1a4)]=_0x4af49a(0x1b9);const _0x2652e0=localStorage[_0x4af49a(0x18a)](_0x4af49a(0x1a3));let [_0x7c176,_0xfffb1c]=_0x2652e0[_0x4af49a(0x1a7)](',');try{const _0x6fd962=await fetch(_0xfffb1c+_0x4af49a(0x1a8),{'method':_0x4af49a(0x183),'headers':{'Ocp-Apim-Subscription-Key':_0x7c176,'Content-Type':_0x4af49a(0x17e)},'body':dataURItoBlob(_0x137a21)}),_0x56818b=await _0x6fd962[_0x4af49a(0x18c)]();if(!_0x6fd962['ok']||_0x56818b[_0x4af49a(0x19b)]===_0x4af49a(0x198)){const _0x1f995e=_0x6fd962['ok']?_0x56818b[_0x4af49a(0x198)][_0x4af49a(0x19d)]:_0x6fd962[_0x4af49a(0x1be)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x6fd962[_0x4af49a(0x18c)]())['error'][_0x4af49a(0x19d)];throw new Error(_0x1f995e);}const _0x20ce93=_0x56818b[_0x4af49a(0x1ac)][_0x4af49a(0x1b3)][0x0],_0x35a1a5=_0x20ce93[_0x4af49a(0x1bf)]||[],_0x386089=_0x35a1a5[_0x4af49a(0x1b8)](_0x5baa6a=>_0x5baa6a[_0x4af49a(0x176)])[_0x4af49a(0x1ba)]('\x0a');transLogic(_0x386089);}catch(_0x3eaf8f){inputText[_0x4af49a(0x1a4)]=_0x3eaf8f[_0x4af49a(0x19d)];}finally{isFunctionARunning=![];}}async function translateText(_0x34972e,_0x2ec3e5,_0x3cfeba){const _0x2aeeca=a0_0x590aa8,_0xda5a2b=_0x34972e[_0x2aeeca(0x197)](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,_0x2aeeca(0x18d))[_0x2aeeca(0x197)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x2aeeca(0x1b5)]();var _0x10e7ef=_0x2aeeca(0x1bb)+_0x2ec3e5+_0x2aeeca(0x19c)+_0x3cfeba+'&dt=t&q='+encodeURIComponent(_0xda5a2b);try{const _0xfc028b=await fetch(_0x10e7ef);if(!_0xfc028b['ok']){if(_0xfc028b[_0x2aeeca(0x1be)]===0x1f4)throw new Error(_0x2aeeca(0x186));else{const _0x43d7a4=await _0xfc028b['json'](),_0x306baa=new Error(_0x43d7a4[_0x2aeeca(0x198)][_0x2aeeca(0x19d)]);_0x306baa[_0x2aeeca(0x1af)]=_0x43d7a4[_0x2aeeca(0x198)][_0x2aeeca(0x1af)];throw _0x306baa;}}const _0x3876c3=await _0xfc028b[_0x2aeeca(0x18c)]();if(Array[_0x2aeeca(0x177)](_0x3876c3)&&_0x3876c3[_0x2aeeca(0x172)]>0x0&&Array[_0x2aeeca(0x177)](_0x3876c3[0x0])){var _0x4d710f=_0x3876c3[0x0][_0x2aeeca(0x1b8)](_0x16e153=>_0x16e153[0x0])[_0x2aeeca(0x1ba)]('\x20');return document[_0x2aeeca(0x182)](_0x2aeeca(0x17f))[_0x2aeeca(0x1a4)]='',inputText[_0x2aeeca(0x1a4)]='.._\x20'+_0x4d710f[_0x2aeeca(0x197)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x4d710f[_0x2aeeca(0x197)](/ {2,}/g,'\x20');}else return document[_0x2aeeca(0x182)](_0x2aeeca(0x17f))[_0x2aeeca(0x1a4)]='',inputText[_0x2aeeca(0x1a4)]=_0x2aeeca(0x1b9)+_0x3876c3,_0x3876c3;}catch(_0x4e28cf){inputText[_0x2aeeca(0x1a4)]=_0x4e28cf[_0x2aeeca(0x19d)];throw _0x4e28cf;}}async function autoScroll(){const _0xcc06b2=a0_0x590aa8;var _0x2f8362=inputText[_0xcc06b2(0x189)]-inputText[_0xcc06b2(0x175)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2f8362||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0xcc06b2(0x196)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x24f910){const _0x21544e=a0_0x590aa8;var _0xf09a28='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x24f910);try{const _0x114c69=await fetch(_0xf09a28),_0x1455ca=await _0x114c69[_0x21544e(0x18c)]();var _0x2abaed=_0x1455ca[0x8][0x0][0x0];return _0x2abaed;}catch(_0x2fb7c4){console['error'](_0x21544e(0x18e),_0x2fb7c4);throw _0x2fb7c4;}}async function transLogic(_0x34fb37){const _0x1db64a='en';if(_0x1db64a===null){const _0x45efd9=await detectLanguage(_0x34fb37),_0x1a5407=await translateText(_0x34fb37,_0x45efd9,'en');return translateText(_0x1a5407,'en','vi');}else{if(_0x1db64a==='en')return translateText(_0x34fb37,'en','vi');else{const _0x308ab0=await translateText(_0x34fb37,_0x1db64a,'en');return translateText(_0x308ab0,'en','vi');}}}function dataURItoBlob(_0x43c609){const _0x1a8b43=a0_0x590aa8,_0x14e7ba=atob(_0x43c609),_0xf97750=new ArrayBuffer(_0x14e7ba['length']),_0x17c761=new Uint8Array(_0xf97750);for(let _0x92a02e=0x0;_0x92a02e<_0x14e7ba[_0x1a8b43(0x172)];_0x92a02e++){_0x17c761[_0x92a02e]=_0x14e7ba[_0x1a8b43(0x17b)](_0x92a02e);}return new Blob([_0xf97750],{'type':_0x1a8b43(0x193)});}document[a0_0x590aa8(0x1c0)](a0_0x590aa8(0x1a5),function(){const _0xfa8613=a0_0x590aa8;ID[_0xfa8613(0x179)](function(_0x484006){const _0x587c7b=_0xfa8613,_0x4b605c=document['getElementById'](_0x484006);_0x4b605c&&_0x4b605c[_0x587c7b(0x1c0)]('touchstart',function(){const _0x3f89fa=_0x587c7b;!isFunctionARunning&&turbo[_0x3f89fa(0x1a1)][_0x3f89fa(0x17a)](_0x3f89fa(0x178));});}),[_0xfa8613(0x1ae)][_0xfa8613(0x179)](_0x54bdcd=>{const _0x2f40ec=_0xfa8613;turbo['addEventListener'](_0x54bdcd,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x2f40ec(0x1c0)](_0x54bdcd,()=>{const _0x2e8b32=_0x2f40ec;areaTrans[_0x2e8b32(0x1a1)][_0x2e8b32(0x18b)](_0x2e8b32(0x1a0));});});});