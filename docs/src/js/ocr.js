const a0_0x449b1b=a0_0xfe2d;(function(_0x396028,_0x17b9c3){const _0x44e46e=a0_0xfe2d,_0x12a8d9=_0x396028();while(!![]){try{const _0x4fbe30=parseInt(_0x44e46e(0xfb))/0x1*(parseInt(_0x44e46e(0x109))/0x2)+parseInt(_0x44e46e(0x12f))/0x3*(parseInt(_0x44e46e(0x10e))/0x4)+parseInt(_0x44e46e(0x143))/0x5+parseInt(_0x44e46e(0x13e))/0x6+parseInt(_0x44e46e(0x127))/0x7+parseInt(_0x44e46e(0xfc))/0x8*(parseInt(_0x44e46e(0x11b))/0x9)+-parseInt(_0x44e46e(0x104))/0xa;if(_0x4fbe30===_0x17b9c3)break;else _0x12a8d9['push'](_0x12a8d9['shift']());}catch(_0x2bd79e){_0x12a8d9['push'](_0x12a8d9['shift']());}}}(a0_0x3da7,0xd15b5));import*as a0_0x173286 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x449b1b(0x12b)](a0_0x449b1b(0x102)),turbo=document[a0_0x449b1b(0x12b)](a0_0x449b1b(0xf5)),ID=['A','B','R','L'];async function getImage(){const _0x284603=a0_0x449b1b;turbo[_0x284603(0x142)][_0x284603(0x106)]('turbo-ocr');try{const _0x22d45d=gameName[_0x284603(0xf3)](/\.(gba|gbc|gb|zip)$/,_0x284603(0x122)),_0x282899=await a0_0x173286[_0x284603(0x138)](_0x22d45d),_0x1671c6=new Blob([_0x282899],{'type':'image/png'}),_0x47e646=await new Promise((_0x51fbc4,_0xc43dce)=>{const _0x1322f2=_0x284603,_0x4d4356=new FileReader();_0x4d4356[_0x1322f2(0x11d)]=()=>_0x51fbc4(_0x4d4356[_0x1322f2(0x10f)]),_0x4d4356['onerror']=_0xc43dce,_0x4d4356[_0x1322f2(0x144)](_0x1671c6);}),_0x196002=new Image();_0x196002['src']=_0x47e646,_0x196002['onload']=async()=>{const _0x471b8c=_0x284603,_0x4898ca=document[_0x471b8c(0x116)](_0x471b8c(0x141)),_0x223cc7=_0x4898ca['getContext']('2d'),_0x4066d4=0x4;let _0xcc00a;gameName[_0x471b8c(0x12c)](_0x471b8c(0x110))||gameName[_0x471b8c(0x12c)](_0x471b8c(0x12e))?_0xcc00a=0x3/0x6:_0xcc00a=0x3/0x4;const _0x243f82=localStorage[_0x471b8c(0x126)](gameName+_0x471b8c(0x135))||localStorage[_0x471b8c(0x126)]('screenSize'),[_0x1aac57,_0x5294d6,_0x2b4e12,_0x25ae8e]=_0x243f82[_0x471b8c(0x114)](',')[_0x471b8c(0x119)](Number);_0x4898ca[_0x471b8c(0xf6)]=_0x2b4e12*_0xcc00a*_0x4066d4,_0x4898ca['height']=_0x25ae8e*_0xcc00a*_0x4066d4,_0x223cc7[_0x471b8c(0x113)](_0x196002,_0x1aac57*_0xcc00a,_0x5294d6*_0xcc00a,_0x2b4e12*_0xcc00a,_0x25ae8e*_0xcc00a,0x0,0x0,_0x2b4e12*_0xcc00a*_0x4066d4,_0x25ae8e*_0xcc00a*_0x4066d4);const _0x24ad59=_0x4898ca[_0x471b8c(0x124)](_0x471b8c(0x13a))[_0x471b8c(0x114)](',')[0x1],_0x5c6d45=localStorage[_0x471b8c(0x126)](_0x471b8c(0x145));console[_0x471b8c(0x115)](_0x5c6d45),_0x5c6d45?azureServer(_0x24ad59):freeServer(_0x24ad59);};}catch(_0x596b8b){inputText[_0x284603(0x121)]=_0x596b8b[_0x284603(0x146)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x20f8f4=_0x284603;document['getElementById']('inputText')['textContent']='',a0_0x173286[_0x20f8f4(0xfd)]('',0x0);},0x7530);}async function freeServer(_0x10f150){const _0x3d2a53=a0_0x449b1b;document[_0x3d2a53(0x12b)](_0x3d2a53(0x101))['textContent']='';let _0x5961c4=0x0;const _0x27a865=setInterval(()=>{const _0x44fdcc=_0x3d2a53;_0x5961c4+=0x1,_0x5961c4<=0x64&&(inputText[_0x44fdcc(0x121)]=_0x44fdcc(0x10d)+_0x5961c4+'%');},0x64);try{const _0x142373=dataURItoBlob(_0x10f150),_0x5527aa=new FormData();_0x5527aa[_0x3d2a53(0x11f)](_0x3d2a53(0x136),_0x142373,_0x3d2a53(0x123)),_0x5527aa[_0x3d2a53(0x11f)](_0x3d2a53(0xf4),_0x3d2a53(0x100));let _0x44576a;try{_0x44576a=await fetch(_0x3d2a53(0xf2),{'method':'POST','body':_0x5527aa,'headers':{'Origin':window['location'][_0x3d2a53(0x13d)],'X-Requested-With':_0x3d2a53(0x140),'User-Agent':navigator[_0x3d2a53(0x118)]}});if(!_0x44576a['ok'])throw new Error(_0x3d2a53(0xf8)+_0x44576a[_0x3d2a53(0x108)]);}catch(_0x110ee0){console[_0x3d2a53(0xff)](_0x3d2a53(0xfe)),window[_0x3d2a53(0x130)]['href']=_0x3d2a53(0x13b);return;}const _0x3c53be=await _0x44576a[_0x3d2a53(0x133)]();if(_0x3c53be[_0x3d2a53(0x103)]===_0x3d2a53(0x131))throw new Error(_0x3c53be[_0x3d2a53(0x131)][_0x3d2a53(0x146)]);transLogic(_0x3c53be[_0x3d2a53(0x137)]);}catch(_0x5388c7){inputText[_0x3d2a53(0x121)]=_0x5388c7['message'];}finally{clearInterval(_0x27a865),isFunctionARunning=![];}}function a0_0xfe2d(_0x4e1387,_0xa2abf4){const _0x3da736=a0_0x3da7();return a0_0xfe2d=function(_0xfe2dd5,_0x884f3f){_0xfe2dd5=_0xfe2dd5-0xf2;let _0x4e8226=_0x3da736[_0xfe2dd5];return _0x4e8226;},a0_0xfe2d(_0x4e1387,_0xa2abf4);}async function azureServer(_0x28e000){const _0x3a91ca=a0_0x449b1b;document[_0x3a91ca(0x12b)](_0x3a91ca(0x101))['textContent']='',inputText[_0x3a91ca(0x121)]=_0x3a91ca(0x10d);const _0x3323e8=localStorage['getItem'](_0x3a91ca(0x145));let [_0x48e7ce,_0x16e798]=_0x3323e8[_0x3a91ca(0x114)](',');try{const _0x2105cb=await fetch(_0x16e798+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x3a91ca(0x12a),'headers':{'Ocp-Apim-Subscription-Key':_0x48e7ce,'Content-Type':_0x3a91ca(0xf9)},'body':dataURItoBlob(_0x28e000)}),_0x15775d=await _0x2105cb[_0x3a91ca(0x133)]();if(!_0x2105cb['ok']||_0x15775d[_0x3a91ca(0x103)]===_0x3a91ca(0x131)){const _0x1608d8=_0x2105cb['ok']?_0x15775d[_0x3a91ca(0x131)][_0x3a91ca(0x146)]:_0x2105cb['status']===0x1f4?_0x3a91ca(0x111):(await _0x2105cb[_0x3a91ca(0x133)]())['error'][_0x3a91ca(0x146)];throw new Error(_0x1608d8);}const _0x4966de=_0x15775d[_0x3a91ca(0xfa)][_0x3a91ca(0x134)][0x0],_0x48f4e1=_0x4966de[_0x3a91ca(0x112)]||[],_0x1874b4=_0x48f4e1['map'](_0x101693=>_0x101693['text'])[_0x3a91ca(0x107)]('\x0a');transLogic(_0x1874b4);}catch(_0x3a2f40){inputText['textContent']=_0x3a2f40['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x16fb13,_0x3ef4e7,_0xc8798b){const _0x5ab962=a0_0x449b1b,_0x8d29a1=_0x16fb13[_0x5ab962(0xf3)](/[\r\n]+/g,',\x20')[_0x5ab962(0xf3)](/([!?.,])\s*,\s*/g,_0x5ab962(0x11e))['replace'](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')['trim']();var _0x588c80=_0x5ab962(0x120)+_0x3ef4e7+_0x5ab962(0x128)+_0xc8798b+_0x5ab962(0xf7)+encodeURIComponent(_0x8d29a1);try{const _0xcfb988=await fetch(_0x588c80);if(!_0xcfb988['ok']){if(_0xcfb988[_0x5ab962(0x108)]===0x1f4)throw new Error(_0x5ab962(0x11c));else{const _0x4bb44e=await _0xcfb988[_0x5ab962(0x133)](),_0x5cd8f1=new Error(_0x4bb44e['error'][_0x5ab962(0x146)]);_0x5cd8f1[_0x5ab962(0x11a)]=_0x4bb44e[_0x5ab962(0x131)][_0x5ab962(0x11a)];throw _0x5cd8f1;}}const _0x3d6b88=await _0xcfb988[_0x5ab962(0x133)]();if(Array['isArray'](_0x3d6b88)&&_0x3d6b88[_0x5ab962(0x129)]>0x0&&Array[_0x5ab962(0x117)](_0x3d6b88[0x0])){var _0x563662=_0x3d6b88[0x0][_0x5ab962(0x119)](_0x2e66a4=>_0x2e66a4[0x0])[_0x5ab962(0x107)]('\x20');return document['getElementById'](_0x5ab962(0x101))[_0x5ab962(0x121)]='',inputText['textContent']=_0x5ab962(0x10d)+_0x563662[_0x5ab962(0xf3)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x563662['replace'](/ {2,}/g,'\x20');}else return document[_0x5ab962(0x12b)](_0x5ab962(0x101))['textContent']='',inputText[_0x5ab962(0x121)]=_0x5ab962(0x10d)+_0x3d6b88,_0x3d6b88;}catch(_0x54d089){inputText[_0x5ab962(0x121)]=_0x54d089[_0x5ab962(0x146)];throw _0x54d089;}}async function autoScroll(){const _0x4d7aed=a0_0x449b1b;var _0x50d72c=inputText[_0x4d7aed(0x125)]-inputText[_0x4d7aed(0x132)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x50d72c||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x4d7aed(0x139)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x1202e0){const _0x2c3eaf=a0_0x449b1b;var _0x1f3c4b='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q='+encodeURIComponent(_0x1202e0);try{const _0xb46344=await fetch(_0x1f3c4b),_0x54d6d8=await _0xb46344['json']();var _0x35da77=_0x54d6d8[0x8][0x0][0x0];return _0x35da77;}catch(_0x53ee69){console['error'](_0x2c3eaf(0x10a),_0x53ee69);throw _0x53ee69;}}async function transLogic(_0x9dd924){const _0x2b01d1='en';if(_0x2b01d1===null){const _0x40bdc1=await detectLanguage(_0x9dd924),_0x54997f=await translateText(_0x9dd924,_0x40bdc1,'en');return translateText(_0x54997f,'en','vi');}else{if(_0x2b01d1==='en')return translateText(_0x9dd924,'en','vi');else{const _0x22f820=await translateText(_0x9dd924,_0x2b01d1,'en');return translateText(_0x22f820,'en','vi');}}}function a0_0x3da7(){const _0x27f40a=['onloadend','$1\x20','append','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','textContent','.png','image.png','toDataURL','scrollWidth','getItem','9889201wzAVUJ','&tl=','length','POST','getElementById','endsWith','turbo-ocr','.gb','261195FSVzNJ','location','error','clientWidth','json','blocks','_setArea','image','text','captureOCR','scrollLeft','image/png','https://cors-anywhere.herokuapp.com/corsdemo','touchend','origin','891636ZvjGDv','touchstart','XMLHttpRequest','canvas','classList','2361325FfuyVz','readAsDataURL','ApiAzure','message','remove','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','replace','user','turbo','width','&dt=t&q=','HTTP\x20Error:\x20','application/octet-stream','readResult','376726wFDuVe','2011016uqBWIQ','notiMessage','Cors-controlers\x20have\x20not\x20been\x20activated.','warn','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','noti-mess','inputText','type','39700110tngyAg','DOMContentLoaded','add','join','status','4IsXSPf','Error\x20detecting\x20language:','addEventListener','forEach','.._\x20','36BUoKjl','result','.gbc','500\x20Internal\x20Server\x20Error','lines','drawImage','split','log','createElement','isArray','userAgent','map','code','45ohPLxG','Internal\x20Server\x20Error'];a0_0x3da7=function(){return _0x27f40a;};return a0_0x3da7();}function dataURItoBlob(_0x27379b){const _0x34ad96=a0_0x449b1b,_0x217c67=atob(_0x27379b),_0x4f9569=new ArrayBuffer(_0x217c67[_0x34ad96(0x129)]),_0x54673d=new Uint8Array(_0x4f9569);for(let _0x22c635=0x0;_0x22c635<_0x217c67[_0x34ad96(0x129)];_0x22c635++){_0x54673d[_0x22c635]=_0x217c67['charCodeAt'](_0x22c635);}return new Blob([_0x4f9569],{'type':_0x34ad96(0x13a)});}document[a0_0x449b1b(0x10b)](a0_0x449b1b(0x105),function(){const _0x2b65a8=a0_0x449b1b;ID[_0x2b65a8(0x10c)](function(_0x3c5086){const _0x54ad91=_0x2b65a8,_0x382374=document['getElementById'](_0x3c5086);_0x382374&&_0x382374[_0x54ad91(0x10b)](_0x54ad91(0x13f),function(){const _0x3f6ab9=_0x54ad91;!isFunctionARunning&&turbo[_0x3f6ab9(0x142)][_0x3f6ab9(0x147)](_0x3f6ab9(0x12d));});}),[_0x2b65a8(0x13c)][_0x2b65a8(0x10c)](_0x36f318=>{const _0x450d02=_0x2b65a8;turbo[_0x450d02(0x10b)](_0x36f318,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet['addEventListener'](_0x36f318,()=>{areaTrans['classList']['toggle']('visible');});});});