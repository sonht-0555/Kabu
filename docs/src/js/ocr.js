const a0_0x100ae5=a0_0x298e;(function(_0x28782d,_0x4334d4){const _0x1b6143=a0_0x298e,_0x5a3e4c=_0x28782d();while(!![]){try{const _0x42a1e0=-parseInt(_0x1b6143(0x1ee))/0x1*(-parseInt(_0x1b6143(0x1d5))/0x2)+-parseInt(_0x1b6143(0x1de))/0x3+parseInt(_0x1b6143(0x1cd))/0x4+-parseInt(_0x1b6143(0x1d2))/0x5*(-parseInt(_0x1b6143(0x203))/0x6)+parseInt(_0x1b6143(0x201))/0x7*(-parseInt(_0x1b6143(0x1fb))/0x8)+-parseInt(_0x1b6143(0x1bc))/0x9+parseInt(_0x1b6143(0x207))/0xa;if(_0x42a1e0===_0x4334d4)break;else _0x5a3e4c['push'](_0x5a3e4c['shift']());}catch(_0x18f2fe){_0x5a3e4c['push'](_0x5a3e4c['shift']());}}}(a0_0x4c6f,0x840eb));import*as a0_0x445088 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x100ae5(0x1f7)),turbo=document[a0_0x100ae5(0x1e4)]('turbo'),ID=['A','B','R','L'];async function getImage(){const _0x4a3b1d=a0_0x100ae5;turbo['classList']['add'](_0x4a3b1d(0x1b7));try{const _0x2db660=gameName[_0x4a3b1d(0x204)](/\.(gba|gbc|gb|zip)$/,_0x4a3b1d(0x1b8)),_0x3b2b2b=await a0_0x445088[_0x4a3b1d(0x1bd)](_0x2db660),_0x1a00aa=new Blob([_0x3b2b2b],{'type':_0x4a3b1d(0x1cb)}),_0x406b27=await new Promise((_0x9ff3db,_0x5f4239)=>{const _0xa62c82=_0x4a3b1d,_0x785bc6=new FileReader();_0x785bc6[_0xa62c82(0x1d8)]=()=>_0x9ff3db(_0x785bc6[_0xa62c82(0x1c9)]),_0x785bc6[_0xa62c82(0x1e6)]=_0x5f4239,_0x785bc6['readAsDataURL'](_0x1a00aa);}),_0x5ade5e=new Image();_0x5ade5e[_0x4a3b1d(0x1ed)]=_0x406b27,_0x5ade5e[_0x4a3b1d(0x1ce)]=async()=>{const _0x18cf59=_0x4a3b1d,_0xf13870=document['createElement'](_0x18cf59(0x1bf)),_0x5a4566=_0xf13870[_0x18cf59(0x1fd)]('2d'),_0x1ccd18=0x4;let _0x1034bb;gameName[_0x18cf59(0x1f6)]('.gbc')||gameName[_0x18cf59(0x1f6)](_0x18cf59(0x1e0))?_0x1034bb=0x3/0x6:_0x1034bb=0x3/0x4;const _0x48648b=localStorage[_0x18cf59(0x1cf)](gameName+_0x18cf59(0x1b9))||localStorage[_0x18cf59(0x1cf)](_0x18cf59(0x202)),[_0x2edc2f,_0x5f13b3,_0x26612f,_0x209d08]=_0x48648b['split'](',')[_0x18cf59(0x206)](Number);_0xf13870['width']=_0x26612f*_0x1034bb*_0x1ccd18,_0xf13870[_0x18cf59(0x1d0)]=_0x209d08*_0x1034bb*_0x1ccd18,_0x5a4566['drawImage'](_0x5ade5e,_0x2edc2f*_0x1034bb,_0x5f13b3*_0x1034bb,_0x26612f*_0x1034bb,_0x209d08*_0x1034bb,0x0,0x0,_0x26612f*_0x1034bb*_0x1ccd18,_0x209d08*_0x1034bb*_0x1ccd18);const _0x1e484f=_0xf13870[_0x18cf59(0x1f8)](_0x18cf59(0x1cb))['split'](',')[0x1],_0x3cfa3e=localStorage['getItem']('ApiAzure');console[_0x18cf59(0x1c2)](_0x3cfa3e),_0x3cfa3e?azureServer(_0x1e484f):freeServer(_0x1e484f);};}catch(_0x232aa1){inputText[_0x4a3b1d(0x1c4)]=_0x232aa1[_0x4a3b1d(0x1c0)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2009e8=_0x4a3b1d;document[_0x2009e8(0x1e4)]('inputText')[_0x2009e8(0x1c4)]='',a0_0x445088[_0x2009e8(0x1dd)]('',0x0);},0x7530);}function a0_0x298e(_0x1a4843,_0x5cb99d){const _0x4c6f6b=a0_0x4c6f();return a0_0x298e=function(_0x298eb1,_0x5c3c3b){_0x298eb1=_0x298eb1-0x1b4;let _0x39d5a4=_0x4c6f6b[_0x298eb1];return _0x39d5a4;},a0_0x298e(_0x1a4843,_0x5cb99d);}async function freeServer(_0x1d1491){const _0x4eb17c=a0_0x100ae5;document[_0x4eb17c(0x1e4)]('noti-mess')[_0x4eb17c(0x1c4)]='';let _0x2eddbc=0x0;const _0x5ef6ea=setInterval(()=>{const _0x47bd8d=_0x4eb17c;_0x2eddbc+=0x1,_0x2eddbc<=0x64&&(inputText[_0x47bd8d(0x1c4)]='.._\x20'+_0x2eddbc+'%');},0x64);try{const _0x3e399d=dataURItoBlob(_0x1d1491),_0x3ee978=new FormData();_0x3ee978[_0x4eb17c(0x1fe)](_0x4eb17c(0x1fa),_0x3e399d,_0x4eb17c(0x200)),_0x3ee978[_0x4eb17c(0x1fe)](_0x4eb17c(0x1d9),_0x4eb17c(0x1f3));let _0x7b4ab0;try{_0x7b4ab0=await fetch(_0x4eb17c(0x1e3),{'method':'POST','body':_0x3ee978,'headers':{'Origin':window['location'][_0x4eb17c(0x1dc)],'X-Requested-With':'XMLHttpRequest','User-Agent':navigator[_0x4eb17c(0x1b4)]}});if(!_0x7b4ab0['ok'])throw new Error(_0x4eb17c(0x1c8)+_0x7b4ab0[_0x4eb17c(0x1e7)]);}catch(_0xec8882){console[_0x4eb17c(0x1e2)](_0x4eb17c(0x1df)),window[_0x4eb17c(0x1ef)][_0x4eb17c(0x1ba)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x1fc5e4=await _0x7b4ab0[_0x4eb17c(0x1eb)]();if(_0x1fc5e4[_0x4eb17c(0x1e5)]===_0x4eb17c(0x1c6))throw new Error(_0x1fc5e4['error'][_0x4eb17c(0x1c0)]);transLogic(_0x1fc5e4['text']);}catch(_0x2a6b08){inputText[_0x4eb17c(0x1c4)]=_0x2a6b08[_0x4eb17c(0x1c0)];}finally{clearInterval(_0x5ef6ea),isFunctionARunning=![];}}async function azureServer(_0x22b75c){const _0x3f9fa9=a0_0x100ae5;document[_0x3f9fa9(0x1e4)]('noti-mess')[_0x3f9fa9(0x1c4)]='',inputText[_0x3f9fa9(0x1c4)]=_0x3f9fa9(0x1d1);const _0x5f305d=localStorage['getItem'](_0x3f9fa9(0x1b5));let [_0x104aae,_0x22f8a1]=_0x5f305d[_0x3f9fa9(0x1e9)](',');try{const _0x571bca=await fetch(_0x22f8a1+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0x3f9fa9(0x205),'headers':{'Ocp-Apim-Subscription-Key':_0x104aae,'Content-Type':_0x3f9fa9(0x1d3)},'body':dataURItoBlob(_0x22b75c)}),_0x2f828b=await _0x571bca[_0x3f9fa9(0x1eb)]();if(!_0x571bca['ok']||_0x2f828b[_0x3f9fa9(0x1e5)]===_0x3f9fa9(0x1c6)){const _0xc49014=_0x571bca['ok']?_0x2f828b[_0x3f9fa9(0x1c6)]['message']:_0x571bca[_0x3f9fa9(0x1e7)]===0x1f4?_0x3f9fa9(0x1f1):(await _0x571bca['json']())[_0x3f9fa9(0x1c6)][_0x3f9fa9(0x1c0)];throw new Error(_0xc49014);}const _0x3b2ae2=_0x2f828b[_0x3f9fa9(0x1d4)][_0x3f9fa9(0x1ec)][0x0],_0x1b00f8=_0x3b2ae2[_0x3f9fa9(0x1c3)]||[],_0x5ab37e=_0x1b00f8[_0x3f9fa9(0x206)](_0xfe0d08=>_0xfe0d08[_0x3f9fa9(0x1e8)])[_0x3f9fa9(0x1f5)]('\x0a');transLogic(_0x5ab37e);}catch(_0x446665){inputText[_0x3f9fa9(0x1c4)]=_0x446665[_0x3f9fa9(0x1c0)];}finally{isFunctionARunning=![];}}async function translateText(_0x3c8a46,_0x56d793,_0x46d497){const _0x19d4d5=a0_0x100ae5,_0x470661=_0x3c8a46['replace'](/[\r\n]+/g,',\x20')['replace'](/([!?.,])\s*,\s*/g,'$1\x20')[_0x19d4d5(0x204)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')['trim']();var _0x233962=_0x19d4d5(0x1c5)+_0x56d793+_0x19d4d5(0x1ca)+_0x46d497+_0x19d4d5(0x1ea)+encodeURIComponent(_0x470661);try{const _0x5b838c=await fetch(_0x233962);if(!_0x5b838c['ok']){if(_0x5b838c[_0x19d4d5(0x1e7)]===0x1f4)throw new Error(_0x19d4d5(0x1c1));else{const _0x52159f=await _0x5b838c['json'](),_0x7def0a=new Error(_0x52159f[_0x19d4d5(0x1c6)][_0x19d4d5(0x1c0)]);_0x7def0a[_0x19d4d5(0x1ff)]=_0x52159f['error'][_0x19d4d5(0x1ff)];throw _0x7def0a;}}const _0x34fab7=await _0x5b838c[_0x19d4d5(0x1eb)]();if(Array[_0x19d4d5(0x1db)](_0x34fab7)&&_0x34fab7[_0x19d4d5(0x1fc)]>0x0&&Array['isArray'](_0x34fab7[0x0])){var _0x1f4118=_0x34fab7[0x0][_0x19d4d5(0x206)](_0x3e3dda=>_0x3e3dda[0x0])['join']('\x20');return document[_0x19d4d5(0x1e4)](_0x19d4d5(0x1da))[_0x19d4d5(0x1c4)]='',inputText[_0x19d4d5(0x1c4)]=_0x19d4d5(0x1d1)+_0x1f4118['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x1f4118[_0x19d4d5(0x204)](/ {2,}/g,'\x20');}else return document[_0x19d4d5(0x1e4)](_0x19d4d5(0x1da))[_0x19d4d5(0x1c4)]='',inputText[_0x19d4d5(0x1c4)]=_0x19d4d5(0x1d1)+_0x34fab7,_0x34fab7;}catch(_0x4c826c){inputText[_0x19d4d5(0x1c4)]=_0x4c826c[_0x19d4d5(0x1c0)];throw _0x4c826c;}}async function autoScroll(){const _0x232823=a0_0x100ae5;var _0x246eaa=inputText['scrollWidth']-inputText[_0x232823(0x1f9)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x246eaa||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x232823(0x1cc)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x3b4e5c){const _0x3a32cf=a0_0x100ae5;var _0x11a511=_0x3a32cf(0x1be)+encodeURIComponent(_0x3b4e5c);try{const _0x563d5d=await fetch(_0x11a511),_0x38e2e5=await _0x563d5d['json']();var _0x499260=_0x38e2e5[0x8][0x0][0x0];return _0x499260;}catch(_0x2156f7){console[_0x3a32cf(0x1c6)]('Error\x20detecting\x20language:',_0x2156f7);throw _0x2156f7;}}async function transLogic(_0x56a6d9){const _0x222654='en';if(_0x222654===null){const _0xe52dae=await detectLanguage(_0x56a6d9),_0x18deb9=await translateText(_0x56a6d9,_0xe52dae,'en');return translateText(_0x18deb9,'en','vi');}else{if(_0x222654==='en')return translateText(_0x56a6d9,'en','vi');else{const _0x380f12=await translateText(_0x56a6d9,_0x222654,'en');return translateText(_0x380f12,'en','vi');}}}function dataURItoBlob(_0x520c81){const _0x4e9698=a0_0x100ae5,_0xb1e137=atob(_0x520c81),_0x3ff35c=new ArrayBuffer(_0xb1e137[_0x4e9698(0x1fc)]),_0x1ab116=new Uint8Array(_0x3ff35c);for(let _0x3cd06c=0x0;_0x3cd06c<_0xb1e137[_0x4e9698(0x1fc)];_0x3cd06c++){_0x1ab116[_0x3cd06c]=_0xb1e137[_0x4e9698(0x1f2)](_0x3cd06c);}return new Blob([_0x3ff35c],{'type':'image/png'});}document['addEventListener'](a0_0x100ae5(0x1c7),function(){const _0x4c5b4a=a0_0x100ae5;ID['forEach'](function(_0x26cbfd){const _0x96948=a0_0x298e,_0x2e916b=document[_0x96948(0x1e4)](_0x26cbfd);_0x2e916b&&_0x2e916b[_0x96948(0x1b6)](_0x96948(0x1bb),function(){const _0x2e6bf2=_0x96948;!isFunctionARunning&&turbo[_0x2e6bf2(0x1e1)][_0x2e6bf2(0x1f4)](_0x2e6bf2(0x1b7));});}),[_0x4c5b4a(0x1d6)]['forEach'](_0x1a6b06=>{const _0xea5841=_0x4c5b4a;turbo[_0xea5841(0x1b6)](_0x1a6b06,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0xea5841(0x1b6)](_0x1a6b06,()=>{const _0x5417b9=_0xea5841;areaTrans[_0x5417b9(0x1e1)][_0x5417b9(0x1f0)](_0x5417b9(0x1d7));});});});function a0_0x4c6f(){const _0x4079be=['message','Internal\x20Server\x20Error','log','lines','textContent','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','error','DOMContentLoaded','HTTP\x20Error:\x20','result','&tl=','image/png','scrollLeft','2078280OGQmtP','onload','getItem','height','.._\x20','5PTCnBz','application/octet-stream','readResult','56WyoVay','touchend','visible','onloadend','user','noti-mess','isArray','origin','notiMessage','191508VTapZT','Cors-controlers\x20have\x20not\x20been\x20activated.','.gb','classList','warn','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','getElementById','type','onerror','status','text','split','&dt=t&q=','json','blocks','src','34517MtjrQk','location','toggle','500\x20Internal\x20Server\x20Error','charCodeAt','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','remove','join','endsWith','inputText','toDataURL','clientWidth','image','66688bOKvuR','length','getContext','append','code','image.png','742aQHIzk','screenSize','1358934bvEDTt','replace','POST','map','5642100PYKGJu','userAgent','ApiAzure','addEventListener','turbo-ocr','.png','_setArea','href','touchstart','7095474NEcimZ','captureOCR','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','canvas'];a0_0x4c6f=function(){return _0x4079be;};return a0_0x4c6f();}