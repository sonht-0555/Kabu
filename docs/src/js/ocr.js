const a0_0x23998b=a0_0x3ace;function a0_0x2945(){const _0x55ada8=['textContent','code','DOMContentLoaded','Cors-controlers\x20have\x20not\x20been\x20activated.','forEach','80kKFKlf','lines','json','&tl=','captureOCR','674744VwHEco','addEventListener','warn','onerror','scrollWidth','.gb','clientWidth','visible','result','touchstart','1764933jRPnKc','toggle','10198lxWWTV','onload','remove','getElementById','text','.._\x20','touchend','scrollLeft','origin','userAgent','split','turbo','map','HTTP\x20Error:\x20','log','Error\x20detecting\x20language:','noti-mess','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','POST','getItem','height','replace','user','charCodeAt','500\x20Internal\x20Server\x20Error','turbo-ocr','error','inputText','416532UGNtMU','&dt=t&q=','toDataURL','ApiAzure','append','readAsDataURL','trim','length','type','_setArea','add','blocks','5999620orJKCA','Internal\x20Server\x20Error','XMLHttpRequest','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','getContext','notiMessage','isArray','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','status','image','href','drawImage','readResult','application/octet-stream','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','image/png','.png','message','location','4394712Ypozyc','4423240hmdUSM','canvas','join','endsWith','classList','width'];a0_0x2945=function(){return _0x55ada8;};return a0_0x2945();}(function(_0x257ee0,_0x1949d3){const _0x4e7691=a0_0x3ace,_0x1646d8=_0x257ee0();while(!![]){try{const _0x475266=-parseInt(_0x4e7691(0x1f8))/0x1*(parseInt(_0x4e7691(0x1e7))/0x2)+parseInt(_0x4e7691(0x1f6))/0x3+parseInt(_0x4e7691(0x1db))/0x4+-parseInt(_0x4e7691(0x1c8))/0x5+parseInt(_0x4e7691(0x1bc))/0x6+-parseInt(_0x4e7691(0x1ec))/0x7+parseInt(_0x4e7691(0x1dc))/0x8;if(_0x475266===_0x1949d3)break;else _0x1646d8['push'](_0x1646d8['shift']());}catch(_0xc7f95c){_0x1646d8['push'](_0x1646d8['shift']());}}}(a0_0x2945,0x93b98));import*as a0_0x27c085 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x23998b(0x1fb)](a0_0x23998b(0x1bb)),turbo=document[a0_0x23998b(0x1fb)](a0_0x23998b(0x1aa)),ID=['A','B','R','L'];async function getImage(){const _0x1ffac0=a0_0x23998b;turbo[_0x1ffac0(0x1e0)][_0x1ffac0(0x1c6)](_0x1ffac0(0x1b9));try{const _0xedabb6=gameName[_0x1ffac0(0x1b5)](/\.(gba|gbc|gb|zip)$/,_0x1ffac0(0x1d8)),_0x4e183d=await a0_0x27c085[_0x1ffac0(0x1eb)](_0xedabb6),_0x1df0b2=new Blob([_0x4e183d],{'type':_0x1ffac0(0x1d7)}),_0x4b01ff=await new Promise((_0x5c91b3,_0x332c06)=>{const _0x422ae0=_0x1ffac0,_0x525e4a=new FileReader();_0x525e4a['onloadend']=()=>_0x5c91b3(_0x525e4a[_0x422ae0(0x1f4)]),_0x525e4a[_0x422ae0(0x1ef)]=_0x332c06,_0x525e4a[_0x422ae0(0x1c1)](_0x1df0b2);}),_0x1d759c=new Image();_0x1d759c['src']=_0x4b01ff,_0x1d759c[_0x1ffac0(0x1f9)]=async()=>{const _0x57aaa7=_0x1ffac0,_0x4e0011=document['createElement'](_0x57aaa7(0x1dd)),_0x569826=_0x4e0011[_0x57aaa7(0x1cc)]('2d'),_0x2bd5af=0x4;let _0x146c51;gameName[_0x57aaa7(0x1df)]('.gbc')||gameName['endsWith'](_0x57aaa7(0x1f1))?_0x146c51=0x3/0x6:_0x146c51=0x3/0x4;const _0x3fcfda=localStorage[_0x57aaa7(0x1b3)](gameName+_0x57aaa7(0x1c5))||localStorage[_0x57aaa7(0x1b3)]('screenSize'),[_0x2ff1d3,_0xbfbc1e,_0x40cadb,_0xf01da9]=_0x3fcfda[_0x57aaa7(0x1a9)](',')[_0x57aaa7(0x1ab)](Number);_0x4e0011[_0x57aaa7(0x1e1)]=_0x40cadb*_0x146c51*_0x2bd5af,_0x4e0011[_0x57aaa7(0x1b4)]=_0xf01da9*_0x146c51*_0x2bd5af,_0x569826[_0x57aaa7(0x1d3)](_0x1d759c,_0x2ff1d3*_0x146c51,_0xbfbc1e*_0x146c51,_0x40cadb*_0x146c51,_0xf01da9*_0x146c51,0x0,0x0,_0x40cadb*_0x146c51*_0x2bd5af,_0xf01da9*_0x146c51*_0x2bd5af);const _0x66881e=_0x4e0011[_0x57aaa7(0x1be)]('image/png')[_0x57aaa7(0x1a9)](',')[0x1],_0x2efe3e=localStorage[_0x57aaa7(0x1b3)](_0x57aaa7(0x1bf));console[_0x57aaa7(0x1ad)](_0x2efe3e),_0x2efe3e?azureServer(_0x66881e):freeServer(_0x66881e);};}catch(_0xec4c7e){inputText[_0x1ffac0(0x1e2)]=_0xec4c7e[_0x1ffac0(0x1d9)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0xf79f0d=_0x1ffac0;document['getElementById'](_0xf79f0d(0x1bb))[_0xf79f0d(0x1e2)]='',a0_0x27c085[_0xf79f0d(0x1cd)]('',0x0);},0x7530);}async function freeServer(_0x39c589){const _0x5a3eb9=a0_0x23998b;document[_0x5a3eb9(0x1fb)]('noti-mess')[_0x5a3eb9(0x1e2)]='';let _0x3dced9=0x0;const _0x53fc21=setInterval(()=>{const _0x460159=_0x5a3eb9;_0x3dced9+=0x1,_0x3dced9<=0x64&&(inputText[_0x460159(0x1e2)]='.._\x20'+_0x3dced9+'%');},0x64);try{const _0x3a965d=dataURItoBlob(_0x39c589),_0x5cf6e8=new FormData();_0x5cf6e8[_0x5a3eb9(0x1c0)](_0x5a3eb9(0x1d1),_0x3a965d,'image.png'),_0x5cf6e8['append'](_0x5a3eb9(0x1b6),_0x5a3eb9(0x1cf));let _0x528dd8;try{_0x528dd8=await fetch(_0x5a3eb9(0x1d6),{'method':_0x5a3eb9(0x1b2),'body':_0x5cf6e8,'headers':{'Origin':window[_0x5a3eb9(0x1da)][_0x5a3eb9(0x1a7)],'X-Requested-With':_0x5a3eb9(0x1ca),'User-Agent':navigator[_0x5a3eb9(0x1a8)]}});if(!_0x528dd8['ok'])throw new Error(_0x5a3eb9(0x1ac)+_0x528dd8[_0x5a3eb9(0x1d0)]);}catch(_0xa2fbc){console[_0x5a3eb9(0x1ee)](_0x5a3eb9(0x1e5)),window['location'][_0x5a3eb9(0x1d2)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x20c0f1=await _0x528dd8[_0x5a3eb9(0x1e9)]();if(_0x20c0f1[_0x5a3eb9(0x1c4)]==='error')throw new Error(_0x20c0f1[_0x5a3eb9(0x1ba)][_0x5a3eb9(0x1d9)]);transLogic(_0x20c0f1[_0x5a3eb9(0x1fc)]);}catch(_0x23de7b){inputText[_0x5a3eb9(0x1e2)]=_0x23de7b[_0x5a3eb9(0x1d9)];}finally{clearInterval(_0x53fc21),isFunctionARunning=![];}}async function azureServer(_0x7dd1dd){const _0x41fad7=a0_0x23998b;document[_0x41fad7(0x1fb)](_0x41fad7(0x1af))[_0x41fad7(0x1e2)]='',inputText[_0x41fad7(0x1e2)]='.._\x20';const _0x256388=localStorage[_0x41fad7(0x1b3)](_0x41fad7(0x1bf));let [_0x334c87,_0x5dddc9]=_0x256388[_0x41fad7(0x1a9)](',');try{const _0x3112af=await fetch(_0x5dddc9+_0x41fad7(0x1b1),{'method':_0x41fad7(0x1b2),'headers':{'Ocp-Apim-Subscription-Key':_0x334c87,'Content-Type':_0x41fad7(0x1d5)},'body':dataURItoBlob(_0x7dd1dd)}),_0x5c26b4=await _0x3112af[_0x41fad7(0x1e9)]();if(!_0x3112af['ok']||_0x5c26b4[_0x41fad7(0x1c4)]===_0x41fad7(0x1ba)){const _0x4650ec=_0x3112af['ok']?_0x5c26b4[_0x41fad7(0x1ba)]['message']:_0x3112af[_0x41fad7(0x1d0)]===0x1f4?_0x41fad7(0x1b8):(await _0x3112af[_0x41fad7(0x1e9)]())[_0x41fad7(0x1ba)][_0x41fad7(0x1d9)];throw new Error(_0x4650ec);}const _0x4b2e60=_0x5c26b4[_0x41fad7(0x1d4)][_0x41fad7(0x1c7)][0x0],_0x638a28=_0x4b2e60[_0x41fad7(0x1e8)]||[],_0x1f127b=_0x638a28['map'](_0x411b6b=>_0x411b6b[_0x41fad7(0x1fc)])[_0x41fad7(0x1de)]('\x0a');transLogic(_0x1f127b);}catch(_0x516023){inputText[_0x41fad7(0x1e2)]=_0x516023['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x1f8f15,_0x2cf081,_0x17e0d2){const _0x44b623=a0_0x23998b,_0x3a12db=_0x1f8f15[_0x44b623(0x1b5)](/[\r\n]+/g,',\x20')[_0x44b623(0x1b5)](/([!?.,])\s*,\s*/g,'$1\x20')[_0x44b623(0x1b5)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x44b623(0x1b5)](/ {2,}/g,'\x20')[_0x44b623(0x1c2)]();var _0x505515=_0x44b623(0x1b0)+_0x2cf081+_0x44b623(0x1ea)+_0x17e0d2+_0x44b623(0x1bd)+encodeURIComponent(_0x3a12db);try{const _0x47e5f5=await fetch(_0x505515);if(!_0x47e5f5['ok']){if(_0x47e5f5[_0x44b623(0x1d0)]===0x1f4)throw new Error(_0x44b623(0x1c9));else{const _0x14c6b4=await _0x47e5f5['json'](),_0x2d6a7d=new Error(_0x14c6b4[_0x44b623(0x1ba)][_0x44b623(0x1d9)]);_0x2d6a7d[_0x44b623(0x1e3)]=_0x14c6b4[_0x44b623(0x1ba)][_0x44b623(0x1e3)];throw _0x2d6a7d;}}const _0x44b9a5=await _0x47e5f5[_0x44b623(0x1e9)]();if(Array[_0x44b623(0x1ce)](_0x44b9a5)&&_0x44b9a5[_0x44b623(0x1c3)]>0x0&&Array[_0x44b623(0x1ce)](_0x44b9a5[0x0])){var _0x1f8960=_0x44b9a5[0x0][_0x44b623(0x1ab)](_0x1a5ca7=>_0x1a5ca7[0x0])[_0x44b623(0x1de)]('\x20');return document[_0x44b623(0x1fb)](_0x44b623(0x1af))[_0x44b623(0x1e2)]='',inputText[_0x44b623(0x1e2)]=_0x44b623(0x1fd)+_0x1f8960['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x1f8960['replace'](/ {2,}/g,'\x20');}else return document[_0x44b623(0x1fb)](_0x44b623(0x1af))[_0x44b623(0x1e2)]='',inputText[_0x44b623(0x1e2)]=_0x44b623(0x1fd)+_0x44b9a5,_0x44b9a5;}catch(_0x57a0d5){inputText[_0x44b623(0x1e2)]=_0x57a0d5['message'];throw _0x57a0d5;}}async function autoScroll(){const _0x388dc4=a0_0x23998b;var _0x49c549=inputText[_0x388dc4(0x1f0)]-inputText[_0x388dc4(0x1f2)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x49c549||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x388dc4(0x1a6)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x5e3ac9){const _0x5525f9=a0_0x23998b;var _0x209673=_0x5525f9(0x1cb)+encodeURIComponent(_0x5e3ac9);try{const _0x5e3c33=await fetch(_0x209673),_0x2fcd73=await _0x5e3c33[_0x5525f9(0x1e9)]();var _0x63d1ca=_0x2fcd73[0x8][0x0][0x0];return _0x63d1ca;}catch(_0x5547a1){console['error'](_0x5525f9(0x1ae),_0x5547a1);throw _0x5547a1;}}async function transLogic(_0x523c05){const _0x309307='en';if(_0x309307===null){const _0xd18dc=await detectLanguage(_0x523c05),_0x2351df=await translateText(_0x523c05,_0xd18dc,'en');return translateText(_0x2351df,'en','vi');}else{if(_0x309307==='en')return translateText(_0x523c05,'en','vi');else{const _0x16ccc1=await translateText(_0x523c05,_0x309307,'en');return translateText(_0x16ccc1,'en','vi');}}}function dataURItoBlob(_0x438469){const _0x46699a=a0_0x23998b,_0x4904a9=atob(_0x438469),_0x9eccb2=new ArrayBuffer(_0x4904a9['length']),_0x4168af=new Uint8Array(_0x9eccb2);for(let _0x4d378c=0x0;_0x4d378c<_0x4904a9[_0x46699a(0x1c3)];_0x4d378c++){_0x4168af[_0x4d378c]=_0x4904a9[_0x46699a(0x1b7)](_0x4d378c);}return new Blob([_0x9eccb2],{'type':_0x46699a(0x1d7)});}function a0_0x3ace(_0x16b8da,_0xf30274){const _0x294551=a0_0x2945();return a0_0x3ace=function(_0x3ace93,_0xafa9c1){_0x3ace93=_0x3ace93-0x1a6;let _0x2b7d88=_0x294551[_0x3ace93];return _0x2b7d88;},a0_0x3ace(_0x16b8da,_0xf30274);}document['addEventListener'](a0_0x23998b(0x1e4),function(){const _0x6e358b=a0_0x23998b;ID[_0x6e358b(0x1e6)](function(_0x26daf7){const _0x1a8e62=_0x6e358b,_0x4ddd78=document['getElementById'](_0x26daf7);_0x4ddd78&&_0x4ddd78[_0x1a8e62(0x1ed)](_0x1a8e62(0x1f5),function(){const _0x4646f4=_0x1a8e62;!isFunctionARunning&&turbo['classList'][_0x4646f4(0x1fa)](_0x4646f4(0x1b9));});}),[_0x6e358b(0x1fe)][_0x6e358b(0x1e6)](_0x2869b0=>{const _0x326d09=_0x6e358b;turbo[_0x326d09(0x1ed)](_0x2869b0,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x326d09(0x1ed)](_0x2869b0,()=>{const _0x5858db=_0x326d09;areaTrans[_0x5858db(0x1e0)][_0x5858db(0x1f7)](_0x5858db(0x1f3));});});});