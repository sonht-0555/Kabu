const a0_0x15948c=a0_0x261d;(function(_0x2feb0b,_0x57a041){const _0x3ad146=a0_0x261d,_0x5e278a=_0x2feb0b();while(!![]){try{const _0x339014=parseInt(_0x3ad146(0xff))/0x1+-parseInt(_0x3ad146(0x11d))/0x2*(-parseInt(_0x3ad146(0xfc))/0x3)+-parseInt(_0x3ad146(0x128))/0x4*(-parseInt(_0x3ad146(0xdf))/0x5)+parseInt(_0x3ad146(0x111))/0x6*(-parseInt(_0x3ad146(0x113))/0x7)+parseInt(_0x3ad146(0xe4))/0x8*(-parseInt(_0x3ad146(0xe3))/0x9)+-parseInt(_0x3ad146(0xf8))/0xa*(parseInt(_0x3ad146(0x12f))/0xb)+parseInt(_0x3ad146(0xf4))/0xc*(parseInt(_0x3ad146(0xfb))/0xd);if(_0x339014===_0x57a041)break;else _0x5e278a['push'](_0x5e278a['shift']());}catch(_0x2f9b8b){_0x5e278a['push'](_0x5e278a['shift']());}}}(a0_0x38e8,0xcbacd));import*as a0_0x27f0e6 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document['getElementById'](a0_0x15948c(0xfa)),turbo=document['getElementById'](a0_0x15948c(0xf5)),ID=['A','B','R','L'];async function getImage(){const _0x27e4f7=a0_0x15948c;turbo[_0x27e4f7(0x12a)]['add'](_0x27e4f7(0x126));try{const _0x5b9ae8=gameName[_0x27e4f7(0x122)](/\.(gba|gbc|gb|zip)$/,_0x27e4f7(0x107)),_0x3ec0b7=await a0_0x27f0e6[_0x27e4f7(0x130)](_0x5b9ae8),_0x5eb374=new Blob([_0x3ec0b7],{'type':_0x27e4f7(0x108)}),_0x328b71=await new Promise((_0x4e7873,_0x35fce0)=>{const _0x1019a1=_0x27e4f7,_0x32fa89=new FileReader();_0x32fa89['onloadend']=()=>_0x4e7873(_0x32fa89[_0x1019a1(0xec)]),_0x32fa89[_0x1019a1(0xe2)]=_0x35fce0,_0x32fa89[_0x1019a1(0xf1)](_0x5eb374);}),_0x385e01=new Image();_0x385e01[_0x27e4f7(0xef)]=_0x328b71,_0x385e01['onload']=async()=>{const _0x1afcaf=_0x27e4f7,_0x5bb645=document[_0x1afcaf(0x110)]('canvas'),_0x45b02e=_0x5bb645['getContext']('2d'),_0x2b1291=0x4;let _0x453140;gameName[_0x1afcaf(0xf3)](_0x1afcaf(0x12e))||gameName['endsWith'](_0x1afcaf(0x117))?_0x453140=0x3/0x6:_0x453140=0x3/0x4;const _0x8bf444=localStorage['getItem'](gameName+'_setArea')||localStorage[_0x1afcaf(0xe0)](_0x1afcaf(0xe5)),[_0x42cbd2,_0x1f3501,_0x14a403,_0xd7ec11]=_0x8bf444['split'](',')['map'](Number);_0x5bb645[_0x1afcaf(0x11b)]=_0x14a403*_0x453140*_0x2b1291,_0x5bb645[_0x1afcaf(0xee)]=_0xd7ec11*_0x453140*_0x2b1291,_0x45b02e[_0x1afcaf(0x119)](_0x385e01,_0x42cbd2*_0x453140,_0x1f3501*_0x453140,_0x14a403*_0x453140,_0xd7ec11*_0x453140,0x0,0x0,_0x14a403*_0x453140*_0x2b1291,_0xd7ec11*_0x453140*_0x2b1291);const _0xeeb050=_0x5bb645['toDataURL'](_0x1afcaf(0x108))[_0x1afcaf(0x116)](',')[0x1],_0x250c4f=localStorage[_0x1afcaf(0xe0)](_0x1afcaf(0x10f));console[_0x1afcaf(0xea)](_0x250c4f),_0x250c4f?azureServer(_0xeeb050):freeServer(_0xeeb050);};}catch(_0x1e7af6){inputText[_0x27e4f7(0x127)]=_0x1e7af6['message'];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x50bf18=_0x27e4f7;document[_0x50bf18(0x104)]('inputText')[_0x50bf18(0x127)]='',a0_0x27f0e6['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x5e9083){const _0x216324=a0_0x15948c;document[_0x216324(0x104)]('noti-mess')[_0x216324(0x127)]='';let _0x3639a3=0x0;const _0x321311=setInterval(()=>{const _0x2e2614=_0x216324;_0x3639a3+=0x1,_0x3639a3<=0x64&&(inputText[_0x2e2614(0x127)]='.._\x20'+_0x3639a3+'%');},0x64);try{const _0x5641b3=dataURItoBlob(_0x5e9083),_0x5f4e63=new FormData();_0x5f4e63[_0x216324(0xfd)]('image',_0x5641b3,_0x216324(0x11c)),_0x5f4e63[_0x216324(0xfd)]('user',_0x216324(0x115));let _0x3310f2;try{_0x3310f2=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x216324(0x118),'body':_0x5f4e63,'headers':{'Origin':window['location']['origin'],'X-Requested-With':_0x216324(0x102),'User-Agent':navigator['userAgent']}});if(!_0x3310f2['ok'])throw new Error(_0x216324(0x123)+_0x3310f2['status']);}catch(_0x1bc283){console['warn'](_0x216324(0x121)),window[_0x216324(0x10e)][_0x216324(0x125)]='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x2673fe=await _0x3310f2[_0x216324(0xeb)]();if(_0x2673fe[_0x216324(0xf7)]==='error')throw new Error(_0x2673fe[_0x216324(0x10d)][_0x216324(0x11e)]);transLogic(_0x2673fe[_0x216324(0xe9)]);}catch(_0x35c9f0){inputText[_0x216324(0x127)]=_0x35c9f0[_0x216324(0x11e)];}finally{clearInterval(_0x321311),isFunctionARunning=![];}}async function azureServer(_0x530afd){const _0x1b2ea9=a0_0x15948c;document[_0x1b2ea9(0x104)](_0x1b2ea9(0xe8))[_0x1b2ea9(0x127)]='',inputText['textContent']='.._\x20';const _0x25b75c=localStorage['getItem'](_0x1b2ea9(0x10f));let [_0x5a03ac,_0x467edb]=_0x25b75c[_0x1b2ea9(0x116)](',');try{const _0x57e306=await fetch(_0x467edb+_0x1b2ea9(0x124),{'method':_0x1b2ea9(0x118),'headers':{'Ocp-Apim-Subscription-Key':_0x5a03ac,'Content-Type':_0x1b2ea9(0x101)},'body':dataURItoBlob(_0x530afd)}),_0x9bd015=await _0x57e306[_0x1b2ea9(0xeb)]();if(!_0x57e306['ok']||_0x9bd015['type']===_0x1b2ea9(0x10d)){const _0x5b6ede=_0x57e306['ok']?_0x9bd015[_0x1b2ea9(0x10d)][_0x1b2ea9(0x11e)]:_0x57e306[_0x1b2ea9(0x105)]===0x1f4?'500\x20Internal\x20Server\x20Error':(await _0x57e306['json']())[_0x1b2ea9(0x10d)][_0x1b2ea9(0x11e)];throw new Error(_0x5b6ede);}const _0x5676df=_0x9bd015[_0x1b2ea9(0xde)][_0x1b2ea9(0x10b)][0x0],_0x102f57=_0x5676df[_0x1b2ea9(0x12d)]||[],_0x30a96d=_0x102f57[_0x1b2ea9(0x129)](_0x29bf83=>_0x29bf83[_0x1b2ea9(0xe9)])[_0x1b2ea9(0x112)]('\x0a');transLogic(_0x30a96d);}catch(_0x1f2ebe){inputText[_0x1b2ea9(0x127)]=_0x1f2ebe['message'];}finally{isFunctionARunning=![];}}async function translateText(_0x83227c,_0x236506,_0x17c919){const _0x20d350=a0_0x15948c,_0x171002=_0x83227c[_0x20d350(0x122)](/[\r\n]+/g,',\x20')[_0x20d350(0x122)](/([!?.,])\s*,\s*/g,_0x20d350(0xfe))[_0x20d350(0x122)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x20d350(0x122)](/ {2,}/g,'\x20')[_0x20d350(0x100)]();var _0x417ed1=_0x20d350(0x10c)+_0x236506+_0x20d350(0x12b)+_0x17c919+_0x20d350(0xed)+encodeURIComponent(_0x171002);try{const _0x181c21=await fetch(_0x417ed1);if(!_0x181c21['ok']){if(_0x181c21['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x12d7ec=await _0x181c21['json'](),_0x33e383=new Error(_0x12d7ec['error'][_0x20d350(0x11e)]);_0x33e383[_0x20d350(0xe1)]=_0x12d7ec[_0x20d350(0x10d)][_0x20d350(0xe1)];throw _0x33e383;}}const _0x158c85=await _0x181c21[_0x20d350(0xeb)]();if(Array[_0x20d350(0xf2)](_0x158c85)&&_0x158c85[_0x20d350(0x109)]>0x0&&Array[_0x20d350(0xf2)](_0x158c85[0x0])){var _0x12730f=_0x158c85[0x0][_0x20d350(0x129)](_0x475704=>_0x475704[0x0])[_0x20d350(0x112)]('\x20');return document[_0x20d350(0x104)](_0x20d350(0xe8))['textContent']='',inputText[_0x20d350(0x127)]=_0x20d350(0x10a)+_0x12730f['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x12730f['replace'](/ {2,}/g,'\x20');}else return document[_0x20d350(0x104)](_0x20d350(0xe8))[_0x20d350(0x127)]='',inputText[_0x20d350(0x127)]=_0x20d350(0x10a)+_0x158c85,_0x158c85;}catch(_0x4285ea){inputText[_0x20d350(0x127)]=_0x4285ea[_0x20d350(0x11e)];throw _0x4285ea;}}async function autoScroll(){const _0x32d97a=a0_0x15948c;var _0x2f6925=inputText[_0x32d97a(0x103)]-inputText[_0x32d97a(0x11a)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x2f6925||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x32d97a(0x106)]=scrollAmount,requestAnimationFrame(autoScroll);}function a0_0x38e8(){const _0x172835=['5QYsNiT','getItem','code','onerror','27xjOnil','2390704jcZDRx','screenSize','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','addEventListener','noti-mess','text','log','json','result','&dt=t&q=','height','src','touchstart','readAsDataURL','isArray','endsWith','1908iXqIPS','turbo','touchend','type','20BgrFFn','charCodeAt','inputText','67483zuBkbl','1335qmDUcB','append','$1\x20','424103OPNVNe','trim','application/octet-stream','XMLHttpRequest','scrollWidth','getElementById','status','scrollLeft','.png','image/png','length','.._\x20','blocks','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','error','location','ApiAzure','createElement','12FYCkVc','join','1806434zpFfGx','DOMContentLoaded','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','split','.gb','POST','drawImage','clientWidth','width','image.png','4468vHMytU','message','Error\x20detecting\x20language:','forEach','Cors-controlers\x20have\x20not\x20been\x20activated.','replace','HTTP\x20Error:\x20','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','href','turbo-ocr','textContent','1607740vjilGJ','map','classList','&tl=','toggle','lines','.gbc','2192553ruYXTa','captureOCR','readResult'];a0_0x38e8=function(){return _0x172835;};return a0_0x38e8();}function a0_0x261d(_0x5efeba,_0x48a9c6){const _0x38e886=a0_0x38e8();return a0_0x261d=function(_0x261d88,_0x4cccdc){_0x261d88=_0x261d88-0xde;let _0x19c47d=_0x38e886[_0x261d88];return _0x19c47d;},a0_0x261d(_0x5efeba,_0x48a9c6);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x432bf5){const _0x84562a=a0_0x15948c;var _0x5eb6d6=_0x84562a(0xe6)+encodeURIComponent(_0x432bf5);try{const _0x3f52dc=await fetch(_0x5eb6d6),_0xf9d75e=await _0x3f52dc[_0x84562a(0xeb)]();var _0x5ac05d=_0xf9d75e[0x8][0x0][0x0];return _0x5ac05d;}catch(_0x17b88b){console[_0x84562a(0x10d)](_0x84562a(0x11f),_0x17b88b);throw _0x17b88b;}}async function transLogic(_0xc0bdf8){const _0x3557a3='en';if(_0x3557a3===null){const _0x1d27b8=await detectLanguage(_0xc0bdf8),_0x247580=await translateText(_0xc0bdf8,_0x1d27b8,'en');return translateText(_0x247580,'en','vi');}else{if(_0x3557a3==='en')return translateText(_0xc0bdf8,'en','vi');else{const _0x5ea06a=await translateText(_0xc0bdf8,_0x3557a3,'en');return translateText(_0x5ea06a,'en','vi');}}}function dataURItoBlob(_0x2a8e1b){const _0x296331=a0_0x15948c,_0x4a8963=atob(_0x2a8e1b),_0x1c3078=new ArrayBuffer(_0x4a8963[_0x296331(0x109)]),_0xe6c8a8=new Uint8Array(_0x1c3078);for(let _0x162129=0x0;_0x162129<_0x4a8963[_0x296331(0x109)];_0x162129++){_0xe6c8a8[_0x162129]=_0x4a8963[_0x296331(0xf9)](_0x162129);}return new Blob([_0x1c3078],{'type':_0x296331(0x108)});}document['addEventListener'](a0_0x15948c(0x114),function(){const _0x4001ef=a0_0x15948c;ID[_0x4001ef(0x120)](function(_0x2c6aad){const _0x496d6e=_0x4001ef,_0x3ff1ab=document[_0x496d6e(0x104)](_0x2c6aad);_0x3ff1ab&&_0x3ff1ab[_0x496d6e(0xe7)](_0x496d6e(0xf0),function(){const _0x255165=_0x496d6e;!isFunctionARunning&&turbo['classList']['remove'](_0x255165(0x126));});}),[_0x4001ef(0xf6)][_0x4001ef(0x120)](_0xbbbd39=>{const _0x4cdbdd=_0x4001ef;turbo['addEventListener'](_0xbbbd39,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x4cdbdd(0xe7)](_0xbbbd39,()=>{const _0x4c20e6=_0x4cdbdd;areaTrans['classList'][_0x4c20e6(0x12c)]('visible');});});});