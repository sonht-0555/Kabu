const a0_0x504ff9=a0_0x43a7;(function(_0x5c74b7,_0x588760){const _0x54bde8=a0_0x43a7,_0x5aef2f=_0x5c74b7();while(!![]){try{const _0x35b392=-parseInt(_0x54bde8(0x157))/0x1+-parseInt(_0x54bde8(0x158))/0x2*(parseInt(_0x54bde8(0x138))/0x3)+-parseInt(_0x54bde8(0x171))/0x4+parseInt(_0x54bde8(0x179))/0x5+parseInt(_0x54bde8(0x14d))/0x6*(-parseInt(_0x54bde8(0x15a))/0x7)+parseInt(_0x54bde8(0x145))/0x8*(-parseInt(_0x54bde8(0x160))/0x9)+parseInt(_0x54bde8(0x142))/0xa*(parseInt(_0x54bde8(0x16b))/0xb);if(_0x35b392===_0x588760)break;else _0x5aef2f['push'](_0x5aef2f['shift']());}catch(_0x5b168e){_0x5aef2f['push'](_0x5aef2f['shift']());}}}(a0_0x28f6,0x4f1ee));function a0_0x28f6(){const _0x1e190a=['message','application/octet-stream','500\x20Internal\x20Server\x20Error','23653380lGaTot','captureOCR','onerror','3995448pEOWzc','.png','drawImage','XMLHttpRequest','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','trim','turbo-ocr','user','4596olPSgq','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','clientWidth','text','type','height','touchstart','endsWith','isArray','scrollLeft','537770lrtQos','2fOnIuL','error','4676zXWPYD','image/png','POST','scrollWidth','width','addEventListener','9cLRyNS','result','visible','toDataURL','&dt=t&q=','remove','length','location','blocks','lines','join','11XBMoFe','textContent','append','Error\x20detecting\x20language:','HTTP\x20Error:\x20','getElementById','2116884HOpBoh','json','turbo','DOMContentLoaded','code','status','inputText','warn','2354895tJUOkJ','Cors-controlers\x20have\x20not\x20been\x20activated.','split','$1\x20','canvas','noti-mess','.._\x20','getContext','log','toggle','getItem','forEach','replace','1302387NzBtBi','ApiAzure','classList','src','image.png','_setArea','readAsDataURL'];a0_0x28f6=function(){return _0x1e190a;};return a0_0x28f6();}import*as a0_0x36ef15 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;function a0_0x43a7(_0x21b595,_0x556c41){const _0x28f651=a0_0x28f6();return a0_0x43a7=function(_0x43a775,_0x58e784){_0x43a775=_0x43a775-0x133;let _0x1bf5f1=_0x28f651[_0x43a775];return _0x1bf5f1;},a0_0x43a7(_0x21b595,_0x556c41);}const inputText=document[a0_0x504ff9(0x170)](a0_0x504ff9(0x177)),turbo=document[a0_0x504ff9(0x170)](a0_0x504ff9(0x173)),ID=['A','B','R','L'];async function getImage(){const _0x32d0b7=a0_0x504ff9;turbo['classList']['add'](_0x32d0b7(0x14b));try{const _0x366a8e=gameName[_0x32d0b7(0x137)](/\.(gba|gbc|gb|zip)$/,_0x32d0b7(0x146)),_0x1de322=await a0_0x36ef15[_0x32d0b7(0x143)](_0x366a8e),_0x4c183e=new Blob([_0x1de322],{'type':_0x32d0b7(0x15b)}),_0x4d4960=await new Promise((_0x57a300,_0x496ed7)=>{const _0x7ced75=_0x32d0b7,_0x55ff2f=new FileReader();_0x55ff2f['onloadend']=()=>_0x57a300(_0x55ff2f[_0x7ced75(0x161)]),_0x55ff2f[_0x7ced75(0x144)]=_0x496ed7,_0x55ff2f[_0x7ced75(0x13e)](_0x4c183e);}),_0x550e4f=new Image();_0x550e4f[_0x32d0b7(0x13b)]=_0x4d4960,_0x550e4f['onload']=async()=>{const _0x2e8ffa=_0x32d0b7,_0x47aaae=document['createElement'](_0x2e8ffa(0x17d)),_0x2dc40c=_0x47aaae[_0x2e8ffa(0x180)]('2d'),_0xa3768f=0x4;let _0x181c23;gameName[_0x2e8ffa(0x154)]('.gbc')||gameName['endsWith']('.gb')?_0x181c23=0x3/0x6:_0x181c23=0x3/0x4;const _0x3fdf87=localStorage[_0x2e8ffa(0x135)](gameName+_0x2e8ffa(0x13d))||localStorage[_0x2e8ffa(0x135)]('screenSize'),[_0x58760,_0x4078c1,_0x209d30,_0x4011b1]=_0x3fdf87[_0x2e8ffa(0x17b)](',')['map'](Number);_0x47aaae[_0x2e8ffa(0x15e)]=_0x209d30*_0x181c23*_0xa3768f,_0x47aaae[_0x2e8ffa(0x152)]=_0x4011b1*_0x181c23*_0xa3768f,_0x2dc40c[_0x2e8ffa(0x147)](_0x550e4f,_0x58760*_0x181c23,_0x4078c1*_0x181c23,_0x209d30*_0x181c23,_0x4011b1*_0x181c23,0x0,0x0,_0x209d30*_0x181c23*_0xa3768f,_0x4011b1*_0x181c23*_0xa3768f);const _0x1e001a=_0x47aaae[_0x2e8ffa(0x163)](_0x2e8ffa(0x15b))['split'](',')[0x1],_0x3842a3=localStorage[_0x2e8ffa(0x135)](_0x2e8ffa(0x139));console[_0x2e8ffa(0x133)](_0x3842a3),_0x3842a3?azureServer(_0x1e001a):freeServer(_0x1e001a);};}catch(_0x488040){inputText[_0x32d0b7(0x16c)]=_0x488040[_0x32d0b7(0x13f)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x5adb25=_0x32d0b7;document[_0x5adb25(0x170)](_0x5adb25(0x177))[_0x5adb25(0x16c)]='',a0_0x36ef15['notiMessage']('',0x0);},0x7530);}async function freeServer(_0xeeaf4d){const _0x21ae47=a0_0x504ff9;document['getElementById'](_0x21ae47(0x17e))[_0x21ae47(0x16c)]='';let _0x222133=0x0;const _0x352353=setInterval(()=>{const _0x349aa1=_0x21ae47;_0x222133+=0x1,_0x222133<=0x64&&(inputText[_0x349aa1(0x16c)]='.._\x20'+_0x222133+'%');},0x64);try{const _0x187ac3=dataURItoBlob(_0xeeaf4d),_0x10aa65=new FormData();_0x10aa65[_0x21ae47(0x16d)]('image',_0x187ac3,_0x21ae47(0x13c)),_0x10aa65[_0x21ae47(0x16d)](_0x21ae47(0x14c),_0x21ae47(0x149));let _0x195214;try{_0x195214=await fetch('https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text',{'method':_0x21ae47(0x15c),'body':_0x10aa65,'headers':{'Origin':window[_0x21ae47(0x167)]['origin'],'X-Requested-With':_0x21ae47(0x148),'User-Agent':navigator['userAgent']}});if(!_0x195214['ok'])throw new Error(_0x21ae47(0x16f)+_0x195214['status']);}catch(_0x1b73d1){console[_0x21ae47(0x178)](_0x21ae47(0x17a)),window[_0x21ae47(0x167)]['href']='https://cors-anywhere.herokuapp.com/corsdemo';return;}const _0x259790=await _0x195214[_0x21ae47(0x172)]();if(_0x259790['type']===_0x21ae47(0x159))throw new Error(_0x259790[_0x21ae47(0x159)]['message']);transLogic(_0x259790[_0x21ae47(0x150)]);}catch(_0x21fd30){inputText[_0x21ae47(0x16c)]=_0x21fd30['message'];}finally{clearInterval(_0x352353),isFunctionARunning=![];}}async function azureServer(_0x51c0ef){const _0xc1b5f9=a0_0x504ff9;document[_0xc1b5f9(0x170)](_0xc1b5f9(0x17e))[_0xc1b5f9(0x16c)]='',inputText[_0xc1b5f9(0x16c)]='.._\x20';const _0x593e3f=localStorage[_0xc1b5f9(0x135)]('ApiAzure');let [_0x2314fe,_0xb3e1a8]=_0x593e3f[_0xc1b5f9(0x17b)](',');try{const _0x3a9bd3=await fetch(_0xb3e1a8+'imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01',{'method':_0xc1b5f9(0x15c),'headers':{'Ocp-Apim-Subscription-Key':_0x2314fe,'Content-Type':_0xc1b5f9(0x140)},'body':dataURItoBlob(_0x51c0ef)}),_0x56890e=await _0x3a9bd3[_0xc1b5f9(0x172)]();if(!_0x3a9bd3['ok']||_0x56890e[_0xc1b5f9(0x151)]===_0xc1b5f9(0x159)){const _0x357a0c=_0x3a9bd3['ok']?_0x56890e[_0xc1b5f9(0x159)][_0xc1b5f9(0x13f)]:_0x3a9bd3[_0xc1b5f9(0x176)]===0x1f4?_0xc1b5f9(0x141):(await _0x3a9bd3[_0xc1b5f9(0x172)]())[_0xc1b5f9(0x159)][_0xc1b5f9(0x13f)];throw new Error(_0x357a0c);}const _0xf86b40=_0x56890e['readResult'][_0xc1b5f9(0x168)][0x0],_0x3fafd0=_0xf86b40[_0xc1b5f9(0x169)]||[],_0xd9d9ba=_0x3fafd0['map'](_0x36af34=>_0x36af34[_0xc1b5f9(0x150)])[_0xc1b5f9(0x16a)]('\x0a');transLogic(_0xd9d9ba);}catch(_0x42d498){inputText[_0xc1b5f9(0x16c)]=_0x42d498[_0xc1b5f9(0x13f)];}finally{isFunctionARunning=![];}}async function translateText(_0x354ccf,_0x5ce393,_0x3e9e99){const _0x1ce40f=a0_0x504ff9,_0x4d4544=_0x354ccf[_0x1ce40f(0x137)](/[\r\n]+/g,',\x20')[_0x1ce40f(0x137)](/([!?.,])\s*,\s*/g,_0x1ce40f(0x17c))[_0x1ce40f(0x137)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')[_0x1ce40f(0x137)](/ {2,}/g,'\x20')[_0x1ce40f(0x14a)]();var _0x25ba49='https://translate.googleapis.com/translate_a/single?client=gtx&sl='+_0x5ce393+'&tl='+_0x3e9e99+_0x1ce40f(0x164)+encodeURIComponent(_0x4d4544);try{const _0x500b32=await fetch(_0x25ba49);if(!_0x500b32['ok']){if(_0x500b32['status']===0x1f4)throw new Error('Internal\x20Server\x20Error');else{const _0x2a13cd=await _0x500b32[_0x1ce40f(0x172)](),_0x25406b=new Error(_0x2a13cd[_0x1ce40f(0x159)][_0x1ce40f(0x13f)]);_0x25406b[_0x1ce40f(0x175)]=_0x2a13cd[_0x1ce40f(0x159)][_0x1ce40f(0x175)];throw _0x25406b;}}const _0x4a5959=await _0x500b32[_0x1ce40f(0x172)]();if(Array[_0x1ce40f(0x155)](_0x4a5959)&&_0x4a5959['length']>0x0&&Array[_0x1ce40f(0x155)](_0x4a5959[0x0])){var _0x394b2a=_0x4a5959[0x0]['map'](_0x2c04ff=>_0x2c04ff[0x0])['join']('\x20');return document['getElementById']('noti-mess')[_0x1ce40f(0x16c)]='',inputText[_0x1ce40f(0x16c)]=_0x1ce40f(0x17f)+_0x394b2a[_0x1ce40f(0x137)](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x394b2a[_0x1ce40f(0x137)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x1ce40f(0x17e))['textContent']='',inputText[_0x1ce40f(0x16c)]=_0x1ce40f(0x17f)+_0x4a5959,_0x4a5959;}catch(_0x4209d8){inputText[_0x1ce40f(0x16c)]=_0x4209d8[_0x1ce40f(0x13f)];throw _0x4209d8;}}async function autoScroll(){const _0x374122=a0_0x504ff9;var _0x3d880a=inputText[_0x374122(0x15d)]-inputText[_0x374122(0x14f)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x3d880a||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x374122(0x156)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}async function detectLanguage(_0x302a45){const _0x3b2ae7=a0_0x504ff9;var _0x295b61=_0x3b2ae7(0x14e)+encodeURIComponent(_0x302a45);try{const _0xe2024a=await fetch(_0x295b61),_0x2d6fac=await _0xe2024a['json']();var _0x3d0272=_0x2d6fac[0x8][0x0][0x0];return _0x3d0272;}catch(_0x1eaa9f){console['error'](_0x3b2ae7(0x16e),_0x1eaa9f);throw _0x1eaa9f;}}async function transLogic(_0x1ec944){const _0x1dfd77='en';if(_0x1dfd77===null){const _0x1379ae=await detectLanguage(_0x1ec944),_0x3a566c=await translateText(_0x1ec944,_0x1379ae,'en');return translateText(_0x3a566c,'en','vi');}else{if(_0x1dfd77==='en')return translateText(_0x1ec944,'en','vi');else{const _0x16caa4=await translateText(_0x1ec944,_0x1dfd77,'en');return translateText(_0x16caa4,'en','vi');}}}function dataURItoBlob(_0x59efe9){const _0x58608c=a0_0x504ff9,_0xafceaa=atob(_0x59efe9),_0x5c7a19=new ArrayBuffer(_0xafceaa['length']),_0x510b21=new Uint8Array(_0x5c7a19);for(let _0x2e6c81=0x0;_0x2e6c81<_0xafceaa[_0x58608c(0x166)];_0x2e6c81++){_0x510b21[_0x2e6c81]=_0xafceaa['charCodeAt'](_0x2e6c81);}return new Blob([_0x5c7a19],{'type':'image/png'});}document['addEventListener'](a0_0x504ff9(0x174),function(){const _0x4f75c1=a0_0x504ff9;ID[_0x4f75c1(0x136)](function(_0x4b07f2){const _0x395e7f=_0x4f75c1,_0x5a78ac=document[_0x395e7f(0x170)](_0x4b07f2);_0x5a78ac&&_0x5a78ac[_0x395e7f(0x15f)](_0x395e7f(0x153),function(){const _0x31b85b=_0x395e7f;!isFunctionARunning&&turbo[_0x31b85b(0x13a)][_0x31b85b(0x165)](_0x31b85b(0x14b));});}),['touchend'][_0x4f75c1(0x136)](_0x39f85d=>{const _0xc46c64=_0x4f75c1;turbo[_0xc46c64(0x15f)](_0x39f85d,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0xc46c64(0x15f)](_0x39f85d,()=>{const _0x1502c8=_0xc46c64;areaTrans['classList'][_0x1502c8(0x134)](_0x1502c8(0x162));});});});