const a0_0x4eab82=a0_0x26ea;(function(_0x1a5de7,_0x8dae5e){const _0x57baf4=a0_0x26ea,_0x27639e=_0x1a5de7();while(!![]){try{const _0x3cc339=parseInt(_0x57baf4(0xd1))/0x1+-parseInt(_0x57baf4(0xe0))/0x2*(-parseInt(_0x57baf4(0x109))/0x3)+parseInt(_0x57baf4(0xfb))/0x4*(parseInt(_0x57baf4(0xf0))/0x5)+parseInt(_0x57baf4(0xe2))/0x6*(-parseInt(_0x57baf4(0x111))/0x7)+-parseInt(_0x57baf4(0xda))/0x8+parseInt(_0x57baf4(0x103))/0x9*(-parseInt(_0x57baf4(0xe9))/0xa)+parseInt(_0x57baf4(0xd7))/0xb*(-parseInt(_0x57baf4(0xf2))/0xc);if(_0x3cc339===_0x8dae5e)break;else _0x27639e['push'](_0x27639e['shift']());}catch(_0x48608a){_0x27639e['push'](_0x27639e['shift']());}}}(a0_0x35da,0xd1485));import*as a0_0x22b326 from'./main.js';var scrollAmount=0x0,scrollSpeed=0.5,runCount=0x0;function a0_0x26ea(_0xf6111a,_0x46ccea){const _0x35da97=a0_0x35da();return a0_0x26ea=function(_0x26ea97,_0x4f2891){_0x26ea97=_0x26ea97-0xcc;let _0x2928ba=_0x35da97[_0x26ea97];return _0x2928ba;},a0_0x26ea(_0xf6111a,_0x46ccea);}let isFunctionARunning=![];var maxRunCount=0x2;let clickTurbo=0x0,clickTimeout;const inputText=document[a0_0x4eab82(0xe7)](a0_0x4eab82(0x11b)),turbo=document[a0_0x4eab82(0xe7)](a0_0x4eab82(0xf7)),ID=['A','B','R','L'];async function getImage(){const _0x180a9b=a0_0x4eab82;turbo[_0x180a9b(0xde)][_0x180a9b(0xdc)](_0x180a9b(0xf6));try{const _0x2efaf2=gameName[_0x180a9b(0x123)](/\.(gba|gbc|gb|zip)$/,_0x180a9b(0xce)),_0x1b39d7=await a0_0x22b326['captureOCR'](_0x2efaf2),_0xefda1f=new Blob([_0x1b39d7],{'type':'image/png'}),_0x46086d=await new Promise((_0x4e9b61,_0x3c260b)=>{const _0x425456=_0x180a9b,_0x9c66e6=new FileReader();_0x9c66e6[_0x425456(0x11e)]=()=>_0x4e9b61(_0x9c66e6[_0x425456(0x10b)]),_0x9c66e6[_0x425456(0x110)]=_0x3c260b,_0x9c66e6[_0x425456(0xd4)](_0xefda1f);}),_0xfb857f=new Image();_0xfb857f[_0x180a9b(0x125)]=_0x46086d,_0xfb857f[_0x180a9b(0xe8)]=async()=>{const _0x1b845e=_0x180a9b,_0x1ec58c=document[_0x1b845e(0x113)](_0x1b845e(0x115)),_0x29d3da=_0x1ec58c[_0x1b845e(0x118)]('2d'),_0x2916ef=0x4;let _0x3d6f86;gameName['endsWith'](_0x1b845e(0x11f))||gameName[_0x1b845e(0x102)]('.gb')?_0x3d6f86=0x3/0x6:_0x3d6f86=0x3/0x4;const _0x15f5ef=localStorage[_0x1b845e(0xd6)](gameName+_0x1b845e(0xf9))||localStorage['getItem'](_0x1b845e(0xf8)),[_0xfab5bb,_0x2bc2d,_0x3efe9a,_0x51977f]=_0x15f5ef['split'](',')[_0x1b845e(0x105)](Number);_0x1ec58c[_0x1b845e(0xed)]=_0x3efe9a*_0x3d6f86*_0x2916ef,_0x1ec58c[_0x1b845e(0xfe)]=_0x51977f*_0x3d6f86*_0x2916ef,_0x29d3da[_0x1b845e(0xe3)](_0xfb857f,_0xfab5bb*_0x3d6f86,_0x2bc2d*_0x3d6f86,_0x3efe9a*_0x3d6f86,_0x51977f*_0x3d6f86,0x0,0x0,_0x3efe9a*_0x3d6f86*_0x2916ef,_0x51977f*_0x3d6f86*_0x2916ef);const _0x4a8e64=_0x1ec58c[_0x1b845e(0x10f)](_0x1b845e(0x104))[_0x1b845e(0xea)](',')[0x1],_0x264882=localStorage[_0x1b845e(0xd6)](_0x1b845e(0xf1));console[_0x1b845e(0x122)](_0x264882),_0x264882?azureServer(_0x4a8e64):freeServer(_0x4a8e64);};}catch(_0x51030e){inputText[_0x180a9b(0x10d)]=_0x51030e[_0x180a9b(0xd2)];}clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{const _0x2a5def=_0x180a9b;document[_0x2a5def(0xe7)]('inputText')[_0x2a5def(0x10d)]='',a0_0x22b326['notiMessage']('',0x0);},0x7530);}async function freeServer(_0x2be11e){const _0x553e3b=a0_0x4eab82;document[_0x553e3b(0xe7)]('noti-mess')[_0x553e3b(0x10d)]='';let _0x4c8ca3=0x0;const _0x9fafc0=setInterval(()=>{const _0x4fd009=_0x553e3b;_0x4c8ca3+=0x1,_0x4c8ca3<=0x64&&(inputText[_0x4fd009(0x10d)]=_0x4fd009(0x108)+_0x4c8ca3+'%');},0x64);try{const _0xb152d4=dataURItoBlob(_0x2be11e),_0x25f2d9=new FormData();_0x25f2d9['append'](_0x553e3b(0xd9),_0xb152d4,_0x553e3b(0xdf)),_0x25f2d9[_0x553e3b(0x106)](_0x553e3b(0x117),_0x553e3b(0xe5));let _0x302c37;try{_0x302c37=await fetch(_0x553e3b(0x119),{'method':_0x553e3b(0xf3),'body':_0x25f2d9,'headers':{'Origin':window[_0x553e3b(0x10e)][_0x553e3b(0x112)],'X-Requested-With':_0x553e3b(0x120),'User-Agent':navigator[_0x553e3b(0xdb)]}});if(!_0x302c37['ok'])throw new Error(_0x553e3b(0xe4)+_0x302c37[_0x553e3b(0xcf)]);}catch(_0x2e533b){console[_0x553e3b(0xe1)]('Cors-controlers\x20have\x20not\x20been\x20activated.'),window[_0x553e3b(0x10e)][_0x553e3b(0xdd)]=_0x553e3b(0xf5);return;}const _0x55c65b=await _0x302c37[_0x553e3b(0x11c)]();if(_0x55c65b[_0x553e3b(0xee)]==='error')throw new Error(_0x55c65b['error']['message']);transLogic(_0x55c65b[_0x553e3b(0xcd)]);}catch(_0x21f47f){inputText['textContent']=_0x21f47f[_0x553e3b(0xd2)];}finally{clearInterval(_0x9fafc0),isFunctionARunning=![];}}async function azureServer(_0x33a154){const _0x2dfc73=a0_0x4eab82;document['getElementById']('noti-mess')[_0x2dfc73(0x10d)]='',inputText[_0x2dfc73(0x10d)]=_0x2dfc73(0x108);const _0x18c9ad=localStorage[_0x2dfc73(0xd6)]('ApiAzure');let [_0x2209f5,_0x135027]=_0x18c9ad['split'](',');try{const _0x3d2335=await fetch(_0x135027+_0x2dfc73(0xfc),{'method':_0x2dfc73(0xf3),'headers':{'Ocp-Apim-Subscription-Key':_0x2209f5,'Content-Type':_0x2dfc73(0xeb)},'body':dataURItoBlob(_0x33a154)}),_0x5602d6=await _0x3d2335[_0x2dfc73(0x11c)]();if(!_0x3d2335['ok']||_0x5602d6['type']===_0x2dfc73(0x10c)){const _0x84ca60=_0x3d2335['ok']?_0x5602d6['error'][_0x2dfc73(0xd2)]:_0x3d2335[_0x2dfc73(0xcf)]===0x1f4?_0x2dfc73(0x116):(await _0x3d2335[_0x2dfc73(0x11c)]())[_0x2dfc73(0x10c)][_0x2dfc73(0xd2)];throw new Error(_0x84ca60);}const _0x1ef23b=_0x5602d6['readResult']['blocks'][0x0],_0x439f6a=_0x1ef23b[_0x2dfc73(0xfd)]||[],_0x28e6d0=_0x439f6a[_0x2dfc73(0x105)](_0x56beb6=>_0x56beb6[_0x2dfc73(0xcd)])[_0x2dfc73(0x100)]('\x0a');transLogic(_0x28e6d0);}catch(_0x306edc){inputText['textContent']=_0x306edc[_0x2dfc73(0xd2)];}finally{isFunctionARunning=![];}}async function translateText(_0x57fe53,_0x595b46,_0x50a86b){const _0x28ba0b=a0_0x4eab82,_0x33229e=_0x57fe53['replace'](/[\r\n]+/g,',\x20')[_0x28ba0b(0x123)](/([!?.,])\s*,\s*/g,_0x28ba0b(0xd3))[_0x28ba0b(0x123)](/[^\p{L}\p{N}\s.,;'"?!()]+/gu,'')['replace'](/ {2,}/g,'\x20')[_0x28ba0b(0xd0)]();var _0xeb7f08=_0x28ba0b(0x114)+_0x595b46+_0x28ba0b(0xfa)+_0x50a86b+_0x28ba0b(0x10a)+encodeURIComponent(_0x33229e);try{const _0x35def5=await fetch(_0xeb7f08);if(!_0x35def5['ok']){if(_0x35def5[_0x28ba0b(0xcf)]===0x1f4)throw new Error(_0x28ba0b(0xd8));else{const _0x3be492=await _0x35def5[_0x28ba0b(0x11c)](),_0x3b468f=new Error(_0x3be492['error']['message']);_0x3b468f[_0x28ba0b(0xe6)]=_0x3be492[_0x28ba0b(0x10c)]['code'];throw _0x3b468f;}}const _0x53d6f0=await _0x35def5[_0x28ba0b(0x11c)]();if(Array['isArray'](_0x53d6f0)&&_0x53d6f0[_0x28ba0b(0x11a)]>0x0&&Array['isArray'](_0x53d6f0[0x0])){var _0x167fbf=_0x53d6f0[0x0][_0x28ba0b(0x105)](_0x200095=>_0x200095[0x0])[_0x28ba0b(0x100)]('\x20');return document[_0x28ba0b(0xe7)](_0x28ba0b(0xf4))['textContent']='',inputText[_0x28ba0b(0x10d)]=_0x28ba0b(0x108)+_0x167fbf['replace'](/ {2,}/g,'\x20'),setTimeout(()=>{startAutoScroll();},0x7d0),_0x167fbf[_0x28ba0b(0x123)](/ {2,}/g,'\x20');}else return document['getElementById'](_0x28ba0b(0xf4))[_0x28ba0b(0x10d)]='',inputText[_0x28ba0b(0x10d)]=_0x28ba0b(0x108)+_0x53d6f0,_0x53d6f0;}catch(_0x1757a9){inputText[_0x28ba0b(0x10d)]=_0x1757a9[_0x28ba0b(0xd2)];throw _0x1757a9;}}async function autoScroll(){const _0x2b5b50=a0_0x4eab82;var _0x58697b=inputText['scrollWidth']-inputText[_0x2b5b50(0xec)];if(runCount>=maxRunCount)return;scrollAmount+=scrollSpeed,(scrollAmount>=_0x58697b||scrollAmount<=0x0)&&(scrollSpeed=-scrollSpeed,runCount++),inputText[_0x2b5b50(0xef)]=scrollAmount,requestAnimationFrame(autoScroll);}async function startAutoScroll(){scrollAmount=0x0,runCount=0x0,scrollSpeed=0.5,autoScroll();}function a0_0x35da(){const _0x52f607=['trim','354637ofnStx','message','$1\x20','readAsDataURL','touchstart','getItem','11FBMBcz','Internal\x20Server\x20Error','image','660976oAPihF','userAgent','add','href','classList','image.png','1220454JMZfqB','warn','4632YhAnwL','drawImage','HTTP\x20Error:\x20','00c7b1f2-0d6b-4e7b-9b0b-0b6c00c7b1f2','code','getElementById','onload','91940WqFfiW','split','application/octet-stream','clientWidth','width','type','scrollLeft','145XEsmpZ','ApiAzure','18925428JxxKZa','POST','noti-mess','https://cors-anywhere.herokuapp.com/corsdemo','turbo-ocr','turbo','screenSize','_setArea','&tl=','229572EmZdhS','imageanalysis:analyze?features=caption,read&model-version=latest&api-version=2024-02-01','lines','height','addEventListener','join','touchend','endsWith','207rMqKHk','image/png','map','append','visible','.._\x20','6YXUhyQ','&dt=t&q=','result','error','textContent','location','toDataURL','onerror','4634QJAVtX','origin','createElement','https://translate.googleapis.com/translate_a/single?client=gtx&sl=','canvas','500\x20Internal\x20Server\x20Error','user','getContext','https://cors-anywhere.herokuapp.com/http://158.160.66.115:40000/image_to_text','length','inputText','json','remove','onloadend','.gbc','XMLHttpRequest','DOMContentLoaded','log','replace','https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&dt=ld&q=','src','charCodeAt','text','.png','status'];a0_0x35da=function(){return _0x52f607;};return a0_0x35da();}async function detectLanguage(_0x3feba5){const _0xa49f02=a0_0x4eab82;var _0x17e4f6=_0xa49f02(0x124)+encodeURIComponent(_0x3feba5);try{const _0x329d81=await fetch(_0x17e4f6),_0x473461=await _0x329d81[_0xa49f02(0x11c)]();var _0x5c6058=_0x473461[0x8][0x0][0x0];return _0x5c6058;}catch(_0x2fb19b){console[_0xa49f02(0x10c)]('Error\x20detecting\x20language:',_0x2fb19b);throw _0x2fb19b;}}async function transLogic(_0x173724){const _0x3ae67a='en';if(_0x3ae67a===null){const _0x4547d2=await detectLanguage(_0x173724),_0x5bd43f=await translateText(_0x173724,_0x4547d2,'en');return translateText(_0x5bd43f,'en','vi');}else{if(_0x3ae67a==='en')return translateText(_0x173724,'en','vi');else{const _0x524b6b=await translateText(_0x173724,_0x3ae67a,'en');return translateText(_0x524b6b,'en','vi');}}}function dataURItoBlob(_0xd00d7d){const _0x538a0a=a0_0x4eab82,_0x2da23a=atob(_0xd00d7d),_0x9e9d06=new ArrayBuffer(_0x2da23a[_0x538a0a(0x11a)]),_0x10ec43=new Uint8Array(_0x9e9d06);for(let _0x3cf09a=0x0;_0x3cf09a<_0x2da23a[_0x538a0a(0x11a)];_0x3cf09a++){_0x10ec43[_0x3cf09a]=_0x2da23a[_0x538a0a(0xcc)](_0x3cf09a);}return new Blob([_0x9e9d06],{'type':_0x538a0a(0x104)});}document[a0_0x4eab82(0xff)](a0_0x4eab82(0x121),function(){const _0x9cfa1a=a0_0x4eab82;ID['forEach'](function(_0x8731e4){const _0x4c44db=a0_0x26ea,_0x5b61a0=document[_0x4c44db(0xe7)](_0x8731e4);_0x5b61a0&&_0x5b61a0[_0x4c44db(0xff)](_0x4c44db(0xd5),function(){const _0x30754e=_0x4c44db;!isFunctionARunning&&turbo[_0x30754e(0xde)][_0x30754e(0x11d)](_0x30754e(0xf6));});}),[_0x9cfa1a(0x101)]['forEach'](_0x549811=>{const _0x470855=_0x9cfa1a;turbo[_0x470855(0xff)](_0x549811,()=>{clickTurbo++,clearTimeout(clickTimeout),clickTimeout=setTimeout(()=>{clickTurbo===0x1&&(!isFunctionARunning&&(isFunctionARunning=!![],getImage())),clickTurbo=0x0;},0x12c);}),areaSet[_0x470855(0xff)](_0x549811,()=>{const _0x3d3eeb=_0x470855;areaTrans[_0x3d3eeb(0xde)]['toggle'](_0x3d3eeb(0x107));});});});