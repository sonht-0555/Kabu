function a0_0xf9f7(){const _0x39ff52=['5659620BIrlzg','FLOAT','TEXTURE_WRAP_T','shaderSource','getItem','arrayBuffer','set','viewport','linkProgram','texParameteri','998376gFLmpi','enableVertexAttribArray','warm','VERTEX_SHADER','5775847hKGfdf','RGBA','width','getContext','low-power','createProgram','precision\x20mediump\x20float;varying\x20vec2\x20v_texcoord;uniform\x20sampler2D\x20texSampler;uniform\x20vec2\x20game_size;uniform\x20vec2\x20render_size;uniform\x20float\x20smooth_width;uniform\x20float\x20smooth_height;vec4\x20interpolate_color(vec2\x20tex_coord){vec2\x20ip=floor(tex_coord*game_size-0.5)+0.5;vec2\x20residual=fract(tex_coord*game_size+0.5);ip/=game_size;vec4\x20v0=texture2D(texSampler,ip);vec4\x20v1=texture2D(texSampler,ip+vec2(1.0,0.0)/game_size);vec4\x20v2=texture2D(texSampler,ip+vec2(0.0,1.0)/game_size);vec4\x20v3=texture2D(texSampler,ip+vec2(1.0,1.0)/game_size);vec2\x20smooth_dim=vec2(smooth_width,smooth_height);if(fract(render_size.x/game_size.x)*game_size.x<0.01)smooth_dim.x=0.01;if(fract(render_size.y/game_size.y)*game_size.y<0.01)smooth_dim.y=0.01;vec2\x20alpha=vec2(smoothstep(0.5-smooth_dim.x*0.5,0.5+smooth_dim.x*0.5,residual.x),smoothstep(0.5-smooth_dim.y*0.5,0.5+smooth_dim.y*0.5,residual.y));return\x20mix(mix(v0,v1,alpha.x),mix(v2,v3,alpha.x),alpha.y);}void\x20main(){gl_FragColor=interpolate_color(v_texcoord);}','texImage2D','putImageData','smooth_width','NEAREST','uniform1f','STATIC_DRAW','24393jvgpnj','useProgram','canvas','CLAMP_TO_EDGE','getAttribLocation','attachShader','TEXTURE_MIN_FILTER','COLOR_BUFFER_BIT','2700234Cllrah','clear','.bin','TEXTURE_2D','game_size','18EEMzan','slice','167024vgnluD','_temperature','TEXTURE_WRAP_S','TRIANGLE_STRIP','FRAGMENT_SHADER','position','bindTexture','createBuffer','createShader','218zFrysp','TEXTURE_MAG_FILTER','webgl','smooth_height','bindBuffer','height','623945vyMpIm','compileShader','./src/lut/lut64_','uniform2f','vertexAttribPointer','4.0','ARRAY_BUFFER','drawArrays','texcoord','bufferData','imageSmoothingEnabled','getUniformLocation','getPixelData','20sviSDc','webgl_full','attribute\x20vec2\x20position;attribute\x20vec2\x20texcoord;varying\x20vec2\x20v_texcoord;void\x20main()\x20{gl_Position\x20=\x20vec4(position,\x200.0,\x201.0);v_texcoord\x20=\x20texcoord;}'];a0_0xf9f7=function(){return _0x39ff52;};return a0_0xf9f7();}(function(_0x254e07,_0x5af435){const _0x2167e9=a0_0x8b7b,_0x47ed5a=_0x254e07();while(!![]){try{const _0x3adcee=parseInt(_0x2167e9(0xb3))/0x1+parseInt(_0x2167e9(0xbc))/0x2*(-parseInt(_0x2167e9(0xa4))/0x3)+-parseInt(_0x2167e9(0x86))/0x4*(-parseInt(_0x2167e9(0xc2))/0x5)+-parseInt(_0x2167e9(0xac))/0x6+parseInt(_0x2167e9(0x97))/0x7+parseInt(_0x2167e9(0x93))/0x8*(-parseInt(_0x2167e9(0xb1))/0x9)+parseInt(_0x2167e9(0x89))/0xa;if(_0x3adcee===_0x5af435)break;else _0x47ed5a['push'](_0x47ed5a['shift']());}catch(_0x1316b6){_0x47ed5a['push'](_0x47ed5a['shift']());}}}(a0_0xf9f7,0x918ac));import*as a0_0x4dab25 from'./main.js';let gl=null,program=null,texture=null,ctx2d=null,lut64=null,lut64Streng=null,lut64Profile=null,imageDataObj=null,fs=null,vs=null;async function loadLUT64(){const _0x317802=a0_0x8b7b;systemType=gameName[_0x317802(0xb2)](-0x3);const _0x532234=localStorage[_0x317802(0x8d)](gameName+'_streng')||_0x317802(0xc7),_0x52ce43=(localStorage['getItem'](gameName+_0x317802(0xb4))||_0x317802(0x95))['toLowerCase']();if(!lut64||lut64Streng!==_0x532234||lut64Profile!==_0x52ce43){const _0x30dced=_0x317802(0xc4)+_0x52ce43+'_'+_0x532234+_0x317802(0xae);console['log'](_0x30dced);const _0x5f3cfe=await fetch(_0x30dced),_0x575e53=await _0x5f3cfe[_0x317802(0x8e)]();lut64=new Uint8Array(_0x575e53),lut64Streng=_0x532234,lut64Profile=_0x52ce43;}}function setupWebGL_Shader(_0x40149d){const _0x54d998=a0_0x8b7b;gl=bufferCanvas[_0x54d998(0x9a)]('webgl',{'alpha':![],'depth':![],'antialias':![],'premultipliedAlpha':![],'preserveDrawingBuffer':![],'powerPreference':_0x54d998(0x9b)}),gl[_0x54d998(0x90)](0x0,0x0,bufferCanvas[_0x54d998(0x99)],bufferCanvas['height']);function _0x191fa3(_0x6023c6,_0x1eb540){const _0xfc0ef1=_0x54d998,_0x1f19c9=gl[_0xfc0ef1(0xbb)](_0x6023c6);return gl[_0xfc0ef1(0x8c)](_0x1f19c9,_0x1eb540),gl[_0xfc0ef1(0xc3)](_0x1f19c9),_0x1f19c9;}vs=_0x54d998(0x88);if(_0x40149d==='webgl')fs='precision\x20mediump\x20float;varying\x20vec2\x20v_texcoord;uniform\x20sampler2D\x20texture;void\x20main()\x20{gl_FragColor\x20=\x20texture2D(texture,\x20v_texcoord);}';else _0x40149d===_0x54d998(0x87)&&(fs=_0x54d998(0x9d));const _0xe0f22=_0x191fa3(gl[_0x54d998(0x96)],vs),_0x388a78=_0x191fa3(gl[_0x54d998(0xb7)],fs);return program=gl[_0x54d998(0x9c)](),gl[_0x54d998(0xa9)](program,_0xe0f22),gl[_0x54d998(0xa9)](program,_0x388a78),gl[_0x54d998(0x91)](program),gl[_0x54d998(0xa5)](program),program;}function setupTexture_Buffer(_0x582fdb){const _0x262955=a0_0x8b7b;texture=gl['createTexture'](),gl[_0x262955(0xb9)](gl['TEXTURE_2D'],texture),gl[_0x262955(0x92)](gl[_0x262955(0xaf)],gl[_0x262955(0xaa)],gl[_0x262955(0xa1)]),gl[_0x262955(0x92)](gl[_0x262955(0xaf)],gl[_0x262955(0xbd)],gl[_0x262955(0xa1)]),gl[_0x262955(0x92)](gl['TEXTURE_2D'],gl[_0x262955(0xb5)],gl[_0x262955(0xa7)]),gl[_0x262955(0x92)](gl[_0x262955(0xaf)],gl[_0x262955(0x8b)],gl['CLAMP_TO_EDGE']);_0x582fdb==='webgl_full'&&(gl[_0x262955(0xc5)](gl[_0x262955(0x84)](program,_0x262955(0xb0)),gameWidth,gameHeight),gl[_0x262955(0xc5)](gl[_0x262955(0x84)](program,'render_size'),gl['canvas']['width'],gl[_0x262955(0xa6)][_0x262955(0xc1)]),gl[_0x262955(0xa2)](gl['getUniformLocation'](program,_0x262955(0xa0)),gameWidth/gl['canvas'][_0x262955(0x99)]),gl['uniform1f'](gl[_0x262955(0x84)](program,_0x262955(0xbf)),gameHeight/gl[_0x262955(0xa6)][_0x262955(0xc1)]));const _0x5aff99=gl['createBuffer']();gl['bindBuffer'](gl[_0x262955(0xc8)],_0x5aff99),gl[_0x262955(0xcb)](gl['ARRAY_BUFFER'],new Float32Array([-0x1,-0x1,0x1,-0x1,-0x1,0x1,0x1,0x1]),gl[_0x262955(0xa3)]),gl[_0x262955(0xc6)](gl[_0x262955(0xa8)](program,_0x262955(0xb8)),0x2,gl[_0x262955(0x8a)],![],0x0,0x0),gl[_0x262955(0x94)](gl[_0x262955(0xa8)](program,_0x262955(0xb8)));const _0x24e261=gl[_0x262955(0xba)]();gl[_0x262955(0xc0)](gl[_0x262955(0xc8)],_0x24e261),gl['bufferData'](gl[_0x262955(0xc8)],new Float32Array([0x0,0x1,0x1,0x1,0x0,0x0,0x1,0x0]),gl[_0x262955(0xa3)]),gl[_0x262955(0xc6)](gl['getAttribLocation'](program,_0x262955(0xca)),0x2,gl[_0x262955(0x8a)],![],0x0,0x0),gl['enableVertexAttribArray'](gl[_0x262955(0xa8)](program,_0x262955(0xca)));}function setup2DContext(){const _0x52e2de=a0_0x8b7b;ctx2d=bufferCanvas[_0x52e2de(0x9a)]('2d'),ctx2d[_0x52e2de(0x83)]=![];}async function renderPixel(_0x1965c8){const _0x186a4f=a0_0x8b7b,_0x55966f=a0_0x4dab25[_0x186a4f(0x85)]();if(!_0x55966f)return;await loadLUT64();const _0x3f6570=new Uint8ClampedArray(gameWidth*gameHeight*0x4);for(let _0x44af0e=0x0;_0x44af0e<gameHeight;_0x44af0e++){for(let _0x1107d8=0x0;_0x1107d8<gameWidth;_0x1107d8++){const _0x2ce05e=_0x44af0e*gameStride+_0x1107d8,_0x1fbb44=(_0x44af0e*gameWidth+_0x1107d8)*0x4,_0x49f3ff=_0x55966f[_0x2ce05e],_0x5c5e46=(_0x49f3ff&0xff)>>0x2,_0x37fdca=(_0x49f3ff>>0x8&0xff)>>0x2,_0xcbc5c2=(_0x49f3ff>>0x10&0xff)>>0x2,_0x1d2093=(_0x5c5e46*0x40*0x40+_0x37fdca*0x40+_0xcbc5c2)*0x3;_0x3f6570[_0x1fbb44]=lut64[_0x1d2093],_0x3f6570[_0x1fbb44+0x1]=lut64[_0x1d2093+0x1],_0x3f6570[_0x1fbb44+0x2]=lut64[_0x1d2093+0x2],_0x3f6570[_0x1fbb44+0x3]=0xff;}}if(_0x1965c8===_0x186a4f(0xbe))gl[_0x186a4f(0x9e)](gl['TEXTURE_2D'],0x0,gl[_0x186a4f(0x98)],gameWidth,gameHeight,0x0,gl['RGBA'],gl['UNSIGNED_BYTE'],_0x3f6570),gl[_0x186a4f(0xad)](gl[_0x186a4f(0xab)]),gl[_0x186a4f(0xc9)](gl[_0x186a4f(0xb6)],0x0,0x4);else _0x1965c8==='2d'&&(!imageDataObj?imageDataObj=new ImageData(_0x3f6570,gameWidth,gameHeight):imageDataObj['data'][_0x186a4f(0x8f)](_0x3f6570),ctx2d['clearRect'](0x0,0x0,bufferCanvas['width'],bufferCanvas[_0x186a4f(0xc1)]),ctx2d[_0x186a4f(0x9f)](imageDataObj,0x0,0x0));requestAnimationFrame(()=>renderPixel(_0x1965c8));}function a0_0x8b7b(_0x1b2552,_0x5efe2e){const _0xf9f74f=a0_0xf9f7();return a0_0x8b7b=function(_0x8b7b1,_0x327209){_0x8b7b1=_0x8b7b1-0x83;let _0x2f00a5=_0xf9f74f[_0x8b7b1];return _0x2f00a5;},a0_0x8b7b(_0x1b2552,_0x5efe2e);}export async function switchRenderMode(_0x3f34d8){const _0x2fe27a=a0_0x8b7b;systemType=gameName['slice'](-0x3);if(_0x3f34d8==='2d')setupStyle('2d'),setup2DContext(),renderPixel('2d');else{if(_0x3f34d8==='webgl')setupStyle('2d'),setupWebGL_Shader(_0x2fe27a(0xbe)),setupTexture_Buffer('webgl'),renderPixel(_0x2fe27a(0xbe));else _0x3f34d8===_0x2fe27a(0x87)&&(setupStyle('webgl_full'),setupWebGL_Shader('webgl_full'),setupTexture_Buffer('webgl_full'),renderPixel(_0x2fe27a(0xbe)));}}