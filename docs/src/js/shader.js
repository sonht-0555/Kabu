const a0_0x103057=a0_0x222e;(function(_0x3a9399,_0x439e56){const _0x6b7443=a0_0x222e,_0x1e7f53=_0x3a9399();while(!![]){try{const _0x238a2f=-parseInt(_0x6b7443(0x1cf))/0x1*(parseInt(_0x6b7443(0x1ca))/0x2)+parseInt(_0x6b7443(0x1c0))/0x3*(parseInt(_0x6b7443(0x1e4))/0x4)+parseInt(_0x6b7443(0x211))/0x5*(-parseInt(_0x6b7443(0x1c3))/0x6)+-parseInt(_0x6b7443(0x1fe))/0x7+parseInt(_0x6b7443(0x1c4))/0x8+-parseInt(_0x6b7443(0x1d0))/0x9*(-parseInt(_0x6b7443(0x215))/0xa)+parseInt(_0x6b7443(0x1bf))/0xb;if(_0x238a2f===_0x439e56)break;else _0x1e7f53['push'](_0x1e7f53['shift']());}catch(_0x256776){_0x1e7f53['push'](_0x1e7f53['shift']());}}}(a0_0x5c80,0xe6028));import*as a0_0x2cae9a from'./main.js';function a0_0x222e(_0x105577,_0xf9dff2){const _0x5c801e=a0_0x5c80();return a0_0x222e=function(_0x222e99,_0x1fd735){_0x222e99=_0x222e99-0x1bc;let _0x45b51f=_0x5c801e[_0x222e99];return _0x45b51f;},a0_0x222e(_0x105577,_0xf9dff2);}let gl=null,program=null,systemType,clientWidth,upscaleFactor=0x3,upscaleShader,gameWidth,gameHeight,gameStride,texture,integerScaling,ctx2d=null,lut64=null,lut64Streng=null,lut64Profile=null;const textured=document[a0_0x103057(0x1cb)](a0_0x103057(0x203)),bufferCanvas=document['getElementById'](a0_0x103057(0x1f4)),canvasContainer=document[a0_0x103057(0x1cb)](a0_0x103057(0x1e2)),imgShader=document['getElementById'](a0_0x103057(0x1df)),settingContainer=document[a0_0x103057(0x1de)](a0_0x103057(0x205)),messageContainer=document[a0_0x103057(0x1de)]('.message-container'),stateTitle=document['querySelectorAll']('.stateTitle,\x20.stateDate');function a0_0x5c80(){const _0x2e9613=['createShader','165630deDnch','4988584fEagka','zoom','NEAREST','TEXTURE_MIN_FILTER','transform','VERTEX_SHADER','9808qgkUCk','getElementById','TEXTURE_2D','getUniformLocation','createTexture','146wGYlYk','144ojRQcR','FLOAT','4.0','WebGL2\x20not\x20supported','position','warm','top\x20center','TEXTURE_WRAP_T','texImage2D','width','texParameteri','fefs','px\x20','clientWidth','querySelectorAll','img-shader','UNSIGNED_BYTE','transformOrigin','canvas-container','clearRect','24Lmcpyn','useProgram','getItem','createProgram','floor','uniform2f','render_size','linkProgram','smooth_width','ARRAY_BUFFER','.bin','classList','clear','webgl2','TEXTURE_WRAP_S','game_size','canvas','COLOR_BUFFER_BIT','gbc','createBuffer','imageRendering','0,0,','deleteShader','getPixelData','crisp-edges','drawArrays','4997902JdTPdO','vertexAttribPointer','bufferData','./src/shaders/vertexShader.glsl','drawImage','textured','attachShader','.setting-container','error','addEventListener','slice','bindBuffer','enableVertexAttribArray','scale(','style','setItem','CLAMP_TO_EDGE','screenSize','getShaderInfoLog','285BSADek','height','./src/lut/lut64_','STATIC_DRAW','282040MUmWBU','getContext','devicePixelRatio','DOMContentLoaded','getAttribLocation','setProperty','FRAGMENT_SHADER','17752306LLtOLm','628446OlStTw','forEach'];a0_0x5c80=function(){return _0x2e9613;};return a0_0x5c80();}async function loadLUT64(){const _0x260e08=a0_0x103057;systemType=gameName[_0x260e08(0x208)](-0x3);const _0x2f45c9=localStorage[_0x260e08(0x1e6)](gameName+'_streng')||_0x260e08(0x1d2),_0x978b03=(localStorage[_0x260e08(0x1e6)](gameName+'_temperature')||_0x260e08(0x1d5))['toLowerCase']();if(!lut64||lut64Streng!==_0x2f45c9||lut64Profile!==_0x978b03){const _0x316b23=_0x260e08(0x213)+_0x978b03+'_'+_0x2f45c9+_0x260e08(0x1ee);console['log'](_0x316b23);const _0x4bde57=await fetch(_0x316b23),_0x3f9a1a=await _0x4bde57['arrayBuffer']();lut64=new Uint8Array(_0x3f9a1a),lut64Streng=_0x2f45c9,lut64Profile=_0x978b03;}}async function loadShaderSource(_0x318910){const _0x4713d8=await fetch(_0x318910);return await _0x4713d8['text']();}function setupStyle(_0x759e07){const _0x2b5698=a0_0x103057;clientWidth=document['documentElement'][_0x2b5698(0x1dd)];const _0x5c7114=window[_0x2b5698(0x217)];systemType===_0x2b5698(0x1f6)?(gameWidth=0xa0,gameHeight=0x90,gameStride=0x100,upscaleShader=0x3,integerScaling=Math[_0x2b5698(0x1e8)](clientWidth*_0x5c7114/gameWidth),localStorage[_0x2b5698(0x20d)]('screenSize','0,0,'+gameWidth*(integerScaling/_0x5c7114)+','+gameHeight*(integerScaling/_0x5c7114))):(gameWidth=0xf0,gameHeight=0xa0,gameStride=0xf0,upscaleShader=0x2,integerScaling=Math[_0x2b5698(0x1e8)](clientWidth*_0x5c7114/gameWidth),localStorage[_0x2b5698(0x20d)](_0x2b5698(0x20f),_0x2b5698(0x1f9)+gameWidth*(integerScaling/_0x5c7114)+','+gameHeight*(integerScaling/_0x5c7114)));if(_0x759e07==='2d')bufferCanvas[_0x2b5698(0x1d9)]=gameWidth,bufferCanvas[_0x2b5698(0x212)]=gameHeight,bufferCanvas['style']['zoom']=''+integerScaling/_0x5c7114,bufferCanvas[_0x2b5698(0x20c)][_0x2b5698(0x1f8)]=_0x2b5698(0x1fc),canvasContainer['style'][_0x2b5698(0x1d9)]=gameWidth*(integerScaling/_0x5c7114)+'px',canvasContainer[_0x2b5698(0x20c)][_0x2b5698(0x212)]=gameHeight*(integerScaling/_0x5c7114)+'px',textured[_0x2b5698(0x20c)][_0x2b5698(0x1d9)]=gameWidth*(integerScaling/_0x5c7114)+'px',textured[_0x2b5698(0x20c)][_0x2b5698(0x212)]=gameHeight*(integerScaling/_0x5c7114)+'px',imgShader[_0x2b5698(0x20c)][_0x2b5698(0x1c8)]=_0x2b5698(0x20b)+integerScaling/_0x5c7114/upscaleShader+')',settingContainer['forEach'](function(_0x50dc24){const _0x52a6af=_0x2b5698;_0x50dc24[_0x52a6af(0x20c)][_0x52a6af(0x1d9)]=gameWidth*(integerScaling/_0x5c7114)+'px',_0x50dc24[_0x52a6af(0x20c)][_0x52a6af(0x212)]=gameHeight*(integerScaling/_0x5c7114)+'px';}),messageContainer[_0x2b5698(0x1c1)](function(_0x586536){const _0xab1e1e=_0x2b5698;_0x586536['style']['width']=gameWidth+'px',_0x586536[_0xab1e1e(0x20c)][_0xab1e1e(0x212)]=gameHeight+'px',_0x586536['style'][_0xab1e1e(0x1c5)]=''+integerScaling/_0x5c7114;}),stateTitle['forEach'](function(_0xad7620){const _0x1a9d6a=_0x2b5698;_0xad7620[_0x1a9d6a(0x1ef)]['remove'](_0x1a9d6a(0x1db));});else _0x759e07===_0x2b5698(0x1f1)&&(bufferCanvas['width']=clientWidth*upscaleFactor,bufferCanvas[_0x2b5698(0x212)]=clientWidth*upscaleFactor*(gameHeight/gameWidth),bufferCanvas['style'][_0x2b5698(0x1c5)]=''+0x1/upscaleFactor,bufferCanvas[_0x2b5698(0x20c)][_0x2b5698(0x1f8)]='',canvasContainer[_0x2b5698(0x20c)][_0x2b5698(0x1d9)]=clientWidth+'px',canvasContainer[_0x2b5698(0x20c)][_0x2b5698(0x212)]=clientWidth*(gameHeight/gameWidth)+'px',textured[_0x2b5698(0x20c)][_0x2b5698(0x1d9)]=clientWidth+'px',textured['style'][_0x2b5698(0x212)]=clientWidth*(gameHeight/gameWidth)+'px',imgShader[_0x2b5698(0x20c)]['transform']=_0x2b5698(0x20b)+clientWidth/gameWidth/upscaleShader+')',settingContainer['forEach'](function(_0x50742c){const _0x22f489=_0x2b5698;_0x50742c[_0x22f489(0x20c)][_0x22f489(0x1d9)]=clientWidth+'px',_0x50742c[_0x22f489(0x20c)]['height']=clientWidth*(gameHeight/gameWidth)+'px';}),messageContainer[_0x2b5698(0x1c1)](function(_0x23a9f0){const _0x211084=_0x2b5698;_0x23a9f0[_0x211084(0x20c)][_0x211084(0x1d9)]=gameWidth+'px',_0x23a9f0[_0x211084(0x20c)]['height']=gameHeight+'px',_0x23a9f0['style'][_0x211084(0x1c5)]=''+clientWidth/gameWidth;}),stateTitle[_0x2b5698(0x1c1)](function(_0x4857dd){const _0x1fcf40=_0x2b5698;_0x4857dd[_0x1fcf40(0x1ef)]['add'](_0x1fcf40(0x1db));}));imgShader[_0x2b5698(0x20c)]['width']=gameWidth*upscaleShader+'px',imgShader[_0x2b5698(0x20c)][_0x2b5698(0x212)]=gameHeight*upscaleShader+'px',imgShader[_0x2b5698(0x20c)][_0x2b5698(0x1e1)]=_0x2b5698(0x1d6),imgShader[_0x2b5698(0x20c)][_0x2b5698(0x1bd)]('--bg-size',upscaleShader+_0x2b5698(0x1dc)+upscaleShader+'px');}function setupWebGL(){const _0x2c1e3a=a0_0x103057;gl=bufferCanvas[_0x2c1e3a(0x216)](_0x2c1e3a(0x1f1));if(!gl)return console[_0x2c1e3a(0x206)](_0x2c1e3a(0x1d3)),null;gl['viewport'](0x0,0x0,bufferCanvas[_0x2c1e3a(0x1d9)],bufferCanvas[_0x2c1e3a(0x212)]);}function createShader(_0x3f937e,_0x2b9219){const _0x2e97db=a0_0x103057,_0x408927=gl[_0x2e97db(0x1c2)](_0x3f937e);gl['shaderSource'](_0x408927,_0x2b9219),gl['compileShader'](_0x408927);if(!gl['getShaderParameter'](_0x408927,gl['COMPILE_STATUS']))return console[_0x2e97db(0x206)](gl[_0x2e97db(0x210)](_0x408927)),gl[_0x2e97db(0x1fa)](_0x408927),null;return _0x408927;}async function setupShaders(){const _0x4683a6=a0_0x103057,_0x4b67dd=await loadShaderSource(_0x4683a6(0x201)),_0x2d655e=await loadShaderSource('./src/shaders/fragmentShader.glsl'),_0x22d1db=createShader(gl[_0x4683a6(0x1c9)],_0x4b67dd),_0x175303=createShader(gl[_0x4683a6(0x1be)],_0x2d655e);return program=gl[_0x4683a6(0x1e7)](),gl['attachShader'](program,_0x22d1db),gl[_0x4683a6(0x204)](program,_0x175303),gl[_0x4683a6(0x1eb)](program),gl[_0x4683a6(0x1e5)](program),program;}function setupTexture(){const _0x102eea=a0_0x103057;texture=gl[_0x102eea(0x1ce)](),gl['bindTexture'](gl[_0x102eea(0x1cc)],texture),gl[_0x102eea(0x1da)](gl[_0x102eea(0x1cc)],gl[_0x102eea(0x1c7)],gl['NEAREST']),gl[_0x102eea(0x1da)](gl[_0x102eea(0x1cc)],gl['TEXTURE_MAG_FILTER'],gl[_0x102eea(0x1c6)]),gl[_0x102eea(0x1da)](gl['TEXTURE_2D'],gl[_0x102eea(0x1f2)],gl[_0x102eea(0x20e)]),gl[_0x102eea(0x1da)](gl[_0x102eea(0x1cc)],gl[_0x102eea(0x1d7)],gl['CLAMP_TO_EDGE']),gl[_0x102eea(0x1e9)](gl[_0x102eea(0x1cd)](program,_0x102eea(0x1f3)),gameWidth,gameHeight),gl[_0x102eea(0x1e9)](gl['getUniformLocation'](program,_0x102eea(0x1ea)),gl[_0x102eea(0x1f4)]['width'],gl[_0x102eea(0x1f4)]['height']),gl['uniform1f'](gl['getUniformLocation'](program,_0x102eea(0x1ec)),gameWidth/gl[_0x102eea(0x1f4)]['width']),gl['uniform1f'](gl[_0x102eea(0x1cd)](program,'smooth_height'),gameHeight/gl[_0x102eea(0x1f4)]['height']);}function setupBuffers(){const _0x2f377d=a0_0x103057,_0x51ad7c=gl[_0x2f377d(0x1f7)]();gl[_0x2f377d(0x209)](gl['ARRAY_BUFFER'],_0x51ad7c),gl[_0x2f377d(0x200)](gl['ARRAY_BUFFER'],new Float32Array([-0x1,-0x1,0x1,-0x1,-0x1,0x1,0x1,0x1]),gl[_0x2f377d(0x214)]);const _0x1229e7=gl[_0x2f377d(0x1bc)](program,_0x2f377d(0x1d4));gl[_0x2f377d(0x20a)](_0x1229e7),gl['vertexAttribPointer'](_0x1229e7,0x2,gl[_0x2f377d(0x1d1)],![],0x0,0x0);const _0x2598a4=gl[_0x2f377d(0x1f7)]();gl[_0x2f377d(0x209)](gl[_0x2f377d(0x1ed)],_0x2598a4),gl[_0x2f377d(0x200)](gl['ARRAY_BUFFER'],new Float32Array([0x0,0x1,0x1,0x1,0x0,0x0,0x1,0x0]),gl['STATIC_DRAW']);const _0x572d6f=gl[_0x2f377d(0x1bc)](program,'texcoord');gl[_0x2f377d(0x20a)](_0x572d6f),gl[_0x2f377d(0x1ff)](_0x572d6f,0x2,gl[_0x2f377d(0x1d1)],![],0x0,0x0);}async function renderPixel(_0x3989da){const _0xc0bc51=a0_0x103057,_0x225b9f=a0_0x2cae9a[_0xc0bc51(0x1fb)]();if(!_0x225b9f)return;await loadLUT64();const _0x501471=new Uint8ClampedArray(gameWidth*gameHeight*0x4);for(let _0x2cd164=0x0;_0x2cd164<gameHeight;_0x2cd164++){for(let _0x377982=0x0;_0x377982<gameWidth;_0x377982++){const _0x5d1cc6=_0x2cd164*gameStride+_0x377982,_0xa044ed=(_0x2cd164*gameWidth+_0x377982)*0x4,_0x1287d3=_0x225b9f[_0x5d1cc6],_0x44e1e4=(_0x1287d3&0xff)>>0x2,_0x49552d=(_0x1287d3>>0x8&0xff)>>0x2,_0x5647c7=(_0x1287d3>>0x10&0xff)>>0x2,_0x133a6a=(_0x44e1e4*0x40*0x40+_0x49552d*0x40+_0x5647c7)*0x3;_0x501471[_0xa044ed]=lut64[_0x133a6a],_0x501471[_0xa044ed+0x1]=lut64[_0x133a6a+0x1],_0x501471[_0xa044ed+0x2]=lut64[_0x133a6a+0x2],_0x501471[_0xa044ed+0x3]=0xff;}}if(_0x3989da==='webgl2')gl['bindTexture'](gl['TEXTURE_2D'],texture),gl[_0xc0bc51(0x1d8)](gl[_0xc0bc51(0x1cc)],0x0,gl['RGBA'],gameWidth,gameHeight,0x0,gl['RGBA'],gl[_0xc0bc51(0x1e0)],_0x501471),gl[_0xc0bc51(0x1f0)](gl[_0xc0bc51(0x1f5)]),gl[_0xc0bc51(0x1fd)](gl['TRIANGLE_STRIP'],0x0,0x4);else{if(_0x3989da==='2d'){ctx2d=bufferCanvas[_0xc0bc51(0x216)]('2d'),ctx2d['imageSmoothingEnabled']=![];const _0x2de735=new ImageData(_0x501471,gameWidth,gameHeight);createImageBitmap(_0x2de735)['then'](_0x5c0a1c=>{const _0x14f910=_0xc0bc51;ctx2d[_0x14f910(0x1e3)](0x0,0x0,bufferCanvas[_0x14f910(0x1d9)],bufferCanvas[_0x14f910(0x212)]),ctx2d[_0x14f910(0x202)](_0x5c0a1c,0x0,0x0);});}}requestAnimationFrame(()=>renderPixel(_0x3989da));}export async function switchRenderMode(_0x46270f){const _0x331de2=a0_0x103057;systemType=gameName[_0x331de2(0x208)](-0x3);if(_0x46270f==='2d')setupStyle('2d'),renderPixel('2d');else _0x46270f===_0x331de2(0x1f1)&&(setupStyle(_0x331de2(0x1f1)),setupWebGL(),await setupShaders(),setupTexture(),setupBuffers(),renderPixel(_0x331de2(0x1f1)));}document[a0_0x103057(0x207)](a0_0x103057(0x218),function(){});