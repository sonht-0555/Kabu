(function(_0x1f7c26,_0x29436e){const _0x52fd12=a0_0x138d,_0x2cd8a3=_0x1f7c26();while(!![]){try{const _0x5cff91=-parseInt(_0x52fd12(0xd1))/0x1+-parseInt(_0x52fd12(0xb0))/0x2*(parseInt(_0x52fd12(0xca))/0x3)+-parseInt(_0x52fd12(0xbd))/0x4*(parseInt(_0x52fd12(0xe6))/0x5)+-parseInt(_0x52fd12(0xdf))/0x6*(parseInt(_0x52fd12(0xda))/0x7)+-parseInt(_0x52fd12(0xc1))/0x8+-parseInt(_0x52fd12(0xdb))/0x9*(-parseInt(_0x52fd12(0xbc))/0xa)+parseInt(_0x52fd12(0xb7))/0xb;if(_0x5cff91===_0x29436e)break;else _0x2cd8a3['push'](_0x2cd8a3['shift']());}catch(_0x2ca8d6){_0x2cd8a3['push'](_0x2cd8a3['shift']());}}}(a0_0x1086,0xe58cf));import*as a0_0x3557c0 from'./main.js';let gl=null,program=null,texture=null,ctx2d=null,lut64=null,lut64Profile=null,imageDataObj=null,fs=null,vs=null;async function loadLUT64(){const _0x548a0b=a0_0x138d;systemType=gameName[_0x548a0b(0xb3)](-0x3);const _0x2be792=(localStorage[_0x548a0b(0xc8)](gameName+_0x548a0b(0xd6))||'none')[_0x548a0b(0xcd)]();if(!lut64||lut64Profile!==_0x2be792){const _0x2e0d3f=_0x548a0b(0xe1)+_0x2be792+_0x548a0b(0xb5);console[_0x548a0b(0xc0)](_0x2e0d3f);const _0x34335e=await fetch(_0x2e0d3f),_0x1ba484=await _0x34335e['arrayBuffer']();lut64=new Uint8Array(_0x1ba484),lut64Profile=_0x2be792;}}function setupWebGL_Shader(_0x560181){const _0x2e74f8=a0_0x138d;gl=bufferCanvas['getContext'](_0x2e74f8(0xcb),{'alpha':![],'depth':![],'antialias':![],'premultipliedAlpha':![],'preserveDrawingBuffer':![],'powerPreference':_0x2e74f8(0xbb)}),gl[_0x2e74f8(0xe4)](0x0,0x0,bufferCanvas[_0x2e74f8(0xb1)],bufferCanvas['height']);function _0x208c75(_0x47a1aa,_0x55f3cc){const _0x557987=_0x2e74f8,_0x15e546=gl[_0x557987(0xd2)](_0x47a1aa);return gl['shaderSource'](_0x15e546,_0x55f3cc),gl['compileShader'](_0x15e546),_0x15e546;}vs=_0x2e74f8(0xc4);if(_0x560181===_0x2e74f8(0xcb))fs=_0x2e74f8(0xe9);else _0x560181==='webgl_full'&&(fs=_0x2e74f8(0xb8));const _0x498255=_0x208c75(gl[_0x2e74f8(0xbe)],vs),_0x118dfd=_0x208c75(gl[_0x2e74f8(0xdd)],fs);return program=gl[_0x2e74f8(0xb4)](),gl[_0x2e74f8(0xf2)](program,_0x498255),gl[_0x2e74f8(0xf2)](program,_0x118dfd),gl[_0x2e74f8(0xf3)](program),gl['useProgram'](program),program;}function setupTexture_Buffer(_0x31a1fc){const _0x2b9c02=a0_0x138d;texture=gl[_0x2b9c02(0xd4)](),gl[_0x2b9c02(0xed)](gl[_0x2b9c02(0xe0)],texture),gl[_0x2b9c02(0xc5)](gl[_0x2b9c02(0xe0)],gl[_0x2b9c02(0xf0)],gl[_0x2b9c02(0xd0)]),gl[_0x2b9c02(0xc5)](gl[_0x2b9c02(0xe0)],gl[_0x2b9c02(0xee)],gl[_0x2b9c02(0xd0)]),gl[_0x2b9c02(0xc5)](gl[_0x2b9c02(0xe0)],gl['TEXTURE_WRAP_S'],gl[_0x2b9c02(0xe5)]),gl['texParameteri'](gl[_0x2b9c02(0xe0)],gl['TEXTURE_WRAP_T'],gl[_0x2b9c02(0xe5)]);_0x31a1fc==='webgl_full'&&(gl[_0x2b9c02(0xcf)](gl[_0x2b9c02(0xc2)](program,_0x2b9c02(0xdc)),gameWidth,gameHeight),gl['uniform2f'](gl[_0x2b9c02(0xc2)](program,_0x2b9c02(0xb2)),gl['canvas']['width'],gl[_0x2b9c02(0xba)][_0x2b9c02(0xe8)]),gl[_0x2b9c02(0xc6)](gl[_0x2b9c02(0xc2)](program,_0x2b9c02(0xe3)),gameWidth/gl[_0x2b9c02(0xba)][_0x2b9c02(0xb1)]),gl[_0x2b9c02(0xc6)](gl[_0x2b9c02(0xc2)](program,'smooth_height'),gameHeight/gl['canvas'][_0x2b9c02(0xe8)]));const _0x1069f6=gl[_0x2b9c02(0xb9)]();gl['bindBuffer'](gl[_0x2b9c02(0xe2)],_0x1069f6),gl[_0x2b9c02(0xc7)](gl['ARRAY_BUFFER'],new Float32Array([-0x1,-0x1,0x1,-0x1,-0x1,0x1,0x1,0x1]),gl[_0x2b9c02(0xec)]),gl[_0x2b9c02(0xf1)](gl[_0x2b9c02(0xbf)](program,_0x2b9c02(0xe7)),0x2,gl['FLOAT'],![],0x0,0x0),gl['enableVertexAttribArray'](gl[_0x2b9c02(0xbf)](program,_0x2b9c02(0xe7)));const _0x2bb053=gl[_0x2b9c02(0xb9)]();gl[_0x2b9c02(0xd8)](gl['ARRAY_BUFFER'],_0x2bb053),gl[_0x2b9c02(0xc7)](gl['ARRAY_BUFFER'],new Float32Array([0x0,0x1,0x1,0x1,0x0,0x0,0x1,0x0]),gl[_0x2b9c02(0xec)]),gl['vertexAttribPointer'](gl[_0x2b9c02(0xbf)](program,_0x2b9c02(0xd3)),0x2,gl[_0x2b9c02(0xde)],![],0x0,0x0),gl['enableVertexAttribArray'](gl[_0x2b9c02(0xbf)](program,_0x2b9c02(0xd3)));}function setup2DContext(){const _0x46db4b=a0_0x138d;ctx2d=bufferCanvas[_0x46db4b(0xc3)]('2d'),ctx2d[_0x46db4b(0xef)]=![];}async function renderPixel(_0x443c60){const _0x10378b=a0_0x138d,_0x44f0c8=a0_0x3557c0[_0x10378b(0xd5)]();if(!_0x44f0c8)return;await loadLUT64();const _0x4d5ec1=new Uint8ClampedArray(gameWidth*gameHeight*0x4);for(let _0x14b882=0x0;_0x14b882<gameHeight;_0x14b882++){for(let _0x70924d=0x0;_0x70924d<gameWidth;_0x70924d++){const _0x1c8703=_0x14b882*gameStride+_0x70924d,_0x15e479=(_0x14b882*gameWidth+_0x70924d)*0x4,_0x1dd0c7=_0x44f0c8[_0x1c8703];if(lut64Profile==='none')_0x4d5ec1[_0x15e479]=_0x1dd0c7&0xff,_0x4d5ec1[_0x15e479+0x1]=_0x1dd0c7>>0x8&0xff,_0x4d5ec1[_0x15e479+0x2]=_0x1dd0c7>>0x10&0xff,_0x4d5ec1[_0x15e479+0x3]=0xff;else{const _0x1b485d=(_0x1dd0c7&0xff)>>0x2,_0x454709=(_0x1dd0c7>>0x8&0xff)>>0x2,_0x2e0d08=(_0x1dd0c7>>0x10&0xff)>>0x2,_0x381226=(_0x1b485d*0x40*0x40+_0x454709*0x40+_0x2e0d08)*0x3;_0x4d5ec1[_0x15e479]=lut64[_0x381226],_0x4d5ec1[_0x15e479+0x1]=lut64[_0x381226+0x1],_0x4d5ec1[_0x15e479+0x2]=lut64[_0x381226+0x2],_0x4d5ec1[_0x15e479+0x3]=0xff;}}}if(_0x443c60==='webgl')gl[_0x10378b(0xd7)](gl[_0x10378b(0xe0)],0x0,gl[_0x10378b(0xeb)],gameWidth,gameHeight,0x0,gl['RGBA'],gl[_0x10378b(0xc9)],_0x4d5ec1),gl[_0x10378b(0xea)](gl['COLOR_BUFFER_BIT']),gl['drawArrays'](gl['TRIANGLE_STRIP'],0x0,0x4);else _0x443c60==='2d'&&(!imageDataObj?imageDataObj=new ImageData(_0x4d5ec1,gameWidth,gameHeight):imageDataObj[_0x10378b(0xce)]['set'](_0x4d5ec1),ctx2d[_0x10378b(0xb6)](0x0,0x0,bufferCanvas[_0x10378b(0xb1)],bufferCanvas[_0x10378b(0xe8)]),ctx2d[_0x10378b(0xd9)](imageDataObj,0x0,0x0));requestAnimationFrame(()=>renderPixel(_0x443c60));}function a0_0x138d(_0x3db3d8,_0x3f5536){const _0x1086c5=a0_0x1086();return a0_0x138d=function(_0x138de7,_0x15086c){_0x138de7=_0x138de7-0xb0;let _0x2f74cf=_0x1086c5[_0x138de7];return _0x2f74cf;},a0_0x138d(_0x3db3d8,_0x3f5536);}export async function switchRenderMode(_0x4a79d2){const _0x1aaf57=a0_0x138d;systemType=gameName['slice'](-0x3);if(_0x4a79d2==='2d')setupStyle('2d'),setup2DContext(),renderPixel('2d');else{if(_0x4a79d2===_0x1aaf57(0xcb))setupStyle('2d'),setupWebGL_Shader('webgl'),setupTexture_Buffer(_0x1aaf57(0xcb)),renderPixel('webgl');else _0x4a79d2===_0x1aaf57(0xcc)&&(setupStyle(_0x1aaf57(0xcc)),setupWebGL_Shader(_0x1aaf57(0xcc)),setupTexture_Buffer(_0x1aaf57(0xcc)),renderPixel(_0x1aaf57(0xcb)));}}function a0_0x1086(){const _0x31a536=['30Qeixif','TEXTURE_2D','./src/lut/lut64_','ARRAY_BUFFER','smooth_width','viewport','CLAMP_TO_EDGE','10IQDMQn','position','height','precision\x20mediump\x20float;varying\x20vec2\x20v_texcoord;uniform\x20sampler2D\x20texture;void\x20main()\x20{gl_FragColor\x20=\x20texture2D(texture,\x20v_texcoord);}','clear','RGBA','STATIC_DRAW','bindTexture','TEXTURE_MAG_FILTER','imageSmoothingEnabled','TEXTURE_MIN_FILTER','vertexAttribPointer','attachShader','linkProgram','74oxKVME','width','render_size','slice','createProgram','_4.0.bin','clearRect','67026850hJviIG','precision\x20mediump\x20float;varying\x20vec2\x20v_texcoord;uniform\x20sampler2D\x20texSampler;uniform\x20vec2\x20game_size;uniform\x20vec2\x20render_size;uniform\x20float\x20smooth_width;uniform\x20float\x20smooth_height;vec4\x20interpolate_color(vec2\x20tex_coord){vec2\x20ip=floor(tex_coord*game_size-0.5)+0.5;vec2\x20residual=fract(tex_coord*game_size+0.5);ip/=game_size;vec4\x20v0=texture2D(texSampler,ip);vec4\x20v1=texture2D(texSampler,ip+vec2(1.0,0.0)/game_size);vec4\x20v2=texture2D(texSampler,ip+vec2(0.0,1.0)/game_size);vec4\x20v3=texture2D(texSampler,ip+vec2(1.0,1.0)/game_size);vec2\x20smooth_dim=vec2(smooth_width,smooth_height);if(fract(render_size.x/game_size.x)*game_size.x<0.01)smooth_dim.x=0.01;if(fract(render_size.y/game_size.y)*game_size.y<0.01)smooth_dim.y=0.01;vec2\x20alpha=vec2(smoothstep(0.5-smooth_dim.x*0.5,0.5+smooth_dim.x*0.5,residual.x),smoothstep(0.5-smooth_dim.y*0.5,0.5+smooth_dim.y*0.5,residual.y));return\x20mix(mix(v0,v1,alpha.x),mix(v2,v3,alpha.x),alpha.y);}void\x20main(){gl_FragColor=interpolate_color(v_texcoord);}','createBuffer','canvas','low-power','10vgkOxR','3329644hIXUCc','VERTEX_SHADER','getAttribLocation','log','6199936ixkfnk','getUniformLocation','getContext','attribute\x20vec2\x20position;attribute\x20vec2\x20texcoord;varying\x20vec2\x20v_texcoord;void\x20main()\x20{gl_Position\x20=\x20vec4(position,\x200.0,\x201.0);v_texcoord\x20=\x20texcoord;}','texParameteri','uniform1f','bufferData','getItem','UNSIGNED_BYTE','96981HUDZVs','webgl','webgl_full','toLowerCase','data','uniform2f','NEAREST','1848706FkLagr','createShader','texcoord','createTexture','getPixelData','_temperature','texImage2D','bindBuffer','putImageData','1115646eFSxvQ','10155582KxmlQm','game_size','FRAGMENT_SHADER','FLOAT'];a0_0x1086=function(){return _0x31a536;};return a0_0x1086();}