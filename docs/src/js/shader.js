function a0_0x1ab6(_0xe315b2,_0x357fdd){const _0x57fc70=a0_0x57fc();return a0_0x1ab6=function(_0x1ab620,_0x3dc97b){_0x1ab620=_0x1ab620-0x153;let _0x57627f=_0x57fc70[_0x1ab620];return _0x57627f;},a0_0x1ab6(_0xe315b2,_0x357fdd);}(function(_0x4e7ecd,_0x341635){const _0x709a62=a0_0x1ab6,_0x4f160b=_0x4e7ecd();while(!![]){try{const _0x3e23e8=-parseInt(_0x709a62(0x194))/0x1*(-parseInt(_0x709a62(0x16d))/0x2)+-parseInt(_0x709a62(0x156))/0x3+parseInt(_0x709a62(0x17a))/0x4+parseInt(_0x709a62(0x16b))/0x5+parseInt(_0x709a62(0x176))/0x6*(parseInt(_0x709a62(0x183))/0x7)+parseInt(_0x709a62(0x171))/0x8*(-parseInt(_0x709a62(0x18c))/0x9)+parseInt(_0x709a62(0x16c))/0xa*(parseInt(_0x709a62(0x162))/0xb);if(_0x3e23e8===_0x341635)break;else _0x4f160b['push'](_0x4f160b['shift']());}catch(_0x81df0e){_0x4f160b['push'](_0x4f160b['shift']());}}}(a0_0x57fc,0x6ed91));import*as a0_0x1fb6a1 from'./main.js';let gl=null,program=null,texture=null,ctx2d=null,lut64=null,lut64Profile=null,imageDataObj=null,fs=null,vs=null;async function loadLUT64(){const _0x39c2d6=a0_0x1ab6;systemType=gameName[_0x39c2d6(0x15d)](-0x3);const _0x1c2282=(localStorage[_0x39c2d6(0x160)](gameName+'_temperature')||'none')[_0x39c2d6(0x17b)]();if(!lut64||lut64Profile!==_0x1c2282){const _0x1d20fc=_0x39c2d6(0x195)+_0x1c2282+_0x39c2d6(0x158);console[_0x39c2d6(0x180)](_0x1d20fc);const _0x281180=await fetch(_0x1d20fc),_0x21f1b6=await _0x281180[_0x39c2d6(0x167)]();lut64=new Uint8Array(_0x21f1b6),lut64Profile=_0x1c2282;}}function a0_0x57fc(){const _0x4c522f=['TEXTURE_MAG_FILTER','log','smooth_height','linkProgram','7MehyXv','width','putImageData','webgl','bufferData','attachShader','clear','vertexAttribPointer','game_size','5880312eInrdP','compileShader','VERTEX_SHADER','getUniformLocation','TEXTURE_2D','createProgram','RGBA','ARRAY_BUFFER','9lOwIMz','./src/lut/lut64_','height','TEXTURE_MIN_FILTER','shaderSource','imageSmoothingEnabled','CLAMP_TO_EDGE','render_size','enableVertexAttribArray','1828110twHCfL','NEAREST','_4.0.bin','getContext','low-power','texcoord','set','slice','TEXTURE_WRAP_S','bindTexture','getItem','drawArrays','13585UFqgtX','precision\x20mediump\x20float;varying\x20vec2\x20v_texcoord;uniform\x20sampler2D\x20texture;void\x20main()\x20{gl_FragColor\x20=\x20texture2D(texture,\x20v_texcoord);}','texParameteri','position','data','arrayBuffer','UNSIGNED_BYTE','createBuffer','bindBuffer','3131185pNHzrx','2290asLmod','79142ZWQOfI','canvas','getAttribLocation','none','8HGLSBt','webgl_full','uniform1f','useProgram','FLOAT','493284GNqcEs','COLOR_BUFFER_BIT','texImage2D','uniform2f','1477464PWUikN','toLowerCase','attribute\x20vec2\x20position;attribute\x20vec2\x20texcoord;varying\x20vec2\x20v_texcoord;void\x20main()\x20{gl_Position\x20=\x20vec4(position,\x200.0,\x201.0);v_texcoord\x20=\x20texcoord;}','smooth_width','createTexture'];a0_0x57fc=function(){return _0x4c522f;};return a0_0x57fc();}function setupWebGL_Shader(_0x2544d8){const _0x3ed84d=a0_0x1ab6;gl=bufferCanvas['getContext'](_0x3ed84d(0x186),{'alpha':![],'depth':![],'antialias':![],'premultipliedAlpha':![],'preserveDrawingBuffer':![],'powerPreference':_0x3ed84d(0x15a)}),gl['viewport'](0x0,0x0,bufferCanvas[_0x3ed84d(0x184)],bufferCanvas[_0x3ed84d(0x196)]);function _0x36eeb5(_0xe7e3e1,_0x34affa){const _0x18695d=_0x3ed84d,_0x493fb8=gl['createShader'](_0xe7e3e1);return gl[_0x18695d(0x198)](_0x493fb8,_0x34affa),gl[_0x18695d(0x18d)](_0x493fb8),_0x493fb8;}vs=_0x3ed84d(0x17c);if(_0x2544d8==='webgl')fs=_0x3ed84d(0x163);else _0x2544d8===_0x3ed84d(0x172)&&(fs='precision\x20mediump\x20float;varying\x20vec2\x20v_texcoord;uniform\x20sampler2D\x20texSampler;uniform\x20vec2\x20game_size;uniform\x20vec2\x20render_size;uniform\x20float\x20smooth_width;uniform\x20float\x20smooth_height;vec4\x20interpolate_color(vec2\x20tex_coord){vec2\x20ip=floor(tex_coord*game_size-0.5)+0.5;vec2\x20residual=fract(tex_coord*game_size+0.5);ip/=game_size;vec4\x20v0=texture2D(texSampler,ip);vec4\x20v1=texture2D(texSampler,ip+vec2(1.0,0.0)/game_size);vec4\x20v2=texture2D(texSampler,ip+vec2(0.0,1.0)/game_size);vec4\x20v3=texture2D(texSampler,ip+vec2(1.0,1.0)/game_size);vec2\x20smooth_dim=vec2(smooth_width,smooth_height);if(fract(render_size.x/game_size.x)*game_size.x<0.01)smooth_dim.x=0.01;if(fract(render_size.y/game_size.y)*game_size.y<0.01)smooth_dim.y=0.01;vec2\x20alpha=vec2(smoothstep(0.5-smooth_dim.x*0.5,0.5+smooth_dim.x*0.5,residual.x),smoothstep(0.5-smooth_dim.y*0.5,0.5+smooth_dim.y*0.5,residual.y));return\x20mix(mix(v0,v1,alpha.x),mix(v2,v3,alpha.x),alpha.y);}void\x20main(){gl_FragColor=interpolate_color(v_texcoord);}');const _0x239798=_0x36eeb5(gl[_0x3ed84d(0x18e)],vs),_0x395c91=_0x36eeb5(gl['FRAGMENT_SHADER'],fs);return program=gl[_0x3ed84d(0x191)](),gl[_0x3ed84d(0x188)](program,_0x239798),gl[_0x3ed84d(0x188)](program,_0x395c91),gl[_0x3ed84d(0x182)](program),gl[_0x3ed84d(0x174)](program),program;}function setupTexture_Buffer(_0x291c52){const _0xecdca6=a0_0x1ab6;texture=gl[_0xecdca6(0x17e)](),gl[_0xecdca6(0x15f)](gl[_0xecdca6(0x190)],texture),gl['texParameteri'](gl[_0xecdca6(0x190)],gl[_0xecdca6(0x197)],gl[_0xecdca6(0x157)]),gl[_0xecdca6(0x164)](gl['TEXTURE_2D'],gl[_0xecdca6(0x17f)],gl['NEAREST']),gl['texParameteri'](gl['TEXTURE_2D'],gl[_0xecdca6(0x15e)],gl['CLAMP_TO_EDGE']),gl[_0xecdca6(0x164)](gl[_0xecdca6(0x190)],gl['TEXTURE_WRAP_T'],gl[_0xecdca6(0x153)]);_0x291c52===_0xecdca6(0x172)&&(gl['uniform2f'](gl['getUniformLocation'](program,_0xecdca6(0x18b)),gameWidth,gameHeight),gl[_0xecdca6(0x179)](gl[_0xecdca6(0x18f)](program,_0xecdca6(0x154)),gl[_0xecdca6(0x16e)][_0xecdca6(0x184)],gl[_0xecdca6(0x16e)][_0xecdca6(0x196)]),gl[_0xecdca6(0x173)](gl['getUniformLocation'](program,_0xecdca6(0x17d)),gameWidth/gl['canvas'][_0xecdca6(0x184)]),gl[_0xecdca6(0x173)](gl[_0xecdca6(0x18f)](program,_0xecdca6(0x181)),gameHeight/gl[_0xecdca6(0x16e)][_0xecdca6(0x196)]));const _0x268739=gl[_0xecdca6(0x169)]();gl[_0xecdca6(0x16a)](gl['ARRAY_BUFFER'],_0x268739),gl[_0xecdca6(0x187)](gl['ARRAY_BUFFER'],new Float32Array([-0x1,-0x1,0x1,-0x1,-0x1,0x1,0x1,0x1]),gl['STATIC_DRAW']),gl[_0xecdca6(0x18a)](gl[_0xecdca6(0x16f)](program,_0xecdca6(0x165)),0x2,gl['FLOAT'],![],0x0,0x0),gl[_0xecdca6(0x155)](gl[_0xecdca6(0x16f)](program,_0xecdca6(0x165)));const _0x51e893=gl[_0xecdca6(0x169)]();gl['bindBuffer'](gl[_0xecdca6(0x193)],_0x51e893),gl[_0xecdca6(0x187)](gl[_0xecdca6(0x193)],new Float32Array([0x0,0x1,0x1,0x1,0x0,0x0,0x1,0x0]),gl['STATIC_DRAW']),gl[_0xecdca6(0x18a)](gl[_0xecdca6(0x16f)](program,_0xecdca6(0x15b)),0x2,gl[_0xecdca6(0x175)],![],0x0,0x0),gl['enableVertexAttribArray'](gl['getAttribLocation'](program,_0xecdca6(0x15b)));}function setup2DContext(){const _0x5a0906=a0_0x1ab6;ctx2d=bufferCanvas[_0x5a0906(0x159)]('2d'),ctx2d[_0x5a0906(0x199)]=![];}async function renderPixel(_0xdc3bae){const _0x43153f=a0_0x1ab6,_0x1922a6=a0_0x1fb6a1['getPixelData']();if(!_0x1922a6)return;await loadLUT64();const _0x44f829=new Uint8ClampedArray(gameWidth*gameHeight*0x4);for(let _0x324187=0x0;_0x324187<gameHeight;_0x324187++){for(let _0x5966a5=0x0;_0x5966a5<gameWidth;_0x5966a5++){const _0x7480dd=_0x324187*gameStride+_0x5966a5,_0x403360=(_0x324187*gameWidth+_0x5966a5)*0x4,_0x4ab6fd=_0x1922a6[_0x7480dd];if(lut64Profile===_0x43153f(0x170))_0x44f829[_0x403360]=_0x4ab6fd&0xff,_0x44f829[_0x403360+0x1]=_0x4ab6fd>>0x8&0xff,_0x44f829[_0x403360+0x2]=_0x4ab6fd>>0x10&0xff,_0x44f829[_0x403360+0x3]=0xff;else{const _0xe597dd=(_0x4ab6fd&0xff)>>0x2,_0x511fcb=(_0x4ab6fd>>0x8&0xff)>>0x2,_0x3ce684=(_0x4ab6fd>>0x10&0xff)>>0x2,_0x3246bd=(_0xe597dd*0x40*0x40+_0x511fcb*0x40+_0x3ce684)*0x3;_0x44f829[_0x403360]=lut64[_0x3246bd],_0x44f829[_0x403360+0x1]=lut64[_0x3246bd+0x1],_0x44f829[_0x403360+0x2]=lut64[_0x3246bd+0x2],_0x44f829[_0x403360+0x3]=0xff;}}}if(_0xdc3bae===_0x43153f(0x186))gl[_0x43153f(0x178)](gl[_0x43153f(0x190)],0x0,gl['RGBA'],gameWidth,gameHeight,0x0,gl[_0x43153f(0x192)],gl[_0x43153f(0x168)],_0x44f829),gl[_0x43153f(0x189)](gl[_0x43153f(0x177)]),gl[_0x43153f(0x161)](gl['TRIANGLE_STRIP'],0x0,0x4);else _0xdc3bae==='2d'&&(!imageDataObj?imageDataObj=new ImageData(_0x44f829,gameWidth,gameHeight):imageDataObj[_0x43153f(0x166)][_0x43153f(0x15c)](_0x44f829),ctx2d['clearRect'](0x0,0x0,bufferCanvas[_0x43153f(0x184)],bufferCanvas[_0x43153f(0x196)]),ctx2d[_0x43153f(0x185)](imageDataObj,0x0,0x0));requestAnimationFrame(()=>renderPixel(_0xdc3bae));}export async function switchRenderMode(_0x338037){const _0x5628a7=a0_0x1ab6;systemType=gameName[_0x5628a7(0x15d)](-0x3);if(_0x338037==='2d')setupStyle('2d'),setup2DContext(),renderPixel('2d');else{if(_0x338037===_0x5628a7(0x186))setupStyle('2d'),setupWebGL_Shader(_0x5628a7(0x186)),setupTexture_Buffer(_0x5628a7(0x186)),renderPixel('webgl');else _0x338037===_0x5628a7(0x172)&&(setupStyle(_0x5628a7(0x172)),setupWebGL_Shader(_0x5628a7(0x172)),setupTexture_Buffer(_0x5628a7(0x172)),renderPixel(_0x5628a7(0x186)));}}