const a0_0x53fe7e=a0_0x52d7;(function(_0x5b7141,_0x32e30d){const _0x2b02b4=a0_0x52d7,_0x99af43=_0x5b7141();while(!![]){try{const _0x510462=parseInt(_0x2b02b4(0xd3))/0x1+-parseInt(_0x2b02b4(0xab))/0x2+-parseInt(_0x2b02b4(0xe1))/0x3*(parseInt(_0x2b02b4(0xc2))/0x4)+-parseInt(_0x2b02b4(0xe3))/0x5+-parseInt(_0x2b02b4(0xae))/0x6+parseInt(_0x2b02b4(0xc6))/0x7*(parseInt(_0x2b02b4(0xee))/0x8)+parseInt(_0x2b02b4(0xb0))/0x9;if(_0x510462===_0x32e30d)break;else _0x99af43['push'](_0x99af43['shift']());}catch(_0x477ef2){_0x99af43['push'](_0x99af43['shift']());}}}(a0_0xe734,0xea4ae));import*as a0_0x167df4 from'./main.js';const mgbaStorage=document[a0_0x53fe7e(0xd0)](a0_0x53fe7e(0xb8)),savesFile=document['getElementById'](a0_0x53fe7e(0xc5)),romsFile=document[a0_0x53fe7e(0xd0)]('romsFile'),statesFile=document['getElementById'](a0_0x53fe7e(0xac)),screenshotsFile=document[a0_0x53fe7e(0xd0)](a0_0x53fe7e(0xc3));function humanFileSize(_0x31f347,_0x1dc285=![],_0x1a44c1=0x1){const _0x2f2847=a0_0x53fe7e,_0x232039=_0x1dc285?0x3e8:0x400,_0x2a314e=_0x1dc285?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2f2847(0xe0),_0x2f2847(0xef),_0x2f2847(0xaa),_0x2f2847(0xdc),_0x2f2847(0xd7),_0x2f2847(0xb6),'ZiB','YiB'];let _0x1b95b2=-0x1;do{_0x31f347/=_0x232039,++_0x1b95b2;}while(Math[_0x2f2847(0xd2)](_0x31f347)>=_0x232039&&_0x1b95b2<_0x2a314e[_0x2f2847(0xec)]-0x1);return _0x31f347['toFixed'](_0x1a44c1)+'\x20'+_0x2a314e[_0x1b95b2];}function a0_0xe734(){const _0x1428e7=['active','/data/states/','fileSize','flex-1','onclick','dialog','close','saves','appendChild','getElementById','confirm','abs','209579bTsMKc','rom-item','delete','/data/saves/','PiB','mib','slice','_imageState','uploadFile','TiB','gap-16','opacity0','prompt','KiB','12vkuQTH','states','453730lcguSz','download','Edit\x20filename','listFiles','editFile','Delete\x20this\x20file?','replace','uId','actionDiv','length','div','8ZGJvOF','MiB','createElement','span','disable','firstChild','textContent','downloadFile','GiB','3088352OHRzBr','statesFile','classList','10181292jVkAns','click','33742998RbYUgY','DOMContentLoaded','storage','showModal','/data/games/','onclose','EiB','remove','mgba-storage','.gba','removeItem','home','addEventListener','add','games','getItem','change','screenshots','377732XpDpoS','screenshotsFile','_dateState','savesFile','4972779TGEgRr'];a0_0xe734=function(){return _0x1428e7;};return a0_0xe734();}function createElementStorage(_0x5ec81a,_0x2bb66a,_0x7827a3){const _0x66cca0=a0_0x53fe7e,_0x65312d=document['createElement'](_0x66cca0(0xed));_0x65312d[_0x66cca0(0xad)]['add'](_0x66cca0(0xca),_0x66cca0(0xd4),'rom'),_0x5ec81a[_0x66cca0(0xcf)](_0x65312d);const _0x1fe4a0=document[_0x66cca0(0xf0)](_0x66cca0(0xf1));_0x1fe4a0[_0x66cca0(0xf4)]=_0x2bb66a,_0x1fe4a0['classList']['add'](_0x66cca0(0xca)),_0x65312d[_0x66cca0(0xcf)](_0x1fe4a0),_0x1fe4a0[_0x66cca0(0xcb)]=()=>{const _0x486145=_0x66cca0,_0x8016ea=document['createElement'](_0x486145(0xcc));_0x8016ea[_0x486145(0xb5)]=()=>_0x8016ea[_0x486145(0xb7)](),_0x5ec81a[_0x486145(0xcf)](_0x8016ea);const _0x15d47d=document[_0x486145(0xf0)]('div');_0x15d47d[_0x486145(0xad)][_0x486145(0xbd)](_0x486145(0xb2),'right','gap-10'),_0x8016ea[_0x486145(0xcf)](_0x15d47d);const _0x76a23d=document['createElement'](_0x486145(0xed));_0x76a23d[_0x486145(0xad)][_0x486145(0xbd)](_0x486145(0xbb),'bc','flex-1'),_0x15d47d[_0x486145(0xcf)](_0x76a23d);const _0x3e940b=document[_0x486145(0xf0)]('div');_0x3e940b['classList'][_0x486145(0xbd)](_0x486145(0xca)),_0x15d47d[_0x486145(0xcf)](_0x3e940b);const _0x196738=document[_0x486145(0xf0)](_0x486145(0xed));_0x196738['classList'][_0x486145(0xbd)](_0x486145(0xca)),_0x15d47d[_0x486145(0xcf)](_0x196738);const _0x5231f9=document[_0x486145(0xf0)](_0x486145(0xed));_0x5231f9[_0x486145(0xad)]['add'](_0x486145(0xca)),_0x15d47d[_0x486145(0xcf)](_0x5231f9),mgbaStorage[_0x486145(0xad)][_0x486145(0xbd)](_0x486145(0xde)),_0x76a23d[_0x486145(0xcb)]=()=>{const _0x4f2e32=_0x486145;_0x8016ea[_0x4f2e32(0xcd)](),_0x8016ea[_0x4f2e32(0xb7)](),mgbaStorage['classList'][_0x4f2e32(0xb7)](_0x4f2e32(0xde));};const _0x289b77=document[_0x486145(0xf0)](_0x486145(0xed));_0x289b77[_0x486145(0xad)][_0x486145(0xbd)](_0x486145(0xca),_0x486145(0xd4),'hw','cw'),_0x289b77[_0x486145(0xf4)]=_0x2bb66a,_0x8016ea[_0x486145(0xcf)](_0x289b77);const _0x5b2ca7=document[_0x486145(0xf0)](_0x486145(0xed));_0x5b2ca7[_0x486145(0xad)][_0x486145(0xbd)](_0x486145(0xeb),'hw','cw',_0x486145(0xdd)),_0x8016ea[_0x486145(0xcf)](_0x5b2ca7);const _0x28addc=document[_0x486145(0xf0)]('div');_0x28addc[_0x486145(0xad)][_0x486145(0xbd)](_0x486145(0xe4),'bc'),_0x5b2ca7[_0x486145(0xcf)](_0x28addc),_0x28addc[_0x486145(0xcb)]=()=>{const _0x532240=_0x486145;a0_0x167df4[_0x532240(0xa9)](_0x7827a3,_0x2bb66a);};const _0x372cb5=document[_0x486145(0xf0)]('div');_0x372cb5[_0x486145(0xad)][_0x486145(0xbd)](_0x486145(0xd5),'bc'),_0x5b2ca7[_0x486145(0xcf)](_0x372cb5),_0x372cb5[_0x486145(0xcb)]=async()=>{const _0x41ae51=_0x486145;if(window[_0x41ae51(0xd1)](_0x41ae51(0xe8)+_0x2bb66a)){const _0x2bd550=_0x2bb66a[_0x41ae51(0xe9)](/\....$/,_0x41ae51(0xb9));a0_0x167df4['deleteFile'](_0x7827a3),localStorage[_0x41ae51(0xba)](_0x2bd550+_0x41ae51(0xc4)+_0x2bb66a[_0x41ae51(0xd9)](-0x1)),localStorage['removeItem'](_0x2bd550+_0x41ae51(0xda)+_0x2bb66a[_0x41ae51(0xd9)](-0x1)),localStorageFile(),_0x8016ea[_0x41ae51(0xcd)](),_0x8016ea['remove'](),mgbaStorage[_0x41ae51(0xad)]['remove'](_0x41ae51(0xde));}};const _0x2c5c71=document[_0x486145(0xf0)]('div');_0x2c5c71['classList'][_0x486145(0xbd)]('rename','bc'),_0x5b2ca7[_0x486145(0xcf)](_0x2c5c71),_0x2c5c71[_0x486145(0xcb)]=async()=>{const _0x37b9ea=_0x486145,_0x3d4808=window[_0x37b9ea(0xdf)](_0x37b9ea(0xe5),_0x2bb66a);_0x3d4808!==null&&(a0_0x167df4[_0x37b9ea(0xe7)](_0x7827a3,_0x2bb66a,_0x3d4808),localStorageFile(),_0x8016ea[_0x37b9ea(0xcd)](),_0x8016ea[_0x37b9ea(0xb7)](),mgbaStorage[_0x37b9ea(0xad)][_0x37b9ea(0xb7)]('opacity0'));},_0x8016ea[_0x486145(0xb3)]();};const _0x408d82=document[_0x66cca0(0xf0)](_0x66cca0(0xf1));_0x408d82['textContent']=humanFileSize(a0_0x167df4[_0x66cca0(0xc9)](_0x7827a3)),_0x408d82[_0x66cca0(0xad)]['add'](_0x66cca0(0xd8)),_0x65312d['appendChild'](_0x408d82);}function a0_0x52d7(_0x38f8d2,_0x2d69b2){const _0xe734fd=a0_0xe734();return a0_0x52d7=function(_0x52d730,_0x5c9c91){_0x52d730=_0x52d730-0xa9;let _0x350ab3=_0xe734fd[_0x52d730];return _0x350ab3;},a0_0x52d7(_0x38f8d2,_0x2d69b2);}export function localStorageFile(){const _0x21b7bb=a0_0x53fe7e,_0x453913=a0_0x167df4['listFiles'](_0x21b7bb(0xbe)),_0x40bd7a=a0_0x167df4[_0x21b7bb(0xe6)](_0x21b7bb(0xce)),_0x277d19=a0_0x167df4[_0x21b7bb(0xe6)](_0x21b7bb(0xe2)),_0x9a4c60=a0_0x167df4[_0x21b7bb(0xe6)]('cheats'),_0x4fcf97=a0_0x167df4[_0x21b7bb(0xe6)](_0x21b7bb(0xc1)),_0x2a3ab2=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4079df of _0x2a3ab2){while(_0x4079df[_0x21b7bb(0xf3)]){_0x4079df['lastChild'][_0x21b7bb(0xb7)]();}}for(const _0x29beda of _0x453913){createElementStorage(romsFile,_0x29beda,_0x21b7bb(0xb4)+_0x29beda);}for(const _0x5661fd of _0x277d19){createElementStorage(statesFile,_0x5661fd,_0x21b7bb(0xc8)+_0x5661fd);}for(const _0x6bb615 of _0x40bd7a){createElementStorage(savesFile,_0x6bb615,_0x21b7bb(0xd6)+_0x6bb615);}for(const _0x618ccc of _0x9a4c60){createElementStorage(cheatsFile,_0x618ccc,'/data/cheats/'+_0x618ccc);}for(const _0x2a64b0 of _0x4fcf97){createElementStorage(screenshotsFile,_0x2a64b0,'/data/screenshots/'+_0x2a64b0);}}document[a0_0x53fe7e(0xbc)](a0_0x53fe7e(0xb1),function(){const _0x4c36df=a0_0x53fe7e;upLoadFile[_0x4c36df(0xbc)](_0x4c36df(0xc0),function(){const _0x10b6ee=_0x4c36df;a0_0x167df4[_0x10b6ee(0xdb)](upLoadFile);}),openLocalStorage[_0x4c36df(0xbc)](_0x4c36df(0xaf),function(){const _0x39b1eb=_0x4c36df,_0x3253e6=localStorage[_0x39b1eb(0xbf)](_0x39b1eb(0xea));storage['classList'][_0x39b1eb(0xb7)](_0x39b1eb(0xf2)),intro[_0x39b1eb(0xad)][_0x39b1eb(0xbd)]('disable'),ingame[_0x39b1eb(0xad)]['add']('disable'),_0x3253e6===null||_0x3253e6===''?(dropboxRestore[_0x39b1eb(0xad)]['remove']('active'),dropboxBackup[_0x39b1eb(0xad)][_0x39b1eb(0xb7)](_0x39b1eb(0xc7)),dropboxCloud[_0x39b1eb(0xad)][_0x39b1eb(0xb7)](_0x39b1eb(0xc7))):(dropboxRestore[_0x39b1eb(0xad)][_0x39b1eb(0xbd)]('active'),dropboxBackup[_0x39b1eb(0xad)]['add'](_0x39b1eb(0xc7)),dropboxCloud[_0x39b1eb(0xad)][_0x39b1eb(0xbd)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});