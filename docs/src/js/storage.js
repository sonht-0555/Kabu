const a0_0x4d5794=a0_0x3c48;(function(_0xc243ff,_0x157830){const _0x1f625c=a0_0x3c48,_0x5360e6=_0xc243ff();while(!![]){try{const _0x2a4a9c=parseInt(_0x1f625c(0xfc))/0x1+-parseInt(_0x1f625c(0xec))/0x2+parseInt(_0x1f625c(0x114))/0x3+parseInt(_0x1f625c(0x112))/0x4+-parseInt(_0x1f625c(0xf8))/0x5*(-parseInt(_0x1f625c(0x10b))/0x6)+-parseInt(_0x1f625c(0xd9))/0x7+-parseInt(_0x1f625c(0xe7))/0x8;if(_0x2a4a9c===_0x157830)break;else _0x5360e6['push'](_0x5360e6['shift']());}catch(_0x4a62b4){_0x5360e6['push'](_0x5360e6['shift']());}}}(a0_0x543e,0xc71de));import*as a0_0x58c048 from'./main.js';function a0_0x3c48(_0x1f0762,_0x1b4650){const _0x543e0e=a0_0x543e();return a0_0x3c48=function(_0x3c482a,_0x958d80){_0x3c482a=_0x3c482a-0xd5;let _0x5f30cb=_0x543e0e[_0x3c482a];return _0x5f30cb;},a0_0x3c48(_0x1f0762,_0x1b4650);}const mgbaStorage=document[a0_0x4d5794(0xdf)](a0_0x4d5794(0xf0)),savesFile=document[a0_0x4d5794(0xdf)]('savesFile'),romsFile=document[a0_0x4d5794(0xdf)](a0_0x4d5794(0xf7)),statesFile=document['getElementById'](a0_0x4d5794(0xee)),screenshotsFile=document[a0_0x4d5794(0xdf)](a0_0x4d5794(0x109));function humanFileSize(_0x238f7d,_0x45bb37=![],_0x427742=0x1){const _0x1bc07b=a0_0x4d5794,_0x127aa7=_0x45bb37?0x3e8:0x400,_0x73cee8=_0x45bb37?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x1bc07b(0xdb),'GiB',_0x1bc07b(0x10a),_0x1bc07b(0x11c),'EiB',_0x1bc07b(0x100),_0x1bc07b(0xfb)];let _0x36d85a=-0x1;do{_0x238f7d/=_0x127aa7,++_0x36d85a;}while(Math[_0x1bc07b(0xdd)](_0x238f7d)>=_0x127aa7&&_0x36d85a<_0x73cee8[_0x1bc07b(0x105)]-0x1);return _0x238f7d[_0x1bc07b(0xf9)](_0x427742)+'\x20'+_0x73cee8[_0x36d85a];}function createElementStorage(_0x4b26f0,_0x1b38aa,_0x563022){const _0x1863d0=a0_0x4d5794,_0x3f8a39=document[_0x1863d0(0x11b)](_0x1863d0(0xf6));_0x3f8a39[_0x1863d0(0xea)][_0x1863d0(0xe2)](_0x1863d0(0x102),'rom-item',_0x1863d0(0x110)),_0x4b26f0['appendChild'](_0x3f8a39);const _0x538845=document[_0x1863d0(0x11b)](_0x1863d0(0xfd));_0x538845['textContent']=_0x1b38aa,_0x538845['classList'][_0x1863d0(0xe2)](_0x1863d0(0x102)),_0x3f8a39[_0x1863d0(0xd8)](_0x538845),_0x538845[_0x1863d0(0xf4)]=()=>{const _0x4116ba=_0x1863d0,_0x9ca0de=document[_0x4116ba(0x11b)](_0x4116ba(0x11d));_0x9ca0de['onclose']=()=>_0x9ca0de['remove'](),_0x4b26f0[_0x4116ba(0xd8)](_0x9ca0de);const _0x8e616=document[_0x4116ba(0x11b)](_0x4116ba(0xf6));_0x8e616['classList']['add']('storage',_0x4116ba(0xfa),_0x4116ba(0x116)),_0x9ca0de[_0x4116ba(0xd8)](_0x8e616);const _0xe835be=document[_0x4116ba(0x11b)](_0x4116ba(0xf6));_0xe835be[_0x4116ba(0xea)][_0x4116ba(0xe2)](_0x4116ba(0x104),'bc',_0x4116ba(0x102)),_0x8e616[_0x4116ba(0xd8)](_0xe835be);const _0x40cbd6=document[_0x4116ba(0x11b)]('div');_0x40cbd6['classList'][_0x4116ba(0xe2)](_0x4116ba(0x102)),_0x8e616['appendChild'](_0x40cbd6);const _0x43d748=document[_0x4116ba(0x11b)](_0x4116ba(0xf6));_0x43d748[_0x4116ba(0xea)][_0x4116ba(0xe2)](_0x4116ba(0x102)),_0x8e616['appendChild'](_0x43d748);const _0x162de4=document[_0x4116ba(0x11b)](_0x4116ba(0xf6));_0x162de4[_0x4116ba(0xea)][_0x4116ba(0xe2)]('flex-1'),_0x8e616[_0x4116ba(0xd8)](_0x162de4),mgbaStorage['classList'][_0x4116ba(0xe2)]('opacity0'),_0xe835be['onclick']=()=>{const _0x279a53=_0x4116ba;_0x9ca0de[_0x279a53(0xf2)](),_0x9ca0de[_0x279a53(0xed)](),mgbaStorage[_0x279a53(0xea)]['remove'](_0x279a53(0xfe));};const _0x8dda63=document['createElement']('div');_0x8dda63[_0x4116ba(0xea)][_0x4116ba(0xe2)](_0x4116ba(0x102),_0x4116ba(0x10c),'hw','cw'),_0x8dda63[_0x4116ba(0x113)]=_0x1b38aa,_0x9ca0de[_0x4116ba(0xd8)](_0x8dda63);const _0x5bc00d=document[_0x4116ba(0x11b)](_0x4116ba(0xf6));_0x5bc00d[_0x4116ba(0xea)][_0x4116ba(0xe2)]('actionDiv','hw','cw',_0x4116ba(0xe5)),_0x9ca0de[_0x4116ba(0xd8)](_0x5bc00d);const _0x1148c5=document[_0x4116ba(0x11b)]('div');_0x1148c5[_0x4116ba(0xea)][_0x4116ba(0xe2)](_0x4116ba(0x111),'bc'),_0x5bc00d[_0x4116ba(0xd8)](_0x1148c5),_0x1148c5[_0x4116ba(0xf4)]=()=>{const _0x5e0329=_0x4116ba;a0_0x58c048[_0x5e0329(0xe0)](_0x563022,_0x1b38aa);};const _0x321ef5=document[_0x4116ba(0x11b)](_0x4116ba(0xf6));_0x321ef5[_0x4116ba(0xea)]['add']('delete','bc'),_0x5bc00d[_0x4116ba(0xd8)](_0x321ef5),_0x321ef5[_0x4116ba(0xf4)]=async()=>{const _0x3935de=_0x4116ba;if(window[_0x3935de(0x11a)]('Delete\x20this\x20file?'+_0x1b38aa)){const _0x350312=_0x1b38aa['replace'](/\....$/,_0x3935de(0x106));a0_0x58c048[_0x3935de(0xd6)](_0x563022),localStorage[_0x3935de(0xff)](_0x350312+_0x3935de(0xeb)+_0x1b38aa[_0x3935de(0x10d)](-0x1)),localStorage[_0x3935de(0xff)](_0x350312+'_imageState'+_0x1b38aa['slice'](-0x1)),localStorageFile(),_0x9ca0de[_0x3935de(0xf2)](),_0x9ca0de[_0x3935de(0xed)](),mgbaStorage[_0x3935de(0xea)][_0x3935de(0xed)](_0x3935de(0xfe));}};const _0x28fecd=document[_0x4116ba(0x11b)](_0x4116ba(0xf6));_0x28fecd['classList']['add'](_0x4116ba(0xf1),'bc'),_0x5bc00d[_0x4116ba(0xd8)](_0x28fecd),_0x28fecd[_0x4116ba(0xf4)]=async()=>{const _0x45a0dc=_0x4116ba,_0x4cb900=window[_0x45a0dc(0xe9)](_0x45a0dc(0xe4),_0x1b38aa);_0x4cb900!==null&&(a0_0x58c048['editFile'](_0x563022,_0x1b38aa,_0x4cb900),localStorageFile(),_0x9ca0de[_0x45a0dc(0xf2)](),_0x9ca0de[_0x45a0dc(0xed)](),mgbaStorage['classList'][_0x45a0dc(0xed)](_0x45a0dc(0xfe)));},_0x9ca0de[_0x4116ba(0xd5)]();};const _0x48d7c5=document[_0x1863d0(0x11b)](_0x1863d0(0xfd));_0x48d7c5[_0x1863d0(0x113)]=humanFileSize(a0_0x58c048['fileSize'](_0x563022)),_0x48d7c5[_0x1863d0(0xea)]['add'](_0x1863d0(0xdc)),_0x3f8a39[_0x1863d0(0xd8)](_0x48d7c5);}export function localStorageFile(){const _0x525681=a0_0x4d5794,_0x5b5f79=a0_0x58c048['listFiles'](_0x525681(0xda)),_0xa6b0e5=a0_0x58c048[_0x525681(0xf3)]('saves'),_0x29b158=a0_0x58c048['listFiles'](_0x525681(0x10e)),_0x359d54=a0_0x58c048['listFiles'](_0x525681(0xd7)),_0x4f7924=a0_0x58c048[_0x525681(0xf3)](_0x525681(0x10f)),_0x1c1233=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3e0626 of _0x1c1233){while(_0x3e0626[_0x525681(0xde)]){_0x3e0626['lastChild'][_0x525681(0xed)]();}}for(const _0x4e96c0 of _0x5b5f79){createElementStorage(romsFile,_0x4e96c0,_0x525681(0xf5)+_0x4e96c0);}for(const _0x1f3a94 of _0x29b158){createElementStorage(statesFile,_0x1f3a94,_0x525681(0x117)+_0x1f3a94);}for(const _0x24ca6f of _0xa6b0e5){createElementStorage(savesFile,_0x24ca6f,_0x525681(0xe1)+_0x24ca6f);}for(const _0x4ad343 of _0x359d54){createElementStorage(cheatsFile,_0x4ad343,_0x525681(0x101)+_0x4ad343);}for(const _0x23f5cc of _0x4f7924){createElementStorage(screenshotsFile,_0x23f5cc,_0x525681(0x119)+_0x23f5cc);}}document['addEventListener'](a0_0x4d5794(0x118),function(){const _0x898732=a0_0x4d5794;upLoadFile['addEventListener'](_0x898732(0x108),function(){const _0x4c62d1=_0x898732;a0_0x58c048[_0x4c62d1(0xe6)](upLoadFile);}),openLocalStorage[_0x898732(0x103)](_0x898732(0xe8),function(){const _0x452c1c=_0x898732,_0x2bb66b=localStorage[_0x452c1c(0x115)](_0x452c1c(0xe3));storage[_0x452c1c(0xea)]['remove'](_0x452c1c(0x107)),intro['classList'][_0x452c1c(0xe2)](_0x452c1c(0x107)),ingame[_0x452c1c(0xea)][_0x452c1c(0xe2)](_0x452c1c(0x107)),_0x2bb66b===null||_0x2bb66b===''?(dropboxRestore[_0x452c1c(0xea)][_0x452c1c(0xed)]('active'),dropboxBackup[_0x452c1c(0xea)][_0x452c1c(0xed)](_0x452c1c(0xef)),dropboxCloud[_0x452c1c(0xea)][_0x452c1c(0xed)](_0x452c1c(0xef))):(dropboxRestore[_0x452c1c(0xea)][_0x452c1c(0xe2)]('active'),dropboxBackup[_0x452c1c(0xea)]['add'](_0x452c1c(0xef)),dropboxCloud[_0x452c1c(0xea)][_0x452c1c(0xe2)](_0x452c1c(0xef)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x543e(){const _0x262955=['.gba','disable','change','screenshotsFile','TiB','1293276cGoPUf','rom-item','slice','states','screenshots','rom','download','6050316pZUzOg','textContent','653877VLnXsq','getItem','gap-10','/data/states/','DOMContentLoaded','/data/screenshots/','confirm','createElement','PiB','dialog','showModal','deleteFile','cheats','appendChild','1315300JvcUhK','games','MiB','mib','abs','firstChild','getElementById','downloadFile','/data/saves/','add','uId','Edit\x20filename','gap-16','uploadFile','9679920TTxdNK','click','prompt','classList','_dateState','1518530xqPzDz','remove','statesFile','active','mgba-storage','rename','close','listFiles','onclick','/data/games/','div','romsFile','5vyITIo','toFixed','right','YiB','1026653aIfcfx','span','opacity0','removeItem','ZiB','/data/cheats/','flex-1','addEventListener','home','length'];a0_0x543e=function(){return _0x262955;};return a0_0x543e();}