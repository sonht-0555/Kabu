const a0_0xa3d6c0=a0_0x4622;(function(_0x4580a7,_0x4d913a){const _0xc2d454=a0_0x4622,_0x15eb53=_0x4580a7();while(!![]){try{const _0x48898b=parseInt(_0xc2d454(0xf2))/0x1+-parseInt(_0xc2d454(0xd7))/0x2+parseInt(_0xc2d454(0xf9))/0x3*(parseInt(_0xc2d454(0x10a))/0x4)+parseInt(_0xc2d454(0xcb))/0x5*(parseInt(_0xc2d454(0xef))/0x6)+parseInt(_0xc2d454(0xee))/0x7*(parseInt(_0xc2d454(0xd8))/0x8)+parseInt(_0xc2d454(0x110))/0x9+-parseInt(_0xc2d454(0xdd))/0xa;if(_0x48898b===_0x4d913a)break;else _0x15eb53['push'](_0x15eb53['shift']());}catch(_0x3e2c38){_0x15eb53['push'](_0x15eb53['shift']());}}}(a0_0xf0f8,0x480ac));import*as a0_0x5bb293 from'./main.js';function a0_0xf0f8(){const _0x1d7778=['dialog','getElementById','Edit\x20filename','/data/cheats/','1078567neFprp','6qnirZW','listCheat','YiB','577828HukdKz','div','TiB','gap-16','textContent','.bc','statesFile','9ASZJEX','/data/saves/','files','Delete\x20this\x20file?','home','remove','uId','showModal','MiB','gap-10','replace','span','listGame','abs','rom-item','endsWith','.gba','624468XCVhgO','opacity0','PiB','appendChild','uploadSavSta','confirm','3144069jJgCrE','listState','/data/states/','ZiB','flex-1','EiB','DOMContentLoaded','listScreenshot','delete','listSave','deleteFile','toFixed','downloadFile','2592695pjJfDS','rom','add','mgba-storage','uploadCheat','.gbc','disable','actionDiv','setItem','change','editFile','_imageState','686768kZVGVC','16lMRCxp','active','classList','_dateState','removeItem','15837530gyBJvd','slice','click','mib','getItem','/data/games/','onclick','prompt','addEventListener','length','savesFile','screenshotsFile','createElement'];a0_0xf0f8=function(){return _0x1d7778;};return a0_0xf0f8();}const mgbaStorage=document[a0_0xa3d6c0(0xeb)](a0_0xa3d6c0(0xce)),savesFile=document[a0_0xa3d6c0(0xeb)](a0_0xa3d6c0(0xe7)),romsFile=document['getElementById']('romsFile'),statesFile=document[a0_0xa3d6c0(0xeb)](a0_0xa3d6c0(0xf8)),screenshotsFile=document[a0_0xa3d6c0(0xeb)](a0_0xa3d6c0(0xe8));function a0_0x4622(_0x2cac57,_0x28d773){const _0xf0f890=a0_0xf0f8();return a0_0x4622=function(_0x462293,_0x24c0ae){_0x462293=_0x462293-0xc9;let _0x456e18=_0xf0f890[_0x462293];return _0x456e18;},a0_0x4622(_0x2cac57,_0x28d773);}function humanFileSize(_0xa2e6af,_0xb41ef9=![],_0x3bb6a8=0x1){const _0x180bf0=a0_0xa3d6c0,_0x284bd3=_0xb41ef9?0x3e8:0x400,_0x3e4d8a=_0xb41ef9?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x180bf0(0x101),'GiB',_0x180bf0(0xf4),_0x180bf0(0x10c),_0x180bf0(0x115),_0x180bf0(0x113),_0x180bf0(0xf1)];let _0x32149e=-0x1;do{_0xa2e6af/=_0x284bd3,++_0x32149e;}while(Math[_0x180bf0(0x106)](_0xa2e6af)>=_0x284bd3&&_0x32149e<_0x3e4d8a[_0x180bf0(0xe6)]-0x1);return _0xa2e6af[_0x180bf0(0xc9)](_0x3bb6a8)+'\x20'+_0x3e4d8a[_0x32149e];}function createElementStorage(_0x5aba9d,_0x28faea,_0x512ed7){const _0x95f2b2=a0_0xa3d6c0,_0x34be6d=document[_0x95f2b2(0xe9)](_0x95f2b2(0xf3));_0x34be6d[_0x95f2b2(0xda)]['add'](_0x95f2b2(0x114),_0x95f2b2(0x107),_0x95f2b2(0xcc)),_0x5aba9d[_0x95f2b2(0x10d)](_0x34be6d);const _0x347641=document['createElement'](_0x95f2b2(0x104));_0x347641['textContent']=_0x28faea,_0x347641['classList'][_0x95f2b2(0xcd)](_0x95f2b2(0x114)),_0x34be6d[_0x95f2b2(0x10d)](_0x347641),_0x347641[_0x95f2b2(0xe3)]=()=>{const _0x4048f0=_0x95f2b2,_0x4c1bfa=document[_0x4048f0(0xe9)](_0x4048f0(0xea));_0x4c1bfa['onclose']=()=>_0x4c1bfa[_0x4048f0(0xfe)](),_0x5aba9d['appendChild'](_0x4c1bfa);const _0x4c7516=document[_0x4048f0(0xe9)](_0x4048f0(0xf3));_0x4c7516[_0x4048f0(0xda)][_0x4048f0(0xcd)]('storage','right',_0x4048f0(0x102)),_0x4c1bfa[_0x4048f0(0x10d)](_0x4c7516);const _0x3f3010=document[_0x4048f0(0xe9)](_0x4048f0(0xf3));_0x3f3010[_0x4048f0(0xda)][_0x4048f0(0xcd)](_0x4048f0(0xfd),'bc',_0x4048f0(0x114)),_0x4c7516[_0x4048f0(0x10d)](_0x3f3010);const _0x431265=document[_0x4048f0(0xe9)](_0x4048f0(0xf3));_0x431265['classList'][_0x4048f0(0xcd)](_0x4048f0(0x114)),_0x4c7516[_0x4048f0(0x10d)](_0x431265);const _0x351d56=document[_0x4048f0(0xe9)]('div');_0x351d56['classList'][_0x4048f0(0xcd)]('flex-1'),_0x4c7516[_0x4048f0(0x10d)](_0x351d56);const _0x255f86=document['createElement'](_0x4048f0(0xf3));_0x255f86[_0x4048f0(0xda)][_0x4048f0(0xcd)](_0x4048f0(0x114)),_0x4c7516[_0x4048f0(0x10d)](_0x255f86),mgbaStorage[_0x4048f0(0xda)][_0x4048f0(0xcd)](_0x4048f0(0x10b)),_0x3f3010[_0x4048f0(0xe3)]=()=>{const _0xe3ce95=_0x4048f0;_0x4c1bfa['close'](),_0x4c1bfa['remove'](),mgbaStorage['classList'][_0xe3ce95(0xfe)]('opacity0');};const _0x4f13bd=document[_0x4048f0(0xe9)](_0x4048f0(0xf3));_0x4f13bd['classList'][_0x4048f0(0xcd)](_0x4048f0(0x114),_0x4048f0(0x107),'hw','cw'),_0x4f13bd[_0x4048f0(0xf6)]=_0x28faea,_0x4c1bfa['appendChild'](_0x4f13bd);const _0xb88388=document[_0x4048f0(0xe9)]('div');_0xb88388[_0x4048f0(0xda)][_0x4048f0(0xcd)](_0x4048f0(0xd2),'hw','cw',_0x4048f0(0xf5)),_0x4c1bfa[_0x4048f0(0x10d)](_0xb88388);const _0x379fbb=document[_0x4048f0(0xe9)](_0x4048f0(0xf3));_0x379fbb[_0x4048f0(0xda)][_0x4048f0(0xcd)]('download','bc'),_0xb88388[_0x4048f0(0x10d)](_0x379fbb),_0x379fbb[_0x4048f0(0xe3)]=()=>{const _0x3b95b4=_0x4048f0;a0_0x5bb293[_0x3b95b4(0xca)](_0x512ed7,_0x28faea);};const _0x2dbd30=document['createElement'](_0x4048f0(0xf3));_0x2dbd30['classList'][_0x4048f0(0xcd)](_0x4048f0(0x118),'bc'),_0xb88388[_0x4048f0(0x10d)](_0x2dbd30),_0x2dbd30[_0x4048f0(0xe3)]=async()=>{const _0x51ab60=_0x4048f0;if(window[_0x51ab60(0x10f)](_0x51ab60(0xfc)+_0x28faea)){const _0x4d087a=_0x28faea[_0x51ab60(0x103)](/\....$/,_0x51ab60(0x109));a0_0x5bb293[_0x51ab60(0x11a)](_0x512ed7),localStorage[_0x51ab60(0xdc)](_0x4d087a+'_dateState'+_0x28faea[_0x51ab60(0xde)](-0x1)),localStorage[_0x51ab60(0xdc)](_0x4d087a+_0x51ab60(0xd6)+_0x28faea[_0x51ab60(0xde)](-0x1)),localStorageFile(),_0x4c1bfa['close'](),_0x4c1bfa[_0x51ab60(0xfe)](),mgbaStorage[_0x51ab60(0xda)][_0x51ab60(0xfe)](_0x51ab60(0x10b));}};const _0xd88ac0=document['createElement'](_0x4048f0(0xf3));_0xd88ac0['classList']['add']('rename','bc'),_0xb88388[_0x4048f0(0x10d)](_0xd88ac0),_0xd88ac0['onclick']=async()=>{const _0x390e7a=_0x4048f0,_0x223563=window[_0x390e7a(0xe4)](_0x390e7a(0xec),_0x28faea);if(_0x223563!==null){const _0x1e96ad=_0x28faea[_0x390e7a(0x103)](/\....$/,'.gba'),_0xfb84b0=_0x223563[_0x390e7a(0x103)](/\....$/,_0x390e7a(0x109)),_0x1f044a=_0x1e96ad+'_dateState'+_0x28faea[_0x390e7a(0xde)](-0x1),_0xb8b186=_0x1e96ad+_0x390e7a(0xd6)+_0x28faea[_0x390e7a(0xde)](-0x1),_0x1c6239=_0xfb84b0+_0x390e7a(0xdb)+_0x223563[_0x390e7a(0xde)](-0x1),_0x5a2022=_0xfb84b0+_0x390e7a(0xd6)+_0x223563['slice'](-0x1),_0x4c7ff5=localStorage[_0x390e7a(0xe1)](_0x1f044a),_0x1189e7=localStorage[_0x390e7a(0xe1)](_0xb8b186);_0x4c7ff5!==null&&(localStorage[_0x390e7a(0xd3)](_0x1c6239,_0x4c7ff5),localStorage[_0x390e7a(0xdc)](_0x1f044a)),_0x1189e7!==null&&(localStorage[_0x390e7a(0xd3)](_0x5a2022,_0x1189e7),localStorage[_0x390e7a(0xdc)](_0xb8b186)),a0_0x5bb293[_0x390e7a(0xd5)](_0x512ed7,_0x28faea,_0x223563),localStorageFile(),_0x4c1bfa['close'](),_0x4c1bfa['remove'](),mgbaStorage[_0x390e7a(0xda)][_0x390e7a(0xfe)](_0x390e7a(0x10b));}},_0x4c1bfa[_0x4048f0(0x100)]();};const _0x4a9cbc=document[_0x95f2b2(0xe9)]('span');_0x4a9cbc[_0x95f2b2(0xf6)]=humanFileSize(a0_0x5bb293['fileSize'](_0x512ed7)),_0x4a9cbc['classList'][_0x95f2b2(0xcd)](_0x95f2b2(0xe0)),_0x34be6d[_0x95f2b2(0x10d)](_0x4a9cbc);}export function localStorageFile(){const _0x3b70ec=a0_0xa3d6c0,_0x428fe0=a0_0x5bb293[_0x3b70ec(0x105)](),_0x5a770d=a0_0x5bb293[_0x3b70ec(0x119)](),_0x31e27d=a0_0x5bb293[_0x3b70ec(0x111)](),_0x2f4df8=a0_0x5bb293[_0x3b70ec(0xf0)](),_0x35b58b=a0_0x5bb293[_0x3b70ec(0x117)](),_0x4d8556=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4827c9 of _0x4d8556){while(_0x4827c9['firstChild']){_0x4827c9['lastChild'][_0x3b70ec(0xfe)]();}}for(const _0x3dda90 of _0x428fe0){createElementStorage(romsFile,_0x3dda90,_0x3b70ec(0xe2)+_0x3dda90);}for(const _0x1015bb of _0x31e27d){createElementStorage(statesFile,_0x1015bb,_0x3b70ec(0x112)+_0x1015bb);}for(const _0x1fef4d of _0x5a770d){createElementStorage(savesFile,_0x1fef4d,_0x3b70ec(0xfa)+_0x1fef4d);}for(const _0x38ace0 of _0x2f4df8){createElementStorage(cheatsFile,_0x38ace0,_0x3b70ec(0xed)+_0x38ace0);}for(const _0x5a1e34 of _0x35b58b){createElementStorage(screenshotsFile,_0x5a1e34,'/data/screenshots/'+_0x5a1e34);}}document[a0_0xa3d6c0(0xe5)](a0_0xa3d6c0(0x116),function(){const _0x759b07=a0_0xa3d6c0;upLoadFile[_0x759b07(0xe5)](_0x759b07(0xd4),function(){const _0x490fc5=_0x759b07,_0x113c8d=upLoadFile[_0x490fc5(0xfb)][0x0]['name'];if(_0x113c8d[_0x490fc5(0x108)]('.cheats'))a0_0x5bb293[_0x490fc5(0xcf)](upLoadFile);else _0x113c8d[_0x490fc5(0x108)](_0x490fc5(0x109))||_0x113c8d[_0x490fc5(0x108)](_0x490fc5(0xd0))||_0x113c8d[_0x490fc5(0x108)](_0x490fc5(0xf7))?a0_0x5bb293['uploadGame'](upLoadFile):a0_0x5bb293[_0x490fc5(0x10e)](upLoadFile);}),openLocalStorage[_0x759b07(0xe5)](_0x759b07(0xdf),function(){const _0x6aa7bb=_0x759b07,_0x512fa9=localStorage[_0x6aa7bb(0xe1)](_0x6aa7bb(0xff));storage['classList']['remove'](_0x6aa7bb(0xd1)),intro['classList']['add'](_0x6aa7bb(0xd1)),ingame[_0x6aa7bb(0xda)]['add']('disable'),_0x512fa9===null||_0x512fa9===''?(dropboxRestore[_0x6aa7bb(0xda)][_0x6aa7bb(0xfe)](_0x6aa7bb(0xd9)),dropboxBackup['classList'][_0x6aa7bb(0xfe)](_0x6aa7bb(0xd9)),dropboxCloud['classList'][_0x6aa7bb(0xfe)]('active')):(dropboxRestore[_0x6aa7bb(0xda)][_0x6aa7bb(0xcd)]('active'),dropboxBackup[_0x6aa7bb(0xda)][_0x6aa7bb(0xcd)](_0x6aa7bb(0xd9)),dropboxCloud[_0x6aa7bb(0xda)]['add'](_0x6aa7bb(0xd9)));}),setTimeout(()=>{localStorageFile();},0xbb8);});