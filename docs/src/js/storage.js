const a0_0x2de6a0=a0_0x5d07;(function(_0x3a8922,_0x1c199b){const _0x35fb04=a0_0x5d07,_0x4bb4b8=_0x3a8922();while(!![]){try{const _0x4816b0=-parseInt(_0x35fb04(0xf6))/0x1*(-parseInt(_0x35fb04(0xe6))/0x2)+-parseInt(_0x35fb04(0x113))/0x3+parseInt(_0x35fb04(0xd6))/0x4+parseInt(_0x35fb04(0xef))/0x5*(parseInt(_0x35fb04(0xfe))/0x6)+parseInt(_0x35fb04(0xce))/0x7+-parseInt(_0x35fb04(0x111))/0x8+parseInt(_0x35fb04(0xcc))/0x9*(-parseInt(_0x35fb04(0x108))/0xa);if(_0x4816b0===_0x1c199b)break;else _0x4bb4b8['push'](_0x4bb4b8['shift']());}catch(_0xf39210){_0x4bb4b8['push'](_0x4bb4b8['shift']());}}}(a0_0xc9d1,0x60d5c));import*as a0_0x720ea2 from'./main.js';const mgbaStorage=document[a0_0x2de6a0(0x10d)](a0_0x2de6a0(0xd3)),savesFile=document[a0_0x2de6a0(0x10d)]('savesFile'),romsFile=document['getElementById'](a0_0x2de6a0(0xd9)),statesFile=document[a0_0x2de6a0(0x10d)](a0_0x2de6a0(0xda)),screenshotsFile=document[a0_0x2de6a0(0x10d)](a0_0x2de6a0(0xfd));function a0_0x5d07(_0x34cb68,_0x1960cf){const _0xc9d11c=a0_0xc9d1();return a0_0x5d07=function(_0x5d0703,_0x1c4ad5){_0x5d0703=_0x5d0703-0xca;let _0x58c6d0=_0xc9d11c[_0x5d0703];return _0x58c6d0;},a0_0x5d07(_0x34cb68,_0x1960cf);}function humanFileSize(_0x407d47,_0x530561=![],_0x16937b=0x1){const _0x3af8ab=a0_0x2de6a0,_0x15022d=_0x530561?0x3e8:0x400,_0x5a215a=_0x530561?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x3af8ab(0x115),'MiB',_0x3af8ab(0xe5),_0x3af8ab(0x10b),_0x3af8ab(0xfa),_0x3af8ab(0xfb),'ZiB',_0x3af8ab(0x101)];let _0x3a949a=-0x1;do{_0x407d47/=_0x15022d,++_0x3a949a;}while(Math[_0x3af8ab(0xd7)](_0x407d47)>=_0x15022d&&_0x3a949a<_0x5a215a[_0x3af8ab(0xed)]-0x1);return _0x407d47[_0x3af8ab(0xea)](_0x16937b)+'\x20'+_0x5a215a[_0x3a949a];}function createElementStorage(_0x1ff11d,_0x1ab3ee,_0x39f55b){const _0x23cbf0=a0_0x2de6a0,_0x1e5eaa=document[_0x23cbf0(0xe0)](_0x23cbf0(0xe9));_0x1e5eaa['classList'][_0x23cbf0(0x112)]('flex-1','rom-item',_0x23cbf0(0xdc)),_0x1ff11d[_0x23cbf0(0xe4)](_0x1e5eaa);const _0x5b6325=document[_0x23cbf0(0xe0)]('span');_0x5b6325[_0x23cbf0(0x104)]=_0x1ab3ee,_0x5b6325[_0x23cbf0(0xd2)][_0x23cbf0(0x112)](_0x23cbf0(0x103)),_0x1e5eaa[_0x23cbf0(0xe4)](_0x5b6325),_0x5b6325[_0x23cbf0(0xe3)]=()=>{const _0x5e4d24=_0x23cbf0,_0x4c8125=document[_0x5e4d24(0xe0)](_0x5e4d24(0x10c));_0x4c8125[_0x5e4d24(0xfc)]=()=>_0x4c8125['remove'](),_0x1ff11d[_0x5e4d24(0xe4)](_0x4c8125);const _0x2621bf=document[_0x5e4d24(0xe0)](_0x5e4d24(0xe9));_0x2621bf[_0x5e4d24(0xd2)]['add'](_0x5e4d24(0xf7),'right',_0x5e4d24(0x110)),_0x4c8125[_0x5e4d24(0xe4)](_0x2621bf);const _0x15dd00=document[_0x5e4d24(0xe0)](_0x5e4d24(0xe9));_0x15dd00['classList']['add'](_0x5e4d24(0x107),'bc','flex-1'),_0x2621bf[_0x5e4d24(0xe4)](_0x15dd00);const _0x3428d1=document[_0x5e4d24(0xe0)](_0x5e4d24(0xe9));_0x3428d1[_0x5e4d24(0xd2)][_0x5e4d24(0x112)](_0x5e4d24(0x103)),_0x2621bf[_0x5e4d24(0xe4)](_0x3428d1);const _0x533125=document[_0x5e4d24(0xe0)]('div');_0x533125['classList'][_0x5e4d24(0x112)](_0x5e4d24(0x103)),_0x2621bf[_0x5e4d24(0xe4)](_0x533125);const _0x5ca200=document[_0x5e4d24(0xe0)](_0x5e4d24(0xe9));_0x5ca200[_0x5e4d24(0xd2)][_0x5e4d24(0x112)](_0x5e4d24(0x103)),_0x2621bf[_0x5e4d24(0xe4)](_0x5ca200),mgbaStorage['classList'][_0x5e4d24(0x112)]('opacity0'),_0x15dd00[_0x5e4d24(0xe3)]=()=>{const _0x2ad1bf=_0x5e4d24;_0x4c8125['close'](),_0x4c8125[_0x2ad1bf(0xd0)](),mgbaStorage[_0x2ad1bf(0xd2)][_0x2ad1bf(0xd0)](_0x2ad1bf(0xdb));};const _0x4c64b7=document[_0x5e4d24(0xe0)]('div');_0x4c64b7['classList'][_0x5e4d24(0x112)](_0x5e4d24(0x103),_0x5e4d24(0xd4),'hw','cw'),_0x4c64b7['textContent']=_0x1ab3ee,_0x4c8125[_0x5e4d24(0xe4)](_0x4c64b7);const _0x5ca077=document[_0x5e4d24(0xe0)](_0x5e4d24(0xe9));_0x5ca077[_0x5e4d24(0xd2)][_0x5e4d24(0x112)](_0x5e4d24(0xdf),'hw','cw',_0x5e4d24(0xf4)),_0x4c8125['appendChild'](_0x5ca077);const _0xb77b7f=document[_0x5e4d24(0xe0)]('div');_0xb77b7f[_0x5e4d24(0xd2)][_0x5e4d24(0x112)](_0x5e4d24(0x109),'bc'),_0x5ca077[_0x5e4d24(0xe4)](_0xb77b7f),_0xb77b7f['onclick']=()=>{const _0x55f159=_0x5e4d24;a0_0x720ea2[_0x55f159(0xca)](_0x39f55b,_0x1ab3ee);};const _0x488e02=document[_0x5e4d24(0xe0)](_0x5e4d24(0xe9));_0x488e02['classList']['add']('delete','bc'),_0x5ca077[_0x5e4d24(0xe4)](_0x488e02),_0x488e02[_0x5e4d24(0xe3)]=async()=>{const _0x20d076=_0x5e4d24;if(window[_0x20d076(0xff)]('Delete\x20this\x20file?'+_0x1ab3ee)){const _0x41e61d=_0x1ab3ee['replace'](/\....$/,'.gba');a0_0x720ea2[_0x20d076(0xcf)](_0x39f55b),localStorage['removeItem'](_0x41e61d+_0x20d076(0xf5)+_0x1ab3ee[_0x20d076(0xf3)](-0x1)),localStorage[_0x20d076(0xf0)](_0x41e61d+_0x20d076(0xdd)+_0x1ab3ee[_0x20d076(0xf3)](-0x1)),localStorageFile(),_0x4c8125[_0x20d076(0x105)](),_0x4c8125['remove'](),mgbaStorage[_0x20d076(0xd2)][_0x20d076(0xd0)](_0x20d076(0xdb));}};const _0x61d1ab=document[_0x5e4d24(0xe0)]('div');_0x61d1ab[_0x5e4d24(0xd2)][_0x5e4d24(0x112)]('rename','bc'),_0x5ca077['appendChild'](_0x61d1ab),_0x61d1ab[_0x5e4d24(0xe3)]=async()=>{const _0x437794=_0x5e4d24,_0x5a82d9=window[_0x437794(0xf8)](_0x437794(0x10e),_0x1ab3ee);_0x5a82d9!==null&&(a0_0x720ea2[_0x437794(0xe1)](_0x39f55b,_0x1ab3ee,_0x5a82d9),localStorageFile(),_0x4c8125[_0x437794(0x105)](),_0x4c8125[_0x437794(0xd0)](),mgbaStorage[_0x437794(0xd2)][_0x437794(0xd0)](_0x437794(0xdb)));},_0x4c8125[_0x5e4d24(0xe7)]();};const _0x2393d5=document[_0x23cbf0(0xe0)]('span');_0x2393d5[_0x23cbf0(0x104)]=humanFileSize(a0_0x720ea2[_0x23cbf0(0x114)](_0x39f55b)),_0x2393d5['classList'][_0x23cbf0(0x112)](_0x23cbf0(0xf2)),_0x1e5eaa[_0x23cbf0(0xe4)](_0x2393d5);}function a0_0xc9d1(){const _0x3bf692=['download','/data/screenshots/','TiB','dialog','getElementById','Edit\x20filename','lastChild','gap-10','1492208MKpGKr','add','1345644ycWxMi','fileSize','KiB','downloadFile','disable','333hgWXJo','DOMContentLoaded','2681602uDTjrf','deleteFile','remove','saves','classList','mgba-storage','rom-item','/data/saves/','1511096KNipGa','abs','games','romsFile','statesFile','opacity0','rom','_imageState','screenshots','actionDiv','createElement','editFile','uploadFile','onclick','appendChild','GiB','6pTMKEi','showModal','uId','div','toFixed','/data/games/','/data/cheats/','length','change','1289780ypsuYU','removeItem','listFiles','mib','slice','gap-16','_dateState','219727SZUomz','storage','prompt','active','PiB','EiB','onclose','screenshotsFile','12aKplJL','confirm','addEventListener','YiB','getItem','flex-1','textContent','close','cheats','home','244390jlzkgq'];a0_0xc9d1=function(){return _0x3bf692;};return a0_0xc9d1();}export function localStorageFile(){const _0x2321ad=a0_0x2de6a0,_0x19c896=a0_0x720ea2[_0x2321ad(0xf1)](_0x2321ad(0xd8)),_0x1e1738=a0_0x720ea2['listFiles'](_0x2321ad(0xd1)),_0x511fca=a0_0x720ea2[_0x2321ad(0xf1)]('states'),_0x306682=a0_0x720ea2[_0x2321ad(0xf1)](_0x2321ad(0x106)),_0x4d94a4=a0_0x720ea2[_0x2321ad(0xf1)](_0x2321ad(0xde)),_0x10be2c=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x12e921 of _0x10be2c){while(_0x12e921['firstChild']){_0x12e921[_0x2321ad(0x10f)][_0x2321ad(0xd0)]();}}for(const _0x4fd542 of _0x19c896){createElementStorage(romsFile,_0x4fd542,_0x2321ad(0xeb)+_0x4fd542);}for(const _0x35d141 of _0x511fca){createElementStorage(statesFile,_0x35d141,'/data/states/'+_0x35d141);}for(const _0x54c4c7 of _0x1e1738){createElementStorage(savesFile,_0x54c4c7,_0x2321ad(0xd5)+_0x54c4c7);}for(const _0x586bff of _0x306682){createElementStorage(cheatsFile,_0x586bff,_0x2321ad(0xec)+_0x586bff);}for(const _0x3f0f8d of _0x4d94a4){createElementStorage(screenshotsFile,_0x3f0f8d,_0x2321ad(0x10a)+_0x3f0f8d);}}document[a0_0x2de6a0(0x100)](a0_0x2de6a0(0xcd),function(){const _0x2b426d=a0_0x2de6a0;upLoadFile[_0x2b426d(0x100)](_0x2b426d(0xee),function(){const _0x3f4c29=_0x2b426d;a0_0x720ea2[_0x3f4c29(0xe2)](upLoadFile);}),openLocalStorage[_0x2b426d(0x100)]('click',function(){const _0x152f75=_0x2b426d,_0x261d9f=localStorage[_0x152f75(0x102)](_0x152f75(0xe8));storage['classList'][_0x152f75(0xd0)](_0x152f75(0xcb)),intro['classList'][_0x152f75(0x112)](_0x152f75(0xcb)),ingame[_0x152f75(0xd2)][_0x152f75(0x112)](_0x152f75(0xcb)),_0x261d9f===null||_0x261d9f===''?(dropboxRestore[_0x152f75(0xd2)]['remove'](_0x152f75(0xf9)),dropboxBackup[_0x152f75(0xd2)][_0x152f75(0xd0)](_0x152f75(0xf9)),dropboxCloud[_0x152f75(0xd2)]['remove'](_0x152f75(0xf9))):(dropboxRestore[_0x152f75(0xd2)][_0x152f75(0x112)](_0x152f75(0xf9)),dropboxBackup['classList'][_0x152f75(0x112)](_0x152f75(0xf9)),dropboxCloud[_0x152f75(0xd2)]['add'](_0x152f75(0xf9)));}),setTimeout(()=>{localStorageFile();},0xbb8);});