const a0_0x366815=a0_0x3a17;(function(_0x53d878,_0x2c89ee){const _0x18e2f1=a0_0x3a17,_0x46306b=_0x53d878();while(!![]){try{const _0x536939=-parseInt(_0x18e2f1(0x226))/0x1+-parseInt(_0x18e2f1(0x209))/0x2+-parseInt(_0x18e2f1(0x200))/0x3+-parseInt(_0x18e2f1(0x1e6))/0x4+-parseInt(_0x18e2f1(0x223))/0x5+parseInt(_0x18e2f1(0x1d6))/0x6*(parseInt(_0x18e2f1(0x210))/0x7)+parseInt(_0x18e2f1(0x1dd))/0x8;if(_0x536939===_0x2c89ee)break;else _0x46306b['push'](_0x46306b['shift']());}catch(_0x446c9d){_0x46306b['push'](_0x46306b['shift']());}}}(a0_0x9f3d,0x81e34));import*as a0_0x332731 from'./main.js';const mgbaStorage=document[a0_0x366815(0x1f4)](a0_0x366815(0x1df)),savesFile=document[a0_0x366815(0x1f4)](a0_0x366815(0x21f)),romsFile=document['getElementById'](a0_0x366815(0x1e3)),statesFile=document[a0_0x366815(0x1f4)](a0_0x366815(0x221)),screenshotsFile=document[a0_0x366815(0x1f4)](a0_0x366815(0x224));function a0_0x3a17(_0x1093a0,_0xb038b){const _0x9f3d92=a0_0x9f3d();return a0_0x3a17=function(_0x3a1784,_0x5318e){_0x3a1784=_0x3a1784-0x1d4;let _0x14cfe2=_0x9f3d92[_0x3a1784];return _0x14cfe2;},a0_0x3a17(_0x1093a0,_0xb038b);}function humanFileSize(_0x3da27d,_0x15801f=![],_0x1d95ba=0x1){const _0x26f7df=a0_0x366815,_0x5711c6=_0x15801f?0x3e8:0x400,_0x28c918=_0x15801f?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x26f7df(0x20f),_0x26f7df(0x207),_0x26f7df(0x1e8),'TiB','PiB',_0x26f7df(0x212),_0x26f7df(0x218),'YiB'];let _0x17c807=-0x1;do{_0x3da27d/=_0x5711c6,++_0x17c807;}while(Math[_0x26f7df(0x1fe)](_0x3da27d)>=_0x5711c6&&_0x17c807<_0x28c918[_0x26f7df(0x21b)]-0x1);return _0x3da27d[_0x26f7df(0x219)](_0x1d95ba)+'\x20'+_0x28c918[_0x17c807];}function createElementStorage(_0x25bdf8,_0x201bac,_0x2dd7e6){const _0x16a904=a0_0x366815,_0x475b27=document[_0x16a904(0x1e1)](_0x16a904(0x225));_0x475b27[_0x16a904(0x1f2)][_0x16a904(0x20c)]('flex-1','rom-item',_0x16a904(0x1f9)),_0x25bdf8[_0x16a904(0x20d)](_0x475b27);const _0x5c644b=document[_0x16a904(0x1e1)](_0x16a904(0x1ea));_0x5c644b['textContent']=_0x201bac,_0x5c644b[_0x16a904(0x1f2)][_0x16a904(0x20c)](_0x16a904(0x1e2)),_0x475b27[_0x16a904(0x20d)](_0x5c644b),_0x5c644b['onclick']=()=>{const _0x45833b=_0x16a904,_0x49a5cf=document[_0x45833b(0x1e1)](_0x45833b(0x1ec));_0x49a5cf[_0x45833b(0x1e4)]=()=>_0x49a5cf['remove'](),_0x25bdf8[_0x45833b(0x20d)](_0x49a5cf);const _0x4eb30d=document[_0x45833b(0x1e1)](_0x45833b(0x225));_0x4eb30d[_0x45833b(0x1f2)][_0x45833b(0x20c)](_0x45833b(0x1fd),_0x45833b(0x21a),_0x45833b(0x214)),_0x49a5cf[_0x45833b(0x20d)](_0x4eb30d);const _0x363395=document['createElement']('div');_0x363395[_0x45833b(0x1f2)][_0x45833b(0x20c)](_0x45833b(0x21d),'bc','flex-1'),_0x4eb30d[_0x45833b(0x20d)](_0x363395);const _0x567efd=document[_0x45833b(0x1e1)]('div');_0x567efd[_0x45833b(0x1f2)]['add'](_0x45833b(0x1e2)),_0x4eb30d[_0x45833b(0x20d)](_0x567efd);const _0x7b310c=document[_0x45833b(0x1e1)](_0x45833b(0x225));_0x7b310c[_0x45833b(0x1f2)][_0x45833b(0x20c)](_0x45833b(0x1e2)),_0x4eb30d[_0x45833b(0x20d)](_0x7b310c);const _0x27da3c=document[_0x45833b(0x1e1)](_0x45833b(0x225));_0x27da3c[_0x45833b(0x1f2)]['add'](_0x45833b(0x1e2)),_0x4eb30d[_0x45833b(0x20d)](_0x27da3c),mgbaStorage['classList']['add']('opacity0'),_0x363395[_0x45833b(0x1f7)]=()=>{const _0x75e760=_0x45833b;_0x49a5cf[_0x75e760(0x1d8)](),_0x49a5cf['remove'](),mgbaStorage[_0x75e760(0x1f2)]['remove'](_0x75e760(0x1d7));};const _0x592374=document[_0x45833b(0x1e1)]('div');_0x592374[_0x45833b(0x1f2)][_0x45833b(0x20c)](_0x45833b(0x1e2),_0x45833b(0x1f6),'hw','cw'),_0x592374['textContent']=_0x201bac,_0x49a5cf[_0x45833b(0x20d)](_0x592374);const _0x248712=document[_0x45833b(0x1e1)](_0x45833b(0x225));_0x248712[_0x45833b(0x1f2)][_0x45833b(0x20c)](_0x45833b(0x1e7),'hw','cw','gap-16'),_0x49a5cf[_0x45833b(0x20d)](_0x248712);const _0x2159fc=document[_0x45833b(0x1e1)](_0x45833b(0x225));_0x2159fc[_0x45833b(0x1f2)][_0x45833b(0x20c)]('download','bc'),_0x248712[_0x45833b(0x20d)](_0x2159fc),_0x2159fc[_0x45833b(0x1f7)]=()=>{a0_0x332731['downloadFile'](_0x2dd7e6,_0x201bac);};const _0xc119b4=document[_0x45833b(0x1e1)](_0x45833b(0x225));_0xc119b4[_0x45833b(0x1f2)]['add']('delete','bc'),_0x248712[_0x45833b(0x20d)](_0xc119b4),_0xc119b4['onclick']=async()=>{const _0x8ae0a3=_0x45833b;if(window[_0x8ae0a3(0x1e9)]('Delete\x20this\x20file?'+_0x201bac)){const _0x3b61e2=_0x201bac[_0x8ae0a3(0x1fc)](/\....$/,_0x8ae0a3(0x1d5));a0_0x332731[_0x8ae0a3(0x21c)](_0x2dd7e6),localStorage[_0x8ae0a3(0x201)](_0x3b61e2+_0x8ae0a3(0x1dc)+_0x201bac[_0x8ae0a3(0x217)](-0x1)),localStorage[_0x8ae0a3(0x201)](_0x3b61e2+_0x8ae0a3(0x1de)+_0x201bac[_0x8ae0a3(0x217)](-0x1)),localStorageFile(),_0x49a5cf[_0x8ae0a3(0x1d8)](),_0x49a5cf['remove'](),mgbaStorage['classList'][_0x8ae0a3(0x20a)](_0x8ae0a3(0x1d7));}};const _0xb16860=document[_0x45833b(0x1e1)](_0x45833b(0x225));_0xb16860[_0x45833b(0x1f2)][_0x45833b(0x20c)](_0x45833b(0x222),'bc'),_0x248712[_0x45833b(0x20d)](_0xb16860),_0xb16860[_0x45833b(0x1f7)]=async()=>{const _0x1177cb=_0x45833b,_0x25445e=window[_0x1177cb(0x211)](_0x1177cb(0x1d4),_0x201bac);if(_0x25445e!==null){const _0x3f58c7=_0x201bac[_0x1177cb(0x1fc)](/\....$/,'.gba'),_0x2cc697=_0x25445e[_0x1177cb(0x1fc)](/\....$/,_0x1177cb(0x1d5)),_0x1e17c6=_0x3f58c7+_0x1177cb(0x1dc)+_0x201bac[_0x1177cb(0x217)](-0x1),_0x580bcd=_0x3f58c7+'_imageState'+_0x201bac[_0x1177cb(0x217)](-0x1),_0x25bd6b=_0x2cc697+_0x1177cb(0x1dc)+_0x25445e[_0x1177cb(0x217)](-0x1),_0x377a87=_0x2cc697+_0x1177cb(0x1de)+_0x25445e['slice'](-0x1),_0x3fe3b1=localStorage[_0x1177cb(0x204)](_0x1e17c6),_0x3d2b5d=localStorage[_0x1177cb(0x204)](_0x580bcd);_0x3fe3b1!==null&&(localStorage[_0x1177cb(0x220)](_0x25bd6b,_0x3fe3b1),localStorage[_0x1177cb(0x201)](_0x1e17c6)),_0x3d2b5d!==null&&(localStorage[_0x1177cb(0x220)](_0x377a87,_0x3d2b5d),localStorage['removeItem'](_0x580bcd)),a0_0x332731[_0x1177cb(0x208)](_0x2dd7e6,_0x201bac,_0x25445e),localStorageFile(),_0x49a5cf[_0x1177cb(0x1d8)](),_0x49a5cf[_0x1177cb(0x20a)](),mgbaStorage[_0x1177cb(0x1f2)][_0x1177cb(0x20a)]('opacity0');}},_0x49a5cf['showModal']();};const _0x1ccbd8=document[_0x16a904(0x1e1)](_0x16a904(0x1ea));_0x1ccbd8[_0x16a904(0x21e)]=humanFileSize(a0_0x332731[_0x16a904(0x1f0)](_0x2dd7e6)),_0x1ccbd8[_0x16a904(0x1f2)][_0x16a904(0x20c)](_0x16a904(0x1e0)),_0x475b27[_0x16a904(0x20d)](_0x1ccbd8);}export function localStorageFile(){const _0x320284=a0_0x366815,_0x42d9d=a0_0x332731[_0x320284(0x1fb)](),_0x42e9bd=a0_0x332731[_0x320284(0x1eb)](),_0x1e5c56=a0_0x332731[_0x320284(0x1ee)](),_0x45c2fd=a0_0x332731[_0x320284(0x1e5)](),_0x3ff34d=a0_0x332731['listScreenshot'](),_0xdf4f3=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3fe441 of _0xdf4f3){while(_0x3fe441[_0x320284(0x206)]){_0x3fe441[_0x320284(0x1db)][_0x320284(0x20a)]();}}for(const _0x289ac4 of _0x42d9d){createElementStorage(romsFile,_0x289ac4,_0x320284(0x1ed)+_0x289ac4);}for(const _0x3e9f89 of _0x1e5c56){createElementStorage(statesFile,_0x3e9f89,_0x320284(0x1f3)+_0x3e9f89);}for(const _0x5d06fa of _0x42e9bd){createElementStorage(savesFile,_0x5d06fa,_0x320284(0x20e)+_0x5d06fa);}for(const _0x36b76f of _0x45c2fd){createElementStorage(cheatsFile,_0x36b76f,_0x320284(0x1f1)+_0x36b76f);}for(const _0x335776 of _0x3ff34d){createElementStorage(screenshotsFile,_0x335776,_0x320284(0x1fa)+_0x335776);}}document['addEventListener']('DOMContentLoaded',function(){const _0x3b79e8=a0_0x366815;upLoadFile[_0x3b79e8(0x1f5)](_0x3b79e8(0x215),function(){const _0x13c9e4=_0x3b79e8,_0x1b6978=upLoadFile['files'][0x0][_0x13c9e4(0x213)];if(_0x1b6978[_0x13c9e4(0x216)](_0x13c9e4(0x1f8)))a0_0x332731['uploadCheat'](upLoadFile);else _0x1b6978[_0x13c9e4(0x216)](_0x13c9e4(0x1d5))||_0x1b6978[_0x13c9e4(0x216)](_0x13c9e4(0x20b))||_0x1b6978[_0x13c9e4(0x216)](_0x13c9e4(0x1da))?a0_0x332731[_0x13c9e4(0x1ef)](upLoadFile):a0_0x332731[_0x13c9e4(0x205)](upLoadFile);}),openLocalStorage[_0x3b79e8(0x1f5)](_0x3b79e8(0x202),function(){const _0xf638d2=_0x3b79e8,_0xf2f4f8=localStorage[_0xf638d2(0x204)](_0xf638d2(0x1d9));storage[_0xf638d2(0x1f2)][_0xf638d2(0x20a)](_0xf638d2(0x1ff)),intro['classList'][_0xf638d2(0x20c)](_0xf638d2(0x1ff)),ingame[_0xf638d2(0x1f2)][_0xf638d2(0x20c)](_0xf638d2(0x1ff)),_0xf2f4f8===null||_0xf2f4f8===''?(dropboxRestore[_0xf638d2(0x1f2)]['remove'](_0xf638d2(0x203)),dropboxBackup[_0xf638d2(0x1f2)][_0xf638d2(0x20a)]('active'),dropboxCloud['classList'][_0xf638d2(0x20a)](_0xf638d2(0x203))):(dropboxRestore[_0xf638d2(0x1f2)]['add']('active'),dropboxBackup[_0xf638d2(0x1f2)]['add'](_0xf638d2(0x203)),dropboxCloud[_0xf638d2(0x1f2)][_0xf638d2(0x20c)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x9f3d(){const _0x5d6235=['getElementById','addEventListener','rom-item','onclick','.cheats','rom','/data/screenshots/','listGame','replace','storage','abs','disable','2028945wpCjxW','removeItem','click','active','getItem','uploadSavSta','firstChild','MiB','editFile','405676MhULuB','remove','.gbc','add','appendChild','/data/saves/','KiB','55559gLEYJD','prompt','EiB','name','gap-10','change','endsWith','slice','ZiB','toFixed','right','length','deleteFile','home','textContent','savesFile','setItem','statesFile','rename','1884140NGSRjh','screenshotsFile','div','794446ADhHZo','Edit\x20filename','.gba','732YofVgH','opacity0','close','uId','.bc','lastChild','_dateState','13175616eaqGKL','_imageState','mgba-storage','mib','createElement','flex-1','romsFile','onclose','listCheat','131276HhdVLZ','actionDiv','GiB','confirm','span','listSave','dialog','/data/games/','listState','uploadGame','fileSize','/data/cheats/','classList','/data/states/'];a0_0x9f3d=function(){return _0x5d6235;};return a0_0x9f3d();}