const a0_0x2159ec=a0_0x2616;(function(_0x5ceffd,_0x125bf9){const _0x21b815=a0_0x2616,_0x35bb60=_0x5ceffd();while(!![]){try{const _0x632387=parseInt(_0x21b815(0x120))/0x1+parseInt(_0x21b815(0x121))/0x2+-parseInt(_0x21b815(0x129))/0x3+-parseInt(_0x21b815(0x107))/0x4*(-parseInt(_0x21b815(0x109))/0x5)+-parseInt(_0x21b815(0x13d))/0x6*(parseInt(_0x21b815(0x138))/0x7)+parseInt(_0x21b815(0x10a))/0x8*(-parseInt(_0x21b815(0x136))/0x9)+parseInt(_0x21b815(0x113))/0xa;if(_0x632387===_0x125bf9)break;else _0x35bb60['push'](_0x35bb60['shift']());}catch(_0x2a5cf7){_0x35bb60['push'](_0x35bb60['shift']());}}}(a0_0x17fa,0xebe91));function a0_0x17fa(){const _0x54650d=['rom-item','downloadFile','getElementById','fileSize','MiB','add','div','72xXYTWv','EiB','49jbzLih','editFile','dialog','DOMContentLoaded','span','1104852ksRzaB','gap-16','cheats','disable','rename','addEventListener','slice','/data/screenshots/','opacity0','/data/states/','onclose','close','states','deleteFile','ZiB','confirm','download','classList','length','TiB','1786528BuxaHd','createElement','20syQkrU','1113512uJoMaw','appendChild','click','/data/games/','prompt','getItem','screenshots','listFiles','romsFile','8522750PKcxIW','/data/cheats/','GiB','remove','flex-1','textContent','active','removeItem','onclick','YiB','home','change','uploadFile','1873717GDpXQR','598152gLCEVI','saves','gap-10','_imageState','_dateState','Edit\x20filename','actionDiv','uId','4328403ZKZvLp','/data/saves/','rom','statesFile','firstChild','screenshotsFile'];a0_0x17fa=function(){return _0x54650d;};return a0_0x17fa();}import*as a0_0x1cad60 from'./main.js';const mgbaStorage=document[a0_0x2159ec(0x131)]('mgba-storage'),savesFile=document[a0_0x2159ec(0x131)]('savesFile'),romsFile=document[a0_0x2159ec(0x131)](a0_0x2159ec(0x112)),statesFile=document[a0_0x2159ec(0x131)](a0_0x2159ec(0x12c)),screenshotsFile=document[a0_0x2159ec(0x131)](a0_0x2159ec(0x12e));function humanFileSize(_0x146b2b,_0x40e3c7=![],_0x1aa978=0x1){const _0x12a1ad=a0_0x2159ec,_0x2f6070=_0x40e3c7?0x3e8:0x400,_0x27df36=_0x40e3c7?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x12a1ad(0x133),_0x12a1ad(0x115),_0x12a1ad(0x106),'PiB',_0x12a1ad(0x137),_0x12a1ad(0x101),_0x12a1ad(0x11c)];let _0x7c782a=-0x1;do{_0x146b2b/=_0x2f6070,++_0x7c782a;}while(Math['abs'](_0x146b2b)>=_0x2f6070&&_0x7c782a<_0x27df36[_0x12a1ad(0x105)]-0x1);return _0x146b2b['toFixed'](_0x1aa978)+'\x20'+_0x27df36[_0x7c782a];}function createElementStorage(_0x4fb140,_0x31c4ed,_0x628efa){const _0x100e94=a0_0x2159ec,_0x2457f2=document[_0x100e94(0x108)](_0x100e94(0x135));_0x2457f2['classList'][_0x100e94(0x134)](_0x100e94(0x117),_0x100e94(0x12f),_0x100e94(0x12b)),_0x4fb140['appendChild'](_0x2457f2);const _0x51e96a=document['createElement'](_0x100e94(0x13c));_0x51e96a[_0x100e94(0x118)]=_0x31c4ed,_0x51e96a[_0x100e94(0x104)][_0x100e94(0x134)](_0x100e94(0x117)),_0x2457f2[_0x100e94(0x10b)](_0x51e96a),_0x51e96a['onclick']=()=>{const _0x13a7fb=_0x100e94,_0x13298b=document['createElement'](_0x13a7fb(0x13a));_0x13298b[_0x13a7fb(0xfd)]=()=>_0x13298b[_0x13a7fb(0x116)](),_0x4fb140[_0x13a7fb(0x10b)](_0x13298b);const _0x563c30=document[_0x13a7fb(0x108)](_0x13a7fb(0x135));_0x563c30[_0x13a7fb(0x104)][_0x13a7fb(0x134)]('storage','right',_0x13a7fb(0x123)),_0x13298b[_0x13a7fb(0x10b)](_0x563c30);const _0x3731e0=document[_0x13a7fb(0x108)]('div');_0x3731e0[_0x13a7fb(0x104)][_0x13a7fb(0x134)](_0x13a7fb(0x11d),'bc',_0x13a7fb(0x117)),_0x563c30[_0x13a7fb(0x10b)](_0x3731e0);const _0x174221=document[_0x13a7fb(0x108)](_0x13a7fb(0x135));_0x174221[_0x13a7fb(0x104)][_0x13a7fb(0x134)](_0x13a7fb(0x117)),_0x563c30[_0x13a7fb(0x10b)](_0x174221);const _0x4cfa35=document[_0x13a7fb(0x108)](_0x13a7fb(0x135));_0x4cfa35['classList'][_0x13a7fb(0x134)](_0x13a7fb(0x117)),_0x563c30['appendChild'](_0x4cfa35);const _0x27b163=document[_0x13a7fb(0x108)](_0x13a7fb(0x135));_0x27b163[_0x13a7fb(0x104)]['add'](_0x13a7fb(0x117)),_0x563c30[_0x13a7fb(0x10b)](_0x27b163),mgbaStorage[_0x13a7fb(0x104)][_0x13a7fb(0x134)]('opacity0'),_0x3731e0['onclick']=()=>{const _0x439abf=_0x13a7fb;_0x13298b[_0x439abf(0xfe)](),_0x13298b[_0x439abf(0x116)](),mgbaStorage[_0x439abf(0x104)][_0x439abf(0x116)](_0x439abf(0x145));};const _0x14860f=document[_0x13a7fb(0x108)](_0x13a7fb(0x135));_0x14860f[_0x13a7fb(0x104)][_0x13a7fb(0x134)](_0x13a7fb(0x117),_0x13a7fb(0x12f),'hw','cw'),_0x14860f[_0x13a7fb(0x118)]=_0x31c4ed,_0x13298b['appendChild'](_0x14860f);const _0x1d8a5a=document[_0x13a7fb(0x108)](_0x13a7fb(0x135));_0x1d8a5a[_0x13a7fb(0x104)][_0x13a7fb(0x134)](_0x13a7fb(0x127),'hw','cw',_0x13a7fb(0x13e)),_0x13298b[_0x13a7fb(0x10b)](_0x1d8a5a);const _0x5cc187=document[_0x13a7fb(0x108)](_0x13a7fb(0x135));_0x5cc187[_0x13a7fb(0x104)][_0x13a7fb(0x134)](_0x13a7fb(0x103),'bc'),_0x1d8a5a['appendChild'](_0x5cc187),_0x5cc187[_0x13a7fb(0x11b)]=()=>{const _0x1ebed5=_0x13a7fb;a0_0x1cad60[_0x1ebed5(0x130)](_0x628efa,_0x31c4ed);};const _0x390878=document[_0x13a7fb(0x108)](_0x13a7fb(0x135));_0x390878[_0x13a7fb(0x104)][_0x13a7fb(0x134)]('delete','bc'),_0x1d8a5a[_0x13a7fb(0x10b)](_0x390878),_0x390878[_0x13a7fb(0x11b)]=async()=>{const _0x26063b=_0x13a7fb;if(window[_0x26063b(0x102)]('Delete\x20this\x20file?'+_0x31c4ed)){const _0x267962=_0x31c4ed['replace'](/\....$/,'.gba');a0_0x1cad60[_0x26063b(0x100)](_0x628efa),localStorage[_0x26063b(0x11a)](_0x267962+_0x26063b(0x125)+_0x31c4ed[_0x26063b(0x143)](-0x1)),localStorage[_0x26063b(0x11a)](_0x267962+_0x26063b(0x124)+_0x31c4ed[_0x26063b(0x143)](-0x1)),localStorageFile(),_0x13298b[_0x26063b(0xfe)](),_0x13298b[_0x26063b(0x116)](),mgbaStorage['classList'][_0x26063b(0x116)]('opacity0');}};const _0x52c49f=document[_0x13a7fb(0x108)](_0x13a7fb(0x135));_0x52c49f[_0x13a7fb(0x104)][_0x13a7fb(0x134)](_0x13a7fb(0x141),'bc'),_0x1d8a5a['appendChild'](_0x52c49f),_0x52c49f['onclick']=async()=>{const _0x4a73e9=_0x13a7fb,_0x1bdd07=window[_0x4a73e9(0x10e)](_0x4a73e9(0x126),_0x31c4ed);_0x1bdd07!==null&&(a0_0x1cad60[_0x4a73e9(0x139)](_0x628efa,_0x31c4ed,_0x1bdd07),localStorageFile(),_0x13298b['close'](),_0x13298b[_0x4a73e9(0x116)](),mgbaStorage[_0x4a73e9(0x104)][_0x4a73e9(0x116)](_0x4a73e9(0x145)));},_0x13298b['showModal']();};const _0x1e5599=document[_0x100e94(0x108)](_0x100e94(0x13c));_0x1e5599[_0x100e94(0x118)]=humanFileSize(a0_0x1cad60[_0x100e94(0x132)](_0x628efa)),_0x1e5599[_0x100e94(0x104)][_0x100e94(0x134)]('mib'),_0x2457f2['appendChild'](_0x1e5599);}export function localStorageFile(){const _0x47598f=a0_0x2159ec,_0x57059e=a0_0x1cad60[_0x47598f(0x111)]('games'),_0x53aa82=a0_0x1cad60[_0x47598f(0x111)](_0x47598f(0x122)),_0x53a459=a0_0x1cad60[_0x47598f(0x111)](_0x47598f(0xff)),_0x23f9f6=a0_0x1cad60['listFiles'](_0x47598f(0x13f)),_0x476f3b=a0_0x1cad60[_0x47598f(0x111)](_0x47598f(0x110)),_0x3913d1=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4465d6 of _0x3913d1){while(_0x4465d6[_0x47598f(0x12d)]){_0x4465d6['lastChild'][_0x47598f(0x116)]();}}for(const _0x32545d of _0x57059e){createElementStorage(romsFile,_0x32545d,_0x47598f(0x10d)+_0x32545d);}for(const _0x764382 of _0x53a459){createElementStorage(statesFile,_0x764382,_0x47598f(0x146)+_0x764382);}for(const _0x573ccd of _0x53aa82){createElementStorage(savesFile,_0x573ccd,_0x47598f(0x12a)+_0x573ccd);}for(const _0x48847a of _0x23f9f6){createElementStorage(cheatsFile,_0x48847a,_0x47598f(0x114)+_0x48847a);}for(const _0x37772e of _0x476f3b){createElementStorage(screenshotsFile,_0x37772e,_0x47598f(0x144)+_0x37772e);}}function a0_0x2616(_0x10292d,_0x1e13cd){const _0x17fa5e=a0_0x17fa();return a0_0x2616=function(_0x261642,_0x84a4fb){_0x261642=_0x261642-0xfd;let _0xb0284b=_0x17fa5e[_0x261642];return _0xb0284b;},a0_0x2616(_0x10292d,_0x1e13cd);}document[a0_0x2159ec(0x142)](a0_0x2159ec(0x13b),function(){const _0x4129c5=a0_0x2159ec;upLoadFile['addEventListener'](_0x4129c5(0x11e),function(){const _0x26e54b=_0x4129c5;a0_0x1cad60[_0x26e54b(0x11f)](upLoadFile);}),openLocalStorage['addEventListener'](_0x4129c5(0x10c),function(){const _0x49f8a0=_0x4129c5,_0x11eebf=localStorage[_0x49f8a0(0x10f)](_0x49f8a0(0x128));storage['classList'][_0x49f8a0(0x116)]('disable'),intro[_0x49f8a0(0x104)][_0x49f8a0(0x134)](_0x49f8a0(0x140)),ingame[_0x49f8a0(0x104)][_0x49f8a0(0x134)]('disable'),_0x11eebf===null||_0x11eebf===''?(dropboxRestore[_0x49f8a0(0x104)][_0x49f8a0(0x116)](_0x49f8a0(0x119)),dropboxBackup[_0x49f8a0(0x104)][_0x49f8a0(0x116)](_0x49f8a0(0x119)),dropboxCloud[_0x49f8a0(0x104)]['remove'](_0x49f8a0(0x119))):(dropboxRestore[_0x49f8a0(0x104)][_0x49f8a0(0x134)]('active'),dropboxBackup['classList']['add'](_0x49f8a0(0x119)),dropboxCloud['classList'][_0x49f8a0(0x134)](_0x49f8a0(0x119)));}),setTimeout(()=>{localStorageFile();},0xbb8);});