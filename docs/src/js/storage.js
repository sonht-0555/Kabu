const a0_0x47ec90=a0_0x2061;function a0_0x2061(_0x5e36c8,_0x47e8d6){const _0x4a3d96=a0_0x4a3d();return a0_0x2061=function(_0x2061ec,_0x516aa1){_0x2061ec=_0x2061ec-0x1d2;let _0x539d00=_0x4a3d96[_0x2061ec];return _0x539d00;},a0_0x2061(_0x5e36c8,_0x47e8d6);}(function(_0x100f70,_0x5ae1ec){const _0x2d8520=a0_0x2061,_0x17259f=_0x100f70();while(!![]){try{const _0x125ab0=-parseInt(_0x2d8520(0x211))/0x1*(-parseInt(_0x2d8520(0x1e5))/0x2)+-parseInt(_0x2d8520(0x1ed))/0x3+parseInt(_0x2d8520(0x1f1))/0x4+parseInt(_0x2d8520(0x1ec))/0x5*(-parseInt(_0x2d8520(0x1de))/0x6)+-parseInt(_0x2d8520(0x1df))/0x7+-parseInt(_0x2d8520(0x1fe))/0x8+parseInt(_0x2d8520(0x1ee))/0x9;if(_0x125ab0===_0x5ae1ec)break;else _0x17259f['push'](_0x17259f['shift']());}catch(_0x581c11){_0x17259f['push'](_0x17259f['shift']());}}}(a0_0x4a3d,0xdb943));import*as a0_0x1a7562 from'./main.js';function a0_0x4a3d(){const _0x3bafb7=['5220249AQisTK','20654478ZLxqUB','statesFile','length','4208896WMNWcz','replace','_dateState','delete','listFiles','active','addEventListener','showModal','appendChild','ZiB','disable','click','romsFile','865024yNSBcx','KiB','Edit\x20filename','rename','_imageState','downloadFile','prompt','mib','textContent','download','/data/cheats/','remove','removeItem','gap-16','classList','slice','cheats','actionDiv','change','962744YMdisa','GiB','savesFile','getElementById','storage','deleteFile','right','createElement','add','editFile','/data/games/','/data/screenshots/','TiB','lastChild','opacity0','home','states','close','501450DKtszI','8596028wRwDSH','/data/states/','div','firstChild','onclick','uId','2rpZTXc','mgba-storage','span','fileSize','EiB','flex-1','uploadFile','20tFJCtX'];a0_0x4a3d=function(){return _0x3bafb7;};return a0_0x4a3d();}const mgbaStorage=document[a0_0x47ec90(0x214)](a0_0x47ec90(0x1e6)),savesFile=document[a0_0x47ec90(0x214)](a0_0x47ec90(0x213)),romsFile=document[a0_0x47ec90(0x214)](a0_0x47ec90(0x1fd)),statesFile=document[a0_0x47ec90(0x214)](a0_0x47ec90(0x1ef)),screenshotsFile=document['getElementById']('screenshotsFile');function humanFileSize(_0x2c45a7,_0x2e303a=![],_0xeef34b=0x1){const _0x343d79=a0_0x47ec90,_0x4f2e91=_0x2e303a?0x3e8:0x400,_0x41d34d=_0x2e303a?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x343d79(0x1ff),'MiB',_0x343d79(0x212),_0x343d79(0x1d8),'PiB',_0x343d79(0x1e9),_0x343d79(0x1fa),'YiB'];let _0x591a1b=-0x1;do{_0x2c45a7/=_0x4f2e91,++_0x591a1b;}while(Math['abs'](_0x2c45a7)>=_0x4f2e91&&_0x591a1b<_0x41d34d[_0x343d79(0x1f0)]-0x1);return _0x2c45a7['toFixed'](_0xeef34b)+'\x20'+_0x41d34d[_0x591a1b];}function createElementStorage(_0x59023b,_0x43e498,_0x445a3a){const _0x52551e=a0_0x47ec90,_0x32d54f=document[_0x52551e(0x1d3)]('div');_0x32d54f[_0x52551e(0x20c)][_0x52551e(0x1d4)](_0x52551e(0x1ea),'rom-item','rom'),_0x59023b[_0x52551e(0x1f9)](_0x32d54f);const _0x11e731=document[_0x52551e(0x1d3)](_0x52551e(0x1e7));_0x11e731[_0x52551e(0x206)]=_0x43e498,_0x11e731[_0x52551e(0x20c)][_0x52551e(0x1d4)](_0x52551e(0x1ea)),_0x32d54f[_0x52551e(0x1f9)](_0x11e731),_0x11e731[_0x52551e(0x1e3)]=()=>{const _0x46dc6c=_0x52551e,_0x44f38d=document[_0x46dc6c(0x1d3)]('dialog');_0x44f38d['onclose']=()=>_0x44f38d[_0x46dc6c(0x209)](),_0x59023b[_0x46dc6c(0x1f9)](_0x44f38d);const _0x44591f=document[_0x46dc6c(0x1d3)](_0x46dc6c(0x1e1));_0x44591f[_0x46dc6c(0x20c)]['add'](_0x46dc6c(0x215),_0x46dc6c(0x1d2),'gap-10'),_0x44f38d[_0x46dc6c(0x1f9)](_0x44591f);const _0x1e3145=document[_0x46dc6c(0x1d3)](_0x46dc6c(0x1e1));_0x1e3145['classList']['add'](_0x46dc6c(0x1db),'bc',_0x46dc6c(0x1ea)),_0x44591f[_0x46dc6c(0x1f9)](_0x1e3145);const _0x51fa80=document[_0x46dc6c(0x1d3)](_0x46dc6c(0x1e1));_0x51fa80[_0x46dc6c(0x20c)]['add']('flex-1'),_0x44591f[_0x46dc6c(0x1f9)](_0x51fa80);const _0x46e15e=document['createElement'](_0x46dc6c(0x1e1));_0x46e15e[_0x46dc6c(0x20c)][_0x46dc6c(0x1d4)](_0x46dc6c(0x1ea)),_0x44591f[_0x46dc6c(0x1f9)](_0x46e15e);const _0x3214af=document['createElement']('div');_0x3214af[_0x46dc6c(0x20c)]['add'](_0x46dc6c(0x1ea)),_0x44591f[_0x46dc6c(0x1f9)](_0x3214af),mgbaStorage[_0x46dc6c(0x20c)][_0x46dc6c(0x1d4)](_0x46dc6c(0x1da)),_0x1e3145[_0x46dc6c(0x1e3)]=()=>{const _0x5b69c0=_0x46dc6c;_0x44f38d['close'](),_0x44f38d[_0x5b69c0(0x209)](),mgbaStorage['classList'][_0x5b69c0(0x209)](_0x5b69c0(0x1da));};const _0x23ad06=document[_0x46dc6c(0x1d3)](_0x46dc6c(0x1e1));_0x23ad06[_0x46dc6c(0x20c)][_0x46dc6c(0x1d4)]('flex-1','rom-item','hw','cw'),_0x23ad06[_0x46dc6c(0x206)]=_0x43e498,_0x44f38d[_0x46dc6c(0x1f9)](_0x23ad06);const _0x14dfec=document[_0x46dc6c(0x1d3)]('div');_0x14dfec[_0x46dc6c(0x20c)]['add'](_0x46dc6c(0x20f),'hw','cw',_0x46dc6c(0x20b)),_0x44f38d[_0x46dc6c(0x1f9)](_0x14dfec);const _0x1ae14d=document[_0x46dc6c(0x1d3)]('div');_0x1ae14d[_0x46dc6c(0x20c)][_0x46dc6c(0x1d4)](_0x46dc6c(0x207),'bc'),_0x14dfec[_0x46dc6c(0x1f9)](_0x1ae14d),_0x1ae14d['onclick']=()=>{const _0x3913ae=_0x46dc6c;a0_0x1a7562[_0x3913ae(0x203)](_0x445a3a,_0x43e498);};const _0x536eb0=document['createElement'](_0x46dc6c(0x1e1));_0x536eb0[_0x46dc6c(0x20c)][_0x46dc6c(0x1d4)](_0x46dc6c(0x1f4),'bc'),_0x14dfec[_0x46dc6c(0x1f9)](_0x536eb0),_0x536eb0[_0x46dc6c(0x1e3)]=async()=>{const _0x2334c6=_0x46dc6c;if(window['confirm']('Delete\x20this\x20file?'+_0x43e498)){const _0x3aa673=_0x43e498[_0x2334c6(0x1f2)](/\....$/,'.gba');a0_0x1a7562[_0x2334c6(0x216)](_0x445a3a),localStorage[_0x2334c6(0x20a)](_0x3aa673+_0x2334c6(0x1f3)+_0x43e498['slice'](-0x1)),localStorage[_0x2334c6(0x20a)](_0x3aa673+_0x2334c6(0x202)+_0x43e498[_0x2334c6(0x20d)](-0x1)),localStorageFile(),_0x44f38d[_0x2334c6(0x1dd)](),_0x44f38d['remove'](),mgbaStorage['classList'][_0x2334c6(0x209)](_0x2334c6(0x1da));}};const _0x3e2d38=document['createElement']('div');_0x3e2d38[_0x46dc6c(0x20c)][_0x46dc6c(0x1d4)](_0x46dc6c(0x201),'bc'),_0x14dfec[_0x46dc6c(0x1f9)](_0x3e2d38),_0x3e2d38[_0x46dc6c(0x1e3)]=async()=>{const _0x1fcfd3=_0x46dc6c,_0x331dbd=window[_0x1fcfd3(0x204)](_0x1fcfd3(0x200),_0x43e498);_0x331dbd!==null&&(a0_0x1a7562[_0x1fcfd3(0x1d5)](_0x445a3a,_0x43e498,_0x331dbd),localStorageFile(),_0x44f38d[_0x1fcfd3(0x1dd)](),_0x44f38d[_0x1fcfd3(0x209)](),mgbaStorage[_0x1fcfd3(0x20c)][_0x1fcfd3(0x209)](_0x1fcfd3(0x1da)));},_0x44f38d[_0x46dc6c(0x1f8)]();};const _0x539d30=document['createElement'](_0x52551e(0x1e7));_0x539d30[_0x52551e(0x206)]=humanFileSize(a0_0x1a7562[_0x52551e(0x1e8)](_0x445a3a)),_0x539d30[_0x52551e(0x20c)][_0x52551e(0x1d4)](_0x52551e(0x205)),_0x32d54f[_0x52551e(0x1f9)](_0x539d30);}export function localStorageFile(){const _0x5c5a90=a0_0x47ec90,_0x154bb0=a0_0x1a7562[_0x5c5a90(0x1f5)]('games'),_0xb45af8=a0_0x1a7562[_0x5c5a90(0x1f5)]('saves'),_0x3aa54b=a0_0x1a7562[_0x5c5a90(0x1f5)](_0x5c5a90(0x1dc)),_0x49a0f4=a0_0x1a7562[_0x5c5a90(0x1f5)](_0x5c5a90(0x20e)),_0x1badbd=a0_0x1a7562[_0x5c5a90(0x1f5)]('screenshots'),_0x1d3a08=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xb1c43b of _0x1d3a08){while(_0xb1c43b[_0x5c5a90(0x1e2)]){_0xb1c43b[_0x5c5a90(0x1d9)][_0x5c5a90(0x209)]();}}for(const _0x5ca22 of _0x154bb0){createElementStorage(romsFile,_0x5ca22,_0x5c5a90(0x1d6)+_0x5ca22);}for(const _0x139d01 of _0x3aa54b){createElementStorage(statesFile,_0x139d01,_0x5c5a90(0x1e0)+_0x139d01);}for(const _0x33bfe6 of _0xb45af8){createElementStorage(savesFile,_0x33bfe6,'/data/saves/'+_0x33bfe6);}for(const _0x24c2f8 of _0x49a0f4){createElementStorage(cheatsFile,_0x24c2f8,_0x5c5a90(0x208)+_0x24c2f8);}for(const _0xc5a83 of _0x1badbd){createElementStorage(screenshotsFile,_0xc5a83,_0x5c5a90(0x1d7)+_0xc5a83);}}document[a0_0x47ec90(0x1f7)]('DOMContentLoaded',function(){const _0x5768f5=a0_0x47ec90;upLoadFile['addEventListener'](_0x5768f5(0x210),function(){const _0x1d0746=_0x5768f5;a0_0x1a7562[_0x1d0746(0x1eb)](upLoadFile);}),openLocalStorage[_0x5768f5(0x1f7)](_0x5768f5(0x1fc),function(){const _0x2c38b8=_0x5768f5,_0x2bbe49=localStorage['getItem'](_0x2c38b8(0x1e4));storage['classList'][_0x2c38b8(0x209)](_0x2c38b8(0x1fb)),intro[_0x2c38b8(0x20c)][_0x2c38b8(0x1d4)](_0x2c38b8(0x1fb)),ingame[_0x2c38b8(0x20c)]['add'](_0x2c38b8(0x1fb)),_0x2bbe49===null||_0x2bbe49===''?(dropboxRestore['classList'][_0x2c38b8(0x209)]('active'),dropboxBackup[_0x2c38b8(0x20c)][_0x2c38b8(0x209)](_0x2c38b8(0x1f6)),dropboxCloud['classList'][_0x2c38b8(0x209)](_0x2c38b8(0x1f6))):(dropboxRestore[_0x2c38b8(0x20c)][_0x2c38b8(0x1d4)]('active'),dropboxBackup[_0x2c38b8(0x20c)][_0x2c38b8(0x1d4)]('active'),dropboxCloud[_0x2c38b8(0x20c)][_0x2c38b8(0x1d4)](_0x2c38b8(0x1f6)));}),setTimeout(()=>{localStorageFile();},0xbb8);});