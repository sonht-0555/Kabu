function a0_0x2868(_0x4ef6e3,_0x299ef0){const _0x19cc55=a0_0x19cc();return a0_0x2868=function(_0x2868a3,_0x412256){_0x2868a3=_0x2868a3-0x165;let _0x501497=_0x19cc55[_0x2868a3];return _0x501497;},a0_0x2868(_0x4ef6e3,_0x299ef0);}const a0_0x527ab5=a0_0x2868;(function(_0xcfab88,_0x43981d){const _0x54a562=a0_0x2868,_0x2d0cc1=_0xcfab88();while(!![]){try{const _0x14798a=-parseInt(_0x54a562(0x189))/0x1+-parseInt(_0x54a562(0x165))/0x2+parseInt(_0x54a562(0x16e))/0x3*(-parseInt(_0x54a562(0x174))/0x4)+parseInt(_0x54a562(0x19a))/0x5+parseInt(_0x54a562(0x191))/0x6*(parseInt(_0x54a562(0x1a0))/0x7)+-parseInt(_0x54a562(0x1a2))/0x8+-parseInt(_0x54a562(0x196))/0x9;if(_0x14798a===_0x43981d)break;else _0x2d0cc1['push'](_0x2d0cc1['shift']());}catch(_0x18bd4a){_0x2d0cc1['push'](_0x2d0cc1['shift']());}}}(a0_0x19cc,0x491f6));import*as a0_0x296aa5 from'./main.js';function a0_0x19cc(){const _0x172e35=['states','close','dialog','onclick','/data/cheats/','.gba','screenshots','change','confirm','TiB','statesFile','619436OyGXXf','lastChild','uId','div','classList','_dateState','EiB','prompt','/data/screenshots/','9yqUcBM','deleteFile','rename','showModal','removeItem','textContent','4132XiLzog','getElementById','home','uploadFile','actionDiv','slice','active','mib','KiB','download','createElement','gap-10','rom-item','DOMContentLoaded','abs','romsFile','addEventListener','toFixed','PiB','MiB','length','24243zsYnoY','editFile','delete','saves','Delete\x20this\x20file?','opacity0','firstChild','listFiles','3369798QwiEuk','onclose','right','GiB','span','4119408hHTfkM','screenshotsFile','getItem','flex-1','2698475PlkPxC','rom','games','add','mgba-storage','click','7JUdOqr','appendChild','56368gysWxe','remove','/data/states/'];a0_0x19cc=function(){return _0x172e35;};return a0_0x19cc();}const mgbaStorage=document[a0_0x527ab5(0x175)](a0_0x527ab5(0x19e)),savesFile=document[a0_0x527ab5(0x175)]('savesFile'),romsFile=document[a0_0x527ab5(0x175)](a0_0x527ab5(0x183)),statesFile=document['getElementById'](a0_0x527ab5(0x1af)),screenshotsFile=document[a0_0x527ab5(0x175)](a0_0x527ab5(0x197));function humanFileSize(_0x4a4533,_0x163fbd=![],_0x45a9ac=0x1){const _0x3f561f=a0_0x527ab5,_0x288ffe=_0x163fbd?0x3e8:0x400,_0x5dd7bb=_0x163fbd?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x3f561f(0x17c),_0x3f561f(0x187),_0x3f561f(0x194),_0x3f561f(0x1ae),_0x3f561f(0x186),_0x3f561f(0x16b),'ZiB','YiB'];let _0x2a59f2=-0x1;do{_0x4a4533/=_0x288ffe,++_0x2a59f2;}while(Math[_0x3f561f(0x182)](_0x4a4533)>=_0x288ffe&&_0x2a59f2<_0x5dd7bb[_0x3f561f(0x188)]-0x1);return _0x4a4533[_0x3f561f(0x185)](_0x45a9ac)+'\x20'+_0x5dd7bb[_0x2a59f2];}function createElementStorage(_0x3f491f,_0x5f3c01,_0x36b7c6){const _0x13fc3d=a0_0x527ab5,_0x29bfbb=document[_0x13fc3d(0x17e)]('div');_0x29bfbb[_0x13fc3d(0x169)]['add'](_0x13fc3d(0x199),_0x13fc3d(0x180),_0x13fc3d(0x19b)),_0x3f491f['appendChild'](_0x29bfbb);const _0x5b5032=document[_0x13fc3d(0x17e)](_0x13fc3d(0x195));_0x5b5032['textContent']=_0x5f3c01,_0x5b5032[_0x13fc3d(0x169)]['add']('flex-1'),_0x29bfbb[_0x13fc3d(0x1a1)](_0x5b5032),_0x5b5032[_0x13fc3d(0x1a8)]=()=>{const _0x11ac7b=_0x13fc3d,_0x4ed6d3=document['createElement'](_0x11ac7b(0x1a7));_0x4ed6d3[_0x11ac7b(0x192)]=()=>_0x4ed6d3[_0x11ac7b(0x1a3)](),_0x3f491f['appendChild'](_0x4ed6d3);const _0x843dc8=document[_0x11ac7b(0x17e)](_0x11ac7b(0x168));_0x843dc8[_0x11ac7b(0x169)]['add']('storage',_0x11ac7b(0x193),_0x11ac7b(0x17f)),_0x4ed6d3[_0x11ac7b(0x1a1)](_0x843dc8);const _0x1b1691=document['createElement']('div');_0x1b1691['classList'][_0x11ac7b(0x19d)](_0x11ac7b(0x176),'bc',_0x11ac7b(0x199)),_0x843dc8[_0x11ac7b(0x1a1)](_0x1b1691);const _0x38d3bf=document['createElement'](_0x11ac7b(0x168));_0x38d3bf[_0x11ac7b(0x169)]['add']('flex-1'),_0x843dc8[_0x11ac7b(0x1a1)](_0x38d3bf);const _0xfd096c=document[_0x11ac7b(0x17e)](_0x11ac7b(0x168));_0xfd096c['classList']['add']('flex-1'),_0x843dc8['appendChild'](_0xfd096c);const _0x133e25=document[_0x11ac7b(0x17e)](_0x11ac7b(0x168));_0x133e25[_0x11ac7b(0x169)]['add'](_0x11ac7b(0x199)),_0x843dc8[_0x11ac7b(0x1a1)](_0x133e25),mgbaStorage[_0x11ac7b(0x169)][_0x11ac7b(0x19d)](_0x11ac7b(0x18e)),_0x1b1691[_0x11ac7b(0x1a8)]=()=>{const _0x5a272e=_0x11ac7b;_0x4ed6d3[_0x5a272e(0x1a6)](),_0x4ed6d3[_0x5a272e(0x1a3)](),mgbaStorage[_0x5a272e(0x169)][_0x5a272e(0x1a3)]('opacity0');};const _0x2d7af2=document[_0x11ac7b(0x17e)](_0x11ac7b(0x168));_0x2d7af2[_0x11ac7b(0x169)]['add'](_0x11ac7b(0x199),_0x11ac7b(0x180),'hw','cw'),_0x2d7af2[_0x11ac7b(0x173)]=_0x5f3c01,_0x4ed6d3['appendChild'](_0x2d7af2);const _0x385977=document['createElement']('div');_0x385977[_0x11ac7b(0x169)][_0x11ac7b(0x19d)](_0x11ac7b(0x178),'hw','cw','gap-16'),_0x4ed6d3[_0x11ac7b(0x1a1)](_0x385977);const _0x93fd5a=document[_0x11ac7b(0x17e)](_0x11ac7b(0x168));_0x93fd5a[_0x11ac7b(0x169)][_0x11ac7b(0x19d)](_0x11ac7b(0x17d),'bc'),_0x385977[_0x11ac7b(0x1a1)](_0x93fd5a),_0x93fd5a[_0x11ac7b(0x1a8)]=()=>{a0_0x296aa5['downloadFile'](_0x36b7c6,_0x5f3c01);};const _0xf76990=document[_0x11ac7b(0x17e)](_0x11ac7b(0x168));_0xf76990[_0x11ac7b(0x169)]['add'](_0x11ac7b(0x18b),'bc'),_0x385977[_0x11ac7b(0x1a1)](_0xf76990),_0xf76990[_0x11ac7b(0x1a8)]=async()=>{const _0x3f72ef=_0x11ac7b;if(window[_0x3f72ef(0x1ad)](_0x3f72ef(0x18d)+_0x5f3c01)){const _0x312006=_0x5f3c01['replace'](/\....$/,_0x3f72ef(0x1aa));a0_0x296aa5[_0x3f72ef(0x16f)](_0x36b7c6),localStorage[_0x3f72ef(0x172)](_0x312006+_0x3f72ef(0x16a)+_0x5f3c01['slice'](-0x1)),localStorage[_0x3f72ef(0x172)](_0x312006+'_imageState'+_0x5f3c01[_0x3f72ef(0x179)](-0x1)),localStorageFile(),_0x4ed6d3['close'](),_0x4ed6d3['remove'](),mgbaStorage['classList'][_0x3f72ef(0x1a3)](_0x3f72ef(0x18e));}};const _0x1ab027=document[_0x11ac7b(0x17e)](_0x11ac7b(0x168));_0x1ab027['classList'][_0x11ac7b(0x19d)](_0x11ac7b(0x170),'bc'),_0x385977[_0x11ac7b(0x1a1)](_0x1ab027),_0x1ab027[_0x11ac7b(0x1a8)]=async()=>{const _0x338daf=_0x11ac7b,_0x2cc490=window[_0x338daf(0x16c)]('Edit\x20filename',_0x5f3c01);_0x2cc490!==null&&(a0_0x296aa5[_0x338daf(0x18a)](_0x36b7c6,_0x5f3c01,_0x2cc490),localStorageFile(),_0x4ed6d3['close'](),_0x4ed6d3[_0x338daf(0x1a3)](),mgbaStorage['classList'][_0x338daf(0x1a3)]('opacity0'));},_0x4ed6d3[_0x11ac7b(0x171)]();};const _0x581dfc=document[_0x13fc3d(0x17e)](_0x13fc3d(0x195));_0x581dfc[_0x13fc3d(0x173)]=humanFileSize(a0_0x296aa5['fileSize'](_0x36b7c6)),_0x581dfc['classList'][_0x13fc3d(0x19d)](_0x13fc3d(0x17b)),_0x29bfbb['appendChild'](_0x581dfc);}export function localStorageFile(){const _0xad51d5=a0_0x527ab5,_0x1efaf3=a0_0x296aa5['listFiles'](_0xad51d5(0x19c)),_0x2a8b82=a0_0x296aa5[_0xad51d5(0x190)](_0xad51d5(0x18c)),_0x310209=a0_0x296aa5[_0xad51d5(0x190)](_0xad51d5(0x1a5)),_0xc88465=a0_0x296aa5[_0xad51d5(0x190)]('cheats'),_0x45b4ee=a0_0x296aa5[_0xad51d5(0x190)](_0xad51d5(0x1ab)),_0x36c9b8=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x59beee of _0x36c9b8){while(_0x59beee[_0xad51d5(0x18f)]){_0x59beee[_0xad51d5(0x166)][_0xad51d5(0x1a3)]();}}for(const _0x1effb8 of _0x1efaf3){createElementStorage(romsFile,_0x1effb8,'/data/games/'+_0x1effb8);}for(const _0xaef5 of _0x310209){createElementStorage(statesFile,_0xaef5,_0xad51d5(0x1a4)+_0xaef5);}for(const _0x37f6de of _0x2a8b82){createElementStorage(savesFile,_0x37f6de,'/data/saves/'+_0x37f6de);}for(const _0x162048 of _0xc88465){createElementStorage(cheatsFile,_0x162048,_0xad51d5(0x1a9)+_0x162048);}for(const _0x739216 of _0x45b4ee){createElementStorage(screenshotsFile,_0x739216,_0xad51d5(0x16d)+_0x739216);}}document['addEventListener'](a0_0x527ab5(0x181),function(){const _0x42f857=a0_0x527ab5;upLoadFile[_0x42f857(0x184)](_0x42f857(0x1ac),function(){const _0x35b05f=_0x42f857;a0_0x296aa5[_0x35b05f(0x177)](upLoadFile);}),openLocalStorage[_0x42f857(0x184)](_0x42f857(0x19f),function(){const _0x2ae2f6=_0x42f857,_0x4d39c3=localStorage[_0x2ae2f6(0x198)](_0x2ae2f6(0x167));storage[_0x2ae2f6(0x169)]['remove']('disable'),intro['classList'][_0x2ae2f6(0x19d)]('disable'),ingame['classList'][_0x2ae2f6(0x19d)]('disable'),_0x4d39c3===null||_0x4d39c3===''?(dropboxRestore[_0x2ae2f6(0x169)][_0x2ae2f6(0x1a3)]('active'),dropboxBackup[_0x2ae2f6(0x169)]['remove'](_0x2ae2f6(0x17a)),dropboxCloud[_0x2ae2f6(0x169)][_0x2ae2f6(0x1a3)](_0x2ae2f6(0x17a))):(dropboxRestore['classList'][_0x2ae2f6(0x19d)](_0x2ae2f6(0x17a)),dropboxBackup[_0x2ae2f6(0x169)][_0x2ae2f6(0x19d)]('active'),dropboxCloud['classList']['add'](_0x2ae2f6(0x17a)));}),setTimeout(()=>{localStorageFile();},0xbb8);});