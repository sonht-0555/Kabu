const a0_0x381c22=a0_0x3736;function a0_0x3736(_0x4116e9,_0x1b2457){const _0x4433fd=a0_0x4433();return a0_0x3736=function(_0x37365a,_0x2c5d48){_0x37365a=_0x37365a-0xc2;let _0x34dbda=_0x4433fd[_0x37365a];return _0x34dbda;},a0_0x3736(_0x4116e9,_0x1b2457);}(function(_0x2f7ca8,_0x3faf68){const _0x37efc5=a0_0x3736,_0x491858=_0x2f7ca8();while(!![]){try{const _0x2c9e50=parseInt(_0x37efc5(0xf4))/0x1*(-parseInt(_0x37efc5(0x10e))/0x2)+parseInt(_0x37efc5(0x107))/0x3*(parseInt(_0x37efc5(0x10a))/0x4)+parseInt(_0x37efc5(0xd1))/0x5*(-parseInt(_0x37efc5(0xc8))/0x6)+-parseInt(_0x37efc5(0x10b))/0x7+-parseInt(_0x37efc5(0xf8))/0x8*(parseInt(_0x37efc5(0xe0))/0x9)+-parseInt(_0x37efc5(0xe3))/0xa*(-parseInt(_0x37efc5(0xf3))/0xb)+-parseInt(_0x37efc5(0xd6))/0xc*(-parseInt(_0x37efc5(0xce))/0xd);if(_0x2c9e50===_0x3faf68)break;else _0x491858['push'](_0x491858['shift']());}catch(_0x5c06b0){_0x491858['push'](_0x491858['shift']());}}}(a0_0x4433,0xadf7c));import*as a0_0x49e259 from'./main.js';const mgbaStorage=document[a0_0x381c22(0xff)](a0_0x381c22(0xe5)),savesFile=document[a0_0x381c22(0xff)](a0_0x381c22(0x102)),romsFile=document['getElementById'](a0_0x381c22(0x111)),statesFile=document['getElementById'](a0_0x381c22(0x108)),screenshotsFile=document[a0_0x381c22(0xff)](a0_0x381c22(0xc7));function humanFileSize(_0x4020e8,_0x183910=![],_0x1fe968=0x1){const _0x182e19=a0_0x381c22,_0x5da0bb=_0x183910?0x3e8:0x400,_0x277fc1=_0x183910?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x182e19(0x10f),_0x182e19(0xc4),_0x182e19(0xf1),'PiB','EiB','ZiB',_0x182e19(0x103)];let _0x217180=-0x1;do{_0x4020e8/=_0x5da0bb,++_0x217180;}while(Math[_0x182e19(0xf2)](_0x4020e8)>=_0x5da0bb&&_0x217180<_0x277fc1[_0x182e19(0xc9)]-0x1);return _0x4020e8[_0x182e19(0xc3)](_0x1fe968)+'\x20'+_0x277fc1[_0x217180];}function createElementStorage(_0x1151fc,_0x5c5640,_0x39bf09){const _0x16eb22=a0_0x381c22,_0x339abf=document['createElement']('div');_0x339abf[_0x16eb22(0xe2)][_0x16eb22(0xd7)](_0x16eb22(0x109),_0x16eb22(0xec),_0x16eb22(0x110)),_0x1151fc['appendChild'](_0x339abf);const _0x4bcc88=document[_0x16eb22(0xd8)](_0x16eb22(0xcf));_0x4bcc88[_0x16eb22(0xee)]=_0x5c5640,_0x4bcc88[_0x16eb22(0xe2)][_0x16eb22(0xd7)](_0x16eb22(0x109)),_0x339abf[_0x16eb22(0xd9)](_0x4bcc88),_0x4bcc88['onclick']=()=>{const _0x1ffadc=_0x16eb22,_0xde18a0=document['createElement'](_0x1ffadc(0x105));_0xde18a0[_0x1ffadc(0xc2)]=()=>_0xde18a0[_0x1ffadc(0xed)](),_0x1151fc[_0x1ffadc(0xd9)](_0xde18a0);const _0x25be24=document['createElement'](_0x1ffadc(0xca));_0x25be24[_0x1ffadc(0xe2)][_0x1ffadc(0xd7)](_0x1ffadc(0xd4),_0x1ffadc(0xf9),_0x1ffadc(0xc6)),_0xde18a0[_0x1ffadc(0xd9)](_0x25be24);const _0x24f53a=document[_0x1ffadc(0xd8)](_0x1ffadc(0xca));_0x24f53a[_0x1ffadc(0xe2)][_0x1ffadc(0xd7)](_0x1ffadc(0xfd),'bc',_0x1ffadc(0x109)),_0x25be24[_0x1ffadc(0xd9)](_0x24f53a);const _0x22998e=document[_0x1ffadc(0xd8)](_0x1ffadc(0xca));_0x22998e['classList'][_0x1ffadc(0xd7)](_0x1ffadc(0x109)),_0x25be24[_0x1ffadc(0xd9)](_0x22998e);const _0x40c874=document[_0x1ffadc(0xd8)](_0x1ffadc(0xca));_0x40c874[_0x1ffadc(0xe2)][_0x1ffadc(0xd7)]('flex-1'),_0x25be24['appendChild'](_0x40c874);const _0x4bdc78=document[_0x1ffadc(0xd8)](_0x1ffadc(0xca));_0x4bdc78[_0x1ffadc(0xe2)]['add'](_0x1ffadc(0x109)),_0x25be24[_0x1ffadc(0xd9)](_0x4bdc78),mgbaStorage[_0x1ffadc(0xe2)][_0x1ffadc(0xd7)](_0x1ffadc(0x10c)),_0x24f53a[_0x1ffadc(0xda)]=()=>{const _0x1fa467=_0x1ffadc;_0xde18a0[_0x1fa467(0xcd)](),_0xde18a0['remove'](),mgbaStorage['classList'][_0x1fa467(0xed)]('opacity0');};const _0x42df17=document[_0x1ffadc(0xd8)](_0x1ffadc(0xca));_0x42df17[_0x1ffadc(0xe2)]['add'](_0x1ffadc(0x109),_0x1ffadc(0xec),'hw','cw'),_0x42df17[_0x1ffadc(0xee)]=_0x5c5640,_0xde18a0['appendChild'](_0x42df17);const _0x5f29b7=document[_0x1ffadc(0xd8)]('div');_0x5f29b7['classList'][_0x1ffadc(0xd7)](_0x1ffadc(0xd2),'hw','cw','gap-16'),_0xde18a0[_0x1ffadc(0xd9)](_0x5f29b7);const _0x3774ef=document[_0x1ffadc(0xd8)](_0x1ffadc(0xca));_0x3774ef['classList'][_0x1ffadc(0xd7)]('download','bc'),_0x5f29b7[_0x1ffadc(0xd9)](_0x3774ef),_0x3774ef['onclick']=()=>{const _0x28196d=_0x1ffadc;a0_0x49e259[_0x28196d(0x106)](_0x39bf09,_0x5c5640);};const _0x39f336=document[_0x1ffadc(0xd8)](_0x1ffadc(0xca));_0x39f336[_0x1ffadc(0xe2)][_0x1ffadc(0xd7)](_0x1ffadc(0xc5),'bc'),_0x5f29b7[_0x1ffadc(0xd9)](_0x39f336),_0x39f336[_0x1ffadc(0xda)]=async()=>{const _0x4c7513=_0x1ffadc;if(window[_0x4c7513(0x101)](_0x4c7513(0xe8)+_0x5c5640)){const _0xbfd1e6=_0x5c5640[_0x4c7513(0xdf)](/\....$/,_0x4c7513(0x10d));a0_0x49e259['deleteFile'](_0x39bf09),localStorage['removeItem'](_0xbfd1e6+_0x4c7513(0xf7)+_0x5c5640[_0x4c7513(0xf6)](-0x1)),localStorage[_0x4c7513(0xe4)](_0xbfd1e6+'_imageState'+_0x5c5640[_0x4c7513(0xf6)](-0x1)),localStorageFile(),_0xde18a0[_0x4c7513(0xcd)](),_0xde18a0[_0x4c7513(0xed)](),mgbaStorage[_0x4c7513(0xe2)][_0x4c7513(0xed)](_0x4c7513(0x10c));}};const _0x1f2c94=document[_0x1ffadc(0xd8)](_0x1ffadc(0xca));_0x1f2c94['classList']['add'](_0x1ffadc(0xdc),'bc'),_0x5f29b7[_0x1ffadc(0xd9)](_0x1f2c94),_0x1f2c94[_0x1ffadc(0xda)]=async()=>{const _0x17eebe=_0x1ffadc,_0x561ad5=window['prompt'](_0x17eebe(0xe9),_0x5c5640);_0x561ad5!==null&&(a0_0x49e259['editFile'](_0x39bf09,_0x5c5640,_0x561ad5),localStorageFile(),_0xde18a0[_0x17eebe(0xcd)](),_0xde18a0[_0x17eebe(0xed)](),mgbaStorage[_0x17eebe(0xe2)][_0x17eebe(0xed)](_0x17eebe(0x10c)));},_0xde18a0[_0x1ffadc(0xe1)]();};const _0x5ae907=document[_0x16eb22(0xd8)](_0x16eb22(0xcf));_0x5ae907[_0x16eb22(0xee)]=humanFileSize(a0_0x49e259[_0x16eb22(0xcb)](_0x39bf09)),_0x5ae907[_0x16eb22(0xe2)]['add'](_0x16eb22(0xdb)),_0x339abf[_0x16eb22(0xd9)](_0x5ae907);}export function localStorageFile(){const _0x23e3fb=a0_0x381c22,_0x393677=a0_0x49e259[_0x23e3fb(0xe6)](_0x23e3fb(0xeb)),_0x58568e=a0_0x49e259['listFiles'](_0x23e3fb(0xfb)),_0x428163=a0_0x49e259[_0x23e3fb(0xe6)]('states'),_0x1ee3e2=a0_0x49e259[_0x23e3fb(0xe6)](_0x23e3fb(0x100)),_0x159b84=a0_0x49e259[_0x23e3fb(0xe6)](_0x23e3fb(0xd0)),_0x5edebd=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5e565b of _0x5edebd){while(_0x5e565b[_0x23e3fb(0xdd)]){_0x5e565b[_0x23e3fb(0x104)][_0x23e3fb(0xed)]();}}for(const _0x3c155c of _0x393677){createElementStorage(romsFile,_0x3c155c,_0x23e3fb(0xd3)+_0x3c155c);}for(const _0x10b64c of _0x428163){createElementStorage(statesFile,_0x10b64c,_0x23e3fb(0xef)+_0x10b64c);}for(const _0x4a05b6 of _0x58568e){createElementStorage(savesFile,_0x4a05b6,_0x23e3fb(0xfe)+_0x4a05b6);}for(const _0x417edd of _0x1ee3e2){createElementStorage(cheatsFile,_0x417edd,_0x23e3fb(0xea)+_0x417edd);}for(const _0x527336 of _0x159b84){createElementStorage(screenshotsFile,_0x527336,'/data/screenshots/'+_0x527336);}}function a0_0x4433(){const _0xb41f51=['460kqmgQo','removeItem','mgba-storage','listFiles','active','Delete\x20this\x20file?','Edit\x20filename','/data/cheats/','games','rom-item','remove','textContent','/data/states/','addEventListener','TiB','abs','302401vIbaSU','2677ZsSdbs','click','slice','_dateState','28872PHaWNf','right','uId','saves','DOMContentLoaded','home','/data/saves/','getElementById','cheats','confirm','savesFile','YiB','lastChild','dialog','downloadFile','690pqfxyx','statesFile','flex-1','3552UsKgEG','26005jCkexr','opacity0','.gba','766lBiCFO','MiB','rom','romsFile','onclose','toFixed','GiB','delete','gap-10','screenshotsFile','276LmMhZe','length','div','fileSize','disable','close','13AaljXv','span','screenshots','16040geScwx','actionDiv','/data/games/','storage','change','12449508BIQcvv','add','createElement','appendChild','onclick','mib','rename','firstChild','uploadFile','replace','1539LHNhot','showModal','classList'];a0_0x4433=function(){return _0xb41f51;};return a0_0x4433();}document['addEventListener'](a0_0x381c22(0xfc),function(){const _0x406314=a0_0x381c22;upLoadFile[_0x406314(0xf0)](_0x406314(0xd5),function(){const _0x4c6b86=_0x406314;a0_0x49e259[_0x4c6b86(0xde)](upLoadFile);}),openLocalStorage[_0x406314(0xf0)](_0x406314(0xf5),function(){const _0x58aef8=_0x406314,_0x2cb2f6=localStorage['getItem'](_0x58aef8(0xfa));storage[_0x58aef8(0xe2)]['remove'](_0x58aef8(0xcc)),intro['classList'][_0x58aef8(0xd7)](_0x58aef8(0xcc)),ingame[_0x58aef8(0xe2)][_0x58aef8(0xd7)](_0x58aef8(0xcc)),_0x2cb2f6===null||_0x2cb2f6===''?(dropboxRestore[_0x58aef8(0xe2)][_0x58aef8(0xed)](_0x58aef8(0xe7)),dropboxBackup[_0x58aef8(0xe2)]['remove'](_0x58aef8(0xe7)),dropboxCloud[_0x58aef8(0xe2)][_0x58aef8(0xed)](_0x58aef8(0xe7))):(dropboxRestore[_0x58aef8(0xe2)][_0x58aef8(0xd7)](_0x58aef8(0xe7)),dropboxBackup[_0x58aef8(0xe2)][_0x58aef8(0xd7)]('active'),dropboxCloud[_0x58aef8(0xe2)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});