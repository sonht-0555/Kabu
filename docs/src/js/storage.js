const a0_0x2f839d=a0_0x57ba;(function(_0x490baa,_0x37afe7){const _0x437e69=a0_0x57ba,_0x464046=_0x490baa();while(!![]){try{const _0xb41c63=-parseInt(_0x437e69(0x15c))/0x1*(-parseInt(_0x437e69(0x189))/0x2)+-parseInt(_0x437e69(0x185))/0x3*(-parseInt(_0x437e69(0x16e))/0x4)+parseInt(_0x437e69(0x16f))/0x5*(-parseInt(_0x437e69(0x162))/0x6)+parseInt(_0x437e69(0x14b))/0x7+-parseInt(_0x437e69(0x14a))/0x8+parseInt(_0x437e69(0x152))/0x9+-parseInt(_0x437e69(0x15e))/0xa;if(_0xb41c63===_0x37afe7)break;else _0x464046['push'](_0x464046['shift']());}catch(_0x411519){_0x464046['push'](_0x464046['shift']());}}}(a0_0x47e9,0x8d6d3));function a0_0x57ba(_0x1d4ba1,_0x4fb759){const _0x47e97d=a0_0x47e9();return a0_0x57ba=function(_0x57ba59,_0x5cd684){_0x57ba59=_0x57ba59-0x146;let _0x1519e3=_0x47e97d[_0x57ba59];return _0x1519e3;},a0_0x57ba(_0x1d4ba1,_0x4fb759);}import*as a0_0xec4df6 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x2f839d(0x184)),savesFile=document[a0_0x2f839d(0x172)](a0_0x2f839d(0x160)),romsFile=document[a0_0x2f839d(0x172)](a0_0x2f839d(0x171)),statesFile=document[a0_0x2f839d(0x172)](a0_0x2f839d(0x182)),screenshotsFile=document['getElementById'](a0_0x2f839d(0x187));function humanFileSize(_0x2aa06d,_0x1a5217=![],_0x3573f6=0x1){const _0x5f2afc=a0_0x2f839d,_0x1d85dd=_0x1a5217?0x3e8:0x400,_0x19bc52=_0x1a5217?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5f2afc(0x188),_0x5f2afc(0x183),'GiB','TiB',_0x5f2afc(0x18a),_0x5f2afc(0x178),_0x5f2afc(0x177),_0x5f2afc(0x17b)];let _0x49ed4=-0x1;do{_0x2aa06d/=_0x1d85dd,++_0x49ed4;}while(Math['abs'](_0x2aa06d)>=_0x1d85dd&&_0x49ed4<_0x19bc52['length']-0x1);return _0x2aa06d['toFixed'](_0x3573f6)+'\x20'+_0x19bc52[_0x49ed4];}function createElementStorage(_0x341bd1,_0x1bdff9,_0x1e33c5){const _0x3f7760=a0_0x2f839d,_0x237ec5=document[_0x3f7760(0x168)](_0x3f7760(0x166));_0x237ec5[_0x3f7760(0x16b)][_0x3f7760(0x158)](_0x3f7760(0x155),_0x3f7760(0x151),_0x3f7760(0x157)),_0x341bd1[_0x3f7760(0x146)](_0x237ec5);const _0x3e7659=document[_0x3f7760(0x168)](_0x3f7760(0x17e));_0x3e7659[_0x3f7760(0x167)]=_0x1bdff9,_0x3e7659[_0x3f7760(0x16b)]['add'](_0x3f7760(0x155)),_0x237ec5[_0x3f7760(0x146)](_0x3e7659),_0x3e7659[_0x3f7760(0x17f)]=()=>{const _0x745d6e=_0x3f7760,_0xa09671=document[_0x745d6e(0x168)]('dialog');_0xa09671['onclose']=()=>_0xa09671[_0x745d6e(0x176)](),_0x341bd1[_0x745d6e(0x146)](_0xa09671);const _0x4389b0=document['createElement'](_0x745d6e(0x166));_0x4389b0[_0x745d6e(0x16b)]['add'](_0x745d6e(0x15a),_0x745d6e(0x153),_0x745d6e(0x180)),_0xa09671[_0x745d6e(0x146)](_0x4389b0);const _0x1d1082=document[_0x745d6e(0x168)](_0x745d6e(0x166));_0x1d1082[_0x745d6e(0x16b)][_0x745d6e(0x158)](_0x745d6e(0x14e),'bc',_0x745d6e(0x155)),_0x4389b0['appendChild'](_0x1d1082);const _0x5f084f=document[_0x745d6e(0x168)](_0x745d6e(0x166));_0x5f084f[_0x745d6e(0x16b)]['add'](_0x745d6e(0x155)),_0x4389b0[_0x745d6e(0x146)](_0x5f084f);const _0x4d0089=document[_0x745d6e(0x168)]('div');_0x4d0089[_0x745d6e(0x16b)][_0x745d6e(0x158)]('flex-1'),_0x4389b0['appendChild'](_0x4d0089);const _0x2aab13=document[_0x745d6e(0x168)](_0x745d6e(0x166));_0x2aab13[_0x745d6e(0x16b)][_0x745d6e(0x158)](_0x745d6e(0x155)),_0x4389b0['appendChild'](_0x2aab13),mgbaStorage['classList'][_0x745d6e(0x158)](_0x745d6e(0x164)),_0x1d1082[_0x745d6e(0x17f)]=()=>{const _0x38f498=_0x745d6e;_0xa09671[_0x38f498(0x14d)](),_0xa09671[_0x38f498(0x176)](),mgbaStorage['classList']['remove'](_0x38f498(0x164));};const _0xc4542a=document['createElement'](_0x745d6e(0x166));_0xc4542a['classList'][_0x745d6e(0x158)](_0x745d6e(0x155),_0x745d6e(0x151),'hw','cw'),_0xc4542a[_0x745d6e(0x167)]=_0x1bdff9,_0xa09671[_0x745d6e(0x146)](_0xc4542a);const _0x6ca7e=document[_0x745d6e(0x168)](_0x745d6e(0x166));_0x6ca7e[_0x745d6e(0x16b)][_0x745d6e(0x158)](_0x745d6e(0x15d),'hw','cw',_0x745d6e(0x181)),_0xa09671[_0x745d6e(0x146)](_0x6ca7e);const _0x2bc6d7=document[_0x745d6e(0x168)](_0x745d6e(0x166));_0x2bc6d7['classList'][_0x745d6e(0x158)](_0x745d6e(0x170),'bc'),_0x6ca7e[_0x745d6e(0x146)](_0x2bc6d7),_0x2bc6d7['onclick']=()=>{a0_0xec4df6['downloadFile'](_0x1e33c5,_0x1bdff9);};const _0x2445ac=document[_0x745d6e(0x168)](_0x745d6e(0x166));_0x2445ac[_0x745d6e(0x16b)][_0x745d6e(0x158)]('delete','bc'),_0x6ca7e['appendChild'](_0x2445ac),_0x2445ac['onclick']=async()=>{const _0x51a440=_0x745d6e;if(window['confirm'](_0x51a440(0x169)+_0x1bdff9)){const _0x51cd8f=_0x1bdff9[_0x51a440(0x147)](/\....$/,'.gba');a0_0xec4df6[_0x51a440(0x174)](_0x1e33c5),localStorage[_0x51a440(0x163)](_0x51cd8f+'_dateState'+_0x1bdff9['slice'](-0x1)),localStorage[_0x51a440(0x163)](_0x51cd8f+_0x51a440(0x17c)+_0x1bdff9[_0x51a440(0x175)](-0x1)),localStorageFile(),_0xa09671[_0x51a440(0x14d)](),_0xa09671['remove'](),mgbaStorage[_0x51a440(0x16b)][_0x51a440(0x176)](_0x51a440(0x164));}};const _0x37007e=document[_0x745d6e(0x168)](_0x745d6e(0x166));_0x37007e['classList'][_0x745d6e(0x158)]('rename','bc'),_0x6ca7e[_0x745d6e(0x146)](_0x37007e),_0x37007e[_0x745d6e(0x17f)]=async()=>{const _0x182286=_0x745d6e,_0x13cf1b=window['prompt'](_0x182286(0x14f),_0x1bdff9);_0x13cf1b!==null&&(a0_0xec4df6[_0x182286(0x17a)](_0x1e33c5,_0x1bdff9,_0x13cf1b),localStorageFile(),_0xa09671[_0x182286(0x14d)](),_0xa09671[_0x182286(0x176)](),mgbaStorage['classList'][_0x182286(0x176)](_0x182286(0x164)));},_0xa09671['showModal']();};const _0x26fb40=document[_0x3f7760(0x168)]('span');_0x26fb40[_0x3f7760(0x167)]=humanFileSize(a0_0xec4df6['fileSize'](_0x1e33c5)),_0x26fb40[_0x3f7760(0x16b)]['add'](_0x3f7760(0x165)),_0x237ec5[_0x3f7760(0x146)](_0x26fb40);}export function localStorageFile(){const _0x94c866=a0_0x2f839d,_0x187e69=a0_0xec4df6[_0x94c866(0x154)](_0x94c866(0x16c)),_0x27c131=a0_0xec4df6[_0x94c866(0x154)](_0x94c866(0x16d)),_0x1c4860=a0_0xec4df6['listFiles'](_0x94c866(0x17d)),_0x5436c3=a0_0xec4df6['listFiles']('cheats'),_0x360e08=a0_0xec4df6[_0x94c866(0x154)]('screenshots'),_0xe59e24=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x38af36 of _0xe59e24){while(_0x38af36['firstChild']){_0x38af36[_0x94c866(0x16a)]['remove']();}}for(const _0x56dd80 of _0x187e69){createElementStorage(romsFile,_0x56dd80,_0x94c866(0x179)+_0x56dd80);}for(const _0x300af0 of _0x1c4860){createElementStorage(statesFile,_0x300af0,_0x94c866(0x149)+_0x300af0);}for(const _0x263a9f of _0x27c131){createElementStorage(savesFile,_0x263a9f,_0x94c866(0x156)+_0x263a9f);}for(const _0x53dc08 of _0x5436c3){createElementStorage(cheatsFile,_0x53dc08,_0x94c866(0x150)+_0x53dc08);}for(const _0x43a690 of _0x360e08){createElementStorage(screenshotsFile,_0x43a690,'/data/screenshots/'+_0x43a690);}}function a0_0x47e9(){const _0x49cdc1=['40AazPuo','5txQheO','download','romsFile','getElementById','addEventListener','deleteFile','slice','remove','ZiB','EiB','/data/games/','editFile','YiB','_imageState','states','span','onclick','gap-10','gap-16','statesFile','MiB','mgba-storage','123243IeInRi','disable','screenshotsFile','KiB','1066tfCZtb','PiB','appendChild','replace','DOMContentLoaded','/data/states/','805856HRzHyZ','4169662fCrKVP','change','close','home','Edit\x20filename','/data/cheats/','rom-item','6897843JGnKwF','right','listFiles','flex-1','/data/saves/','rom','add','click','storage','uploadFile','1773XBocgE','actionDiv','8985040Zkvcrp','active','savesFile','uId','6836358rXeGPB','removeItem','opacity0','mib','div','textContent','createElement','Delete\x20this\x20file?','lastChild','classList','games','saves'];a0_0x47e9=function(){return _0x49cdc1;};return a0_0x47e9();}document['addEventListener'](a0_0x2f839d(0x148),function(){const _0x1d730d=a0_0x2f839d;upLoadFile[_0x1d730d(0x173)](_0x1d730d(0x14c),function(){const _0x328c6f=_0x1d730d;a0_0xec4df6[_0x328c6f(0x15b)](upLoadFile);}),openLocalStorage[_0x1d730d(0x173)](_0x1d730d(0x159),function(){const _0x39fd0c=_0x1d730d,_0x4e8f23=localStorage['getItem'](_0x39fd0c(0x161));storage[_0x39fd0c(0x16b)][_0x39fd0c(0x176)](_0x39fd0c(0x186)),intro['classList'][_0x39fd0c(0x158)](_0x39fd0c(0x186)),ingame[_0x39fd0c(0x16b)][_0x39fd0c(0x158)]('disable'),_0x4e8f23===null||_0x4e8f23===''?(dropboxRestore[_0x39fd0c(0x16b)]['remove']('active'),dropboxBackup[_0x39fd0c(0x16b)][_0x39fd0c(0x176)](_0x39fd0c(0x15f)),dropboxCloud[_0x39fd0c(0x16b)]['remove'](_0x39fd0c(0x15f))):(dropboxRestore['classList'][_0x39fd0c(0x158)](_0x39fd0c(0x15f)),dropboxBackup['classList'][_0x39fd0c(0x158)]('active'),dropboxCloud[_0x39fd0c(0x16b)]['add'](_0x39fd0c(0x15f)));}),setTimeout(()=>{localStorageFile();},0xbb8);});