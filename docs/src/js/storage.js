const a0_0x180b78=a0_0xf56e;(function(_0x3adb6a,_0x4d33eb){const _0x3ba33e=a0_0xf56e,_0x11b60e=_0x3adb6a();while(!![]){try{const _0x294489=parseInt(_0x3ba33e(0x199))/0x1+-parseInt(_0x3ba33e(0x179))/0x2*(-parseInt(_0x3ba33e(0x177))/0x3)+parseInt(_0x3ba33e(0x19a))/0x4+-parseInt(_0x3ba33e(0x186))/0x5*(parseInt(_0x3ba33e(0x189))/0x6)+-parseInt(_0x3ba33e(0x195))/0x7+-parseInt(_0x3ba33e(0x1a6))/0x8*(parseInt(_0x3ba33e(0x173))/0x9)+-parseInt(_0x3ba33e(0x19f))/0xa*(parseInt(_0x3ba33e(0x18b))/0xb);if(_0x294489===_0x4d33eb)break;else _0x11b60e['push'](_0x11b60e['shift']());}catch(_0x1020a2){_0x11b60e['push'](_0x11b60e['shift']());}}}(a0_0x42f4,0x38dad));import*as a0_0xb77893 from'./main.js';const mgbaStorage=document[a0_0x180b78(0x164)]('mgba-storage'),savesFile=document[a0_0x180b78(0x164)](a0_0x180b78(0x17a)),romsFile=document[a0_0x180b78(0x164)](a0_0x180b78(0x1a3)),statesFile=document[a0_0x180b78(0x164)](a0_0x180b78(0x168)),screenshotsFile=document[a0_0x180b78(0x164)]('screenshotsFile');function humanFileSize(_0x196686,_0x3060bc=![],_0x18d3ee=0x1){const _0x595679=a0_0x180b78,_0x52a582=_0x3060bc?0x3e8:0x400,_0x57efe2=_0x3060bc?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x595679(0x169),'GiB','TiB',_0x595679(0x18c),_0x595679(0x197),_0x595679(0x1a2),'YiB'];let _0x878448=-0x1;do{_0x196686/=_0x52a582,++_0x878448;}while(Math[_0x595679(0x175)](_0x196686)>=_0x52a582&&_0x878448<_0x57efe2[_0x595679(0x18f)]-0x1);return _0x196686[_0x595679(0x15d)](_0x18d3ee)+'\x20'+_0x57efe2[_0x878448];}function a0_0xf56e(_0x2244f8,_0x82b092){const _0x42f40e=a0_0x42f4();return a0_0xf56e=function(_0xf56e34,_0x46ba50){_0xf56e34=_0xf56e34-0x15d;let _0x248dc0=_0x42f40e[_0xf56e34];return _0x248dc0;},a0_0xf56e(_0x2244f8,_0x82b092);}function a0_0x42f4(){const _0x2cd9b5=['home','.gba','32Tzcshc','toFixed','DOMContentLoaded','gap-16','screenshots','_imageState','add','flex-1','getElementById','span','slice','/data/screenshots/','statesFile','MiB','storage','appendChild','gap-10','textContent','close','change','fileSize','getItem','remove','545157AJruww','delete','abs','rom-item','6357gtRMjy','saves','202oRFTXW','savesFile','onclick','right','lastChild','createElement','/data/games/','Edit\x20filename','Delete\x20this\x20file?','cheats','div','download','addEventListener','60mbIEqF','firstChild','editFile','21732kpTnfz','uploadFile','877470gddGQX','PiB','downloadFile','active','length','rename','rom','onclose','/data/cheats/','/data/saves/','1117319aVvJRV','_dateState','EiB','opacity0','245783qlKtar','1192872meaHbw','classList','disable','states','listFiles','10yPtjsi','removeItem','replace','ZiB','romsFile'];a0_0x42f4=function(){return _0x2cd9b5;};return a0_0x42f4();}function createElementStorage(_0xe6098c,_0x105d23,_0x5ed95b){const _0x49628c=a0_0x180b78,_0x1590f2=document[_0x49628c(0x17e)](_0x49628c(0x183));_0x1590f2[_0x49628c(0x19b)][_0x49628c(0x162)](_0x49628c(0x163),_0x49628c(0x176),_0x49628c(0x191)),_0xe6098c[_0x49628c(0x16b)](_0x1590f2);const _0x5b8f4b=document[_0x49628c(0x17e)](_0x49628c(0x165));_0x5b8f4b[_0x49628c(0x16d)]=_0x105d23,_0x5b8f4b['classList'][_0x49628c(0x162)](_0x49628c(0x163)),_0x1590f2['appendChild'](_0x5b8f4b),_0x5b8f4b[_0x49628c(0x17b)]=()=>{const _0x322a7e=_0x49628c,_0x336df9=document[_0x322a7e(0x17e)]('dialog');_0x336df9[_0x322a7e(0x192)]=()=>_0x336df9['remove'](),_0xe6098c[_0x322a7e(0x16b)](_0x336df9);const _0x73414b=document['createElement'](_0x322a7e(0x183));_0x73414b[_0x322a7e(0x19b)][_0x322a7e(0x162)](_0x322a7e(0x16a),_0x322a7e(0x17c),_0x322a7e(0x16c)),_0x336df9['appendChild'](_0x73414b);const _0x4aff0e=document[_0x322a7e(0x17e)](_0x322a7e(0x183));_0x4aff0e[_0x322a7e(0x19b)][_0x322a7e(0x162)](_0x322a7e(0x1a4),'bc',_0x322a7e(0x163)),_0x73414b[_0x322a7e(0x16b)](_0x4aff0e);const _0x3ee15f=document[_0x322a7e(0x17e)](_0x322a7e(0x183));_0x3ee15f[_0x322a7e(0x19b)]['add'](_0x322a7e(0x163)),_0x73414b[_0x322a7e(0x16b)](_0x3ee15f);const _0x5e7487=document[_0x322a7e(0x17e)](_0x322a7e(0x183));_0x5e7487[_0x322a7e(0x19b)][_0x322a7e(0x162)](_0x322a7e(0x163)),_0x73414b['appendChild'](_0x5e7487);const _0x186933=document[_0x322a7e(0x17e)](_0x322a7e(0x183));_0x186933['classList']['add'](_0x322a7e(0x163)),_0x73414b[_0x322a7e(0x16b)](_0x186933),mgbaStorage[_0x322a7e(0x19b)][_0x322a7e(0x162)](_0x322a7e(0x198)),_0x4aff0e[_0x322a7e(0x17b)]=()=>{const _0x50bcb8=_0x322a7e;_0x336df9[_0x50bcb8(0x16e)](),_0x336df9[_0x50bcb8(0x172)](),mgbaStorage['classList']['remove'](_0x50bcb8(0x198));};const _0x429db0=document[_0x322a7e(0x17e)]('div');_0x429db0[_0x322a7e(0x19b)][_0x322a7e(0x162)](_0x322a7e(0x163),'rom-item','hw','cw'),_0x429db0[_0x322a7e(0x16d)]=_0x105d23,_0x336df9['appendChild'](_0x429db0);const _0x2b62ab=document[_0x322a7e(0x17e)](_0x322a7e(0x183));_0x2b62ab[_0x322a7e(0x19b)][_0x322a7e(0x162)]('actionDiv','hw','cw',_0x322a7e(0x15f)),_0x336df9[_0x322a7e(0x16b)](_0x2b62ab);const _0x5b0d0f=document[_0x322a7e(0x17e)](_0x322a7e(0x183));_0x5b0d0f[_0x322a7e(0x19b)][_0x322a7e(0x162)](_0x322a7e(0x184),'bc'),_0x2b62ab[_0x322a7e(0x16b)](_0x5b0d0f),_0x5b0d0f[_0x322a7e(0x17b)]=()=>{const _0x445c8b=_0x322a7e;a0_0xb77893[_0x445c8b(0x18d)](_0x5ed95b,_0x105d23);};const _0x3679dd=document['createElement'](_0x322a7e(0x183));_0x3679dd[_0x322a7e(0x19b)][_0x322a7e(0x162)](_0x322a7e(0x174),'bc'),_0x2b62ab[_0x322a7e(0x16b)](_0x3679dd),_0x3679dd[_0x322a7e(0x17b)]=async()=>{const _0x545931=_0x322a7e;if(window['confirm'](_0x545931(0x181)+_0x105d23)){const _0x6c3ba8=_0x105d23[_0x545931(0x1a1)](/\....$/,_0x545931(0x1a5));a0_0xb77893['deleteFile'](_0x5ed95b),localStorage['removeItem'](_0x6c3ba8+_0x545931(0x196)+_0x105d23[_0x545931(0x166)](-0x1)),localStorage[_0x545931(0x1a0)](_0x6c3ba8+_0x545931(0x161)+_0x105d23[_0x545931(0x166)](-0x1)),localStorageFile(),_0x336df9[_0x545931(0x16e)](),_0x336df9['remove'](),mgbaStorage[_0x545931(0x19b)][_0x545931(0x172)]('opacity0');}};const _0x4b8bb6=document[_0x322a7e(0x17e)](_0x322a7e(0x183));_0x4b8bb6['classList'][_0x322a7e(0x162)](_0x322a7e(0x190),'bc'),_0x2b62ab['appendChild'](_0x4b8bb6),_0x4b8bb6['onclick']=async()=>{const _0x34c35c=_0x322a7e,_0x22b373=window['prompt'](_0x34c35c(0x180),_0x105d23);_0x22b373!==null&&(a0_0xb77893[_0x34c35c(0x188)](_0x5ed95b,_0x105d23,_0x22b373),localStorageFile(),_0x336df9[_0x34c35c(0x16e)](),_0x336df9[_0x34c35c(0x172)](),mgbaStorage[_0x34c35c(0x19b)][_0x34c35c(0x172)]('opacity0'));},_0x336df9['showModal']();};const _0x1ef98d=document[_0x49628c(0x17e)](_0x49628c(0x165));_0x1ef98d[_0x49628c(0x16d)]=humanFileSize(a0_0xb77893[_0x49628c(0x170)](_0x5ed95b)),_0x1ef98d[_0x49628c(0x19b)][_0x49628c(0x162)]('mib'),_0x1590f2['appendChild'](_0x1ef98d);}export function localStorageFile(){const _0x38a633=a0_0x180b78,_0x4f3551=a0_0xb77893['listFiles']('games'),_0x156671=a0_0xb77893[_0x38a633(0x19e)](_0x38a633(0x178)),_0x2b5ff3=a0_0xb77893['listFiles'](_0x38a633(0x19d)),_0x1472fc=a0_0xb77893[_0x38a633(0x19e)](_0x38a633(0x182)),_0x44f5b1=a0_0xb77893[_0x38a633(0x19e)](_0x38a633(0x160)),_0x11f128=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x40a6e4 of _0x11f128){while(_0x40a6e4[_0x38a633(0x187)]){_0x40a6e4[_0x38a633(0x17d)][_0x38a633(0x172)]();}}for(const _0x4599a8 of _0x4f3551){createElementStorage(romsFile,_0x4599a8,_0x38a633(0x17f)+_0x4599a8);}for(const _0x53e5e1 of _0x2b5ff3){createElementStorage(statesFile,_0x53e5e1,'/data/states/'+_0x53e5e1);}for(const _0x2190e2 of _0x156671){createElementStorage(savesFile,_0x2190e2,_0x38a633(0x194)+_0x2190e2);}for(const _0xe8a18e of _0x1472fc){createElementStorage(cheatsFile,_0xe8a18e,_0x38a633(0x193)+_0xe8a18e);}for(const _0x453da9 of _0x44f5b1){createElementStorage(screenshotsFile,_0x453da9,_0x38a633(0x167)+_0x453da9);}}document[a0_0x180b78(0x185)](a0_0x180b78(0x15e),function(){const _0x96ebde=a0_0x180b78;upLoadFile[_0x96ebde(0x185)](_0x96ebde(0x16f),function(){const _0x37f8b7=_0x96ebde;a0_0xb77893[_0x37f8b7(0x18a)](upLoadFile);}),openLocalStorage[_0x96ebde(0x185)]('click',function(){const _0x59c63e=_0x96ebde,_0x2919bd=localStorage[_0x59c63e(0x171)]('uId');storage[_0x59c63e(0x19b)]['remove']('disable'),intro['classList'][_0x59c63e(0x162)](_0x59c63e(0x19c)),ingame[_0x59c63e(0x19b)]['add'](_0x59c63e(0x19c)),_0x2919bd===null||_0x2919bd===''?(dropboxRestore[_0x59c63e(0x19b)][_0x59c63e(0x172)]('active'),dropboxBackup[_0x59c63e(0x19b)]['remove'](_0x59c63e(0x18e)),dropboxCloud[_0x59c63e(0x19b)]['remove']('active')):(dropboxRestore['classList'][_0x59c63e(0x162)](_0x59c63e(0x18e)),dropboxBackup[_0x59c63e(0x19b)]['add'](_0x59c63e(0x18e)),dropboxCloud[_0x59c63e(0x19b)][_0x59c63e(0x162)](_0x59c63e(0x18e)));}),setTimeout(()=>{localStorageFile();},0xbb8);});