const a0_0x1f534e=a0_0x43be;(function(_0x1f6525,_0x44dd59){const _0x30a417=a0_0x43be,_0x5d825b=_0x1f6525();while(!![]){try{const _0x4b4025=parseInt(_0x30a417(0x214))/0x1*(parseInt(_0x30a417(0x1d9))/0x2)+-parseInt(_0x30a417(0x209))/0x3+parseInt(_0x30a417(0x1dd))/0x4*(-parseInt(_0x30a417(0x1f7))/0x5)+parseInt(_0x30a417(0x1e9))/0x6*(-parseInt(_0x30a417(0x1cf))/0x7)+parseInt(_0x30a417(0x1d4))/0x8*(parseInt(_0x30a417(0x21b))/0x9)+parseInt(_0x30a417(0x210))/0xa*(-parseInt(_0x30a417(0x1d7))/0xb)+parseInt(_0x30a417(0x1f8))/0xc*(parseInt(_0x30a417(0x1f9))/0xd);if(_0x4b4025===_0x44dd59)break;else _0x5d825b['push'](_0x5d825b['shift']());}catch(_0xb8b516){_0x5d825b['push'](_0x5d825b['shift']());}}}(a0_0x3dad,0xee4e1));import*as a0_0x458f24 from'./main.js';function a0_0x43be(_0x41b49e,_0x4d656c){const _0x3dadcd=a0_0x3dad();return a0_0x43be=function(_0x43be77,_0x462dab){_0x43be77=_0x43be77-0x1cf;let _0x2cde78=_0x3dadcd[_0x43be77];return _0x2cde78;},a0_0x43be(_0x41b49e,_0x4d656c);}const mgbaStorage=document[a0_0x1f534e(0x21a)](a0_0x1f534e(0x216)),savesFile=document[a0_0x1f534e(0x21a)]('savesFile'),romsFile=document[a0_0x1f534e(0x21a)](a0_0x1f534e(0x1e8)),statesFile=document['getElementById'](a0_0x1f534e(0x1f1)),screenshotsFile=document[a0_0x1f534e(0x21a)](a0_0x1f534e(0x213));function a0_0x3dad(){const _0x5649e2=['length','games','getElementById','9SPaXnW','showModal','14JFZHQN','rom-item','GiB','removeItem','disable','940672thtasH','opacity0','getItem','44077bBidKJ','downloadFile','2ZhAVIj','screenshots','span','textContent','68tlHBNy','KiB','/data/screenshots/','div','appendChild','rename','close','abs','delete','storage','YiB','romsFile','5333730DTiraq','PiB','firstChild','active','saves','cheats','change','uId','statesFile','right','uploadFile','/data/games/','replace','.gba','174140yyLxaP','353316SulBgl','1222fPVwoj','download','/data/states/','classList','prompt','MiB','flex-1','lastChild','click','fileSize','_imageState','addEventListener','confirm','rom','listFiles','dialog','509757IKbJCA','deleteFile','actionDiv','gap-10','DOMContentLoaded','EiB','onclick','3010ukjsQM','createElement','add','screenshotsFile','1836883XEzQpx','ZiB','mgba-storage','remove'];a0_0x3dad=function(){return _0x5649e2;};return a0_0x3dad();}function humanFileSize(_0x54182e,_0x12a49a=![],_0x605ada=0x1){const _0xe3ff8b=a0_0x1f534e,_0x2da9e4=_0x12a49a?0x3e8:0x400,_0x944d27=_0x12a49a?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0xe3ff8b(0x1de),_0xe3ff8b(0x1fe),_0xe3ff8b(0x1d1),'TiB',_0xe3ff8b(0x1ea),_0xe3ff8b(0x20e),_0xe3ff8b(0x215),_0xe3ff8b(0x1e7)];let _0x528af3=-0x1;do{_0x54182e/=_0x2da9e4,++_0x528af3;}while(Math[_0xe3ff8b(0x1e4)](_0x54182e)>=_0x2da9e4&&_0x528af3<_0x944d27[_0xe3ff8b(0x218)]-0x1);return _0x54182e['toFixed'](_0x605ada)+'\x20'+_0x944d27[_0x528af3];}function createElementStorage(_0x4c3deb,_0x2b24ac,_0x5bc17a){const _0x49832d=a0_0x1f534e,_0x1daa5e=document['createElement']('div');_0x1daa5e[_0x49832d(0x1fc)][_0x49832d(0x212)](_0x49832d(0x1ff),_0x49832d(0x1d0),_0x49832d(0x206)),_0x4c3deb[_0x49832d(0x1e1)](_0x1daa5e);const _0xdcf350=document['createElement']('span');_0xdcf350[_0x49832d(0x1dc)]=_0x2b24ac,_0xdcf350['classList'][_0x49832d(0x212)](_0x49832d(0x1ff)),_0x1daa5e[_0x49832d(0x1e1)](_0xdcf350),_0xdcf350[_0x49832d(0x20f)]=()=>{const _0x5b04e0=_0x49832d,_0xe94cad=document['createElement'](_0x5b04e0(0x208));_0xe94cad['onclose']=()=>_0xe94cad[_0x5b04e0(0x217)](),_0x4c3deb[_0x5b04e0(0x1e1)](_0xe94cad);const _0x1dfdcd=document[_0x5b04e0(0x211)]('div');_0x1dfdcd[_0x5b04e0(0x1fc)]['add'](_0x5b04e0(0x1e6),_0x5b04e0(0x1f2),_0x5b04e0(0x20c)),_0xe94cad[_0x5b04e0(0x1e1)](_0x1dfdcd);const _0x6502bf=document[_0x5b04e0(0x211)](_0x5b04e0(0x1e0));_0x6502bf[_0x5b04e0(0x1fc)][_0x5b04e0(0x212)]('home','bc',_0x5b04e0(0x1ff)),_0x1dfdcd[_0x5b04e0(0x1e1)](_0x6502bf);const _0x3dd79e=document['createElement']('div');_0x3dd79e[_0x5b04e0(0x1fc)][_0x5b04e0(0x212)](_0x5b04e0(0x1ff)),_0x1dfdcd[_0x5b04e0(0x1e1)](_0x3dd79e);const _0x3464dd=document[_0x5b04e0(0x211)]('div');_0x3464dd['classList'][_0x5b04e0(0x212)](_0x5b04e0(0x1ff)),_0x1dfdcd[_0x5b04e0(0x1e1)](_0x3464dd);const _0x59d7c4=document[_0x5b04e0(0x211)](_0x5b04e0(0x1e0));_0x59d7c4[_0x5b04e0(0x1fc)][_0x5b04e0(0x212)](_0x5b04e0(0x1ff)),_0x1dfdcd[_0x5b04e0(0x1e1)](_0x59d7c4),mgbaStorage['classList'][_0x5b04e0(0x212)](_0x5b04e0(0x1d5)),_0x6502bf[_0x5b04e0(0x20f)]=()=>{const _0x40f36a=_0x5b04e0;_0xe94cad[_0x40f36a(0x1e3)](),_0xe94cad[_0x40f36a(0x217)](),mgbaStorage[_0x40f36a(0x1fc)][_0x40f36a(0x217)](_0x40f36a(0x1d5));};const _0x471668=document[_0x5b04e0(0x211)](_0x5b04e0(0x1e0));_0x471668['classList']['add']('flex-1',_0x5b04e0(0x1d0),'hw','cw'),_0x471668[_0x5b04e0(0x1dc)]=_0x2b24ac,_0xe94cad[_0x5b04e0(0x1e1)](_0x471668);const _0x1de348=document['createElement'](_0x5b04e0(0x1e0));_0x1de348['classList'][_0x5b04e0(0x212)](_0x5b04e0(0x20b),'hw','cw','gap-16'),_0xe94cad[_0x5b04e0(0x1e1)](_0x1de348);const _0x285d76=document[_0x5b04e0(0x211)](_0x5b04e0(0x1e0));_0x285d76['classList'][_0x5b04e0(0x212)](_0x5b04e0(0x1fa),'bc'),_0x1de348[_0x5b04e0(0x1e1)](_0x285d76),_0x285d76[_0x5b04e0(0x20f)]=()=>{const _0x266402=_0x5b04e0;a0_0x458f24[_0x266402(0x1d8)](_0x5bc17a,_0x2b24ac);};const _0x4ed747=document['createElement'](_0x5b04e0(0x1e0));_0x4ed747[_0x5b04e0(0x1fc)]['add'](_0x5b04e0(0x1e5),'bc'),_0x1de348['appendChild'](_0x4ed747),_0x4ed747['onclick']=async()=>{const _0x4c915b=_0x5b04e0;if(window[_0x4c915b(0x205)]('Delete\x20this\x20file?'+_0x2b24ac)){const _0x4a5146=_0x2b24ac[_0x4c915b(0x1f5)](/\....$/,_0x4c915b(0x1f6));a0_0x458f24[_0x4c915b(0x20a)](_0x5bc17a),localStorage[_0x4c915b(0x1d2)](_0x4a5146+'_dateState'+_0x2b24ac['slice'](-0x1)),localStorage['removeItem'](_0x4a5146+_0x4c915b(0x203)+_0x2b24ac['slice'](-0x1)),localStorageFile(),_0xe94cad[_0x4c915b(0x1e3)](),_0xe94cad['remove'](),mgbaStorage[_0x4c915b(0x1fc)][_0x4c915b(0x217)](_0x4c915b(0x1d5));}};const _0x64d23b=document[_0x5b04e0(0x211)](_0x5b04e0(0x1e0));_0x64d23b[_0x5b04e0(0x1fc)]['add'](_0x5b04e0(0x1e2),'bc'),_0x1de348[_0x5b04e0(0x1e1)](_0x64d23b),_0x64d23b[_0x5b04e0(0x20f)]=async()=>{const _0x2ca1af=_0x5b04e0,_0x16be2b=window[_0x2ca1af(0x1fd)]('Edit\x20filename',_0x2b24ac);_0x16be2b!==null&&(a0_0x458f24['editFile'](_0x5bc17a,_0x2b24ac,_0x16be2b),localStorageFile(),_0xe94cad['close'](),_0xe94cad[_0x2ca1af(0x217)](),mgbaStorage[_0x2ca1af(0x1fc)][_0x2ca1af(0x217)](_0x2ca1af(0x1d5)));},_0xe94cad[_0x5b04e0(0x21c)]();};const _0x466307=document[_0x49832d(0x211)](_0x49832d(0x1db));_0x466307[_0x49832d(0x1dc)]=humanFileSize(a0_0x458f24[_0x49832d(0x202)](_0x5bc17a)),_0x466307[_0x49832d(0x1fc)][_0x49832d(0x212)]('mib'),_0x1daa5e[_0x49832d(0x1e1)](_0x466307);}export function localStorageFile(){const _0x141b0f=a0_0x1f534e,_0x39b48e=a0_0x458f24[_0x141b0f(0x207)](_0x141b0f(0x219)),_0xd94ff0=a0_0x458f24['listFiles'](_0x141b0f(0x1ed)),_0x2e2bd7=a0_0x458f24[_0x141b0f(0x207)]('states'),_0x1e9831=a0_0x458f24[_0x141b0f(0x207)](_0x141b0f(0x1ee)),_0x444a4b=a0_0x458f24[_0x141b0f(0x207)](_0x141b0f(0x1da)),_0x27d51d=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x30404c of _0x27d51d){while(_0x30404c[_0x141b0f(0x1eb)]){_0x30404c[_0x141b0f(0x200)][_0x141b0f(0x217)]();}}for(const _0x25b39e of _0x39b48e){createElementStorage(romsFile,_0x25b39e,_0x141b0f(0x1f4)+_0x25b39e);}for(const _0x5b6f21 of _0x2e2bd7){createElementStorage(statesFile,_0x5b6f21,_0x141b0f(0x1fb)+_0x5b6f21);}for(const _0x2cd6bf of _0xd94ff0){createElementStorage(savesFile,_0x2cd6bf,'/data/saves/'+_0x2cd6bf);}for(const _0x431ea6 of _0x1e9831){createElementStorage(cheatsFile,_0x431ea6,'/data/cheats/'+_0x431ea6);}for(const _0x1923b0 of _0x444a4b){createElementStorage(screenshotsFile,_0x1923b0,_0x141b0f(0x1df)+_0x1923b0);}}document['addEventListener'](a0_0x1f534e(0x20d),function(){const _0x3d4d20=a0_0x1f534e;upLoadFile['addEventListener'](_0x3d4d20(0x1ef),function(){const _0x550d29=_0x3d4d20;a0_0x458f24[_0x550d29(0x1f3)](upLoadFile);}),openLocalStorage[_0x3d4d20(0x204)](_0x3d4d20(0x201),function(){const _0xb74967=_0x3d4d20,_0x446bb2=localStorage[_0xb74967(0x1d6)](_0xb74967(0x1f0));storage[_0xb74967(0x1fc)][_0xb74967(0x217)](_0xb74967(0x1d3)),intro[_0xb74967(0x1fc)][_0xb74967(0x212)](_0xb74967(0x1d3)),ingame['classList'][_0xb74967(0x212)](_0xb74967(0x1d3)),_0x446bb2===null||_0x446bb2===''?(dropboxRestore[_0xb74967(0x1fc)][_0xb74967(0x217)](_0xb74967(0x1ec)),dropboxBackup[_0xb74967(0x1fc)][_0xb74967(0x217)](_0xb74967(0x1ec)),dropboxCloud[_0xb74967(0x1fc)][_0xb74967(0x217)](_0xb74967(0x1ec))):(dropboxRestore[_0xb74967(0x1fc)]['add'](_0xb74967(0x1ec)),dropboxBackup[_0xb74967(0x1fc)]['add'](_0xb74967(0x1ec)),dropboxCloud[_0xb74967(0x1fc)][_0xb74967(0x212)](_0xb74967(0x1ec)));}),setTimeout(()=>{localStorageFile();},0xbb8);});