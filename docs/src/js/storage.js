const a0_0x12963b=a0_0x3717;(function(_0x59af87,_0x1f64a6){const _0x5b775a=a0_0x3717,_0x364522=_0x59af87();while(!![]){try{const _0x3758c8=parseInt(_0x5b775a(0x143))/0x1*(-parseInt(_0x5b775a(0x15c))/0x2)+-parseInt(_0x5b775a(0x11d))/0x3*(parseInt(_0x5b775a(0x146))/0x4)+parseInt(_0x5b775a(0x113))/0x5+-parseInt(_0x5b775a(0x142))/0x6*(-parseInt(_0x5b775a(0x149))/0x7)+-parseInt(_0x5b775a(0x155))/0x8*(parseInt(_0x5b775a(0x14a))/0x9)+-parseInt(_0x5b775a(0x139))/0xa*(-parseInt(_0x5b775a(0x13f))/0xb)+parseInt(_0x5b775a(0x164))/0xc*(parseInt(_0x5b775a(0x14f))/0xd);if(_0x3758c8===_0x1f64a6)break;else _0x364522['push'](_0x364522['shift']());}catch(_0x1c45f0){_0x364522['push'](_0x364522['shift']());}}}(a0_0x2c7d,0x716b5));import*as a0_0xd57e54 from'./main.js';const mgbaStorage=document[a0_0x12963b(0x124)](a0_0x12963b(0x12a)),savesFile=document[a0_0x12963b(0x124)](a0_0x12963b(0x141)),romsFile=document[a0_0x12963b(0x124)](a0_0x12963b(0x159)),statesFile=document[a0_0x12963b(0x124)]('statesFile'),screenshotsFile=document['getElementById'](a0_0x12963b(0x15f));function humanFileSize(_0x564ab7,_0x2bf6e3=![],_0x443078=0x1){const _0x47dc76=a0_0x12963b,_0x23933a=_0x2bf6e3?0x3e8:0x400,_0x1d0f72=_0x2bf6e3?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x47dc76(0x153),_0x47dc76(0x115),'GiB',_0x47dc76(0x137),'PiB',_0x47dc76(0x12e),_0x47dc76(0x15a),'YiB'];let _0x494146=-0x1;do{_0x564ab7/=_0x23933a,++_0x494146;}while(Math[_0x47dc76(0x127)](_0x564ab7)>=_0x23933a&&_0x494146<_0x1d0f72[_0x47dc76(0x145)]-0x1);return _0x564ab7[_0x47dc76(0x15b)](_0x443078)+'\x20'+_0x1d0f72[_0x494146];}function createElementStorage(_0x1964ae,_0x4f8217,_0x5a1159){const _0x1d8b57=a0_0x12963b,_0x50c568=document['createElement'](_0x1d8b57(0x11e));_0x50c568['classList'][_0x1d8b57(0x148)](_0x1d8b57(0x13a),_0x1d8b57(0x14d),_0x1d8b57(0x120)),_0x1964ae[_0x1d8b57(0x131)](_0x50c568);const _0x5b9e9b=document[_0x1d8b57(0x11c)]('span');_0x5b9e9b[_0x1d8b57(0x15e)]=_0x4f8217,_0x5b9e9b[_0x1d8b57(0x13c)]['add'](_0x1d8b57(0x13a)),_0x50c568[_0x1d8b57(0x131)](_0x5b9e9b),_0x5b9e9b[_0x1d8b57(0x163)]=()=>{const _0x35aa6e=_0x1d8b57,_0x51a945=document[_0x35aa6e(0x11c)](_0x35aa6e(0x134));_0x51a945[_0x35aa6e(0x136)]=()=>_0x51a945[_0x35aa6e(0x117)](),_0x1964ae[_0x35aa6e(0x131)](_0x51a945);const _0x5c5fd4=document[_0x35aa6e(0x11c)]('div');_0x5c5fd4[_0x35aa6e(0x13c)][_0x35aa6e(0x148)](_0x35aa6e(0x157),_0x35aa6e(0x12b),_0x35aa6e(0x13d)),_0x51a945[_0x35aa6e(0x131)](_0x5c5fd4);const _0x167797=document[_0x35aa6e(0x11c)](_0x35aa6e(0x11e));_0x167797[_0x35aa6e(0x13c)][_0x35aa6e(0x148)](_0x35aa6e(0x138),'bc','flex-1'),_0x5c5fd4[_0x35aa6e(0x131)](_0x167797);const _0x4e0a60=document['createElement'](_0x35aa6e(0x11e));_0x4e0a60[_0x35aa6e(0x13c)][_0x35aa6e(0x148)](_0x35aa6e(0x13a)),_0x5c5fd4[_0x35aa6e(0x131)](_0x4e0a60);const _0x29d5c6=document[_0x35aa6e(0x11c)](_0x35aa6e(0x11e));_0x29d5c6[_0x35aa6e(0x13c)][_0x35aa6e(0x148)](_0x35aa6e(0x13a)),_0x5c5fd4[_0x35aa6e(0x131)](_0x29d5c6);const _0x40e205=document[_0x35aa6e(0x11c)](_0x35aa6e(0x11e));_0x40e205[_0x35aa6e(0x13c)]['add'](_0x35aa6e(0x13a)),_0x5c5fd4[_0x35aa6e(0x131)](_0x40e205),mgbaStorage[_0x35aa6e(0x13c)][_0x35aa6e(0x148)](_0x35aa6e(0x121)),_0x167797[_0x35aa6e(0x163)]=()=>{const _0x4890a2=_0x35aa6e;_0x51a945[_0x4890a2(0x135)](),_0x51a945[_0x4890a2(0x117)](),mgbaStorage[_0x4890a2(0x13c)]['remove']('opacity0');};const _0x150d89=document[_0x35aa6e(0x11c)](_0x35aa6e(0x11e));_0x150d89[_0x35aa6e(0x13c)][_0x35aa6e(0x148)]('flex-1','rom-item','hw','cw'),_0x150d89[_0x35aa6e(0x15e)]=_0x4f8217,_0x51a945[_0x35aa6e(0x131)](_0x150d89);const _0x386e9f=document[_0x35aa6e(0x11c)](_0x35aa6e(0x11e));_0x386e9f[_0x35aa6e(0x13c)][_0x35aa6e(0x148)](_0x35aa6e(0x140),'hw','cw',_0x35aa6e(0x14c)),_0x51a945[_0x35aa6e(0x131)](_0x386e9f);const _0x69129f=document['createElement'](_0x35aa6e(0x11e));_0x69129f[_0x35aa6e(0x13c)][_0x35aa6e(0x148)](_0x35aa6e(0x12d),'bc'),_0x386e9f['appendChild'](_0x69129f),_0x69129f[_0x35aa6e(0x163)]=()=>{a0_0xd57e54['downloadFile'](_0x5a1159,_0x4f8217);};const _0x594f46=document['createElement'](_0x35aa6e(0x11e));_0x594f46[_0x35aa6e(0x13c)]['add'](_0x35aa6e(0x13b),'bc'),_0x386e9f['appendChild'](_0x594f46),_0x594f46['onclick']=async()=>{const _0x2e0c12=_0x35aa6e;if(window[_0x2e0c12(0x11b)](_0x2e0c12(0x144)+_0x4f8217)){const _0x21aba2=_0x4f8217[_0x2e0c12(0x152)](/\....$/,_0x2e0c12(0x151));a0_0xd57e54[_0x2e0c12(0x112)](_0x5a1159),localStorage[_0x2e0c12(0x15d)](_0x21aba2+_0x2e0c12(0x166)+_0x4f8217[_0x2e0c12(0x14b)](-0x1)),localStorage[_0x2e0c12(0x15d)](_0x21aba2+_0x2e0c12(0x158)+_0x4f8217['slice'](-0x1)),localStorageFile(),_0x51a945[_0x2e0c12(0x135)](),_0x51a945[_0x2e0c12(0x117)](),mgbaStorage[_0x2e0c12(0x13c)][_0x2e0c12(0x117)](_0x2e0c12(0x121));}};const _0x5a14a0=document[_0x35aa6e(0x11c)]('div');_0x5a14a0[_0x35aa6e(0x13c)]['add'](_0x35aa6e(0x132),'bc'),_0x386e9f[_0x35aa6e(0x131)](_0x5a14a0),_0x5a14a0['onclick']=async()=>{const _0x16093d=_0x35aa6e,_0x363d7e=window[_0x16093d(0x116)]('Edit\x20filename',_0x4f8217);if(_0x363d7e!==null){const _0x2a90eb=_0x4f8217['replace'](/\....$/,_0x16093d(0x151)),_0x360d7d=_0x363d7e['replace'](/\....$/,_0x16093d(0x151)),_0x29fe8e=_0x2a90eb+_0x16093d(0x166)+_0x4f8217[_0x16093d(0x14b)](-0x1),_0x1cc340=_0x2a90eb+_0x16093d(0x158)+_0x4f8217[_0x16093d(0x14b)](-0x1),_0x5c2ed3=_0x360d7d+_0x16093d(0x166)+_0x363d7e['slice'](-0x1),_0x38e227=_0x360d7d+'_imageState'+_0x363d7e[_0x16093d(0x14b)](-0x1),_0x1e98f1=localStorage[_0x16093d(0x133)](_0x29fe8e),_0x29c089=localStorage[_0x16093d(0x133)](_0x1cc340);_0x1e98f1!==null&&(localStorage[_0x16093d(0x147)](_0x5c2ed3,_0x1e98f1),localStorage[_0x16093d(0x15d)](_0x29fe8e)),_0x29c089!==null&&(localStorage['setItem'](_0x38e227,_0x29c089),localStorage['removeItem'](_0x1cc340)),a0_0xd57e54[_0x16093d(0x12f)](_0x5a1159,_0x4f8217,_0x363d7e),localStorageFile(),_0x51a945[_0x16093d(0x135)](),_0x51a945[_0x16093d(0x117)](),mgbaStorage[_0x16093d(0x13c)][_0x16093d(0x117)](_0x16093d(0x121));}},_0x51a945['showModal']();};const _0x289f9b=document[_0x1d8b57(0x11c)]('span');_0x289f9b[_0x1d8b57(0x15e)]=humanFileSize(a0_0xd57e54[_0x1d8b57(0x129)](_0x5a1159)),_0x289f9b[_0x1d8b57(0x13c)][_0x1d8b57(0x148)]('mib'),_0x50c568[_0x1d8b57(0x131)](_0x289f9b);}export function localStorageFile(){const _0x47799f=a0_0x12963b,_0x6ef51a=a0_0xd57e54[_0x47799f(0x13e)](),_0x3cc8d2=a0_0xd57e54[_0x47799f(0x125)](),_0x4a9281=a0_0xd57e54[_0x47799f(0x119)](),_0x1cc53c=a0_0xd57e54['listCheat'](),_0x2f6347=a0_0xd57e54[_0x47799f(0x130)](),_0x30b4d4=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x52f74a of _0x30b4d4){while(_0x52f74a['firstChild']){_0x52f74a[_0x47799f(0x118)][_0x47799f(0x117)]();}}for(const _0x41ec79 of _0x6ef51a){createElementStorage(romsFile,_0x41ec79,_0x47799f(0x162)+_0x41ec79);}for(const _0x91823a of _0x4a9281){createElementStorage(statesFile,_0x91823a,_0x47799f(0x114)+_0x91823a);}for(const _0x40aa29 of _0x3cc8d2){createElementStorage(savesFile,_0x40aa29,_0x47799f(0x11f)+_0x40aa29);}for(const _0x5692ac of _0x1cc53c){createElementStorage(cheatsFile,_0x5692ac,_0x47799f(0x11a)+_0x5692ac);}for(const _0x944903 of _0x2f6347){createElementStorage(screenshotsFile,_0x944903,_0x47799f(0x156)+_0x944903);}}function a0_0x3717(_0x52386e,_0x2e9605){const _0x2c7dbd=a0_0x2c7d();return a0_0x3717=function(_0x371704,_0xf53516){_0x371704=_0x371704-0x112;let _0x2a7430=_0x2c7dbd[_0x371704];return _0x2a7430;},a0_0x3717(_0x52386e,_0x2e9605);}function a0_0x2c7d(){const _0xfcf2ac=['onclick','672fACVpS','uploadCheat','_dateState','.cheats','deleteFile','150665FZkYQw','/data/states/','MiB','prompt','remove','lastChild','listState','/data/cheats/','confirm','createElement','16809tYEQbf','div','/data/saves/','rom','opacity0','name','uploadSavSta','getElementById','listSave','DOMContentLoaded','abs','addEventListener','fileSize','mgba-storage','right','endsWith','download','EiB','editFile','listScreenshot','appendChild','rename','getItem','dialog','close','onclose','TiB','home','290CAapxL','flex-1','delete','classList','gap-10','listGame','274153OffJVE','actionDiv','savesFile','12FmbRZp','162269unROYj','Delete\x20this\x20file?','length','104luWdLd','setItem','add','2499749OiHcKx','2313GaXnKK','slice','gap-16','rom-item','uploadGame','171158hhRLxV','uId','.gba','replace','KiB','active','24368AyGVyX','/data/screenshots/','storage','_imageState','romsFile','ZiB','toFixed','10bHEONr','removeItem','textContent','screenshotsFile','disable','click','/data/games/'];a0_0x2c7d=function(){return _0xfcf2ac;};return a0_0x2c7d();}document[a0_0x12963b(0x128)](a0_0x12963b(0x126),function(){const _0xa7d0b2=a0_0x12963b;upLoadFile[_0xa7d0b2(0x128)]('change',function(){const _0x48b919=_0xa7d0b2,_0x1d52f0=upLoadFile['files'][0x0][_0x48b919(0x122)];if(_0x1d52f0[_0x48b919(0x12c)](_0x48b919(0x167)))a0_0xd57e54[_0x48b919(0x165)](upLoadFile);else _0x1d52f0[_0x48b919(0x12c)](_0x48b919(0x151))||_0x1d52f0['endsWith']('.gbc')||_0x1d52f0[_0x48b919(0x12c)]('.bc')?a0_0xd57e54[_0x48b919(0x14e)](upLoadFile):a0_0xd57e54[_0x48b919(0x123)](upLoadFile);}),openLocalStorage['addEventListener'](_0xa7d0b2(0x161),function(){const _0x50c251=_0xa7d0b2,_0x40bdb5=localStorage['getItem'](_0x50c251(0x150));storage[_0x50c251(0x13c)][_0x50c251(0x117)](_0x50c251(0x160)),intro[_0x50c251(0x13c)][_0x50c251(0x148)](_0x50c251(0x160)),ingame[_0x50c251(0x13c)]['add'](_0x50c251(0x160)),_0x40bdb5===null||_0x40bdb5===''?(dropboxRestore[_0x50c251(0x13c)]['remove'](_0x50c251(0x154)),dropboxBackup[_0x50c251(0x13c)][_0x50c251(0x117)](_0x50c251(0x154)),dropboxCloud[_0x50c251(0x13c)][_0x50c251(0x117)](_0x50c251(0x154))):(dropboxRestore[_0x50c251(0x13c)][_0x50c251(0x148)](_0x50c251(0x154)),dropboxBackup[_0x50c251(0x13c)][_0x50c251(0x148)]('active'),dropboxCloud[_0x50c251(0x13c)][_0x50c251(0x148)](_0x50c251(0x154)));}),setTimeout(()=>{localStorageFile();},0xbb8);});