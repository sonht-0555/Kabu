const a0_0x23c177=a0_0x2f70;function a0_0x551d(){const _0x3be6e1=['getElementById','slice','getItem','romsFile','storage','18173124TJtpgv','createElement','316281mADiUL','/data/cheats/','mib','KiB','div','disable','remove','click','prompt','savesFile','span','active','rename','download','PiB','33828RLQDlg','540420LsBADa','close','removeItem','appendChild','right','listScreenshot','/data/games/','addEventListener','listGame','firstChild','Edit\x20filename','36hGblCv','1092476vMUcUv','MiB','rom','.gba','dialog','change','_imageState','classList','toFixed','downloadFile','_dateState','uId','/data/screenshots/','rom-item','textContent','abs','uploadFile','actionDiv','add','onclick','opacity0','EiB','flex-1','home','listState','TiB','replace','GiB','12RRTJau','86967dxTeEM','onclose','gap-10','6144296ivlIRF','listCheat','confirm','mgba-storage','lastChild'];a0_0x551d=function(){return _0x3be6e1;};return a0_0x551d();}function a0_0x2f70(_0x1b5b66,_0xeaa90e){const _0x551d26=a0_0x551d();return a0_0x2f70=function(_0x2f7033,_0x28f86c){_0x2f7033=_0x2f7033-0xa9;let _0x48706e=_0x551d26[_0x2f7033];return _0x48706e;},a0_0x2f70(_0x1b5b66,_0xeaa90e);}(function(_0x42dede,_0x2e13f7){const _0x17ccb7=a0_0x2f70,_0x59992b=_0x42dede();while(!![]){try{const _0x2da1fb=-parseInt(_0x17ccb7(0xad))/0x1+-parseInt(_0x17ccb7(0xd8))/0x2+-parseInt(_0x17ccb7(0xac))/0x3*(parseInt(_0x17ccb7(0xcb))/0x4)+parseInt(_0x17ccb7(0xcc))/0x5+-parseInt(_0x17ccb7(0xd7))/0x6*(parseInt(_0x17ccb7(0xbc))/0x7)+-parseInt(_0x17ccb7(0xb0))/0x8+parseInt(_0x17ccb7(0xba))/0x9;if(_0x2da1fb===_0x2e13f7)break;else _0x59992b['push'](_0x59992b['shift']());}catch(_0x1f0c70){_0x59992b['push'](_0x59992b['shift']());}}}(a0_0x551d,0x66d20));import*as a0_0x3cd9e4 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x23c177(0xb3)),savesFile=document[a0_0x23c177(0xb5)](a0_0x23c177(0xc5)),romsFile=document[a0_0x23c177(0xb5)](a0_0x23c177(0xb8)),statesFile=document[a0_0x23c177(0xb5)]('statesFile'),screenshotsFile=document[a0_0x23c177(0xb5)]('screenshotsFile');function humanFileSize(_0x14ca99,_0x288c47=![],_0x305892=0x1){const _0x55ef86=a0_0x23c177,_0x27ea62=_0x288c47?0x3e8:0x400,_0x57f812=_0x288c47?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x55ef86(0xbf),_0x55ef86(0xd9),_0x55ef86(0xab),_0x55ef86(0xa9),_0x55ef86(0xca),_0x55ef86(0xed),'ZiB','YiB'];let _0x21016c=-0x1;do{_0x14ca99/=_0x27ea62,++_0x21016c;}while(Math[_0x55ef86(0xe7)](_0x14ca99)>=_0x27ea62&&_0x21016c<_0x57f812['length']-0x1);return _0x14ca99[_0x55ef86(0xe0)](_0x305892)+'\x20'+_0x57f812[_0x21016c];}function createElementStorage(_0x343529,_0xc67c89,_0x1882d9){const _0x1c89c2=a0_0x23c177,_0xbbb16c=document[_0x1c89c2(0xbb)](_0x1c89c2(0xc0));_0xbbb16c[_0x1c89c2(0xdf)]['add'](_0x1c89c2(0xee),_0x1c89c2(0xe5),_0x1c89c2(0xda)),_0x343529[_0x1c89c2(0xcf)](_0xbbb16c);const _0x3ab3e7=document[_0x1c89c2(0xbb)]('span');_0x3ab3e7[_0x1c89c2(0xe6)]=_0xc67c89,_0x3ab3e7[_0x1c89c2(0xdf)][_0x1c89c2(0xea)]('flex-1'),_0xbbb16c[_0x1c89c2(0xcf)](_0x3ab3e7),_0x3ab3e7[_0x1c89c2(0xeb)]=()=>{const _0x50b6da=_0x1c89c2,_0x397d0a=document[_0x50b6da(0xbb)](_0x50b6da(0xdc));_0x397d0a[_0x50b6da(0xae)]=()=>_0x397d0a[_0x50b6da(0xc2)](),_0x343529[_0x50b6da(0xcf)](_0x397d0a);const _0x31420e=document[_0x50b6da(0xbb)]('div');_0x31420e['classList'][_0x50b6da(0xea)](_0x50b6da(0xb9),_0x50b6da(0xd0),_0x50b6da(0xaf)),_0x397d0a[_0x50b6da(0xcf)](_0x31420e);const _0x23cd7f=document[_0x50b6da(0xbb)](_0x50b6da(0xc0));_0x23cd7f[_0x50b6da(0xdf)][_0x50b6da(0xea)](_0x50b6da(0xef),'bc','flex-1'),_0x31420e['appendChild'](_0x23cd7f);const _0x30678a=document[_0x50b6da(0xbb)]('div');_0x30678a['classList'][_0x50b6da(0xea)](_0x50b6da(0xee)),_0x31420e[_0x50b6da(0xcf)](_0x30678a);const _0x294fa7=document[_0x50b6da(0xbb)](_0x50b6da(0xc0));_0x294fa7[_0x50b6da(0xdf)][_0x50b6da(0xea)](_0x50b6da(0xee)),_0x31420e[_0x50b6da(0xcf)](_0x294fa7);const _0x353e93=document[_0x50b6da(0xbb)](_0x50b6da(0xc0));_0x353e93[_0x50b6da(0xdf)][_0x50b6da(0xea)](_0x50b6da(0xee)),_0x31420e['appendChild'](_0x353e93),mgbaStorage[_0x50b6da(0xdf)][_0x50b6da(0xea)](_0x50b6da(0xec)),_0x23cd7f['onclick']=()=>{const _0x23c54e=_0x50b6da;_0x397d0a[_0x23c54e(0xcd)](),_0x397d0a[_0x23c54e(0xc2)](),mgbaStorage[_0x23c54e(0xdf)]['remove'](_0x23c54e(0xec));};const _0x32e288=document[_0x50b6da(0xbb)]('div');_0x32e288[_0x50b6da(0xdf)][_0x50b6da(0xea)](_0x50b6da(0xee),_0x50b6da(0xe5),'hw','cw'),_0x32e288['textContent']=_0xc67c89,_0x397d0a[_0x50b6da(0xcf)](_0x32e288);const _0x5e868f=document[_0x50b6da(0xbb)](_0x50b6da(0xc0));_0x5e868f[_0x50b6da(0xdf)][_0x50b6da(0xea)](_0x50b6da(0xe9),'hw','cw','gap-16'),_0x397d0a[_0x50b6da(0xcf)](_0x5e868f);const _0x334e0c=document['createElement']('div');_0x334e0c[_0x50b6da(0xdf)][_0x50b6da(0xea)](_0x50b6da(0xc9),'bc'),_0x5e868f['appendChild'](_0x334e0c),_0x334e0c[_0x50b6da(0xeb)]=()=>{const _0x361592=_0x50b6da;a0_0x3cd9e4[_0x361592(0xe1)](_0x1882d9,_0xc67c89);};const _0x498581=document['createElement']('div');_0x498581[_0x50b6da(0xdf)][_0x50b6da(0xea)]('delete','bc'),_0x5e868f['appendChild'](_0x498581),_0x498581['onclick']=async()=>{const _0x12db81=_0x50b6da;if(window[_0x12db81(0xb2)]('Delete\x20this\x20file?'+_0xc67c89)){const _0x4b9dd1=_0xc67c89[_0x12db81(0xaa)](/\....$/,_0x12db81(0xdb));a0_0x3cd9e4['deleteFile'](_0x1882d9),localStorage[_0x12db81(0xce)](_0x4b9dd1+_0x12db81(0xe2)+_0xc67c89[_0x12db81(0xb6)](-0x1)),localStorage['removeItem'](_0x4b9dd1+_0x12db81(0xde)+_0xc67c89[_0x12db81(0xb6)](-0x1)),localStorageFile(),_0x397d0a['close'](),_0x397d0a['remove'](),mgbaStorage[_0x12db81(0xdf)][_0x12db81(0xc2)](_0x12db81(0xec));}};const _0x5272fb=document[_0x50b6da(0xbb)](_0x50b6da(0xc0));_0x5272fb[_0x50b6da(0xdf)][_0x50b6da(0xea)](_0x50b6da(0xc8),'bc'),_0x5e868f['appendChild'](_0x5272fb),_0x5272fb[_0x50b6da(0xeb)]=async()=>{const _0x2335fc=_0x50b6da,_0xb04746=window[_0x2335fc(0xc4)](_0x2335fc(0xd6),_0xc67c89);_0xb04746!==null&&(a0_0x3cd9e4['editFile'](_0x1882d9,_0xc67c89,_0xb04746),localStorageFile(),_0x397d0a[_0x2335fc(0xcd)](),_0x397d0a[_0x2335fc(0xc2)](),mgbaStorage['classList'][_0x2335fc(0xc2)](_0x2335fc(0xec)));},_0x397d0a['showModal']();};const _0x33ff8c=document[_0x1c89c2(0xbb)](_0x1c89c2(0xc6));_0x33ff8c[_0x1c89c2(0xe6)]=humanFileSize(a0_0x3cd9e4['fileSize'](_0x1882d9)),_0x33ff8c[_0x1c89c2(0xdf)][_0x1c89c2(0xea)](_0x1c89c2(0xbe)),_0xbbb16c[_0x1c89c2(0xcf)](_0x33ff8c);}export function localStorageFile(){const _0x37d6e2=a0_0x23c177,_0x249166=a0_0x3cd9e4[_0x37d6e2(0xd4)](),_0x369e8f=a0_0x3cd9e4['listSave'](),_0x1e492d=a0_0x3cd9e4[_0x37d6e2(0xf0)](),_0x51508b=a0_0x3cd9e4[_0x37d6e2(0xb1)](),_0x3b0f38=a0_0x3cd9e4[_0x37d6e2(0xd1)](),_0x5c5e5e=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4092de of _0x5c5e5e){while(_0x4092de[_0x37d6e2(0xd5)]){_0x4092de[_0x37d6e2(0xb4)]['remove']();}}for(const _0x17d596 of _0x249166){createElementStorage(romsFile,_0x17d596,_0x37d6e2(0xd2)+_0x17d596);}for(const _0x50e8d5 of _0x1e492d){createElementStorage(statesFile,_0x50e8d5,'/data/states/'+_0x50e8d5);}for(const _0x3a158e of _0x369e8f){createElementStorage(savesFile,_0x3a158e,'/data/saves/'+_0x3a158e);}for(const _0x2ed335 of _0x51508b){createElementStorage(cheatsFile,_0x2ed335,_0x37d6e2(0xbd)+_0x2ed335);}for(const _0x1a6c75 of _0x3b0f38){createElementStorage(screenshotsFile,_0x1a6c75,_0x37d6e2(0xe4)+_0x1a6c75);}}document['addEventListener']('DOMContentLoaded',function(){const _0x130512=a0_0x23c177;upLoadFile['addEventListener'](_0x130512(0xdd),function(){const _0x258f2a=_0x130512;a0_0x3cd9e4[_0x258f2a(0xe8)](upLoadFile);}),openLocalStorage[_0x130512(0xd3)](_0x130512(0xc3),function(){const _0x333de3=_0x130512,_0x37e67d=localStorage[_0x333de3(0xb7)](_0x333de3(0xe3));storage[_0x333de3(0xdf)][_0x333de3(0xc2)](_0x333de3(0xc1)),intro[_0x333de3(0xdf)][_0x333de3(0xea)](_0x333de3(0xc1)),ingame['classList'][_0x333de3(0xea)](_0x333de3(0xc1)),_0x37e67d===null||_0x37e67d===''?(dropboxRestore[_0x333de3(0xdf)][_0x333de3(0xc2)](_0x333de3(0xc7)),dropboxBackup[_0x333de3(0xdf)]['remove'](_0x333de3(0xc7)),dropboxCloud['classList'][_0x333de3(0xc2)]('active')):(dropboxRestore[_0x333de3(0xdf)][_0x333de3(0xea)]('active'),dropboxBackup[_0x333de3(0xdf)][_0x333de3(0xea)]('active'),dropboxCloud[_0x333de3(0xdf)][_0x333de3(0xea)](_0x333de3(0xc7)));}),setTimeout(()=>{localStorageFile();},0xbb8);});