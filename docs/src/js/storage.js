const a0_0x53ed7e=a0_0x2a08;(function(_0x5e9f9f,_0xcfbca){const _0x5a7e10=a0_0x2a08,_0x450cf0=_0x5e9f9f();while(!![]){try{const _0x447f7c=parseInt(_0x5a7e10(0xb5))/0x1+parseInt(_0x5a7e10(0x9a))/0x2*(-parseInt(_0x5a7e10(0xb8))/0x3)+-parseInt(_0x5a7e10(0xbf))/0x4+-parseInt(_0x5a7e10(0xa2))/0x5*(parseInt(_0x5a7e10(0xcf))/0x6)+-parseInt(_0x5a7e10(0xd7))/0x7+parseInt(_0x5a7e10(0xcc))/0x8+parseInt(_0x5a7e10(0xae))/0x9;if(_0x447f7c===_0xcfbca)break;else _0x450cf0['push'](_0x450cf0['shift']());}catch(_0x2c52){_0x450cf0['push'](_0x450cf0['shift']());}}}(a0_0x1d73,0x3c049));import*as a0_0x397ecb from'./main.js';const mgbaStorage=document[a0_0x53ed7e(0xb1)]('mgba-storage'),savesFile=document[a0_0x53ed7e(0xb1)](a0_0x53ed7e(0xd8)),romsFile=document[a0_0x53ed7e(0xb1)](a0_0x53ed7e(0xd0)),statesFile=document[a0_0x53ed7e(0xb1)](a0_0x53ed7e(0xc7)),screenshotsFile=document['getElementById']('screenshotsFile');function a0_0x1d73(){const _0x5b4039=['lastChild','toFixed','flex-1','disable','opacity0','370taAFYS','KiB','TiB','Delete\x20this\x20file?','DOMContentLoaded','active','getItem','storage','122035giUkJx','addEventListener','replace','onclose','remove','abs','removeItem','mib','right','rom-item','click','_imageState','10542636SVLvCW','Edit\x20filename','rom','getElementById','downloadFile','uploadFile','fileSize','365463gxnJLm','delete','rename','7587JZmQEP','YiB','div','textContent','classList','close','EiB','882948vPtvKA','/data/saves/','slice','/data/games/','gap-16','onclick','span','gap-10','statesFile','actionDiv','dialog','editFile','appendChild','524000axOVjq','cheats','showModal','66BquJZY','romsFile','.gba','MiB','_dateState','confirm','home','/data/screenshots/','2796185iQgfvy','savesFile','GiB','listFiles','createElement','add','length','states','uId','download','screenshots'];a0_0x1d73=function(){return _0x5b4039;};return a0_0x1d73();}function a0_0x2a08(_0x140a0e,_0x224a7e){const _0x1d73d3=a0_0x1d73();return a0_0x2a08=function(_0x2a088d,_0x2f1d28){_0x2a088d=_0x2a088d-0x97;let _0x98a799=_0x1d73d3[_0x2a088d];return _0x98a799;},a0_0x2a08(_0x140a0e,_0x224a7e);}function humanFileSize(_0x1d6a36,_0x45abb4=![],_0x5de153=0x1){const _0x536af2=a0_0x53ed7e,_0x38fa02=_0x45abb4?0x3e8:0x400,_0x1adf19=_0x45abb4?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x536af2(0x9b),_0x536af2(0xd2),_0x536af2(0xd9),_0x536af2(0x9c),'PiB',_0x536af2(0xbe),'ZiB',_0x536af2(0xb9)];let _0x3b5198=-0x1;do{_0x1d6a36/=_0x38fa02,++_0x3b5198;}while(Math[_0x536af2(0xa7)](_0x1d6a36)>=_0x38fa02&&_0x3b5198<_0x1adf19[_0x536af2(0xdd)]-0x1);return _0x1d6a36[_0x536af2(0xe3)](_0x5de153)+'\x20'+_0x1adf19[_0x3b5198];}function createElementStorage(_0x27c66d,_0x5f10ef,_0x59ed18){const _0x490e71=a0_0x53ed7e,_0x3dee6a=document[_0x490e71(0xdb)]('div');_0x3dee6a[_0x490e71(0xbc)][_0x490e71(0xdc)](_0x490e71(0x97),'rom-item',_0x490e71(0xb0)),_0x27c66d[_0x490e71(0xcb)](_0x3dee6a);const _0x1e5c19=document[_0x490e71(0xdb)](_0x490e71(0xc5));_0x1e5c19[_0x490e71(0xbb)]=_0x5f10ef,_0x1e5c19[_0x490e71(0xbc)]['add']('flex-1'),_0x3dee6a[_0x490e71(0xcb)](_0x1e5c19),_0x1e5c19[_0x490e71(0xc4)]=()=>{const _0xd6c140=_0x490e71,_0x291d2e=document[_0xd6c140(0xdb)](_0xd6c140(0xc9));_0x291d2e[_0xd6c140(0xa5)]=()=>_0x291d2e[_0xd6c140(0xa6)](),_0x27c66d[_0xd6c140(0xcb)](_0x291d2e);const _0x2bd76c=document[_0xd6c140(0xdb)](_0xd6c140(0xba));_0x2bd76c[_0xd6c140(0xbc)][_0xd6c140(0xdc)](_0xd6c140(0xa1),_0xd6c140(0xaa),_0xd6c140(0xc6)),_0x291d2e['appendChild'](_0x2bd76c);const _0x26ca26=document[_0xd6c140(0xdb)](_0xd6c140(0xba));_0x26ca26['classList'][_0xd6c140(0xdc)](_0xd6c140(0xd5),'bc',_0xd6c140(0x97)),_0x2bd76c[_0xd6c140(0xcb)](_0x26ca26);const _0x55cc8a=document[_0xd6c140(0xdb)](_0xd6c140(0xba));_0x55cc8a[_0xd6c140(0xbc)][_0xd6c140(0xdc)](_0xd6c140(0x97)),_0x2bd76c[_0xd6c140(0xcb)](_0x55cc8a);const _0x1eb9fc=document[_0xd6c140(0xdb)]('div');_0x1eb9fc[_0xd6c140(0xbc)][_0xd6c140(0xdc)]('flex-1'),_0x2bd76c[_0xd6c140(0xcb)](_0x1eb9fc);const _0x1917c0=document[_0xd6c140(0xdb)](_0xd6c140(0xba));_0x1917c0[_0xd6c140(0xbc)][_0xd6c140(0xdc)](_0xd6c140(0x97)),_0x2bd76c[_0xd6c140(0xcb)](_0x1917c0),mgbaStorage[_0xd6c140(0xbc)][_0xd6c140(0xdc)](_0xd6c140(0x99)),_0x26ca26['onclick']=()=>{const _0x24b8d1=_0xd6c140;_0x291d2e[_0x24b8d1(0xbd)](),_0x291d2e[_0x24b8d1(0xa6)](),mgbaStorage[_0x24b8d1(0xbc)][_0x24b8d1(0xa6)](_0x24b8d1(0x99));};const _0x3e5b3a=document[_0xd6c140(0xdb)](_0xd6c140(0xba));_0x3e5b3a[_0xd6c140(0xbc)]['add'](_0xd6c140(0x97),_0xd6c140(0xab),'hw','cw'),_0x3e5b3a[_0xd6c140(0xbb)]=_0x5f10ef,_0x291d2e['appendChild'](_0x3e5b3a);const _0xa70312=document[_0xd6c140(0xdb)](_0xd6c140(0xba));_0xa70312[_0xd6c140(0xbc)][_0xd6c140(0xdc)](_0xd6c140(0xc8),'hw','cw',_0xd6c140(0xc3)),_0x291d2e[_0xd6c140(0xcb)](_0xa70312);const _0x3247d9=document[_0xd6c140(0xdb)](_0xd6c140(0xba));_0x3247d9['classList']['add'](_0xd6c140(0xe0),'bc'),_0xa70312[_0xd6c140(0xcb)](_0x3247d9),_0x3247d9[_0xd6c140(0xc4)]=()=>{const _0x1c212a=_0xd6c140;a0_0x397ecb[_0x1c212a(0xb2)](_0x59ed18,_0x5f10ef);};const _0x2141af=document['createElement']('div');_0x2141af[_0xd6c140(0xbc)][_0xd6c140(0xdc)](_0xd6c140(0xb6),'bc'),_0xa70312[_0xd6c140(0xcb)](_0x2141af),_0x2141af['onclick']=async()=>{const _0x184177=_0xd6c140;if(window[_0x184177(0xd4)](_0x184177(0x9d)+_0x5f10ef)){const _0x11453c=_0x5f10ef[_0x184177(0xa4)](/\....$/,_0x184177(0xd1));a0_0x397ecb['deleteFile'](_0x59ed18),localStorage[_0x184177(0xa8)](_0x11453c+_0x184177(0xd3)+_0x5f10ef[_0x184177(0xc1)](-0x1)),localStorage[_0x184177(0xa8)](_0x11453c+_0x184177(0xad)+_0x5f10ef['slice'](-0x1)),localStorageFile(),_0x291d2e[_0x184177(0xbd)](),_0x291d2e['remove'](),mgbaStorage[_0x184177(0xbc)][_0x184177(0xa6)](_0x184177(0x99));}};const _0x7fb2ae=document[_0xd6c140(0xdb)]('div');_0x7fb2ae[_0xd6c140(0xbc)][_0xd6c140(0xdc)](_0xd6c140(0xb7),'bc'),_0xa70312[_0xd6c140(0xcb)](_0x7fb2ae),_0x7fb2ae[_0xd6c140(0xc4)]=async()=>{const _0x4f9004=_0xd6c140,_0x4f7cf2=window['prompt'](_0x4f9004(0xaf),_0x5f10ef);_0x4f7cf2!==null&&(a0_0x397ecb[_0x4f9004(0xca)](_0x59ed18,_0x5f10ef,_0x4f7cf2),localStorageFile(),_0x291d2e[_0x4f9004(0xbd)](),_0x291d2e[_0x4f9004(0xa6)](),mgbaStorage[_0x4f9004(0xbc)][_0x4f9004(0xa6)]('opacity0'));},_0x291d2e[_0xd6c140(0xce)]();};const _0x28c90e=document['createElement']('span');_0x28c90e['textContent']=humanFileSize(a0_0x397ecb[_0x490e71(0xb4)](_0x59ed18)),_0x28c90e[_0x490e71(0xbc)][_0x490e71(0xdc)](_0x490e71(0xa9)),_0x3dee6a[_0x490e71(0xcb)](_0x28c90e);}export function localStorageFile(){const _0x2ba819=a0_0x53ed7e,_0x4a5189=a0_0x397ecb[_0x2ba819(0xda)]('games'),_0x2d5ac0=a0_0x397ecb[_0x2ba819(0xda)]('saves'),_0x17f1c0=a0_0x397ecb[_0x2ba819(0xda)](_0x2ba819(0xde)),_0x22f481=a0_0x397ecb['listFiles'](_0x2ba819(0xcd)),_0x55128c=a0_0x397ecb[_0x2ba819(0xda)](_0x2ba819(0xe1)),_0x332135=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x309025 of _0x332135){while(_0x309025['firstChild']){_0x309025[_0x2ba819(0xe2)]['remove']();}}for(const _0x478308 of _0x4a5189){createElementStorage(romsFile,_0x478308,_0x2ba819(0xc2)+_0x478308);}for(const _0x19b4b4 of _0x17f1c0){createElementStorage(statesFile,_0x19b4b4,'/data/states/'+_0x19b4b4);}for(const _0x40b76b of _0x2d5ac0){createElementStorage(savesFile,_0x40b76b,_0x2ba819(0xc0)+_0x40b76b);}for(const _0x851c1a of _0x22f481){createElementStorage(cheatsFile,_0x851c1a,'/data/cheats/'+_0x851c1a);}for(const _0x1755d6 of _0x55128c){createElementStorage(screenshotsFile,_0x1755d6,_0x2ba819(0xd6)+_0x1755d6);}}document['addEventListener'](a0_0x53ed7e(0x9e),function(){const _0x532391=a0_0x53ed7e;upLoadFile['addEventListener']('change',function(){const _0x546d31=a0_0x2a08;a0_0x397ecb[_0x546d31(0xb3)](upLoadFile);}),openLocalStorage[_0x532391(0xa3)](_0x532391(0xac),function(){const _0xc2e04f=_0x532391,_0x1a6586=localStorage[_0xc2e04f(0xa0)](_0xc2e04f(0xdf));storage[_0xc2e04f(0xbc)][_0xc2e04f(0xa6)]('disable'),intro[_0xc2e04f(0xbc)]['add'](_0xc2e04f(0x98)),ingame['classList'][_0xc2e04f(0xdc)](_0xc2e04f(0x98)),_0x1a6586===null||_0x1a6586===''?(dropboxRestore['classList'][_0xc2e04f(0xa6)](_0xc2e04f(0x9f)),dropboxBackup[_0xc2e04f(0xbc)][_0xc2e04f(0xa6)](_0xc2e04f(0x9f)),dropboxCloud[_0xc2e04f(0xbc)]['remove'](_0xc2e04f(0x9f))):(dropboxRestore['classList'][_0xc2e04f(0xdc)]('active'),dropboxBackup[_0xc2e04f(0xbc)][_0xc2e04f(0xdc)]('active'),dropboxCloud[_0xc2e04f(0xbc)][_0xc2e04f(0xdc)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});