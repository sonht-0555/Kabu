const a0_0x4b7a05=a0_0x47c8;function a0_0x58d1(){const _0x3ee954=['uId','mgba-storage','createElement','right','YiB','2508OeVnGD','10cZsinr','screenshotsFile','PiB','444186qpQYbA','listState','.gbc','/data/games/','/data/saves/','Delete\x20this\x20file?','_dateState','364648lbVDve','/data/screenshots/','.cheats','slice','MiB','dialog','onclick','TiB','120216SgJulz','DOMContentLoaded','change','mib','add','flex-1','rename','getItem','/data/states/','romsFile','statesFile','EiB','uploadGame','.bc','70JvwMRV','savesFile','abs','opacity0','.gba','uploadCheat','downloadFile','KiB','6284376DMTkln','active','actionDiv','rom','20735yBBITY','161IkavSx','lastChild','length','882277DbpYRq','delete','rom-item','listSave','showModal','setItem','endsWith','gap-16','span','prompt','classList','removeItem','close','listCheat','div','name','getElementById','466znJmVm','textContent','3VzzhHu','home','storage','replace','disable','addEventListener','Edit\x20filename','confirm','2248csjGgO','remove','appendChild','_imageState'];a0_0x58d1=function(){return _0x3ee954;};return a0_0x58d1();}(function(_0xfdfc26,_0x1083af){const _0x698374=a0_0x47c8,_0x3aff1d=_0xfdfc26();while(!![]){try{const _0x117f83=parseInt(_0x698374(0x11f))/0x1*(-parseInt(_0x698374(0xd4))/0x2)+-parseInt(_0x698374(0x121))/0x3*(parseInt(_0x698374(0xe8))/0x4)+parseInt(_0x698374(0xfe))/0x5*(parseInt(_0x698374(0xe1))/0x6)+parseInt(_0x698374(0x10b))/0x7*(-parseInt(_0x698374(0xf0))/0x8)+parseInt(_0x698374(0x106))/0x9+parseInt(_0x698374(0xde))/0xa*(parseInt(_0x698374(0x10e))/0xb)+parseInt(_0x698374(0xdd))/0xc*(-parseInt(_0x698374(0x10a))/0xd);if(_0x117f83===_0x1083af)break;else _0x3aff1d['push'](_0x3aff1d['shift']());}catch(_0x4f814a){_0x3aff1d['push'](_0x3aff1d['shift']());}}}(a0_0x58d1,0x7f317));import*as a0_0xae8b54 from'./main.js';const mgbaStorage=document[a0_0x4b7a05(0x11e)](a0_0x4b7a05(0xd9)),savesFile=document[a0_0x4b7a05(0x11e)](a0_0x4b7a05(0xff)),romsFile=document[a0_0x4b7a05(0x11e)](a0_0x4b7a05(0xf9)),statesFile=document[a0_0x4b7a05(0x11e)](a0_0x4b7a05(0xfa)),screenshotsFile=document['getElementById'](a0_0x4b7a05(0xdf));function a0_0x47c8(_0x56ecc2,_0x46deec){const _0x58d1e5=a0_0x58d1();return a0_0x47c8=function(_0x47c85e,_0x1a896c){_0x47c85e=_0x47c85e-0xd3;let _0x31d82a=_0x58d1e5[_0x47c85e];return _0x31d82a;},a0_0x47c8(_0x56ecc2,_0x46deec);}function humanFileSize(_0x13b121,_0x81472=![],_0x2e79df=0x1){const _0x1eb46e=a0_0x4b7a05,_0x2859c1=_0x81472?0x3e8:0x400,_0x2bcb83=_0x81472?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1eb46e(0x105),_0x1eb46e(0xec),'GiB',_0x1eb46e(0xef),_0x1eb46e(0xe0),_0x1eb46e(0xfb),'ZiB',_0x1eb46e(0xdc)];let _0x1848c3=-0x1;do{_0x13b121/=_0x2859c1,++_0x1848c3;}while(Math[_0x1eb46e(0x100)](_0x13b121)>=_0x2859c1&&_0x1848c3<_0x2bcb83[_0x1eb46e(0x10d)]-0x1);return _0x13b121['toFixed'](_0x2e79df)+'\x20'+_0x2bcb83[_0x1848c3];}function createElementStorage(_0x4e416e,_0x5eeccf,_0x480278){const _0x289d3d=a0_0x4b7a05,_0x3b3847=document['createElement'](_0x289d3d(0x11c));_0x3b3847[_0x289d3d(0x118)][_0x289d3d(0xf4)](_0x289d3d(0xf5),_0x289d3d(0x110),_0x289d3d(0x109)),_0x4e416e[_0x289d3d(0xd6)](_0x3b3847);const _0x4344fc=document['createElement']('span');_0x4344fc[_0x289d3d(0x120)]=_0x5eeccf,_0x4344fc[_0x289d3d(0x118)][_0x289d3d(0xf4)]('flex-1'),_0x3b3847[_0x289d3d(0xd6)](_0x4344fc),_0x4344fc['onclick']=()=>{const _0x1fed2a=_0x289d3d,_0x2cac01=document[_0x1fed2a(0xda)](_0x1fed2a(0xed));_0x2cac01['onclose']=()=>_0x2cac01[_0x1fed2a(0xd5)](),_0x4e416e[_0x1fed2a(0xd6)](_0x2cac01);const _0x191279=document[_0x1fed2a(0xda)](_0x1fed2a(0x11c));_0x191279[_0x1fed2a(0x118)][_0x1fed2a(0xf4)](_0x1fed2a(0x123),_0x1fed2a(0xdb),'gap-10'),_0x2cac01['appendChild'](_0x191279);const _0x434ba6=document[_0x1fed2a(0xda)](_0x1fed2a(0x11c));_0x434ba6[_0x1fed2a(0x118)][_0x1fed2a(0xf4)](_0x1fed2a(0x122),'bc',_0x1fed2a(0xf5)),_0x191279['appendChild'](_0x434ba6);const _0x4327a5=document[_0x1fed2a(0xda)]('div');_0x4327a5[_0x1fed2a(0x118)][_0x1fed2a(0xf4)](_0x1fed2a(0xf5)),_0x191279['appendChild'](_0x4327a5);const _0x354e85=document[_0x1fed2a(0xda)](_0x1fed2a(0x11c));_0x354e85[_0x1fed2a(0x118)][_0x1fed2a(0xf4)](_0x1fed2a(0xf5)),_0x191279['appendChild'](_0x354e85);const _0x237f4b=document[_0x1fed2a(0xda)](_0x1fed2a(0x11c));_0x237f4b['classList'][_0x1fed2a(0xf4)]('flex-1'),_0x191279[_0x1fed2a(0xd6)](_0x237f4b),mgbaStorage[_0x1fed2a(0x118)][_0x1fed2a(0xf4)](_0x1fed2a(0x101)),_0x434ba6[_0x1fed2a(0xee)]=()=>{const _0x3d32e7=_0x1fed2a;_0x2cac01[_0x3d32e7(0x11a)](),_0x2cac01[_0x3d32e7(0xd5)](),mgbaStorage['classList']['remove'](_0x3d32e7(0x101));};const _0x20479b=document['createElement'](_0x1fed2a(0x11c));_0x20479b[_0x1fed2a(0x118)][_0x1fed2a(0xf4)](_0x1fed2a(0xf5),_0x1fed2a(0x110),'hw','cw'),_0x20479b[_0x1fed2a(0x120)]=_0x5eeccf,_0x2cac01['appendChild'](_0x20479b);const _0x63b562=document[_0x1fed2a(0xda)](_0x1fed2a(0x11c));_0x63b562['classList'][_0x1fed2a(0xf4)](_0x1fed2a(0x108),'hw','cw',_0x1fed2a(0x115)),_0x2cac01['appendChild'](_0x63b562);const _0x238022=document[_0x1fed2a(0xda)]('div');_0x238022[_0x1fed2a(0x118)][_0x1fed2a(0xf4)]('download','bc'),_0x63b562['appendChild'](_0x238022),_0x238022[_0x1fed2a(0xee)]=()=>{const _0x1aed3c=_0x1fed2a;a0_0xae8b54[_0x1aed3c(0x104)](_0x480278,_0x5eeccf);};const _0x513a39=document[_0x1fed2a(0xda)](_0x1fed2a(0x11c));_0x513a39[_0x1fed2a(0x118)][_0x1fed2a(0xf4)](_0x1fed2a(0x10f),'bc'),_0x63b562[_0x1fed2a(0xd6)](_0x513a39),_0x513a39[_0x1fed2a(0xee)]=async()=>{const _0x4d0a00=_0x1fed2a;if(window[_0x4d0a00(0xd3)](_0x4d0a00(0xe6)+_0x5eeccf)){const _0x2a1bf1=_0x5eeccf[_0x4d0a00(0x124)](/\....$/,_0x4d0a00(0x102));a0_0xae8b54['deleteFile'](_0x480278),localStorage[_0x4d0a00(0x119)](_0x2a1bf1+_0x4d0a00(0xe7)+_0x5eeccf[_0x4d0a00(0xeb)](-0x1)),localStorage[_0x4d0a00(0x119)](_0x2a1bf1+_0x4d0a00(0xd7)+_0x5eeccf[_0x4d0a00(0xeb)](-0x1)),localStorageFile(),_0x2cac01[_0x4d0a00(0x11a)](),_0x2cac01[_0x4d0a00(0xd5)](),mgbaStorage['classList'][_0x4d0a00(0xd5)](_0x4d0a00(0x101));}};const _0x41d7e8=document[_0x1fed2a(0xda)]('div');_0x41d7e8[_0x1fed2a(0x118)][_0x1fed2a(0xf4)](_0x1fed2a(0xf6),'bc'),_0x63b562[_0x1fed2a(0xd6)](_0x41d7e8),_0x41d7e8[_0x1fed2a(0xee)]=async()=>{const _0x2f5ef9=_0x1fed2a,_0x5a84b6=window[_0x2f5ef9(0x117)](_0x2f5ef9(0x127),_0x5eeccf);if(_0x5a84b6!==null){const _0x1dfcf3=_0x5eeccf[_0x2f5ef9(0x124)](/\....$/,_0x2f5ef9(0x102)),_0x363e48=_0x5a84b6['replace'](/\....$/,_0x2f5ef9(0x102)),_0x55be5c=_0x1dfcf3+_0x2f5ef9(0xe7)+_0x5eeccf[_0x2f5ef9(0xeb)](-0x1),_0x25be42=_0x1dfcf3+_0x2f5ef9(0xd7)+_0x5eeccf[_0x2f5ef9(0xeb)](-0x1),_0x2f082c=_0x363e48+_0x2f5ef9(0xe7)+_0x5a84b6[_0x2f5ef9(0xeb)](-0x1),_0x588a36=_0x363e48+_0x2f5ef9(0xd7)+_0x5a84b6[_0x2f5ef9(0xeb)](-0x1),_0x26e239=localStorage[_0x2f5ef9(0xf7)](_0x55be5c),_0x11a4f4=localStorage['getItem'](_0x25be42);_0x26e239!==null&&(localStorage['setItem'](_0x2f082c,_0x26e239),localStorage[_0x2f5ef9(0x119)](_0x55be5c)),_0x11a4f4!==null&&(localStorage[_0x2f5ef9(0x113)](_0x588a36,_0x11a4f4),localStorage[_0x2f5ef9(0x119)](_0x25be42)),a0_0xae8b54['editFile'](_0x480278,_0x5eeccf,_0x5a84b6),localStorageFile(),_0x2cac01[_0x2f5ef9(0x11a)](),_0x2cac01[_0x2f5ef9(0xd5)](),mgbaStorage[_0x2f5ef9(0x118)][_0x2f5ef9(0xd5)]('opacity0');}},_0x2cac01[_0x1fed2a(0x112)]();};const _0x37adbc=document[_0x289d3d(0xda)](_0x289d3d(0x116));_0x37adbc['textContent']=humanFileSize(a0_0xae8b54['fileSize'](_0x480278)),_0x37adbc['classList'][_0x289d3d(0xf4)](_0x289d3d(0xf3)),_0x3b3847[_0x289d3d(0xd6)](_0x37adbc);}export function localStorageFile(){const _0x106c19=a0_0x4b7a05,_0x541df2=a0_0xae8b54['listGame'](),_0x222832=a0_0xae8b54[_0x106c19(0x111)](),_0x3cd74d=a0_0xae8b54[_0x106c19(0xe2)](),_0x5ee64a=a0_0xae8b54[_0x106c19(0x11b)](),_0x357890=a0_0xae8b54['listScreenshot'](),_0x7f6c98=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x6e6f2b of _0x7f6c98){while(_0x6e6f2b['firstChild']){_0x6e6f2b[_0x106c19(0x10c)][_0x106c19(0xd5)]();}}for(const _0x306b4c of _0x541df2){createElementStorage(romsFile,_0x306b4c,_0x106c19(0xe4)+_0x306b4c);}for(const _0x497c5e of _0x3cd74d){createElementStorage(statesFile,_0x497c5e,_0x106c19(0xf8)+_0x497c5e);}for(const _0x37612c of _0x222832){createElementStorage(savesFile,_0x37612c,_0x106c19(0xe5)+_0x37612c);}for(const _0x35cc9c of _0x5ee64a){createElementStorage(cheatsFile,_0x35cc9c,'/data/cheats/'+_0x35cc9c);}for(const _0x4acc0e of _0x357890){createElementStorage(screenshotsFile,_0x4acc0e,_0x106c19(0xe9)+_0x4acc0e);}}document[a0_0x4b7a05(0x126)](a0_0x4b7a05(0xf1),function(){const _0x242d8c=a0_0x4b7a05;upLoadFile[_0x242d8c(0x126)](_0x242d8c(0xf2),function(){const _0x433c02=_0x242d8c,_0x4a2e47=upLoadFile['files'][0x0][_0x433c02(0x11d)];if(_0x4a2e47[_0x433c02(0x114)](_0x433c02(0xea)))a0_0xae8b54[_0x433c02(0x103)](upLoadFile);else _0x4a2e47[_0x433c02(0x114)]('.gba')||_0x4a2e47[_0x433c02(0x114)](_0x433c02(0xe3))||_0x4a2e47[_0x433c02(0x114)](_0x433c02(0xfd))?a0_0xae8b54[_0x433c02(0xfc)](upLoadFile):a0_0xae8b54['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x242d8c(0x126)]('click',function(){const _0x42edc7=_0x242d8c,_0x37d61b=localStorage['getItem'](_0x42edc7(0xd8));storage[_0x42edc7(0x118)][_0x42edc7(0xd5)]('disable'),intro[_0x42edc7(0x118)][_0x42edc7(0xf4)]('disable'),ingame[_0x42edc7(0x118)]['add'](_0x42edc7(0x125)),_0x37d61b===null||_0x37d61b===''?(dropboxRestore[_0x42edc7(0x118)][_0x42edc7(0xd5)]('active'),dropboxBackup[_0x42edc7(0x118)][_0x42edc7(0xd5)](_0x42edc7(0x107)),dropboxCloud[_0x42edc7(0x118)][_0x42edc7(0xd5)](_0x42edc7(0x107))):(dropboxRestore['classList'][_0x42edc7(0xf4)](_0x42edc7(0x107)),dropboxBackup[_0x42edc7(0x118)][_0x42edc7(0xf4)](_0x42edc7(0x107)),dropboxCloud[_0x42edc7(0x118)]['add'](_0x42edc7(0x107)));}),setTimeout(()=>{localStorageFile();},0xbb8);});