const a0_0xfc8eed=a0_0x139c;function a0_0x139c(_0x386e50,_0x21b7f9){const _0x17b704=a0_0x17b7();return a0_0x139c=function(_0x139c22,_0x2a679f){_0x139c22=_0x139c22-0x1d5;let _0x5d8b1e=_0x17b704[_0x139c22];return _0x5d8b1e;},a0_0x139c(_0x386e50,_0x21b7f9);}(function(_0x500c6a,_0x597805){const _0x153d5c=a0_0x139c,_0x1de5ed=_0x500c6a();while(!![]){try{const _0x1913ae=-parseInt(_0x153d5c(0x1d8))/0x1+parseInt(_0x153d5c(0x20a))/0x2+-parseInt(_0x153d5c(0x20d))/0x3+-parseInt(_0x153d5c(0x1dd))/0x4+-parseInt(_0x153d5c(0x1ee))/0x5+-parseInt(_0x153d5c(0x1f7))/0x6+parseInt(_0x153d5c(0x222))/0x7*(parseInt(_0x153d5c(0x1e3))/0x8);if(_0x1913ae===_0x597805)break;else _0x1de5ed['push'](_0x1de5ed['shift']());}catch(_0x39b798){_0x1de5ed['push'](_0x1de5ed['shift']());}}}(a0_0x17b7,0x4866f));import*as a0_0x509170 from'./main.js';const mgbaStorage=document[a0_0xfc8eed(0x200)](a0_0xfc8eed(0x1f3)),savesFile=document[a0_0xfc8eed(0x200)]('savesFile'),romsFile=document[a0_0xfc8eed(0x200)](a0_0xfc8eed(0x1db)),statesFile=document[a0_0xfc8eed(0x200)](a0_0xfc8eed(0x207)),screenshotsFile=document[a0_0xfc8eed(0x200)]('screenshotsFile');function humanFileSize(_0x5663c1,_0x4edec3=![],_0x275ebf=0x1){const _0x4f65c8=a0_0xfc8eed,_0x101f9e=_0x4edec3?0x3e8:0x400,_0xfb5465=_0x4edec3?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4f65c8(0x1fc),_0x4f65c8(0x21f),_0x4f65c8(0x1fa),_0x4f65c8(0x1e4),_0x4f65c8(0x215),_0x4f65c8(0x208),_0x4f65c8(0x1da),_0x4f65c8(0x211)];let _0x5a829a=-0x1;do{_0x5663c1/=_0x101f9e,++_0x5a829a;}while(Math[_0x4f65c8(0x1f8)](_0x5663c1)>=_0x101f9e&&_0x5a829a<_0xfb5465[_0x4f65c8(0x1fe)]-0x1);return _0x5663c1[_0x4f65c8(0x1de)](_0x275ebf)+'\x20'+_0xfb5465[_0x5a829a];}function createElementStorage(_0x14c9fd,_0xd7c815,_0x2de9d5){const _0x2be595=a0_0xfc8eed,_0x11cfd3=document[_0x2be595(0x1f6)](_0x2be595(0x1f1));_0x11cfd3[_0x2be595(0x1e6)]['add'](_0x2be595(0x221),'rom-item',_0x2be595(0x21b)),_0x14c9fd[_0x2be595(0x205)](_0x11cfd3);const _0x4221e4=document[_0x2be595(0x1f6)](_0x2be595(0x21a));_0x4221e4[_0x2be595(0x21e)]=_0xd7c815,_0x4221e4['classList'][_0x2be595(0x1e7)]('flex-1'),_0x11cfd3['appendChild'](_0x4221e4),_0x4221e4[_0x2be595(0x209)]=()=>{const _0x64b40a=_0x2be595,_0x2efaec=document[_0x64b40a(0x1f6)](_0x64b40a(0x213));_0x2efaec[_0x64b40a(0x20c)]=()=>_0x2efaec[_0x64b40a(0x1ea)](),_0x14c9fd['appendChild'](_0x2efaec);const _0x477b33=document[_0x64b40a(0x1f6)](_0x64b40a(0x1f1));_0x477b33[_0x64b40a(0x1e6)][_0x64b40a(0x1e7)](_0x64b40a(0x217),_0x64b40a(0x1ff),_0x64b40a(0x20e)),_0x2efaec['appendChild'](_0x477b33);const _0x19161c=document['createElement'](_0x64b40a(0x1f1));_0x19161c[_0x64b40a(0x1e6)][_0x64b40a(0x1e7)](_0x64b40a(0x218),'bc',_0x64b40a(0x221)),_0x477b33[_0x64b40a(0x205)](_0x19161c);const _0x1fef89=document[_0x64b40a(0x1f6)](_0x64b40a(0x1f1));_0x1fef89[_0x64b40a(0x1e6)][_0x64b40a(0x1e7)]('flex-1'),_0x477b33[_0x64b40a(0x205)](_0x1fef89);const _0x101048=document[_0x64b40a(0x1f6)](_0x64b40a(0x1f1));_0x101048[_0x64b40a(0x1e6)]['add'](_0x64b40a(0x221)),_0x477b33[_0x64b40a(0x205)](_0x101048);const _0x35cfc9=document[_0x64b40a(0x1f6)](_0x64b40a(0x1f1));_0x35cfc9['classList'][_0x64b40a(0x1e7)](_0x64b40a(0x221)),_0x477b33[_0x64b40a(0x205)](_0x35cfc9),mgbaStorage[_0x64b40a(0x1e6)]['add'](_0x64b40a(0x1e9)),_0x19161c[_0x64b40a(0x209)]=()=>{const _0x2c5227=_0x64b40a;_0x2efaec[_0x2c5227(0x1ec)](),_0x2efaec[_0x2c5227(0x1ea)](),mgbaStorage[_0x2c5227(0x1e6)]['remove']('opacity0');};const _0x20bbb7=document[_0x64b40a(0x1f6)](_0x64b40a(0x1f1));_0x20bbb7[_0x64b40a(0x1e6)]['add'](_0x64b40a(0x221),_0x64b40a(0x1e0),'hw','cw'),_0x20bbb7['textContent']=_0xd7c815,_0x2efaec[_0x64b40a(0x205)](_0x20bbb7);const _0x495bf3=document['createElement'](_0x64b40a(0x1f1));_0x495bf3['classList'][_0x64b40a(0x1e7)](_0x64b40a(0x210),'hw','cw',_0x64b40a(0x1df)),_0x2efaec[_0x64b40a(0x205)](_0x495bf3);const _0x215af9=document[_0x64b40a(0x1f6)](_0x64b40a(0x1f1));_0x215af9[_0x64b40a(0x1e6)]['add'](_0x64b40a(0x1d5),'bc'),_0x495bf3[_0x64b40a(0x205)](_0x215af9),_0x215af9[_0x64b40a(0x209)]=()=>{const _0x293851=_0x64b40a;a0_0x509170[_0x293851(0x1f2)](_0x2de9d5,_0xd7c815);};const _0x1529b8=document[_0x64b40a(0x1f6)]('div');_0x1529b8[_0x64b40a(0x1e6)][_0x64b40a(0x1e7)]('delete','bc'),_0x495bf3[_0x64b40a(0x205)](_0x1529b8),_0x1529b8[_0x64b40a(0x209)]=async()=>{const _0x16b7d9=_0x64b40a;if(window['confirm'](_0x16b7d9(0x1f5)+_0xd7c815)){const _0x3508d8=_0xd7c815['replace'](/\....$/,_0x16b7d9(0x1f4));a0_0x509170['deleteFile'](_0x2de9d5),localStorage[_0x16b7d9(0x1e5)](_0x3508d8+'_dateState'+_0xd7c815[_0x16b7d9(0x20f)](-0x1)),localStorage[_0x16b7d9(0x1e5)](_0x3508d8+_0x16b7d9(0x1d7)+_0xd7c815['slice'](-0x1)),localStorageFile(),_0x2efaec[_0x16b7d9(0x1ec)](),_0x2efaec['remove'](),mgbaStorage['classList']['remove']('opacity0');}};const _0x39b60a=document[_0x64b40a(0x1f6)]('div');_0x39b60a[_0x64b40a(0x1e6)][_0x64b40a(0x1e7)](_0x64b40a(0x20b),'bc'),_0x495bf3[_0x64b40a(0x205)](_0x39b60a),_0x39b60a[_0x64b40a(0x209)]=async()=>{const _0x1ddc5a=_0x64b40a,_0x8cd8e1=window['prompt'](_0x1ddc5a(0x219),_0xd7c815);if(_0x8cd8e1!==null){const _0x3ce335=_0xd7c815[_0x1ddc5a(0x1fd)](/\....$/,'.gba'),_0x4dec8d=_0x8cd8e1[_0x1ddc5a(0x1fd)](/\....$/,'.gba'),_0x2acbf2=_0x3ce335+'_dateState'+_0xd7c815[_0x1ddc5a(0x20f)](-0x1),_0x7bc51f=_0x3ce335+'_imageState'+_0xd7c815[_0x1ddc5a(0x20f)](-0x1),_0x14d5e3=_0x4dec8d+_0x1ddc5a(0x1e1)+_0x8cd8e1[_0x1ddc5a(0x20f)](-0x1),_0x28dc8c=_0x4dec8d+'_imageState'+_0x8cd8e1['slice'](-0x1),_0x2a5a1a=localStorage[_0x1ddc5a(0x201)](_0x2acbf2),_0x338e1a=localStorage[_0x1ddc5a(0x201)](_0x7bc51f);_0x2a5a1a!==null&&(localStorage[_0x1ddc5a(0x21d)](_0x14d5e3,_0x2a5a1a),localStorage[_0x1ddc5a(0x1e5)](_0x2acbf2)),_0x338e1a!==null&&(localStorage['setItem'](_0x28dc8c,_0x338e1a),localStorage['removeItem'](_0x7bc51f)),a0_0x509170[_0x1ddc5a(0x1dc)](_0x2de9d5,_0xd7c815,_0x8cd8e1),localStorageFile(),_0x2efaec[_0x1ddc5a(0x1ec)](),_0x2efaec['remove'](),mgbaStorage[_0x1ddc5a(0x1e6)][_0x1ddc5a(0x1ea)]('opacity0');}},_0x2efaec[_0x64b40a(0x1d6)]();};const _0x6d7c4f=document[_0x2be595(0x1f6)](_0x2be595(0x21a));_0x6d7c4f['textContent']=humanFileSize(a0_0x509170[_0x2be595(0x1eb)](_0x2de9d5)),_0x6d7c4f[_0x2be595(0x1e6)][_0x2be595(0x1e7)](_0x2be595(0x1d9)),_0x11cfd3['appendChild'](_0x6d7c4f);}function a0_0x17b7(){const _0x5688b7=['download','showModal','_imageState','4309njnXzT','mib','ZiB','romsFile','editFile','1197640yFJOLr','toFixed','gap-16','rom-item','_dateState','firstChild','32yCRJVE','TiB','removeItem','classList','add','/data/cheats/','opacity0','remove','fileSize','close','lastChild','2920500ZWNYLE','/data/states/','addEventListener','div','downloadFile','mgba-storage','.gba','Delete\x20this\x20file?','createElement','2433702lrCNQa','abs','uId','GiB','listSave','KiB','replace','length','right','getElementById','getItem','listGame','/data/games/','click','appendChild','listCheat','statesFile','EiB','onclick','3694OGLfhG','rename','onclose','1495800KPLEwj','gap-10','slice','actionDiv','YiB','listState','dialog','uploadFile','PiB','active','storage','home','Edit\x20filename','span','rom','disable','setItem','textContent','MiB','/data/screenshots/','flex-1','3651809KKtABB'];a0_0x17b7=function(){return _0x5688b7;};return a0_0x17b7();}export function localStorageFile(){const _0x51122e=a0_0xfc8eed,_0x2a0ade=a0_0x509170[_0x51122e(0x202)](),_0x597f61=a0_0x509170[_0x51122e(0x1fb)](),_0x1128e2=a0_0x509170[_0x51122e(0x212)](),_0x243723=a0_0x509170[_0x51122e(0x206)](),_0x422abd=a0_0x509170['listScreenshot'](),_0x474e3f=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x41b016 of _0x474e3f){while(_0x41b016[_0x51122e(0x1e2)]){_0x41b016[_0x51122e(0x1ed)]['remove']();}}for(const _0x59e295 of _0x2a0ade){createElementStorage(romsFile,_0x59e295,_0x51122e(0x203)+_0x59e295);}for(const _0x5727f5 of _0x1128e2){createElementStorage(statesFile,_0x5727f5,_0x51122e(0x1ef)+_0x5727f5);}for(const _0x3eee47 of _0x597f61){createElementStorage(savesFile,_0x3eee47,'/data/saves/'+_0x3eee47);}for(const _0x49be37 of _0x243723){createElementStorage(cheatsFile,_0x49be37,_0x51122e(0x1e8)+_0x49be37);}for(const _0x4b2d63 of _0x422abd){createElementStorage(screenshotsFile,_0x4b2d63,_0x51122e(0x220)+_0x4b2d63);}}document['addEventListener']('DOMContentLoaded',function(){const _0x5dbab8=a0_0xfc8eed;upLoadFile[_0x5dbab8(0x1f0)]('change',function(){const _0xaa75a0=_0x5dbab8;a0_0x509170[_0xaa75a0(0x214)](upLoadFile);}),openLocalStorage[_0x5dbab8(0x1f0)](_0x5dbab8(0x204),function(){const _0x3cdea8=_0x5dbab8,_0x2583d1=localStorage[_0x3cdea8(0x201)](_0x3cdea8(0x1f9));storage['classList']['remove'](_0x3cdea8(0x21c)),intro['classList'][_0x3cdea8(0x1e7)](_0x3cdea8(0x21c)),ingame[_0x3cdea8(0x1e6)][_0x3cdea8(0x1e7)](_0x3cdea8(0x21c)),_0x2583d1===null||_0x2583d1===''?(dropboxRestore['classList'][_0x3cdea8(0x1ea)](_0x3cdea8(0x216)),dropboxBackup['classList']['remove'](_0x3cdea8(0x216)),dropboxCloud[_0x3cdea8(0x1e6)][_0x3cdea8(0x1ea)](_0x3cdea8(0x216))):(dropboxRestore[_0x3cdea8(0x1e6)][_0x3cdea8(0x1e7)](_0x3cdea8(0x216)),dropboxBackup['classList'][_0x3cdea8(0x1e7)](_0x3cdea8(0x216)),dropboxCloud[_0x3cdea8(0x1e6)]['add'](_0x3cdea8(0x216)));}),setTimeout(()=>{localStorageFile();},0xbb8);});