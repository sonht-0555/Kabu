const a0_0x3fc247=a0_0x7687;(function(_0x4fce08,_0x465e1c){const _0x3c90fa=a0_0x7687,_0x52c656=_0x4fce08();while(!![]){try{const _0xc79acd=-parseInt(_0x3c90fa(0x1ac))/0x1+-parseInt(_0x3c90fa(0x191))/0x2+-parseInt(_0x3c90fa(0x160))/0x3+-parseInt(_0x3c90fa(0x185))/0x4*(-parseInt(_0x3c90fa(0x18d))/0x5)+parseInt(_0x3c90fa(0x17f))/0x6*(-parseInt(_0x3c90fa(0x17c))/0x7)+-parseInt(_0x3c90fa(0x178))/0x8*(-parseInt(_0x3c90fa(0x197))/0x9)+-parseInt(_0x3c90fa(0x196))/0xa*(-parseInt(_0x3c90fa(0x181))/0xb);if(_0xc79acd===_0x465e1c)break;else _0x52c656['push'](_0x52c656['shift']());}catch(_0x347376){_0x52c656['push'](_0x52c656['shift']());}}}(a0_0x84a9,0x59ba2));import*as a0_0x3f111c from'./main.js';function a0_0x7687(_0x1da5dd,_0x24692f){const _0x84a982=a0_0x84a9();return a0_0x7687=function(_0x768707,_0x336e16){_0x768707=_0x768707-0x15d;let _0x1997b1=_0x84a982[_0x768707];return _0x1997b1;},a0_0x7687(_0x1da5dd,_0x24692f);}const mgbaStorage=document[a0_0x3fc247(0x184)](a0_0x3fc247(0x174)),savesFile=document['getElementById'](a0_0x3fc247(0x1a9)),romsFile=document[a0_0x3fc247(0x184)](a0_0x3fc247(0x163)),statesFile=document['getElementById'](a0_0x3fc247(0x190)),screenshotsFile=document['getElementById'](a0_0x3fc247(0x18b));function a0_0x84a9(){const _0x49d771=['savesFile','rename','add','396006OkXmaM','DOMContentLoaded','classList','gap-16','storage','appendChild','screenshots','435294FnHvfM','mib','games','romsFile','dialog','states','_imageState','listFiles','div','downloadFile','gap-10','GiB','home','rom','cheats','opacity0','onclose','prompt','/data/states/','confirm','mgba-storage','/data/cheats/','getItem','removeItem','2368496btgMTC','YiB','showModal','MiB','7fkarAR','disable','/data/saves/','3309522UYUKcP','click','374Cdauht','close','PiB','getElementById','1361128kEqhKb','/data/screenshots/','rom-item','.gba','lastChild','change','screenshotsFile','ZiB','5sNyAlx','Edit\x20filename','slice','statesFile','406338JGCEns','length','TiB','textContent','toFixed','302070JorRwp','9kElDQF','fileSize','span','remove','active','saves','EiB','delete','Delete\x20this\x20file?','flex-1','onclick','abs','download','createElement','addEventListener','replace','actionDiv','_dateState'];a0_0x84a9=function(){return _0x49d771;};return a0_0x84a9();}function humanFileSize(_0x5b6335,_0x9894ac=![],_0x85cf1b=0x1){const _0x2cbab0=a0_0x3fc247,_0x69bb98=_0x9894ac?0x3e8:0x400,_0x3a9817=_0x9894ac?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x2cbab0(0x17b),_0x2cbab0(0x16b),_0x2cbab0(0x193),_0x2cbab0(0x183),_0x2cbab0(0x19d),_0x2cbab0(0x18c),_0x2cbab0(0x179)];let _0x4254b6=-0x1;do{_0x5b6335/=_0x69bb98,++_0x4254b6;}while(Math[_0x2cbab0(0x1a2)](_0x5b6335)>=_0x69bb98&&_0x4254b6<_0x3a9817[_0x2cbab0(0x192)]-0x1);return _0x5b6335[_0x2cbab0(0x195)](_0x85cf1b)+'\x20'+_0x3a9817[_0x4254b6];}function createElementStorage(_0x3118e2,_0x49a7b5,_0x48c6ef){const _0x592488=a0_0x3fc247,_0x4f00b8=document[_0x592488(0x1a4)](_0x592488(0x168));_0x4f00b8[_0x592488(0x1ae)][_0x592488(0x1ab)]('flex-1',_0x592488(0x187),_0x592488(0x16d)),_0x3118e2[_0x592488(0x15e)](_0x4f00b8);const _0x5ecd49=document[_0x592488(0x1a4)](_0x592488(0x199));_0x5ecd49[_0x592488(0x194)]=_0x49a7b5,_0x5ecd49['classList'][_0x592488(0x1ab)](_0x592488(0x1a0)),_0x4f00b8[_0x592488(0x15e)](_0x5ecd49),_0x5ecd49[_0x592488(0x1a1)]=()=>{const _0x45cfd0=_0x592488,_0x25e2d1=document[_0x45cfd0(0x1a4)](_0x45cfd0(0x164));_0x25e2d1[_0x45cfd0(0x170)]=()=>_0x25e2d1['remove'](),_0x3118e2[_0x45cfd0(0x15e)](_0x25e2d1);const _0x397f84=document[_0x45cfd0(0x1a4)]('div');_0x397f84[_0x45cfd0(0x1ae)][_0x45cfd0(0x1ab)](_0x45cfd0(0x15d),'right',_0x45cfd0(0x16a)),_0x25e2d1[_0x45cfd0(0x15e)](_0x397f84);const _0x36e2bf=document[_0x45cfd0(0x1a4)](_0x45cfd0(0x168));_0x36e2bf[_0x45cfd0(0x1ae)][_0x45cfd0(0x1ab)](_0x45cfd0(0x16c),'bc','flex-1'),_0x397f84[_0x45cfd0(0x15e)](_0x36e2bf);const _0x274088=document['createElement'](_0x45cfd0(0x168));_0x274088[_0x45cfd0(0x1ae)][_0x45cfd0(0x1ab)](_0x45cfd0(0x1a0)),_0x397f84['appendChild'](_0x274088);const _0x444920=document[_0x45cfd0(0x1a4)](_0x45cfd0(0x168));_0x444920[_0x45cfd0(0x1ae)]['add'](_0x45cfd0(0x1a0)),_0x397f84['appendChild'](_0x444920);const _0x562cd6=document['createElement'](_0x45cfd0(0x168));_0x562cd6[_0x45cfd0(0x1ae)][_0x45cfd0(0x1ab)](_0x45cfd0(0x1a0)),_0x397f84[_0x45cfd0(0x15e)](_0x562cd6),mgbaStorage[_0x45cfd0(0x1ae)]['add']('opacity0'),_0x36e2bf[_0x45cfd0(0x1a1)]=()=>{const _0x5ddb47=_0x45cfd0;_0x25e2d1[_0x5ddb47(0x182)](),_0x25e2d1[_0x5ddb47(0x19a)](),mgbaStorage[_0x5ddb47(0x1ae)][_0x5ddb47(0x19a)](_0x5ddb47(0x16f));};const _0x1e77af=document[_0x45cfd0(0x1a4)](_0x45cfd0(0x168));_0x1e77af[_0x45cfd0(0x1ae)]['add'](_0x45cfd0(0x1a0),_0x45cfd0(0x187),'hw','cw'),_0x1e77af[_0x45cfd0(0x194)]=_0x49a7b5,_0x25e2d1[_0x45cfd0(0x15e)](_0x1e77af);const _0x38dd95=document['createElement'](_0x45cfd0(0x168));_0x38dd95[_0x45cfd0(0x1ae)][_0x45cfd0(0x1ab)](_0x45cfd0(0x1a7),'hw','cw',_0x45cfd0(0x1af)),_0x25e2d1[_0x45cfd0(0x15e)](_0x38dd95);const _0x2b4eed=document['createElement']('div');_0x2b4eed[_0x45cfd0(0x1ae)][_0x45cfd0(0x1ab)](_0x45cfd0(0x1a3),'bc'),_0x38dd95[_0x45cfd0(0x15e)](_0x2b4eed),_0x2b4eed['onclick']=()=>{const _0x35971f=_0x45cfd0;a0_0x3f111c[_0x35971f(0x169)](_0x48c6ef,_0x49a7b5);};const _0x426ad9=document[_0x45cfd0(0x1a4)](_0x45cfd0(0x168));_0x426ad9[_0x45cfd0(0x1ae)][_0x45cfd0(0x1ab)](_0x45cfd0(0x19e),'bc'),_0x38dd95[_0x45cfd0(0x15e)](_0x426ad9),_0x426ad9[_0x45cfd0(0x1a1)]=async()=>{const _0x2ca58d=_0x45cfd0;if(window[_0x2ca58d(0x173)](_0x2ca58d(0x19f)+_0x49a7b5)){const _0xef7e50=_0x49a7b5[_0x2ca58d(0x1a6)](/\....$/,_0x2ca58d(0x188));a0_0x3f111c['deleteFile'](_0x48c6ef),localStorage['removeItem'](_0xef7e50+_0x2ca58d(0x1a8)+_0x49a7b5[_0x2ca58d(0x18f)](-0x1)),localStorage[_0x2ca58d(0x177)](_0xef7e50+_0x2ca58d(0x166)+_0x49a7b5['slice'](-0x1)),localStorageFile(),_0x25e2d1['close'](),_0x25e2d1[_0x2ca58d(0x19a)](),mgbaStorage[_0x2ca58d(0x1ae)][_0x2ca58d(0x19a)](_0x2ca58d(0x16f));}};const _0x357465=document['createElement']('div');_0x357465[_0x45cfd0(0x1ae)][_0x45cfd0(0x1ab)](_0x45cfd0(0x1aa),'bc'),_0x38dd95[_0x45cfd0(0x15e)](_0x357465),_0x357465[_0x45cfd0(0x1a1)]=async()=>{const _0x5b1f41=_0x45cfd0,_0x1a03d5=window[_0x5b1f41(0x171)](_0x5b1f41(0x18e),_0x49a7b5);_0x1a03d5!==null&&(a0_0x3f111c['editFile'](_0x48c6ef,_0x49a7b5,_0x1a03d5),localStorageFile(),_0x25e2d1['close'](),_0x25e2d1[_0x5b1f41(0x19a)](),mgbaStorage[_0x5b1f41(0x1ae)][_0x5b1f41(0x19a)](_0x5b1f41(0x16f)));},_0x25e2d1[_0x45cfd0(0x17a)]();};const _0x204e12=document[_0x592488(0x1a4)](_0x592488(0x199));_0x204e12[_0x592488(0x194)]=humanFileSize(a0_0x3f111c[_0x592488(0x198)](_0x48c6ef)),_0x204e12['classList'][_0x592488(0x1ab)](_0x592488(0x161)),_0x4f00b8['appendChild'](_0x204e12);}export function localStorageFile(){const _0x508974=a0_0x3fc247,_0x4877c7=a0_0x3f111c['listFiles'](_0x508974(0x162)),_0x1fe51e=a0_0x3f111c[_0x508974(0x167)](_0x508974(0x19c)),_0xd4e47e=a0_0x3f111c['listFiles'](_0x508974(0x165)),_0x28db33=a0_0x3f111c[_0x508974(0x167)](_0x508974(0x16e)),_0x4fdc43=a0_0x3f111c['listFiles'](_0x508974(0x15f)),_0x57d01b=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x58ca4a of _0x57d01b){while(_0x58ca4a['firstChild']){_0x58ca4a[_0x508974(0x189)]['remove']();}}for(const _0x4da2e9 of _0x4877c7){createElementStorage(romsFile,_0x4da2e9,'/data/games/'+_0x4da2e9);}for(const _0x4fd736 of _0xd4e47e){createElementStorage(statesFile,_0x4fd736,_0x508974(0x172)+_0x4fd736);}for(const _0x40d72e of _0x1fe51e){createElementStorage(savesFile,_0x40d72e,_0x508974(0x17e)+_0x40d72e);}for(const _0x4657b8 of _0x28db33){createElementStorage(cheatsFile,_0x4657b8,_0x508974(0x175)+_0x4657b8);}for(const _0x32a72d of _0x4fdc43){createElementStorage(screenshotsFile,_0x32a72d,_0x508974(0x186)+_0x32a72d);}}document[a0_0x3fc247(0x1a5)](a0_0x3fc247(0x1ad),function(){const _0x3cfcaf=a0_0x3fc247;upLoadFile['addEventListener'](_0x3cfcaf(0x18a),function(){a0_0x3f111c['uploadFile'](upLoadFile);}),openLocalStorage[_0x3cfcaf(0x1a5)](_0x3cfcaf(0x180),function(){const _0xf8e29a=_0x3cfcaf,_0x3f432e=localStorage[_0xf8e29a(0x176)]('uId');storage[_0xf8e29a(0x1ae)][_0xf8e29a(0x19a)](_0xf8e29a(0x17d)),intro[_0xf8e29a(0x1ae)][_0xf8e29a(0x1ab)](_0xf8e29a(0x17d)),ingame[_0xf8e29a(0x1ae)]['add'](_0xf8e29a(0x17d)),_0x3f432e===null||_0x3f432e===''?(dropboxRestore[_0xf8e29a(0x1ae)][_0xf8e29a(0x19a)](_0xf8e29a(0x19b)),dropboxBackup['classList']['remove'](_0xf8e29a(0x19b)),dropboxCloud[_0xf8e29a(0x1ae)][_0xf8e29a(0x19a)](_0xf8e29a(0x19b))):(dropboxRestore[_0xf8e29a(0x1ae)][_0xf8e29a(0x1ab)](_0xf8e29a(0x19b)),dropboxBackup[_0xf8e29a(0x1ae)]['add'](_0xf8e29a(0x19b)),dropboxCloud['classList'][_0xf8e29a(0x1ab)](_0xf8e29a(0x19b)));}),setTimeout(()=>{localStorageFile();},0xbb8);});