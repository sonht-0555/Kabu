function a0_0x3b15(){const _0x3571db=['classList','DOMContentLoaded','PiB','showModal','close','13QlwlzN','KiB','uploadFile','mib','change','lastChild','actionDiv','remove','YiB','1903rKubiR','Edit\x20filename','listFiles','873GlXsFV','.gba','TiB','active','cheats','games','screenshotsFile','replace','gap-16','12VZqByT','32632212gtRbVu','onclose','8903889PwgGiG','savesFile','rom','opacity0','uId','slice','getItem','div','textContent','appendChild','add','states','right','1594085iJCqnl','rename','fileSize','saves','addEventListener','span','4606zGPLRT','delete','1538cZzgfc','removeItem','8wUnbQN','_imageState','onclick','GiB','Delete\x20this\x20file?','flex-1','romsFile','screenshots','1138305MSYsnW','click','deleteFile','/data/states/','firstChild','/data/screenshots/','138Rkisng','download','disable','createElement','length','rom-item','confirm','70430GnBrjh','ZiB','mgba-storage','statesFile','getElementById','MiB'];a0_0x3b15=function(){return _0x3571db;};return a0_0x3b15();}function a0_0x16cd(_0x10eb70,_0x4c8bba){const _0x3b155e=a0_0x3b15();return a0_0x16cd=function(_0x16cdbd,_0x10822c){_0x16cdbd=_0x16cdbd-0x7f;let _0x37ae3c=_0x3b155e[_0x16cdbd];return _0x37ae3c;},a0_0x16cd(_0x10eb70,_0x4c8bba);}const a0_0x155318=a0_0x16cd;(function(_0x3fb0dc,_0xa5576d){const _0x2c3af4=a0_0x16cd,_0x333b54=_0x3fb0dc();while(!![]){try{const _0xdb3a33=-parseInt(_0x2c3af4(0x96))/0x1+-parseInt(_0x2c3af4(0x8c))/0x2*(parseInt(_0x2c3af4(0xba))/0x3)+-parseInt(_0x2c3af4(0xc3))/0x4*(parseInt(_0x2c3af4(0x84))/0x5)+parseInt(_0x2c3af4(0x9c))/0x6*(parseInt(_0x2c3af4(0x8a))/0x7)+-parseInt(_0x2c3af4(0x8e))/0x8*(parseInt(_0x2c3af4(0xc6))/0x9)+-parseInt(_0x2c3af4(0xa3))/0xa*(-parseInt(_0x2c3af4(0xb7))/0xb)+-parseInt(_0x2c3af4(0xc4))/0xc*(-parseInt(_0x2c3af4(0xae))/0xd);if(_0xdb3a33===_0xa5576d)break;else _0x333b54['push'](_0x333b54['shift']());}catch(_0x1a2d95){_0x333b54['push'](_0x333b54['shift']());}}}(a0_0x3b15,0x9d7cc));import*as a0_0x41cebc from'./main.js';const mgbaStorage=document[a0_0x155318(0xa7)](a0_0x155318(0xa5)),savesFile=document[a0_0x155318(0xa7)](a0_0x155318(0xc7)),romsFile=document['getElementById'](a0_0x155318(0x94)),statesFile=document[a0_0x155318(0xa7)](a0_0x155318(0xa6)),screenshotsFile=document[a0_0x155318(0xa7)](a0_0x155318(0xc0));function humanFileSize(_0x2635ae,_0xf77530=![],_0x4cf0fc=0x1){const _0xd7b7a5=a0_0x155318,_0x130b5a=_0xf77530?0x3e8:0x400,_0x56b51a=_0xf77530?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0xd7b7a5(0xaf),_0xd7b7a5(0xa8),_0xd7b7a5(0x91),_0xd7b7a5(0xbc),_0xd7b7a5(0xab),'EiB',_0xd7b7a5(0xa4),_0xd7b7a5(0xb6)];let _0x5b2fae=-0x1;do{_0x2635ae/=_0x130b5a,++_0x5b2fae;}while(Math['abs'](_0x2635ae)>=_0x130b5a&&_0x5b2fae<_0x56b51a[_0xd7b7a5(0xa0)]-0x1);return _0x2635ae['toFixed'](_0x4cf0fc)+'\x20'+_0x56b51a[_0x5b2fae];}function createElementStorage(_0x48066c,_0x153e9a,_0x3d304a){const _0x18719b=a0_0x155318,_0x103846=document[_0x18719b(0x9f)](_0x18719b(0xcd));_0x103846[_0x18719b(0xa9)][_0x18719b(0x81)](_0x18719b(0x93),_0x18719b(0xa1),_0x18719b(0xc8)),_0x48066c['appendChild'](_0x103846);const _0x1cb273=document[_0x18719b(0x9f)](_0x18719b(0x89));_0x1cb273[_0x18719b(0x7f)]=_0x153e9a,_0x1cb273[_0x18719b(0xa9)][_0x18719b(0x81)]('flex-1'),_0x103846[_0x18719b(0x80)](_0x1cb273),_0x1cb273[_0x18719b(0x90)]=()=>{const _0x3dd2f1=_0x18719b,_0x40980d=document[_0x3dd2f1(0x9f)]('dialog');_0x40980d[_0x3dd2f1(0xc5)]=()=>_0x40980d[_0x3dd2f1(0xb5)](),_0x48066c[_0x3dd2f1(0x80)](_0x40980d);const _0x5e85e1=document['createElement'](_0x3dd2f1(0xcd));_0x5e85e1[_0x3dd2f1(0xa9)]['add']('storage',_0x3dd2f1(0x83),'gap-10'),_0x40980d[_0x3dd2f1(0x80)](_0x5e85e1);const _0x5df252=document[_0x3dd2f1(0x9f)](_0x3dd2f1(0xcd));_0x5df252[_0x3dd2f1(0xa9)]['add']('home','bc',_0x3dd2f1(0x93)),_0x5e85e1[_0x3dd2f1(0x80)](_0x5df252);const _0x430cb2=document[_0x3dd2f1(0x9f)](_0x3dd2f1(0xcd));_0x430cb2[_0x3dd2f1(0xa9)][_0x3dd2f1(0x81)]('flex-1'),_0x5e85e1[_0x3dd2f1(0x80)](_0x430cb2);const _0x242f05=document[_0x3dd2f1(0x9f)]('div');_0x242f05[_0x3dd2f1(0xa9)][_0x3dd2f1(0x81)](_0x3dd2f1(0x93)),_0x5e85e1['appendChild'](_0x242f05);const _0x57167d=document[_0x3dd2f1(0x9f)]('div');_0x57167d[_0x3dd2f1(0xa9)]['add'](_0x3dd2f1(0x93)),_0x5e85e1[_0x3dd2f1(0x80)](_0x57167d),mgbaStorage['classList']['add'](_0x3dd2f1(0xc9)),_0x5df252['onclick']=()=>{const _0x4861ad=_0x3dd2f1;_0x40980d['close'](),_0x40980d[_0x4861ad(0xb5)](),mgbaStorage[_0x4861ad(0xa9)]['remove']('opacity0');};const _0xe963bc=document[_0x3dd2f1(0x9f)](_0x3dd2f1(0xcd));_0xe963bc[_0x3dd2f1(0xa9)]['add'](_0x3dd2f1(0x93),_0x3dd2f1(0xa1),'hw','cw'),_0xe963bc[_0x3dd2f1(0x7f)]=_0x153e9a,_0x40980d[_0x3dd2f1(0x80)](_0xe963bc);const _0x503df0=document['createElement'](_0x3dd2f1(0xcd));_0x503df0[_0x3dd2f1(0xa9)]['add'](_0x3dd2f1(0xb4),'hw','cw',_0x3dd2f1(0xc2)),_0x40980d['appendChild'](_0x503df0);const _0x124083=document[_0x3dd2f1(0x9f)](_0x3dd2f1(0xcd));_0x124083['classList'][_0x3dd2f1(0x81)](_0x3dd2f1(0x9d),'bc'),_0x503df0[_0x3dd2f1(0x80)](_0x124083),_0x124083['onclick']=()=>{a0_0x41cebc['downloadFile'](_0x3d304a,_0x153e9a);};const _0x5959a4=document['createElement'](_0x3dd2f1(0xcd));_0x5959a4[_0x3dd2f1(0xa9)]['add'](_0x3dd2f1(0x8b),'bc'),_0x503df0[_0x3dd2f1(0x80)](_0x5959a4),_0x5959a4[_0x3dd2f1(0x90)]=async()=>{const _0x5b7b4f=_0x3dd2f1;if(window[_0x5b7b4f(0xa2)](_0x5b7b4f(0x92)+_0x153e9a)){const _0x10046c=_0x153e9a[_0x5b7b4f(0xc1)](/\....$/,_0x5b7b4f(0xbb));a0_0x41cebc[_0x5b7b4f(0x98)](_0x3d304a),localStorage[_0x5b7b4f(0x8d)](_0x10046c+'_dateState'+_0x153e9a[_0x5b7b4f(0xcb)](-0x1)),localStorage[_0x5b7b4f(0x8d)](_0x10046c+_0x5b7b4f(0x8f)+_0x153e9a['slice'](-0x1)),localStorageFile(),_0x40980d[_0x5b7b4f(0xad)](),_0x40980d[_0x5b7b4f(0xb5)](),mgbaStorage['classList'][_0x5b7b4f(0xb5)]('opacity0');}};const _0x3b7a1c=document[_0x3dd2f1(0x9f)](_0x3dd2f1(0xcd));_0x3b7a1c['classList'][_0x3dd2f1(0x81)](_0x3dd2f1(0x85),'bc'),_0x503df0[_0x3dd2f1(0x80)](_0x3b7a1c),_0x3b7a1c[_0x3dd2f1(0x90)]=async()=>{const _0x6ec2c1=_0x3dd2f1,_0x1cc6f9=window['prompt'](_0x6ec2c1(0xb8),_0x153e9a);_0x1cc6f9!==null&&(a0_0x41cebc['editFile'](_0x3d304a,_0x153e9a,_0x1cc6f9),localStorageFile(),_0x40980d[_0x6ec2c1(0xad)](),_0x40980d[_0x6ec2c1(0xb5)](),mgbaStorage['classList'][_0x6ec2c1(0xb5)](_0x6ec2c1(0xc9)));},_0x40980d[_0x3dd2f1(0xac)]();};const _0x353b6c=document['createElement'](_0x18719b(0x89));_0x353b6c[_0x18719b(0x7f)]=humanFileSize(a0_0x41cebc[_0x18719b(0x86)](_0x3d304a)),_0x353b6c['classList']['add'](_0x18719b(0xb1)),_0x103846[_0x18719b(0x80)](_0x353b6c);}export function localStorageFile(){const _0x239e6f=a0_0x155318,_0x138cfb=a0_0x41cebc['listFiles'](_0x239e6f(0xbf)),_0x368cd1=a0_0x41cebc[_0x239e6f(0xb9)](_0x239e6f(0x87)),_0x153716=a0_0x41cebc[_0x239e6f(0xb9)](_0x239e6f(0x82)),_0x5514ab=a0_0x41cebc[_0x239e6f(0xb9)](_0x239e6f(0xbe)),_0x3ef418=a0_0x41cebc[_0x239e6f(0xb9)](_0x239e6f(0x95)),_0x4745b1=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x59956f of _0x4745b1){while(_0x59956f[_0x239e6f(0x9a)]){_0x59956f[_0x239e6f(0xb3)]['remove']();}}for(const _0x5666a3 of _0x138cfb){createElementStorage(romsFile,_0x5666a3,'/data/games/'+_0x5666a3);}for(const _0x221737 of _0x153716){createElementStorage(statesFile,_0x221737,_0x239e6f(0x99)+_0x221737);}for(const _0x20f112 of _0x368cd1){createElementStorage(savesFile,_0x20f112,'/data/saves/'+_0x20f112);}for(const _0x21b37b of _0x5514ab){createElementStorage(cheatsFile,_0x21b37b,'/data/cheats/'+_0x21b37b);}for(const _0x3fa4e6 of _0x3ef418){createElementStorage(screenshotsFile,_0x3fa4e6,_0x239e6f(0x9b)+_0x3fa4e6);}}document[a0_0x155318(0x88)](a0_0x155318(0xaa),function(){const _0x540c70=a0_0x155318;upLoadFile['addEventListener'](_0x540c70(0xb2),function(){const _0x11e293=_0x540c70;a0_0x41cebc[_0x11e293(0xb0)](upLoadFile);}),openLocalStorage['addEventListener'](_0x540c70(0x97),function(){const _0x2b12c4=_0x540c70,_0x2b6f8d=localStorage[_0x2b12c4(0xcc)](_0x2b12c4(0xca));storage[_0x2b12c4(0xa9)][_0x2b12c4(0xb5)](_0x2b12c4(0x9e)),intro[_0x2b12c4(0xa9)][_0x2b12c4(0x81)](_0x2b12c4(0x9e)),ingame[_0x2b12c4(0xa9)]['add']('disable'),_0x2b6f8d===null||_0x2b6f8d===''?(dropboxRestore[_0x2b12c4(0xa9)][_0x2b12c4(0xb5)](_0x2b12c4(0xbd)),dropboxBackup['classList'][_0x2b12c4(0xb5)](_0x2b12c4(0xbd)),dropboxCloud[_0x2b12c4(0xa9)][_0x2b12c4(0xb5)](_0x2b12c4(0xbd))):(dropboxRestore[_0x2b12c4(0xa9)][_0x2b12c4(0x81)](_0x2b12c4(0xbd)),dropboxBackup[_0x2b12c4(0xa9)][_0x2b12c4(0x81)](_0x2b12c4(0xbd)),dropboxCloud[_0x2b12c4(0xa9)][_0x2b12c4(0x81)](_0x2b12c4(0xbd)));}),setTimeout(()=>{localStorageFile();},0xbb8);});