const a0_0xfae6d5=a0_0x2a74;function a0_0x4c9a(){const _0x1cea56=['MiB','toFixed','deleteFile','flex-1','editFile','_dateState','removeItem','length','PiB','addEventListener','remove','EiB','5325164wwPDvI','download','rom','active','onclose','div','gap-10','.gba','add','Delete\x20this\x20file?','gap-16','romsFile','downloadFile','statesFile','rom-item','947429egAhOM','ZiB','prompt','close','replace','/data/states/','2473496KcPZfY','mib','getElementById','savesFile','listGame','Edit\x20filename','3TssdWJ','GiB','2041765xrEofe','click','6896532qOXGdX','storage','home','change','/data/saves/','uploadFile','createElement','screenshotsFile','showModal','mgba-storage','textContent','onclick','classList','getItem','KiB','listScreenshot','70025976BGBFNO','disable','DOMContentLoaded','confirm','listSave','2412067pPgxvn','listState','appendChild','opacity0','/data/games/','right','40LXFKFu','span','lastChild','slice','abs','actionDiv'];a0_0x4c9a=function(){return _0x1cea56;};return a0_0x4c9a();}(function(_0x22b2c0,_0x46e85a){const _0x366c9e=a0_0x2a74,_0x2c63e7=_0x22b2c0();while(!![]){try{const _0x5a66b9=-parseInt(_0x366c9e(0x190))/0x1+parseInt(_0x366c9e(0x196))/0x2*(-parseInt(_0x366c9e(0x19c))/0x3)+-parseInt(_0x366c9e(0x181))/0x4+-parseInt(_0x366c9e(0x19e))/0x5+-parseInt(_0x366c9e(0x1a0))/0x6+-parseInt(_0x366c9e(0x169))/0x7*(parseInt(_0x366c9e(0x16f))/0x8)+parseInt(_0x366c9e(0x164))/0x9;if(_0x5a66b9===_0x46e85a)break;else _0x2c63e7['push'](_0x2c63e7['shift']());}catch(_0x36a336){_0x2c63e7['push'](_0x2c63e7['shift']());}}}(a0_0x4c9a,0xf05c4));import*as a0_0x2f6387 from'./main.js';const mgbaStorage=document[a0_0xfae6d5(0x198)](a0_0xfae6d5(0x1a9)),savesFile=document[a0_0xfae6d5(0x198)](a0_0xfae6d5(0x199)),romsFile=document['getElementById'](a0_0xfae6d5(0x18c)),statesFile=document[a0_0xfae6d5(0x198)](a0_0xfae6d5(0x18e)),screenshotsFile=document[a0_0xfae6d5(0x198)](a0_0xfae6d5(0x1a7));function humanFileSize(_0x5b3372,_0x43c816=![],_0x239559=0x1){const _0x3de54d=a0_0xfae6d5,_0x282404=_0x43c816?0x3e8:0x400,_0x2a3394=_0x43c816?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x3de54d(0x162),_0x3de54d(0x175),_0x3de54d(0x19d),'TiB',_0x3de54d(0x17d),_0x3de54d(0x180),_0x3de54d(0x191),'YiB'];let _0x1a450e=-0x1;do{_0x5b3372/=_0x282404,++_0x1a450e;}while(Math[_0x3de54d(0x173)](_0x5b3372)>=_0x282404&&_0x1a450e<_0x2a3394[_0x3de54d(0x17c)]-0x1);return _0x5b3372[_0x3de54d(0x176)](_0x239559)+'\x20'+_0x2a3394[_0x1a450e];}function a0_0x2a74(_0x33aee7,_0x584c32){const _0x4c9a80=a0_0x4c9a();return a0_0x2a74=function(_0x2a74b2,_0x5b373e){_0x2a74b2=_0x2a74b2-0x162;let _0xb6806=_0x4c9a80[_0x2a74b2];return _0xb6806;},a0_0x2a74(_0x33aee7,_0x584c32);}function createElementStorage(_0x1347fc,_0x200422,_0x15e450){const _0x2124db=a0_0xfae6d5,_0x170e1b=document[_0x2124db(0x1a6)]('div');_0x170e1b[_0x2124db(0x1ac)][_0x2124db(0x189)](_0x2124db(0x178),_0x2124db(0x18f),_0x2124db(0x183)),_0x1347fc[_0x2124db(0x16b)](_0x170e1b);const _0x93ec2b=document[_0x2124db(0x1a6)](_0x2124db(0x170));_0x93ec2b[_0x2124db(0x1aa)]=_0x200422,_0x93ec2b[_0x2124db(0x1ac)][_0x2124db(0x189)](_0x2124db(0x178)),_0x170e1b[_0x2124db(0x16b)](_0x93ec2b),_0x93ec2b[_0x2124db(0x1ab)]=()=>{const _0x3e8698=_0x2124db,_0x552a29=document[_0x3e8698(0x1a6)]('dialog');_0x552a29[_0x3e8698(0x185)]=()=>_0x552a29[_0x3e8698(0x17f)](),_0x1347fc[_0x3e8698(0x16b)](_0x552a29);const _0x2d2473=document[_0x3e8698(0x1a6)](_0x3e8698(0x186));_0x2d2473[_0x3e8698(0x1ac)]['add'](_0x3e8698(0x1a1),_0x3e8698(0x16e),_0x3e8698(0x187)),_0x552a29['appendChild'](_0x2d2473);const _0x50b8d8=document[_0x3e8698(0x1a6)](_0x3e8698(0x186));_0x50b8d8['classList'][_0x3e8698(0x189)](_0x3e8698(0x1a2),'bc',_0x3e8698(0x178)),_0x2d2473[_0x3e8698(0x16b)](_0x50b8d8);const _0xd99c1=document[_0x3e8698(0x1a6)](_0x3e8698(0x186));_0xd99c1['classList'][_0x3e8698(0x189)](_0x3e8698(0x178)),_0x2d2473[_0x3e8698(0x16b)](_0xd99c1);const _0x5bd59f=document[_0x3e8698(0x1a6)](_0x3e8698(0x186));_0x5bd59f[_0x3e8698(0x1ac)][_0x3e8698(0x189)]('flex-1'),_0x2d2473[_0x3e8698(0x16b)](_0x5bd59f);const _0x12709d=document[_0x3e8698(0x1a6)](_0x3e8698(0x186));_0x12709d[_0x3e8698(0x1ac)][_0x3e8698(0x189)](_0x3e8698(0x178)),_0x2d2473[_0x3e8698(0x16b)](_0x12709d),mgbaStorage['classList']['add']('opacity0'),_0x50b8d8[_0x3e8698(0x1ab)]=()=>{const _0x549335=_0x3e8698;_0x552a29[_0x549335(0x193)](),_0x552a29[_0x549335(0x17f)](),mgbaStorage[_0x549335(0x1ac)][_0x549335(0x17f)](_0x549335(0x16c));};const _0xccb5fc=document[_0x3e8698(0x1a6)](_0x3e8698(0x186));_0xccb5fc[_0x3e8698(0x1ac)]['add']('flex-1',_0x3e8698(0x18f),'hw','cw'),_0xccb5fc['textContent']=_0x200422,_0x552a29['appendChild'](_0xccb5fc);const _0x112e8c=document['createElement']('div');_0x112e8c['classList']['add'](_0x3e8698(0x174),'hw','cw',_0x3e8698(0x18b)),_0x552a29[_0x3e8698(0x16b)](_0x112e8c);const _0x3112e0=document[_0x3e8698(0x1a6)](_0x3e8698(0x186));_0x3112e0[_0x3e8698(0x1ac)][_0x3e8698(0x189)](_0x3e8698(0x182),'bc'),_0x112e8c[_0x3e8698(0x16b)](_0x3112e0),_0x3112e0[_0x3e8698(0x1ab)]=()=>{const _0x6557ad=_0x3e8698;a0_0x2f6387[_0x6557ad(0x18d)](_0x15e450,_0x200422);};const _0x5b153e=document['createElement'](_0x3e8698(0x186));_0x5b153e['classList'][_0x3e8698(0x189)]('delete','bc'),_0x112e8c[_0x3e8698(0x16b)](_0x5b153e),_0x5b153e['onclick']=async()=>{const _0x4379cd=_0x3e8698;if(window[_0x4379cd(0x167)](_0x4379cd(0x18a)+_0x200422)){const _0x3977c4=_0x200422[_0x4379cd(0x194)](/\....$/,_0x4379cd(0x188));a0_0x2f6387[_0x4379cd(0x177)](_0x15e450),localStorage[_0x4379cd(0x17b)](_0x3977c4+_0x4379cd(0x17a)+_0x200422[_0x4379cd(0x172)](-0x1)),localStorage[_0x4379cd(0x17b)](_0x3977c4+'_imageState'+_0x200422[_0x4379cd(0x172)](-0x1)),localStorageFile(),_0x552a29['close'](),_0x552a29[_0x4379cd(0x17f)](),mgbaStorage['classList']['remove'](_0x4379cd(0x16c));}};const _0xad4d6=document[_0x3e8698(0x1a6)](_0x3e8698(0x186));_0xad4d6[_0x3e8698(0x1ac)][_0x3e8698(0x189)]('rename','bc'),_0x112e8c[_0x3e8698(0x16b)](_0xad4d6),_0xad4d6[_0x3e8698(0x1ab)]=async()=>{const _0x50c2e5=_0x3e8698,_0x598517=window[_0x50c2e5(0x192)](_0x50c2e5(0x19b),_0x200422);_0x598517!==null&&(a0_0x2f6387[_0x50c2e5(0x179)](_0x15e450,_0x200422,_0x598517),localStorageFile(),_0x552a29[_0x50c2e5(0x193)](),_0x552a29[_0x50c2e5(0x17f)](),mgbaStorage[_0x50c2e5(0x1ac)]['remove'](_0x50c2e5(0x16c)));},_0x552a29[_0x3e8698(0x1a8)]();};const _0x344e44=document[_0x2124db(0x1a6)]('span');_0x344e44['textContent']=humanFileSize(a0_0x2f6387['fileSize'](_0x15e450)),_0x344e44[_0x2124db(0x1ac)]['add'](_0x2124db(0x197)),_0x170e1b['appendChild'](_0x344e44);}export function localStorageFile(){const _0xbd3895=a0_0xfae6d5,_0x4b0777=a0_0x2f6387[_0xbd3895(0x19a)](),_0x17956b=a0_0x2f6387[_0xbd3895(0x168)](),_0x811c82=a0_0x2f6387[_0xbd3895(0x16a)](),_0x75930b=a0_0x2f6387['listCheat'](),_0x2e8b55=a0_0x2f6387[_0xbd3895(0x163)](),_0x518990=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x214651 of _0x518990){while(_0x214651['firstChild']){_0x214651[_0xbd3895(0x171)]['remove']();}}for(const _0x40e871 of _0x4b0777){createElementStorage(romsFile,_0x40e871,_0xbd3895(0x16d)+_0x40e871);}for(const _0x1774a2 of _0x811c82){createElementStorage(statesFile,_0x1774a2,_0xbd3895(0x195)+_0x1774a2);}for(const _0x13dece of _0x17956b){createElementStorage(savesFile,_0x13dece,_0xbd3895(0x1a4)+_0x13dece);}for(const _0x277bc8 of _0x75930b){createElementStorage(cheatsFile,_0x277bc8,'/data/cheats/'+_0x277bc8);}for(const _0x46a733 of _0x2e8b55){createElementStorage(screenshotsFile,_0x46a733,'/data/screenshots/'+_0x46a733);}}document[a0_0xfae6d5(0x17e)](a0_0xfae6d5(0x166),function(){const _0x256a35=a0_0xfae6d5;upLoadFile[_0x256a35(0x17e)](_0x256a35(0x1a3),function(){const _0x23e954=_0x256a35;a0_0x2f6387[_0x23e954(0x1a5)](upLoadFile);}),openLocalStorage[_0x256a35(0x17e)](_0x256a35(0x19f),function(){const _0x298c23=_0x256a35,_0x2c100d=localStorage[_0x298c23(0x1ad)]('uId');storage[_0x298c23(0x1ac)]['remove'](_0x298c23(0x165)),intro[_0x298c23(0x1ac)][_0x298c23(0x189)](_0x298c23(0x165)),ingame[_0x298c23(0x1ac)]['add'](_0x298c23(0x165)),_0x2c100d===null||_0x2c100d===''?(dropboxRestore[_0x298c23(0x1ac)][_0x298c23(0x17f)]('active'),dropboxBackup['classList'][_0x298c23(0x17f)](_0x298c23(0x184)),dropboxCloud[_0x298c23(0x1ac)][_0x298c23(0x17f)]('active')):(dropboxRestore[_0x298c23(0x1ac)]['add']('active'),dropboxBackup[_0x298c23(0x1ac)][_0x298c23(0x189)]('active'),dropboxCloud[_0x298c23(0x1ac)][_0x298c23(0x189)](_0x298c23(0x184)));}),setTimeout(()=>{localStorageFile();},0xbb8);});