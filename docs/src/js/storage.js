function a0_0x3f36(_0x8fa50f,_0x414573){const _0x1abedc=a0_0x1abe();return a0_0x3f36=function(_0x3f3647,_0x25a59e){_0x3f3647=_0x3f3647-0x145;let _0x52471f=_0x1abedc[_0x3f3647];return _0x52471f;},a0_0x3f36(_0x8fa50f,_0x414573);}const a0_0x3f0302=a0_0x3f36;(function(_0xdf7e6c,_0x4e7280){const _0x12351c=a0_0x3f36,_0x4ecbf9=_0xdf7e6c();while(!![]){try{const _0x1684e3=parseInt(_0x12351c(0x185))/0x1*(parseInt(_0x12351c(0x189))/0x2)+parseInt(_0x12351c(0x161))/0x3+parseInt(_0x12351c(0x18c))/0x4+parseInt(_0x12351c(0x166))/0x5+-parseInt(_0x12351c(0x157))/0x6*(-parseInt(_0x12351c(0x154))/0x7)+-parseInt(_0x12351c(0x170))/0x8+-parseInt(_0x12351c(0x195))/0x9;if(_0x1684e3===_0x4e7280)break;else _0x4ecbf9['push'](_0x4ecbf9['shift']());}catch(_0xc0515f){_0x4ecbf9['push'](_0x4ecbf9['shift']());}}}(a0_0x1abe,0x8e00b));import*as a0_0x44d209 from'./main.js';const mgbaStorage=document[a0_0x3f0302(0x192)](a0_0x3f0302(0x145)),savesFile=document[a0_0x3f0302(0x192)](a0_0x3f0302(0x181)),romsFile=document[a0_0x3f0302(0x192)](a0_0x3f0302(0x17c)),statesFile=document[a0_0x3f0302(0x192)](a0_0x3f0302(0x178)),screenshotsFile=document['getElementById'](a0_0x3f0302(0x16d));function humanFileSize(_0x4b3177,_0x35551f=![],_0x18d7a9=0x1){const _0x18dedb=a0_0x3f0302,_0x7c2128=_0x35551f?0x3e8:0x400,_0x1600c9=_0x35551f?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x18dedb(0x14b),_0x18dedb(0x194),'GiB',_0x18dedb(0x188),_0x18dedb(0x158),_0x18dedb(0x179),_0x18dedb(0x174),_0x18dedb(0x193)];let _0x4654e2=-0x1;do{_0x4b3177/=_0x7c2128,++_0x4654e2;}while(Math[_0x18dedb(0x153)](_0x4b3177)>=_0x7c2128&&_0x4654e2<_0x1600c9['length']-0x1);return _0x4b3177[_0x18dedb(0x18e)](_0x18d7a9)+'\x20'+_0x1600c9[_0x4654e2];}function createElementStorage(_0x5b8b1e,_0x1d3964,_0x21208e){const _0x52d8ee=a0_0x3f0302,_0x57feb7=document['createElement']('div');_0x57feb7['classList'][_0x52d8ee(0x18a)](_0x52d8ee(0x14a),'rom-item','rom'),_0x5b8b1e[_0x52d8ee(0x191)](_0x57feb7);const _0x51020d=document[_0x52d8ee(0x162)](_0x52d8ee(0x16c));_0x51020d[_0x52d8ee(0x183)]=_0x1d3964,_0x51020d[_0x52d8ee(0x155)]['add'](_0x52d8ee(0x14a)),_0x57feb7[_0x52d8ee(0x191)](_0x51020d),_0x51020d[_0x52d8ee(0x15e)]=()=>{const _0x3eb034=_0x52d8ee,_0x472663=document[_0x3eb034(0x162)](_0x3eb034(0x15d));_0x472663[_0x3eb034(0x18f)]=()=>_0x472663[_0x3eb034(0x18d)](),_0x5b8b1e['appendChild'](_0x472663);const _0x26b952=document[_0x3eb034(0x162)](_0x3eb034(0x171));_0x26b952[_0x3eb034(0x155)][_0x3eb034(0x18a)](_0x3eb034(0x156),_0x3eb034(0x14d),_0x3eb034(0x16f)),_0x472663[_0x3eb034(0x191)](_0x26b952);const _0x5e6e4a=document[_0x3eb034(0x162)](_0x3eb034(0x171));_0x5e6e4a[_0x3eb034(0x155)][_0x3eb034(0x18a)](_0x3eb034(0x184),'bc',_0x3eb034(0x14a)),_0x26b952['appendChild'](_0x5e6e4a);const _0x438f56=document[_0x3eb034(0x162)](_0x3eb034(0x171));_0x438f56[_0x3eb034(0x155)][_0x3eb034(0x18a)](_0x3eb034(0x14a)),_0x26b952[_0x3eb034(0x191)](_0x438f56);const _0x2b6b20=document[_0x3eb034(0x162)]('div');_0x2b6b20[_0x3eb034(0x155)]['add'](_0x3eb034(0x14a)),_0x26b952[_0x3eb034(0x191)](_0x2b6b20);const _0x3361bb=document['createElement']('div');_0x3361bb[_0x3eb034(0x155)][_0x3eb034(0x18a)]('flex-1'),_0x26b952[_0x3eb034(0x191)](_0x3361bb),mgbaStorage[_0x3eb034(0x155)]['add'](_0x3eb034(0x159)),_0x5e6e4a['onclick']=()=>{const _0xabb5d6=_0x3eb034;_0x472663[_0xabb5d6(0x16a)](),_0x472663['remove'](),mgbaStorage[_0xabb5d6(0x155)][_0xabb5d6(0x18d)](_0xabb5d6(0x159));};const _0x26d577=document[_0x3eb034(0x162)](_0x3eb034(0x171));_0x26d577['classList'][_0x3eb034(0x18a)]('flex-1',_0x3eb034(0x15f),'hw','cw'),_0x26d577[_0x3eb034(0x183)]=_0x1d3964,_0x472663[_0x3eb034(0x191)](_0x26d577);const _0x1843c0=document[_0x3eb034(0x162)](_0x3eb034(0x171));_0x1843c0[_0x3eb034(0x155)][_0x3eb034(0x18a)](_0x3eb034(0x15a),'hw','cw',_0x3eb034(0x15c)),_0x472663[_0x3eb034(0x191)](_0x1843c0);const _0x383965=document[_0x3eb034(0x162)]('div');_0x383965[_0x3eb034(0x155)][_0x3eb034(0x18a)](_0x3eb034(0x14c),'bc'),_0x1843c0[_0x3eb034(0x191)](_0x383965),_0x383965[_0x3eb034(0x15e)]=()=>{const _0x5bce9a=_0x3eb034;a0_0x44d209[_0x5bce9a(0x14e)](_0x21208e,_0x1d3964);};const _0x12c188=document['createElement'](_0x3eb034(0x171));_0x12c188[_0x3eb034(0x155)][_0x3eb034(0x18a)]('delete','bc'),_0x1843c0[_0x3eb034(0x191)](_0x12c188),_0x12c188['onclick']=async()=>{const _0x44a957=_0x3eb034;if(window[_0x44a957(0x175)](_0x44a957(0x16b)+_0x1d3964)){const _0x301261=_0x1d3964[_0x44a957(0x17f)](/\....$/,_0x44a957(0x165));a0_0x44d209[_0x44a957(0x167)](_0x21208e),localStorage['removeItem'](_0x301261+_0x44a957(0x177)+_0x1d3964[_0x44a957(0x151)](-0x1)),localStorage[_0x44a957(0x149)](_0x301261+_0x44a957(0x148)+_0x1d3964[_0x44a957(0x151)](-0x1)),localStorageFile(),_0x472663[_0x44a957(0x16a)](),_0x472663[_0x44a957(0x18d)](),mgbaStorage[_0x44a957(0x155)][_0x44a957(0x18d)](_0x44a957(0x159));}};const _0x5a0117=document['createElement'](_0x3eb034(0x171));_0x5a0117[_0x3eb034(0x155)][_0x3eb034(0x18a)](_0x3eb034(0x147),'bc'),_0x1843c0[_0x3eb034(0x191)](_0x5a0117),_0x5a0117[_0x3eb034(0x15e)]=async()=>{const _0x213a00=_0x3eb034,_0x20fb5c=window[_0x213a00(0x17d)](_0x213a00(0x190),_0x1d3964);if(_0x20fb5c!==null){const _0x1e71ac=_0x1d3964[_0x213a00(0x17f)](/\....$/,_0x213a00(0x165)),_0x2d8511=_0x20fb5c[_0x213a00(0x17f)](/\....$/,_0x213a00(0x165)),_0x3bd6ed=_0x1e71ac+_0x213a00(0x177)+_0x1d3964[_0x213a00(0x151)](-0x1),_0x5b821d=_0x1e71ac+_0x213a00(0x148)+_0x1d3964['slice'](-0x1),_0x44fd1d=_0x2d8511+_0x213a00(0x177)+_0x20fb5c[_0x213a00(0x151)](-0x1),_0x47a07a=_0x2d8511+'_imageState'+_0x20fb5c[_0x213a00(0x151)](-0x1),_0x248a67=localStorage[_0x213a00(0x15b)](_0x3bd6ed),_0xe519ff=localStorage['getItem'](_0x5b821d);_0x248a67!==null&&(localStorage[_0x213a00(0x187)](_0x44fd1d,_0x248a67),localStorage['removeItem'](_0x3bd6ed)),_0xe519ff!==null&&(localStorage[_0x213a00(0x187)](_0x47a07a,_0xe519ff),localStorage['removeItem'](_0x5b821d)),a0_0x44d209[_0x213a00(0x186)](_0x21208e,_0x1d3964,_0x20fb5c),localStorageFile(),_0x472663[_0x213a00(0x16a)](),_0x472663['remove'](),mgbaStorage[_0x213a00(0x155)][_0x213a00(0x18d)](_0x213a00(0x159));}},_0x472663['showModal']();};const _0x193bf5=document[_0x52d8ee(0x162)](_0x52d8ee(0x16c));_0x193bf5['textContent']=humanFileSize(a0_0x44d209['fileSize'](_0x21208e)),_0x193bf5[_0x52d8ee(0x155)][_0x52d8ee(0x18a)](_0x52d8ee(0x14f)),_0x57feb7[_0x52d8ee(0x191)](_0x193bf5);}export function localStorageFile(){const _0x4bedcd=a0_0x3f0302,_0x3859a2=a0_0x44d209[_0x4bedcd(0x176)](),_0x4f7d17=a0_0x44d209[_0x4bedcd(0x164)](),_0x5ad321=a0_0x44d209['listState'](),_0x4f83a0=a0_0x44d209[_0x4bedcd(0x16e)](),_0x4e22b7=a0_0x44d209[_0x4bedcd(0x163)](),_0x5cdb02=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x480be3 of _0x5cdb02){while(_0x480be3['firstChild']){_0x480be3[_0x4bedcd(0x168)]['remove']();}}for(const _0x527cdb of _0x3859a2){createElementStorage(romsFile,_0x527cdb,_0x4bedcd(0x172)+_0x527cdb);}for(const _0x105d23 of _0x5ad321){createElementStorage(statesFile,_0x105d23,_0x4bedcd(0x150)+_0x105d23);}for(const _0x2fe989 of _0x4f7d17){createElementStorage(savesFile,_0x2fe989,'/data/saves/'+_0x2fe989);}for(const _0x20fec5 of _0x4f83a0){createElementStorage(cheatsFile,_0x20fec5,_0x4bedcd(0x17a)+_0x20fec5);}for(const _0x1478b2 of _0x4e22b7){createElementStorage(screenshotsFile,_0x1478b2,_0x4bedcd(0x173)+_0x1478b2);}}function a0_0x1abe(){const _0x5307ef=['2134315uISebz','deleteFile','lastChild','.bc','close','Delete\x20this\x20file?','span','screenshotsFile','listCheat','gap-10','861360dtFVGV','div','/data/games/','/data/screenshots/','ZiB','confirm','listGame','_dateState','statesFile','EiB','/data/cheats/','change','romsFile','prompt','click','replace','addEventListener','savesFile','uploadGame','textContent','home','278702HargWN','editFile','setItem','TiB','2zIPXRU','add','DOMContentLoaded','3255792xPeFrh','remove','toFixed','onclose','Edit\x20filename','appendChild','getElementById','YiB','MiB','16212267vlyAtd','endsWith','mgba-storage','active','rename','_imageState','removeItem','flex-1','KiB','download','right','downloadFile','mib','/data/states/','slice','.gbc','abs','2812215egfjJw','classList','storage','6DVzRyw','PiB','opacity0','actionDiv','getItem','gap-16','dialog','onclick','rom-item','disable','1708254oVWgkZ','createElement','listScreenshot','listSave','.gba'];a0_0x1abe=function(){return _0x5307ef;};return a0_0x1abe();}document[a0_0x3f0302(0x180)](a0_0x3f0302(0x18b),function(){const _0x203f24=a0_0x3f0302;upLoadFile[_0x203f24(0x180)](_0x203f24(0x17b),function(){const _0x15fadd=_0x203f24,_0xea9512=upLoadFile['files'][0x0]['name'];if(_0xea9512[_0x15fadd(0x196)]('.cheats'))a0_0x44d209['uploadCheat'](upLoadFile);else _0xea9512[_0x15fadd(0x196)]('.gba')||_0xea9512['endsWith'](_0x15fadd(0x152))||_0xea9512[_0x15fadd(0x196)](_0x15fadd(0x169))?a0_0x44d209[_0x15fadd(0x182)](upLoadFile):a0_0x44d209['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x203f24(0x180)](_0x203f24(0x17e),function(){const _0x4d823f=_0x203f24,_0x3391c3=localStorage[_0x4d823f(0x15b)]('uId');storage[_0x4d823f(0x155)][_0x4d823f(0x18d)](_0x4d823f(0x160)),intro[_0x4d823f(0x155)][_0x4d823f(0x18a)]('disable'),ingame[_0x4d823f(0x155)][_0x4d823f(0x18a)](_0x4d823f(0x160)),_0x3391c3===null||_0x3391c3===''?(dropboxRestore[_0x4d823f(0x155)]['remove'](_0x4d823f(0x146)),dropboxBackup[_0x4d823f(0x155)][_0x4d823f(0x18d)](_0x4d823f(0x146)),dropboxCloud[_0x4d823f(0x155)][_0x4d823f(0x18d)](_0x4d823f(0x146))):(dropboxRestore[_0x4d823f(0x155)][_0x4d823f(0x18a)](_0x4d823f(0x146)),dropboxBackup[_0x4d823f(0x155)][_0x4d823f(0x18a)](_0x4d823f(0x146)),dropboxCloud['classList']['add'](_0x4d823f(0x146)));}),setTimeout(()=>{localStorageFile();},0xbb8);});