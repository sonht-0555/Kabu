const a0_0x133b28=a0_0x5b56;(function(_0x2da32d,_0x1d80ac){const _0x213fe4=a0_0x5b56,_0x2666ab=_0x2da32d();while(!![]){try{const _0x2af81e=parseInt(_0x213fe4(0x1c6))/0x1*(-parseInt(_0x213fe4(0x1d0))/0x2)+parseInt(_0x213fe4(0x1b7))/0x3+-parseInt(_0x213fe4(0x1ea))/0x4+parseInt(_0x213fe4(0x1d9))/0x5*(parseInt(_0x213fe4(0x1d6))/0x6)+parseInt(_0x213fe4(0x1cf))/0x7+parseInt(_0x213fe4(0x1c1))/0x8*(parseInt(_0x213fe4(0x1bd))/0x9)+-parseInt(_0x213fe4(0x1e4))/0xa;if(_0x2af81e===_0x1d80ac)break;else _0x2666ab['push'](_0x2666ab['shift']());}catch(_0x1c9eaf){_0x2666ab['push'](_0x2666ab['shift']());}}}(a0_0x24a3,0x90ead));import*as a0_0x1223de from'./main.js';const mgbaStorage=document[a0_0x133b28(0x1d2)]('mgba-storage'),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x133b28(0x1d2)](a0_0x133b28(0x1ab)),statesFile=document[a0_0x133b28(0x1d2)]('statesFile'),screenshotsFile=document[a0_0x133b28(0x1d2)]('screenshotsFile');function humanFileSize(_0x46f5f9,_0x39d3ca=![],_0x1b7d1c=0x1){const _0x15bdbb=a0_0x133b28,_0x604c69=_0x39d3ca?0x3e8:0x400,_0x2033d5=_0x39d3ca?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x15bdbb(0x1b8),'MiB','GiB','TiB','PiB',_0x15bdbb(0x1e3),_0x15bdbb(0x1b9),'YiB'];let _0x2d6adc=-0x1;do{_0x46f5f9/=_0x604c69,++_0x2d6adc;}while(Math['abs'](_0x46f5f9)>=_0x604c69&&_0x2d6adc<_0x2033d5[_0x15bdbb(0x1b3)]-0x1);return _0x46f5f9['toFixed'](_0x1b7d1c)+'\x20'+_0x2033d5[_0x2d6adc];}function a0_0x5b56(_0x5f561f,_0x1fcf8a){const _0x24a369=a0_0x24a3();return a0_0x5b56=function(_0x5b5630,_0x2d60fe){_0x5b5630=_0x5b5630-0x1ab;let _0x5398e9=_0x24a369[_0x5b5630];return _0x5398e9;},a0_0x5b56(_0x5f561f,_0x1fcf8a);}function createElementStorage(_0x32aec0,_0x8297b3,_0x4e223b){const _0x574f1a=a0_0x133b28,_0x1746b5=document['createElement'](_0x574f1a(0x1c7));_0x1746b5[_0x574f1a(0x1cb)]['add']('flex-1',_0x574f1a(0x1d8),_0x574f1a(0x1b0)),_0x32aec0[_0x574f1a(0x1c9)](_0x1746b5);const _0x5c62a4=document[_0x574f1a(0x1d3)](_0x574f1a(0x1b6));_0x5c62a4[_0x574f1a(0x1be)]=_0x8297b3,_0x5c62a4[_0x574f1a(0x1cb)][_0x574f1a(0x1af)](_0x574f1a(0x1e9)),_0x1746b5['appendChild'](_0x5c62a4),_0x5c62a4[_0x574f1a(0x1b1)]=()=>{const _0x2eef1e=_0x574f1a,_0x54869a=document[_0x2eef1e(0x1d3)](_0x2eef1e(0x1bc));_0x54869a['onclose']=()=>_0x54869a[_0x2eef1e(0x1ac)](),_0x32aec0[_0x2eef1e(0x1c9)](_0x54869a);const _0x36b76b=document[_0x2eef1e(0x1d3)](_0x2eef1e(0x1c7));_0x36b76b[_0x2eef1e(0x1cb)][_0x2eef1e(0x1af)]('storage',_0x2eef1e(0x1bf),'gap-10'),_0x54869a[_0x2eef1e(0x1c9)](_0x36b76b);const _0x8b3ae0=document['createElement'](_0x2eef1e(0x1c7));_0x8b3ae0[_0x2eef1e(0x1cb)]['add'](_0x2eef1e(0x1e1),'bc',_0x2eef1e(0x1e9)),_0x36b76b[_0x2eef1e(0x1c9)](_0x8b3ae0);const _0xfea91b=document[_0x2eef1e(0x1d3)]('div');_0xfea91b[_0x2eef1e(0x1cb)][_0x2eef1e(0x1af)](_0x2eef1e(0x1e9)),_0x36b76b['appendChild'](_0xfea91b);const _0x37ed49=document[_0x2eef1e(0x1d3)]('div');_0x37ed49[_0x2eef1e(0x1cb)][_0x2eef1e(0x1af)](_0x2eef1e(0x1e9)),_0x36b76b[_0x2eef1e(0x1c9)](_0x37ed49);const _0x17f501=document[_0x2eef1e(0x1d3)](_0x2eef1e(0x1c7));_0x17f501[_0x2eef1e(0x1cb)][_0x2eef1e(0x1af)](_0x2eef1e(0x1e9)),_0x36b76b[_0x2eef1e(0x1c9)](_0x17f501),mgbaStorage[_0x2eef1e(0x1cb)][_0x2eef1e(0x1af)](_0x2eef1e(0x1e8)),_0x8b3ae0['onclick']=()=>{const _0xa4faf2=_0x2eef1e;_0x54869a[_0xa4faf2(0x1d4)](),_0x54869a[_0xa4faf2(0x1ac)](),mgbaStorage[_0xa4faf2(0x1cb)][_0xa4faf2(0x1ac)](_0xa4faf2(0x1e8));};const _0x59a582=document[_0x2eef1e(0x1d3)](_0x2eef1e(0x1c7));_0x59a582[_0x2eef1e(0x1cb)][_0x2eef1e(0x1af)]('flex-1','rom-item','hw','cw'),_0x59a582['textContent']=_0x8297b3,_0x54869a[_0x2eef1e(0x1c9)](_0x59a582);const _0x82e05f=document[_0x2eef1e(0x1d3)](_0x2eef1e(0x1c7));_0x82e05f[_0x2eef1e(0x1cb)]['add'](_0x2eef1e(0x1ae),'hw','cw',_0x2eef1e(0x1bb)),_0x54869a[_0x2eef1e(0x1c9)](_0x82e05f);const _0x13b74f=document[_0x2eef1e(0x1d3)](_0x2eef1e(0x1c7));_0x13b74f[_0x2eef1e(0x1cb)]['add'](_0x2eef1e(0x1da),'bc'),_0x82e05f['appendChild'](_0x13b74f),_0x13b74f[_0x2eef1e(0x1b1)]=()=>{const _0x3b0c72=_0x2eef1e;a0_0x1223de[_0x3b0c72(0x1ba)](_0x4e223b,_0x8297b3);};const _0x410f58=document['createElement'](_0x2eef1e(0x1c7));_0x410f58['classList'][_0x2eef1e(0x1af)](_0x2eef1e(0x1e2),'bc'),_0x82e05f[_0x2eef1e(0x1c9)](_0x410f58),_0x410f58[_0x2eef1e(0x1b1)]=async()=>{const _0x4fb985=_0x2eef1e;if(window['confirm']('Delete\x20this\x20file?'+_0x8297b3)){const _0x253999=_0x8297b3[_0x4fb985(0x1c0)](/\....$/,_0x4fb985(0x1df));a0_0x1223de[_0x4fb985(0x1cc)](_0x4e223b),localStorage['removeItem'](_0x253999+_0x4fb985(0x1c5)+_0x8297b3[_0x4fb985(0x1ce)](-0x1)),localStorage[_0x4fb985(0x1cd)](_0x253999+'_imageState'+_0x8297b3[_0x4fb985(0x1ce)](-0x1)),localStorageFile(),_0x54869a[_0x4fb985(0x1d4)](),_0x54869a['remove'](),mgbaStorage[_0x4fb985(0x1cb)][_0x4fb985(0x1ac)](_0x4fb985(0x1e8));}};const _0x265391=document[_0x2eef1e(0x1d3)]('div');_0x265391[_0x2eef1e(0x1cb)][_0x2eef1e(0x1af)](_0x2eef1e(0x1c4),'bc'),_0x82e05f[_0x2eef1e(0x1c9)](_0x265391),_0x265391[_0x2eef1e(0x1b1)]=async()=>{const _0x5c2a93=_0x2eef1e,_0x867752=window['prompt'](_0x5c2a93(0x1e0),_0x8297b3);_0x867752!==null&&(a0_0x1223de[_0x5c2a93(0x1de)](_0x4e223b,_0x8297b3,_0x867752),localStorageFile(),_0x54869a[_0x5c2a93(0x1d4)](),_0x54869a['remove'](),mgbaStorage[_0x5c2a93(0x1cb)][_0x5c2a93(0x1ac)](_0x5c2a93(0x1e8)));},_0x54869a[_0x2eef1e(0x1e6)]();};const _0x540dfc=document['createElement']('span');_0x540dfc[_0x574f1a(0x1be)]=humanFileSize(a0_0x1223de[_0x574f1a(0x1dc)](_0x4e223b)),_0x540dfc[_0x574f1a(0x1cb)][_0x574f1a(0x1af)](_0x574f1a(0x1ad)),_0x1746b5[_0x574f1a(0x1c9)](_0x540dfc);}export function localStorageFile(){const _0x378ea3=a0_0x133b28,_0x2e68f5=a0_0x1223de[_0x378ea3(0x1ca)]('games'),_0x5c9124=a0_0x1223de[_0x378ea3(0x1ca)](_0x378ea3(0x1c3)),_0x49833d=a0_0x1223de[_0x378ea3(0x1ca)]('states'),_0x50983=a0_0x1223de[_0x378ea3(0x1ca)](_0x378ea3(0x1b2)),_0xf36438=a0_0x1223de['listFiles'](_0x378ea3(0x1c8)),_0x4d7944=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x44e0e4 of _0x4d7944){while(_0x44e0e4[_0x378ea3(0x1b4)]){_0x44e0e4['lastChild'][_0x378ea3(0x1ac)]();}}for(const _0x1522da of _0x2e68f5){createElementStorage(romsFile,_0x1522da,_0x378ea3(0x1db)+_0x1522da);}for(const _0x4349e3 of _0x49833d){createElementStorage(statesFile,_0x4349e3,_0x378ea3(0x1e7)+_0x4349e3);}for(const _0x1c49b0 of _0x5c9124){createElementStorage(savesFile,_0x1c49b0,_0x378ea3(0x1dd)+_0x1c49b0);}for(const _0x4a28e0 of _0x50983){createElementStorage(cheatsFile,_0x4a28e0,'/data/cheats/'+_0x4a28e0);}for(const _0x336267 of _0xf36438){createElementStorage(screenshotsFile,_0x336267,_0x378ea3(0x1d7)+_0x336267);}}function a0_0x24a3(){const _0x29f215=['deleteFile','removeItem','slice','867531lrqIOL','5838nwsvNw','uploadFile','getElementById','createElement','close','disable','6DyFGYY','/data/screenshots/','rom-item','4213405BbyNFo','download','/data/games/','fileSize','/data/saves/','editFile','.gba','Edit\x20filename','home','delete','EiB','8418340kndgIK','addEventListener','showModal','/data/states/','opacity0','flex-1','685420HnYdsg','romsFile','remove','mib','actionDiv','add','rom','onclick','cheats','length','firstChild','click','span','2315604KEFCEJ','KiB','ZiB','downloadFile','gap-16','dialog','1386soFmEo','textContent','right','replace','45624BEddKM','active','saves','rename','_dateState','346wZgtdS','div','screenshots','appendChild','listFiles','classList'];a0_0x24a3=function(){return _0x29f215;};return a0_0x24a3();}document[a0_0x133b28(0x1e5)]('DOMContentLoaded',function(){const _0x5110f3=a0_0x133b28;upLoadFile['addEventListener']('change',function(){const _0x3de35e=a0_0x5b56;a0_0x1223de[_0x3de35e(0x1d1)](upLoadFile);}),openLocalStorage[_0x5110f3(0x1e5)](_0x5110f3(0x1b5),function(){const _0x11f0a4=_0x5110f3,_0x3e4637=localStorage['getItem']('uId');storage['classList'][_0x11f0a4(0x1ac)](_0x11f0a4(0x1d5)),intro['classList'][_0x11f0a4(0x1af)]('disable'),ingame[_0x11f0a4(0x1cb)][_0x11f0a4(0x1af)](_0x11f0a4(0x1d5)),_0x3e4637===null||_0x3e4637===''?(dropboxRestore[_0x11f0a4(0x1cb)]['remove'](_0x11f0a4(0x1c2)),dropboxBackup['classList'][_0x11f0a4(0x1ac)](_0x11f0a4(0x1c2)),dropboxCloud[_0x11f0a4(0x1cb)][_0x11f0a4(0x1ac)](_0x11f0a4(0x1c2))):(dropboxRestore[_0x11f0a4(0x1cb)][_0x11f0a4(0x1af)](_0x11f0a4(0x1c2)),dropboxBackup[_0x11f0a4(0x1cb)][_0x11f0a4(0x1af)]('active'),dropboxCloud['classList'][_0x11f0a4(0x1af)](_0x11f0a4(0x1c2)));}),setTimeout(()=>{localStorageFile();},0xbb8);});