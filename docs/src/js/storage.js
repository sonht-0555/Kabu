const a0_0x10f3dd=a0_0x3ac4;function a0_0x3ac4(_0xe3c848,_0x3e3a4b){const _0x46c992=a0_0x46c9();return a0_0x3ac4=function(_0x3ac435,_0x4e0808){_0x3ac435=_0x3ac435-0x103;let _0x1a1282=_0x46c992[_0x3ac435];return _0x1a1282;},a0_0x3ac4(_0xe3c848,_0x3e3a4b);}(function(_0x1515a9,_0x311ee0){const _0x53b0c6=a0_0x3ac4,_0x3e2b3b=_0x1515a9();while(!![]){try{const _0x2884f8=parseInt(_0x53b0c6(0x126))/0x1+parseInt(_0x53b0c6(0x127))/0x2*(parseInt(_0x53b0c6(0x10a))/0x3)+parseInt(_0x53b0c6(0x145))/0x4+-parseInt(_0x53b0c6(0x119))/0x5*(parseInt(_0x53b0c6(0x10b))/0x6)+-parseInt(_0x53b0c6(0x12d))/0x7*(parseInt(_0x53b0c6(0x104))/0x8)+parseInt(_0x53b0c6(0x10c))/0x9+-parseInt(_0x53b0c6(0x110))/0xa;if(_0x2884f8===_0x311ee0)break;else _0x3e2b3b['push'](_0x3e2b3b['shift']());}catch(_0x46a216){_0x3e2b3b['push'](_0x3e2b3b['shift']());}}}(a0_0x46c9,0xaa803));import*as a0_0x431a00 from'./main.js';const mgbaStorage=document[a0_0x10f3dd(0x141)]('mgba-storage'),savesFile=document['getElementById'](a0_0x10f3dd(0x133)),romsFile=document[a0_0x10f3dd(0x141)]('romsFile'),statesFile=document['getElementById'](a0_0x10f3dd(0x13d)),screenshotsFile=document[a0_0x10f3dd(0x141)](a0_0x10f3dd(0x114));function humanFileSize(_0x1d07c4,_0xfb9ee=![],_0x3a24f6=0x1){const _0x4e75d=a0_0x10f3dd,_0x16015f=_0xfb9ee?0x3e8:0x400,_0x52d627=_0xfb9ee?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4e75d(0x11f),_0x4e75d(0x14a),_0x4e75d(0x109),_0x4e75d(0x11a),'PiB',_0x4e75d(0x125),_0x4e75d(0x11b),'YiB'];let _0xde469c=-0x1;do{_0x1d07c4/=_0x16015f,++_0xde469c;}while(Math['abs'](_0x1d07c4)>=_0x16015f&&_0xde469c<_0x52d627[_0x4e75d(0x138)]-0x1);return _0x1d07c4[_0x4e75d(0x124)](_0x3a24f6)+'\x20'+_0x52d627[_0xde469c];}function createElementStorage(_0x3332c5,_0x4fca58,_0x43944d){const _0x2839d4=a0_0x10f3dd,_0x5d2216=document[_0x2839d4(0x116)]('div');_0x5d2216['classList'][_0x2839d4(0x13f)]('flex-1','rom-item',_0x2839d4(0x148)),_0x3332c5[_0x2839d4(0x112)](_0x5d2216);const _0x10ae41=document[_0x2839d4(0x116)]('span');_0x10ae41[_0x2839d4(0x107)]=_0x4fca58,_0x10ae41[_0x2839d4(0x134)]['add'](_0x2839d4(0x140)),_0x5d2216[_0x2839d4(0x112)](_0x10ae41),_0x10ae41['onclick']=()=>{const _0x16574c=_0x2839d4,_0x401c3d=document['createElement'](_0x16574c(0x11e));_0x401c3d['onclose']=()=>_0x401c3d[_0x16574c(0x12b)](),_0x3332c5[_0x16574c(0x112)](_0x401c3d);const _0x4d578b=document[_0x16574c(0x116)](_0x16574c(0x13b));_0x4d578b['classList']['add']('storage',_0x16574c(0x146),_0x16574c(0x108)),_0x401c3d[_0x16574c(0x112)](_0x4d578b);const _0x4833c3=document[_0x16574c(0x116)](_0x16574c(0x13b));_0x4833c3[_0x16574c(0x134)][_0x16574c(0x13f)](_0x16574c(0x147),'bc',_0x16574c(0x140)),_0x4d578b[_0x16574c(0x112)](_0x4833c3);const _0x14c183=document[_0x16574c(0x116)](_0x16574c(0x13b));_0x14c183[_0x16574c(0x134)][_0x16574c(0x13f)](_0x16574c(0x140)),_0x4d578b[_0x16574c(0x112)](_0x14c183);const _0x569a6f=document[_0x16574c(0x116)](_0x16574c(0x13b));_0x569a6f[_0x16574c(0x134)][_0x16574c(0x13f)](_0x16574c(0x140)),_0x4d578b[_0x16574c(0x112)](_0x569a6f);const _0x4c7cb5=document['createElement'](_0x16574c(0x13b));_0x4c7cb5[_0x16574c(0x134)]['add'](_0x16574c(0x140)),_0x4d578b[_0x16574c(0x112)](_0x4c7cb5),mgbaStorage[_0x16574c(0x134)][_0x16574c(0x13f)](_0x16574c(0x122)),_0x4833c3['onclick']=()=>{const _0x4340f7=_0x16574c;_0x401c3d[_0x4340f7(0x143)](),_0x401c3d[_0x4340f7(0x12b)](),mgbaStorage[_0x4340f7(0x134)]['remove'](_0x4340f7(0x122));};const _0x4b2fee=document['createElement'](_0x16574c(0x13b));_0x4b2fee[_0x16574c(0x134)]['add'](_0x16574c(0x140),'rom-item','hw','cw'),_0x4b2fee[_0x16574c(0x107)]=_0x4fca58,_0x401c3d[_0x16574c(0x112)](_0x4b2fee);const _0xeaec1d=document[_0x16574c(0x116)](_0x16574c(0x13b));_0xeaec1d[_0x16574c(0x134)]['add'](_0x16574c(0x117),'hw','cw',_0x16574c(0x105)),_0x401c3d[_0x16574c(0x112)](_0xeaec1d);const _0x4f55b7=document[_0x16574c(0x116)]('div');_0x4f55b7[_0x16574c(0x134)][_0x16574c(0x13f)]('download','bc'),_0xeaec1d['appendChild'](_0x4f55b7),_0x4f55b7[_0x16574c(0x128)]=()=>{const _0xda9092=_0x16574c;a0_0x431a00[_0xda9092(0x10e)](_0x43944d,_0x4fca58);};const _0x1b2d1e=document[_0x16574c(0x116)]('div');_0x1b2d1e['classList'][_0x16574c(0x13f)](_0x16574c(0x11d),'bc'),_0xeaec1d[_0x16574c(0x112)](_0x1b2d1e),_0x1b2d1e['onclick']=async()=>{const _0x273a40=_0x16574c;if(window[_0x273a40(0x111)](_0x273a40(0x10f)+_0x4fca58)){const _0x4e31a7=_0x4fca58[_0x273a40(0x106)](/\....$/,_0x273a40(0x129));a0_0x431a00[_0x273a40(0x142)](_0x43944d),localStorage[_0x273a40(0x131)](_0x4e31a7+'_dateState'+_0x4fca58['slice'](-0x1)),localStorage[_0x273a40(0x131)](_0x4e31a7+_0x273a40(0x123)+_0x4fca58[_0x273a40(0x12c)](-0x1)),localStorageFile(),_0x401c3d['close'](),_0x401c3d[_0x273a40(0x12b)](),mgbaStorage[_0x273a40(0x134)][_0x273a40(0x12b)](_0x273a40(0x122));}};const _0x188e80=document[_0x16574c(0x116)](_0x16574c(0x13b));_0x188e80[_0x16574c(0x134)]['add'](_0x16574c(0x13c),'bc'),_0xeaec1d[_0x16574c(0x112)](_0x188e80),_0x188e80[_0x16574c(0x128)]=async()=>{const _0x586ceb=_0x16574c,_0xbbe21a=window[_0x586ceb(0x120)](_0x586ceb(0x118),_0x4fca58);if(_0xbbe21a!==null){const _0x4934ca=_0x4fca58[_0x586ceb(0x106)](/\....$/,_0x586ceb(0x129)),_0x37b067=_0xbbe21a['replace'](/\....$/,_0x586ceb(0x129)),_0xd2d759=_0x4934ca+_0x586ceb(0x12f)+_0x4fca58[_0x586ceb(0x12c)](-0x1),_0xf40831=_0x4934ca+'_imageState'+_0x4fca58['slice'](-0x1),_0x16b8cd=_0x37b067+_0x586ceb(0x12f)+_0xbbe21a['slice'](-0x1),_0x2a2aa3=_0x37b067+_0x586ceb(0x123)+_0xbbe21a[_0x586ceb(0x12c)](-0x1),_0x3a6e5e=localStorage[_0x586ceb(0x10d)](_0xd2d759),_0x4ec18a=localStorage[_0x586ceb(0x10d)](_0xf40831);_0x3a6e5e!==null&&(localStorage[_0x586ceb(0x13e)](_0x16b8cd,_0x3a6e5e),localStorage[_0x586ceb(0x131)](_0xd2d759)),_0x4ec18a!==null&&(localStorage[_0x586ceb(0x13e)](_0x2a2aa3,_0x4ec18a),localStorage[_0x586ceb(0x131)](_0xf40831)),a0_0x431a00['editFile'](_0x43944d,_0x4fca58,_0xbbe21a),localStorageFile(),_0x401c3d[_0x586ceb(0x143)](),_0x401c3d[_0x586ceb(0x12b)](),mgbaStorage['classList'][_0x586ceb(0x12b)](_0x586ceb(0x122));}},_0x401c3d[_0x16574c(0x144)]();};const _0x3c5de1=document[_0x2839d4(0x116)]('span');_0x3c5de1[_0x2839d4(0x107)]=humanFileSize(a0_0x431a00[_0x2839d4(0x139)](_0x43944d)),_0x3c5de1['classList'][_0x2839d4(0x13f)]('mib'),_0x5d2216[_0x2839d4(0x112)](_0x3c5de1);}export function localStorageFile(){const _0xfc7612=a0_0x10f3dd,_0x33f7b=a0_0x431a00[_0xfc7612(0x121)](),_0x48c6de=a0_0x431a00[_0xfc7612(0x113)](),_0x480932=a0_0x431a00[_0xfc7612(0x103)](),_0x99842a=a0_0x431a00['listCheat'](),_0x6ad10f=a0_0x431a00['listScreenshot'](),_0x3ba972=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x25052f of _0x3ba972){while(_0x25052f[_0xfc7612(0x149)]){_0x25052f[_0xfc7612(0x132)][_0xfc7612(0x12b)]();}}for(const _0x5de3b3 of _0x33f7b){createElementStorage(romsFile,_0x5de3b3,_0xfc7612(0x115)+_0x5de3b3);}for(const _0x300f34 of _0x480932){createElementStorage(statesFile,_0x300f34,_0xfc7612(0x12a)+_0x300f34);}for(const _0x1fd731 of _0x48c6de){createElementStorage(savesFile,_0x1fd731,'/data/saves/'+_0x1fd731);}for(const _0x5ee0ef of _0x99842a){createElementStorage(cheatsFile,_0x5ee0ef,'/data/cheats/'+_0x5ee0ef);}for(const _0x4acd01 of _0x6ad10f){createElementStorage(screenshotsFile,_0x4acd01,'/data/screenshots/'+_0x4acd01);}}document[a0_0x10f3dd(0x11c)](a0_0x10f3dd(0x13a),function(){const _0x5646b0=a0_0x10f3dd;upLoadFile[_0x5646b0(0x11c)](_0x5646b0(0x130),function(){const _0x1a6e86=_0x5646b0;a0_0x431a00[_0x1a6e86(0x136)](upLoadFile);}),openLocalStorage['addEventListener'](_0x5646b0(0x137),function(){const _0x5b8551=_0x5646b0,_0x21b483=localStorage[_0x5b8551(0x10d)]('uId');storage[_0x5b8551(0x134)][_0x5b8551(0x12b)](_0x5b8551(0x12e)),intro[_0x5b8551(0x134)][_0x5b8551(0x13f)](_0x5b8551(0x12e)),ingame[_0x5b8551(0x134)][_0x5b8551(0x13f)](_0x5b8551(0x12e)),_0x21b483===null||_0x21b483===''?(dropboxRestore[_0x5b8551(0x134)][_0x5b8551(0x12b)](_0x5b8551(0x135)),dropboxBackup['classList']['remove'](_0x5b8551(0x135)),dropboxCloud[_0x5b8551(0x134)]['remove'](_0x5b8551(0x135))):(dropboxRestore[_0x5b8551(0x134)]['add'](_0x5b8551(0x135)),dropboxBackup['classList'][_0x5b8551(0x13f)]('active'),dropboxCloud[_0x5b8551(0x134)][_0x5b8551(0x13f)](_0x5b8551(0x135)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x46c9(){const _0xb8e9f9=['removeItem','lastChild','savesFile','classList','active','uploadFile','click','length','fileSize','DOMContentLoaded','div','rename','statesFile','setItem','add','flex-1','getElementById','deleteFile','close','showModal','4323080qiaIfD','right','home','rom','firstChild','MiB','listState','8QHDhjP','gap-16','replace','textContent','gap-10','GiB','2178429LwhXyU','8015466Kzajwt','8313786xuKdyz','getItem','downloadFile','Delete\x20this\x20file?','832990cTTjHl','confirm','appendChild','listSave','screenshotsFile','/data/games/','createElement','actionDiv','Edit\x20filename','5adNFdn','TiB','ZiB','addEventListener','delete','dialog','KiB','prompt','listGame','opacity0','_imageState','toFixed','EiB','22984nHVeuL','2dlEdcd','onclick','.gba','/data/states/','remove','slice','4452490ihjEqc','disable','_dateState','change'];a0_0x46c9=function(){return _0xb8e9f9;};return a0_0x46c9();}