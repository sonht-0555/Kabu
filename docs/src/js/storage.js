const a0_0x254b74=a0_0x4e61;(function(_0x49e4ca,_0x5efe46){const _0xa52478=a0_0x4e61,_0x5c7001=_0x49e4ca();while(!![]){try{const _0x49b1f5=parseInt(_0xa52478(0x216))/0x1+-parseInt(_0xa52478(0x1d7))/0x2+parseInt(_0xa52478(0x1f4))/0x3+parseInt(_0xa52478(0x200))/0x4+parseInt(_0xa52478(0x1ff))/0x5+-parseInt(_0xa52478(0x1e6))/0x6+parseInt(_0xa52478(0x1e9))/0x7*(-parseInt(_0xa52478(0x207))/0x8);if(_0x49b1f5===_0x5efe46)break;else _0x5c7001['push'](_0x5c7001['shift']());}catch(_0x17de18){_0x5c7001['push'](_0x5c7001['shift']());}}}(a0_0x4341,0xc3dac));import*as a0_0x1ddc14 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x254b74(0x1eb)),savesFile=document['getElementById'](a0_0x254b74(0x1d6)),romsFile=document['getElementById'](a0_0x254b74(0x1f5)),statesFile=document[a0_0x254b74(0x1f2)](a0_0x254b74(0x1da)),screenshotsFile=document['getElementById'](a0_0x254b74(0x1e8));function a0_0x4e61(_0x50c828,_0x347927){const _0x4341d6=a0_0x4341();return a0_0x4e61=function(_0x4e61e9,_0xf1755f){_0x4e61e9=_0x4e61e9-0x1cf;let _0x3b1a11=_0x4341d6[_0x4e61e9];return _0x3b1a11;},a0_0x4e61(_0x50c828,_0x347927);}function humanFileSize(_0x3f3810,_0x3e10a3=![],_0x8c17c2=0x1){const _0x2e8565=a0_0x254b74,_0x191a57=_0x3e10a3?0x3e8:0x400,_0x423826=_0x3e10a3?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2e8565(0x1cf),_0x2e8565(0x202),_0x2e8565(0x1e4),_0x2e8565(0x21b),_0x2e8565(0x204),_0x2e8565(0x211),_0x2e8565(0x1d0),'YiB'];let _0xa390c8=-0x1;do{_0x3f3810/=_0x191a57,++_0xa390c8;}while(Math[_0x2e8565(0x1f6)](_0x3f3810)>=_0x191a57&&_0xa390c8<_0x423826[_0x2e8565(0x1ee)]-0x1);return _0x3f3810[_0x2e8565(0x1dd)](_0x8c17c2)+'\x20'+_0x423826[_0xa390c8];}function createElementStorage(_0x483a1e,_0x5d192c,_0x4eb285){const _0x3f4783=a0_0x254b74,_0xc95b19=document['createElement'](_0x3f4783(0x1e0));_0xc95b19[_0x3f4783(0x21d)][_0x3f4783(0x1f3)](_0x3f4783(0x1de),'rom-item',_0x3f4783(0x213)),_0x483a1e[_0x3f4783(0x209)](_0xc95b19);const _0x20ec73=document['createElement'](_0x3f4783(0x20e));_0x20ec73[_0x3f4783(0x20d)]=_0x5d192c,_0x20ec73[_0x3f4783(0x21d)][_0x3f4783(0x1f3)](_0x3f4783(0x1de)),_0xc95b19['appendChild'](_0x20ec73),_0x20ec73['onclick']=()=>{const _0x247e79=_0x3f4783,_0x171956=document[_0x247e79(0x1e2)](_0x247e79(0x208));_0x171956['onclose']=()=>_0x171956[_0x247e79(0x210)](),_0x483a1e[_0x247e79(0x209)](_0x171956);const _0x23659d=document[_0x247e79(0x1e2)](_0x247e79(0x1e0));_0x23659d[_0x247e79(0x21d)]['add']('storage',_0x247e79(0x219),'gap-10'),_0x171956[_0x247e79(0x209)](_0x23659d);const _0x5f59f2=document[_0x247e79(0x1e2)](_0x247e79(0x1e0));_0x5f59f2['classList']['add'](_0x247e79(0x1f0),'bc',_0x247e79(0x1de)),_0x23659d[_0x247e79(0x209)](_0x5f59f2);const _0x323ced=document['createElement']('div');_0x323ced[_0x247e79(0x21d)]['add'](_0x247e79(0x1de)),_0x23659d[_0x247e79(0x209)](_0x323ced);const _0x24094a=document['createElement'](_0x247e79(0x1e0));_0x24094a[_0x247e79(0x21d)]['add']('flex-1'),_0x23659d[_0x247e79(0x209)](_0x24094a);const _0xfbb4ba=document[_0x247e79(0x1e2)](_0x247e79(0x1e0));_0xfbb4ba['classList'][_0x247e79(0x1f3)](_0x247e79(0x1de)),_0x23659d[_0x247e79(0x209)](_0xfbb4ba),mgbaStorage[_0x247e79(0x21d)][_0x247e79(0x1f3)]('opacity0'),_0x5f59f2[_0x247e79(0x205)]=()=>{const _0xccaa86=_0x247e79;_0x171956[_0xccaa86(0x1fc)](),_0x171956['remove'](),mgbaStorage['classList'][_0xccaa86(0x210)](_0xccaa86(0x212));};const _0x38b875=document[_0x247e79(0x1e2)](_0x247e79(0x1e0));_0x38b875['classList']['add'](_0x247e79(0x1de),_0x247e79(0x1d3),'hw','cw'),_0x38b875[_0x247e79(0x20d)]=_0x5d192c,_0x171956['appendChild'](_0x38b875);const _0x2d4209=document['createElement'](_0x247e79(0x1e0));_0x2d4209[_0x247e79(0x21d)]['add'](_0x247e79(0x1ec),'hw','cw',_0x247e79(0x206)),_0x171956[_0x247e79(0x209)](_0x2d4209);const _0x153dfc=document[_0x247e79(0x1e2)]('div');_0x153dfc['classList'][_0x247e79(0x1f3)](_0x247e79(0x1d5),'bc'),_0x2d4209[_0x247e79(0x209)](_0x153dfc),_0x153dfc['onclick']=()=>{const _0x37050a=_0x247e79;a0_0x1ddc14[_0x37050a(0x1e7)](_0x4eb285,_0x5d192c);};const _0xfdbc46=document[_0x247e79(0x1e2)](_0x247e79(0x1e0));_0xfdbc46[_0x247e79(0x21d)][_0x247e79(0x1f3)](_0x247e79(0x1df),'bc'),_0x2d4209[_0x247e79(0x209)](_0xfdbc46),_0xfdbc46[_0x247e79(0x205)]=async()=>{const _0xed5ab9=_0x247e79;if(window[_0xed5ab9(0x1fd)]('Delete\x20this\x20file?'+_0x5d192c)){const _0x499dc1=_0x5d192c[_0xed5ab9(0x21a)](/\....$/,_0xed5ab9(0x1ed));a0_0x1ddc14['deleteFile'](_0x4eb285),localStorage[_0xed5ab9(0x21c)](_0x499dc1+_0xed5ab9(0x20b)+_0x5d192c['slice'](-0x1)),localStorage[_0xed5ab9(0x21c)](_0x499dc1+_0xed5ab9(0x1f9)+_0x5d192c['slice'](-0x1)),localStorageFile(),_0x171956[_0xed5ab9(0x1fc)](),_0x171956[_0xed5ab9(0x210)](),mgbaStorage['classList'][_0xed5ab9(0x210)](_0xed5ab9(0x212));}};const _0x3da607=document[_0x247e79(0x1e2)](_0x247e79(0x1e0));_0x3da607[_0x247e79(0x21d)][_0x247e79(0x1f3)]('rename','bc'),_0x2d4209['appendChild'](_0x3da607),_0x3da607['onclick']=async()=>{const _0xb677b6=_0x247e79,_0x38390d=window[_0xb677b6(0x1ef)](_0xb677b6(0x203),_0x5d192c);if(_0x38390d!==null){const _0x4bdbe8=_0x5d192c['replace'](/\....$/,_0xb677b6(0x1ed)),_0x1ca18c=_0x38390d[_0xb677b6(0x21a)](/\....$/,_0xb677b6(0x1ed)),_0x4cd119=_0x4bdbe8+_0xb677b6(0x20b)+_0x5d192c[_0xb677b6(0x215)](-0x1),_0x445af=_0x4bdbe8+_0xb677b6(0x1f9)+_0x5d192c[_0xb677b6(0x215)](-0x1),_0x5d3c82=_0x1ca18c+_0xb677b6(0x20b)+_0x38390d[_0xb677b6(0x215)](-0x1),_0x3cb202=_0x1ca18c+_0xb677b6(0x1f9)+_0x38390d[_0xb677b6(0x215)](-0x1),_0x1b8591=localStorage['getItem'](_0x4cd119),_0x2b34c1=localStorage[_0xb677b6(0x1fb)](_0x445af);_0x1b8591!==null&&(localStorage[_0xb677b6(0x1f7)](_0x5d3c82,_0x1b8591),localStorage[_0xb677b6(0x21c)](_0x4cd119)),_0x2b34c1!==null&&(localStorage[_0xb677b6(0x1f7)](_0x3cb202,_0x2b34c1),localStorage[_0xb677b6(0x21c)](_0x445af)),a0_0x1ddc14[_0xb677b6(0x1d9)](_0x4eb285,_0x5d192c,_0x38390d),localStorageFile(),_0x171956[_0xb677b6(0x1fc)](),_0x171956['remove'](),mgbaStorage[_0xb677b6(0x21d)][_0xb677b6(0x210)]('opacity0');}},_0x171956[_0x247e79(0x1d8)]();};const _0x3094bb=document[_0x3f4783(0x1e2)](_0x3f4783(0x20e));_0x3094bb['textContent']=humanFileSize(a0_0x1ddc14['fileSize'](_0x4eb285)),_0x3094bb[_0x3f4783(0x21d)][_0x3f4783(0x1f3)]('mib'),_0xc95b19[_0x3f4783(0x209)](_0x3094bb);}function a0_0x4341(){const _0x393b11=['ZiB','DOMContentLoaded','active','rom-item','addEventListener','download','savesFile','1237116HuudOb','showModal','editFile','statesFile','endsWith','change','toFixed','flex-1','delete','div','.gbc','createElement','name','GiB','uploadCheat','91170zBtgDj','downloadFile','screenshotsFile','3241042NJbdhk','/data/games/','mgba-storage','actionDiv','.gba','length','prompt','home','uId','getElementById','add','401433kdfybF','romsFile','abs','setItem','disable','_imageState','listState','getItem','close','confirm','listScreenshot','4618390oKUNJY','3999752CyzIBT','/data/states/','MiB','Edit\x20filename','PiB','onclick','gap-16','16vUqoFx','dialog','appendChild','files','_dateState','click','textContent','span','/data/saves/','remove','EiB','opacity0','rom','listGame','slice','304558WZkHaY','lastChild','uploadGame','right','replace','TiB','removeItem','classList','KiB'];a0_0x4341=function(){return _0x393b11;};return a0_0x4341();}export function localStorageFile(){const _0x2ff030=a0_0x254b74,_0x44765f=a0_0x1ddc14[_0x2ff030(0x214)](),_0x4585f8=a0_0x1ddc14['listSave'](),_0x4f2275=a0_0x1ddc14[_0x2ff030(0x1fa)](),_0x51921b=a0_0x1ddc14['listCheat'](),_0x1be595=a0_0x1ddc14[_0x2ff030(0x1fe)](),_0x28c927=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x258945 of _0x28c927){while(_0x258945['firstChild']){_0x258945[_0x2ff030(0x217)]['remove']();}}for(const _0x484402 of _0x44765f){createElementStorage(romsFile,_0x484402,_0x2ff030(0x1ea)+_0x484402);}for(const _0x283129 of _0x4f2275){createElementStorage(statesFile,_0x283129,_0x2ff030(0x201)+_0x283129);}for(const _0x10d2e3 of _0x4585f8){createElementStorage(savesFile,_0x10d2e3,_0x2ff030(0x20f)+_0x10d2e3);}for(const _0x2c6ad7 of _0x51921b){createElementStorage(cheatsFile,_0x2c6ad7,'/data/cheats/'+_0x2c6ad7);}for(const _0x40112e of _0x1be595){createElementStorage(screenshotsFile,_0x40112e,'/data/screenshots/'+_0x40112e);}}document[a0_0x254b74(0x1d4)](a0_0x254b74(0x1d1),function(){const _0x10b54c=a0_0x254b74;upLoadFile[_0x10b54c(0x1d4)](_0x10b54c(0x1dc),function(){const _0xd52e08=_0x10b54c,_0x49f701=upLoadFile[_0xd52e08(0x20a)][0x0][_0xd52e08(0x1e3)];if(_0x49f701[_0xd52e08(0x1db)]('.cheats'))a0_0x1ddc14[_0xd52e08(0x1e5)](upLoadFile);else _0x49f701[_0xd52e08(0x1db)](_0xd52e08(0x1ed))||_0x49f701[_0xd52e08(0x1db)](_0xd52e08(0x1e1))||_0x49f701[_0xd52e08(0x1db)]('.bc')?a0_0x1ddc14[_0xd52e08(0x218)](upLoadFile):a0_0x1ddc14['uploadSavSta'](upLoadFile);}),openLocalStorage['addEventListener'](_0x10b54c(0x20c),function(){const _0x5752b3=_0x10b54c,_0x24c1c2=localStorage[_0x5752b3(0x1fb)](_0x5752b3(0x1f1));storage[_0x5752b3(0x21d)]['remove'](_0x5752b3(0x1f8)),intro[_0x5752b3(0x21d)][_0x5752b3(0x1f3)](_0x5752b3(0x1f8)),ingame[_0x5752b3(0x21d)][_0x5752b3(0x1f3)](_0x5752b3(0x1f8)),_0x24c1c2===null||_0x24c1c2===''?(dropboxRestore['classList'][_0x5752b3(0x210)](_0x5752b3(0x1d2)),dropboxBackup['classList']['remove']('active'),dropboxCloud[_0x5752b3(0x21d)][_0x5752b3(0x210)](_0x5752b3(0x1d2))):(dropboxRestore['classList'][_0x5752b3(0x1f3)](_0x5752b3(0x1d2)),dropboxBackup[_0x5752b3(0x21d)][_0x5752b3(0x1f3)](_0x5752b3(0x1d2)),dropboxCloud[_0x5752b3(0x21d)][_0x5752b3(0x1f3)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});