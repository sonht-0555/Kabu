const a0_0x17dab3=a0_0x4b6a;(function(_0x1983c1,_0x40e104){const _0x2dde83=a0_0x4b6a,_0x1aa184=_0x1983c1();while(!![]){try{const _0xc325c8=parseInt(_0x2dde83(0x115))/0x1+parseInt(_0x2dde83(0xed))/0x2*(parseInt(_0x2dde83(0x110))/0x3)+-parseInt(_0x2dde83(0xcf))/0x4+-parseInt(_0x2dde83(0xf3))/0x5*(parseInt(_0x2dde83(0xd5))/0x6)+parseInt(_0x2dde83(0xf5))/0x7+parseInt(_0x2dde83(0x10b))/0x8*(parseInt(_0x2dde83(0x109))/0x9)+-parseInt(_0x2dde83(0xd8))/0xa;if(_0xc325c8===_0x40e104)break;else _0x1aa184['push'](_0x1aa184['shift']());}catch(_0x52f44e){_0x1aa184['push'](_0x1aa184['shift']());}}}(a0_0x2d34,0x6c261));import*as a0_0x581236 from'./main.js';const mgbaStorage=document[a0_0x17dab3(0x104)]('mgba-storage'),savesFile=document[a0_0x17dab3(0x104)](a0_0x17dab3(0xd2)),romsFile=document[a0_0x17dab3(0x104)](a0_0x17dab3(0xec)),statesFile=document[a0_0x17dab3(0x104)](a0_0x17dab3(0xe4)),screenshotsFile=document[a0_0x17dab3(0x104)](a0_0x17dab3(0xee));function humanFileSize(_0x551773,_0x38b875=![],_0x478886=0x1){const _0x2ce0e8=a0_0x17dab3,_0x20a39e=_0x38b875?0x3e8:0x400,_0x590090=_0x38b875?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x2ce0e8(0xc6),_0x2ce0e8(0xcd),_0x2ce0e8(0x103),_0x2ce0e8(0xdb),'EiB',_0x2ce0e8(0x106),_0x2ce0e8(0xfb)];let _0x3fa91e=-0x1;do{_0x551773/=_0x20a39e,++_0x3fa91e;}while(Math[_0x2ce0e8(0xc7)](_0x551773)>=_0x20a39e&&_0x3fa91e<_0x590090[_0x2ce0e8(0x113)]-0x1);return _0x551773[_0x2ce0e8(0xcb)](_0x478886)+'\x20'+_0x590090[_0x3fa91e];}function createElementStorage(_0x286919,_0x31bb29,_0x20ef75){const _0x227723=a0_0x17dab3,_0x29ee52=document['createElement']('div');_0x29ee52[_0x227723(0xf4)]['add'](_0x227723(0xc5),_0x227723(0x114),_0x227723(0xf7)),_0x286919[_0x227723(0xf8)](_0x29ee52);const _0x18ae76=document[_0x227723(0xd6)](_0x227723(0x107));_0x18ae76['textContent']=_0x31bb29,_0x18ae76[_0x227723(0xf4)][_0x227723(0x111)]('flex-1'),_0x29ee52['appendChild'](_0x18ae76),_0x18ae76[_0x227723(0x10a)]=()=>{const _0x2be285=_0x227723,_0x4df753=document['createElement'](_0x2be285(0x102));_0x4df753['onclose']=()=>_0x4df753[_0x2be285(0xca)](),_0x286919[_0x2be285(0xf8)](_0x4df753);const _0x5bfb50=document[_0x2be285(0xd6)]('div');_0x5bfb50[_0x2be285(0xf4)][_0x2be285(0x111)](_0x2be285(0xc8),'right','gap-10'),_0x4df753[_0x2be285(0xf8)](_0x5bfb50);const _0x14e3fd=document['createElement'](_0x2be285(0xf9));_0x14e3fd[_0x2be285(0xf4)][_0x2be285(0x111)](_0x2be285(0xd0),'bc',_0x2be285(0xc5)),_0x5bfb50[_0x2be285(0xf8)](_0x14e3fd);const _0x1ec863=document[_0x2be285(0xd6)](_0x2be285(0xf9));_0x1ec863[_0x2be285(0xf4)][_0x2be285(0x111)](_0x2be285(0xc5)),_0x5bfb50[_0x2be285(0xf8)](_0x1ec863);const _0x332400=document[_0x2be285(0xd6)]('div');_0x332400[_0x2be285(0xf4)]['add'](_0x2be285(0xc5)),_0x5bfb50[_0x2be285(0xf8)](_0x332400);const _0x17540d=document[_0x2be285(0xd6)](_0x2be285(0xf9));_0x17540d[_0x2be285(0xf4)][_0x2be285(0x111)]('flex-1'),_0x5bfb50[_0x2be285(0xf8)](_0x17540d),mgbaStorage[_0x2be285(0xf4)][_0x2be285(0x111)](_0x2be285(0xef)),_0x14e3fd[_0x2be285(0x10a)]=()=>{const _0x2456c1=_0x2be285;_0x4df753['close'](),_0x4df753[_0x2456c1(0xca)](),mgbaStorage[_0x2456c1(0xf4)]['remove'](_0x2456c1(0xef));};const _0x134719=document['createElement'](_0x2be285(0xf9));_0x134719[_0x2be285(0xf4)][_0x2be285(0x111)](_0x2be285(0xc5),_0x2be285(0x114),'hw','cw'),_0x134719[_0x2be285(0xe5)]=_0x31bb29,_0x4df753['appendChild'](_0x134719);const _0x340aaa=document['createElement']('div');_0x340aaa['classList'][_0x2be285(0x111)](_0x2be285(0xe9),'hw','cw',_0x2be285(0xd4)),_0x4df753['appendChild'](_0x340aaa);const _0x541ed6=document['createElement'](_0x2be285(0xf9));_0x541ed6[_0x2be285(0xf4)]['add'](_0x2be285(0x10d),'bc'),_0x340aaa[_0x2be285(0xf8)](_0x541ed6),_0x541ed6[_0x2be285(0x10a)]=()=>{const _0x2a181e=_0x2be285;a0_0x581236[_0x2a181e(0xe2)](_0x20ef75,_0x31bb29);};const _0x461b69=document[_0x2be285(0xd6)](_0x2be285(0xf9));_0x461b69['classList'][_0x2be285(0x111)](_0x2be285(0xd3),'bc'),_0x340aaa['appendChild'](_0x461b69),_0x461b69[_0x2be285(0x10a)]=async()=>{const _0x57c857=_0x2be285;if(window[_0x57c857(0x10e)]('Delete\x20this\x20file?'+_0x31bb29)){const _0x2ee0f2=_0x31bb29[_0x57c857(0xc3)](/\....$/,_0x57c857(0xc9));a0_0x581236[_0x57c857(0xd7)](_0x20ef75),localStorage[_0x57c857(0x101)](_0x2ee0f2+_0x57c857(0xf6)+_0x31bb29['slice'](-0x1)),localStorage[_0x57c857(0x101)](_0x2ee0f2+_0x57c857(0xda)+_0x31bb29[_0x57c857(0xe6)](-0x1)),localStorageFile(),_0x4df753['close'](),_0x4df753['remove'](),mgbaStorage[_0x57c857(0xf4)][_0x57c857(0xca)](_0x57c857(0xef));}};const _0x264fd2=document[_0x2be285(0xd6)](_0x2be285(0xf9));_0x264fd2['classList']['add'](_0x2be285(0xce),'bc'),_0x340aaa[_0x2be285(0xf8)](_0x264fd2),_0x264fd2[_0x2be285(0x10a)]=async()=>{const _0x376399=_0x2be285,_0x4b9b02=window[_0x376399(0xea)](_0x376399(0x100),_0x31bb29);if(_0x4b9b02!==null){const _0x1acf60=_0x31bb29[_0x376399(0xc3)](/\....$/,_0x376399(0xc9)),_0x25fa9e=_0x4b9b02[_0x376399(0xc3)](/\....$/,_0x376399(0xc9)),_0x9c5c02=_0x1acf60+_0x376399(0xf6)+_0x31bb29[_0x376399(0xe6)](-0x1),_0x5e6b4a=_0x1acf60+'_imageState'+_0x31bb29[_0x376399(0xe6)](-0x1),_0x48e4e5=_0x25fa9e+_0x376399(0xf6)+_0x4b9b02[_0x376399(0xe6)](-0x1),_0x94ab51=_0x25fa9e+'_imageState'+_0x4b9b02['slice'](-0x1),_0x1b51eb=localStorage[_0x376399(0xc2)](_0x9c5c02),_0x621b35=localStorage['getItem'](_0x5e6b4a);_0x1b51eb!==null&&(localStorage[_0x376399(0x105)](_0x48e4e5,_0x1b51eb),localStorage['removeItem'](_0x9c5c02)),_0x621b35!==null&&(localStorage[_0x376399(0x105)](_0x94ab51,_0x621b35),localStorage[_0x376399(0x101)](_0x5e6b4a)),a0_0x581236[_0x376399(0xfd)](_0x20ef75,_0x31bb29,_0x4b9b02),localStorageFile(),_0x4df753[_0x376399(0xe1)](),_0x4df753[_0x376399(0xca)](),mgbaStorage['classList'][_0x376399(0xca)](_0x376399(0xef));}},_0x4df753[_0x2be285(0xfc)]();};const _0x25bfe0=document[_0x227723(0xd6)](_0x227723(0x107));_0x25bfe0['textContent']=humanFileSize(a0_0x581236[_0x227723(0x108)](_0x20ef75)),_0x25bfe0['classList'][_0x227723(0x111)](_0x227723(0xfe)),_0x29ee52[_0x227723(0xf8)](_0x25bfe0);}export function localStorageFile(){const _0x33b8b6=a0_0x17dab3,_0x35469d=a0_0x581236[_0x33b8b6(0xd1)](),_0x1c8f43=a0_0x581236['listSave'](),_0xa9b3c5=a0_0x581236['listState'](),_0x21a227=a0_0x581236[_0x33b8b6(0xdc)](),_0x24bd8f=a0_0x581236[_0x33b8b6(0x112)](),_0x1a4091=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x2bb49 of _0x1a4091){while(_0x2bb49[_0x33b8b6(0xdd)]){_0x2bb49[_0x33b8b6(0xf0)][_0x33b8b6(0xca)]();}}for(const _0x3a2d3a of _0x35469d){createElementStorage(romsFile,_0x3a2d3a,_0x33b8b6(0xeb)+_0x3a2d3a);}for(const _0x5f2579 of _0xa9b3c5){createElementStorage(statesFile,_0x5f2579,_0x33b8b6(0xf1)+_0x5f2579);}for(const _0x3f97ca of _0x1c8f43){createElementStorage(savesFile,_0x3f97ca,_0x33b8b6(0xe8)+_0x3f97ca);}for(const _0x39e021 of _0x21a227){createElementStorage(cheatsFile,_0x39e021,_0x33b8b6(0x10f)+_0x39e021);}for(const _0x4b5745 of _0x24bd8f){createElementStorage(screenshotsFile,_0x4b5745,_0x33b8b6(0xff)+_0x4b5745);}}function a0_0x4b6a(_0x43155c,_0x31e06d){const _0x2d34eb=a0_0x2d34();return a0_0x4b6a=function(_0x4b6a66,_0x45c993){_0x4b6a66=_0x4b6a66-0xc2;let _0x2b9c7c=_0x2d34eb[_0x4b6a66];return _0x2b9c7c;},a0_0x4b6a(_0x43155c,_0x31e06d);}function a0_0x2d34(){const _0x45db44=['div','click','YiB','showModal','editFile','mib','/data/screenshots/','Edit\x20filename','removeItem','dialog','TiB','getElementById','setItem','ZiB','span','fileSize','351jslHQk','onclick','133880SlILQl','uploadCheat','download','confirm','/data/cheats/','3xvZbWL','add','listScreenshot','length','rom-item','713304timTyD','getItem','replace','.cheats','flex-1','MiB','abs','storage','.gba','remove','toFixed','active','GiB','rename','1127192sFMFld','home','listGame','savesFile','delete','gap-16','710508OmSugo','createElement','deleteFile','2234090PgCuCG','endsWith','_imageState','PiB','listCheat','firstChild','change','files','addEventListener','close','downloadFile','name','statesFile','textContent','slice','disable','/data/saves/','actionDiv','prompt','/data/games/','romsFile','538862GgZTbR','screenshotsFile','opacity0','lastChild','/data/states/','uploadSavSta','30CkZQBN','classList','163044RmnetU','_dateState','rom','appendChild'];a0_0x2d34=function(){return _0x45db44;};return a0_0x2d34();}document[a0_0x17dab3(0xe0)]('DOMContentLoaded',function(){const _0x1c3f2f=a0_0x17dab3;upLoadFile['addEventListener'](_0x1c3f2f(0xde),function(){const _0x3aa518=_0x1c3f2f,_0x7c13e8=upLoadFile[_0x3aa518(0xdf)][0x0][_0x3aa518(0xe3)];if(_0x7c13e8[_0x3aa518(0xd9)](_0x3aa518(0xc4)))a0_0x581236[_0x3aa518(0x10c)](upLoadFile);else _0x7c13e8[_0x3aa518(0xd9)]('.gba')||_0x7c13e8[_0x3aa518(0xd9)]('.gbc')||_0x7c13e8[_0x3aa518(0xd9)]('.bc')?a0_0x581236['uploadGame'](upLoadFile):a0_0x581236[_0x3aa518(0xf2)](upLoadFile);}),openLocalStorage[_0x1c3f2f(0xe0)](_0x1c3f2f(0xfa),function(){const _0x86d583=_0x1c3f2f,_0x2505ea=localStorage['getItem']('uId');storage['classList'][_0x86d583(0xca)](_0x86d583(0xe7)),intro[_0x86d583(0xf4)][_0x86d583(0x111)](_0x86d583(0xe7)),ingame[_0x86d583(0xf4)][_0x86d583(0x111)]('disable'),_0x2505ea===null||_0x2505ea===''?(dropboxRestore[_0x86d583(0xf4)]['remove']('active'),dropboxBackup[_0x86d583(0xf4)][_0x86d583(0xca)](_0x86d583(0xcc)),dropboxCloud[_0x86d583(0xf4)][_0x86d583(0xca)]('active')):(dropboxRestore[_0x86d583(0xf4)][_0x86d583(0x111)](_0x86d583(0xcc)),dropboxBackup[_0x86d583(0xf4)][_0x86d583(0x111)](_0x86d583(0xcc)),dropboxCloud['classList'][_0x86d583(0x111)](_0x86d583(0xcc)));}),setTimeout(()=>{localStorageFile();},0xbb8);});