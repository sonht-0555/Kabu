const a0_0x3438e2=a0_0x3745;(function(_0x4f0624,_0x38fdd1){const _0x111499=a0_0x3745,_0x37169f=_0x4f0624();while(!![]){try{const _0x243e7d=parseInt(_0x111499(0x1a4))/0x1*(parseInt(_0x111499(0x1a2))/0x2)+parseInt(_0x111499(0x18c))/0x3+-parseInt(_0x111499(0x199))/0x4+parseInt(_0x111499(0x163))/0x5*(parseInt(_0x111499(0x186))/0x6)+parseInt(_0x111499(0x18d))/0x7*(-parseInt(_0x111499(0x184))/0x8)+parseInt(_0x111499(0x17c))/0x9*(-parseInt(_0x111499(0x18a))/0xa)+-parseInt(_0x111499(0x15b))/0xb*(-parseInt(_0x111499(0x17f))/0xc);if(_0x243e7d===_0x38fdd1)break;else _0x37169f['push'](_0x37169f['shift']());}catch(_0x31fa6e){_0x37169f['push'](_0x37169f['shift']());}}}(a0_0x6f14,0x7bef6));import*as a0_0x5c673c from'./main.js';function a0_0x6f14(){const _0x12c7eb=['slice','right','confirm','toFixed','click','106hBeUgb','states','7990qtrIYU','actionDiv','firstChild','DOMContentLoaded','getItem','45969bAQBiQ','home','downloadFile','lastChild','delete','storage','close','uId','1438035oUKPfe','rom','TiB','/data/states/','fileSize','Edit\x20filename','deleteFile','PiB','classList','removeItem','disable','addEventListener','replace','screenshots','add','gap-10','textContent','saves','prompt','remove','MiB','opacity0','games','length','/data/screenshots/','677619dhJnnM','change','KiB','1956rPaOvR','romsFile','ZiB','/data/cheats/','dialog','1914224BbbRIC','createElement','12NjZBDQ','rename','/data/games/','active','60yCjxKH','rom-item','1536267RYZQHt','7QQyecV','span','showModal','onclick','appendChild','YiB','flex-1','listFiles','.gba','cheats','onclose','abs','3973152QwitRK','getElementById','GiB','div'];a0_0x6f14=function(){return _0x12c7eb;};return a0_0x6f14();}const mgbaStorage=document[a0_0x3438e2(0x19a)]('mgba-storage'),savesFile=document[a0_0x3438e2(0x19a)]('savesFile'),romsFile=document[a0_0x3438e2(0x19a)](a0_0x3438e2(0x180)),statesFile=document[a0_0x3438e2(0x19a)]('statesFile'),screenshotsFile=document['getElementById']('screenshotsFile');function humanFileSize(_0x3073f7,_0x4784cb=![],_0x472ed9=0x1){const _0xfe0975=a0_0x3438e2,_0xd1466b=_0x4784cb?0x3e8:0x400,_0x2f23cf=_0x4784cb?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0xfe0975(0x17e),_0xfe0975(0x177),_0xfe0975(0x19b),_0xfe0975(0x165),_0xfe0975(0x16a),'EiB',_0xfe0975(0x181),_0xfe0975(0x192)];let _0x59b445=-0x1;do{_0x3073f7/=_0xd1466b,++_0x59b445;}while(Math[_0xfe0975(0x198)](_0x3073f7)>=_0xd1466b&&_0x59b445<_0x2f23cf[_0xfe0975(0x17a)]-0x1);return _0x3073f7[_0xfe0975(0x1a0)](_0x472ed9)+'\x20'+_0x2f23cf[_0x59b445];}function a0_0x3745(_0x5566b8,_0x368e6e){const _0x6f14ff=a0_0x6f14();return a0_0x3745=function(_0x3745cf,_0x173ecb){_0x3745cf=_0x3745cf-0x158;let _0x5dfb47=_0x6f14ff[_0x3745cf];return _0x5dfb47;},a0_0x3745(_0x5566b8,_0x368e6e);}function createElementStorage(_0x543a98,_0x66aa28,_0x65dd93){const _0xbf881e=a0_0x3438e2,_0xe4de4a=document[_0xbf881e(0x185)](_0xbf881e(0x19c));_0xe4de4a[_0xbf881e(0x16b)][_0xbf881e(0x171)]('flex-1',_0xbf881e(0x18b),_0xbf881e(0x164)),_0x543a98[_0xbf881e(0x191)](_0xe4de4a);const _0x3eb199=document[_0xbf881e(0x185)]('span');_0x3eb199['textContent']=_0x66aa28,_0x3eb199[_0xbf881e(0x16b)][_0xbf881e(0x171)]('flex-1'),_0xe4de4a[_0xbf881e(0x191)](_0x3eb199),_0x3eb199[_0xbf881e(0x190)]=()=>{const _0xdf1963=_0xbf881e,_0x33c490=document[_0xdf1963(0x185)](_0xdf1963(0x183));_0x33c490[_0xdf1963(0x197)]=()=>_0x33c490[_0xdf1963(0x176)](),_0x543a98[_0xdf1963(0x191)](_0x33c490);const _0x3fc867=document['createElement']('div');_0x3fc867['classList']['add'](_0xdf1963(0x160),_0xdf1963(0x19e),_0xdf1963(0x172)),_0x33c490['appendChild'](_0x3fc867);const _0x2d99dc=document[_0xdf1963(0x185)](_0xdf1963(0x19c));_0x2d99dc['classList'][_0xdf1963(0x171)](_0xdf1963(0x15c),'bc',_0xdf1963(0x193)),_0x3fc867[_0xdf1963(0x191)](_0x2d99dc);const _0x1f7033=document[_0xdf1963(0x185)](_0xdf1963(0x19c));_0x1f7033[_0xdf1963(0x16b)][_0xdf1963(0x171)]('flex-1'),_0x3fc867[_0xdf1963(0x191)](_0x1f7033);const _0x4184c7=document[_0xdf1963(0x185)](_0xdf1963(0x19c));_0x4184c7[_0xdf1963(0x16b)][_0xdf1963(0x171)](_0xdf1963(0x193)),_0x3fc867[_0xdf1963(0x191)](_0x4184c7);const _0x58dd39=document[_0xdf1963(0x185)]('div');_0x58dd39[_0xdf1963(0x16b)][_0xdf1963(0x171)](_0xdf1963(0x193)),_0x3fc867[_0xdf1963(0x191)](_0x58dd39),mgbaStorage['classList'][_0xdf1963(0x171)](_0xdf1963(0x178)),_0x2d99dc['onclick']=()=>{const _0x186569=_0xdf1963;_0x33c490[_0x186569(0x161)](),_0x33c490[_0x186569(0x176)](),mgbaStorage[_0x186569(0x16b)]['remove'](_0x186569(0x178));};const _0x4a0765=document[_0xdf1963(0x185)](_0xdf1963(0x19c));_0x4a0765[_0xdf1963(0x16b)][_0xdf1963(0x171)](_0xdf1963(0x193),_0xdf1963(0x18b),'hw','cw'),_0x4a0765[_0xdf1963(0x173)]=_0x66aa28,_0x33c490[_0xdf1963(0x191)](_0x4a0765);const _0x3586f4=document[_0xdf1963(0x185)](_0xdf1963(0x19c));_0x3586f4['classList'][_0xdf1963(0x171)](_0xdf1963(0x1a5),'hw','cw','gap-16'),_0x33c490[_0xdf1963(0x191)](_0x3586f4);const _0xaba1b6=document[_0xdf1963(0x185)]('div');_0xaba1b6[_0xdf1963(0x16b)][_0xdf1963(0x171)]('download','bc'),_0x3586f4[_0xdf1963(0x191)](_0xaba1b6),_0xaba1b6[_0xdf1963(0x190)]=()=>{const _0x2a7d0c=_0xdf1963;a0_0x5c673c[_0x2a7d0c(0x15d)](_0x65dd93,_0x66aa28);};const _0x4a7ac5=document[_0xdf1963(0x185)](_0xdf1963(0x19c));_0x4a7ac5[_0xdf1963(0x16b)][_0xdf1963(0x171)](_0xdf1963(0x15f),'bc'),_0x3586f4[_0xdf1963(0x191)](_0x4a7ac5),_0x4a7ac5[_0xdf1963(0x190)]=async()=>{const _0x531e5e=_0xdf1963;if(window[_0x531e5e(0x19f)]('Delete\x20this\x20file?'+_0x66aa28)){const _0x180e6d=_0x66aa28[_0x531e5e(0x16f)](/\....$/,_0x531e5e(0x195));a0_0x5c673c[_0x531e5e(0x169)](_0x65dd93),localStorage[_0x531e5e(0x16c)](_0x180e6d+'_dateState'+_0x66aa28[_0x531e5e(0x19d)](-0x1)),localStorage[_0x531e5e(0x16c)](_0x180e6d+'_imageState'+_0x66aa28[_0x531e5e(0x19d)](-0x1)),localStorageFile(),_0x33c490['close'](),_0x33c490['remove'](),mgbaStorage['classList'][_0x531e5e(0x176)]('opacity0');}};const _0x279fc8=document[_0xdf1963(0x185)](_0xdf1963(0x19c));_0x279fc8[_0xdf1963(0x16b)][_0xdf1963(0x171)](_0xdf1963(0x187),'bc'),_0x3586f4['appendChild'](_0x279fc8),_0x279fc8['onclick']=async()=>{const _0x8917a0=_0xdf1963,_0x248ded=window[_0x8917a0(0x175)](_0x8917a0(0x168),_0x66aa28);_0x248ded!==null&&(a0_0x5c673c['editFile'](_0x65dd93,_0x66aa28,_0x248ded),localStorageFile(),_0x33c490[_0x8917a0(0x161)](),_0x33c490[_0x8917a0(0x176)](),mgbaStorage[_0x8917a0(0x16b)][_0x8917a0(0x176)](_0x8917a0(0x178)));},_0x33c490[_0xdf1963(0x18f)]();};const _0x487774=document[_0xbf881e(0x185)](_0xbf881e(0x18e));_0x487774[_0xbf881e(0x173)]=humanFileSize(a0_0x5c673c[_0xbf881e(0x167)](_0x65dd93)),_0x487774[_0xbf881e(0x16b)][_0xbf881e(0x171)]('mib'),_0xe4de4a[_0xbf881e(0x191)](_0x487774);}export function localStorageFile(){const _0x4f6801=a0_0x3438e2,_0x408914=a0_0x5c673c['listFiles'](_0x4f6801(0x179)),_0xbdd0eb=a0_0x5c673c[_0x4f6801(0x194)](_0x4f6801(0x174)),_0x257877=a0_0x5c673c[_0x4f6801(0x194)](_0x4f6801(0x1a3)),_0x33bf80=a0_0x5c673c[_0x4f6801(0x194)](_0x4f6801(0x196)),_0x511301=a0_0x5c673c['listFiles'](_0x4f6801(0x170)),_0x375706=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5cb457 of _0x375706){while(_0x5cb457[_0x4f6801(0x158)]){_0x5cb457[_0x4f6801(0x15e)][_0x4f6801(0x176)]();}}for(const _0x2dd9a1 of _0x408914){createElementStorage(romsFile,_0x2dd9a1,_0x4f6801(0x188)+_0x2dd9a1);}for(const _0x19d773 of _0x257877){createElementStorage(statesFile,_0x19d773,_0x4f6801(0x166)+_0x19d773);}for(const _0x5e0e3b of _0xbdd0eb){createElementStorage(savesFile,_0x5e0e3b,'/data/saves/'+_0x5e0e3b);}for(const _0x32a6c5 of _0x33bf80){createElementStorage(cheatsFile,_0x32a6c5,_0x4f6801(0x182)+_0x32a6c5);}for(const _0x3e81fe of _0x511301){createElementStorage(screenshotsFile,_0x3e81fe,_0x4f6801(0x17b)+_0x3e81fe);}}document['addEventListener'](a0_0x3438e2(0x159),function(){const _0x390b80=a0_0x3438e2;upLoadFile[_0x390b80(0x16e)](_0x390b80(0x17d),function(){a0_0x5c673c['uploadFile'](upLoadFile);}),openLocalStorage[_0x390b80(0x16e)](_0x390b80(0x1a1),function(){const _0xc56c59=_0x390b80,_0x2bf97b=localStorage[_0xc56c59(0x15a)](_0xc56c59(0x162));storage[_0xc56c59(0x16b)][_0xc56c59(0x176)](_0xc56c59(0x16d)),intro[_0xc56c59(0x16b)][_0xc56c59(0x171)](_0xc56c59(0x16d)),ingame[_0xc56c59(0x16b)][_0xc56c59(0x171)](_0xc56c59(0x16d)),_0x2bf97b===null||_0x2bf97b===''?(dropboxRestore[_0xc56c59(0x16b)][_0xc56c59(0x176)]('active'),dropboxBackup[_0xc56c59(0x16b)][_0xc56c59(0x176)]('active'),dropboxCloud[_0xc56c59(0x16b)][_0xc56c59(0x176)](_0xc56c59(0x189))):(dropboxRestore['classList']['add'](_0xc56c59(0x189)),dropboxBackup[_0xc56c59(0x16b)][_0xc56c59(0x171)](_0xc56c59(0x189)),dropboxCloud[_0xc56c59(0x16b)]['add'](_0xc56c59(0x189)));}),setTimeout(()=>{localStorageFile();},0xbb8);});