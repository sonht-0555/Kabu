const a0_0x57d756=a0_0x20f0;(function(_0x220d16,_0x3af78d){const _0x1daa05=a0_0x20f0,_0x248196=_0x220d16();while(!![]){try{const _0x3103b3=-parseInt(_0x1daa05(0xfc))/0x1*(-parseInt(_0x1daa05(0x116))/0x2)+-parseInt(_0x1daa05(0xec))/0x3+parseInt(_0x1daa05(0x119))/0x4*(-parseInt(_0x1daa05(0xff))/0x5)+parseInt(_0x1daa05(0xf0))/0x6*(parseInt(_0x1daa05(0x10e))/0x7)+-parseInt(_0x1daa05(0x130))/0x8+-parseInt(_0x1daa05(0xf5))/0x9+parseInt(_0x1daa05(0x100))/0xa*(-parseInt(_0x1daa05(0x112))/0xb);if(_0x3103b3===_0x3af78d)break;else _0x248196['push'](_0x248196['shift']());}catch(_0x6ae12f){_0x248196['push'](_0x248196['shift']());}}}(a0_0x560a,0xac61b));import*as a0_0x4fb62a from'./main.js';function a0_0x560a(){const _0x557979=['mib','close','div','4348458Ytnjzm','firstChild','romsFile','listState','download','EiB','lastChild','26344CcCzdm','onclose','onclick','5tECtZf','168970gfSOYY','actionDiv','opacity0','confirm','GiB','classList','/data/games/','flex-1','span','addEventListener','PiB','slice','remove','/data/screenshots/','4501eiQnIq','_dateState','right','/data/saves/','11bauBBF','storage','MiB','TiB','72OemBvH','createElement','rom','551644YPEBMf','Edit\x20filename','listSave','delete','abs','toFixed','deleteFile','savesFile','uId','listScreenshot','screenshotsFile','click','removeItem','listCheat','appendChild','textContent','dialog','.gba','fileSize','length','add','uploadFile','downloadFile','3928448SmqBCE','active','mgba-storage','getItem','home','gap-16','/data/cheats/','ZiB','getElementById','statesFile','KiB','/data/states/','rom-item','listGame','setItem','replace','_imageState','1327092PTVjpW','editFile','DOMContentLoaded','change','12402tlKznq','disable'];a0_0x560a=function(){return _0x557979;};return a0_0x560a();}function a0_0x20f0(_0x4217b2,_0x3c0519){const _0x560af8=a0_0x560a();return a0_0x20f0=function(_0x20f0bf,_0x672466){_0x20f0bf=_0x20f0bf-0xdd;let _0x6fcaba=_0x560af8[_0x20f0bf];return _0x6fcaba;},a0_0x20f0(_0x4217b2,_0x3c0519);}const mgbaStorage=document[a0_0x57d756(0xe3)](a0_0x57d756(0xdd)),savesFile=document['getElementById'](a0_0x57d756(0x120)),romsFile=document[a0_0x57d756(0xe3)](a0_0x57d756(0xf7)),statesFile=document['getElementById'](a0_0x57d756(0xe4)),screenshotsFile=document[a0_0x57d756(0xe3)](a0_0x57d756(0x123));function humanFileSize(_0x532649,_0x1e20cc=![],_0x2bda31=0x1){const _0x46474e=a0_0x57d756,_0xbb23a6=_0x1e20cc?0x3e8:0x400,_0x9a415c=_0x1e20cc?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x46474e(0xe5),_0x46474e(0x114),_0x46474e(0x104),_0x46474e(0x115),_0x46474e(0x10a),_0x46474e(0xfa),_0x46474e(0xe2),'YiB'];let _0x27ae46=-0x1;do{_0x532649/=_0xbb23a6,++_0x27ae46;}while(Math[_0x46474e(0x11d)](_0x532649)>=_0xbb23a6&&_0x27ae46<_0x9a415c[_0x46474e(0x12c)]-0x1);return _0x532649[_0x46474e(0x11e)](_0x2bda31)+'\x20'+_0x9a415c[_0x27ae46];}function createElementStorage(_0x3edcf1,_0x47bc81,_0x53bb77){const _0x2785c2=a0_0x57d756,_0x311fb6=document[_0x2785c2(0x117)](_0x2785c2(0xf4));_0x311fb6[_0x2785c2(0x105)][_0x2785c2(0x12d)](_0x2785c2(0x107),_0x2785c2(0xe7),_0x2785c2(0x118)),_0x3edcf1['appendChild'](_0x311fb6);const _0xc4ab21=document[_0x2785c2(0x117)](_0x2785c2(0x108));_0xc4ab21[_0x2785c2(0x128)]=_0x47bc81,_0xc4ab21['classList'][_0x2785c2(0x12d)](_0x2785c2(0x107)),_0x311fb6[_0x2785c2(0x127)](_0xc4ab21),_0xc4ab21[_0x2785c2(0xfe)]=()=>{const _0x2d58ef=_0x2785c2,_0x137880=document[_0x2d58ef(0x117)](_0x2d58ef(0x129));_0x137880[_0x2d58ef(0xfd)]=()=>_0x137880[_0x2d58ef(0x10c)](),_0x3edcf1[_0x2d58ef(0x127)](_0x137880);const _0x2d5e42=document[_0x2d58ef(0x117)](_0x2d58ef(0xf4));_0x2d5e42['classList'][_0x2d58ef(0x12d)](_0x2d58ef(0x113),_0x2d58ef(0x110),'gap-10'),_0x137880[_0x2d58ef(0x127)](_0x2d5e42);const _0x25b316=document[_0x2d58ef(0x117)]('div');_0x25b316['classList'][_0x2d58ef(0x12d)](_0x2d58ef(0xdf),'bc',_0x2d58ef(0x107)),_0x2d5e42[_0x2d58ef(0x127)](_0x25b316);const _0x3cc13a=document[_0x2d58ef(0x117)]('div');_0x3cc13a[_0x2d58ef(0x105)][_0x2d58ef(0x12d)](_0x2d58ef(0x107)),_0x2d5e42['appendChild'](_0x3cc13a);const _0x495e5d=document[_0x2d58ef(0x117)](_0x2d58ef(0xf4));_0x495e5d[_0x2d58ef(0x105)][_0x2d58ef(0x12d)](_0x2d58ef(0x107)),_0x2d5e42['appendChild'](_0x495e5d);const _0x5c7e13=document[_0x2d58ef(0x117)](_0x2d58ef(0xf4));_0x5c7e13[_0x2d58ef(0x105)][_0x2d58ef(0x12d)](_0x2d58ef(0x107)),_0x2d5e42['appendChild'](_0x5c7e13),mgbaStorage[_0x2d58ef(0x105)][_0x2d58ef(0x12d)](_0x2d58ef(0x102)),_0x25b316['onclick']=()=>{const _0x166253=_0x2d58ef;_0x137880['close'](),_0x137880[_0x166253(0x10c)](),mgbaStorage[_0x166253(0x105)]['remove'](_0x166253(0x102));};const _0x5890bf=document['createElement'](_0x2d58ef(0xf4));_0x5890bf[_0x2d58ef(0x105)][_0x2d58ef(0x12d)]('flex-1','rom-item','hw','cw'),_0x5890bf[_0x2d58ef(0x128)]=_0x47bc81,_0x137880[_0x2d58ef(0x127)](_0x5890bf);const _0x2b469d=document['createElement'](_0x2d58ef(0xf4));_0x2b469d[_0x2d58ef(0x105)][_0x2d58ef(0x12d)](_0x2d58ef(0x101),'hw','cw',_0x2d58ef(0xe0)),_0x137880[_0x2d58ef(0x127)](_0x2b469d);const _0x42bbc9=document[_0x2d58ef(0x117)](_0x2d58ef(0xf4));_0x42bbc9[_0x2d58ef(0x105)][_0x2d58ef(0x12d)](_0x2d58ef(0xf9),'bc'),_0x2b469d[_0x2d58ef(0x127)](_0x42bbc9),_0x42bbc9[_0x2d58ef(0xfe)]=()=>{const _0x176bf1=_0x2d58ef;a0_0x4fb62a[_0x176bf1(0x12f)](_0x53bb77,_0x47bc81);};const _0x4d5da4=document[_0x2d58ef(0x117)](_0x2d58ef(0xf4));_0x4d5da4[_0x2d58ef(0x105)][_0x2d58ef(0x12d)](_0x2d58ef(0x11c),'bc'),_0x2b469d[_0x2d58ef(0x127)](_0x4d5da4),_0x4d5da4[_0x2d58ef(0xfe)]=async()=>{const _0x57a57d=_0x2d58ef;if(window[_0x57a57d(0x103)]('Delete\x20this\x20file?'+_0x47bc81)){const _0xcce8a2=_0x47bc81[_0x57a57d(0xea)](/\....$/,'.gba');a0_0x4fb62a[_0x57a57d(0x11f)](_0x53bb77),localStorage['removeItem'](_0xcce8a2+'_dateState'+_0x47bc81[_0x57a57d(0x10b)](-0x1)),localStorage[_0x57a57d(0x125)](_0xcce8a2+_0x57a57d(0xeb)+_0x47bc81['slice'](-0x1)),localStorageFile(),_0x137880['close'](),_0x137880[_0x57a57d(0x10c)](),mgbaStorage[_0x57a57d(0x105)][_0x57a57d(0x10c)](_0x57a57d(0x102));}};const _0x56c13c=document[_0x2d58ef(0x117)](_0x2d58ef(0xf4));_0x56c13c[_0x2d58ef(0x105)][_0x2d58ef(0x12d)]('rename','bc'),_0x2b469d['appendChild'](_0x56c13c),_0x56c13c[_0x2d58ef(0xfe)]=async()=>{const _0x2a67d2=_0x2d58ef,_0x480e26=window['prompt'](_0x2a67d2(0x11a),_0x47bc81);if(_0x480e26!==null){const _0x518522=_0x47bc81[_0x2a67d2(0xea)](/\....$/,'.gba'),_0x38f5f0=_0x480e26[_0x2a67d2(0xea)](/\....$/,_0x2a67d2(0x12a)),_0x2e7bac=_0x518522+_0x2a67d2(0x10f)+_0x47bc81[_0x2a67d2(0x10b)](-0x1),_0x1257e5=_0x518522+'_imageState'+_0x47bc81['slice'](-0x1),_0x26bf71=_0x38f5f0+'_dateState'+_0x480e26[_0x2a67d2(0x10b)](-0x1),_0x59b349=_0x38f5f0+_0x2a67d2(0xeb)+_0x480e26[_0x2a67d2(0x10b)](-0x1),_0x4e0178=localStorage['getItem'](_0x2e7bac),_0x356b13=localStorage[_0x2a67d2(0xde)](_0x1257e5);_0x4e0178!==null&&(localStorage[_0x2a67d2(0xe9)](_0x26bf71,_0x4e0178),localStorage['removeItem'](_0x2e7bac)),_0x356b13!==null&&(localStorage[_0x2a67d2(0xe9)](_0x59b349,_0x356b13),localStorage[_0x2a67d2(0x125)](_0x1257e5)),a0_0x4fb62a[_0x2a67d2(0xed)](_0x53bb77,_0x47bc81,_0x480e26),localStorageFile(),_0x137880[_0x2a67d2(0xf3)](),_0x137880['remove'](),mgbaStorage[_0x2a67d2(0x105)]['remove'](_0x2a67d2(0x102));}},_0x137880['showModal']();};const _0x12bcdf=document[_0x2785c2(0x117)](_0x2785c2(0x108));_0x12bcdf[_0x2785c2(0x128)]=humanFileSize(a0_0x4fb62a[_0x2785c2(0x12b)](_0x53bb77)),_0x12bcdf[_0x2785c2(0x105)][_0x2785c2(0x12d)](_0x2785c2(0xf2)),_0x311fb6[_0x2785c2(0x127)](_0x12bcdf);}export function localStorageFile(){const _0x1d5523=a0_0x57d756,_0x3e0fb9=a0_0x4fb62a[_0x1d5523(0xe8)](),_0x4c2d4c=a0_0x4fb62a[_0x1d5523(0x11b)](),_0x48d16b=a0_0x4fb62a[_0x1d5523(0xf8)](),_0x16a374=a0_0x4fb62a[_0x1d5523(0x126)](),_0xf14313=a0_0x4fb62a[_0x1d5523(0x122)](),_0x203752=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x34adaf of _0x203752){while(_0x34adaf[_0x1d5523(0xf6)]){_0x34adaf[_0x1d5523(0xfb)][_0x1d5523(0x10c)]();}}for(const _0x45f25e of _0x3e0fb9){createElementStorage(romsFile,_0x45f25e,_0x1d5523(0x106)+_0x45f25e);}for(const _0x45064d of _0x48d16b){createElementStorage(statesFile,_0x45064d,_0x1d5523(0xe6)+_0x45064d);}for(const _0x1e3352 of _0x4c2d4c){createElementStorage(savesFile,_0x1e3352,_0x1d5523(0x111)+_0x1e3352);}for(const _0x5b02a9 of _0x16a374){createElementStorage(cheatsFile,_0x5b02a9,_0x1d5523(0xe1)+_0x5b02a9);}for(const _0x6d0986 of _0xf14313){createElementStorage(screenshotsFile,_0x6d0986,_0x1d5523(0x10d)+_0x6d0986);}}document[a0_0x57d756(0x109)](a0_0x57d756(0xee),function(){const _0x16018a=a0_0x57d756;upLoadFile['addEventListener'](_0x16018a(0xef),function(){const _0x280f6a=_0x16018a;a0_0x4fb62a[_0x280f6a(0x12e)](upLoadFile);}),openLocalStorage[_0x16018a(0x109)](_0x16018a(0x124),function(){const _0x5edd62=_0x16018a,_0x408f09=localStorage[_0x5edd62(0xde)](_0x5edd62(0x121));storage[_0x5edd62(0x105)][_0x5edd62(0x10c)](_0x5edd62(0xf1)),intro[_0x5edd62(0x105)][_0x5edd62(0x12d)](_0x5edd62(0xf1)),ingame['classList'][_0x5edd62(0x12d)](_0x5edd62(0xf1)),_0x408f09===null||_0x408f09===''?(dropboxRestore[_0x5edd62(0x105)]['remove'](_0x5edd62(0x131)),dropboxBackup['classList'][_0x5edd62(0x10c)](_0x5edd62(0x131)),dropboxCloud[_0x5edd62(0x105)]['remove'](_0x5edd62(0x131))):(dropboxRestore[_0x5edd62(0x105)][_0x5edd62(0x12d)](_0x5edd62(0x131)),dropboxBackup['classList'][_0x5edd62(0x12d)](_0x5edd62(0x131)),dropboxCloud[_0x5edd62(0x105)][_0x5edd62(0x12d)](_0x5edd62(0x131)));}),setTimeout(()=>{localStorageFile();},0xbb8);});