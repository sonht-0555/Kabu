const a0_0x32978c=a0_0x344d;(function(_0x5d4261,_0x35bb62){const _0x42be5d=a0_0x344d,_0x302021=_0x5d4261();while(!![]){try{const _0x2697a4=-parseInt(_0x42be5d(0x1cd))/0x1*(-parseInt(_0x42be5d(0x1e5))/0x2)+parseInt(_0x42be5d(0x1e3))/0x3*(parseInt(_0x42be5d(0x1d5))/0x4)+parseInt(_0x42be5d(0x1b4))/0x5*(parseInt(_0x42be5d(0x1ee))/0x6)+-parseInt(_0x42be5d(0x1e7))/0x7*(-parseInt(_0x42be5d(0x1df))/0x8)+-parseInt(_0x42be5d(0x1d3))/0x9*(-parseInt(_0x42be5d(0x1ca))/0xa)+-parseInt(_0x42be5d(0x1e9))/0xb+-parseInt(_0x42be5d(0x1bb))/0xc*(parseInt(_0x42be5d(0x1da))/0xd);if(_0x2697a4===_0x35bb62)break;else _0x302021['push'](_0x302021['shift']());}catch(_0x4f7f04){_0x302021['push'](_0x302021['shift']());}}}(a0_0xd67c,0x1d033));import*as a0_0x279be9 from'./main.js';const mgbaStorage=document[a0_0x32978c(0x1ac)](a0_0x32978c(0x1dc)),savesFile=document[a0_0x32978c(0x1ac)](a0_0x32978c(0x1c9)),romsFile=document['getElementById'](a0_0x32978c(0x1b5)),statesFile=document[a0_0x32978c(0x1ac)]('statesFile'),screenshotsFile=document[a0_0x32978c(0x1ac)]('screenshotsFile');function humanFileSize(_0x2fe097,_0x1c7376=![],_0x1dc6d9=0x1){const _0x5cf756=a0_0x32978c,_0x539ebf=_0x1c7376?0x3e8:0x400,_0x479e94=_0x1c7376?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5cf756(0x1f3),'MiB',_0x5cf756(0x1c2),_0x5cf756(0x1f2),_0x5cf756(0x1cc),_0x5cf756(0x1b0),_0x5cf756(0x1c5),_0x5cf756(0x1af)];let _0x4b199c=-0x1;do{_0x2fe097/=_0x539ebf,++_0x4b199c;}while(Math[_0x5cf756(0x1bc)](_0x2fe097)>=_0x539ebf&&_0x4b199c<_0x479e94[_0x5cf756(0x1e4)]-0x1);return _0x2fe097[_0x5cf756(0x1b1)](_0x1dc6d9)+'\x20'+_0x479e94[_0x4b199c];}function createElementStorage(_0x33b25f,_0x34b17d,_0x32440c){const _0x52f7e4=a0_0x32978c,_0x506e20=document[_0x52f7e4(0x1b3)]('div');_0x506e20[_0x52f7e4(0x1e1)]['add'](_0x52f7e4(0x1ea),_0x52f7e4(0x1ec),_0x52f7e4(0x1a6)),_0x33b25f['appendChild'](_0x506e20);const _0x27feb3=document[_0x52f7e4(0x1b3)]('span');_0x27feb3['textContent']=_0x34b17d,_0x27feb3[_0x52f7e4(0x1e1)][_0x52f7e4(0x1ef)](_0x52f7e4(0x1ea)),_0x506e20['appendChild'](_0x27feb3),_0x27feb3['onclick']=()=>{const _0x4d7e0c=_0x52f7e4,_0x32a458=document['createElement'](_0x4d7e0c(0x1d4));_0x32a458[_0x4d7e0c(0x1ae)]=()=>_0x32a458[_0x4d7e0c(0x1d9)](),_0x33b25f[_0x4d7e0c(0x1dd)](_0x32a458);const _0x5a005d=document[_0x4d7e0c(0x1b3)]('div');_0x5a005d[_0x4d7e0c(0x1e1)]['add'](_0x4d7e0c(0x1c4),'right',_0x4d7e0c(0x1e2)),_0x32a458[_0x4d7e0c(0x1dd)](_0x5a005d);const _0x5395d0=document[_0x4d7e0c(0x1b3)](_0x4d7e0c(0x1a8));_0x5395d0['classList'][_0x4d7e0c(0x1ef)](_0x4d7e0c(0x1b8),'bc','flex-1'),_0x5a005d[_0x4d7e0c(0x1dd)](_0x5395d0);const _0x623ee7=document[_0x4d7e0c(0x1b3)](_0x4d7e0c(0x1a8));_0x623ee7[_0x4d7e0c(0x1e1)]['add']('flex-1'),_0x5a005d['appendChild'](_0x623ee7);const _0x304722=document[_0x4d7e0c(0x1b3)](_0x4d7e0c(0x1a8));_0x304722[_0x4d7e0c(0x1e1)]['add'](_0x4d7e0c(0x1ea)),_0x5a005d[_0x4d7e0c(0x1dd)](_0x304722);const _0xa494e4=document['createElement'](_0x4d7e0c(0x1a8));_0xa494e4[_0x4d7e0c(0x1e1)][_0x4d7e0c(0x1ef)](_0x4d7e0c(0x1ea)),_0x5a005d['appendChild'](_0xa494e4),mgbaStorage['classList']['add']('opacity0'),_0x5395d0[_0x4d7e0c(0x1d7)]=()=>{const _0x586872=_0x4d7e0c;_0x32a458[_0x586872(0x1c3)](),_0x32a458[_0x586872(0x1d9)](),mgbaStorage[_0x586872(0x1e1)]['remove'](_0x586872(0x1b6));};const _0x33cebd=document[_0x4d7e0c(0x1b3)](_0x4d7e0c(0x1a8));_0x33cebd['classList'][_0x4d7e0c(0x1ef)]('flex-1',_0x4d7e0c(0x1ec),'hw','cw'),_0x33cebd[_0x4d7e0c(0x1a7)]=_0x34b17d,_0x32a458[_0x4d7e0c(0x1dd)](_0x33cebd);const _0x39b322=document[_0x4d7e0c(0x1b3)](_0x4d7e0c(0x1a8));_0x39b322[_0x4d7e0c(0x1e1)][_0x4d7e0c(0x1ef)](_0x4d7e0c(0x1be),'hw','cw',_0x4d7e0c(0x1a5)),_0x32a458['appendChild'](_0x39b322);const _0x47c131=document[_0x4d7e0c(0x1b3)](_0x4d7e0c(0x1a8));_0x47c131['classList'][_0x4d7e0c(0x1ef)]('download','bc'),_0x39b322[_0x4d7e0c(0x1dd)](_0x47c131),_0x47c131['onclick']=()=>{const _0x866c7b=_0x4d7e0c;a0_0x279be9[_0x866c7b(0x1f0)](_0x32440c,_0x34b17d);};const _0x486756=document[_0x4d7e0c(0x1b3)]('div');_0x486756[_0x4d7e0c(0x1e1)][_0x4d7e0c(0x1ef)]('delete','bc'),_0x39b322['appendChild'](_0x486756),_0x486756[_0x4d7e0c(0x1d7)]=async()=>{const _0x38a5d9=_0x4d7e0c;if(window[_0x38a5d9(0x1bf)]('Delete\x20this\x20file?'+_0x34b17d)){const _0x5ce6b6=_0x34b17d[_0x38a5d9(0x1ad)](/\....$/,'.gba');a0_0x279be9[_0x38a5d9(0x1ce)](_0x32440c),localStorage[_0x38a5d9(0x1cf)](_0x5ce6b6+_0x38a5d9(0x1ba)+_0x34b17d[_0x38a5d9(0x1d0)](-0x1)),localStorage[_0x38a5d9(0x1cf)](_0x5ce6b6+_0x38a5d9(0x1d2)+_0x34b17d[_0x38a5d9(0x1d0)](-0x1)),localStorageFile(),_0x32a458[_0x38a5d9(0x1c3)](),_0x32a458[_0x38a5d9(0x1d9)](),mgbaStorage[_0x38a5d9(0x1e1)][_0x38a5d9(0x1d9)](_0x38a5d9(0x1b6));}};const _0x4ee0ae=document['createElement'](_0x4d7e0c(0x1a8));_0x4ee0ae['classList'][_0x4d7e0c(0x1ef)](_0x4d7e0c(0x1aa),'bc'),_0x39b322[_0x4d7e0c(0x1dd)](_0x4ee0ae),_0x4ee0ae['onclick']=async()=>{const _0x1c2f0b=_0x4d7e0c,_0x436f07=window['prompt']('Edit\x20filename',_0x34b17d);if(_0x436f07!==null){const _0x2cc7f5=_0x34b17d['replace'](/\....$/,'.gba'),_0x24b5de=_0x436f07[_0x1c2f0b(0x1ad)](/\....$/,_0x1c2f0b(0x1e8)),_0x1789e2=_0x2cc7f5+_0x1c2f0b(0x1ba)+_0x34b17d['slice'](-0x1),_0x40169c=_0x2cc7f5+_0x1c2f0b(0x1d2)+_0x34b17d[_0x1c2f0b(0x1d0)](-0x1),_0xfe43ea=_0x24b5de+_0x1c2f0b(0x1ba)+_0x436f07['slice'](-0x1),_0x4a758d=_0x24b5de+_0x1c2f0b(0x1d2)+_0x436f07['slice'](-0x1),_0x3fe899=localStorage[_0x1c2f0b(0x1d6)](_0x1789e2),_0x3127b5=localStorage[_0x1c2f0b(0x1d6)](_0x40169c);_0x3fe899!==null&&(localStorage['setItem'](_0xfe43ea,_0x3fe899),localStorage[_0x1c2f0b(0x1cf)](_0x1789e2)),_0x3127b5!==null&&(localStorage[_0x1c2f0b(0x1ab)](_0x4a758d,_0x3127b5),localStorage['removeItem'](_0x40169c)),a0_0x279be9[_0x1c2f0b(0x1c0)](_0x32440c,_0x34b17d,_0x436f07),localStorageFile(),_0x32a458[_0x1c2f0b(0x1c3)](),_0x32a458[_0x1c2f0b(0x1d9)](),mgbaStorage[_0x1c2f0b(0x1e1)]['remove'](_0x1c2f0b(0x1b6));}},_0x32a458['showModal']();};const _0x1dbdbe=document[_0x52f7e4(0x1b3)](_0x52f7e4(0x1eb));_0x1dbdbe[_0x52f7e4(0x1a7)]=humanFileSize(a0_0x279be9['fileSize'](_0x32440c)),_0x1dbdbe[_0x52f7e4(0x1e1)]['add'](_0x52f7e4(0x1f1)),_0x506e20[_0x52f7e4(0x1dd)](_0x1dbdbe);}export function localStorageFile(){const _0x4b763f=a0_0x32978c,_0x46718f=a0_0x279be9[_0x4b763f(0x1db)](),_0x5db189=a0_0x279be9[_0x4b763f(0x1de)](),_0x51745e=a0_0x279be9[_0x4b763f(0x1b9)](),_0x3c86ab=a0_0x279be9[_0x4b763f(0x1c7)](),_0x18f7cd=a0_0x279be9[_0x4b763f(0x1ed)](),_0x1eb8e8=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5cf537 of _0x1eb8e8){while(_0x5cf537[_0x4b763f(0x1b2)]){_0x5cf537[_0x4b763f(0x1a9)][_0x4b763f(0x1d9)]();}}for(const _0x5086a0 of _0x46718f){createElementStorage(romsFile,_0x5086a0,_0x4b763f(0x1d1)+_0x5086a0);}for(const _0x3446dc of _0x51745e){createElementStorage(statesFile,_0x3446dc,_0x4b763f(0x1e6)+_0x3446dc);}for(const _0x150832 of _0x5db189){createElementStorage(savesFile,_0x150832,'/data/saves/'+_0x150832);}for(const _0x10bfd4 of _0x3c86ab){createElementStorage(cheatsFile,_0x10bfd4,_0x4b763f(0x1f4)+_0x10bfd4);}for(const _0x3823e0 of _0x18f7cd){createElementStorage(screenshotsFile,_0x3823e0,_0x4b763f(0x1e0)+_0x3823e0);}}document['addEventListener']('DOMContentLoaded',function(){const _0xd0d07d=a0_0x32978c;upLoadFile[_0xd0d07d(0x1d8)](_0xd0d07d(0x1c6),function(){const _0x5a0e1f=_0xd0d07d;a0_0x279be9[_0x5a0e1f(0x1b7)](upLoadFile);}),openLocalStorage[_0xd0d07d(0x1d8)](_0xd0d07d(0x1c1),function(){const _0x3a3c35=_0xd0d07d,_0x16ae67=localStorage['getItem'](_0x3a3c35(0x1bd));storage['classList']['remove'](_0x3a3c35(0x1c8)),intro[_0x3a3c35(0x1e1)]['add'](_0x3a3c35(0x1c8)),ingame['classList'][_0x3a3c35(0x1ef)](_0x3a3c35(0x1c8)),_0x16ae67===null||_0x16ae67===''?(dropboxRestore[_0x3a3c35(0x1e1)][_0x3a3c35(0x1d9)](_0x3a3c35(0x1cb)),dropboxBackup['classList']['remove'](_0x3a3c35(0x1cb)),dropboxCloud[_0x3a3c35(0x1e1)][_0x3a3c35(0x1d9)](_0x3a3c35(0x1cb))):(dropboxRestore[_0x3a3c35(0x1e1)][_0x3a3c35(0x1ef)]('active'),dropboxBackup[_0x3a3c35(0x1e1)][_0x3a3c35(0x1ef)](_0x3a3c35(0x1cb)),dropboxCloud[_0x3a3c35(0x1e1)]['add'](_0x3a3c35(0x1cb)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x344d(_0x3b24d2,_0x2d3ada){const _0xd67c2f=a0_0xd67c();return a0_0x344d=function(_0x344d9e,_0x520436){_0x344d9e=_0x344d9e-0x1a5;let _0x38e4d2=_0xd67c2f[_0x344d9e];return _0x38e4d2;},a0_0x344d(_0x3b24d2,_0x2d3ada);}function a0_0xd67c(){const _0x280ec4=['PiB','165787bEhsmo','deleteFile','removeItem','slice','/data/games/','_imageState','45lQGPOJ','dialog','39580eGDUra','getItem','onclick','addEventListener','remove','607165OsdOtD','listGame','mgba-storage','appendChild','listSave','459704ARvySY','/data/screenshots/','classList','gap-10','39xeJAgS','length','2zEdsJo','/data/states/','14pToEgI','.gba','837078BCVeEV','flex-1','span','rom-item','listScreenshot','6RwvaVm','add','downloadFile','mib','TiB','KiB','/data/cheats/','gap-16','rom','textContent','div','lastChild','rename','setItem','getElementById','replace','onclose','YiB','EiB','toFixed','firstChild','createElement','373250cjgaQQ','romsFile','opacity0','uploadFile','home','listState','_dateState','96mIkFIk','abs','uId','actionDiv','confirm','editFile','click','GiB','close','storage','ZiB','change','listCheat','disable','savesFile','169150ZaGASi','active'];a0_0xd67c=function(){return _0x280ec4;};return a0_0xd67c();}