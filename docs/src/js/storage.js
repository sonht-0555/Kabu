const a0_0xbd8bfb=a0_0x42ad;function a0_0x1cf1(){const _0x5666e5=['deleteFile','span','home','DOMContentLoaded','/data/saves/','_imageState','prompt','slice','appendChild','_dateState','addEventListener','showModal','Delete\x20this\x20file?','storage','mgba-storage','games','change','firstChild','actionDiv','GiB','getElementById','download','states','lastChild','remove','/data/cheats/','div','romsFile','removeItem','getItem','PiB','MiB','dialog','textContent','fileSize','2532tusfZp','toFixed','onclick','replace','cheats','onclose','classList','add','click','1889531YnCEsA','rom-item','mib','editFile','active','saves','listFiles','988348BynZll','108600EYRYEp','/data/screenshots/','flex-1','uploadFile','Edit\x20filename','abs','screenshots','close','1885StdhWz','414072URVRdD','rom','TiB','1782624zGvEaX','createElement','gap-16','KiB','savesFile','56721samudK','opacity0','disable'];a0_0x1cf1=function(){return _0x5666e5;};return a0_0x1cf1();}(function(_0x40649a,_0x40f980){const _0x302480=a0_0x42ad,_0x3c852a=_0x40649a();while(!![]){try{const _0x57be71=parseInt(_0x302480(0xa1))/0x1+parseInt(_0x302480(0xaa))/0x2+-parseInt(_0x302480(0xb2))/0x3+-parseInt(_0x302480(0xa0))/0x4+-parseInt(_0x302480(0xa9))/0x5*(-parseInt(_0x302480(0xd8))/0x6)+-parseInt(_0x302480(0xe1))/0x7+parseInt(_0x302480(0xad))/0x8;if(_0x57be71===_0x40f980)break;else _0x3c852a['push'](_0x3c852a['shift']());}catch(_0x1ddbac){_0x3c852a['push'](_0x3c852a['shift']());}}}(a0_0x1cf1,0x2775f));import*as a0_0x425aa1 from'./main.js';const mgbaStorage=document[a0_0xbd8bfb(0xc9)](a0_0xbd8bfb(0xc3)),savesFile=document[a0_0xbd8bfb(0xc9)](a0_0xbd8bfb(0xb1)),romsFile=document['getElementById'](a0_0xbd8bfb(0xd0)),statesFile=document[a0_0xbd8bfb(0xc9)]('statesFile'),screenshotsFile=document[a0_0xbd8bfb(0xc9)]('screenshotsFile');function a0_0x42ad(_0x3dfe0a,_0x2537c7){const _0x1cf155=a0_0x1cf1();return a0_0x42ad=function(_0x42ad79,_0x141a8d){_0x42ad79=_0x42ad79-0x9d;let _0x9f116=_0x1cf155[_0x42ad79];return _0x9f116;},a0_0x42ad(_0x3dfe0a,_0x2537c7);}function humanFileSize(_0x3baf15,_0x2dbddd=![],_0x2dcd62=0x1){const _0x2f7db2=a0_0xbd8bfb,_0x25371e=_0x2dbddd?0x3e8:0x400,_0x7fe342=_0x2dbddd?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2f7db2(0xb0),_0x2f7db2(0xd4),_0x2f7db2(0xc8),_0x2f7db2(0xac),_0x2f7db2(0xd3),'EiB','ZiB','YiB'];let _0x4d0136=-0x1;do{_0x3baf15/=_0x25371e,++_0x4d0136;}while(Math[_0x2f7db2(0xa6)](_0x3baf15)>=_0x25371e&&_0x4d0136<_0x7fe342['length']-0x1);return _0x3baf15[_0x2f7db2(0xd9)](_0x2dcd62)+'\x20'+_0x7fe342[_0x4d0136];}function createElementStorage(_0x417ade,_0x1c9e82,_0x39767c){const _0x336699=a0_0xbd8bfb,_0x34c889=document[_0x336699(0xae)]('div');_0x34c889[_0x336699(0xde)]['add'](_0x336699(0xa3),_0x336699(0xe2),_0x336699(0xab)),_0x417ade[_0x336699(0xbd)](_0x34c889);const _0x394f63=document[_0x336699(0xae)]('span');_0x394f63[_0x336699(0xd6)]=_0x1c9e82,_0x394f63['classList']['add'](_0x336699(0xa3)),_0x34c889['appendChild'](_0x394f63),_0x394f63[_0x336699(0xda)]=()=>{const _0x5d3653=_0x336699,_0x4a8029=document[_0x5d3653(0xae)](_0x5d3653(0xd5));_0x4a8029[_0x5d3653(0xdd)]=()=>_0x4a8029[_0x5d3653(0xcd)](),_0x417ade[_0x5d3653(0xbd)](_0x4a8029);const _0x1b3f4b=document[_0x5d3653(0xae)](_0x5d3653(0xcf));_0x1b3f4b['classList'][_0x5d3653(0xdf)](_0x5d3653(0xc2),'right','gap-10'),_0x4a8029['appendChild'](_0x1b3f4b);const _0x30e2d8=document[_0x5d3653(0xae)]('div');_0x30e2d8[_0x5d3653(0xde)][_0x5d3653(0xdf)](_0x5d3653(0xb7),'bc',_0x5d3653(0xa3)),_0x1b3f4b[_0x5d3653(0xbd)](_0x30e2d8);const _0x1d6461=document[_0x5d3653(0xae)](_0x5d3653(0xcf));_0x1d6461[_0x5d3653(0xde)][_0x5d3653(0xdf)](_0x5d3653(0xa3)),_0x1b3f4b['appendChild'](_0x1d6461);const _0x3f3ec7=document[_0x5d3653(0xae)](_0x5d3653(0xcf));_0x3f3ec7['classList']['add']('flex-1'),_0x1b3f4b[_0x5d3653(0xbd)](_0x3f3ec7);const _0x1e3261=document['createElement'](_0x5d3653(0xcf));_0x1e3261[_0x5d3653(0xde)]['add']('flex-1'),_0x1b3f4b['appendChild'](_0x1e3261),mgbaStorage['classList'][_0x5d3653(0xdf)](_0x5d3653(0xb3)),_0x30e2d8[_0x5d3653(0xda)]=()=>{const _0x3e7b4b=_0x5d3653;_0x4a8029[_0x3e7b4b(0xa8)](),_0x4a8029[_0x3e7b4b(0xcd)](),mgbaStorage['classList'][_0x3e7b4b(0xcd)](_0x3e7b4b(0xb3));};const _0x11ebef=document[_0x5d3653(0xae)](_0x5d3653(0xcf));_0x11ebef[_0x5d3653(0xde)][_0x5d3653(0xdf)]('flex-1',_0x5d3653(0xe2),'hw','cw'),_0x11ebef[_0x5d3653(0xd6)]=_0x1c9e82,_0x4a8029[_0x5d3653(0xbd)](_0x11ebef);const _0xad04f4=document['createElement'](_0x5d3653(0xcf));_0xad04f4[_0x5d3653(0xde)][_0x5d3653(0xdf)](_0x5d3653(0xc7),'hw','cw',_0x5d3653(0xaf)),_0x4a8029['appendChild'](_0xad04f4);const _0x392c30=document['createElement'](_0x5d3653(0xcf));_0x392c30[_0x5d3653(0xde)][_0x5d3653(0xdf)](_0x5d3653(0xca),'bc'),_0xad04f4[_0x5d3653(0xbd)](_0x392c30),_0x392c30[_0x5d3653(0xda)]=()=>{a0_0x425aa1['downloadFile'](_0x39767c,_0x1c9e82);};const _0x57d54f=document[_0x5d3653(0xae)](_0x5d3653(0xcf));_0x57d54f[_0x5d3653(0xde)]['add']('delete','bc'),_0xad04f4[_0x5d3653(0xbd)](_0x57d54f),_0x57d54f[_0x5d3653(0xda)]=async()=>{const _0x399a8a=_0x5d3653;if(window['confirm'](_0x399a8a(0xc1)+_0x1c9e82)){const _0x45a9f3=_0x1c9e82[_0x399a8a(0xdb)](/\....$/,'.gba');a0_0x425aa1[_0x399a8a(0xb5)](_0x39767c),localStorage[_0x399a8a(0xd1)](_0x45a9f3+_0x399a8a(0xbe)+_0x1c9e82[_0x399a8a(0xbc)](-0x1)),localStorage[_0x399a8a(0xd1)](_0x45a9f3+_0x399a8a(0xba)+_0x1c9e82[_0x399a8a(0xbc)](-0x1)),localStorageFile(),_0x4a8029[_0x399a8a(0xa8)](),_0x4a8029[_0x399a8a(0xcd)](),mgbaStorage[_0x399a8a(0xde)]['remove'](_0x399a8a(0xb3));}};const _0xe82833=document[_0x5d3653(0xae)](_0x5d3653(0xcf));_0xe82833[_0x5d3653(0xde)]['add']('rename','bc'),_0xad04f4['appendChild'](_0xe82833),_0xe82833[_0x5d3653(0xda)]=async()=>{const _0x240b30=_0x5d3653,_0x2cba06=window[_0x240b30(0xbb)](_0x240b30(0xa5),_0x1c9e82);_0x2cba06!==null&&(a0_0x425aa1[_0x240b30(0xe4)](_0x39767c,_0x1c9e82,_0x2cba06),localStorageFile(),_0x4a8029['close'](),_0x4a8029[_0x240b30(0xcd)](),mgbaStorage[_0x240b30(0xde)][_0x240b30(0xcd)](_0x240b30(0xb3)));},_0x4a8029[_0x5d3653(0xc0)]();};const _0x39c05b=document[_0x336699(0xae)](_0x336699(0xb6));_0x39c05b['textContent']=humanFileSize(a0_0x425aa1[_0x336699(0xd7)](_0x39767c)),_0x39c05b[_0x336699(0xde)][_0x336699(0xdf)](_0x336699(0xe3)),_0x34c889[_0x336699(0xbd)](_0x39c05b);}export function localStorageFile(){const _0x521162=a0_0xbd8bfb,_0x151523=a0_0x425aa1['listFiles'](_0x521162(0xc4)),_0x9bba35=a0_0x425aa1[_0x521162(0x9f)](_0x521162(0x9e)),_0x198a94=a0_0x425aa1[_0x521162(0x9f)](_0x521162(0xcb)),_0x5348bf=a0_0x425aa1[_0x521162(0x9f)](_0x521162(0xdc)),_0x1653f6=a0_0x425aa1[_0x521162(0x9f)](_0x521162(0xa7)),_0x1797fc=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x24923b of _0x1797fc){while(_0x24923b[_0x521162(0xc6)]){_0x24923b[_0x521162(0xcc)]['remove']();}}for(const _0x25434f of _0x151523){createElementStorage(romsFile,_0x25434f,'/data/games/'+_0x25434f);}for(const _0xf313b8 of _0x198a94){createElementStorage(statesFile,_0xf313b8,'/data/states/'+_0xf313b8);}for(const _0x3c0df2 of _0x9bba35){createElementStorage(savesFile,_0x3c0df2,_0x521162(0xb9)+_0x3c0df2);}for(const _0x4bb4d2 of _0x5348bf){createElementStorage(cheatsFile,_0x4bb4d2,_0x521162(0xce)+_0x4bb4d2);}for(const _0x2ffc8b of _0x1653f6){createElementStorage(screenshotsFile,_0x2ffc8b,_0x521162(0xa2)+_0x2ffc8b);}}document[a0_0xbd8bfb(0xbf)](a0_0xbd8bfb(0xb8),function(){const _0x2cc14c=a0_0xbd8bfb;upLoadFile[_0x2cc14c(0xbf)](_0x2cc14c(0xc5),function(){const _0x5e58ab=_0x2cc14c;a0_0x425aa1[_0x5e58ab(0xa4)](upLoadFile);}),openLocalStorage[_0x2cc14c(0xbf)](_0x2cc14c(0xe0),function(){const _0x4cbdc9=_0x2cc14c,_0x1c1b63=localStorage[_0x4cbdc9(0xd2)]('uId');storage[_0x4cbdc9(0xde)][_0x4cbdc9(0xcd)](_0x4cbdc9(0xb4)),intro[_0x4cbdc9(0xde)]['add'](_0x4cbdc9(0xb4)),ingame['classList']['add']('disable'),_0x1c1b63===null||_0x1c1b63===''?(dropboxRestore[_0x4cbdc9(0xde)]['remove'](_0x4cbdc9(0x9d)),dropboxBackup[_0x4cbdc9(0xde)][_0x4cbdc9(0xcd)]('active'),dropboxCloud[_0x4cbdc9(0xde)][_0x4cbdc9(0xcd)](_0x4cbdc9(0x9d))):(dropboxRestore[_0x4cbdc9(0xde)][_0x4cbdc9(0xdf)](_0x4cbdc9(0x9d)),dropboxBackup[_0x4cbdc9(0xde)][_0x4cbdc9(0xdf)](_0x4cbdc9(0x9d)),dropboxCloud[_0x4cbdc9(0xde)]['add'](_0x4cbdc9(0x9d)));}),setTimeout(()=>{localStorageFile();},0xbb8);});