const a0_0x5630ef=a0_0x1ef4;(function(_0x402507,_0x1fc350){const _0x23d80a=a0_0x1ef4,_0x54b2be=_0x402507();while(!![]){try{const _0x317984=-parseInt(_0x23d80a(0x1ac))/0x1+parseInt(_0x23d80a(0x1c4))/0x2+-parseInt(_0x23d80a(0x1e7))/0x3*(parseInt(_0x23d80a(0x1ba))/0x4)+-parseInt(_0x23d80a(0x1d3))/0x5+parseInt(_0x23d80a(0x1ca))/0x6*(-parseInt(_0x23d80a(0x1c7))/0x7)+-parseInt(_0x23d80a(0x1d5))/0x8+parseInt(_0x23d80a(0x1d2))/0x9;if(_0x317984===_0x1fc350)break;else _0x54b2be['push'](_0x54b2be['shift']());}catch(_0x2c20d2){_0x54b2be['push'](_0x54b2be['shift']());}}}(a0_0x4162,0xbc381));import*as a0_0x4d3fa4 from'./main.js';function a0_0x4162(){const _0x4d093a=['span','96801FfSYEu','remove','appendChild','abs','active','prompt','_imageState','classList','TiB','mib','replace','statesFile','602450zcfNJA','createElement','listFiles','_dateState','.gba','delete','slice','addEventListener','toFixed','downloadFile','GiB','rom','/data/saves/','romsFile','140bgNlRO','EiB','Edit\x20filename','states','onclose','textContent','flex-1','showModal','lastChild','actionDiv','2706158stmymd','download','getItem','2737uxNqgO','disable','/data/cheats/','14262ruHOtM','KiB','fileSize','div','home','add','confirm','getElementById','28613511zKFCQo','1201145xrgaer','MiB','6879856JctkWv','opacity0','onclick','firstChild','YiB','savesFile','ZiB','editFile','/data/states/','deleteFile','screenshots','change','close','uId','rename','right','cheats'];a0_0x4162=function(){return _0x4d093a;};return a0_0x4162();}const mgbaStorage=document[a0_0x5630ef(0x1d1)]('mgba-storage'),savesFile=document[a0_0x5630ef(0x1d1)](a0_0x5630ef(0x1da)),romsFile=document['getElementById'](a0_0x5630ef(0x1b9)),statesFile=document[a0_0x5630ef(0x1d1)](a0_0x5630ef(0x1ab)),screenshotsFile=document[a0_0x5630ef(0x1d1)]('screenshotsFile');function humanFileSize(_0x2ef5b0,_0x535030=![],_0x47258d=0x1){const _0x2669f9=a0_0x5630ef,_0x322925=_0x535030?0x3e8:0x400,_0x341da5=_0x535030?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2669f9(0x1cb),_0x2669f9(0x1d4),_0x2669f9(0x1b6),_0x2669f9(0x1a8),'PiB',_0x2669f9(0x1bb),_0x2669f9(0x1db),_0x2669f9(0x1d9)];let _0x110921=-0x1;do{_0x2ef5b0/=_0x322925,++_0x110921;}while(Math[_0x2669f9(0x1ea)](_0x2ef5b0)>=_0x322925&&_0x110921<_0x341da5['length']-0x1);return _0x2ef5b0[_0x2669f9(0x1b4)](_0x47258d)+'\x20'+_0x341da5[_0x110921];}function a0_0x1ef4(_0x1aa8cb,_0x1dff91){const _0x41625b=a0_0x4162();return a0_0x1ef4=function(_0x1ef443,_0x34001f){_0x1ef443=_0x1ef443-0x1a6;let _0x2716e7=_0x41625b[_0x1ef443];return _0x2716e7;},a0_0x1ef4(_0x1aa8cb,_0x1dff91);}function createElementStorage(_0x8ad764,_0x283a81,_0xbad1f0){const _0x492e32=a0_0x5630ef,_0x3baa49=document[_0x492e32(0x1ad)]('div');_0x3baa49['classList'][_0x492e32(0x1cf)](_0x492e32(0x1c0),'rom-item',_0x492e32(0x1b7)),_0x8ad764['appendChild'](_0x3baa49);const _0x4d1671=document[_0x492e32(0x1ad)](_0x492e32(0x1e6));_0x4d1671[_0x492e32(0x1bf)]=_0x283a81,_0x4d1671[_0x492e32(0x1a7)][_0x492e32(0x1cf)](_0x492e32(0x1c0)),_0x3baa49['appendChild'](_0x4d1671),_0x4d1671[_0x492e32(0x1d7)]=()=>{const _0x5a810d=_0x492e32,_0x14026f=document[_0x5a810d(0x1ad)]('dialog');_0x14026f[_0x5a810d(0x1be)]=()=>_0x14026f[_0x5a810d(0x1e8)](),_0x8ad764[_0x5a810d(0x1e9)](_0x14026f);const _0x41eed5=document[_0x5a810d(0x1ad)](_0x5a810d(0x1cd));_0x41eed5[_0x5a810d(0x1a7)]['add']('storage',_0x5a810d(0x1e4),'gap-10'),_0x14026f['appendChild'](_0x41eed5);const _0x651c3e=document['createElement']('div');_0x651c3e[_0x5a810d(0x1a7)][_0x5a810d(0x1cf)](_0x5a810d(0x1ce),'bc',_0x5a810d(0x1c0)),_0x41eed5[_0x5a810d(0x1e9)](_0x651c3e);const _0x27cd35=document['createElement']('div');_0x27cd35[_0x5a810d(0x1a7)][_0x5a810d(0x1cf)](_0x5a810d(0x1c0)),_0x41eed5[_0x5a810d(0x1e9)](_0x27cd35);const _0x128866=document[_0x5a810d(0x1ad)](_0x5a810d(0x1cd));_0x128866[_0x5a810d(0x1a7)][_0x5a810d(0x1cf)](_0x5a810d(0x1c0)),_0x41eed5[_0x5a810d(0x1e9)](_0x128866);const _0x1f852f=document[_0x5a810d(0x1ad)](_0x5a810d(0x1cd));_0x1f852f[_0x5a810d(0x1a7)][_0x5a810d(0x1cf)](_0x5a810d(0x1c0)),_0x41eed5['appendChild'](_0x1f852f),mgbaStorage[_0x5a810d(0x1a7)][_0x5a810d(0x1cf)](_0x5a810d(0x1d6)),_0x651c3e['onclick']=()=>{const _0x39e9e1=_0x5a810d;_0x14026f['close'](),_0x14026f[_0x39e9e1(0x1e8)](),mgbaStorage[_0x39e9e1(0x1a7)][_0x39e9e1(0x1e8)](_0x39e9e1(0x1d6));};const _0x193845=document[_0x5a810d(0x1ad)]('div');_0x193845[_0x5a810d(0x1a7)][_0x5a810d(0x1cf)](_0x5a810d(0x1c0),'rom-item','hw','cw'),_0x193845[_0x5a810d(0x1bf)]=_0x283a81,_0x14026f[_0x5a810d(0x1e9)](_0x193845);const _0x12fe29=document['createElement'](_0x5a810d(0x1cd));_0x12fe29[_0x5a810d(0x1a7)]['add'](_0x5a810d(0x1c3),'hw','cw','gap-16'),_0x14026f[_0x5a810d(0x1e9)](_0x12fe29);const _0xb33968=document[_0x5a810d(0x1ad)]('div');_0xb33968[_0x5a810d(0x1a7)][_0x5a810d(0x1cf)](_0x5a810d(0x1c5),'bc'),_0x12fe29[_0x5a810d(0x1e9)](_0xb33968),_0xb33968[_0x5a810d(0x1d7)]=()=>{const _0x1a2a18=_0x5a810d;a0_0x4d3fa4[_0x1a2a18(0x1b5)](_0xbad1f0,_0x283a81);};const _0x491d90=document[_0x5a810d(0x1ad)]('div');_0x491d90[_0x5a810d(0x1a7)][_0x5a810d(0x1cf)](_0x5a810d(0x1b1),'bc'),_0x12fe29[_0x5a810d(0x1e9)](_0x491d90),_0x491d90[_0x5a810d(0x1d7)]=async()=>{const _0x100930=_0x5a810d;if(window[_0x100930(0x1d0)]('Delete\x20this\x20file?'+_0x283a81)){const _0x385ed2=_0x283a81[_0x100930(0x1aa)](/\....$/,_0x100930(0x1b0));a0_0x4d3fa4[_0x100930(0x1de)](_0xbad1f0),localStorage['removeItem'](_0x385ed2+_0x100930(0x1af)+_0x283a81[_0x100930(0x1b2)](-0x1)),localStorage['removeItem'](_0x385ed2+_0x100930(0x1a6)+_0x283a81[_0x100930(0x1b2)](-0x1)),localStorageFile(),_0x14026f[_0x100930(0x1e1)](),_0x14026f['remove'](),mgbaStorage[_0x100930(0x1a7)][_0x100930(0x1e8)]('opacity0');}};const _0xc6fa19=document[_0x5a810d(0x1ad)](_0x5a810d(0x1cd));_0xc6fa19[_0x5a810d(0x1a7)][_0x5a810d(0x1cf)](_0x5a810d(0x1e3),'bc'),_0x12fe29[_0x5a810d(0x1e9)](_0xc6fa19),_0xc6fa19[_0x5a810d(0x1d7)]=async()=>{const _0x36a3f8=_0x5a810d,_0x437032=window[_0x36a3f8(0x1ec)](_0x36a3f8(0x1bc),_0x283a81);_0x437032!==null&&(a0_0x4d3fa4[_0x36a3f8(0x1dc)](_0xbad1f0,_0x283a81,_0x437032),localStorageFile(),_0x14026f[_0x36a3f8(0x1e1)](),_0x14026f['remove'](),mgbaStorage['classList'][_0x36a3f8(0x1e8)](_0x36a3f8(0x1d6)));},_0x14026f[_0x5a810d(0x1c1)]();};const _0x326c27=document[_0x492e32(0x1ad)](_0x492e32(0x1e6));_0x326c27[_0x492e32(0x1bf)]=humanFileSize(a0_0x4d3fa4[_0x492e32(0x1cc)](_0xbad1f0)),_0x326c27[_0x492e32(0x1a7)]['add'](_0x492e32(0x1a9)),_0x3baa49['appendChild'](_0x326c27);}export function localStorageFile(){const _0x5a23dc=a0_0x5630ef,_0x2d61ee=a0_0x4d3fa4['listFiles']('games'),_0x3b546d=a0_0x4d3fa4[_0x5a23dc(0x1ae)]('saves'),_0x1b5260=a0_0x4d3fa4[_0x5a23dc(0x1ae)](_0x5a23dc(0x1bd)),_0x3ab34b=a0_0x4d3fa4[_0x5a23dc(0x1ae)](_0x5a23dc(0x1e5)),_0x49571a=a0_0x4d3fa4['listFiles'](_0x5a23dc(0x1df)),_0x5c75d9=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xa5470 of _0x5c75d9){while(_0xa5470[_0x5a23dc(0x1d8)]){_0xa5470[_0x5a23dc(0x1c2)]['remove']();}}for(const _0x5e7674 of _0x2d61ee){createElementStorage(romsFile,_0x5e7674,'/data/games/'+_0x5e7674);}for(const _0x3a583b of _0x1b5260){createElementStorage(statesFile,_0x3a583b,_0x5a23dc(0x1dd)+_0x3a583b);}for(const _0x1db847 of _0x3b546d){createElementStorage(savesFile,_0x1db847,_0x5a23dc(0x1b8)+_0x1db847);}for(const _0x43c5db of _0x3ab34b){createElementStorage(cheatsFile,_0x43c5db,_0x5a23dc(0x1c9)+_0x43c5db);}for(const _0x29ca2d of _0x49571a){createElementStorage(screenshotsFile,_0x29ca2d,'/data/screenshots/'+_0x29ca2d);}}document[a0_0x5630ef(0x1b3)]('DOMContentLoaded',function(){const _0x5169cf=a0_0x5630ef;upLoadFile[_0x5169cf(0x1b3)](_0x5169cf(0x1e0),function(){a0_0x4d3fa4['uploadFile'](upLoadFile);}),openLocalStorage[_0x5169cf(0x1b3)]('click',function(){const _0x290e8f=_0x5169cf,_0x303fc1=localStorage[_0x290e8f(0x1c6)](_0x290e8f(0x1e2));storage['classList'][_0x290e8f(0x1e8)](_0x290e8f(0x1c8)),intro[_0x290e8f(0x1a7)][_0x290e8f(0x1cf)](_0x290e8f(0x1c8)),ingame['classList'][_0x290e8f(0x1cf)](_0x290e8f(0x1c8)),_0x303fc1===null||_0x303fc1===''?(dropboxRestore[_0x290e8f(0x1a7)]['remove'](_0x290e8f(0x1eb)),dropboxBackup[_0x290e8f(0x1a7)][_0x290e8f(0x1e8)](_0x290e8f(0x1eb)),dropboxCloud[_0x290e8f(0x1a7)]['remove'](_0x290e8f(0x1eb))):(dropboxRestore['classList']['add']('active'),dropboxBackup[_0x290e8f(0x1a7)]['add'](_0x290e8f(0x1eb)),dropboxCloud['classList']['add'](_0x290e8f(0x1eb)));}),setTimeout(()=>{localStorageFile();},0xbb8);});