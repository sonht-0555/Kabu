const a0_0x4f259c=a0_0x421f;(function(_0x4df441,_0x2dab0d){const _0x3ef0b9=a0_0x421f,_0x1930cc=_0x4df441();while(!![]){try{const _0x1868fc=parseInt(_0x3ef0b9(0x1f1))/0x1*(parseInt(_0x3ef0b9(0x1c1))/0x2)+parseInt(_0x3ef0b9(0x1de))/0x3+-parseInt(_0x3ef0b9(0x1ff))/0x4+parseInt(_0x3ef0b9(0x1f2))/0x5*(-parseInt(_0x3ef0b9(0x1fc))/0x6)+-parseInt(_0x3ef0b9(0x1c7))/0x7*(parseInt(_0x3ef0b9(0x1e8))/0x8)+parseInt(_0x3ef0b9(0x1fa))/0x9+-parseInt(_0x3ef0b9(0x1d7))/0xa*(-parseInt(_0x3ef0b9(0x1cd))/0xb);if(_0x1868fc===_0x2dab0d)break;else _0x1930cc['push'](_0x1930cc['shift']());}catch(_0x38f7e6){_0x1930cc['push'](_0x1930cc['shift']());}}}(a0_0x5827,0x428f8));import*as a0_0x3f40c5 from'./main.js';const mgbaStorage=document['getElementById']('mgba-storage'),savesFile=document['getElementById'](a0_0x4f259c(0x1f6)),romsFile=document[a0_0x4f259c(0x1da)]('romsFile'),statesFile=document['getElementById'](a0_0x4f259c(0x1e9)),screenshotsFile=document[a0_0x4f259c(0x1da)](a0_0x4f259c(0x207));function a0_0x5827(){const _0x15c030=['length','Delete\x20this\x20file?','addEventListener','click','dialog','home','right','8219LiKfRH','1010105YPObMs','textContent','download','downloadFile','savesFile','YiB','slice','disable','1221903MvoeyA','showModal','12JKMyHV','flex-1','_imageState','956120WzROTv','active','add','createElement','span','getItem','close','Edit\x20filename','screenshotsFile','remove','TiB','60vCqdrY','rom-item','listGame','ZiB','listCheat','abs','203zXpvhy','uploadFile','lastChild','listState','.gba','toFixed','16225vwtpjR','prompt','/data/games/','listScreenshot','gap-16','rename','onclick','MiB','deleteFile','opacity0','3590euLFKP','mib','gap-10','getElementById','GiB','confirm','classList','39975lSlYQT','appendChild','div','replace','editFile','fileSize','KiB','/data/cheats/','DOMContentLoaded','removeItem','2616LoFvjr','statesFile'];a0_0x5827=function(){return _0x15c030;};return a0_0x5827();}function humanFileSize(_0x413383,_0x2545b5=![],_0x301841=0x1){const _0x464b63=a0_0x4f259c,_0x203762=_0x2545b5?0x3e8:0x400,_0x4bc5d8=_0x2545b5?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x464b63(0x1e4),_0x464b63(0x1d4),_0x464b63(0x1db),_0x464b63(0x1c0),'PiB','EiB',_0x464b63(0x1c4),_0x464b63(0x1f7)];let _0x56e71e=-0x1;do{_0x413383/=_0x203762,++_0x56e71e;}while(Math[_0x464b63(0x1c6)](_0x413383)>=_0x203762&&_0x56e71e<_0x4bc5d8[_0x464b63(0x1ea)]-0x1);return _0x413383[_0x464b63(0x1cc)](_0x301841)+'\x20'+_0x4bc5d8[_0x56e71e];}function a0_0x421f(_0x30057b,_0x2f7a79){const _0x58272c=a0_0x5827();return a0_0x421f=function(_0x421ffc,_0x3539a5){_0x421ffc=_0x421ffc-0x1bf;let _0x40234b=_0x58272c[_0x421ffc];return _0x40234b;},a0_0x421f(_0x30057b,_0x2f7a79);}function createElementStorage(_0x3a0c84,_0x1588c7,_0x1e4bfd){const _0x17bb5c=a0_0x4f259c,_0x9b52a2=document['createElement'](_0x17bb5c(0x1e0));_0x9b52a2[_0x17bb5c(0x1dd)]['add'](_0x17bb5c(0x1fd),_0x17bb5c(0x1c2),'rom'),_0x3a0c84['appendChild'](_0x9b52a2);const _0x348e0f=document[_0x17bb5c(0x202)](_0x17bb5c(0x203));_0x348e0f['textContent']=_0x1588c7,_0x348e0f['classList'][_0x17bb5c(0x201)]('flex-1'),_0x9b52a2[_0x17bb5c(0x1df)](_0x348e0f),_0x348e0f[_0x17bb5c(0x1d3)]=()=>{const _0x509dea=_0x17bb5c,_0x24e728=document[_0x509dea(0x202)](_0x509dea(0x1ee));_0x24e728['onclose']=()=>_0x24e728[_0x509dea(0x1bf)](),_0x3a0c84[_0x509dea(0x1df)](_0x24e728);const _0x20a772=document[_0x509dea(0x202)]('div');_0x20a772[_0x509dea(0x1dd)][_0x509dea(0x201)]('storage',_0x509dea(0x1f0),_0x509dea(0x1d9)),_0x24e728[_0x509dea(0x1df)](_0x20a772);const _0x28d8fd=document[_0x509dea(0x202)](_0x509dea(0x1e0));_0x28d8fd[_0x509dea(0x1dd)][_0x509dea(0x201)](_0x509dea(0x1ef),'bc','flex-1'),_0x20a772[_0x509dea(0x1df)](_0x28d8fd);const _0x2f7224=document[_0x509dea(0x202)](_0x509dea(0x1e0));_0x2f7224['classList'][_0x509dea(0x201)](_0x509dea(0x1fd)),_0x20a772[_0x509dea(0x1df)](_0x2f7224);const _0x35c93d=document[_0x509dea(0x202)]('div');_0x35c93d[_0x509dea(0x1dd)][_0x509dea(0x201)](_0x509dea(0x1fd)),_0x20a772[_0x509dea(0x1df)](_0x35c93d);const _0x143479=document[_0x509dea(0x202)](_0x509dea(0x1e0));_0x143479[_0x509dea(0x1dd)]['add'](_0x509dea(0x1fd)),_0x20a772[_0x509dea(0x1df)](_0x143479),mgbaStorage[_0x509dea(0x1dd)][_0x509dea(0x201)]('opacity0'),_0x28d8fd[_0x509dea(0x1d3)]=()=>{const _0xecf0f5=_0x509dea;_0x24e728[_0xecf0f5(0x205)](),_0x24e728[_0xecf0f5(0x1bf)](),mgbaStorage[_0xecf0f5(0x1dd)][_0xecf0f5(0x1bf)]('opacity0');};const _0x460333=document[_0x509dea(0x202)]('div');_0x460333[_0x509dea(0x1dd)][_0x509dea(0x201)]('flex-1',_0x509dea(0x1c2),'hw','cw'),_0x460333[_0x509dea(0x1f3)]=_0x1588c7,_0x24e728[_0x509dea(0x1df)](_0x460333);const _0x437771=document[_0x509dea(0x202)](_0x509dea(0x1e0));_0x437771[_0x509dea(0x1dd)][_0x509dea(0x201)]('actionDiv','hw','cw',_0x509dea(0x1d1)),_0x24e728['appendChild'](_0x437771);const _0x3b1afc=document[_0x509dea(0x202)]('div');_0x3b1afc[_0x509dea(0x1dd)][_0x509dea(0x201)](_0x509dea(0x1f4),'bc'),_0x437771[_0x509dea(0x1df)](_0x3b1afc),_0x3b1afc['onclick']=()=>{const _0x148cff=_0x509dea;a0_0x3f40c5[_0x148cff(0x1f5)](_0x1e4bfd,_0x1588c7);};const _0x4fead0=document['createElement'](_0x509dea(0x1e0));_0x4fead0[_0x509dea(0x1dd)][_0x509dea(0x201)]('delete','bc'),_0x437771[_0x509dea(0x1df)](_0x4fead0),_0x4fead0[_0x509dea(0x1d3)]=async()=>{const _0x4262ef=_0x509dea;if(window[_0x4262ef(0x1dc)](_0x4262ef(0x1eb)+_0x1588c7)){const _0x146485=_0x1588c7[_0x4262ef(0x1e1)](/\....$/,_0x4262ef(0x1cb));a0_0x3f40c5[_0x4262ef(0x1d5)](_0x1e4bfd),localStorage[_0x4262ef(0x1e7)](_0x146485+'_dateState'+_0x1588c7[_0x4262ef(0x1f8)](-0x1)),localStorage[_0x4262ef(0x1e7)](_0x146485+_0x4262ef(0x1fe)+_0x1588c7['slice'](-0x1)),localStorageFile(),_0x24e728[_0x4262ef(0x205)](),_0x24e728[_0x4262ef(0x1bf)](),mgbaStorage[_0x4262ef(0x1dd)][_0x4262ef(0x1bf)]('opacity0');}};const _0x1cc0b2=document[_0x509dea(0x202)]('div');_0x1cc0b2[_0x509dea(0x1dd)][_0x509dea(0x201)](_0x509dea(0x1d2),'bc'),_0x437771[_0x509dea(0x1df)](_0x1cc0b2),_0x1cc0b2['onclick']=async()=>{const _0xdbe8c7=_0x509dea,_0x3ffd9c=window[_0xdbe8c7(0x1ce)](_0xdbe8c7(0x206),_0x1588c7);_0x3ffd9c!==null&&(a0_0x3f40c5[_0xdbe8c7(0x1e2)](_0x1e4bfd,_0x1588c7,_0x3ffd9c),localStorageFile(),_0x24e728[_0xdbe8c7(0x205)](),_0x24e728[_0xdbe8c7(0x1bf)](),mgbaStorage[_0xdbe8c7(0x1dd)][_0xdbe8c7(0x1bf)](_0xdbe8c7(0x1d6)));},_0x24e728[_0x509dea(0x1fb)]();};const _0x503f5c=document['createElement'](_0x17bb5c(0x203));_0x503f5c[_0x17bb5c(0x1f3)]=humanFileSize(a0_0x3f40c5[_0x17bb5c(0x1e3)](_0x1e4bfd)),_0x503f5c[_0x17bb5c(0x1dd)]['add'](_0x17bb5c(0x1d8)),_0x9b52a2[_0x17bb5c(0x1df)](_0x503f5c);}export function localStorageFile(){const _0xd35e1=a0_0x4f259c,_0x3b224a=a0_0x3f40c5[_0xd35e1(0x1c3)](),_0x285acc=a0_0x3f40c5['listSave'](),_0x31edf4=a0_0x3f40c5[_0xd35e1(0x1ca)](),_0x2bb71f=a0_0x3f40c5[_0xd35e1(0x1c5)](),_0x5bc137=a0_0x3f40c5[_0xd35e1(0x1d0)](),_0x517a94=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5d90df of _0x517a94){while(_0x5d90df['firstChild']){_0x5d90df[_0xd35e1(0x1c9)][_0xd35e1(0x1bf)]();}}for(const _0x3e77c2 of _0x3b224a){createElementStorage(romsFile,_0x3e77c2,_0xd35e1(0x1cf)+_0x3e77c2);}for(const _0x400a3a of _0x31edf4){createElementStorage(statesFile,_0x400a3a,'/data/states/'+_0x400a3a);}for(const _0xe74780 of _0x285acc){createElementStorage(savesFile,_0xe74780,'/data/saves/'+_0xe74780);}for(const _0xdfba82 of _0x2bb71f){createElementStorage(cheatsFile,_0xdfba82,_0xd35e1(0x1e5)+_0xdfba82);}for(const _0x44e7eb of _0x5bc137){createElementStorage(screenshotsFile,_0x44e7eb,'/data/screenshots/'+_0x44e7eb);}}document[a0_0x4f259c(0x1ec)](a0_0x4f259c(0x1e6),function(){const _0x5c803b=a0_0x4f259c;upLoadFile[_0x5c803b(0x1ec)]('change',function(){const _0x34a114=_0x5c803b;a0_0x3f40c5[_0x34a114(0x1c8)](upLoadFile);}),openLocalStorage[_0x5c803b(0x1ec)](_0x5c803b(0x1ed),function(){const _0x1b0a57=_0x5c803b,_0x284f87=localStorage[_0x1b0a57(0x204)]('uId');storage[_0x1b0a57(0x1dd)]['remove'](_0x1b0a57(0x1f9)),intro[_0x1b0a57(0x1dd)][_0x1b0a57(0x201)](_0x1b0a57(0x1f9)),ingame[_0x1b0a57(0x1dd)][_0x1b0a57(0x201)](_0x1b0a57(0x1f9)),_0x284f87===null||_0x284f87===''?(dropboxRestore[_0x1b0a57(0x1dd)][_0x1b0a57(0x1bf)]('active'),dropboxBackup[_0x1b0a57(0x1dd)][_0x1b0a57(0x1bf)](_0x1b0a57(0x200)),dropboxCloud['classList'][_0x1b0a57(0x1bf)](_0x1b0a57(0x200))):(dropboxRestore[_0x1b0a57(0x1dd)][_0x1b0a57(0x201)](_0x1b0a57(0x200)),dropboxBackup[_0x1b0a57(0x1dd)][_0x1b0a57(0x201)]('active'),dropboxCloud['classList']['add'](_0x1b0a57(0x200)));}),setTimeout(()=>{localStorageFile();},0xbb8);});