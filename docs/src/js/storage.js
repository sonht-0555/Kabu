const a0_0x218cb2=a0_0x38a3;function a0_0xd634(){const _0x2867be=['/data/games/','622184MwnkvI','878172IkfMeT','489726PUhnTk','mib','407029eHSFkd','deleteFile','KiB','flex-1','replace','lastChild','rom-item','2010xDJKJq','close','setItem','MiB','30kHYuvs','span','uId','addEventListener','.gba','click','appendChild','fileSize','uploadFile','disable','createElement','21969aOnjBd','download','textContent','Delete\x20this\x20file?','mgba-storage','2078520ZUeDvd','removeItem','slice','firstChild','1809500FYxINq','gap-16','add','change','div','showModal','romsFile','confirm','DOMContentLoaded','abs','PiB','editFile','listSave','savesFile','_imageState','rom','gap-10','delete','dialog','actionDiv','/data/cheats/','active','statesFile','right','getElementById','ZiB','Edit\x20filename','TiB','remove','onclick','listScreenshot','2ziuhaq','4PQNKcH','classList','/data/states/','opacity0','getItem','_dateState','listGame','listCheat'];a0_0xd634=function(){return _0x2867be;};return a0_0xd634();}(function(_0x3ed449,_0xf9abc6){const _0x23504c=a0_0x38a3,_0x281516=_0x3ed449();while(!![]){try{const _0x4ede91=-parseInt(_0x23504c(0x14b))/0x1+parseInt(_0x23504c(0x13f))/0x2*(parseInt(_0x23504c(0x14a))/0x3)+-parseInt(_0x23504c(0x140))/0x4*(-parseInt(_0x23504c(0x11c))/0x5)+-parseInt(_0x23504c(0x158))/0x6*(-parseInt(_0x23504c(0x14d))/0x7)+parseInt(_0x23504c(0x149))/0x8+parseInt(_0x23504c(0x117))/0x9*(-parseInt(_0x23504c(0x154))/0xa)+parseInt(_0x23504c(0x120))/0xb;if(_0x4ede91===_0xf9abc6)break;else _0x281516['push'](_0x281516['shift']());}catch(_0x3ab6ff){_0x281516['push'](_0x281516['shift']());}}}(a0_0xd634,0x3fbcd));function a0_0x38a3(_0x284001,_0x3a0be0){const _0xd634a4=a0_0xd634();return a0_0x38a3=function(_0x38a367,_0x589c48){_0x38a367=_0x38a367-0x114;let _0x1a169c=_0xd634a4[_0x38a367];return _0x1a169c;},a0_0x38a3(_0x284001,_0x3a0be0);}import*as a0_0x2f92ee from'./main.js';const mgbaStorage=document[a0_0x218cb2(0x138)](a0_0x218cb2(0x11b)),savesFile=document[a0_0x218cb2(0x138)](a0_0x218cb2(0x12d)),romsFile=document['getElementById'](a0_0x218cb2(0x126)),statesFile=document[a0_0x218cb2(0x138)](a0_0x218cb2(0x136)),screenshotsFile=document[a0_0x218cb2(0x138)]('screenshotsFile');function humanFileSize(_0x26928e,_0x3c38cc=![],_0x4b2287=0x1){const _0x3042d1=a0_0x218cb2,_0x4bcf45=_0x3c38cc?0x3e8:0x400,_0x1f61a3=_0x3c38cc?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x3042d1(0x14f),_0x3042d1(0x157),'GiB',_0x3042d1(0x13b),_0x3042d1(0x12a),'EiB',_0x3042d1(0x139),'YiB'];let _0x119060=-0x1;do{_0x26928e/=_0x4bcf45,++_0x119060;}while(Math[_0x3042d1(0x129)](_0x26928e)>=_0x4bcf45&&_0x119060<_0x1f61a3['length']-0x1);return _0x26928e['toFixed'](_0x4b2287)+'\x20'+_0x1f61a3[_0x119060];}function createElementStorage(_0x4a84d6,_0x2e7daf,_0x274fdf){const _0x536913=a0_0x218cb2,_0x1c0b98=document[_0x536913(0x116)](_0x536913(0x124));_0x1c0b98[_0x536913(0x141)]['add']('flex-1',_0x536913(0x153),_0x536913(0x12f)),_0x4a84d6[_0x536913(0x15e)](_0x1c0b98);const _0x28bf6d=document[_0x536913(0x116)](_0x536913(0x159));_0x28bf6d['textContent']=_0x2e7daf,_0x28bf6d[_0x536913(0x141)][_0x536913(0x122)](_0x536913(0x150)),_0x1c0b98['appendChild'](_0x28bf6d),_0x28bf6d['onclick']=()=>{const _0xdd4e17=_0x536913,_0x23cf12=document[_0xdd4e17(0x116)](_0xdd4e17(0x132));_0x23cf12['onclose']=()=>_0x23cf12[_0xdd4e17(0x13c)](),_0x4a84d6['appendChild'](_0x23cf12);const _0x326c36=document[_0xdd4e17(0x116)](_0xdd4e17(0x124));_0x326c36['classList'][_0xdd4e17(0x122)]('storage',_0xdd4e17(0x137),_0xdd4e17(0x130)),_0x23cf12[_0xdd4e17(0x15e)](_0x326c36);const _0x3331f4=document[_0xdd4e17(0x116)](_0xdd4e17(0x124));_0x3331f4['classList'][_0xdd4e17(0x122)]('home','bc',_0xdd4e17(0x150)),_0x326c36[_0xdd4e17(0x15e)](_0x3331f4);const _0x2e0e72=document[_0xdd4e17(0x116)](_0xdd4e17(0x124));_0x2e0e72[_0xdd4e17(0x141)][_0xdd4e17(0x122)](_0xdd4e17(0x150)),_0x326c36[_0xdd4e17(0x15e)](_0x2e0e72);const _0xd98d77=document[_0xdd4e17(0x116)](_0xdd4e17(0x124));_0xd98d77['classList']['add'](_0xdd4e17(0x150)),_0x326c36[_0xdd4e17(0x15e)](_0xd98d77);const _0x106c11=document['createElement'](_0xdd4e17(0x124));_0x106c11['classList'][_0xdd4e17(0x122)](_0xdd4e17(0x150)),_0x326c36[_0xdd4e17(0x15e)](_0x106c11),mgbaStorage[_0xdd4e17(0x141)]['add']('opacity0'),_0x3331f4['onclick']=()=>{const _0x266b0d=_0xdd4e17;_0x23cf12['close'](),_0x23cf12[_0x266b0d(0x13c)](),mgbaStorage[_0x266b0d(0x141)][_0x266b0d(0x13c)](_0x266b0d(0x143));};const _0x558185=document['createElement'](_0xdd4e17(0x124));_0x558185[_0xdd4e17(0x141)]['add'](_0xdd4e17(0x150),_0xdd4e17(0x153),'hw','cw'),_0x558185[_0xdd4e17(0x119)]=_0x2e7daf,_0x23cf12[_0xdd4e17(0x15e)](_0x558185);const _0x51c6c2=document['createElement'](_0xdd4e17(0x124));_0x51c6c2[_0xdd4e17(0x141)]['add'](_0xdd4e17(0x133),'hw','cw',_0xdd4e17(0x121)),_0x23cf12[_0xdd4e17(0x15e)](_0x51c6c2);const _0x152feb=document[_0xdd4e17(0x116)](_0xdd4e17(0x124));_0x152feb[_0xdd4e17(0x141)][_0xdd4e17(0x122)](_0xdd4e17(0x118),'bc'),_0x51c6c2[_0xdd4e17(0x15e)](_0x152feb),_0x152feb['onclick']=()=>{a0_0x2f92ee['downloadFile'](_0x274fdf,_0x2e7daf);};const _0x13213f=document['createElement'](_0xdd4e17(0x124));_0x13213f[_0xdd4e17(0x141)][_0xdd4e17(0x122)](_0xdd4e17(0x131),'bc'),_0x51c6c2[_0xdd4e17(0x15e)](_0x13213f),_0x13213f[_0xdd4e17(0x13d)]=async()=>{const _0x136456=_0xdd4e17;if(window[_0x136456(0x127)](_0x136456(0x11a)+_0x2e7daf)){const _0x1a4498=_0x2e7daf[_0x136456(0x151)](/\....$/,_0x136456(0x15c));a0_0x2f92ee[_0x136456(0x14e)](_0x274fdf),localStorage['removeItem'](_0x1a4498+_0x136456(0x145)+_0x2e7daf[_0x136456(0x11e)](-0x1)),localStorage[_0x136456(0x11d)](_0x1a4498+_0x136456(0x12e)+_0x2e7daf[_0x136456(0x11e)](-0x1)),localStorageFile(),_0x23cf12[_0x136456(0x155)](),_0x23cf12[_0x136456(0x13c)](),mgbaStorage[_0x136456(0x141)][_0x136456(0x13c)](_0x136456(0x143));}};const _0x434870=document[_0xdd4e17(0x116)](_0xdd4e17(0x124));_0x434870[_0xdd4e17(0x141)][_0xdd4e17(0x122)]('rename','bc'),_0x51c6c2[_0xdd4e17(0x15e)](_0x434870),_0x434870[_0xdd4e17(0x13d)]=async()=>{const _0x2230f8=_0xdd4e17,_0x258860=window['prompt'](_0x2230f8(0x13a),_0x2e7daf);if(_0x258860!==null){const _0xf527f4=_0x2e7daf[_0x2230f8(0x151)](/\....$/,_0x2230f8(0x15c)),_0x80cc6c=_0x258860[_0x2230f8(0x151)](/\....$/,_0x2230f8(0x15c)),_0x1cf3be=_0xf527f4+_0x2230f8(0x145)+_0x2e7daf[_0x2230f8(0x11e)](-0x1),_0xe1b248=_0xf527f4+_0x2230f8(0x12e)+_0x2e7daf[_0x2230f8(0x11e)](-0x1),_0x95ee=_0x80cc6c+_0x2230f8(0x145)+_0x258860['slice'](-0x1),_0x4a3855=_0x80cc6c+_0x2230f8(0x12e)+_0x258860[_0x2230f8(0x11e)](-0x1),_0x300b81=localStorage[_0x2230f8(0x144)](_0x1cf3be),_0x2b52e8=localStorage[_0x2230f8(0x144)](_0xe1b248);_0x300b81!==null&&(localStorage[_0x2230f8(0x156)](_0x95ee,_0x300b81),localStorage['removeItem'](_0x1cf3be)),_0x2b52e8!==null&&(localStorage[_0x2230f8(0x156)](_0x4a3855,_0x2b52e8),localStorage['removeItem'](_0xe1b248)),a0_0x2f92ee[_0x2230f8(0x12b)](_0x274fdf,_0x2e7daf,_0x258860),localStorageFile(),_0x23cf12['close'](),_0x23cf12[_0x2230f8(0x13c)](),mgbaStorage[_0x2230f8(0x141)]['remove'](_0x2230f8(0x143));}},_0x23cf12[_0xdd4e17(0x125)]();};const _0x3ca4b3=document['createElement'](_0x536913(0x159));_0x3ca4b3[_0x536913(0x119)]=humanFileSize(a0_0x2f92ee[_0x536913(0x15f)](_0x274fdf)),_0x3ca4b3[_0x536913(0x141)]['add'](_0x536913(0x14c)),_0x1c0b98[_0x536913(0x15e)](_0x3ca4b3);}export function localStorageFile(){const _0x1eaee3=a0_0x218cb2,_0x1d982e=a0_0x2f92ee[_0x1eaee3(0x146)](),_0x3550d5=a0_0x2f92ee[_0x1eaee3(0x12c)](),_0x441226=a0_0x2f92ee['listState'](),_0x481047=a0_0x2f92ee[_0x1eaee3(0x147)](),_0x43e06d=a0_0x2f92ee[_0x1eaee3(0x13e)](),_0x259f80=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4aacbb of _0x259f80){while(_0x4aacbb[_0x1eaee3(0x11f)]){_0x4aacbb[_0x1eaee3(0x152)][_0x1eaee3(0x13c)]();}}for(const _0x42bfa4 of _0x1d982e){createElementStorage(romsFile,_0x42bfa4,_0x1eaee3(0x148)+_0x42bfa4);}for(const _0x22d003 of _0x441226){createElementStorage(statesFile,_0x22d003,_0x1eaee3(0x142)+_0x22d003);}for(const _0x5affde of _0x3550d5){createElementStorage(savesFile,_0x5affde,'/data/saves/'+_0x5affde);}for(const _0x4be8f1 of _0x481047){createElementStorage(cheatsFile,_0x4be8f1,_0x1eaee3(0x134)+_0x4be8f1);}for(const _0x490a4a of _0x43e06d){createElementStorage(screenshotsFile,_0x490a4a,'/data/screenshots/'+_0x490a4a);}}document['addEventListener'](a0_0x218cb2(0x128),function(){const _0x2a0fba=a0_0x218cb2;upLoadFile[_0x2a0fba(0x15b)](_0x2a0fba(0x123),function(){const _0x19795e=_0x2a0fba;a0_0x2f92ee[_0x19795e(0x114)](upLoadFile);}),openLocalStorage[_0x2a0fba(0x15b)](_0x2a0fba(0x15d),function(){const _0x3361bd=_0x2a0fba,_0x36687b=localStorage[_0x3361bd(0x144)](_0x3361bd(0x15a));storage[_0x3361bd(0x141)][_0x3361bd(0x13c)](_0x3361bd(0x115)),intro['classList']['add'](_0x3361bd(0x115)),ingame[_0x3361bd(0x141)][_0x3361bd(0x122)](_0x3361bd(0x115)),_0x36687b===null||_0x36687b===''?(dropboxRestore[_0x3361bd(0x141)][_0x3361bd(0x13c)]('active'),dropboxBackup['classList'][_0x3361bd(0x13c)](_0x3361bd(0x135)),dropboxCloud[_0x3361bd(0x141)][_0x3361bd(0x13c)](_0x3361bd(0x135))):(dropboxRestore['classList'][_0x3361bd(0x122)](_0x3361bd(0x135)),dropboxBackup[_0x3361bd(0x141)][_0x3361bd(0x122)](_0x3361bd(0x135)),dropboxCloud[_0x3361bd(0x141)][_0x3361bd(0x122)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});