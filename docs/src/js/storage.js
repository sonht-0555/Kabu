const a0_0x3fe857=a0_0x403e;(function(_0x580ca1,_0x8a55c0){const _0x18ece8=a0_0x403e,_0x235d8d=_0x580ca1();while(!![]){try{const _0x2c551e=-parseInt(_0x18ece8(0x171))/0x1*(parseInt(_0x18ece8(0x166))/0x2)+-parseInt(_0x18ece8(0x175))/0x3*(parseInt(_0x18ece8(0x170))/0x4)+parseInt(_0x18ece8(0x152))/0x5*(parseInt(_0x18ece8(0x14a))/0x6)+parseInt(_0x18ece8(0x179))/0x7*(-parseInt(_0x18ece8(0x193))/0x8)+parseInt(_0x18ece8(0x181))/0x9+-parseInt(_0x18ece8(0x14e))/0xa*(parseInt(_0x18ece8(0x18d))/0xb)+-parseInt(_0x18ece8(0x159))/0xc*(-parseInt(_0x18ece8(0x197))/0xd);if(_0x2c551e===_0x8a55c0)break;else _0x235d8d['push'](_0x235d8d['shift']());}catch(_0x305d64){_0x235d8d['push'](_0x235d8d['shift']());}}}(a0_0x3f8b,0x67738));function a0_0x403e(_0x114915,_0x1e7e75){const _0x3f8b0f=a0_0x3f8b();return a0_0x403e=function(_0x403e5e,_0x489775){_0x403e5e=_0x403e5e-0x145;let _0x30813b=_0x3f8b0f[_0x403e5e];return _0x30813b;},a0_0x403e(_0x114915,_0x1e7e75);}import*as a0_0xe2a4d5 from'./main.js';const mgbaStorage=document[a0_0x3fe857(0x178)](a0_0x3fe857(0x16a)),savesFile=document[a0_0x3fe857(0x178)](a0_0x3fe857(0x183)),romsFile=document[a0_0x3fe857(0x178)](a0_0x3fe857(0x16c)),statesFile=document['getElementById'](a0_0x3fe857(0x18f)),screenshotsFile=document[a0_0x3fe857(0x178)]('screenshotsFile');function a0_0x3f8b(){const _0x1ebf6c=['mgba-storage','editFile','romsFile','dialog','MiB','textContent','215116vLtteF','3DhuYeO','onclose','lastChild','PiB','3MJdVXj','DOMContentLoaded','slice','getElementById','241493tekfcP','remove','download','replace','right','opacity0','/data/saves/','EiB','835875MnYVyH','disable','savesFile','TiB','home','listCheat','gap-10','onclick','/data/cheats/','KiB','downloadFile','flex-1','11KifrgB','showModal','statesFile','actionDiv','storage','listGame','72JMhbsJ','listState','active','click','169KFuWAb','confirm','span','GiB','getItem','.gba','282BxDvdd','length','div','listScreenshot','4928360kthUJE','mib','/data/screenshots/','add','22985rdohvT','uploadFile','_dateState','Delete\x20this\x20file?','change','/data/states/','close','1545204pmvPem','_imageState','gap-16','removeItem','createElement','rename','classList','addEventListener','appendChild','prompt','deleteFile','abs','setItem','468042jtEKXq','uId','/data/games/','firstChild'];a0_0x3f8b=function(){return _0x1ebf6c;};return a0_0x3f8b();}function humanFileSize(_0x1b3411,_0x3479c3=![],_0x5ddea7=0x1){const _0x5e04c7=a0_0x3fe857,_0x4024d3=_0x3479c3?0x3e8:0x400,_0x554fb8=_0x3479c3?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5e04c7(0x18a),_0x5e04c7(0x16e),_0x5e04c7(0x147),_0x5e04c7(0x184),_0x5e04c7(0x174),_0x5e04c7(0x180),'ZiB','YiB'];let _0x293218=-0x1;do{_0x1b3411/=_0x4024d3,++_0x293218;}while(Math[_0x5e04c7(0x164)](_0x1b3411)>=_0x4024d3&&_0x293218<_0x554fb8[_0x5e04c7(0x14b)]-0x1);return _0x1b3411['toFixed'](_0x5ddea7)+'\x20'+_0x554fb8[_0x293218];}function createElementStorage(_0x387e89,_0xe787c7,_0x1934c9){const _0x387cf7=a0_0x3fe857,_0x270198=document[_0x387cf7(0x15d)](_0x387cf7(0x14c));_0x270198['classList'][_0x387cf7(0x151)](_0x387cf7(0x18c),'rom-item','rom'),_0x387e89[_0x387cf7(0x161)](_0x270198);const _0x76ddb9=document[_0x387cf7(0x15d)](_0x387cf7(0x146));_0x76ddb9['textContent']=_0xe787c7,_0x76ddb9[_0x387cf7(0x15f)][_0x387cf7(0x151)]('flex-1'),_0x270198[_0x387cf7(0x161)](_0x76ddb9),_0x76ddb9[_0x387cf7(0x188)]=()=>{const _0x5a6033=_0x387cf7,_0x12e396=document[_0x5a6033(0x15d)](_0x5a6033(0x16d));_0x12e396[_0x5a6033(0x172)]=()=>_0x12e396['remove'](),_0x387e89[_0x5a6033(0x161)](_0x12e396);const _0x39a899=document[_0x5a6033(0x15d)](_0x5a6033(0x14c));_0x39a899[_0x5a6033(0x15f)]['add'](_0x5a6033(0x191),_0x5a6033(0x17d),_0x5a6033(0x187)),_0x12e396[_0x5a6033(0x161)](_0x39a899);const _0x11e2cc=document[_0x5a6033(0x15d)](_0x5a6033(0x14c));_0x11e2cc[_0x5a6033(0x15f)][_0x5a6033(0x151)](_0x5a6033(0x185),'bc',_0x5a6033(0x18c)),_0x39a899[_0x5a6033(0x161)](_0x11e2cc);const _0x3b0055=document[_0x5a6033(0x15d)]('div');_0x3b0055[_0x5a6033(0x15f)][_0x5a6033(0x151)](_0x5a6033(0x18c)),_0x39a899[_0x5a6033(0x161)](_0x3b0055);const _0x1c8bee=document[_0x5a6033(0x15d)](_0x5a6033(0x14c));_0x1c8bee[_0x5a6033(0x15f)][_0x5a6033(0x151)](_0x5a6033(0x18c)),_0x39a899[_0x5a6033(0x161)](_0x1c8bee);const _0x82c479=document[_0x5a6033(0x15d)](_0x5a6033(0x14c));_0x82c479[_0x5a6033(0x15f)][_0x5a6033(0x151)]('flex-1'),_0x39a899[_0x5a6033(0x161)](_0x82c479),mgbaStorage[_0x5a6033(0x15f)][_0x5a6033(0x151)]('opacity0'),_0x11e2cc[_0x5a6033(0x188)]=()=>{const _0x2c6f3e=_0x5a6033;_0x12e396[_0x2c6f3e(0x158)](),_0x12e396[_0x2c6f3e(0x17a)](),mgbaStorage['classList'][_0x2c6f3e(0x17a)](_0x2c6f3e(0x17e));};const _0x4f75da=document[_0x5a6033(0x15d)](_0x5a6033(0x14c));_0x4f75da[_0x5a6033(0x15f)][_0x5a6033(0x151)](_0x5a6033(0x18c),'rom-item','hw','cw'),_0x4f75da[_0x5a6033(0x16f)]=_0xe787c7,_0x12e396[_0x5a6033(0x161)](_0x4f75da);const _0x1db486=document[_0x5a6033(0x15d)](_0x5a6033(0x14c));_0x1db486[_0x5a6033(0x15f)][_0x5a6033(0x151)](_0x5a6033(0x190),'hw','cw',_0x5a6033(0x15b)),_0x12e396[_0x5a6033(0x161)](_0x1db486);const _0x19d262=document['createElement']('div');_0x19d262[_0x5a6033(0x15f)][_0x5a6033(0x151)](_0x5a6033(0x17b),'bc'),_0x1db486['appendChild'](_0x19d262),_0x19d262[_0x5a6033(0x188)]=()=>{const _0x55ebd2=_0x5a6033;a0_0xe2a4d5[_0x55ebd2(0x18b)](_0x1934c9,_0xe787c7);};const _0x7571e=document[_0x5a6033(0x15d)](_0x5a6033(0x14c));_0x7571e['classList'][_0x5a6033(0x151)]('delete','bc'),_0x1db486[_0x5a6033(0x161)](_0x7571e),_0x7571e[_0x5a6033(0x188)]=async()=>{const _0x44f5d9=_0x5a6033;if(window[_0x44f5d9(0x145)](_0x44f5d9(0x155)+_0xe787c7)){const _0x37d60e=_0xe787c7['replace'](/\....$/,_0x44f5d9(0x149));a0_0xe2a4d5[_0x44f5d9(0x163)](_0x1934c9),localStorage[_0x44f5d9(0x15c)](_0x37d60e+'_dateState'+_0xe787c7[_0x44f5d9(0x177)](-0x1)),localStorage[_0x44f5d9(0x15c)](_0x37d60e+_0x44f5d9(0x15a)+_0xe787c7[_0x44f5d9(0x177)](-0x1)),localStorageFile(),_0x12e396[_0x44f5d9(0x158)](),_0x12e396[_0x44f5d9(0x17a)](),mgbaStorage[_0x44f5d9(0x15f)][_0x44f5d9(0x17a)](_0x44f5d9(0x17e));}};const _0x1c76bf=document['createElement']('div');_0x1c76bf['classList'][_0x5a6033(0x151)](_0x5a6033(0x15e),'bc'),_0x1db486[_0x5a6033(0x161)](_0x1c76bf),_0x1c76bf[_0x5a6033(0x188)]=async()=>{const _0x199da2=_0x5a6033,_0xd4bcd6=window[_0x199da2(0x162)]('Edit\x20filename',_0xe787c7);if(_0xd4bcd6!==null){const _0x5608b6=_0xe787c7[_0x199da2(0x17c)](/\....$/,_0x199da2(0x149)),_0x204215=_0xd4bcd6[_0x199da2(0x17c)](/\....$/,_0x199da2(0x149)),_0xe0414f=_0x5608b6+_0x199da2(0x154)+_0xe787c7[_0x199da2(0x177)](-0x1),_0x5e9291=_0x5608b6+_0x199da2(0x15a)+_0xe787c7[_0x199da2(0x177)](-0x1),_0x1ab8a4=_0x204215+_0x199da2(0x154)+_0xd4bcd6[_0x199da2(0x177)](-0x1),_0x17fa9b=_0x204215+_0x199da2(0x15a)+_0xd4bcd6[_0x199da2(0x177)](-0x1),_0x57671c=localStorage[_0x199da2(0x148)](_0xe0414f),_0xa3908d=localStorage[_0x199da2(0x148)](_0x5e9291);_0x57671c!==null&&(localStorage[_0x199da2(0x165)](_0x1ab8a4,_0x57671c),localStorage[_0x199da2(0x15c)](_0xe0414f)),_0xa3908d!==null&&(localStorage[_0x199da2(0x165)](_0x17fa9b,_0xa3908d),localStorage[_0x199da2(0x15c)](_0x5e9291)),a0_0xe2a4d5[_0x199da2(0x16b)](_0x1934c9,_0xe787c7,_0xd4bcd6),localStorageFile(),_0x12e396[_0x199da2(0x158)](),_0x12e396[_0x199da2(0x17a)](),mgbaStorage[_0x199da2(0x15f)]['remove']('opacity0');}},_0x12e396[_0x5a6033(0x18e)]();};const _0x1175e8=document[_0x387cf7(0x15d)](_0x387cf7(0x146));_0x1175e8[_0x387cf7(0x16f)]=humanFileSize(a0_0xe2a4d5['fileSize'](_0x1934c9)),_0x1175e8[_0x387cf7(0x15f)][_0x387cf7(0x151)](_0x387cf7(0x14f)),_0x270198[_0x387cf7(0x161)](_0x1175e8);}export function localStorageFile(){const _0x316033=a0_0x3fe857,_0x238a2e=a0_0xe2a4d5[_0x316033(0x192)](),_0x3c6e44=a0_0xe2a4d5['listSave'](),_0x4a1a5a=a0_0xe2a4d5[_0x316033(0x194)](),_0x5149fb=a0_0xe2a4d5[_0x316033(0x186)](),_0x2bd1ce=a0_0xe2a4d5[_0x316033(0x14d)](),_0x9151bb=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x2be558 of _0x9151bb){while(_0x2be558[_0x316033(0x169)]){_0x2be558[_0x316033(0x173)][_0x316033(0x17a)]();}}for(const _0xfa27eb of _0x238a2e){createElementStorage(romsFile,_0xfa27eb,_0x316033(0x168)+_0xfa27eb);}for(const _0x58c31b of _0x4a1a5a){createElementStorage(statesFile,_0x58c31b,_0x316033(0x157)+_0x58c31b);}for(const _0x2f5306 of _0x3c6e44){createElementStorage(savesFile,_0x2f5306,_0x316033(0x17f)+_0x2f5306);}for(const _0xa50fbf of _0x5149fb){createElementStorage(cheatsFile,_0xa50fbf,_0x316033(0x189)+_0xa50fbf);}for(const _0x1e3a7d of _0x2bd1ce){createElementStorage(screenshotsFile,_0x1e3a7d,_0x316033(0x150)+_0x1e3a7d);}}document[a0_0x3fe857(0x160)](a0_0x3fe857(0x176),function(){const _0x4568f7=a0_0x3fe857;upLoadFile['addEventListener'](_0x4568f7(0x156),function(){const _0x5bce4b=_0x4568f7;a0_0xe2a4d5[_0x5bce4b(0x153)](upLoadFile);}),openLocalStorage['addEventListener'](_0x4568f7(0x196),function(){const _0x3693f1=_0x4568f7,_0x56cfa0=localStorage[_0x3693f1(0x148)](_0x3693f1(0x167));storage['classList'][_0x3693f1(0x17a)](_0x3693f1(0x182)),intro[_0x3693f1(0x15f)][_0x3693f1(0x151)](_0x3693f1(0x182)),ingame['classList'][_0x3693f1(0x151)]('disable'),_0x56cfa0===null||_0x56cfa0===''?(dropboxRestore[_0x3693f1(0x15f)]['remove']('active'),dropboxBackup[_0x3693f1(0x15f)]['remove'](_0x3693f1(0x195)),dropboxCloud[_0x3693f1(0x15f)][_0x3693f1(0x17a)]('active')):(dropboxRestore[_0x3693f1(0x15f)]['add'](_0x3693f1(0x195)),dropboxBackup[_0x3693f1(0x15f)][_0x3693f1(0x151)](_0x3693f1(0x195)),dropboxCloud[_0x3693f1(0x15f)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});