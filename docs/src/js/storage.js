const a0_0x51a82d=a0_0x2f81;function a0_0x2f81(_0x434f4a,_0x116e47){const _0x5df9c5=a0_0x5df9();return a0_0x2f81=function(_0x2f81c3,_0x59ab5f){_0x2f81c3=_0x2f81c3-0xd5;let _0x50a323=_0x5df9c5[_0x2f81c3];return _0x50a323;},a0_0x2f81(_0x434f4a,_0x116e47);}(function(_0x549b48,_0x3e6db1){const _0x28eae7=a0_0x2f81,_0x572c99=_0x549b48();while(!![]){try{const _0x372448=-parseInt(_0x28eae7(0xeb))/0x1+parseInt(_0x28eae7(0x11a))/0x2*(parseInt(_0x28eae7(0x10a))/0x3)+-parseInt(_0x28eae7(0x10e))/0x4*(parseInt(_0x28eae7(0xe9))/0x5)+parseInt(_0x28eae7(0xd8))/0x6*(parseInt(_0x28eae7(0xdc))/0x7)+-parseInt(_0x28eae7(0xfa))/0x8+-parseInt(_0x28eae7(0xe7))/0x9+parseInt(_0x28eae7(0xd6))/0xa;if(_0x372448===_0x3e6db1)break;else _0x572c99['push'](_0x572c99['shift']());}catch(_0x471624){_0x572c99['push'](_0x572c99['shift']());}}}(a0_0x5df9,0x6ee3c));import*as a0_0x4be143 from'./main.js';const mgbaStorage=document[a0_0x51a82d(0xec)]('mgba-storage'),savesFile=document[a0_0x51a82d(0xec)]('savesFile'),romsFile=document[a0_0x51a82d(0xec)](a0_0x51a82d(0xdf)),statesFile=document['getElementById'](a0_0x51a82d(0x103)),screenshotsFile=document[a0_0x51a82d(0xec)](a0_0x51a82d(0xfc));function humanFileSize(_0x5c2a6d,_0x16f851=![],_0x512459=0x1){const _0x24275b=a0_0x51a82d,_0x235946=_0x16f851?0x3e8:0x400,_0x583157=_0x16f851?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB',_0x24275b(0x108),'TiB',_0x24275b(0x104),_0x24275b(0xe8),_0x24275b(0x117),_0x24275b(0x105)];let _0x58b41c=-0x1;do{_0x5c2a6d/=_0x235946,++_0x58b41c;}while(Math[_0x24275b(0x106)](_0x5c2a6d)>=_0x235946&&_0x58b41c<_0x583157[_0x24275b(0xff)]-0x1);return _0x5c2a6d[_0x24275b(0x109)](_0x512459)+'\x20'+_0x583157[_0x58b41c];}function a0_0x5df9(){const _0x44c759=['saves','replace','states','14810640jMRVEn','Delete\x20this\x20file?','902454IeedXF','/data/states/','mib','confirm','14QHVMIo','games','fileSize','romsFile','removeItem','classList','add','createElement','rename','disable','onclick','4966794wzRbEr','EiB','95tiwNyQ','delete','785349oYYtVP','getElementById','prompt','addEventListener','listFiles','rom','Edit\x20filename','appendChild','slice','download','cheats','close','/data/games/','/data/screenshots/','rom-item','3584272FbUvxW','storage','screenshotsFile','remove','getItem','length','span','div','downloadFile','statesFile','PiB','YiB','abs','active','GiB','toFixed','6HVIOWo','flex-1','change','screenshots','68628XVyphh','gap-16','editFile','opacity0','/data/cheats/','uId','textContent','uploadFile','_dateState','ZiB','gap-10','right','783554Gzutwg','DOMContentLoaded','onclose'];a0_0x5df9=function(){return _0x44c759;};return a0_0x5df9();}function createElementStorage(_0x2ffd2e,_0x2d5953,_0x18dfa7){const _0x5c83f1=a0_0x51a82d,_0x4b1b75=document['createElement'](_0x5c83f1(0x101));_0x4b1b75[_0x5c83f1(0xe1)][_0x5c83f1(0xe2)](_0x5c83f1(0x10b),_0x5c83f1(0xf9),_0x5c83f1(0xf0)),_0x2ffd2e[_0x5c83f1(0xf2)](_0x4b1b75);const _0xe42ba2=document[_0x5c83f1(0xe3)](_0x5c83f1(0x100));_0xe42ba2[_0x5c83f1(0x114)]=_0x2d5953,_0xe42ba2[_0x5c83f1(0xe1)][_0x5c83f1(0xe2)](_0x5c83f1(0x10b)),_0x4b1b75[_0x5c83f1(0xf2)](_0xe42ba2),_0xe42ba2[_0x5c83f1(0xe6)]=()=>{const _0x431760=_0x5c83f1,_0x34c7ea=document[_0x431760(0xe3)]('dialog');_0x34c7ea[_0x431760(0x11c)]=()=>_0x34c7ea[_0x431760(0xfd)](),_0x2ffd2e[_0x431760(0xf2)](_0x34c7ea);const _0x399c3f=document[_0x431760(0xe3)](_0x431760(0x101));_0x399c3f[_0x431760(0xe1)]['add'](_0x431760(0xfb),_0x431760(0x119),_0x431760(0x118)),_0x34c7ea[_0x431760(0xf2)](_0x399c3f);const _0x160e93=document[_0x431760(0xe3)](_0x431760(0x101));_0x160e93[_0x431760(0xe1)][_0x431760(0xe2)]('home','bc','flex-1'),_0x399c3f[_0x431760(0xf2)](_0x160e93);const _0x20ea6c=document[_0x431760(0xe3)](_0x431760(0x101));_0x20ea6c[_0x431760(0xe1)][_0x431760(0xe2)](_0x431760(0x10b)),_0x399c3f[_0x431760(0xf2)](_0x20ea6c);const _0x47a370=document[_0x431760(0xe3)](_0x431760(0x101));_0x47a370[_0x431760(0xe1)][_0x431760(0xe2)](_0x431760(0x10b)),_0x399c3f[_0x431760(0xf2)](_0x47a370);const _0x619d6a=document[_0x431760(0xe3)]('div');_0x619d6a[_0x431760(0xe1)]['add'](_0x431760(0x10b)),_0x399c3f[_0x431760(0xf2)](_0x619d6a),mgbaStorage[_0x431760(0xe1)]['add'](_0x431760(0x111)),_0x160e93[_0x431760(0xe6)]=()=>{const _0x3003f0=_0x431760;_0x34c7ea[_0x3003f0(0xf6)](),_0x34c7ea[_0x3003f0(0xfd)](),mgbaStorage[_0x3003f0(0xe1)][_0x3003f0(0xfd)](_0x3003f0(0x111));};const _0x148545=document[_0x431760(0xe3)](_0x431760(0x101));_0x148545[_0x431760(0xe1)][_0x431760(0xe2)](_0x431760(0x10b),_0x431760(0xf9),'hw','cw'),_0x148545[_0x431760(0x114)]=_0x2d5953,_0x34c7ea[_0x431760(0xf2)](_0x148545);const _0xa9206b=document[_0x431760(0xe3)]('div');_0xa9206b[_0x431760(0xe1)]['add']('actionDiv','hw','cw',_0x431760(0x10f)),_0x34c7ea['appendChild'](_0xa9206b);const _0x39294b=document[_0x431760(0xe3)](_0x431760(0x101));_0x39294b[_0x431760(0xe1)][_0x431760(0xe2)](_0x431760(0xf4),'bc'),_0xa9206b[_0x431760(0xf2)](_0x39294b),_0x39294b['onclick']=()=>{const _0x14fd63=_0x431760;a0_0x4be143[_0x14fd63(0x102)](_0x18dfa7,_0x2d5953);};const _0x1cbf99=document['createElement'](_0x431760(0x101));_0x1cbf99[_0x431760(0xe1)][_0x431760(0xe2)](_0x431760(0xea),'bc'),_0xa9206b[_0x431760(0xf2)](_0x1cbf99),_0x1cbf99[_0x431760(0xe6)]=async()=>{const _0x252839=_0x431760;if(window[_0x252839(0xdb)](_0x252839(0xd7)+_0x2d5953)){const _0x1add87=_0x2d5953[_0x252839(0x11e)](/\....$/,'.gba');a0_0x4be143['deleteFile'](_0x18dfa7),localStorage[_0x252839(0xe0)](_0x1add87+_0x252839(0x116)+_0x2d5953[_0x252839(0xf3)](-0x1)),localStorage['removeItem'](_0x1add87+'_imageState'+_0x2d5953['slice'](-0x1)),localStorageFile(),_0x34c7ea[_0x252839(0xf6)](),_0x34c7ea['remove'](),mgbaStorage['classList'][_0x252839(0xfd)](_0x252839(0x111));}};const _0x5edfcf=document[_0x431760(0xe3)]('div');_0x5edfcf['classList'][_0x431760(0xe2)](_0x431760(0xe4),'bc'),_0xa9206b[_0x431760(0xf2)](_0x5edfcf),_0x5edfcf[_0x431760(0xe6)]=async()=>{const _0x44801d=_0x431760,_0x2ca60b=window[_0x44801d(0xed)](_0x44801d(0xf1),_0x2d5953);_0x2ca60b!==null&&(a0_0x4be143[_0x44801d(0x110)](_0x18dfa7,_0x2d5953,_0x2ca60b),localStorageFile(),_0x34c7ea[_0x44801d(0xf6)](),_0x34c7ea[_0x44801d(0xfd)](),mgbaStorage['classList'][_0x44801d(0xfd)]('opacity0'));},_0x34c7ea['showModal']();};const _0x1669b=document[_0x5c83f1(0xe3)](_0x5c83f1(0x100));_0x1669b['textContent']=humanFileSize(a0_0x4be143[_0x5c83f1(0xde)](_0x18dfa7)),_0x1669b['classList'][_0x5c83f1(0xe2)](_0x5c83f1(0xda)),_0x4b1b75[_0x5c83f1(0xf2)](_0x1669b);}export function localStorageFile(){const _0x199521=a0_0x51a82d,_0x493cc6=a0_0x4be143['listFiles'](_0x199521(0xdd)),_0x54f4fe=a0_0x4be143['listFiles'](_0x199521(0x11d)),_0x3ac90e=a0_0x4be143['listFiles'](_0x199521(0xd5)),_0x2125ed=a0_0x4be143[_0x199521(0xef)](_0x199521(0xf5)),_0x1b6ccb=a0_0x4be143['listFiles'](_0x199521(0x10d)),_0x4dceac=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5deab3 of _0x4dceac){while(_0x5deab3['firstChild']){_0x5deab3['lastChild'][_0x199521(0xfd)]();}}for(const _0x48ee74 of _0x493cc6){createElementStorage(romsFile,_0x48ee74,_0x199521(0xf7)+_0x48ee74);}for(const _0x1da8f9 of _0x3ac90e){createElementStorage(statesFile,_0x1da8f9,_0x199521(0xd9)+_0x1da8f9);}for(const _0x3cfed1 of _0x54f4fe){createElementStorage(savesFile,_0x3cfed1,'/data/saves/'+_0x3cfed1);}for(const _0xcaa7c2 of _0x2125ed){createElementStorage(cheatsFile,_0xcaa7c2,_0x199521(0x112)+_0xcaa7c2);}for(const _0x3c0b95 of _0x1b6ccb){createElementStorage(screenshotsFile,_0x3c0b95,_0x199521(0xf8)+_0x3c0b95);}}document[a0_0x51a82d(0xee)](a0_0x51a82d(0x11b),function(){const _0x23e50f=a0_0x51a82d;upLoadFile[_0x23e50f(0xee)](_0x23e50f(0x10c),function(){const _0x3ead30=_0x23e50f;a0_0x4be143[_0x3ead30(0x115)](upLoadFile);}),openLocalStorage[_0x23e50f(0xee)]('click',function(){const _0x4cbe74=_0x23e50f,_0x14e8b3=localStorage[_0x4cbe74(0xfe)](_0x4cbe74(0x113));storage['classList'][_0x4cbe74(0xfd)](_0x4cbe74(0xe5)),intro['classList'][_0x4cbe74(0xe2)](_0x4cbe74(0xe5)),ingame[_0x4cbe74(0xe1)][_0x4cbe74(0xe2)](_0x4cbe74(0xe5)),_0x14e8b3===null||_0x14e8b3===''?(dropboxRestore[_0x4cbe74(0xe1)][_0x4cbe74(0xfd)](_0x4cbe74(0x107)),dropboxBackup['classList'][_0x4cbe74(0xfd)](_0x4cbe74(0x107)),dropboxCloud['classList']['remove']('active')):(dropboxRestore[_0x4cbe74(0xe1)]['add']('active'),dropboxBackup[_0x4cbe74(0xe1)]['add']('active'),dropboxCloud['classList'][_0x4cbe74(0xe2)](_0x4cbe74(0x107)));}),setTimeout(()=>{localStorageFile();},0xbb8);});