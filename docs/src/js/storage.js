const a0_0x172bc5=a0_0x4af2;function a0_0x4af2(_0x1e9a5e,_0x391547){const _0x457476=a0_0x4574();return a0_0x4af2=function(_0x4af22e,_0x2845f1){_0x4af22e=_0x4af22e-0x132;let _0x4f2c61=_0x457476[_0x4af22e];return _0x4f2c61;},a0_0x4af2(_0x1e9a5e,_0x391547);}(function(_0x2295ad,_0xea74f){const _0x955573=a0_0x4af2,_0x5c8646=_0x2295ad();while(!![]){try{const _0xb4b0c5=parseInt(_0x955573(0x141))/0x1*(parseInt(_0x955573(0x164))/0x2)+-parseInt(_0x955573(0x168))/0x3+-parseInt(_0x955573(0x165))/0x4*(-parseInt(_0x955573(0x176))/0x5)+parseInt(_0x955573(0x14c))/0x6+parseInt(_0x955573(0x150))/0x7*(-parseInt(_0x955573(0x173))/0x8)+parseInt(_0x955573(0x17b))/0x9+-parseInt(_0x955573(0x170))/0xa*(parseInt(_0x955573(0x166))/0xb);if(_0xb4b0c5===_0xea74f)break;else _0x5c8646['push'](_0x5c8646['shift']());}catch(_0x141096){_0x5c8646['push'](_0x5c8646['shift']());}}}(a0_0x4574,0xe2fd5));import*as a0_0xb9d7df from'./main.js';const mgbaStorage=document[a0_0x172bc5(0x136)](a0_0x172bc5(0x13f)),savesFile=document['getElementById'](a0_0x172bc5(0x178)),romsFile=document['getElementById'](a0_0x172bc5(0x134)),statesFile=document['getElementById'](a0_0x172bc5(0x157)),screenshotsFile=document['getElementById'](a0_0x172bc5(0x137));function humanFileSize(_0x2edd94,_0x3ae04d=![],_0x25298b=0x1){const _0x5da09b=a0_0x172bc5,_0x10083b=_0x3ae04d?0x3e8:0x400,_0x46435d=_0x3ae04d?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5da09b(0x14f),_0x5da09b(0x177),_0x5da09b(0x13b),_0x5da09b(0x142),_0x5da09b(0x153),_0x5da09b(0x15f),_0x5da09b(0x161),_0x5da09b(0x15d)];let _0x3d48d3=-0x1;do{_0x2edd94/=_0x10083b,++_0x3d48d3;}while(Math[_0x5da09b(0x144)](_0x2edd94)>=_0x10083b&&_0x3d48d3<_0x46435d[_0x5da09b(0x151)]-0x1);return _0x2edd94[_0x5da09b(0x159)](_0x25298b)+'\x20'+_0x46435d[_0x3d48d3];}function createElementStorage(_0x4ea698,_0x5eb561,_0x32de2b){const _0x31221a=a0_0x172bc5,_0x5db8b3=document[_0x31221a(0x135)](_0x31221a(0x147));_0x5db8b3[_0x31221a(0x138)][_0x31221a(0x15a)](_0x31221a(0x17a),_0x31221a(0x167),_0x31221a(0x14d)),_0x4ea698[_0x31221a(0x16a)](_0x5db8b3);const _0x283af3=document[_0x31221a(0x135)](_0x31221a(0x154));_0x283af3[_0x31221a(0x13d)]=_0x5eb561,_0x283af3['classList'][_0x31221a(0x15a)]('flex-1'),_0x5db8b3[_0x31221a(0x16a)](_0x283af3),_0x283af3['onclick']=()=>{const _0x1fd218=_0x31221a,_0x597973=document[_0x1fd218(0x135)]('dialog');_0x597973[_0x1fd218(0x133)]=()=>_0x597973[_0x1fd218(0x148)](),_0x4ea698['appendChild'](_0x597973);const _0x28216a=document[_0x1fd218(0x135)]('div');_0x28216a[_0x1fd218(0x138)][_0x1fd218(0x15a)](_0x1fd218(0x13a),'right','gap-10'),_0x597973[_0x1fd218(0x16a)](_0x28216a);const _0x3f30f4=document[_0x1fd218(0x135)](_0x1fd218(0x147));_0x3f30f4['classList'][_0x1fd218(0x15a)](_0x1fd218(0x16f),'bc',_0x1fd218(0x17a)),_0x28216a[_0x1fd218(0x16a)](_0x3f30f4);const _0x56b662=document[_0x1fd218(0x135)]('div');_0x56b662['classList'][_0x1fd218(0x15a)](_0x1fd218(0x17a)),_0x28216a[_0x1fd218(0x16a)](_0x56b662);const _0x3ae208=document['createElement']('div');_0x3ae208['classList'][_0x1fd218(0x15a)](_0x1fd218(0x17a)),_0x28216a[_0x1fd218(0x16a)](_0x3ae208);const _0x1f4b97=document[_0x1fd218(0x135)]('div');_0x1f4b97[_0x1fd218(0x138)][_0x1fd218(0x15a)]('flex-1'),_0x28216a[_0x1fd218(0x16a)](_0x1f4b97),mgbaStorage[_0x1fd218(0x138)][_0x1fd218(0x15a)]('opacity0'),_0x3f30f4['onclick']=()=>{const _0xa86435=_0x1fd218;_0x597973[_0xa86435(0x14a)](),_0x597973[_0xa86435(0x148)](),mgbaStorage[_0xa86435(0x138)]['remove'](_0xa86435(0x16e));};const _0x38421a=document[_0x1fd218(0x135)](_0x1fd218(0x147));_0x38421a[_0x1fd218(0x138)][_0x1fd218(0x15a)]('flex-1',_0x1fd218(0x167),'hw','cw'),_0x38421a[_0x1fd218(0x13d)]=_0x5eb561,_0x597973[_0x1fd218(0x16a)](_0x38421a);const _0x382cf2=document[_0x1fd218(0x135)](_0x1fd218(0x147));_0x382cf2[_0x1fd218(0x138)][_0x1fd218(0x15a)](_0x1fd218(0x155),'hw','cw',_0x1fd218(0x171)),_0x597973[_0x1fd218(0x16a)](_0x382cf2);const _0x464482=document['createElement'](_0x1fd218(0x147));_0x464482[_0x1fd218(0x138)][_0x1fd218(0x15a)]('download','bc'),_0x382cf2[_0x1fd218(0x16a)](_0x464482),_0x464482[_0x1fd218(0x149)]=()=>{const _0x44a21b=_0x1fd218;a0_0xb9d7df[_0x44a21b(0x139)](_0x32de2b,_0x5eb561);};const _0x24c8df=document[_0x1fd218(0x135)](_0x1fd218(0x147));_0x24c8df[_0x1fd218(0x138)][_0x1fd218(0x15a)]('delete','bc'),_0x382cf2[_0x1fd218(0x16a)](_0x24c8df),_0x24c8df[_0x1fd218(0x149)]=async()=>{const _0x27cd5f=_0x1fd218;if(window['confirm']('Delete\x20this\x20file?'+_0x5eb561)){const _0x46e9cb=_0x5eb561[_0x27cd5f(0x15e)](/\....$/,'.gba');a0_0xb9d7df[_0x27cd5f(0x16b)](_0x32de2b),localStorage[_0x27cd5f(0x160)](_0x46e9cb+_0x27cd5f(0x16c)+_0x5eb561[_0x27cd5f(0x156)](-0x1)),localStorage[_0x27cd5f(0x160)](_0x46e9cb+_0x27cd5f(0x146)+_0x5eb561['slice'](-0x1)),localStorageFile(),_0x597973[_0x27cd5f(0x14a)](),_0x597973['remove'](),mgbaStorage[_0x27cd5f(0x138)][_0x27cd5f(0x148)](_0x27cd5f(0x16e));}};const _0x3a60db=document[_0x1fd218(0x135)](_0x1fd218(0x147));_0x3a60db['classList'][_0x1fd218(0x15a)](_0x1fd218(0x15b),'bc'),_0x382cf2[_0x1fd218(0x16a)](_0x3a60db),_0x3a60db[_0x1fd218(0x149)]=async()=>{const _0x37f16b=_0x1fd218,_0x3f04d0=window[_0x37f16b(0x16d)](_0x37f16b(0x152),_0x5eb561);_0x3f04d0!==null&&(a0_0xb9d7df['editFile'](_0x32de2b,_0x5eb561,_0x3f04d0),localStorageFile(),_0x597973['close'](),_0x597973[_0x37f16b(0x148)](),mgbaStorage[_0x37f16b(0x138)][_0x37f16b(0x148)](_0x37f16b(0x16e)));},_0x597973['showModal']();};const _0x1c9ac7=document[_0x31221a(0x135)](_0x31221a(0x154));_0x1c9ac7[_0x31221a(0x13d)]=humanFileSize(a0_0xb9d7df['fileSize'](_0x32de2b)),_0x1c9ac7['classList'][_0x31221a(0x15a)](_0x31221a(0x163)),_0x5db8b3[_0x31221a(0x16a)](_0x1c9ac7);}function a0_0x4574(){const _0x2f26ad=['onclose','romsFile','createElement','getElementById','screenshotsFile','classList','downloadFile','storage','GiB','/data/states/','textContent','active','mgba-storage','change','95021MxliZG','TiB','disable','abs','getItem','_imageState','div','remove','onclick','close','/data/games/','6990894iVwRab','rom','addEventListener','KiB','35fJrzJB','length','Edit\x20filename','PiB','span','actionDiv','slice','statesFile','states','toFixed','add','rename','/data/screenshots/','YiB','replace','EiB','removeItem','ZiB','screenshots','mib','32sKwDQp','852396ZumIyy','8591693naVOfh','rom-item','2852088VfUYZj','listFiles','appendChild','deleteFile','_dateState','prompt','opacity0','home','10okwDAZ','gap-16','uId','384536mGoDUC','games','uploadFile','5LztIio','MiB','savesFile','cheats','flex-1','29331tLgTVe','saves'];a0_0x4574=function(){return _0x2f26ad;};return a0_0x4574();}export function localStorageFile(){const _0x29c44c=a0_0x172bc5,_0x58db5f=a0_0xb9d7df[_0x29c44c(0x169)](_0x29c44c(0x174)),_0x44cf5a=a0_0xb9d7df[_0x29c44c(0x169)](_0x29c44c(0x132)),_0x29e048=a0_0xb9d7df[_0x29c44c(0x169)](_0x29c44c(0x158)),_0x1e24a6=a0_0xb9d7df[_0x29c44c(0x169)](_0x29c44c(0x179)),_0x1d096c=a0_0xb9d7df[_0x29c44c(0x169)](_0x29c44c(0x162)),_0x48416c=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x816aee of _0x48416c){while(_0x816aee['firstChild']){_0x816aee['lastChild']['remove']();}}for(const _0x48ed87 of _0x58db5f){createElementStorage(romsFile,_0x48ed87,_0x29c44c(0x14b)+_0x48ed87);}for(const _0x1201a1 of _0x29e048){createElementStorage(statesFile,_0x1201a1,_0x29c44c(0x13c)+_0x1201a1);}for(const _0x393dc2 of _0x44cf5a){createElementStorage(savesFile,_0x393dc2,'/data/saves/'+_0x393dc2);}for(const _0x30db3e of _0x1e24a6){createElementStorage(cheatsFile,_0x30db3e,'/data/cheats/'+_0x30db3e);}for(const _0x193135 of _0x1d096c){createElementStorage(screenshotsFile,_0x193135,_0x29c44c(0x15c)+_0x193135);}}document[a0_0x172bc5(0x14e)]('DOMContentLoaded',function(){const _0x3f8372=a0_0x172bc5;upLoadFile[_0x3f8372(0x14e)](_0x3f8372(0x140),function(){const _0x2601fc=_0x3f8372;a0_0xb9d7df[_0x2601fc(0x175)](upLoadFile);}),openLocalStorage[_0x3f8372(0x14e)]('click',function(){const _0x4e193e=_0x3f8372,_0x48bbe5=localStorage[_0x4e193e(0x145)](_0x4e193e(0x172));storage[_0x4e193e(0x138)]['remove'](_0x4e193e(0x143)),intro[_0x4e193e(0x138)][_0x4e193e(0x15a)](_0x4e193e(0x143)),ingame['classList'][_0x4e193e(0x15a)](_0x4e193e(0x143)),_0x48bbe5===null||_0x48bbe5===''?(dropboxRestore[_0x4e193e(0x138)][_0x4e193e(0x148)]('active'),dropboxBackup[_0x4e193e(0x138)][_0x4e193e(0x148)](_0x4e193e(0x13e)),dropboxCloud['classList'][_0x4e193e(0x148)](_0x4e193e(0x13e))):(dropboxRestore['classList'][_0x4e193e(0x15a)](_0x4e193e(0x13e)),dropboxBackup[_0x4e193e(0x138)][_0x4e193e(0x15a)](_0x4e193e(0x13e)),dropboxCloud[_0x4e193e(0x138)]['add'](_0x4e193e(0x13e)));}),setTimeout(()=>{localStorageFile();},0xbb8);});