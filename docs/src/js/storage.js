function a0_0x3af4(){const _0x3f66c5=['getElementById','statesFile','romsFile','opacity0','appendChild','ZiB','slice','12Ylqbke','prompt','.gba','saves','rename','gap-16','rom-item','confirm','replace','519435RIEalq','cheats','dialog','screenshots','click','downloadFile','add','right','toFixed','YiB','showModal','30456aCWdUi','deleteFile','3912maiCOC','TiB','home','textContent','actionDiv','/data/states/','createElement','/data/games/','279040PkZBdL','length','354064wBTPVt','classList','Delete\x20this\x20file?','flex-1','close','GiB','rom','mib','editFile','div','344576yrwoEE','screenshotsFile','889fvXjNt','MiB','7596558iKwZSA','disable','change','removeItem','getItem','active','remove','onclick','delete','PiB','addEventListener','states','onclose','/data/cheats/','uploadFile','lastChild','_imageState','listFiles','download','fileSize'];a0_0x3af4=function(){return _0x3f66c5;};return a0_0x3af4();}const a0_0x1af3ba=a0_0x4e8c;(function(_0x1e43ce,_0x590178){const _0x58a284=a0_0x4e8c,_0x15a666=_0x1e43ce();while(!![]){try{const _0x299b48=parseInt(_0x58a284(0x12b))/0x1+-parseInt(_0x58a284(0xf8))/0x2+-parseInt(_0x58a284(0x117))/0x3*(parseInt(_0x58a284(0xee))/0x4)+-parseInt(_0x58a284(0x120))/0x5+-parseInt(_0x58a284(0xe4))/0x6*(parseInt(_0x58a284(0xfa))/0x7)+parseInt(_0x58a284(0xec))/0x8+parseInt(_0x58a284(0xfc))/0x9;if(_0x299b48===_0x590178)break;else _0x15a666['push'](_0x15a666['shift']());}catch(_0x17868b){_0x15a666['push'](_0x15a666['shift']());}}}(a0_0x3af4,0x2ff03));function a0_0x4e8c(_0x529cdd,_0x4daf8c){const _0x3af499=a0_0x3af4();return a0_0x4e8c=function(_0x4e8c94,_0x3d6495){_0x4e8c94=_0x4e8c94-0xe3;let _0x4adfb7=_0x3af499[_0x4e8c94];return _0x4adfb7;},a0_0x4e8c(_0x529cdd,_0x4daf8c);}import*as a0_0xe7d442 from'./main.js';const mgbaStorage=document[a0_0x1af3ba(0x110)]('mgba-storage'),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x1af3ba(0x110)](a0_0x1af3ba(0x112)),statesFile=document[a0_0x1af3ba(0x110)](a0_0x1af3ba(0x111)),screenshotsFile=document[a0_0x1af3ba(0x110)](a0_0x1af3ba(0xf9));function humanFileSize(_0x33bbb4,_0x4b3877=![],_0x4de64b=0x1){const _0x2b9c47=a0_0x1af3ba,_0x479658=_0x4b3877?0x3e8:0x400,_0x241d44=_0x4b3877?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x2b9c47(0xfb),_0x2b9c47(0xf3),_0x2b9c47(0xe5),_0x2b9c47(0x105),'EiB',_0x2b9c47(0x115),_0x2b9c47(0x129)];let _0x24cf7f=-0x1;do{_0x33bbb4/=_0x479658,++_0x24cf7f;}while(Math['abs'](_0x33bbb4)>=_0x479658&&_0x24cf7f<_0x241d44[_0x2b9c47(0xed)]-0x1);return _0x33bbb4[_0x2b9c47(0x128)](_0x4de64b)+'\x20'+_0x241d44[_0x24cf7f];}function createElementStorage(_0x5d8c6f,_0x8455a3,_0x5c1f2b){const _0x10e8fa=a0_0x1af3ba,_0x495ce5=document[_0x10e8fa(0xea)](_0x10e8fa(0xf7));_0x495ce5['classList'][_0x10e8fa(0x126)]('flex-1',_0x10e8fa(0x11d),_0x10e8fa(0xf4)),_0x5d8c6f[_0x10e8fa(0x114)](_0x495ce5);const _0x413697=document[_0x10e8fa(0xea)]('span');_0x413697[_0x10e8fa(0xe7)]=_0x8455a3,_0x413697[_0x10e8fa(0xef)]['add']('flex-1'),_0x495ce5[_0x10e8fa(0x114)](_0x413697),_0x413697['onclick']=()=>{const _0x5e376b=_0x10e8fa,_0x58f80e=document[_0x5e376b(0xea)](_0x5e376b(0x122));_0x58f80e[_0x5e376b(0x108)]=()=>_0x58f80e['remove'](),_0x5d8c6f['appendChild'](_0x58f80e);const _0x2ddb7a=document['createElement'](_0x5e376b(0xf7));_0x2ddb7a[_0x5e376b(0xef)][_0x5e376b(0x126)]('storage',_0x5e376b(0x127),'gap-10'),_0x58f80e['appendChild'](_0x2ddb7a);const _0x36249e=document['createElement']('div');_0x36249e[_0x5e376b(0xef)]['add'](_0x5e376b(0xe6),'bc',_0x5e376b(0xf1)),_0x2ddb7a[_0x5e376b(0x114)](_0x36249e);const _0x4f4b5b=document[_0x5e376b(0xea)](_0x5e376b(0xf7));_0x4f4b5b[_0x5e376b(0xef)][_0x5e376b(0x126)](_0x5e376b(0xf1)),_0x2ddb7a[_0x5e376b(0x114)](_0x4f4b5b);const _0x5ba246=document[_0x5e376b(0xea)](_0x5e376b(0xf7));_0x5ba246[_0x5e376b(0xef)][_0x5e376b(0x126)](_0x5e376b(0xf1)),_0x2ddb7a[_0x5e376b(0x114)](_0x5ba246);const _0x11498c=document[_0x5e376b(0xea)](_0x5e376b(0xf7));_0x11498c[_0x5e376b(0xef)][_0x5e376b(0x126)](_0x5e376b(0xf1)),_0x2ddb7a[_0x5e376b(0x114)](_0x11498c),mgbaStorage['classList']['add'](_0x5e376b(0x113)),_0x36249e['onclick']=()=>{const _0x2ebc64=_0x5e376b;_0x58f80e[_0x2ebc64(0xf2)](),_0x58f80e[_0x2ebc64(0x102)](),mgbaStorage[_0x2ebc64(0xef)][_0x2ebc64(0x102)](_0x2ebc64(0x113));};const _0xa4e610=document[_0x5e376b(0xea)]('div');_0xa4e610[_0x5e376b(0xef)]['add'](_0x5e376b(0xf1),_0x5e376b(0x11d),'hw','cw'),_0xa4e610[_0x5e376b(0xe7)]=_0x8455a3,_0x58f80e['appendChild'](_0xa4e610);const _0x34f633=document[_0x5e376b(0xea)](_0x5e376b(0xf7));_0x34f633[_0x5e376b(0xef)][_0x5e376b(0x126)](_0x5e376b(0xe8),'hw','cw',_0x5e376b(0x11c)),_0x58f80e['appendChild'](_0x34f633);const _0x5d5b1e=document['createElement'](_0x5e376b(0xf7));_0x5d5b1e[_0x5e376b(0xef)][_0x5e376b(0x126)](_0x5e376b(0x10e),'bc'),_0x34f633[_0x5e376b(0x114)](_0x5d5b1e),_0x5d5b1e[_0x5e376b(0x103)]=()=>{const _0xec6332=_0x5e376b;a0_0xe7d442[_0xec6332(0x125)](_0x5c1f2b,_0x8455a3);};const _0x41653f=document[_0x5e376b(0xea)](_0x5e376b(0xf7));_0x41653f[_0x5e376b(0xef)][_0x5e376b(0x126)](_0x5e376b(0x104),'bc'),_0x34f633[_0x5e376b(0x114)](_0x41653f),_0x41653f[_0x5e376b(0x103)]=async()=>{const _0x4a0e88=_0x5e376b;if(window[_0x4a0e88(0x11e)](_0x4a0e88(0xf0)+_0x8455a3)){const _0x19ef4a=_0x8455a3[_0x4a0e88(0x11f)](/\....$/,_0x4a0e88(0x119));a0_0xe7d442[_0x4a0e88(0xe3)](_0x5c1f2b),localStorage['removeItem'](_0x19ef4a+'_dateState'+_0x8455a3[_0x4a0e88(0x116)](-0x1)),localStorage[_0x4a0e88(0xff)](_0x19ef4a+_0x4a0e88(0x10c)+_0x8455a3['slice'](-0x1)),localStorageFile(),_0x58f80e[_0x4a0e88(0xf2)](),_0x58f80e[_0x4a0e88(0x102)](),mgbaStorage['classList'][_0x4a0e88(0x102)](_0x4a0e88(0x113));}};const _0x224c5b=document[_0x5e376b(0xea)](_0x5e376b(0xf7));_0x224c5b['classList'][_0x5e376b(0x126)](_0x5e376b(0x11b),'bc'),_0x34f633[_0x5e376b(0x114)](_0x224c5b),_0x224c5b[_0x5e376b(0x103)]=async()=>{const _0x13c0e7=_0x5e376b,_0x23e306=window[_0x13c0e7(0x118)]('Edit\x20filename',_0x8455a3);_0x23e306!==null&&(a0_0xe7d442[_0x13c0e7(0xf6)](_0x5c1f2b,_0x8455a3,_0x23e306),localStorageFile(),_0x58f80e[_0x13c0e7(0xf2)](),_0x58f80e['remove'](),mgbaStorage[_0x13c0e7(0xef)][_0x13c0e7(0x102)](_0x13c0e7(0x113)));},_0x58f80e[_0x5e376b(0x12a)]();};const _0x4781d8=document[_0x10e8fa(0xea)]('span');_0x4781d8['textContent']=humanFileSize(a0_0xe7d442[_0x10e8fa(0x10f)](_0x5c1f2b)),_0x4781d8[_0x10e8fa(0xef)][_0x10e8fa(0x126)](_0x10e8fa(0xf5)),_0x495ce5[_0x10e8fa(0x114)](_0x4781d8);}export function localStorageFile(){const _0x48059b=a0_0x1af3ba,_0x3b27e8=a0_0xe7d442[_0x48059b(0x10d)]('games'),_0x5bb950=a0_0xe7d442[_0x48059b(0x10d)](_0x48059b(0x11a)),_0x47991e=a0_0xe7d442[_0x48059b(0x10d)](_0x48059b(0x107)),_0xb9d493=a0_0xe7d442[_0x48059b(0x10d)](_0x48059b(0x121)),_0x503bbf=a0_0xe7d442['listFiles'](_0x48059b(0x123)),_0xb32e84=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xd9cb63 of _0xb32e84){while(_0xd9cb63['firstChild']){_0xd9cb63[_0x48059b(0x10b)]['remove']();}}for(const _0x3b69b2 of _0x3b27e8){createElementStorage(romsFile,_0x3b69b2,_0x48059b(0xeb)+_0x3b69b2);}for(const _0x4d53ab of _0x47991e){createElementStorage(statesFile,_0x4d53ab,_0x48059b(0xe9)+_0x4d53ab);}for(const _0xe8b6b6 of _0x5bb950){createElementStorage(savesFile,_0xe8b6b6,'/data/saves/'+_0xe8b6b6);}for(const _0xc4a1d7 of _0xb9d493){createElementStorage(cheatsFile,_0xc4a1d7,_0x48059b(0x109)+_0xc4a1d7);}for(const _0x1281f9 of _0x503bbf){createElementStorage(screenshotsFile,_0x1281f9,'/data/screenshots/'+_0x1281f9);}}document[a0_0x1af3ba(0x106)]('DOMContentLoaded',function(){const _0x1f0639=a0_0x1af3ba;upLoadFile['addEventListener'](_0x1f0639(0xfe),function(){const _0x3b975f=_0x1f0639;a0_0xe7d442[_0x3b975f(0x10a)](upLoadFile);}),openLocalStorage[_0x1f0639(0x106)](_0x1f0639(0x124),function(){const _0x3614b1=_0x1f0639,_0x7e5a79=localStorage[_0x3614b1(0x100)]('uId');storage[_0x3614b1(0xef)]['remove']('disable'),intro[_0x3614b1(0xef)]['add'](_0x3614b1(0xfd)),ingame['classList'][_0x3614b1(0x126)]('disable'),_0x7e5a79===null||_0x7e5a79===''?(dropboxRestore['classList'][_0x3614b1(0x102)]('active'),dropboxBackup[_0x3614b1(0xef)][_0x3614b1(0x102)](_0x3614b1(0x101)),dropboxCloud[_0x3614b1(0xef)][_0x3614b1(0x102)](_0x3614b1(0x101))):(dropboxRestore[_0x3614b1(0xef)][_0x3614b1(0x126)](_0x3614b1(0x101)),dropboxBackup[_0x3614b1(0xef)]['add'](_0x3614b1(0x101)),dropboxCloud[_0x3614b1(0xef)][_0x3614b1(0x126)](_0x3614b1(0x101)));}),setTimeout(()=>{localStorageFile();},0xbb8);});