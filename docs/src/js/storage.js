function a0_0x5450(_0x27c9da,_0x30ca89){const _0x32d0d9=a0_0x32d0();return a0_0x5450=function(_0x54505c,_0x1320a2){_0x54505c=_0x54505c-0xd0;let _0xfbbc5b=_0x32d0d9[_0x54505c];return _0xfbbc5b;},a0_0x5450(_0x27c9da,_0x30ca89);}const a0_0x560c73=a0_0x5450;(function(_0x31b4eb,_0x14cc87){const _0x25ea93=a0_0x5450,_0x558911=_0x31b4eb();while(!![]){try{const _0x605a08=parseInt(_0x25ea93(0xf9))/0x1*(-parseInt(_0x25ea93(0x108))/0x2)+parseInt(_0x25ea93(0xee))/0x3+parseInt(_0x25ea93(0xd8))/0x4+-parseInt(_0x25ea93(0xd3))/0x5*(parseInt(_0x25ea93(0x103))/0x6)+-parseInt(_0x25ea93(0x10f))/0x7+parseInt(_0x25ea93(0x10e))/0x8*(parseInt(_0x25ea93(0xe3))/0x9)+-parseInt(_0x25ea93(0xdf))/0xa*(-parseInt(_0x25ea93(0x106))/0xb);if(_0x605a08===_0x14cc87)break;else _0x558911['push'](_0x558911['shift']());}catch(_0x5a26fb){_0x558911['push'](_0x558911['shift']());}}}(a0_0x32d0,0x9e39a));function a0_0x32d0(){const _0x4ca137=['lastChild','confirm','active','download','960iLqlDw','firstChild','appendChild','span','3951GTxZtf','uId','YiB','prompt','removeItem','remove','Edit\x20filename','states','rename','onclick','DOMContentLoaded','955947GDvCui','getElementById','savesFile','/data/states/','rom-item','KiB','slice','downloadFile','change','.gba','flex-1','792829RhRFCF','storage','PiB','disable','div','rom','classList','onclose','right','addEventListener','6lEwFwe','screenshotsFile','add','67177wVUbbe','romsFile','2muwsGL','gap-16','deleteFile','opacity0','/data/cheats/','GiB','18232NngXcq','8377033DXSWyh','/data/saves/','gap-10','getItem','close','listFiles','actionDiv','length','mib','textContent','createElement','1654035bPDIko','home','ZiB','fileSize','cheats','4252172ADHKYT','games','screenshots'];a0_0x32d0=function(){return _0x4ca137;};return a0_0x32d0();}import*as a0_0x233a40 from'./main.js';const mgbaStorage=document[a0_0x560c73(0xef)]('mgba-storage'),savesFile=document[a0_0x560c73(0xef)](a0_0x560c73(0xf0)),romsFile=document['getElementById'](a0_0x560c73(0x107)),statesFile=document[a0_0x560c73(0xef)]('statesFile'),screenshotsFile=document[a0_0x560c73(0xef)](a0_0x560c73(0x104));function humanFileSize(_0x5d7c1a,_0xf1575e=![],_0x4c15e0=0x1){const _0x37b1a1=a0_0x560c73,_0x55b620=_0xf1575e?0x3e8:0x400,_0x4cccca=_0xf1575e?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x37b1a1(0xf3),'MiB',_0x37b1a1(0x10d),'TiB',_0x37b1a1(0xfb),'EiB',_0x37b1a1(0xd5),_0x37b1a1(0xe5)];let _0x1e1665=-0x1;do{_0x5d7c1a/=_0x55b620,++_0x1e1665;}while(Math['abs'](_0x5d7c1a)>=_0x55b620&&_0x1e1665<_0x4cccca[_0x37b1a1(0x116)]-0x1);return _0x5d7c1a['toFixed'](_0x4c15e0)+'\x20'+_0x4cccca[_0x1e1665];}function createElementStorage(_0x495d0b,_0x1871af,_0x1d2c5b){const _0x5f02b7=a0_0x560c73,_0x4e370c=document[_0x5f02b7(0xd2)](_0x5f02b7(0xfd));_0x4e370c[_0x5f02b7(0xff)][_0x5f02b7(0x105)](_0x5f02b7(0xf8),_0x5f02b7(0xf2),_0x5f02b7(0xfe)),_0x495d0b[_0x5f02b7(0xe1)](_0x4e370c);const _0x3077c4=document[_0x5f02b7(0xd2)](_0x5f02b7(0xe2));_0x3077c4[_0x5f02b7(0xd1)]=_0x1871af,_0x3077c4[_0x5f02b7(0xff)]['add'](_0x5f02b7(0xf8)),_0x4e370c[_0x5f02b7(0xe1)](_0x3077c4),_0x3077c4[_0x5f02b7(0xec)]=()=>{const _0x1dc673=_0x5f02b7,_0x41f5bc=document[_0x1dc673(0xd2)]('dialog');_0x41f5bc[_0x1dc673(0x100)]=()=>_0x41f5bc['remove'](),_0x495d0b[_0x1dc673(0xe1)](_0x41f5bc);const _0x56166a=document[_0x1dc673(0xd2)](_0x1dc673(0xfd));_0x56166a[_0x1dc673(0xff)][_0x1dc673(0x105)](_0x1dc673(0xfa),_0x1dc673(0x101),_0x1dc673(0x111)),_0x41f5bc[_0x1dc673(0xe1)](_0x56166a);const _0xb9384a=document[_0x1dc673(0xd2)]('div');_0xb9384a[_0x1dc673(0xff)][_0x1dc673(0x105)](_0x1dc673(0xd4),'bc','flex-1'),_0x56166a[_0x1dc673(0xe1)](_0xb9384a);const _0x37f49e=document[_0x1dc673(0xd2)]('div');_0x37f49e[_0x1dc673(0xff)]['add']('flex-1'),_0x56166a[_0x1dc673(0xe1)](_0x37f49e);const _0x175d63=document['createElement'](_0x1dc673(0xfd));_0x175d63[_0x1dc673(0xff)][_0x1dc673(0x105)](_0x1dc673(0xf8)),_0x56166a[_0x1dc673(0xe1)](_0x175d63);const _0x29d9f2=document[_0x1dc673(0xd2)](_0x1dc673(0xfd));_0x29d9f2['classList']['add']('flex-1'),_0x56166a[_0x1dc673(0xe1)](_0x29d9f2),mgbaStorage[_0x1dc673(0xff)][_0x1dc673(0x105)]('opacity0'),_0xb9384a[_0x1dc673(0xec)]=()=>{const _0x4618bb=_0x1dc673;_0x41f5bc[_0x4618bb(0x113)](),_0x41f5bc['remove'](),mgbaStorage[_0x4618bb(0xff)][_0x4618bb(0xe8)](_0x4618bb(0x10b));};const _0x41c10b=document[_0x1dc673(0xd2)](_0x1dc673(0xfd));_0x41c10b[_0x1dc673(0xff)][_0x1dc673(0x105)]('flex-1',_0x1dc673(0xf2),'hw','cw'),_0x41c10b['textContent']=_0x1871af,_0x41f5bc[_0x1dc673(0xe1)](_0x41c10b);const _0x89e04f=document[_0x1dc673(0xd2)](_0x1dc673(0xfd));_0x89e04f[_0x1dc673(0xff)][_0x1dc673(0x105)](_0x1dc673(0x115),'hw','cw',_0x1dc673(0x109)),_0x41f5bc['appendChild'](_0x89e04f);const _0x30c343=document[_0x1dc673(0xd2)]('div');_0x30c343['classList']['add'](_0x1dc673(0xde),'bc'),_0x89e04f[_0x1dc673(0xe1)](_0x30c343),_0x30c343[_0x1dc673(0xec)]=()=>{const _0x72f47e=_0x1dc673;a0_0x233a40[_0x72f47e(0xf5)](_0x1d2c5b,_0x1871af);};const _0x1edab6=document[_0x1dc673(0xd2)](_0x1dc673(0xfd));_0x1edab6[_0x1dc673(0xff)][_0x1dc673(0x105)]('delete','bc'),_0x89e04f['appendChild'](_0x1edab6),_0x1edab6['onclick']=async()=>{const _0x4e7d05=_0x1dc673;if(window[_0x4e7d05(0xdc)]('Delete\x20this\x20file?'+_0x1871af)){const _0x4e0430=_0x1871af['replace'](/\....$/,_0x4e7d05(0xf7));a0_0x233a40[_0x4e7d05(0x10a)](_0x1d2c5b),localStorage['removeItem'](_0x4e0430+'_dateState'+_0x1871af[_0x4e7d05(0xf4)](-0x1)),localStorage[_0x4e7d05(0xe7)](_0x4e0430+'_imageState'+_0x1871af[_0x4e7d05(0xf4)](-0x1)),localStorageFile(),_0x41f5bc[_0x4e7d05(0x113)](),_0x41f5bc[_0x4e7d05(0xe8)](),mgbaStorage[_0x4e7d05(0xff)][_0x4e7d05(0xe8)](_0x4e7d05(0x10b));}};const _0x4a9533=document[_0x1dc673(0xd2)](_0x1dc673(0xfd));_0x4a9533[_0x1dc673(0xff)][_0x1dc673(0x105)](_0x1dc673(0xeb),'bc'),_0x89e04f[_0x1dc673(0xe1)](_0x4a9533),_0x4a9533[_0x1dc673(0xec)]=async()=>{const _0x1318e4=_0x1dc673,_0x47dd41=window[_0x1318e4(0xe6)](_0x1318e4(0xe9),_0x1871af);_0x47dd41!==null&&(a0_0x233a40['editFile'](_0x1d2c5b,_0x1871af,_0x47dd41),localStorageFile(),_0x41f5bc[_0x1318e4(0x113)](),_0x41f5bc[_0x1318e4(0xe8)](),mgbaStorage[_0x1318e4(0xff)][_0x1318e4(0xe8)](_0x1318e4(0x10b)));},_0x41f5bc['showModal']();};const _0x232202=document[_0x5f02b7(0xd2)](_0x5f02b7(0xe2));_0x232202[_0x5f02b7(0xd1)]=humanFileSize(a0_0x233a40[_0x5f02b7(0xd6)](_0x1d2c5b)),_0x232202[_0x5f02b7(0xff)]['add'](_0x5f02b7(0xd0)),_0x4e370c[_0x5f02b7(0xe1)](_0x232202);}export function localStorageFile(){const _0x3465d1=a0_0x560c73,_0x53d891=a0_0x233a40[_0x3465d1(0x114)](_0x3465d1(0xd9)),_0x208398=a0_0x233a40[_0x3465d1(0x114)]('saves'),_0x473ec7=a0_0x233a40[_0x3465d1(0x114)](_0x3465d1(0xea)),_0x404bca=a0_0x233a40[_0x3465d1(0x114)](_0x3465d1(0xd7)),_0x58e3c1=a0_0x233a40[_0x3465d1(0x114)](_0x3465d1(0xda)),_0x4cf3f9=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3ee022 of _0x4cf3f9){while(_0x3ee022[_0x3465d1(0xe0)]){_0x3ee022[_0x3465d1(0xdb)][_0x3465d1(0xe8)]();}}for(const _0x5a98d1 of _0x53d891){createElementStorage(romsFile,_0x5a98d1,'/data/games/'+_0x5a98d1);}for(const _0x5e3f7b of _0x473ec7){createElementStorage(statesFile,_0x5e3f7b,_0x3465d1(0xf1)+_0x5e3f7b);}for(const _0x4b28f9 of _0x208398){createElementStorage(savesFile,_0x4b28f9,_0x3465d1(0x110)+_0x4b28f9);}for(const _0x46c5ce of _0x404bca){createElementStorage(cheatsFile,_0x46c5ce,_0x3465d1(0x10c)+_0x46c5ce);}for(const _0x4ae06c of _0x58e3c1){createElementStorage(screenshotsFile,_0x4ae06c,'/data/screenshots/'+_0x4ae06c);}}document[a0_0x560c73(0x102)](a0_0x560c73(0xed),function(){const _0x479b22=a0_0x560c73;upLoadFile['addEventListener'](_0x479b22(0xf6),function(){a0_0x233a40['uploadFile'](upLoadFile);}),openLocalStorage[_0x479b22(0x102)]('click',function(){const _0x3663be=_0x479b22,_0x4fb17d=localStorage[_0x3663be(0x112)](_0x3663be(0xe4));storage['classList'][_0x3663be(0xe8)](_0x3663be(0xfc)),intro[_0x3663be(0xff)][_0x3663be(0x105)]('disable'),ingame[_0x3663be(0xff)][_0x3663be(0x105)](_0x3663be(0xfc)),_0x4fb17d===null||_0x4fb17d===''?(dropboxRestore[_0x3663be(0xff)]['remove'](_0x3663be(0xdd)),dropboxBackup[_0x3663be(0xff)][_0x3663be(0xe8)](_0x3663be(0xdd)),dropboxCloud[_0x3663be(0xff)]['remove'](_0x3663be(0xdd))):(dropboxRestore[_0x3663be(0xff)][_0x3663be(0x105)]('active'),dropboxBackup[_0x3663be(0xff)][_0x3663be(0x105)](_0x3663be(0xdd)),dropboxCloud[_0x3663be(0xff)][_0x3663be(0x105)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});