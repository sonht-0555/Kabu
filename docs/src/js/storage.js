const a0_0x5bd915=a0_0x1b73;(function(_0x50cd13,_0x19baa3){const _0x56f375=a0_0x1b73,_0x58cac8=_0x50cd13();while(!![]){try{const _0x2222e9=-parseInt(_0x56f375(0x1cb))/0x1*(-parseInt(_0x56f375(0x1dc))/0x2)+parseInt(_0x56f375(0x205))/0x3*(parseInt(_0x56f375(0x1e8))/0x4)+-parseInt(_0x56f375(0x1d7))/0x5+parseInt(_0x56f375(0x1f0))/0x6*(parseInt(_0x56f375(0x20a))/0x7)+parseInt(_0x56f375(0x1d4))/0x8*(-parseInt(_0x56f375(0x1d3))/0x9)+-parseInt(_0x56f375(0x1ff))/0xa*(parseInt(_0x56f375(0x1f2))/0xb)+-parseInt(_0x56f375(0x208))/0xc*(-parseInt(_0x56f375(0x1e5))/0xd);if(_0x2222e9===_0x19baa3)break;else _0x58cac8['push'](_0x58cac8['shift']());}catch(_0x124c7a){_0x58cac8['push'](_0x58cac8['shift']());}}}(a0_0x557d,0x7c7f0));function a0_0x1b73(_0x345598,_0x3de245){const _0x557d2e=a0_0x557d();return a0_0x1b73=function(_0x1b73a2,_0x4dee99){_0x1b73a2=_0x1b73a2-0x1c4;let _0x3a5a1d=_0x557d2e[_0x1b73a2];return _0x3a5a1d;},a0_0x1b73(_0x345598,_0x3de245);}import*as a0_0xb90ee from'./main.js';const mgbaStorage=document[a0_0x5bd915(0x1e6)](a0_0x5bd915(0x1e0)),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x5bd915(0x1e6)]('romsFile'),statesFile=document[a0_0x5bd915(0x1e6)]('statesFile'),screenshotsFile=document['getElementById'](a0_0x5bd915(0x1f1));function humanFileSize(_0x193a0c,_0x340270=![],_0x480613=0x1){const _0x28c06e=a0_0x5bd915,_0x456255=_0x340270?0x3e8:0x400,_0xe5bfd8=_0x340270?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x28c06e(0x1ec),_0x28c06e(0x1e3),'GiB',_0x28c06e(0x201),'PiB','EiB',_0x28c06e(0x1d0),_0x28c06e(0x1e1)];let _0x4a836f=-0x1;do{_0x193a0c/=_0x456255,++_0x4a836f;}while(Math[_0x28c06e(0x1ef)](_0x193a0c)>=_0x456255&&_0x4a836f<_0xe5bfd8[_0x28c06e(0x204)]-0x1);return _0x193a0c[_0x28c06e(0x1c4)](_0x480613)+'\x20'+_0xe5bfd8[_0x4a836f];}function a0_0x557d(){const _0x4dd0e2=['change','deleteFile','mgba-storage','YiB','listFiles','MiB','classList','50024sJBwVl','getElementById','createElement','3932LhHTjA','close','flex-1','slice','KiB','/data/cheats/','textContent','abs','250788YzDMHG','screenshotsFile','242iBUfFw','onclose','editFile','confirm','uId','home','onclick','rename','DOMContentLoaded','uploadFile','div','/data/screenshots/','appendChild','61550RHUTXV','active','TiB','_dateState','addEventListener','length','777SlzZIY','mib','download','336KyhFSj','showModal','133fnoSNU','games','toFixed','removeItem','gap-16','remove','states','opacity0','dialog','57oUqmFF','.gba','Delete\x20this\x20file?','rom','saves','ZiB','firstChild','downloadFile','5598wcgdSJ','8456dpHBrn','rom-item','delete','1938680OWquzh','Edit\x20filename','disable','add','prompt','18738Qmjrqv','cheats'];a0_0x557d=function(){return _0x4dd0e2;};return a0_0x557d();}function createElementStorage(_0x58dbc0,_0x4f5edf,_0x7373eb){const _0x3d2816=a0_0x5bd915,_0x2327dd=document[_0x3d2816(0x1e7)](_0x3d2816(0x1fc));_0x2327dd[_0x3d2816(0x1e4)][_0x3d2816(0x1da)](_0x3d2816(0x1ea),_0x3d2816(0x1d5),_0x3d2816(0x1ce)),_0x58dbc0[_0x3d2816(0x1fe)](_0x2327dd);const _0xeec5b8=document[_0x3d2816(0x1e7)]('span');_0xeec5b8['textContent']=_0x4f5edf,_0xeec5b8[_0x3d2816(0x1e4)][_0x3d2816(0x1da)](_0x3d2816(0x1ea)),_0x2327dd[_0x3d2816(0x1fe)](_0xeec5b8),_0xeec5b8[_0x3d2816(0x1f8)]=()=>{const _0x38ae48=_0x3d2816,_0x287705=document[_0x38ae48(0x1e7)](_0x38ae48(0x1ca));_0x287705[_0x38ae48(0x1f3)]=()=>_0x287705[_0x38ae48(0x1c7)](),_0x58dbc0[_0x38ae48(0x1fe)](_0x287705);const _0xb0e588=document[_0x38ae48(0x1e7)](_0x38ae48(0x1fc));_0xb0e588[_0x38ae48(0x1e4)]['add']('storage','right','gap-10'),_0x287705[_0x38ae48(0x1fe)](_0xb0e588);const _0x148998=document[_0x38ae48(0x1e7)](_0x38ae48(0x1fc));_0x148998[_0x38ae48(0x1e4)][_0x38ae48(0x1da)](_0x38ae48(0x1f7),'bc','flex-1'),_0xb0e588[_0x38ae48(0x1fe)](_0x148998);const _0x2e6272=document[_0x38ae48(0x1e7)](_0x38ae48(0x1fc));_0x2e6272[_0x38ae48(0x1e4)][_0x38ae48(0x1da)](_0x38ae48(0x1ea)),_0xb0e588[_0x38ae48(0x1fe)](_0x2e6272);const _0xb5c002=document[_0x38ae48(0x1e7)]('div');_0xb5c002[_0x38ae48(0x1e4)]['add'](_0x38ae48(0x1ea)),_0xb0e588[_0x38ae48(0x1fe)](_0xb5c002);const _0x356acf=document[_0x38ae48(0x1e7)](_0x38ae48(0x1fc));_0x356acf[_0x38ae48(0x1e4)][_0x38ae48(0x1da)](_0x38ae48(0x1ea)),_0xb0e588[_0x38ae48(0x1fe)](_0x356acf),mgbaStorage[_0x38ae48(0x1e4)][_0x38ae48(0x1da)](_0x38ae48(0x1c9)),_0x148998[_0x38ae48(0x1f8)]=()=>{const _0x4c6278=_0x38ae48;_0x287705[_0x4c6278(0x1e9)](),_0x287705[_0x4c6278(0x1c7)](),mgbaStorage[_0x4c6278(0x1e4)][_0x4c6278(0x1c7)](_0x4c6278(0x1c9));};const _0x19e891=document[_0x38ae48(0x1e7)](_0x38ae48(0x1fc));_0x19e891[_0x38ae48(0x1e4)][_0x38ae48(0x1da)](_0x38ae48(0x1ea),_0x38ae48(0x1d5),'hw','cw'),_0x19e891[_0x38ae48(0x1ee)]=_0x4f5edf,_0x287705[_0x38ae48(0x1fe)](_0x19e891);const _0x4a8ad7=document[_0x38ae48(0x1e7)]('div');_0x4a8ad7[_0x38ae48(0x1e4)]['add']('actionDiv','hw','cw',_0x38ae48(0x1c6)),_0x287705[_0x38ae48(0x1fe)](_0x4a8ad7);const _0x451f96=document[_0x38ae48(0x1e7)]('div');_0x451f96['classList']['add'](_0x38ae48(0x207),'bc'),_0x4a8ad7[_0x38ae48(0x1fe)](_0x451f96),_0x451f96[_0x38ae48(0x1f8)]=()=>{const _0x1c2906=_0x38ae48;a0_0xb90ee[_0x1c2906(0x1d2)](_0x7373eb,_0x4f5edf);};const _0x34945c=document['createElement'](_0x38ae48(0x1fc));_0x34945c[_0x38ae48(0x1e4)]['add'](_0x38ae48(0x1d6),'bc'),_0x4a8ad7[_0x38ae48(0x1fe)](_0x34945c),_0x34945c[_0x38ae48(0x1f8)]=async()=>{const _0x1e1d53=_0x38ae48;if(window[_0x1e1d53(0x1f5)](_0x1e1d53(0x1cd)+_0x4f5edf)){const _0x4a846b=_0x4f5edf['replace'](/\....$/,_0x1e1d53(0x1cc));a0_0xb90ee[_0x1e1d53(0x1df)](_0x7373eb),localStorage[_0x1e1d53(0x1c5)](_0x4a846b+_0x1e1d53(0x202)+_0x4f5edf['slice'](-0x1)),localStorage[_0x1e1d53(0x1c5)](_0x4a846b+'_imageState'+_0x4f5edf[_0x1e1d53(0x1eb)](-0x1)),localStorageFile(),_0x287705['close'](),_0x287705[_0x1e1d53(0x1c7)](),mgbaStorage['classList'][_0x1e1d53(0x1c7)](_0x1e1d53(0x1c9));}};const _0x5bd402=document[_0x38ae48(0x1e7)](_0x38ae48(0x1fc));_0x5bd402[_0x38ae48(0x1e4)]['add'](_0x38ae48(0x1f9),'bc'),_0x4a8ad7[_0x38ae48(0x1fe)](_0x5bd402),_0x5bd402[_0x38ae48(0x1f8)]=async()=>{const _0x5ca164=_0x38ae48,_0x1a29bb=window[_0x5ca164(0x1db)](_0x5ca164(0x1d8),_0x4f5edf);_0x1a29bb!==null&&(a0_0xb90ee[_0x5ca164(0x1f4)](_0x7373eb,_0x4f5edf,_0x1a29bb),localStorageFile(),_0x287705[_0x5ca164(0x1e9)](),_0x287705['remove'](),mgbaStorage['classList'][_0x5ca164(0x1c7)]('opacity0'));},_0x287705[_0x38ae48(0x209)]();};const _0x311236=document[_0x3d2816(0x1e7)]('span');_0x311236[_0x3d2816(0x1ee)]=humanFileSize(a0_0xb90ee['fileSize'](_0x7373eb)),_0x311236['classList'][_0x3d2816(0x1da)](_0x3d2816(0x206)),_0x2327dd[_0x3d2816(0x1fe)](_0x311236);}export function localStorageFile(){const _0x2c1a4a=a0_0x5bd915,_0x19d143=a0_0xb90ee[_0x2c1a4a(0x1e2)](_0x2c1a4a(0x20b)),_0x3d8c74=a0_0xb90ee['listFiles'](_0x2c1a4a(0x1cf)),_0x2a6ff3=a0_0xb90ee[_0x2c1a4a(0x1e2)](_0x2c1a4a(0x1c8)),_0x2610c0=a0_0xb90ee[_0x2c1a4a(0x1e2)](_0x2c1a4a(0x1dd)),_0x32043e=a0_0xb90ee[_0x2c1a4a(0x1e2)]('screenshots'),_0x22a8bd=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3c8336 of _0x22a8bd){while(_0x3c8336[_0x2c1a4a(0x1d1)]){_0x3c8336['lastChild'][_0x2c1a4a(0x1c7)]();}}for(const _0x51f302 of _0x19d143){createElementStorage(romsFile,_0x51f302,'/data/games/'+_0x51f302);}for(const _0x3a82f9 of _0x2a6ff3){createElementStorage(statesFile,_0x3a82f9,'/data/states/'+_0x3a82f9);}for(const _0xf75537 of _0x3d8c74){createElementStorage(savesFile,_0xf75537,'/data/saves/'+_0xf75537);}for(const _0x284a74 of _0x2610c0){createElementStorage(cheatsFile,_0x284a74,_0x2c1a4a(0x1ed)+_0x284a74);}for(const _0x59386f of _0x32043e){createElementStorage(screenshotsFile,_0x59386f,_0x2c1a4a(0x1fd)+_0x59386f);}}document[a0_0x5bd915(0x203)](a0_0x5bd915(0x1fa),function(){const _0x5956d1=a0_0x5bd915;upLoadFile[_0x5956d1(0x203)](_0x5956d1(0x1de),function(){const _0x47f210=_0x5956d1;a0_0xb90ee[_0x47f210(0x1fb)](upLoadFile);}),openLocalStorage['addEventListener']('click',function(){const _0x12c111=_0x5956d1,_0x849534=localStorage['getItem'](_0x12c111(0x1f6));storage['classList'][_0x12c111(0x1c7)](_0x12c111(0x1d9)),intro[_0x12c111(0x1e4)][_0x12c111(0x1da)](_0x12c111(0x1d9)),ingame[_0x12c111(0x1e4)][_0x12c111(0x1da)]('disable'),_0x849534===null||_0x849534===''?(dropboxRestore['classList'][_0x12c111(0x1c7)](_0x12c111(0x200)),dropboxBackup[_0x12c111(0x1e4)][_0x12c111(0x1c7)]('active'),dropboxCloud[_0x12c111(0x1e4)][_0x12c111(0x1c7)](_0x12c111(0x200))):(dropboxRestore[_0x12c111(0x1e4)][_0x12c111(0x1da)]('active'),dropboxBackup[_0x12c111(0x1e4)][_0x12c111(0x1da)](_0x12c111(0x200)),dropboxCloud[_0x12c111(0x1e4)][_0x12c111(0x1da)](_0x12c111(0x200)));}),setTimeout(()=>{localStorageFile();},0xbb8);});