const a0_0x3a59a1=a0_0x2753;(function(_0x3ce077,_0x511ced){const _0x46966a=a0_0x2753,_0xf807c3=_0x3ce077();while(!![]){try{const _0x5c0ea8=-parseInt(_0x46966a(0xf0))/0x1+-parseInt(_0x46966a(0xe2))/0x2+-parseInt(_0x46966a(0x10c))/0x3+parseInt(_0x46966a(0xf7))/0x4+parseInt(_0x46966a(0xc5))/0x5+-parseInt(_0x46966a(0x104))/0x6*(parseInt(_0x46966a(0xf9))/0x7)+-parseInt(_0x46966a(0xc6))/0x8*(-parseInt(_0x46966a(0xd5))/0x9);if(_0x5c0ea8===_0x511ced)break;else _0xf807c3['push'](_0xf807c3['shift']());}catch(_0x1bd05a){_0xf807c3['push'](_0xf807c3['shift']());}}}(a0_0x2107,0x2c957));function a0_0x2753(_0x3b1e12,_0x1ec37b){const _0x210755=a0_0x2107();return a0_0x2753=function(_0x275380,_0xef27b4){_0x275380=_0x275380-0xc0;let _0x5853f7=_0x210755[_0x275380];return _0x5853f7;},a0_0x2753(_0x3b1e12,_0x1ec37b);}function a0_0x2107(){const _0x13b30e=['saves','statesFile','2802906oKAOgA','showModal','YiB','downloadFile','lastChild','close','disable','.gba','fileSize','createElement','/data/states/','getItem','deleteFile','519376qPKXqW','GiB','length','screenshotsFile','editFile','classList','div','gap-10','onclick','actionDiv','rename','DOMContentLoaded','add','toFixed','33638AadeaB','listFiles','/data/saves/','/data/cheats/','Edit\x20filename','PiB','change','132908mUEolV','abs','91knOZaT','getElementById','Delete\x20this\x20file?','textContent','addEventListener','storage','MiB','romsFile','_imageState','flex-1','delete','61554lDKOeq','uId','slice','appendChild','savesFile','gap-16','mib','TiB','639789bxaSSD','rom','removeItem','opacity0','download','firstChild','832380viiCyB','16XCWKwS','EiB','rom-item','states','span','remove','prompt','home','onclose','KiB','ZiB','screenshots','active'];a0_0x2107=function(){return _0x13b30e;};return a0_0x2107();}import*as a0_0x940395 from'./main.js';const mgbaStorage=document[a0_0x3a59a1(0xfa)]('mgba-storage'),savesFile=document[a0_0x3a59a1(0xfa)](a0_0x3a59a1(0x108)),romsFile=document[a0_0x3a59a1(0xfa)](a0_0x3a59a1(0x100)),statesFile=document[a0_0x3a59a1(0xfa)](a0_0x3a59a1(0xd4)),screenshotsFile=document['getElementById'](a0_0x3a59a1(0xe5));function humanFileSize(_0x5d149b,_0x45b7cb=![],_0x161680=0x1){const _0x39f1e0=a0_0x3a59a1,_0x46147e=_0x45b7cb?0x3e8:0x400,_0x16a8e5=_0x45b7cb?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x39f1e0(0xcf),_0x39f1e0(0xff),_0x39f1e0(0xe3),_0x39f1e0(0x10b),_0x39f1e0(0xf5),_0x39f1e0(0xc7),_0x39f1e0(0xd0),_0x39f1e0(0xd7)];let _0x21b717=-0x1;do{_0x5d149b/=_0x46147e,++_0x21b717;}while(Math[_0x39f1e0(0xf8)](_0x5d149b)>=_0x46147e&&_0x21b717<_0x16a8e5[_0x39f1e0(0xe4)]-0x1);return _0x5d149b[_0x39f1e0(0xef)](_0x161680)+'\x20'+_0x16a8e5[_0x21b717];}function createElementStorage(_0x26f5bc,_0x553bf7,_0x3aa85c){const _0x13dc84=a0_0x3a59a1,_0x2d171c=document[_0x13dc84(0xde)]('div');_0x2d171c[_0x13dc84(0xe7)][_0x13dc84(0xee)](_0x13dc84(0x102),_0x13dc84(0xc8),_0x13dc84(0xc0)),_0x26f5bc[_0x13dc84(0x107)](_0x2d171c);const _0x1c8d73=document[_0x13dc84(0xde)](_0x13dc84(0xca));_0x1c8d73[_0x13dc84(0xfc)]=_0x553bf7,_0x1c8d73[_0x13dc84(0xe7)][_0x13dc84(0xee)]('flex-1'),_0x2d171c[_0x13dc84(0x107)](_0x1c8d73),_0x1c8d73[_0x13dc84(0xea)]=()=>{const _0x17f8e4=_0x13dc84,_0x43f55b=document[_0x17f8e4(0xde)]('dialog');_0x43f55b[_0x17f8e4(0xce)]=()=>_0x43f55b[_0x17f8e4(0xcb)](),_0x26f5bc[_0x17f8e4(0x107)](_0x43f55b);const _0x31992c=document[_0x17f8e4(0xde)]('div');_0x31992c[_0x17f8e4(0xe7)][_0x17f8e4(0xee)](_0x17f8e4(0xfe),'right',_0x17f8e4(0xe9)),_0x43f55b[_0x17f8e4(0x107)](_0x31992c);const _0x165956=document[_0x17f8e4(0xde)](_0x17f8e4(0xe8));_0x165956['classList']['add'](_0x17f8e4(0xcd),'bc','flex-1'),_0x31992c['appendChild'](_0x165956);const _0x1e9d5b=document[_0x17f8e4(0xde)](_0x17f8e4(0xe8));_0x1e9d5b[_0x17f8e4(0xe7)][_0x17f8e4(0xee)](_0x17f8e4(0x102)),_0x31992c[_0x17f8e4(0x107)](_0x1e9d5b);const _0x30bad8=document[_0x17f8e4(0xde)](_0x17f8e4(0xe8));_0x30bad8[_0x17f8e4(0xe7)][_0x17f8e4(0xee)](_0x17f8e4(0x102)),_0x31992c[_0x17f8e4(0x107)](_0x30bad8);const _0x568fec=document[_0x17f8e4(0xde)](_0x17f8e4(0xe8));_0x568fec['classList'][_0x17f8e4(0xee)](_0x17f8e4(0x102)),_0x31992c[_0x17f8e4(0x107)](_0x568fec),mgbaStorage[_0x17f8e4(0xe7)][_0x17f8e4(0xee)]('opacity0'),_0x165956['onclick']=()=>{const _0x103431=_0x17f8e4;_0x43f55b[_0x103431(0xda)](),_0x43f55b[_0x103431(0xcb)](),mgbaStorage[_0x103431(0xe7)][_0x103431(0xcb)](_0x103431(0xc2));};const _0x4b5e2b=document[_0x17f8e4(0xde)]('div');_0x4b5e2b['classList'][_0x17f8e4(0xee)](_0x17f8e4(0x102),'rom-item','hw','cw'),_0x4b5e2b['textContent']=_0x553bf7,_0x43f55b['appendChild'](_0x4b5e2b);const _0x22debb=document[_0x17f8e4(0xde)]('div');_0x22debb['classList'][_0x17f8e4(0xee)](_0x17f8e4(0xeb),'hw','cw',_0x17f8e4(0x109)),_0x43f55b[_0x17f8e4(0x107)](_0x22debb);const _0x2fef86=document[_0x17f8e4(0xde)](_0x17f8e4(0xe8));_0x2fef86['classList'][_0x17f8e4(0xee)](_0x17f8e4(0xc3),'bc'),_0x22debb[_0x17f8e4(0x107)](_0x2fef86),_0x2fef86[_0x17f8e4(0xea)]=()=>{const _0x50f08e=_0x17f8e4;a0_0x940395[_0x50f08e(0xd8)](_0x3aa85c,_0x553bf7);};const _0x4a688a=document[_0x17f8e4(0xde)](_0x17f8e4(0xe8));_0x4a688a[_0x17f8e4(0xe7)][_0x17f8e4(0xee)](_0x17f8e4(0x103),'bc'),_0x22debb[_0x17f8e4(0x107)](_0x4a688a),_0x4a688a['onclick']=async()=>{const _0x190ff0=_0x17f8e4;if(window['confirm'](_0x190ff0(0xfb)+_0x553bf7)){const _0x269e25=_0x553bf7['replace'](/\....$/,_0x190ff0(0xdc));a0_0x940395[_0x190ff0(0xe1)](_0x3aa85c),localStorage[_0x190ff0(0xc1)](_0x269e25+'_dateState'+_0x553bf7['slice'](-0x1)),localStorage[_0x190ff0(0xc1)](_0x269e25+_0x190ff0(0x101)+_0x553bf7[_0x190ff0(0x106)](-0x1)),localStorageFile(),_0x43f55b['close'](),_0x43f55b[_0x190ff0(0xcb)](),mgbaStorage[_0x190ff0(0xe7)][_0x190ff0(0xcb)](_0x190ff0(0xc2));}};const _0x407f52=document['createElement'](_0x17f8e4(0xe8));_0x407f52[_0x17f8e4(0xe7)][_0x17f8e4(0xee)](_0x17f8e4(0xec),'bc'),_0x22debb[_0x17f8e4(0x107)](_0x407f52),_0x407f52[_0x17f8e4(0xea)]=async()=>{const _0x190198=_0x17f8e4,_0x4c7a88=window[_0x190198(0xcc)](_0x190198(0xf4),_0x553bf7);_0x4c7a88!==null&&(a0_0x940395[_0x190198(0xe6)](_0x3aa85c,_0x553bf7,_0x4c7a88),localStorageFile(),_0x43f55b['close'](),_0x43f55b[_0x190198(0xcb)](),mgbaStorage[_0x190198(0xe7)][_0x190198(0xcb)](_0x190198(0xc2)));},_0x43f55b[_0x17f8e4(0xd6)]();};const _0x478db9=document[_0x13dc84(0xde)](_0x13dc84(0xca));_0x478db9['textContent']=humanFileSize(a0_0x940395[_0x13dc84(0xdd)](_0x3aa85c)),_0x478db9[_0x13dc84(0xe7)][_0x13dc84(0xee)](_0x13dc84(0x10a)),_0x2d171c[_0x13dc84(0x107)](_0x478db9);}export function localStorageFile(){const _0x1e526b=a0_0x3a59a1,_0x561411=a0_0x940395[_0x1e526b(0xf1)]('games'),_0xdd9f0f=a0_0x940395['listFiles'](_0x1e526b(0xd3)),_0x304677=a0_0x940395[_0x1e526b(0xf1)](_0x1e526b(0xc9)),_0x5b79b8=a0_0x940395[_0x1e526b(0xf1)]('cheats'),_0x3a3c84=a0_0x940395[_0x1e526b(0xf1)](_0x1e526b(0xd1)),_0x35c1b2=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5cc06e of _0x35c1b2){while(_0x5cc06e[_0x1e526b(0xc4)]){_0x5cc06e[_0x1e526b(0xd9)][_0x1e526b(0xcb)]();}}for(const _0x2f86c1 of _0x561411){createElementStorage(romsFile,_0x2f86c1,'/data/games/'+_0x2f86c1);}for(const _0x334850 of _0x304677){createElementStorage(statesFile,_0x334850,_0x1e526b(0xdf)+_0x334850);}for(const _0x519d73 of _0xdd9f0f){createElementStorage(savesFile,_0x519d73,_0x1e526b(0xf2)+_0x519d73);}for(const _0x3693f8 of _0x5b79b8){createElementStorage(cheatsFile,_0x3693f8,_0x1e526b(0xf3)+_0x3693f8);}for(const _0x57f1c5 of _0x3a3c84){createElementStorage(screenshotsFile,_0x57f1c5,'/data/screenshots/'+_0x57f1c5);}}document[a0_0x3a59a1(0xfd)](a0_0x3a59a1(0xed),function(){const _0x4cad74=a0_0x3a59a1;upLoadFile[_0x4cad74(0xfd)](_0x4cad74(0xf6),function(){a0_0x940395['uploadFile'](upLoadFile);}),openLocalStorage[_0x4cad74(0xfd)]('click',function(){const _0x4c528d=_0x4cad74,_0x166e19=localStorage[_0x4c528d(0xe0)](_0x4c528d(0x105));storage[_0x4c528d(0xe7)][_0x4c528d(0xcb)]('disable'),intro[_0x4c528d(0xe7)][_0x4c528d(0xee)](_0x4c528d(0xdb)),ingame[_0x4c528d(0xe7)][_0x4c528d(0xee)]('disable'),_0x166e19===null||_0x166e19===''?(dropboxRestore['classList']['remove'](_0x4c528d(0xd2)),dropboxBackup[_0x4c528d(0xe7)][_0x4c528d(0xcb)](_0x4c528d(0xd2)),dropboxCloud[_0x4c528d(0xe7)][_0x4c528d(0xcb)](_0x4c528d(0xd2))):(dropboxRestore[_0x4c528d(0xe7)]['add'](_0x4c528d(0xd2)),dropboxBackup['classList']['add']('active'),dropboxCloud[_0x4c528d(0xe7)][_0x4c528d(0xee)](_0x4c528d(0xd2)));}),setTimeout(()=>{localStorageFile();},0xbb8);});