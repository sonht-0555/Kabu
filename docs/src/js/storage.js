const a0_0x409d62=a0_0x5110;function a0_0x5110(_0x1a9042,_0x2eb7c8){const _0x20dcb1=a0_0x20dc();return a0_0x5110=function(_0x511069,_0x2f8cc6){_0x511069=_0x511069-0x72;let _0x57bd29=_0x20dcb1[_0x511069];return _0x57bd29;},a0_0x5110(_0x1a9042,_0x2eb7c8);}function a0_0x20dc(){const _0x56102e=['Delete\x20this\x20file?','mgba-storage','uploadFile','states','div','addEventListener','/data/screenshots/','417796JSrZCI','cheats','romsFile','saves','opacity0','272568iKMixb','flex-1','editFile','2258085IVwmWo','.gba','EiB','remove','statesFile','255256mRBzNH','ZiB','DOMContentLoaded','abs','showModal','1734297KJKupE','disable','change','removeItem','dialog','games','/data/states/','2901234VxlCHj','click','close','delete','fileSize','createElement','gap-16','active','screenshots','119sbABDE','firstChild','replace','textContent','onclose','rom-item','length','actionDiv','classList','screenshotsFile','confirm','uId','_imageState','getItem','downloadFile','283140FVwRkl','KiB','gap-10','mib','add','onclick','appendChild','savesFile','getElementById','_dateState','slice','storage','listFiles'];a0_0x20dc=function(){return _0x56102e;};return a0_0x20dc();}(function(_0x23ed2a,_0x2f3168){const _0x1fd037=a0_0x5110,_0x1c04ef=_0x23ed2a();while(!![]){try{const _0x3f2018=-parseInt(_0x1fd037(0x73))/0x1+-parseInt(_0x1fd037(0xa4))/0x2+-parseInt(_0x1fd037(0x85))/0x3+parseInt(_0x1fd037(0x78))/0x4+parseInt(_0x1fd037(0x7b))/0x5+parseInt(_0x1fd037(0x8c))/0x6+parseInt(_0x1fd037(0x95))/0x7*(parseInt(_0x1fd037(0x80))/0x8);if(_0x3f2018===_0x2f3168)break;else _0x1c04ef['push'](_0x1c04ef['shift']());}catch(_0x43e140){_0x1c04ef['push'](_0x1c04ef['shift']());}}}(a0_0x20dc,0x63abc));import*as a0_0x182ae3 from'./main.js';const mgbaStorage=document[a0_0x409d62(0xac)](a0_0x409d62(0xb2)),savesFile=document[a0_0x409d62(0xac)](a0_0x409d62(0xab)),romsFile=document[a0_0x409d62(0xac)](a0_0x409d62(0x75)),statesFile=document[a0_0x409d62(0xac)](a0_0x409d62(0x7f)),screenshotsFile=document[a0_0x409d62(0xac)](a0_0x409d62(0x9e));function humanFileSize(_0x14dc86,_0x1193df=![],_0x202cf3=0x1){const _0x4ad7d6=a0_0x409d62,_0x505ffe=_0x1193df?0x3e8:0x400,_0x3df667=_0x1193df?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4ad7d6(0xa5),'MiB','GiB','TiB','PiB',_0x4ad7d6(0x7d),_0x4ad7d6(0x81),'YiB'];let _0x4cb643=-0x1;do{_0x14dc86/=_0x505ffe,++_0x4cb643;}while(Math[_0x4ad7d6(0x83)](_0x14dc86)>=_0x505ffe&&_0x4cb643<_0x3df667[_0x4ad7d6(0x9b)]-0x1);return _0x14dc86['toFixed'](_0x202cf3)+'\x20'+_0x3df667[_0x4cb643];}function createElementStorage(_0x30e8d6,_0x2c0ec5,_0x541b02){const _0x52dd16=a0_0x409d62,_0x48e339=document[_0x52dd16(0x91)](_0x52dd16(0xb5));_0x48e339[_0x52dd16(0x9d)][_0x52dd16(0xa8)]('flex-1',_0x52dd16(0x9a),'rom'),_0x30e8d6[_0x52dd16(0xaa)](_0x48e339);const _0x50721f=document['createElement']('span');_0x50721f[_0x52dd16(0x98)]=_0x2c0ec5,_0x50721f[_0x52dd16(0x9d)][_0x52dd16(0xa8)](_0x52dd16(0x79)),_0x48e339['appendChild'](_0x50721f),_0x50721f['onclick']=()=>{const _0x367aa4=_0x52dd16,_0x3653b4=document[_0x367aa4(0x91)](_0x367aa4(0x89));_0x3653b4[_0x367aa4(0x99)]=()=>_0x3653b4[_0x367aa4(0x7e)](),_0x30e8d6[_0x367aa4(0xaa)](_0x3653b4);const _0x1dace5=document[_0x367aa4(0x91)](_0x367aa4(0xb5));_0x1dace5['classList'][_0x367aa4(0xa8)](_0x367aa4(0xaf),'right',_0x367aa4(0xa6)),_0x3653b4[_0x367aa4(0xaa)](_0x1dace5);const _0x4b6fa7=document[_0x367aa4(0x91)](_0x367aa4(0xb5));_0x4b6fa7[_0x367aa4(0x9d)]['add']('home','bc','flex-1'),_0x1dace5['appendChild'](_0x4b6fa7);const _0x2ff513=document[_0x367aa4(0x91)](_0x367aa4(0xb5));_0x2ff513['classList'][_0x367aa4(0xa8)](_0x367aa4(0x79)),_0x1dace5[_0x367aa4(0xaa)](_0x2ff513);const _0x3feb52=document[_0x367aa4(0x91)](_0x367aa4(0xb5));_0x3feb52['classList'][_0x367aa4(0xa8)](_0x367aa4(0x79)),_0x1dace5[_0x367aa4(0xaa)](_0x3feb52);const _0x1da260=document[_0x367aa4(0x91)]('div');_0x1da260[_0x367aa4(0x9d)][_0x367aa4(0xa8)]('flex-1'),_0x1dace5[_0x367aa4(0xaa)](_0x1da260),mgbaStorage[_0x367aa4(0x9d)][_0x367aa4(0xa8)](_0x367aa4(0x77)),_0x4b6fa7[_0x367aa4(0xa9)]=()=>{const _0x211e5c=_0x367aa4;_0x3653b4[_0x211e5c(0x8e)](),_0x3653b4['remove'](),mgbaStorage[_0x211e5c(0x9d)][_0x211e5c(0x7e)](_0x211e5c(0x77));};const _0x231fa3=document['createElement']('div');_0x231fa3[_0x367aa4(0x9d)][_0x367aa4(0xa8)](_0x367aa4(0x79),'rom-item','hw','cw'),_0x231fa3[_0x367aa4(0x98)]=_0x2c0ec5,_0x3653b4[_0x367aa4(0xaa)](_0x231fa3);const _0x684304=document['createElement']('div');_0x684304[_0x367aa4(0x9d)][_0x367aa4(0xa8)](_0x367aa4(0x9c),'hw','cw',_0x367aa4(0x92)),_0x3653b4[_0x367aa4(0xaa)](_0x684304);const _0x5ec2c2=document['createElement'](_0x367aa4(0xb5));_0x5ec2c2[_0x367aa4(0x9d)][_0x367aa4(0xa8)]('download','bc'),_0x684304[_0x367aa4(0xaa)](_0x5ec2c2),_0x5ec2c2[_0x367aa4(0xa9)]=()=>{const _0x31406f=_0x367aa4;a0_0x182ae3[_0x31406f(0xa3)](_0x541b02,_0x2c0ec5);};const _0x56e892=document['createElement'](_0x367aa4(0xb5));_0x56e892[_0x367aa4(0x9d)][_0x367aa4(0xa8)](_0x367aa4(0x8f),'bc'),_0x684304[_0x367aa4(0xaa)](_0x56e892),_0x56e892[_0x367aa4(0xa9)]=async()=>{const _0xae4eda=_0x367aa4;if(window[_0xae4eda(0x9f)](_0xae4eda(0xb1)+_0x2c0ec5)){const _0x4f35fe=_0x2c0ec5[_0xae4eda(0x97)](/\....$/,_0xae4eda(0x7c));a0_0x182ae3['deleteFile'](_0x541b02),localStorage[_0xae4eda(0x88)](_0x4f35fe+_0xae4eda(0xad)+_0x2c0ec5[_0xae4eda(0xae)](-0x1)),localStorage[_0xae4eda(0x88)](_0x4f35fe+_0xae4eda(0xa1)+_0x2c0ec5['slice'](-0x1)),localStorageFile(),_0x3653b4[_0xae4eda(0x8e)](),_0x3653b4[_0xae4eda(0x7e)](),mgbaStorage[_0xae4eda(0x9d)]['remove']('opacity0');}};const _0x5e93a3=document['createElement'](_0x367aa4(0xb5));_0x5e93a3[_0x367aa4(0x9d)][_0x367aa4(0xa8)]('rename','bc'),_0x684304[_0x367aa4(0xaa)](_0x5e93a3),_0x5e93a3[_0x367aa4(0xa9)]=async()=>{const _0x30d362=_0x367aa4,_0xdf2547=window['prompt']('Edit\x20filename',_0x2c0ec5);_0xdf2547!==null&&(a0_0x182ae3[_0x30d362(0x7a)](_0x541b02,_0x2c0ec5,_0xdf2547),localStorageFile(),_0x3653b4[_0x30d362(0x8e)](),_0x3653b4[_0x30d362(0x7e)](),mgbaStorage[_0x30d362(0x9d)][_0x30d362(0x7e)](_0x30d362(0x77)));},_0x3653b4[_0x367aa4(0x84)]();};const _0x1629ef=document[_0x52dd16(0x91)]('span');_0x1629ef[_0x52dd16(0x98)]=humanFileSize(a0_0x182ae3[_0x52dd16(0x90)](_0x541b02)),_0x1629ef['classList'][_0x52dd16(0xa8)](_0x52dd16(0xa7)),_0x48e339[_0x52dd16(0xaa)](_0x1629ef);}export function localStorageFile(){const _0x1fc84e=a0_0x409d62,_0x8fb252=a0_0x182ae3['listFiles'](_0x1fc84e(0x8a)),_0x48e985=a0_0x182ae3[_0x1fc84e(0xb0)](_0x1fc84e(0x76)),_0x4f5dfc=a0_0x182ae3[_0x1fc84e(0xb0)](_0x1fc84e(0xb4)),_0x588c6a=a0_0x182ae3[_0x1fc84e(0xb0)](_0x1fc84e(0x74)),_0x34c485=a0_0x182ae3[_0x1fc84e(0xb0)](_0x1fc84e(0x94)),_0x24adb3=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x18e6a7 of _0x24adb3){while(_0x18e6a7[_0x1fc84e(0x96)]){_0x18e6a7['lastChild']['remove']();}}for(const _0x34b98b of _0x8fb252){createElementStorage(romsFile,_0x34b98b,'/data/games/'+_0x34b98b);}for(const _0x3e6c2f of _0x4f5dfc){createElementStorage(statesFile,_0x3e6c2f,_0x1fc84e(0x8b)+_0x3e6c2f);}for(const _0xca1ec4 of _0x48e985){createElementStorage(savesFile,_0xca1ec4,'/data/saves/'+_0xca1ec4);}for(const _0x3a3fab of _0x588c6a){createElementStorage(cheatsFile,_0x3a3fab,'/data/cheats/'+_0x3a3fab);}for(const _0x523e8f of _0x34c485){createElementStorage(screenshotsFile,_0x523e8f,_0x1fc84e(0x72)+_0x523e8f);}}document[a0_0x409d62(0xb6)](a0_0x409d62(0x82),function(){const _0x1f25f9=a0_0x409d62;upLoadFile[_0x1f25f9(0xb6)](_0x1f25f9(0x87),function(){const _0x5d9dbd=_0x1f25f9;a0_0x182ae3[_0x5d9dbd(0xb3)](upLoadFile);}),openLocalStorage[_0x1f25f9(0xb6)](_0x1f25f9(0x8d),function(){const _0x4f14a6=_0x1f25f9,_0x5a0ff9=localStorage[_0x4f14a6(0xa2)](_0x4f14a6(0xa0));storage[_0x4f14a6(0x9d)][_0x4f14a6(0x7e)](_0x4f14a6(0x86)),intro['classList'][_0x4f14a6(0xa8)]('disable'),ingame[_0x4f14a6(0x9d)]['add'](_0x4f14a6(0x86)),_0x5a0ff9===null||_0x5a0ff9===''?(dropboxRestore[_0x4f14a6(0x9d)]['remove'](_0x4f14a6(0x93)),dropboxBackup['classList'][_0x4f14a6(0x7e)](_0x4f14a6(0x93)),dropboxCloud['classList'][_0x4f14a6(0x7e)](_0x4f14a6(0x93))):(dropboxRestore[_0x4f14a6(0x9d)]['add']('active'),dropboxBackup['classList']['add'](_0x4f14a6(0x93)),dropboxCloud['classList']['add'](_0x4f14a6(0x93)));}),setTimeout(()=>{localStorageFile();},0xbb8);});