const a0_0x24e5ef=a0_0x5db2;(function(_0x4e3da6,_0x3eaa3d){const _0x4e1019=a0_0x5db2,_0xe6ffcb=_0x4e3da6();while(!![]){try{const _0x4273ff=-parseInt(_0x4e1019(0x75))/0x1+parseInt(_0x4e1019(0xaf))/0x2*(parseInt(_0x4e1019(0x79))/0x3)+-parseInt(_0x4e1019(0x76))/0x4*(-parseInt(_0x4e1019(0x7b))/0x5)+-parseInt(_0x4e1019(0xab))/0x6*(parseInt(_0x4e1019(0x82))/0x7)+parseInt(_0x4e1019(0x94))/0x8*(-parseInt(_0x4e1019(0x8e))/0x9)+parseInt(_0x4e1019(0x8d))/0xa*(parseInt(_0x4e1019(0x90))/0xb)+-parseInt(_0x4e1019(0xa6))/0xc*(parseInt(_0x4e1019(0x9e))/0xd);if(_0x4273ff===_0x3eaa3d)break;else _0xe6ffcb['push'](_0xe6ffcb['shift']());}catch(_0x57359d){_0xe6ffcb['push'](_0xe6ffcb['shift']());}}}(a0_0x31c9,0xa85f0));import*as a0_0x7b3b9 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x24e5ef(0x7c)),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x24e5ef(0x9a)](a0_0x24e5ef(0xbe)),statesFile=document[a0_0x24e5ef(0x9a)](a0_0x24e5ef(0xa7)),screenshotsFile=document[a0_0x24e5ef(0x9a)](a0_0x24e5ef(0x80));function humanFileSize(_0x26f06e,_0xc4fbf7=![],_0x497ec9=0x1){const _0x2ef8b3=a0_0x24e5ef,_0x4e65e2=_0xc4fbf7?0x3e8:0x400,_0x3497df=_0xc4fbf7?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2ef8b3(0xa9),_0x2ef8b3(0xb5),_0x2ef8b3(0xb8),_0x2ef8b3(0xc1),_0x2ef8b3(0x7e),_0x2ef8b3(0xb9),'ZiB',_0x2ef8b3(0x85)];let _0x6ac9c4=-0x1;do{_0x26f06e/=_0x4e65e2,++_0x6ac9c4;}while(Math[_0x2ef8b3(0xae)](_0x26f06e)>=_0x4e65e2&&_0x6ac9c4<_0x3497df[_0x2ef8b3(0x99)]-0x1);return _0x26f06e[_0x2ef8b3(0x96)](_0x497ec9)+'\x20'+_0x3497df[_0x6ac9c4];}function a0_0x31c9(){const _0x3d7b1c=['active','romsFile','div','add','TiB','downloadFile','disable','679330OluOik','4mVAsZD','slice','textContent','12ZMyfdv','uId','4522415uFBFqZ','mgba-storage','firstChild','PiB','_imageState','screenshotsFile','mib','6787858lgzkzJ','listState','Delete\x20this\x20file?','YiB','removeItem','DOMContentLoaded','flex-1','download','addEventListener','classList','right','20ZkBjEt','49509kldpFN','_dateState','4809145pAvWGE','storage','createElement','onclose','24kYSPVz','listScreenshot','toFixed','actionDiv','uploadFile','length','getElementById','/data/games/','.gba','/data/cheats/','26aNksIp','onclick','home','rename','span','/data/saves/','/data/screenshots/','dialog','92316rNrovD','statesFile','gap-10','KiB','click','6XHRhRx','setItem','editFile','abs','295844fwUlul','showModal','getItem','listCheat','appendChild','change','MiB','prompt','listSave','GiB','EiB','remove','rom-item','replace'];a0_0x31c9=function(){return _0x3d7b1c;};return a0_0x31c9();}function createElementStorage(_0x41f86e,_0x2dcc76,_0x3ec48a){const _0x19d626=a0_0x24e5ef,_0x4b29dc=document['createElement'](_0x19d626(0xbf));_0x4b29dc[_0x19d626(0x8b)]['add']('flex-1',_0x19d626(0xbb),'rom'),_0x41f86e[_0x19d626(0xb3)](_0x4b29dc);const _0xaf8371=document[_0x19d626(0x92)](_0x19d626(0xa2));_0xaf8371['textContent']=_0x2dcc76,_0xaf8371[_0x19d626(0x8b)]['add'](_0x19d626(0x88)),_0x4b29dc['appendChild'](_0xaf8371),_0xaf8371[_0x19d626(0x9f)]=()=>{const _0x18d70c=_0x19d626,_0x107290=document[_0x18d70c(0x92)](_0x18d70c(0xa5));_0x107290[_0x18d70c(0x93)]=()=>_0x107290[_0x18d70c(0xba)](),_0x41f86e[_0x18d70c(0xb3)](_0x107290);const _0x2ec07a=document[_0x18d70c(0x92)]('div');_0x2ec07a[_0x18d70c(0x8b)][_0x18d70c(0xc0)](_0x18d70c(0x91),_0x18d70c(0x8c),_0x18d70c(0xa8)),_0x107290[_0x18d70c(0xb3)](_0x2ec07a);const _0xd9c130=document[_0x18d70c(0x92)]('div');_0xd9c130[_0x18d70c(0x8b)][_0x18d70c(0xc0)](_0x18d70c(0xa0),'bc',_0x18d70c(0x88)),_0x2ec07a[_0x18d70c(0xb3)](_0xd9c130);const _0x3705de=document['createElement']('div');_0x3705de[_0x18d70c(0x8b)]['add'](_0x18d70c(0x88)),_0x2ec07a[_0x18d70c(0xb3)](_0x3705de);const _0x237602=document['createElement']('div');_0x237602['classList'][_0x18d70c(0xc0)](_0x18d70c(0x88)),_0x2ec07a['appendChild'](_0x237602);const _0x401bd2=document['createElement'](_0x18d70c(0xbf));_0x401bd2[_0x18d70c(0x8b)][_0x18d70c(0xc0)](_0x18d70c(0x88)),_0x2ec07a['appendChild'](_0x401bd2),mgbaStorage[_0x18d70c(0x8b)][_0x18d70c(0xc0)]('opacity0'),_0xd9c130['onclick']=()=>{const _0x52a2f3=_0x18d70c;_0x107290['close'](),_0x107290['remove'](),mgbaStorage['classList'][_0x52a2f3(0xba)]('opacity0');};const _0x396c81=document[_0x18d70c(0x92)]('div');_0x396c81['classList']['add']('flex-1',_0x18d70c(0xbb),'hw','cw'),_0x396c81[_0x18d70c(0x78)]=_0x2dcc76,_0x107290[_0x18d70c(0xb3)](_0x396c81);const _0x454039=document[_0x18d70c(0x92)](_0x18d70c(0xbf));_0x454039['classList'][_0x18d70c(0xc0)](_0x18d70c(0x97),'hw','cw','gap-16'),_0x107290[_0x18d70c(0xb3)](_0x454039);const _0x4b01bd=document[_0x18d70c(0x92)]('div');_0x4b01bd[_0x18d70c(0x8b)][_0x18d70c(0xc0)](_0x18d70c(0x89),'bc'),_0x454039[_0x18d70c(0xb3)](_0x4b01bd),_0x4b01bd['onclick']=()=>{const _0x19eb39=_0x18d70c;a0_0x7b3b9[_0x19eb39(0xc2)](_0x3ec48a,_0x2dcc76);};const _0x2b3c4=document[_0x18d70c(0x92)](_0x18d70c(0xbf));_0x2b3c4['classList'][_0x18d70c(0xc0)]('delete','bc'),_0x454039['appendChild'](_0x2b3c4),_0x2b3c4[_0x18d70c(0x9f)]=async()=>{const _0x249238=_0x18d70c;if(window['confirm'](_0x249238(0x84)+_0x2dcc76)){const _0x478fc5=_0x2dcc76[_0x249238(0xbc)](/\....$/,_0x249238(0x9c));a0_0x7b3b9['deleteFile'](_0x3ec48a),localStorage[_0x249238(0x86)](_0x478fc5+'_dateState'+_0x2dcc76[_0x249238(0x77)](-0x1)),localStorage['removeItem'](_0x478fc5+_0x249238(0x7f)+_0x2dcc76['slice'](-0x1)),localStorageFile(),_0x107290['close'](),_0x107290[_0x249238(0xba)](),mgbaStorage[_0x249238(0x8b)][_0x249238(0xba)]('opacity0');}};const _0x560fae=document[_0x18d70c(0x92)](_0x18d70c(0xbf));_0x560fae[_0x18d70c(0x8b)]['add'](_0x18d70c(0xa1),'bc'),_0x454039[_0x18d70c(0xb3)](_0x560fae),_0x560fae[_0x18d70c(0x9f)]=async()=>{const _0x123620=_0x18d70c,_0xe998c3=window[_0x123620(0xb6)]('Edit\x20filename',_0x2dcc76);if(_0xe998c3!==null){const _0x50b2bb=_0x2dcc76[_0x123620(0xbc)](/\....$/,_0x123620(0x9c)),_0x2a0a79=_0xe998c3[_0x123620(0xbc)](/\....$/,_0x123620(0x9c)),_0x1ef47c=_0x50b2bb+'_dateState'+_0x2dcc76[_0x123620(0x77)](-0x1),_0x4b514f=_0x50b2bb+_0x123620(0x7f)+_0x2dcc76[_0x123620(0x77)](-0x1),_0x49ed66=_0x2a0a79+_0x123620(0x8f)+_0xe998c3[_0x123620(0x77)](-0x1),_0x22f600=_0x2a0a79+'_imageState'+_0xe998c3[_0x123620(0x77)](-0x1),_0xd81672=localStorage[_0x123620(0xb1)](_0x1ef47c),_0x3e8bdd=localStorage[_0x123620(0xb1)](_0x4b514f);_0xd81672!==null&&(localStorage[_0x123620(0xac)](_0x49ed66,_0xd81672),localStorage[_0x123620(0x86)](_0x1ef47c)),_0x3e8bdd!==null&&(localStorage[_0x123620(0xac)](_0x22f600,_0x3e8bdd),localStorage[_0x123620(0x86)](_0x4b514f)),a0_0x7b3b9[_0x123620(0xad)](_0x3ec48a,_0x2dcc76,_0xe998c3),localStorageFile(),_0x107290['close'](),_0x107290[_0x123620(0xba)](),mgbaStorage[_0x123620(0x8b)]['remove']('opacity0');}},_0x107290[_0x18d70c(0xb0)]();};const _0x58b79d=document[_0x19d626(0x92)](_0x19d626(0xa2));_0x58b79d[_0x19d626(0x78)]=humanFileSize(a0_0x7b3b9['fileSize'](_0x3ec48a)),_0x58b79d['classList'][_0x19d626(0xc0)](_0x19d626(0x81)),_0x4b29dc[_0x19d626(0xb3)](_0x58b79d);}export function localStorageFile(){const _0xcd8f60=a0_0x24e5ef,_0xa7a7ee=a0_0x7b3b9['listGame'](),_0x466935=a0_0x7b3b9[_0xcd8f60(0xb7)](),_0x37e734=a0_0x7b3b9[_0xcd8f60(0x83)](),_0x588968=a0_0x7b3b9[_0xcd8f60(0xb2)](),_0x2e2bc4=a0_0x7b3b9[_0xcd8f60(0x95)](),_0x17108a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3b2548 of _0x17108a){while(_0x3b2548[_0xcd8f60(0x7d)]){_0x3b2548['lastChild'][_0xcd8f60(0xba)]();}}for(const _0x40f937 of _0xa7a7ee){createElementStorage(romsFile,_0x40f937,_0xcd8f60(0x9b)+_0x40f937);}for(const _0x654ace of _0x37e734){createElementStorage(statesFile,_0x654ace,'/data/states/'+_0x654ace);}for(const _0x39deb3 of _0x466935){createElementStorage(savesFile,_0x39deb3,_0xcd8f60(0xa3)+_0x39deb3);}for(const _0x484cef of _0x588968){createElementStorage(cheatsFile,_0x484cef,_0xcd8f60(0x9d)+_0x484cef);}for(const _0x3bdcb8 of _0x2e2bc4){createElementStorage(screenshotsFile,_0x3bdcb8,_0xcd8f60(0xa4)+_0x3bdcb8);}}function a0_0x5db2(_0x3c556,_0x5f0e67){const _0x31c9bd=a0_0x31c9();return a0_0x5db2=function(_0x5db2ad,_0x5d3b9d){_0x5db2ad=_0x5db2ad-0x75;let _0x50daa8=_0x31c9bd[_0x5db2ad];return _0x50daa8;},a0_0x5db2(_0x3c556,_0x5f0e67);}document[a0_0x24e5ef(0x8a)](a0_0x24e5ef(0x87),function(){const _0x20618c=a0_0x24e5ef;upLoadFile[_0x20618c(0x8a)](_0x20618c(0xb4),function(){const _0x596ead=_0x20618c;a0_0x7b3b9[_0x596ead(0x98)](upLoadFile);}),openLocalStorage['addEventListener'](_0x20618c(0xaa),function(){const _0x47c859=_0x20618c,_0x10e800=localStorage['getItem'](_0x47c859(0x7a));storage[_0x47c859(0x8b)]['remove'](_0x47c859(0xc3)),intro[_0x47c859(0x8b)][_0x47c859(0xc0)](_0x47c859(0xc3)),ingame[_0x47c859(0x8b)][_0x47c859(0xc0)]('disable'),_0x10e800===null||_0x10e800===''?(dropboxRestore['classList'][_0x47c859(0xba)](_0x47c859(0xbd)),dropboxBackup[_0x47c859(0x8b)][_0x47c859(0xba)]('active'),dropboxCloud['classList'][_0x47c859(0xba)](_0x47c859(0xbd))):(dropboxRestore[_0x47c859(0x8b)][_0x47c859(0xc0)](_0x47c859(0xbd)),dropboxBackup[_0x47c859(0x8b)][_0x47c859(0xc0)](_0x47c859(0xbd)),dropboxCloud[_0x47c859(0x8b)][_0x47c859(0xc0)](_0x47c859(0xbd)));}),setTimeout(()=>{localStorageFile();},0xbb8);});