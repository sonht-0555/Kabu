const a0_0x28a4cb=a0_0x2612;function a0_0x2a20(){const _0x829f56=['createElement','/data/games/','listGame','home','remove','KiB','active','close','TiB','_dateState','download','getItem','ZiB','461583SiTnVw','1555600KwoOdE','504406jmAyVq','1704480OXyloC','textContent','.gba','MiB','15500PeazWJ','confirm','rom','disable','div','75IlYHjj','actionDiv','gap-10','storage','classList','appendChild','/data/cheats/','span','removeItem','lastChild','DOMContentLoaded','1myytPC','listScreenshot','replace','EiB','Delete\x20this\x20file?','length','uId','slice','flex-1','listState','showModal','click','GiB','/data/screenshots/','listCheat','savesFile','deleteFile','rom-item','right','setItem','statesFile','12bZApPs','getElementById','add','dialog','opacity0','delete','6239992WdwQRC','gap-16','change','/data/saves/','fileSize','onclick','20fpABqc','rename','_imageState','3869368oJCZXH','abs','addEventListener','editFile'];a0_0x2a20=function(){return _0x829f56;};return a0_0x2a20();}(function(_0x421d71,_0x249d12){const _0x4eb3eb=a0_0x2612,_0x38e366=_0x421d71();while(!![]){try{const _0x3e74c9=parseInt(_0x4eb3eb(0xdd))/0x1*(parseInt(_0x4eb3eb(0xc7))/0x2)+-parseInt(_0x4eb3eb(0xd2))/0x3*(-parseInt(_0x4eb3eb(0xcd))/0x4)+-parseInt(_0x4eb3eb(0xc9))/0x5+parseInt(_0x4eb3eb(0xf2))/0x6*(-parseInt(_0x4eb3eb(0xc8))/0x7)+parseInt(_0x4eb3eb(0x101))/0x8+parseInt(_0x4eb3eb(0xc6))/0x9*(parseInt(_0x4eb3eb(0xfe))/0xa)+-parseInt(_0x4eb3eb(0xf8))/0xb;if(_0x3e74c9===_0x249d12)break;else _0x38e366['push'](_0x38e366['shift']());}catch(_0x55c791){_0x38e366['push'](_0x38e366['shift']());}}}(a0_0x2a20,0x63c3c));function a0_0x2612(_0x25a1ca,_0x9d09b8){const _0x2a2091=a0_0x2a20();return a0_0x2612=function(_0x261237,_0x334f52){_0x261237=_0x261237-0xbf;let _0x551ea6=_0x2a2091[_0x261237];return _0x551ea6;},a0_0x2612(_0x25a1ca,_0x9d09b8);}import*as a0_0x354f08 from'./main.js';const mgbaStorage=document[a0_0x28a4cb(0xf3)]('mgba-storage'),savesFile=document[a0_0x28a4cb(0xf3)](a0_0x28a4cb(0xec)),romsFile=document[a0_0x28a4cb(0xf3)]('romsFile'),statesFile=document[a0_0x28a4cb(0xf3)](a0_0x28a4cb(0xf1)),screenshotsFile=document[a0_0x28a4cb(0xf3)]('screenshotsFile');function humanFileSize(_0x443076,_0x290276=![],_0x35115e=0x1){const _0x407ffe=a0_0x28a4cb,_0x5f31da=_0x290276?0x3e8:0x400,_0x2c6dbb=_0x290276?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x407ffe(0x10a),_0x407ffe(0xcc),_0x407ffe(0xe9),_0x407ffe(0xc1),'PiB',_0x407ffe(0xe0),_0x407ffe(0xc5),'YiB'];let _0x3ef139=-0x1;do{_0x443076/=_0x5f31da,++_0x3ef139;}while(Math[_0x407ffe(0x102)](_0x443076)>=_0x5f31da&&_0x3ef139<_0x2c6dbb[_0x407ffe(0xe2)]-0x1);return _0x443076['toFixed'](_0x35115e)+'\x20'+_0x2c6dbb[_0x3ef139];}function createElementStorage(_0xff651b,_0x4dc9dd,_0x2094db){const _0x47573c=a0_0x28a4cb,_0x408922=document['createElement'](_0x47573c(0xd1));_0x408922[_0x47573c(0xd6)][_0x47573c(0xf4)](_0x47573c(0xe5),_0x47573c(0xee),_0x47573c(0xcf)),_0xff651b[_0x47573c(0xd7)](_0x408922);const _0x287b45=document[_0x47573c(0x105)](_0x47573c(0xd9));_0x287b45[_0x47573c(0xca)]=_0x4dc9dd,_0x287b45[_0x47573c(0xd6)]['add']('flex-1'),_0x408922[_0x47573c(0xd7)](_0x287b45),_0x287b45[_0x47573c(0xfd)]=()=>{const _0x5b062a=_0x47573c,_0x277d94=document[_0x5b062a(0x105)](_0x5b062a(0xf5));_0x277d94['onclose']=()=>_0x277d94['remove'](),_0xff651b['appendChild'](_0x277d94);const _0x14eaed=document[_0x5b062a(0x105)]('div');_0x14eaed[_0x5b062a(0xd6)]['add'](_0x5b062a(0xd5),_0x5b062a(0xef),_0x5b062a(0xd4)),_0x277d94['appendChild'](_0x14eaed);const _0x3320fc=document[_0x5b062a(0x105)]('div');_0x3320fc[_0x5b062a(0xd6)][_0x5b062a(0xf4)](_0x5b062a(0x108),'bc',_0x5b062a(0xe5)),_0x14eaed[_0x5b062a(0xd7)](_0x3320fc);const _0x46c23e=document['createElement'](_0x5b062a(0xd1));_0x46c23e[_0x5b062a(0xd6)]['add'](_0x5b062a(0xe5)),_0x14eaed[_0x5b062a(0xd7)](_0x46c23e);const _0x58636b=document['createElement'](_0x5b062a(0xd1));_0x58636b['classList'][_0x5b062a(0xf4)](_0x5b062a(0xe5)),_0x14eaed[_0x5b062a(0xd7)](_0x58636b);const _0x546383=document['createElement'](_0x5b062a(0xd1));_0x546383[_0x5b062a(0xd6)][_0x5b062a(0xf4)]('flex-1'),_0x14eaed['appendChild'](_0x546383),mgbaStorage[_0x5b062a(0xd6)][_0x5b062a(0xf4)](_0x5b062a(0xf6)),_0x3320fc[_0x5b062a(0xfd)]=()=>{const _0x13d7ed=_0x5b062a;_0x277d94[_0x13d7ed(0xc0)](),_0x277d94[_0x13d7ed(0x109)](),mgbaStorage[_0x13d7ed(0xd6)]['remove']('opacity0');};const _0x2e58aa=document['createElement'](_0x5b062a(0xd1));_0x2e58aa[_0x5b062a(0xd6)]['add'](_0x5b062a(0xe5),_0x5b062a(0xee),'hw','cw'),_0x2e58aa[_0x5b062a(0xca)]=_0x4dc9dd,_0x277d94[_0x5b062a(0xd7)](_0x2e58aa);const _0x41fc49=document[_0x5b062a(0x105)]('div');_0x41fc49[_0x5b062a(0xd6)][_0x5b062a(0xf4)](_0x5b062a(0xd3),'hw','cw',_0x5b062a(0xf9)),_0x277d94['appendChild'](_0x41fc49);const _0x169267=document[_0x5b062a(0x105)]('div');_0x169267[_0x5b062a(0xd6)][_0x5b062a(0xf4)](_0x5b062a(0xc3),'bc'),_0x41fc49['appendChild'](_0x169267),_0x169267[_0x5b062a(0xfd)]=()=>{a0_0x354f08['downloadFile'](_0x2094db,_0x4dc9dd);};const _0x48fbcc=document[_0x5b062a(0x105)](_0x5b062a(0xd1));_0x48fbcc[_0x5b062a(0xd6)][_0x5b062a(0xf4)](_0x5b062a(0xf7),'bc'),_0x41fc49[_0x5b062a(0xd7)](_0x48fbcc),_0x48fbcc[_0x5b062a(0xfd)]=async()=>{const _0x46146b=_0x5b062a;if(window[_0x46146b(0xce)](_0x46146b(0xe1)+_0x4dc9dd)){const _0x356c0b=_0x4dc9dd['replace'](/\....$/,_0x46146b(0xcb));a0_0x354f08[_0x46146b(0xed)](_0x2094db),localStorage[_0x46146b(0xda)](_0x356c0b+'_dateState'+_0x4dc9dd['slice'](-0x1)),localStorage['removeItem'](_0x356c0b+_0x46146b(0x100)+_0x4dc9dd['slice'](-0x1)),localStorageFile(),_0x277d94[_0x46146b(0xc0)](),_0x277d94[_0x46146b(0x109)](),mgbaStorage[_0x46146b(0xd6)][_0x46146b(0x109)](_0x46146b(0xf6));}};const _0x35902=document[_0x5b062a(0x105)](_0x5b062a(0xd1));_0x35902[_0x5b062a(0xd6)][_0x5b062a(0xf4)](_0x5b062a(0xff),'bc'),_0x41fc49['appendChild'](_0x35902),_0x35902[_0x5b062a(0xfd)]=async()=>{const _0x5c4763=_0x5b062a,_0xc869a6=window['prompt']('Edit\x20filename',_0x4dc9dd);if(_0xc869a6!==null){const _0x34ceed=_0x4dc9dd[_0x5c4763(0xdf)](/\....$/,_0x5c4763(0xcb)),_0x56bc79=_0xc869a6[_0x5c4763(0xdf)](/\....$/,_0x5c4763(0xcb)),_0x9f35ae=_0x34ceed+_0x5c4763(0xc2)+_0x4dc9dd['slice'](-0x1),_0x3a4797=_0x34ceed+_0x5c4763(0x100)+_0x4dc9dd['slice'](-0x1),_0x46c314=_0x56bc79+'_dateState'+_0xc869a6['slice'](-0x1),_0x8a2790=_0x56bc79+'_imageState'+_0xc869a6[_0x5c4763(0xe4)](-0x1),_0x5c2684=localStorage[_0x5c4763(0xc4)](_0x9f35ae),_0xb5f067=localStorage[_0x5c4763(0xc4)](_0x3a4797);_0x5c2684!==null&&(localStorage[_0x5c4763(0xf0)](_0x46c314,_0x5c2684),localStorage['removeItem'](_0x9f35ae)),_0xb5f067!==null&&(localStorage[_0x5c4763(0xf0)](_0x8a2790,_0xb5f067),localStorage[_0x5c4763(0xda)](_0x3a4797)),a0_0x354f08[_0x5c4763(0x104)](_0x2094db,_0x4dc9dd,_0xc869a6),localStorageFile(),_0x277d94[_0x5c4763(0xc0)](),_0x277d94[_0x5c4763(0x109)](),mgbaStorage[_0x5c4763(0xd6)]['remove'](_0x5c4763(0xf6));}},_0x277d94[_0x5b062a(0xe7)]();};const _0x2dbc7d=document[_0x47573c(0x105)](_0x47573c(0xd9));_0x2dbc7d['textContent']=humanFileSize(a0_0x354f08[_0x47573c(0xfc)](_0x2094db)),_0x2dbc7d[_0x47573c(0xd6)][_0x47573c(0xf4)]('mib'),_0x408922[_0x47573c(0xd7)](_0x2dbc7d);}export function localStorageFile(){const _0x148158=a0_0x28a4cb,_0x31c3ab=a0_0x354f08[_0x148158(0x107)](),_0x5515f3=a0_0x354f08['listSave'](),_0x26ddac=a0_0x354f08[_0x148158(0xe6)](),_0x4aba0f=a0_0x354f08[_0x148158(0xeb)](),_0x4c1a67=a0_0x354f08[_0x148158(0xde)](),_0x46199a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x1831d1 of _0x46199a){while(_0x1831d1['firstChild']){_0x1831d1[_0x148158(0xdb)][_0x148158(0x109)]();}}for(const _0x5b37d0 of _0x31c3ab){createElementStorage(romsFile,_0x5b37d0,_0x148158(0x106)+_0x5b37d0);}for(const _0x3e7d53 of _0x26ddac){createElementStorage(statesFile,_0x3e7d53,'/data/states/'+_0x3e7d53);}for(const _0x8530dd of _0x5515f3){createElementStorage(savesFile,_0x8530dd,_0x148158(0xfb)+_0x8530dd);}for(const _0x13ea2e of _0x4aba0f){createElementStorage(cheatsFile,_0x13ea2e,_0x148158(0xd8)+_0x13ea2e);}for(const _0x2526d5 of _0x4c1a67){createElementStorage(screenshotsFile,_0x2526d5,_0x148158(0xea)+_0x2526d5);}}document['addEventListener'](a0_0x28a4cb(0xdc),function(){const _0x56c215=a0_0x28a4cb;upLoadFile[_0x56c215(0x103)](_0x56c215(0xfa),function(){a0_0x354f08['uploadFile'](upLoadFile);}),openLocalStorage[_0x56c215(0x103)](_0x56c215(0xe8),function(){const _0x4690b3=_0x56c215,_0x158684=localStorage['getItem'](_0x4690b3(0xe3));storage[_0x4690b3(0xd6)]['remove'](_0x4690b3(0xd0)),intro['classList']['add']('disable'),ingame[_0x4690b3(0xd6)][_0x4690b3(0xf4)](_0x4690b3(0xd0)),_0x158684===null||_0x158684===''?(dropboxRestore[_0x4690b3(0xd6)]['remove'](_0x4690b3(0xbf)),dropboxBackup[_0x4690b3(0xd6)][_0x4690b3(0x109)](_0x4690b3(0xbf)),dropboxCloud[_0x4690b3(0xd6)][_0x4690b3(0x109)](_0x4690b3(0xbf))):(dropboxRestore[_0x4690b3(0xd6)][_0x4690b3(0xf4)]('active'),dropboxBackup[_0x4690b3(0xd6)][_0x4690b3(0xf4)]('active'),dropboxCloud['classList'][_0x4690b3(0xf4)](_0x4690b3(0xbf)));}),setTimeout(()=>{localStorageFile();},0xbb8);});