function a0_0x2605(){const _0x3f254d=['rom','delete','add','listScreenshot','length','listCheat','classList','uploadFile','PiB','3075045TyCRTa','disable','remove','romsFile','opacity0','onclose','editFile','/data/states/','screenshotsFile','confirm','flex-1','MiB','textContent','5544402UPmaQn','storage','5IemgSX','span','createElement','removeItem','_imageState','mib','slice','4052148Izmiji','dialog','right','TiB','uId','.gba','rom-item','prompt','/data/saves/','GiB','2741298ksuKRt','savesFile','gap-10','569641cYlhBm','listSave','2233827odpybf','_dateState','showModal','YiB','40deiUmv','getElementById','2199070cVGVqg','download','/data/screenshots/','KiB','toFixed','Delete\x20this\x20file?','close','getItem','Edit\x20filename','DOMContentLoaded','replace','downloadFile','statesFile','addEventListener','listState','active','click','EiB','lastChild','listGame','firstChild','setItem','appendChild','gap-16','div','onclick','change'];a0_0x2605=function(){return _0x3f254d;};return a0_0x2605();}const a0_0x5dbdb2=a0_0x141f;(function(_0x1a77d4,_0x19b26b){const _0x198138=a0_0x141f,_0x4e609a=_0x1a77d4();while(!![]){try{const _0x11f99e=-parseInt(_0x198138(0x12d))/0x1+parseInt(_0x198138(0x135))/0x2+-parseInt(_0x198138(0x10a))/0x3+-parseInt(_0x198138(0x120))/0x4*(-parseInt(_0x198138(0x119))/0x5)+parseInt(_0x198138(0x117))/0x6+parseInt(_0x198138(0x12a))/0x7+-parseInt(_0x198138(0x133))/0x8*(parseInt(_0x198138(0x12f))/0x9);if(_0x11f99e===_0x19b26b)break;else _0x4e609a['push'](_0x4e609a['shift']());}catch(_0x666b16){_0x4e609a['push'](_0x4e609a['shift']());}}}(a0_0x2605,0x90ac6));import*as a0_0x4bfb75 from'./main.js';const mgbaStorage=document[a0_0x5dbdb2(0x134)]('mgba-storage'),savesFile=document[a0_0x5dbdb2(0x134)](a0_0x5dbdb2(0x12b)),romsFile=document['getElementById'](a0_0x5dbdb2(0x10d)),statesFile=document[a0_0x5dbdb2(0x134)](a0_0x5dbdb2(0x141)),screenshotsFile=document['getElementById'](a0_0x5dbdb2(0x112));function humanFileSize(_0x42a006,_0x2476e8=![],_0x363573=0x1){const _0x389ddf=a0_0x5dbdb2,_0x369378=_0x2476e8?0x3e8:0x400,_0x3cecb6=_0x2476e8?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x389ddf(0x138),_0x389ddf(0x115),_0x389ddf(0x129),_0x389ddf(0x123),_0x389ddf(0x109),_0x389ddf(0x146),'ZiB',_0x389ddf(0x132)];let _0x547a2f=-0x1;do{_0x42a006/=_0x369378,++_0x547a2f;}while(Math['abs'](_0x42a006)>=_0x369378&&_0x547a2f<_0x3cecb6[_0x389ddf(0x105)]-0x1);return _0x42a006[_0x389ddf(0x139)](_0x363573)+'\x20'+_0x3cecb6[_0x547a2f];}function createElementStorage(_0xb2d36b,_0x50f803,_0x3d50e0){const _0x585116=a0_0x5dbdb2,_0x581788=document[_0x585116(0x11b)](_0x585116(0x14d));_0x581788['classList'][_0x585116(0x103)](_0x585116(0x114),'rom-item',_0x585116(0x101)),_0xb2d36b[_0x585116(0x14b)](_0x581788);const _0x253c73=document[_0x585116(0x11b)]('span');_0x253c73['textContent']=_0x50f803,_0x253c73[_0x585116(0x107)]['add'](_0x585116(0x114)),_0x581788[_0x585116(0x14b)](_0x253c73),_0x253c73['onclick']=()=>{const _0x50aa2d=_0x585116,_0x39ccf3=document['createElement'](_0x50aa2d(0x121));_0x39ccf3[_0x50aa2d(0x10f)]=()=>_0x39ccf3[_0x50aa2d(0x10c)](),_0xb2d36b[_0x50aa2d(0x14b)](_0x39ccf3);const _0x3aeb28=document['createElement'](_0x50aa2d(0x14d));_0x3aeb28[_0x50aa2d(0x107)][_0x50aa2d(0x103)](_0x50aa2d(0x118),_0x50aa2d(0x122),_0x50aa2d(0x12c)),_0x39ccf3['appendChild'](_0x3aeb28);const _0x55de0a=document['createElement']('div');_0x55de0a[_0x50aa2d(0x107)][_0x50aa2d(0x103)]('home','bc',_0x50aa2d(0x114)),_0x3aeb28[_0x50aa2d(0x14b)](_0x55de0a);const _0x3ab5f3=document[_0x50aa2d(0x11b)]('div');_0x3ab5f3[_0x50aa2d(0x107)][_0x50aa2d(0x103)](_0x50aa2d(0x114)),_0x3aeb28['appendChild'](_0x3ab5f3);const _0x5d64d5=document[_0x50aa2d(0x11b)](_0x50aa2d(0x14d));_0x5d64d5['classList'][_0x50aa2d(0x103)](_0x50aa2d(0x114)),_0x3aeb28[_0x50aa2d(0x14b)](_0x5d64d5);const _0x586893=document[_0x50aa2d(0x11b)](_0x50aa2d(0x14d));_0x586893[_0x50aa2d(0x107)]['add'](_0x50aa2d(0x114)),_0x3aeb28[_0x50aa2d(0x14b)](_0x586893),mgbaStorage[_0x50aa2d(0x107)]['add']('opacity0'),_0x55de0a[_0x50aa2d(0x14e)]=()=>{const _0xc2bcc9=_0x50aa2d;_0x39ccf3[_0xc2bcc9(0x13b)](),_0x39ccf3[_0xc2bcc9(0x10c)](),mgbaStorage[_0xc2bcc9(0x107)][_0xc2bcc9(0x10c)](_0xc2bcc9(0x10e));};const _0x44e08c=document['createElement'](_0x50aa2d(0x14d));_0x44e08c['classList'][_0x50aa2d(0x103)](_0x50aa2d(0x114),_0x50aa2d(0x126),'hw','cw'),_0x44e08c[_0x50aa2d(0x116)]=_0x50f803,_0x39ccf3[_0x50aa2d(0x14b)](_0x44e08c);const _0x5c1c1b=document['createElement'](_0x50aa2d(0x14d));_0x5c1c1b[_0x50aa2d(0x107)][_0x50aa2d(0x103)]('actionDiv','hw','cw',_0x50aa2d(0x14c)),_0x39ccf3['appendChild'](_0x5c1c1b);const _0x3894cf=document[_0x50aa2d(0x11b)](_0x50aa2d(0x14d));_0x3894cf[_0x50aa2d(0x107)][_0x50aa2d(0x103)](_0x50aa2d(0x136),'bc'),_0x5c1c1b[_0x50aa2d(0x14b)](_0x3894cf),_0x3894cf['onclick']=()=>{const _0x36fff4=_0x50aa2d;a0_0x4bfb75[_0x36fff4(0x140)](_0x3d50e0,_0x50f803);};const _0x8e77a6=document[_0x50aa2d(0x11b)](_0x50aa2d(0x14d));_0x8e77a6['classList'][_0x50aa2d(0x103)](_0x50aa2d(0x102),'bc'),_0x5c1c1b[_0x50aa2d(0x14b)](_0x8e77a6),_0x8e77a6[_0x50aa2d(0x14e)]=async()=>{const _0x20da97=_0x50aa2d;if(window[_0x20da97(0x113)](_0x20da97(0x13a)+_0x50f803)){const _0xb9f520=_0x50f803[_0x20da97(0x13f)](/\....$/,_0x20da97(0x125));a0_0x4bfb75['deleteFile'](_0x3d50e0),localStorage['removeItem'](_0xb9f520+_0x20da97(0x130)+_0x50f803[_0x20da97(0x11f)](-0x1)),localStorage[_0x20da97(0x11c)](_0xb9f520+_0x20da97(0x11d)+_0x50f803[_0x20da97(0x11f)](-0x1)),localStorageFile(),_0x39ccf3['close'](),_0x39ccf3['remove'](),mgbaStorage[_0x20da97(0x107)][_0x20da97(0x10c)](_0x20da97(0x10e));}};const _0x310cb4=document[_0x50aa2d(0x11b)](_0x50aa2d(0x14d));_0x310cb4['classList'][_0x50aa2d(0x103)]('rename','bc'),_0x5c1c1b['appendChild'](_0x310cb4),_0x310cb4[_0x50aa2d(0x14e)]=async()=>{const _0x2e3d10=_0x50aa2d,_0x508d30=window[_0x2e3d10(0x127)](_0x2e3d10(0x13d),_0x50f803);if(_0x508d30!==null){const _0x5ade73=_0x50f803[_0x2e3d10(0x13f)](/\....$/,'.gba'),_0x3f70b1=_0x508d30[_0x2e3d10(0x13f)](/\....$/,_0x2e3d10(0x125)),_0x395874=_0x5ade73+'_dateState'+_0x50f803[_0x2e3d10(0x11f)](-0x1),_0x488918=_0x5ade73+_0x2e3d10(0x11d)+_0x50f803[_0x2e3d10(0x11f)](-0x1),_0x58f8bd=_0x3f70b1+_0x2e3d10(0x130)+_0x508d30[_0x2e3d10(0x11f)](-0x1),_0x593bcd=_0x3f70b1+_0x2e3d10(0x11d)+_0x508d30[_0x2e3d10(0x11f)](-0x1),_0x3b1176=localStorage[_0x2e3d10(0x13c)](_0x395874),_0x3c8fb3=localStorage[_0x2e3d10(0x13c)](_0x488918);_0x3b1176!==null&&(localStorage[_0x2e3d10(0x14a)](_0x58f8bd,_0x3b1176),localStorage[_0x2e3d10(0x11c)](_0x395874)),_0x3c8fb3!==null&&(localStorage[_0x2e3d10(0x14a)](_0x593bcd,_0x3c8fb3),localStorage['removeItem'](_0x488918)),a0_0x4bfb75[_0x2e3d10(0x110)](_0x3d50e0,_0x50f803,_0x508d30),localStorageFile(),_0x39ccf3[_0x2e3d10(0x13b)](),_0x39ccf3[_0x2e3d10(0x10c)](),mgbaStorage[_0x2e3d10(0x107)]['remove'](_0x2e3d10(0x10e));}},_0x39ccf3[_0x50aa2d(0x131)]();};const _0x398a27=document[_0x585116(0x11b)](_0x585116(0x11a));_0x398a27[_0x585116(0x116)]=humanFileSize(a0_0x4bfb75['fileSize'](_0x3d50e0)),_0x398a27['classList'][_0x585116(0x103)](_0x585116(0x11e)),_0x581788[_0x585116(0x14b)](_0x398a27);}function a0_0x141f(_0x23e1a4,_0xf9dcaa){const _0x26055b=a0_0x2605();return a0_0x141f=function(_0x141f6b,_0x2757e7){_0x141f6b=_0x141f6b-0x101;let _0x1d7b59=_0x26055b[_0x141f6b];return _0x1d7b59;},a0_0x141f(_0x23e1a4,_0xf9dcaa);}export function localStorageFile(){const _0x41ce77=a0_0x5dbdb2,_0x200c12=a0_0x4bfb75[_0x41ce77(0x148)](),_0x320382=a0_0x4bfb75[_0x41ce77(0x12e)](),_0x495051=a0_0x4bfb75[_0x41ce77(0x143)](),_0x5cdd8f=a0_0x4bfb75[_0x41ce77(0x106)](),_0x1c171b=a0_0x4bfb75[_0x41ce77(0x104)](),_0x2f517d=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x1a1e56 of _0x2f517d){while(_0x1a1e56[_0x41ce77(0x149)]){_0x1a1e56[_0x41ce77(0x147)][_0x41ce77(0x10c)]();}}for(const _0x1bdca6 of _0x200c12){createElementStorage(romsFile,_0x1bdca6,'/data/games/'+_0x1bdca6);}for(const _0x405500 of _0x495051){createElementStorage(statesFile,_0x405500,_0x41ce77(0x111)+_0x405500);}for(const _0x5b446c of _0x320382){createElementStorage(savesFile,_0x5b446c,_0x41ce77(0x128)+_0x5b446c);}for(const _0x1c3c01 of _0x5cdd8f){createElementStorage(cheatsFile,_0x1c3c01,'/data/cheats/'+_0x1c3c01);}for(const _0x4d3399 of _0x1c171b){createElementStorage(screenshotsFile,_0x4d3399,_0x41ce77(0x137)+_0x4d3399);}}document[a0_0x5dbdb2(0x142)](a0_0x5dbdb2(0x13e),function(){const _0x3c9759=a0_0x5dbdb2;upLoadFile[_0x3c9759(0x142)](_0x3c9759(0x14f),function(){const _0x119ad1=_0x3c9759;a0_0x4bfb75[_0x119ad1(0x108)](upLoadFile);}),openLocalStorage[_0x3c9759(0x142)](_0x3c9759(0x145),function(){const _0x205f98=_0x3c9759,_0x276098=localStorage[_0x205f98(0x13c)](_0x205f98(0x124));storage['classList']['remove'](_0x205f98(0x10b)),intro['classList']['add'](_0x205f98(0x10b)),ingame[_0x205f98(0x107)][_0x205f98(0x103)](_0x205f98(0x10b)),_0x276098===null||_0x276098===''?(dropboxRestore[_0x205f98(0x107)][_0x205f98(0x10c)](_0x205f98(0x144)),dropboxBackup[_0x205f98(0x107)][_0x205f98(0x10c)](_0x205f98(0x144)),dropboxCloud[_0x205f98(0x107)]['remove'](_0x205f98(0x144))):(dropboxRestore[_0x205f98(0x107)][_0x205f98(0x103)]('active'),dropboxBackup['classList'][_0x205f98(0x103)]('active'),dropboxCloud['classList'][_0x205f98(0x103)](_0x205f98(0x144)));}),setTimeout(()=>{localStorageFile();},0xbb8);});