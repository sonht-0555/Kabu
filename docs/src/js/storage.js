const a0_0x2d72e8=a0_0x536f;function a0_0x536f(_0x205d80,_0x28af0b){const _0x1a1247=a0_0x1a12();return a0_0x536f=function(_0x536fb1,_0x23c7f1){_0x536fb1=_0x536fb1-0x1e6;let _0x5a5257=_0x1a1247[_0x536fb1];return _0x5a5257;},a0_0x536f(_0x205d80,_0x28af0b);}(function(_0x355dd0,_0x562e5d){const _0x5043c0=a0_0x536f,_0x51a499=_0x355dd0();while(!![]){try{const _0xeedc96=parseInt(_0x5043c0(0x217))/0x1+parseInt(_0x5043c0(0x215))/0x2+parseInt(_0x5043c0(0x227))/0x3*(-parseInt(_0x5043c0(0x225))/0x4)+-parseInt(_0x5043c0(0x1fc))/0x5+-parseInt(_0x5043c0(0x203))/0x6*(parseInt(_0x5043c0(0x212))/0x7)+parseInt(_0x5043c0(0x201))/0x8+parseInt(_0x5043c0(0x221))/0x9;if(_0xeedc96===_0x562e5d)break;else _0x51a499['push'](_0x51a499['shift']());}catch(_0xe1e1f0){_0x51a499['push'](_0x51a499['shift']());}}}(a0_0x1a12,0x71caa));function a0_0x1a12(){const _0x1845f4=['lastChild','gap-16','cheats','textContent','/data/cheats/','3721680JrYmjR','uploadFile','/data/screenshots/','prompt','6344mAWEpy','close','1518fJCOvG','firstChild','opacity0','Delete\x20this\x20file?','rename','/data/states/','mgba-storage','getItem','flex-1','storage','disable','Edit\x20filename','dialog','editFile','remove','onclick','addEventListener','YiB','PiB','listFiles','mib','length','active','home','showModal','span','MiB','states','appendChild','click','2348015ZbTcrL','/data/saves/','add','statesFile','GiB','4724560loWpkL','delete','985038anFPKi','games','TiB','rom-item','abs','EiB','ZiB','div','saves','createElement','replace','.gba','classList','confirm','romsFile','7MsBBtd','screenshotsFile','actionDiv','1770078ohsEwG','removeItem','13253QQIbLd','getElementById','screenshots','KiB','slice'];a0_0x1a12=function(){return _0x1845f4;};return a0_0x1a12();}import*as a0_0x572764 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x2d72e8(0x22d)),savesFile=document[a0_0x2d72e8(0x218)]('savesFile'),romsFile=document[a0_0x2d72e8(0x218)](a0_0x2d72e8(0x211)),statesFile=document[a0_0x2d72e8(0x218)](a0_0x2d72e8(0x1ff)),screenshotsFile=document[a0_0x2d72e8(0x218)](a0_0x2d72e8(0x213));function humanFileSize(_0x26b51a,_0x16bbfc=![],_0x14e8cb=0x1){const _0x1f09b1=a0_0x2d72e8,_0x255934=_0x16bbfc?0x3e8:0x400,_0x587820=_0x16bbfc?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1f09b1(0x21a),_0x1f09b1(0x1f8),_0x1f09b1(0x200),_0x1f09b1(0x205),_0x1f09b1(0x1f0),_0x1f09b1(0x208),_0x1f09b1(0x209),_0x1f09b1(0x1ef)];let _0x58e94d=-0x1;do{_0x26b51a/=_0x255934,++_0x58e94d;}while(Math[_0x1f09b1(0x207)](_0x26b51a)>=_0x255934&&_0x58e94d<_0x587820[_0x1f09b1(0x1f3)]-0x1);return _0x26b51a['toFixed'](_0x14e8cb)+'\x20'+_0x587820[_0x58e94d];}function createElementStorage(_0x2cf103,_0x32495f,_0x11c95c){const _0x2b80e5=a0_0x2d72e8,_0xcfbaeb=document[_0x2b80e5(0x20c)](_0x2b80e5(0x20a));_0xcfbaeb[_0x2b80e5(0x20f)][_0x2b80e5(0x1fe)](_0x2b80e5(0x1e6),'rom-item','rom'),_0x2cf103[_0x2b80e5(0x1fa)](_0xcfbaeb);const _0x40117b=document[_0x2b80e5(0x20c)](_0x2b80e5(0x1f7));_0x40117b[_0x2b80e5(0x21f)]=_0x32495f,_0x40117b[_0x2b80e5(0x20f)]['add'](_0x2b80e5(0x1e6)),_0xcfbaeb[_0x2b80e5(0x1fa)](_0x40117b),_0x40117b[_0x2b80e5(0x1ed)]=()=>{const _0x510359=_0x2b80e5,_0x8b48f9=document[_0x510359(0x20c)](_0x510359(0x1ea));_0x8b48f9['onclose']=()=>_0x8b48f9[_0x510359(0x1ec)](),_0x2cf103[_0x510359(0x1fa)](_0x8b48f9);const _0x16ae8d=document[_0x510359(0x20c)](_0x510359(0x20a));_0x16ae8d['classList'][_0x510359(0x1fe)](_0x510359(0x1e7),'right','gap-10'),_0x8b48f9[_0x510359(0x1fa)](_0x16ae8d);const _0x5cf0af=document[_0x510359(0x20c)](_0x510359(0x20a));_0x5cf0af[_0x510359(0x20f)][_0x510359(0x1fe)](_0x510359(0x1f5),'bc','flex-1'),_0x16ae8d[_0x510359(0x1fa)](_0x5cf0af);const _0x4f0c65=document[_0x510359(0x20c)](_0x510359(0x20a));_0x4f0c65['classList']['add']('flex-1'),_0x16ae8d[_0x510359(0x1fa)](_0x4f0c65);const _0x5a6189=document[_0x510359(0x20c)](_0x510359(0x20a));_0x5a6189[_0x510359(0x20f)]['add']('flex-1'),_0x16ae8d[_0x510359(0x1fa)](_0x5a6189);const _0x46ac87=document[_0x510359(0x20c)](_0x510359(0x20a));_0x46ac87[_0x510359(0x20f)][_0x510359(0x1fe)](_0x510359(0x1e6)),_0x16ae8d[_0x510359(0x1fa)](_0x46ac87),mgbaStorage[_0x510359(0x20f)]['add']('opacity0'),_0x5cf0af[_0x510359(0x1ed)]=()=>{const _0x1fe1cb=_0x510359;_0x8b48f9['close'](),_0x8b48f9[_0x1fe1cb(0x1ec)](),mgbaStorage[_0x1fe1cb(0x20f)][_0x1fe1cb(0x1ec)](_0x1fe1cb(0x229));};const _0x545a67=document[_0x510359(0x20c)]('div');_0x545a67['classList'][_0x510359(0x1fe)]('flex-1',_0x510359(0x206),'hw','cw'),_0x545a67[_0x510359(0x21f)]=_0x32495f,_0x8b48f9[_0x510359(0x1fa)](_0x545a67);const _0x4ca5fb=document[_0x510359(0x20c)](_0x510359(0x20a));_0x4ca5fb[_0x510359(0x20f)][_0x510359(0x1fe)](_0x510359(0x214),'hw','cw',_0x510359(0x21d)),_0x8b48f9[_0x510359(0x1fa)](_0x4ca5fb);const _0xf9aa91=document[_0x510359(0x20c)]('div');_0xf9aa91[_0x510359(0x20f)][_0x510359(0x1fe)]('download','bc'),_0x4ca5fb[_0x510359(0x1fa)](_0xf9aa91),_0xf9aa91['onclick']=()=>{a0_0x572764['downloadFile'](_0x11c95c,_0x32495f);};const _0x10f133=document['createElement'](_0x510359(0x20a));_0x10f133[_0x510359(0x20f)][_0x510359(0x1fe)](_0x510359(0x202),'bc'),_0x4ca5fb[_0x510359(0x1fa)](_0x10f133),_0x10f133['onclick']=async()=>{const _0x2497b3=_0x510359;if(window[_0x2497b3(0x210)](_0x2497b3(0x22a)+_0x32495f)){const _0x1f8f84=_0x32495f[_0x2497b3(0x20d)](/\....$/,_0x2497b3(0x20e));a0_0x572764['deleteFile'](_0x11c95c),localStorage[_0x2497b3(0x216)](_0x1f8f84+'_dateState'+_0x32495f[_0x2497b3(0x21b)](-0x1)),localStorage['removeItem'](_0x1f8f84+'_imageState'+_0x32495f[_0x2497b3(0x21b)](-0x1)),localStorageFile(),_0x8b48f9[_0x2497b3(0x226)](),_0x8b48f9[_0x2497b3(0x1ec)](),mgbaStorage[_0x2497b3(0x20f)][_0x2497b3(0x1ec)](_0x2497b3(0x229));}};const _0x259f53=document['createElement'](_0x510359(0x20a));_0x259f53['classList'][_0x510359(0x1fe)](_0x510359(0x22b),'bc'),_0x4ca5fb[_0x510359(0x1fa)](_0x259f53),_0x259f53[_0x510359(0x1ed)]=async()=>{const _0x4c220f=_0x510359,_0x5a37d5=window[_0x4c220f(0x224)](_0x4c220f(0x1e9),_0x32495f);_0x5a37d5!==null&&(a0_0x572764[_0x4c220f(0x1eb)](_0x11c95c,_0x32495f,_0x5a37d5),localStorageFile(),_0x8b48f9[_0x4c220f(0x226)](),_0x8b48f9[_0x4c220f(0x1ec)](),mgbaStorage[_0x4c220f(0x20f)]['remove'](_0x4c220f(0x229)));},_0x8b48f9[_0x510359(0x1f6)]();};const _0x2d5a08=document[_0x2b80e5(0x20c)]('span');_0x2d5a08[_0x2b80e5(0x21f)]=humanFileSize(a0_0x572764['fileSize'](_0x11c95c)),_0x2d5a08['classList'][_0x2b80e5(0x1fe)](_0x2b80e5(0x1f2)),_0xcfbaeb[_0x2b80e5(0x1fa)](_0x2d5a08);}export function localStorageFile(){const _0x575c4d=a0_0x2d72e8,_0x32c2ad=a0_0x572764[_0x575c4d(0x1f1)](_0x575c4d(0x204)),_0x2b3fdb=a0_0x572764[_0x575c4d(0x1f1)](_0x575c4d(0x20b)),_0x866ffa=a0_0x572764['listFiles'](_0x575c4d(0x1f9)),_0xc877ef=a0_0x572764[_0x575c4d(0x1f1)](_0x575c4d(0x21e)),_0x2169f5=a0_0x572764[_0x575c4d(0x1f1)](_0x575c4d(0x219)),_0x3f5a3d=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x17a98f of _0x3f5a3d){while(_0x17a98f[_0x575c4d(0x228)]){_0x17a98f[_0x575c4d(0x21c)][_0x575c4d(0x1ec)]();}}for(const _0x49c22e of _0x32c2ad){createElementStorage(romsFile,_0x49c22e,'/data/games/'+_0x49c22e);}for(const _0x53705b of _0x866ffa){createElementStorage(statesFile,_0x53705b,_0x575c4d(0x22c)+_0x53705b);}for(const _0x1f26a8 of _0x2b3fdb){createElementStorage(savesFile,_0x1f26a8,_0x575c4d(0x1fd)+_0x1f26a8);}for(const _0x1f05f0 of _0xc877ef){createElementStorage(cheatsFile,_0x1f05f0,_0x575c4d(0x220)+_0x1f05f0);}for(const _0x52f960 of _0x2169f5){createElementStorage(screenshotsFile,_0x52f960,_0x575c4d(0x223)+_0x52f960);}}document[a0_0x2d72e8(0x1ee)]('DOMContentLoaded',function(){const _0x21beaf=a0_0x2d72e8;upLoadFile[_0x21beaf(0x1ee)]('change',function(){const _0x3e97c6=_0x21beaf;a0_0x572764[_0x3e97c6(0x222)](upLoadFile);}),openLocalStorage[_0x21beaf(0x1ee)](_0x21beaf(0x1fb),function(){const _0x5361cc=_0x21beaf,_0x150de8=localStorage[_0x5361cc(0x22e)]('uId');storage['classList']['remove']('disable'),intro[_0x5361cc(0x20f)]['add'](_0x5361cc(0x1e8)),ingame[_0x5361cc(0x20f)][_0x5361cc(0x1fe)](_0x5361cc(0x1e8)),_0x150de8===null||_0x150de8===''?(dropboxRestore[_0x5361cc(0x20f)][_0x5361cc(0x1ec)](_0x5361cc(0x1f4)),dropboxBackup[_0x5361cc(0x20f)]['remove'](_0x5361cc(0x1f4)),dropboxCloud[_0x5361cc(0x20f)][_0x5361cc(0x1ec)]('active')):(dropboxRestore[_0x5361cc(0x20f)]['add'](_0x5361cc(0x1f4)),dropboxBackup[_0x5361cc(0x20f)]['add'](_0x5361cc(0x1f4)),dropboxCloud[_0x5361cc(0x20f)][_0x5361cc(0x1fe)](_0x5361cc(0x1f4)));}),setTimeout(()=>{localStorageFile();},0xbb8);});