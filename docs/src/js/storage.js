const a0_0x378f57=a0_0x34fb;(function(_0x3715eb,_0x215f68){const _0x2d4896=a0_0x34fb,_0x5278dd=_0x3715eb();while(!![]){try{const _0x2fe380=-parseInt(_0x2d4896(0x1aa))/0x1+-parseInt(_0x2d4896(0x1d6))/0x2*(-parseInt(_0x2d4896(0x1ad))/0x3)+parseInt(_0x2d4896(0x1b0))/0x4*(-parseInt(_0x2d4896(0x19d))/0x5)+parseInt(_0x2d4896(0x1c5))/0x6+parseInt(_0x2d4896(0x1bb))/0x7+-parseInt(_0x2d4896(0x1cc))/0x8*(parseInt(_0x2d4896(0x197))/0x9)+-parseInt(_0x2d4896(0x1c8))/0xa*(-parseInt(_0x2d4896(0x1af))/0xb);if(_0x2fe380===_0x215f68)break;else _0x5278dd['push'](_0x5278dd['shift']());}catch(_0x1c14aa){_0x5278dd['push'](_0x5278dd['shift']());}}}(a0_0x44c5,0xb8f41));function a0_0x34fb(_0x2bb1ef,_0x39c980){const _0x44c5b5=a0_0x44c5();return a0_0x34fb=function(_0x34fb04,_0x130992){_0x34fb04=_0x34fb04-0x197;let _0x397b95=_0x44c5b5[_0x34fb04];return _0x397b95;},a0_0x34fb(_0x2bb1ef,_0x39c980);}import*as a0_0x28edd4 from'./main.js';const mgbaStorage=document[a0_0x378f57(0x198)](a0_0x378f57(0x1d5)),savesFile=document[a0_0x378f57(0x198)](a0_0x378f57(0x19a)),romsFile=document[a0_0x378f57(0x198)](a0_0x378f57(0x1da)),statesFile=document[a0_0x378f57(0x198)](a0_0x378f57(0x1b2)),screenshotsFile=document[a0_0x378f57(0x198)]('screenshotsFile');function humanFileSize(_0x497cdc,_0x11bcc9=![],_0x2c3280=0x1){const _0x42da7d=a0_0x378f57,_0xbdb00a=_0x11bcc9?0x3e8:0x400,_0x2c8a8c=_0x11bcc9?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x42da7d(0x1a3),'MiB','GiB',_0x42da7d(0x1b7),_0x42da7d(0x1d3),_0x42da7d(0x1ab),_0x42da7d(0x1b3),_0x42da7d(0x1ca)];let _0x38e83e=-0x1;do{_0x497cdc/=_0xbdb00a,++_0x38e83e;}while(Math[_0x42da7d(0x1a5)](_0x497cdc)>=_0xbdb00a&&_0x38e83e<_0x2c8a8c['length']-0x1);return _0x497cdc[_0x42da7d(0x1dd)](_0x2c3280)+'\x20'+_0x2c8a8c[_0x38e83e];}function createElementStorage(_0x1df76b,_0x278379,_0x159995){const _0x4f7b0c=a0_0x378f57,_0xd1a7dc=document[_0x4f7b0c(0x1db)]('div');_0xd1a7dc['classList'][_0x4f7b0c(0x1ce)](_0x4f7b0c(0x1a0),_0x4f7b0c(0x1a8),_0x4f7b0c(0x1df)),_0x1df76b[_0x4f7b0c(0x1a7)](_0xd1a7dc);const _0x35eaee=document[_0x4f7b0c(0x1db)](_0x4f7b0c(0x1b9));_0x35eaee['textContent']=_0x278379,_0x35eaee[_0x4f7b0c(0x1b4)][_0x4f7b0c(0x1ce)](_0x4f7b0c(0x1a0)),_0xd1a7dc[_0x4f7b0c(0x1a7)](_0x35eaee),_0x35eaee[_0x4f7b0c(0x1d9)]=()=>{const _0x533059=_0x4f7b0c,_0x126062=document['createElement']('dialog');_0x126062[_0x533059(0x1c3)]=()=>_0x126062[_0x533059(0x1bc)](),_0x1df76b[_0x533059(0x1a7)](_0x126062);const _0x37f8da=document[_0x533059(0x1db)](_0x533059(0x1be));_0x37f8da['classList']['add'](_0x533059(0x1d4),_0x533059(0x19c),_0x533059(0x1ba)),_0x126062[_0x533059(0x1a7)](_0x37f8da);const _0x1390df=document[_0x533059(0x1db)](_0x533059(0x1be));_0x1390df['classList']['add']('home','bc',_0x533059(0x1a0)),_0x37f8da['appendChild'](_0x1390df);const _0x1ade44=document[_0x533059(0x1db)](_0x533059(0x1be));_0x1ade44['classList'][_0x533059(0x1ce)](_0x533059(0x1a0)),_0x37f8da['appendChild'](_0x1ade44);const _0x5c20df=document['createElement'](_0x533059(0x1be));_0x5c20df[_0x533059(0x1b4)][_0x533059(0x1ce)](_0x533059(0x1a0)),_0x37f8da[_0x533059(0x1a7)](_0x5c20df);const _0x21d95f=document['createElement'](_0x533059(0x1be));_0x21d95f[_0x533059(0x1b4)][_0x533059(0x1ce)](_0x533059(0x1a0)),_0x37f8da[_0x533059(0x1a7)](_0x21d95f),mgbaStorage['classList'][_0x533059(0x1ce)]('opacity0'),_0x1390df['onclick']=()=>{const _0x4ef39f=_0x533059;_0x126062['close'](),_0x126062[_0x4ef39f(0x1bc)](),mgbaStorage['classList'][_0x4ef39f(0x1bc)](_0x4ef39f(0x1a6));};const _0x17b83f=document[_0x533059(0x1db)](_0x533059(0x1be));_0x17b83f[_0x533059(0x1b4)][_0x533059(0x1ce)](_0x533059(0x1a0),_0x533059(0x1a8),'hw','cw'),_0x17b83f[_0x533059(0x199)]=_0x278379,_0x126062[_0x533059(0x1a7)](_0x17b83f);const _0x4633c0=document['createElement']('div');_0x4633c0[_0x533059(0x1b4)][_0x533059(0x1ce)](_0x533059(0x1c1),'hw','cw','gap-16'),_0x126062['appendChild'](_0x4633c0);const _0x112494=document['createElement'](_0x533059(0x1be));_0x112494[_0x533059(0x1b4)][_0x533059(0x1ce)]('download','bc'),_0x4633c0[_0x533059(0x1a7)](_0x112494),_0x112494[_0x533059(0x1d9)]=()=>{const _0x2e2a70=_0x533059;a0_0x28edd4[_0x2e2a70(0x1b6)](_0x159995,_0x278379);};const _0x57e3d4=document[_0x533059(0x1db)](_0x533059(0x1be));_0x57e3d4[_0x533059(0x1b4)]['add'](_0x533059(0x1c2),'bc'),_0x4633c0['appendChild'](_0x57e3d4),_0x57e3d4['onclick']=async()=>{const _0x11d8da=_0x533059;if(window[_0x11d8da(0x1dc)](_0x11d8da(0x1a2)+_0x278379)){const _0x1a26ba=_0x278379[_0x11d8da(0x1cd)](/\....$/,_0x11d8da(0x1c4));a0_0x28edd4[_0x11d8da(0x1cb)](_0x159995),localStorage['removeItem'](_0x1a26ba+_0x11d8da(0x1a9)+_0x278379[_0x11d8da(0x1a4)](-0x1)),localStorage[_0x11d8da(0x1bd)](_0x1a26ba+'_imageState'+_0x278379['slice'](-0x1)),localStorageFile(),_0x126062[_0x11d8da(0x1c7)](),_0x126062[_0x11d8da(0x1bc)](),mgbaStorage[_0x11d8da(0x1b4)][_0x11d8da(0x1bc)](_0x11d8da(0x1a6));}};const _0x2b1110=document[_0x533059(0x1db)](_0x533059(0x1be));_0x2b1110[_0x533059(0x1b4)][_0x533059(0x1ce)]('rename','bc'),_0x4633c0['appendChild'](_0x2b1110),_0x2b1110['onclick']=async()=>{const _0x26162f=_0x533059,_0x1d7721=window['prompt'](_0x26162f(0x1a1),_0x278379);_0x1d7721!==null&&(a0_0x28edd4['editFile'](_0x159995,_0x278379,_0x1d7721),localStorageFile(),_0x126062[_0x26162f(0x1c7)](),_0x126062[_0x26162f(0x1bc)](),mgbaStorage[_0x26162f(0x1b4)][_0x26162f(0x1bc)](_0x26162f(0x1a6)));},_0x126062['showModal']();};const _0x1c5de5=document[_0x4f7b0c(0x1db)](_0x4f7b0c(0x1b9));_0x1c5de5['textContent']=humanFileSize(a0_0x28edd4[_0x4f7b0c(0x1bf)](_0x159995)),_0x1c5de5[_0x4f7b0c(0x1b4)][_0x4f7b0c(0x1ce)](_0x4f7b0c(0x1d0)),_0xd1a7dc[_0x4f7b0c(0x1a7)](_0x1c5de5);}export function localStorageFile(){const _0x586036=a0_0x378f57,_0x4aab13=a0_0x28edd4[_0x586036(0x1d8)](_0x586036(0x1d2)),_0x3a7c10=a0_0x28edd4['listFiles'](_0x586036(0x19b)),_0xa111b4=a0_0x28edd4[_0x586036(0x1d8)](_0x586036(0x1b1)),_0x4b4f30=a0_0x28edd4[_0x586036(0x1d8)]('cheats'),_0x303feb=a0_0x28edd4[_0x586036(0x1d8)](_0x586036(0x1d7)),_0x12552a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4690bb of _0x12552a){while(_0x4690bb[_0x586036(0x1c0)]){_0x4690bb[_0x586036(0x1cf)][_0x586036(0x1bc)]();}}for(const _0x3abf8 of _0x4aab13){createElementStorage(romsFile,_0x3abf8,'/data/games/'+_0x3abf8);}for(const _0x5cfb19 of _0xa111b4){createElementStorage(statesFile,_0x5cfb19,_0x586036(0x1b8)+_0x5cfb19);}for(const _0x201fd1 of _0x3a7c10){createElementStorage(savesFile,_0x201fd1,_0x586036(0x1ac)+_0x201fd1);}for(const _0x55bab5 of _0x4b4f30){createElementStorage(cheatsFile,_0x55bab5,_0x586036(0x1c6)+_0x55bab5);}for(const _0x53aeda of _0x303feb){createElementStorage(screenshotsFile,_0x53aeda,_0x586036(0x1de)+_0x53aeda);}}function a0_0x44c5(){const _0x581431=['uploadFile','6197587LirIKI','4wPoSSv','states','statesFile','ZiB','classList','active','downloadFile','TiB','/data/states/','span','gap-10','4010013nNRAGk','remove','removeItem','div','fileSize','firstChild','actionDiv','delete','onclose','.gba','7213026eBAcun','/data/cheats/','close','30jxGLNd','addEventListener','YiB','deleteFile','15152TuRUAd','replace','add','lastChild','mib','DOMContentLoaded','games','PiB','storage','mgba-storage','839134rzyMXi','screenshots','listFiles','onclick','romsFile','createElement','confirm','toFixed','/data/screenshots/','rom','6921fbIFMK','getElementById','textContent','savesFile','saves','right','4734055hyFqIf','getItem','disable','flex-1','Edit\x20filename','Delete\x20this\x20file?','KiB','slice','abs','opacity0','appendChild','rom-item','_dateState','1143549dtqGJw','EiB','/data/saves/','6siuFPK'];a0_0x44c5=function(){return _0x581431;};return a0_0x44c5();}document[a0_0x378f57(0x1c9)](a0_0x378f57(0x1d1),function(){const _0x4d8b00=a0_0x378f57;upLoadFile[_0x4d8b00(0x1c9)]('change',function(){const _0x52105c=_0x4d8b00;a0_0x28edd4[_0x52105c(0x1ae)](upLoadFile);}),openLocalStorage[_0x4d8b00(0x1c9)]('click',function(){const _0xeb4d85=_0x4d8b00,_0x573773=localStorage[_0xeb4d85(0x19e)]('uId');storage[_0xeb4d85(0x1b4)]['remove'](_0xeb4d85(0x19f)),intro[_0xeb4d85(0x1b4)][_0xeb4d85(0x1ce)](_0xeb4d85(0x19f)),ingame['classList'][_0xeb4d85(0x1ce)]('disable'),_0x573773===null||_0x573773===''?(dropboxRestore[_0xeb4d85(0x1b4)][_0xeb4d85(0x1bc)]('active'),dropboxBackup[_0xeb4d85(0x1b4)]['remove'](_0xeb4d85(0x1b5)),dropboxCloud[_0xeb4d85(0x1b4)][_0xeb4d85(0x1bc)](_0xeb4d85(0x1b5))):(dropboxRestore[_0xeb4d85(0x1b4)][_0xeb4d85(0x1ce)](_0xeb4d85(0x1b5)),dropboxBackup[_0xeb4d85(0x1b4)]['add'](_0xeb4d85(0x1b5)),dropboxCloud['classList'][_0xeb4d85(0x1ce)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});