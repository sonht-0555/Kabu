const a0_0x3b660c=a0_0x3802;(function(_0x4960e8,_0x418727){const _0x45cca=a0_0x3802,_0x5e05d0=_0x4960e8();while(!![]){try{const _0xe43d2b=parseInt(_0x45cca(0xd8))/0x1*(parseInt(_0x45cca(0x97))/0x2)+-parseInt(_0x45cca(0xd3))/0x3+parseInt(_0x45cca(0xc9))/0x4+parseInt(_0x45cca(0x8f))/0x5*(parseInt(_0x45cca(0x93))/0x6)+-parseInt(_0x45cca(0x9b))/0x7*(-parseInt(_0x45cca(0xc3))/0x8)+-parseInt(_0x45cca(0xb4))/0x9*(parseInt(_0x45cca(0xa7))/0xa)+-parseInt(_0x45cca(0xc8))/0xb;if(_0xe43d2b===_0x418727)break;else _0x5e05d0['push'](_0x5e05d0['shift']());}catch(_0x38a9bc){_0x5e05d0['push'](_0x5e05d0['shift']());}}}(a0_0x2a85,0xad2ab));import*as a0_0x20319b from'./main.js';const mgbaStorage=document['getElementById'](a0_0x3b660c(0xc0)),savesFile=document[a0_0x3b660c(0xc2)](a0_0x3b660c(0xc6)),romsFile=document[a0_0x3b660c(0xc2)](a0_0x3b660c(0xb2)),statesFile=document[a0_0x3b660c(0xc2)]('statesFile'),screenshotsFile=document[a0_0x3b660c(0xc2)](a0_0x3b660c(0xd4));function a0_0x3802(_0x4e2eba,_0xf85cd1){const _0x2a857e=a0_0x2a85();return a0_0x3802=function(_0x3802ca,_0x1b7362){_0x3802ca=_0x3802ca-0x8e;let _0x5e298b=_0x2a857e[_0x3802ca];return _0x5e298b;},a0_0x3802(_0x4e2eba,_0xf85cd1);}function humanFileSize(_0x1d3c81,_0x305e66=![],_0x22548b=0x1){const _0x4d32d3=a0_0x3b660c,_0x42a990=_0x305e66?0x3e8:0x400,_0x4ca13e=_0x305e66?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4d32d3(0xaf),_0x4d32d3(0xcd),_0x4d32d3(0xb8),'TiB',_0x4d32d3(0xbb),'EiB',_0x4d32d3(0xd6),_0x4d32d3(0xbc)];let _0x148bc9=-0x1;do{_0x1d3c81/=_0x42a990,++_0x148bc9;}while(Math['abs'](_0x1d3c81)>=_0x42a990&&_0x148bc9<_0x4ca13e[_0x4d32d3(0xce)]-0x1);return _0x1d3c81[_0x4d32d3(0xa2)](_0x22548b)+'\x20'+_0x4ca13e[_0x148bc9];}function createElementStorage(_0x3e7206,_0x317f53,_0x42fa81){const _0x14c8e3=a0_0x3b660c,_0x1b311e=document[_0x14c8e3(0xc1)]('div');_0x1b311e[_0x14c8e3(0xc4)][_0x14c8e3(0xa9)](_0x14c8e3(0xa6),_0x14c8e3(0xb7),_0x14c8e3(0xb3)),_0x3e7206['appendChild'](_0x1b311e);const _0x47d34d=document[_0x14c8e3(0xc1)]('span');_0x47d34d[_0x14c8e3(0xae)]=_0x317f53,_0x47d34d[_0x14c8e3(0xc4)][_0x14c8e3(0xa9)](_0x14c8e3(0xa6)),_0x1b311e['appendChild'](_0x47d34d),_0x47d34d[_0x14c8e3(0xbf)]=()=>{const _0x309b2c=_0x14c8e3,_0x26f683=document[_0x309b2c(0xc1)]('dialog');_0x26f683['onclose']=()=>_0x26f683[_0x309b2c(0x9c)](),_0x3e7206['appendChild'](_0x26f683);const _0x3471ce=document[_0x309b2c(0xc1)]('div');_0x3471ce[_0x309b2c(0xc4)]['add'](_0x309b2c(0xb9),_0x309b2c(0xbd),'gap-10'),_0x26f683[_0x309b2c(0xa0)](_0x3471ce);const _0x3d2f6f=document[_0x309b2c(0xc1)]('div');_0x3d2f6f[_0x309b2c(0xc4)][_0x309b2c(0xa9)]('home','bc','flex-1'),_0x3471ce['appendChild'](_0x3d2f6f);const _0x1921f4=document[_0x309b2c(0xc1)](_0x309b2c(0xbe));_0x1921f4['classList'][_0x309b2c(0xa9)](_0x309b2c(0xa6)),_0x3471ce[_0x309b2c(0xa0)](_0x1921f4);const _0x5259e4=document[_0x309b2c(0xc1)](_0x309b2c(0xbe));_0x5259e4['classList'][_0x309b2c(0xa9)](_0x309b2c(0xa6)),_0x3471ce[_0x309b2c(0xa0)](_0x5259e4);const _0x25e754=document[_0x309b2c(0xc1)](_0x309b2c(0xbe));_0x25e754['classList'][_0x309b2c(0xa9)]('flex-1'),_0x3471ce['appendChild'](_0x25e754),mgbaStorage[_0x309b2c(0xc4)][_0x309b2c(0xa9)](_0x309b2c(0x95)),_0x3d2f6f['onclick']=()=>{const _0x5fdd4d=_0x309b2c;_0x26f683['close'](),_0x26f683['remove'](),mgbaStorage[_0x5fdd4d(0xc4)][_0x5fdd4d(0x9c)](_0x5fdd4d(0x95));};const _0x2466e3=document[_0x309b2c(0xc1)]('div');_0x2466e3[_0x309b2c(0xc4)][_0x309b2c(0xa9)](_0x309b2c(0xa6),_0x309b2c(0xb7),'hw','cw'),_0x2466e3[_0x309b2c(0xae)]=_0x317f53,_0x26f683['appendChild'](_0x2466e3);const _0x5932fb=document['createElement'](_0x309b2c(0xbe));_0x5932fb[_0x309b2c(0xc4)]['add'](_0x309b2c(0x94),'hw','cw',_0x309b2c(0xc7)),_0x26f683[_0x309b2c(0xa0)](_0x5932fb);const _0x11fdab=document[_0x309b2c(0xc1)](_0x309b2c(0xbe));_0x11fdab[_0x309b2c(0xc4)][_0x309b2c(0xa9)](_0x309b2c(0x91),'bc'),_0x5932fb[_0x309b2c(0xa0)](_0x11fdab),_0x11fdab[_0x309b2c(0xbf)]=()=>{const _0x276974=_0x309b2c;a0_0x20319b[_0x276974(0xcb)](_0x42fa81,_0x317f53);};const _0x4fd4ee=document[_0x309b2c(0xc1)]('div');_0x4fd4ee['classList'][_0x309b2c(0xa9)](_0x309b2c(0xad),'bc'),_0x5932fb[_0x309b2c(0xa0)](_0x4fd4ee),_0x4fd4ee['onclick']=async()=>{const _0x1c8bbf=_0x309b2c;if(window[_0x1c8bbf(0xa4)](_0x1c8bbf(0xa3)+_0x317f53)){const _0x5ece6c=_0x317f53[_0x1c8bbf(0xaa)](/\....$/,_0x1c8bbf(0xa8));a0_0x20319b[_0x1c8bbf(0xb0)](_0x42fa81),localStorage['removeItem'](_0x5ece6c+_0x1c8bbf(0x96)+_0x317f53['slice'](-0x1)),localStorage['removeItem'](_0x5ece6c+_0x1c8bbf(0xcf)+_0x317f53[_0x1c8bbf(0x98)](-0x1)),localStorageFile(),_0x26f683[_0x1c8bbf(0x90)](),_0x26f683[_0x1c8bbf(0x9c)](),mgbaStorage[_0x1c8bbf(0xc4)][_0x1c8bbf(0x9c)](_0x1c8bbf(0x95));}};const _0x50b87b=document[_0x309b2c(0xc1)]('div');_0x50b87b[_0x309b2c(0xc4)][_0x309b2c(0xa9)](_0x309b2c(0xba),'bc'),_0x5932fb[_0x309b2c(0xa0)](_0x50b87b),_0x50b87b[_0x309b2c(0xbf)]=async()=>{const _0x50f83a=_0x309b2c,_0x199b5b=window['prompt']('Edit\x20filename',_0x317f53);_0x199b5b!==null&&(a0_0x20319b['editFile'](_0x42fa81,_0x317f53,_0x199b5b),localStorageFile(),_0x26f683[_0x50f83a(0x90)](),_0x26f683[_0x50f83a(0x9c)](),mgbaStorage[_0x50f83a(0xc4)]['remove']('opacity0'));},_0x26f683[_0x309b2c(0xab)]();};const _0x31c2c1=document[_0x14c8e3(0xc1)](_0x14c8e3(0x9a));_0x31c2c1[_0x14c8e3(0xae)]=humanFileSize(a0_0x20319b[_0x14c8e3(0xb6)](_0x42fa81)),_0x31c2c1[_0x14c8e3(0xc4)][_0x14c8e3(0xa9)](_0x14c8e3(0xa1)),_0x1b311e[_0x14c8e3(0xa0)](_0x31c2c1);}export function localStorageFile(){const _0x1fa529=a0_0x3b660c,_0x5e7b5c=a0_0x20319b['listFiles'](_0x1fa529(0x9d)),_0x41d77b=a0_0x20319b[_0x1fa529(0xb5)]('saves'),_0x5804c0=a0_0x20319b['listFiles']('states'),_0xf146a5=a0_0x20319b[_0x1fa529(0xb5)](_0x1fa529(0xd7)),_0x90559e=a0_0x20319b[_0x1fa529(0xb5)]('screenshots'),_0x19ab62=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x204e27 of _0x19ab62){while(_0x204e27[_0x1fa529(0xa5)]){_0x204e27[_0x1fa529(0x9e)][_0x1fa529(0x9c)]();}}for(const _0x16687c of _0x5e7b5c){createElementStorage(romsFile,_0x16687c,_0x1fa529(0x92)+_0x16687c);}for(const _0x58b20f of _0x5804c0){createElementStorage(statesFile,_0x58b20f,_0x1fa529(0xb1)+_0x58b20f);}for(const _0x21475f of _0x41d77b){createElementStorage(savesFile,_0x21475f,_0x1fa529(0xc5)+_0x21475f);}for(const _0x26e412 of _0xf146a5){createElementStorage(cheatsFile,_0x26e412,_0x1fa529(0xd1)+_0x26e412);}for(const _0x430af4 of _0x90559e){createElementStorage(screenshotsFile,_0x430af4,_0x1fa529(0xca)+_0x430af4);}}function a0_0x2a85(){const _0x4d0fe1=['_dateState','1646eBnmut','slice','uId','span','35QTJKPb','remove','games','lastChild','change','appendChild','mib','toFixed','Delete\x20this\x20file?','confirm','firstChild','flex-1','4298510tTwVLg','.gba','add','replace','showModal','getItem','delete','textContent','KiB','deleteFile','/data/states/','romsFile','rom','27MKAoBd','listFiles','fileSize','rom-item','GiB','storage','rename','PiB','YiB','right','div','onclick','mgba-storage','createElement','getElementById','2029728DdTonw','classList','/data/saves/','savesFile','gap-16','13488684VjhrBj','1403340jbSbIs','/data/screenshots/','downloadFile','addEventListener','MiB','length','_imageState','DOMContentLoaded','/data/cheats/','uploadFile','2685636yraXGd','screenshotsFile','active','ZiB','cheats','1723xPbKtK','disable','5414280xHKnJj','close','download','/data/games/','6gxowql','actionDiv','opacity0'];a0_0x2a85=function(){return _0x4d0fe1;};return a0_0x2a85();}document[a0_0x3b660c(0xcc)](a0_0x3b660c(0xd0),function(){const _0x4c9693=a0_0x3b660c;upLoadFile[_0x4c9693(0xcc)](_0x4c9693(0x9f),function(){const _0x4bc7e8=_0x4c9693;a0_0x20319b[_0x4bc7e8(0xd2)](upLoadFile);}),openLocalStorage[_0x4c9693(0xcc)]('click',function(){const _0x3778ad=_0x4c9693,_0xda8b7e=localStorage[_0x3778ad(0xac)](_0x3778ad(0x99));storage['classList']['remove'](_0x3778ad(0x8e)),intro['classList'][_0x3778ad(0xa9)](_0x3778ad(0x8e)),ingame['classList'][_0x3778ad(0xa9)](_0x3778ad(0x8e)),_0xda8b7e===null||_0xda8b7e===''?(dropboxRestore['classList'][_0x3778ad(0x9c)](_0x3778ad(0xd5)),dropboxBackup[_0x3778ad(0xc4)][_0x3778ad(0x9c)]('active'),dropboxCloud[_0x3778ad(0xc4)]['remove']('active')):(dropboxRestore['classList'][_0x3778ad(0xa9)]('active'),dropboxBackup[_0x3778ad(0xc4)]['add'](_0x3778ad(0xd5)),dropboxCloud[_0x3778ad(0xc4)]['add'](_0x3778ad(0xd5)));}),setTimeout(()=>{localStorageFile();},0xbb8);});