const a0_0x56c5a5=a0_0x1347;(function(_0x1d6b0f,_0x35aeb0){const _0x1fa404=a0_0x1347,_0x495d82=_0x1d6b0f();while(!![]){try{const _0x533d1a=parseInt(_0x1fa404(0x1b3))/0x1+-parseInt(_0x1fa404(0x1f6))/0x2+parseInt(_0x1fa404(0x1f9))/0x3*(parseInt(_0x1fa404(0x1ce))/0x4)+parseInt(_0x1fa404(0x1c4))/0x5+-parseInt(_0x1fa404(0x1be))/0x6+-parseInt(_0x1fa404(0x1cb))/0x7+-parseInt(_0x1fa404(0x1d0))/0x8;if(_0x533d1a===_0x35aeb0)break;else _0x495d82['push'](_0x495d82['shift']());}catch(_0x459bd8){_0x495d82['push'](_0x495d82['shift']());}}}(a0_0x5457,0xe8161));import*as a0_0x5d9812 from'./main.js';const mgbaStorage=document[a0_0x56c5a5(0x1c6)](a0_0x56c5a5(0x1b1)),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x56c5a5(0x1c6)](a0_0x56c5a5(0x1b9)),statesFile=document[a0_0x56c5a5(0x1c6)]('statesFile'),screenshotsFile=document['getElementById'](a0_0x56c5a5(0x1ba));function humanFileSize(_0xa845b4,_0xb60e96=![],_0x3a6f9f=0x1){const _0x2f84b4=a0_0x56c5a5,_0x43b9a3=_0xb60e96?0x3e8:0x400,_0x55d8b3=_0xb60e96?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2f84b4(0x1e0),_0x2f84b4(0x1af),_0x2f84b4(0x1d9),_0x2f84b4(0x1b8),_0x2f84b4(0x1dc),_0x2f84b4(0x1df),_0x2f84b4(0x1e1),_0x2f84b4(0x1b0)];let _0x344b03=-0x1;do{_0xa845b4/=_0x43b9a3,++_0x344b03;}while(Math[_0x2f84b4(0x1f1)](_0xa845b4)>=_0x43b9a3&&_0x344b03<_0x55d8b3['length']-0x1);return _0xa845b4[_0x2f84b4(0x1ef)](_0x3a6f9f)+'\x20'+_0x55d8b3[_0x344b03];}function a0_0x1347(_0x5accae,_0x4e7ca0){const _0x545723=a0_0x5457();return a0_0x1347=function(_0x134797,_0x4539f0){_0x134797=_0x134797-0x1ae;let _0x5191f7=_0x545723[_0x134797];return _0x5191f7;},a0_0x1347(_0x5accae,_0x4e7ca0);}function createElementStorage(_0x597619,_0x5076b2,_0x3c08aa){const _0x51e291=a0_0x56c5a5,_0xfa780e=document['createElement'](_0x51e291(0x1e7));_0xfa780e[_0x51e291(0x1ca)]['add'](_0x51e291(0x1d5),_0x51e291(0x1d3),_0x51e291(0x1e2)),_0x597619[_0x51e291(0x1c0)](_0xfa780e);const _0x29444c=document['createElement'](_0x51e291(0x1db));_0x29444c[_0x51e291(0x1c3)]=_0x5076b2,_0x29444c[_0x51e291(0x1ca)][_0x51e291(0x1e8)](_0x51e291(0x1d5)),_0xfa780e[_0x51e291(0x1c0)](_0x29444c),_0x29444c[_0x51e291(0x1cc)]=()=>{const _0x4c2479=_0x51e291,_0x102dcc=document[_0x4c2479(0x1dd)]('dialog');_0x102dcc['onclose']=()=>_0x102dcc[_0x4c2479(0x1e4)](),_0x597619['appendChild'](_0x102dcc);const _0x51f9ad=document['createElement'](_0x4c2479(0x1e7));_0x51f9ad[_0x4c2479(0x1ca)]['add'](_0x4c2479(0x1c9),_0x4c2479(0x1ed),_0x4c2479(0x1bd)),_0x102dcc[_0x4c2479(0x1c0)](_0x51f9ad);const _0x5c2fdd=document[_0x4c2479(0x1dd)](_0x4c2479(0x1e7));_0x5c2fdd['classList'][_0x4c2479(0x1e8)](_0x4c2479(0x1c1),'bc',_0x4c2479(0x1d5)),_0x51f9ad[_0x4c2479(0x1c0)](_0x5c2fdd);const _0x328eb0=document[_0x4c2479(0x1dd)](_0x4c2479(0x1e7));_0x328eb0[_0x4c2479(0x1ca)][_0x4c2479(0x1e8)](_0x4c2479(0x1d5)),_0x51f9ad[_0x4c2479(0x1c0)](_0x328eb0);const _0xc75aa7=document[_0x4c2479(0x1dd)]('div');_0xc75aa7[_0x4c2479(0x1ca)][_0x4c2479(0x1e8)](_0x4c2479(0x1d5)),_0x51f9ad[_0x4c2479(0x1c0)](_0xc75aa7);const _0x147a16=document[_0x4c2479(0x1dd)]('div');_0x147a16[_0x4c2479(0x1ca)]['add'](_0x4c2479(0x1d5)),_0x51f9ad[_0x4c2479(0x1c0)](_0x147a16),mgbaStorage[_0x4c2479(0x1ca)][_0x4c2479(0x1e8)](_0x4c2479(0x1f3)),_0x5c2fdd['onclick']=()=>{const _0x4e5bc7=_0x4c2479;_0x102dcc['close'](),_0x102dcc[_0x4e5bc7(0x1e4)](),mgbaStorage['classList'][_0x4e5bc7(0x1e4)](_0x4e5bc7(0x1f3));};const _0x1b8acd=document[_0x4c2479(0x1dd)](_0x4c2479(0x1e7));_0x1b8acd['classList'][_0x4c2479(0x1e8)](_0x4c2479(0x1d5),_0x4c2479(0x1d3),'hw','cw'),_0x1b8acd['textContent']=_0x5076b2,_0x102dcc['appendChild'](_0x1b8acd);const _0x2ff998=document[_0x4c2479(0x1dd)]('div');_0x2ff998['classList'][_0x4c2479(0x1e8)](_0x4c2479(0x1f0),'hw','cw',_0x4c2479(0x1bf)),_0x102dcc['appendChild'](_0x2ff998);const _0x25d839=document[_0x4c2479(0x1dd)]('div');_0x25d839[_0x4c2479(0x1ca)]['add']('download','bc'),_0x2ff998['appendChild'](_0x25d839),_0x25d839[_0x4c2479(0x1cc)]=()=>{const _0x261257=_0x4c2479;a0_0x5d9812[_0x261257(0x1cf)](_0x3c08aa,_0x5076b2);};const _0x58cf59=document[_0x4c2479(0x1dd)](_0x4c2479(0x1e7));_0x58cf59[_0x4c2479(0x1ca)][_0x4c2479(0x1e8)]('delete','bc'),_0x2ff998[_0x4c2479(0x1c0)](_0x58cf59),_0x58cf59[_0x4c2479(0x1cc)]=async()=>{const _0x33f7a8=_0x4c2479;if(window[_0x33f7a8(0x1d4)]('Delete\x20this\x20file?'+_0x5076b2)){const _0x2442b5=_0x5076b2['replace'](/\....$/,_0x33f7a8(0x1b5));a0_0x5d9812['deleteFile'](_0x3c08aa),localStorage[_0x33f7a8(0x1ec)](_0x2442b5+_0x33f7a8(0x1d2)+_0x5076b2[_0x33f7a8(0x1da)](-0x1)),localStorage[_0x33f7a8(0x1ec)](_0x2442b5+_0x33f7a8(0x1b4)+_0x5076b2[_0x33f7a8(0x1da)](-0x1)),localStorageFile(),_0x102dcc[_0x33f7a8(0x1b7)](),_0x102dcc[_0x33f7a8(0x1e4)](),mgbaStorage[_0x33f7a8(0x1ca)][_0x33f7a8(0x1e4)](_0x33f7a8(0x1f3));}};const _0x4d181f=document[_0x4c2479(0x1dd)](_0x4c2479(0x1e7));_0x4d181f[_0x4c2479(0x1ca)][_0x4c2479(0x1e8)](_0x4c2479(0x1d8),'bc'),_0x2ff998[_0x4c2479(0x1c0)](_0x4d181f),_0x4d181f[_0x4c2479(0x1cc)]=async()=>{const _0x2221d0=_0x4c2479,_0x51b260=window[_0x2221d0(0x1e5)]('Edit\x20filename',_0x5076b2);if(_0x51b260!==null){const _0x5419b0=_0x5076b2[_0x2221d0(0x1b2)](/\....$/,_0x2221d0(0x1b5)),_0x194de9=_0x51b260[_0x2221d0(0x1b2)](/\....$/,'.gba'),_0x35f359=_0x5419b0+_0x2221d0(0x1d2)+_0x5076b2[_0x2221d0(0x1da)](-0x1),_0x287625=_0x5419b0+_0x2221d0(0x1b4)+_0x5076b2['slice'](-0x1),_0x16ae25=_0x194de9+_0x2221d0(0x1d2)+_0x51b260[_0x2221d0(0x1da)](-0x1),_0x5995fa=_0x194de9+_0x2221d0(0x1b4)+_0x51b260['slice'](-0x1),_0x3a62ff=localStorage['getItem'](_0x35f359),_0x2883fc=localStorage[_0x2221d0(0x1eb)](_0x287625);_0x3a62ff!==null&&(localStorage[_0x2221d0(0x1e6)](_0x16ae25,_0x3a62ff),localStorage[_0x2221d0(0x1ec)](_0x35f359)),_0x2883fc!==null&&(localStorage[_0x2221d0(0x1e6)](_0x5995fa,_0x2883fc),localStorage[_0x2221d0(0x1ec)](_0x287625)),a0_0x5d9812['editFile'](_0x3c08aa,_0x5076b2,_0x51b260),localStorageFile(),_0x102dcc[_0x2221d0(0x1b7)](),_0x102dcc[_0x2221d0(0x1e4)](),mgbaStorage[_0x2221d0(0x1ca)][_0x2221d0(0x1e4)](_0x2221d0(0x1f3));}},_0x102dcc[_0x4c2479(0x1c8)]();};const _0x436f73=document[_0x51e291(0x1dd)]('span');_0x436f73[_0x51e291(0x1c3)]=humanFileSize(a0_0x5d9812[_0x51e291(0x1c5)](_0x3c08aa)),_0x436f73[_0x51e291(0x1ca)][_0x51e291(0x1e8)](_0x51e291(0x1f4)),_0xfa780e[_0x51e291(0x1c0)](_0x436f73);}export function localStorageFile(){const _0x219957=a0_0x56c5a5,_0x15b55b=a0_0x5d9812[_0x219957(0x1f7)](),_0x5a5ae7=a0_0x5d9812['listSave'](),_0x37755e=a0_0x5d9812[_0x219957(0x1e3)](),_0x106040=a0_0x5d9812[_0x219957(0x1b6)](),_0x51fb9d=a0_0x5d9812[_0x219957(0x1f2)](),_0x518cf7=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xf6e553 of _0x518cf7){while(_0xf6e553[_0x219957(0x1f5)]){_0xf6e553[_0x219957(0x1d1)][_0x219957(0x1e4)]();}}for(const _0x28d31b of _0x15b55b){createElementStorage(romsFile,_0x28d31b,_0x219957(0x1cd)+_0x28d31b);}for(const _0x4a81fa of _0x37755e){createElementStorage(statesFile,_0x4a81fa,_0x219957(0x1bb)+_0x4a81fa);}for(const _0x2b17ba of _0x5a5ae7){createElementStorage(savesFile,_0x2b17ba,_0x219957(0x1ae)+_0x2b17ba);}for(const _0x98328d of _0x106040){createElementStorage(cheatsFile,_0x98328d,_0x219957(0x1d6)+_0x98328d);}for(const _0x42993 of _0x51fb9d){createElementStorage(screenshotsFile,_0x42993,'/data/screenshots/'+_0x42993);}}document[a0_0x56c5a5(0x1e9)]('DOMContentLoaded',function(){const _0x3be998=a0_0x56c5a5;upLoadFile['addEventListener'](_0x3be998(0x1bc),function(){const _0x5c67b0=_0x3be998,_0x22c794=upLoadFile['files'][0x0]['name'];if(_0x22c794[_0x5c67b0(0x1c7)]('.cheats'))a0_0x5d9812[_0x5c67b0(0x1de)](upLoadFile);else _0x22c794[_0x5c67b0(0x1c7)]('.gba')||_0x22c794[_0x5c67b0(0x1c7)]('.gbc')||_0x22c794[_0x5c67b0(0x1c7)](_0x5c67b0(0x1ee))?a0_0x5d9812[_0x5c67b0(0x1c2)](upLoadFile):a0_0x5d9812['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x3be998(0x1e9)]('click',function(){const _0x45b418=_0x3be998,_0x5ef7dc=localStorage['getItem'](_0x45b418(0x1f8));storage['classList'][_0x45b418(0x1e4)]('disable'),intro['classList']['add'](_0x45b418(0x1d7)),ingame[_0x45b418(0x1ca)][_0x45b418(0x1e8)]('disable'),_0x5ef7dc===null||_0x5ef7dc===''?(dropboxRestore[_0x45b418(0x1ca)]['remove'](_0x45b418(0x1ea)),dropboxBackup[_0x45b418(0x1ca)][_0x45b418(0x1e4)](_0x45b418(0x1ea)),dropboxCloud[_0x45b418(0x1ca)]['remove'](_0x45b418(0x1ea))):(dropboxRestore[_0x45b418(0x1ca)][_0x45b418(0x1e8)](_0x45b418(0x1ea)),dropboxBackup[_0x45b418(0x1ca)][_0x45b418(0x1e8)](_0x45b418(0x1ea)),dropboxCloud[_0x45b418(0x1ca)]['add'](_0x45b418(0x1ea)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x5457(){const _0x14ac7b=['14797656JUNWuq','lastChild','_dateState','rom-item','confirm','flex-1','/data/cheats/','disable','rename','GiB','slice','span','PiB','createElement','uploadCheat','EiB','KiB','ZiB','rom','listState','remove','prompt','setItem','div','add','addEventListener','active','getItem','removeItem','right','.bc','toFixed','actionDiv','abs','listScreenshot','opacity0','mib','firstChild','906004fuPDJq','listGame','uId','234ozdSaU','/data/saves/','MiB','YiB','mgba-storage','replace','1837750wbYDCy','_imageState','.gba','listCheat','close','TiB','romsFile','screenshotsFile','/data/states/','change','gap-10','1586844ZFWOWS','gap-16','appendChild','home','uploadGame','textContent','8946745lGBAfd','fileSize','getElementById','endsWith','showModal','storage','classList','6138223XgHwjZ','onclick','/data/games/','39364mZpFxD','downloadFile'];a0_0x5457=function(){return _0x14ac7b;};return a0_0x5457();}