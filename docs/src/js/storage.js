const a0_0x4d2800=a0_0x277c;(function(_0x456bde,_0x4b12d7){const _0x57dd7b=a0_0x277c,_0x338e16=_0x456bde();while(!![]){try{const _0x1fc7fc=parseInt(_0x57dd7b(0x202))/0x1+-parseInt(_0x57dd7b(0x1dc))/0x2*(-parseInt(_0x57dd7b(0x1ea))/0x3)+parseInt(_0x57dd7b(0x20f))/0x4*(-parseInt(_0x57dd7b(0x1f9))/0x5)+parseInt(_0x57dd7b(0x204))/0x6+-parseInt(_0x57dd7b(0x1f8))/0x7+parseInt(_0x57dd7b(0x208))/0x8*(parseInt(_0x57dd7b(0x1f1))/0x9)+-parseInt(_0x57dd7b(0x1e6))/0xa;if(_0x1fc7fc===_0x4b12d7)break;else _0x338e16['push'](_0x338e16['shift']());}catch(_0x62a74d){_0x338e16['push'](_0x338e16['shift']());}}}(a0_0x1da9,0xb1d8b));function a0_0x1da9(){const _0x45b317=['showModal','ZiB','207VrKeVB','mgba-storage','flex-1','_dateState','romsFile','textContent','listFiles','2525579muuzgN','42715dFDkvu','fileSize','mib','DOMContentLoaded','delete','downloadFile','savesFile','removeItem','firstChild','1049235aCiucp','_imageState','6556278flmABG','lastChild','rom-item','cheats','219896AcCWjf','editFile','slice','abs','disable','uploadFile','Edit\x20filename','652WWhKgQ','states','createElement','download','addEventListener','onclose','/data/saves/','opacity0','getItem','change','TiB','screenshotsFile','deleteFile','GiB','close','classList','uId','div','add','remove','/data/screenshots/','/data/states/','gap-10','rename','2dkdcmV','click','statesFile','getElementById','games','onclick','PiB','KiB','appendChild','gap-16','5954150UHPFWm','active','.gba','toFixed','909093JgvnJr','replace','Delete\x20this\x20file?','right','confirm'];a0_0x1da9=function(){return _0x45b317;};return a0_0x1da9();}function a0_0x277c(_0x4a6295,_0x17c4d6){const _0x1da9d8=a0_0x1da9();return a0_0x277c=function(_0x277cb9,_0x157a14){_0x277cb9=_0x277cb9-0x1d3;let _0x25e307=_0x1da9d8[_0x277cb9];return _0x25e307;},a0_0x277c(_0x4a6295,_0x17c4d6);}import*as a0_0x5ea298 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x4d2800(0x1f2)),savesFile=document[a0_0x4d2800(0x1df)](a0_0x4d2800(0x1ff)),romsFile=document[a0_0x4d2800(0x1df)](a0_0x4d2800(0x1f5)),statesFile=document[a0_0x4d2800(0x1df)](a0_0x4d2800(0x1de)),screenshotsFile=document[a0_0x4d2800(0x1df)](a0_0x4d2800(0x21a));function humanFileSize(_0x132a3b,_0x5ce1ff=![],_0x437a6d=0x1){const _0x407f96=a0_0x4d2800,_0x56bdb4=_0x5ce1ff?0x3e8:0x400,_0x4e599a=_0x5ce1ff?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x407f96(0x1e3),'MiB',_0x407f96(0x21c),_0x407f96(0x219),_0x407f96(0x1e2),'EiB',_0x407f96(0x1f0),'YiB'];let _0x37f8e9=-0x1;do{_0x132a3b/=_0x56bdb4,++_0x37f8e9;}while(Math[_0x407f96(0x20b)](_0x132a3b)>=_0x56bdb4&&_0x37f8e9<_0x4e599a['length']-0x1);return _0x132a3b[_0x407f96(0x1e9)](_0x437a6d)+'\x20'+_0x4e599a[_0x37f8e9];}function createElementStorage(_0x4253c0,_0x54b334,_0x14496c){const _0x18303a=a0_0x4d2800,_0x22426b=document[_0x18303a(0x211)](_0x18303a(0x1d5));_0x22426b['classList']['add']('flex-1',_0x18303a(0x206),'rom'),_0x4253c0['appendChild'](_0x22426b);const _0x892b45=document[_0x18303a(0x211)]('span');_0x892b45['textContent']=_0x54b334,_0x892b45['classList'][_0x18303a(0x1d6)](_0x18303a(0x1f3)),_0x22426b['appendChild'](_0x892b45),_0x892b45[_0x18303a(0x1e1)]=()=>{const _0x5eb24a=_0x18303a,_0x1a773a=document['createElement']('dialog');_0x1a773a[_0x5eb24a(0x214)]=()=>_0x1a773a['remove'](),_0x4253c0[_0x5eb24a(0x1e4)](_0x1a773a);const _0x1bbbd3=document[_0x5eb24a(0x211)](_0x5eb24a(0x1d5));_0x1bbbd3[_0x5eb24a(0x1d3)]['add']('storage',_0x5eb24a(0x1ed),_0x5eb24a(0x1da)),_0x1a773a[_0x5eb24a(0x1e4)](_0x1bbbd3);const _0x5b5795=document[_0x5eb24a(0x211)]('div');_0x5b5795[_0x5eb24a(0x1d3)][_0x5eb24a(0x1d6)]('home','bc',_0x5eb24a(0x1f3)),_0x1bbbd3[_0x5eb24a(0x1e4)](_0x5b5795);const _0x192fb4=document[_0x5eb24a(0x211)](_0x5eb24a(0x1d5));_0x192fb4[_0x5eb24a(0x1d3)]['add'](_0x5eb24a(0x1f3)),_0x1bbbd3['appendChild'](_0x192fb4);const _0x30b61c=document[_0x5eb24a(0x211)]('div');_0x30b61c[_0x5eb24a(0x1d3)]['add'](_0x5eb24a(0x1f3)),_0x1bbbd3['appendChild'](_0x30b61c);const _0x16acaf=document[_0x5eb24a(0x211)](_0x5eb24a(0x1d5));_0x16acaf[_0x5eb24a(0x1d3)][_0x5eb24a(0x1d6)](_0x5eb24a(0x1f3)),_0x1bbbd3[_0x5eb24a(0x1e4)](_0x16acaf),mgbaStorage[_0x5eb24a(0x1d3)][_0x5eb24a(0x1d6)]('opacity0'),_0x5b5795[_0x5eb24a(0x1e1)]=()=>{const _0x30c801=_0x5eb24a;_0x1a773a[_0x30c801(0x21d)](),_0x1a773a['remove'](),mgbaStorage[_0x30c801(0x1d3)][_0x30c801(0x1d7)]('opacity0');};const _0x268b5f=document[_0x5eb24a(0x211)]('div');_0x268b5f[_0x5eb24a(0x1d3)][_0x5eb24a(0x1d6)]('flex-1',_0x5eb24a(0x206),'hw','cw'),_0x268b5f[_0x5eb24a(0x1f6)]=_0x54b334,_0x1a773a[_0x5eb24a(0x1e4)](_0x268b5f);const _0x30bcc0=document['createElement']('div');_0x30bcc0['classList'][_0x5eb24a(0x1d6)]('actionDiv','hw','cw',_0x5eb24a(0x1e5)),_0x1a773a[_0x5eb24a(0x1e4)](_0x30bcc0);const _0x20d42c=document[_0x5eb24a(0x211)](_0x5eb24a(0x1d5));_0x20d42c['classList'][_0x5eb24a(0x1d6)](_0x5eb24a(0x212),'bc'),_0x30bcc0[_0x5eb24a(0x1e4)](_0x20d42c),_0x20d42c[_0x5eb24a(0x1e1)]=()=>{const _0x6baa12=_0x5eb24a;a0_0x5ea298[_0x6baa12(0x1fe)](_0x14496c,_0x54b334);};const _0x42542b=document['createElement']('div');_0x42542b['classList'][_0x5eb24a(0x1d6)](_0x5eb24a(0x1fd),'bc'),_0x30bcc0[_0x5eb24a(0x1e4)](_0x42542b),_0x42542b[_0x5eb24a(0x1e1)]=async()=>{const _0x18dc89=_0x5eb24a;if(window[_0x18dc89(0x1ee)](_0x18dc89(0x1ec)+_0x54b334)){const _0x61ab6d=_0x54b334[_0x18dc89(0x1eb)](/\....$/,_0x18dc89(0x1e8));a0_0x5ea298[_0x18dc89(0x21b)](_0x14496c),localStorage[_0x18dc89(0x200)](_0x61ab6d+_0x18dc89(0x1f4)+_0x54b334[_0x18dc89(0x20a)](-0x1)),localStorage[_0x18dc89(0x200)](_0x61ab6d+_0x18dc89(0x203)+_0x54b334[_0x18dc89(0x20a)](-0x1)),localStorageFile(),_0x1a773a[_0x18dc89(0x21d)](),_0x1a773a[_0x18dc89(0x1d7)](),mgbaStorage[_0x18dc89(0x1d3)][_0x18dc89(0x1d7)](_0x18dc89(0x216));}};const _0x491e2d=document[_0x5eb24a(0x211)]('div');_0x491e2d[_0x5eb24a(0x1d3)][_0x5eb24a(0x1d6)](_0x5eb24a(0x1db),'bc'),_0x30bcc0[_0x5eb24a(0x1e4)](_0x491e2d),_0x491e2d[_0x5eb24a(0x1e1)]=async()=>{const _0x503685=_0x5eb24a,_0x61752b=window['prompt'](_0x503685(0x20e),_0x54b334);_0x61752b!==null&&(a0_0x5ea298[_0x503685(0x209)](_0x14496c,_0x54b334,_0x61752b),localStorageFile(),_0x1a773a[_0x503685(0x21d)](),_0x1a773a[_0x503685(0x1d7)](),mgbaStorage['classList']['remove'](_0x503685(0x216)));},_0x1a773a[_0x5eb24a(0x1ef)]();};const _0xf28cbb=document['createElement']('span');_0xf28cbb[_0x18303a(0x1f6)]=humanFileSize(a0_0x5ea298[_0x18303a(0x1fa)](_0x14496c)),_0xf28cbb[_0x18303a(0x1d3)][_0x18303a(0x1d6)](_0x18303a(0x1fb)),_0x22426b['appendChild'](_0xf28cbb);}export function localStorageFile(){const _0x3e393=a0_0x4d2800,_0x1b5b81=a0_0x5ea298[_0x3e393(0x1f7)](_0x3e393(0x1e0)),_0x14a704=a0_0x5ea298['listFiles']('saves'),_0x1f1304=a0_0x5ea298[_0x3e393(0x1f7)](_0x3e393(0x210)),_0xf5415b=a0_0x5ea298[_0x3e393(0x1f7)](_0x3e393(0x207)),_0x44e06e=a0_0x5ea298['listFiles']('screenshots'),_0x2f5e98=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x149667 of _0x2f5e98){while(_0x149667[_0x3e393(0x201)]){_0x149667[_0x3e393(0x205)]['remove']();}}for(const _0x1a06e3 of _0x1b5b81){createElementStorage(romsFile,_0x1a06e3,'/data/games/'+_0x1a06e3);}for(const _0x573b9d of _0x1f1304){createElementStorage(statesFile,_0x573b9d,_0x3e393(0x1d9)+_0x573b9d);}for(const _0x385090 of _0x14a704){createElementStorage(savesFile,_0x385090,_0x3e393(0x215)+_0x385090);}for(const _0x21398c of _0xf5415b){createElementStorage(cheatsFile,_0x21398c,'/data/cheats/'+_0x21398c);}for(const _0x2f0e5c of _0x44e06e){createElementStorage(screenshotsFile,_0x2f0e5c,_0x3e393(0x1d8)+_0x2f0e5c);}}document['addEventListener'](a0_0x4d2800(0x1fc),function(){const _0x3fad0f=a0_0x4d2800;upLoadFile[_0x3fad0f(0x213)](_0x3fad0f(0x218),function(){const _0x83c5bd=_0x3fad0f;a0_0x5ea298[_0x83c5bd(0x20d)](upLoadFile);}),openLocalStorage[_0x3fad0f(0x213)](_0x3fad0f(0x1dd),function(){const _0x522fea=_0x3fad0f,_0x389c8a=localStorage[_0x522fea(0x217)](_0x522fea(0x1d4));storage[_0x522fea(0x1d3)][_0x522fea(0x1d7)]('disable'),intro[_0x522fea(0x1d3)][_0x522fea(0x1d6)]('disable'),ingame[_0x522fea(0x1d3)][_0x522fea(0x1d6)](_0x522fea(0x20c)),_0x389c8a===null||_0x389c8a===''?(dropboxRestore[_0x522fea(0x1d3)][_0x522fea(0x1d7)](_0x522fea(0x1e7)),dropboxBackup[_0x522fea(0x1d3)][_0x522fea(0x1d7)]('active'),dropboxCloud[_0x522fea(0x1d3)][_0x522fea(0x1d7)](_0x522fea(0x1e7))):(dropboxRestore[_0x522fea(0x1d3)]['add'](_0x522fea(0x1e7)),dropboxBackup['classList']['add'](_0x522fea(0x1e7)),dropboxCloud[_0x522fea(0x1d3)][_0x522fea(0x1d6)](_0x522fea(0x1e7)));}),setTimeout(()=>{localStorageFile();},0xbb8);});