const a0_0x4d6cf2=a0_0x1104;function a0_0x1104(_0x59268f,_0x7c6a16){const _0x573912=a0_0x5739();return a0_0x1104=function(_0x110439,_0x458254){_0x110439=_0x110439-0xa5;let _0x163dc7=_0x573912[_0x110439];return _0x163dc7;},a0_0x1104(_0x59268f,_0x7c6a16);}(function(_0x3100ac,_0x2bab3f){const _0x5c7ec9=a0_0x1104,_0x3bdcce=_0x3100ac();while(!![]){try{const _0x4b6aa4=-parseInt(_0x5c7ec9(0xd8))/0x1+-parseInt(_0x5c7ec9(0xc8))/0x2+parseInt(_0x5c7ec9(0xee))/0x3+parseInt(_0x5c7ec9(0xcf))/0x4+-parseInt(_0x5c7ec9(0xb8))/0x5+-parseInt(_0x5c7ec9(0xc7))/0x6*(parseInt(_0x5c7ec9(0xa5))/0x7)+-parseInt(_0x5c7ec9(0xbe))/0x8*(-parseInt(_0x5c7ec9(0xc4))/0x9);if(_0x4b6aa4===_0x2bab3f)break;else _0x3bdcce['push'](_0x3bdcce['shift']());}catch(_0x43cfd9){_0x3bdcce['push'](_0x3bdcce['shift']());}}}(a0_0x5739,0x2360e));import*as a0_0x4478c6 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x4d6cf2(0xc1)),savesFile=document[a0_0x4d6cf2(0xf0)]('savesFile'),romsFile=document['getElementById'](a0_0x4d6cf2(0xdc)),statesFile=document['getElementById'](a0_0x4d6cf2(0xc0)),screenshotsFile=document['getElementById'](a0_0x4d6cf2(0xcd));function humanFileSize(_0x5d02bc,_0x146e7d=![],_0x13823c=0x1){const _0x4613c8=a0_0x4d6cf2,_0x5c8def=_0x146e7d?0x3e8:0x400,_0x5a242f=_0x146e7d?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4613c8(0xb7),'MiB',_0x4613c8(0xe8),_0x4613c8(0xab),'PiB',_0x4613c8(0xe1),_0x4613c8(0xe3),_0x4613c8(0xc5)];let _0x584fb6=-0x1;do{_0x5d02bc/=_0x5c8def,++_0x584fb6;}while(Math[_0x4613c8(0xe5)](_0x5d02bc)>=_0x5c8def&&_0x584fb6<_0x5a242f[_0x4613c8(0xea)]-0x1);return _0x5d02bc[_0x4613c8(0xb4)](_0x13823c)+'\x20'+_0x5a242f[_0x584fb6];}function createElementStorage(_0x54442e,_0x16a7ef,_0x30eec5){const _0x22170f=a0_0x4d6cf2,_0x1d3cb6=document[_0x22170f(0xa8)]('div');_0x1d3cb6[_0x22170f(0xbd)][_0x22170f(0xdd)](_0x22170f(0xe4),_0x22170f(0xc6),'rom'),_0x54442e[_0x22170f(0xbf)](_0x1d3cb6);const _0x1a7eee=document['createElement'](_0x22170f(0xeb));_0x1a7eee[_0x22170f(0xc9)]=_0x16a7ef,_0x1a7eee[_0x22170f(0xbd)][_0x22170f(0xdd)]('flex-1'),_0x1d3cb6[_0x22170f(0xbf)](_0x1a7eee),_0x1a7eee[_0x22170f(0xb3)]=()=>{const _0x4fc67e=_0x22170f,_0x2bcb46=document[_0x4fc67e(0xa8)](_0x4fc67e(0xaa));_0x2bcb46[_0x4fc67e(0xdf)]=()=>_0x2bcb46[_0x4fc67e(0xce)](),_0x54442e['appendChild'](_0x2bcb46);const _0x18d1f4=document[_0x4fc67e(0xa8)](_0x4fc67e(0xcb));_0x18d1f4[_0x4fc67e(0xbd)]['add'](_0x4fc67e(0xb0),_0x4fc67e(0xba),'gap-10'),_0x2bcb46[_0x4fc67e(0xbf)](_0x18d1f4);const _0x1ccc3f=document['createElement'](_0x4fc67e(0xcb));_0x1ccc3f['classList'][_0x4fc67e(0xdd)]('home','bc',_0x4fc67e(0xe4)),_0x18d1f4['appendChild'](_0x1ccc3f);const _0x27aa1e=document[_0x4fc67e(0xa8)]('div');_0x27aa1e[_0x4fc67e(0xbd)][_0x4fc67e(0xdd)](_0x4fc67e(0xe4)),_0x18d1f4[_0x4fc67e(0xbf)](_0x27aa1e);const _0x37d715=document[_0x4fc67e(0xa8)](_0x4fc67e(0xcb));_0x37d715['classList'][_0x4fc67e(0xdd)](_0x4fc67e(0xe4)),_0x18d1f4['appendChild'](_0x37d715);const _0x435f24=document[_0x4fc67e(0xa8)]('div');_0x435f24['classList'][_0x4fc67e(0xdd)](_0x4fc67e(0xe4)),_0x18d1f4[_0x4fc67e(0xbf)](_0x435f24),mgbaStorage[_0x4fc67e(0xbd)]['add']('opacity0'),_0x1ccc3f[_0x4fc67e(0xb3)]=()=>{const _0x5944db=_0x4fc67e;_0x2bcb46['close'](),_0x2bcb46[_0x5944db(0xce)](),mgbaStorage[_0x5944db(0xbd)]['remove'](_0x5944db(0xbc));};const _0x56308a=document[_0x4fc67e(0xa8)](_0x4fc67e(0xcb));_0x56308a[_0x4fc67e(0xbd)][_0x4fc67e(0xdd)]('flex-1','rom-item','hw','cw'),_0x56308a['textContent']=_0x16a7ef,_0x2bcb46['appendChild'](_0x56308a);const _0x4cbb8f=document['createElement'](_0x4fc67e(0xcb));_0x4cbb8f[_0x4fc67e(0xbd)][_0x4fc67e(0xdd)]('actionDiv','hw','cw',_0x4fc67e(0xef)),_0x2bcb46[_0x4fc67e(0xbf)](_0x4cbb8f);const _0x93e20e=document['createElement'](_0x4fc67e(0xcb));_0x93e20e[_0x4fc67e(0xbd)][_0x4fc67e(0xdd)]('download','bc'),_0x4cbb8f[_0x4fc67e(0xbf)](_0x93e20e),_0x93e20e[_0x4fc67e(0xb3)]=()=>{a0_0x4478c6['downloadFile'](_0x30eec5,_0x16a7ef);};const _0x347191=document[_0x4fc67e(0xa8)](_0x4fc67e(0xcb));_0x347191[_0x4fc67e(0xbd)][_0x4fc67e(0xdd)](_0x4fc67e(0xda),'bc'),_0x4cbb8f[_0x4fc67e(0xbf)](_0x347191),_0x347191[_0x4fc67e(0xb3)]=async()=>{const _0x5df086=_0x4fc67e;if(window[_0x5df086(0xb9)](_0x5df086(0xd7)+_0x16a7ef)){const _0x1b9092=_0x16a7ef['replace'](/\....$/,_0x5df086(0xdb));a0_0x4478c6['deleteFile'](_0x30eec5),localStorage[_0x5df086(0xe2)](_0x1b9092+_0x5df086(0xd2)+_0x16a7ef[_0x5df086(0xa9)](-0x1)),localStorage[_0x5df086(0xe2)](_0x1b9092+_0x5df086(0xb2)+_0x16a7ef['slice'](-0x1)),localStorageFile(),_0x2bcb46['close'](),_0x2bcb46['remove'](),mgbaStorage['classList'][_0x5df086(0xce)](_0x5df086(0xbc));}};const _0x29d68a=document[_0x4fc67e(0xa8)](_0x4fc67e(0xcb));_0x29d68a['classList'][_0x4fc67e(0xdd)]('rename','bc'),_0x4cbb8f[_0x4fc67e(0xbf)](_0x29d68a),_0x29d68a['onclick']=async()=>{const _0x2ec707=_0x4fc67e,_0x3959c6=window[_0x2ec707(0xe9)](_0x2ec707(0xd0),_0x16a7ef);_0x3959c6!==null&&(a0_0x4478c6[_0x2ec707(0xe6)](_0x30eec5,_0x16a7ef,_0x3959c6),localStorageFile(),_0x2bcb46[_0x2ec707(0xb5)](),_0x2bcb46[_0x2ec707(0xce)](),mgbaStorage[_0x2ec707(0xbd)][_0x2ec707(0xce)](_0x2ec707(0xbc)));},_0x2bcb46[_0x4fc67e(0xac)]();};const _0x14c696=document[_0x22170f(0xa8)]('span');_0x14c696[_0x22170f(0xc9)]=humanFileSize(a0_0x4478c6[_0x22170f(0xed)](_0x30eec5)),_0x14c696[_0x22170f(0xbd)][_0x22170f(0xdd)](_0x22170f(0xde)),_0x1d3cb6[_0x22170f(0xbf)](_0x14c696);}export function localStorageFile(){const _0x130bf2=a0_0x4d6cf2,_0x35a2ec=a0_0x4478c6[_0x130bf2(0xec)](_0x130bf2(0xc2)),_0xcf5b61=a0_0x4478c6[_0x130bf2(0xec)](_0x130bf2(0xa6)),_0x2f004c=a0_0x4478c6[_0x130bf2(0xec)](_0x130bf2(0xca)),_0x416ba0=a0_0x4478c6[_0x130bf2(0xec)]('cheats'),_0x288b9f=a0_0x4478c6[_0x130bf2(0xec)](_0x130bf2(0xd3)),_0x149795=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x96ceff of _0x149795){while(_0x96ceff[_0x130bf2(0xe0)]){_0x96ceff[_0x130bf2(0xd6)]['remove']();}}for(const _0x41a9c3 of _0x35a2ec){createElementStorage(romsFile,_0x41a9c3,_0x130bf2(0xad)+_0x41a9c3);}for(const _0x4d894d of _0x2f004c){createElementStorage(statesFile,_0x4d894d,_0x130bf2(0xd5)+_0x4d894d);}for(const _0x2b6e2c of _0xcf5b61){createElementStorage(savesFile,_0x2b6e2c,_0x130bf2(0xc3)+_0x2b6e2c);}for(const _0x35be98 of _0x416ba0){createElementStorage(cheatsFile,_0x35be98,_0x130bf2(0xd9)+_0x35be98);}for(const _0x196bdf of _0x288b9f){createElementStorage(screenshotsFile,_0x196bdf,_0x130bf2(0xe7)+_0x196bdf);}}function a0_0x5739(){const _0x1fe68a=['click','storage','uploadFile','_imageState','onclick','toFixed','close','getItem','KiB','439735PtyTRh','confirm','right','addEventListener','opacity0','classList','972456GwhGrG','appendChild','statesFile','mgba-storage','games','/data/saves/','18btmaVm','YiB','rom-item','132690oibNSx','49038sotCTW','textContent','states','div','uId','screenshotsFile','remove','563420lBRUCl','Edit\x20filename','active','_dateState','screenshots','disable','/data/states/','lastChild','Delete\x20this\x20file?','17493kuiNYa','/data/cheats/','delete','.gba','romsFile','add','mib','onclose','firstChild','EiB','removeItem','ZiB','flex-1','abs','editFile','/data/screenshots/','GiB','prompt','length','span','listFiles','fileSize','4425bgDGFR','gap-16','getElementById','35cCtAWF','saves','DOMContentLoaded','createElement','slice','dialog','TiB','showModal','/data/games/','change'];a0_0x5739=function(){return _0x1fe68a;};return a0_0x5739();}document[a0_0x4d6cf2(0xbb)](a0_0x4d6cf2(0xa7),function(){const _0x379ec4=a0_0x4d6cf2;upLoadFile['addEventListener'](_0x379ec4(0xae),function(){const _0x5af378=_0x379ec4;a0_0x4478c6[_0x5af378(0xb1)](upLoadFile);}),openLocalStorage[_0x379ec4(0xbb)](_0x379ec4(0xaf),function(){const _0x486d0a=_0x379ec4,_0x4d0b58=localStorage[_0x486d0a(0xb6)](_0x486d0a(0xcc));storage[_0x486d0a(0xbd)][_0x486d0a(0xce)](_0x486d0a(0xd4)),intro['classList'][_0x486d0a(0xdd)](_0x486d0a(0xd4)),ingame[_0x486d0a(0xbd)][_0x486d0a(0xdd)](_0x486d0a(0xd4)),_0x4d0b58===null||_0x4d0b58===''?(dropboxRestore[_0x486d0a(0xbd)]['remove'](_0x486d0a(0xd1)),dropboxBackup[_0x486d0a(0xbd)][_0x486d0a(0xce)](_0x486d0a(0xd1)),dropboxCloud[_0x486d0a(0xbd)][_0x486d0a(0xce)](_0x486d0a(0xd1))):(dropboxRestore['classList'][_0x486d0a(0xdd)](_0x486d0a(0xd1)),dropboxBackup[_0x486d0a(0xbd)][_0x486d0a(0xdd)]('active'),dropboxCloud[_0x486d0a(0xbd)][_0x486d0a(0xdd)](_0x486d0a(0xd1)));}),setTimeout(()=>{localStorageFile();},0xbb8);});