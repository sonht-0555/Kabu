const a0_0x400107=a0_0x1739;(function(_0x25d290,_0x1f40ae){const _0xf06022=a0_0x1739,_0x4be01b=_0x25d290();while(!![]){try{const _0xd7e763=-parseInt(_0xf06022(0x145))/0x1+-parseInt(_0xf06022(0x16f))/0x2*(parseInt(_0xf06022(0x132))/0x3)+parseInt(_0xf06022(0x13d))/0x4*(-parseInt(_0xf06022(0x142))/0x5)+-parseInt(_0xf06022(0x157))/0x6*(-parseInt(_0xf06022(0x138))/0x7)+parseInt(_0xf06022(0x15b))/0x8*(-parseInt(_0xf06022(0x147))/0x9)+parseInt(_0xf06022(0x16a))/0xa+-parseInt(_0xf06022(0x16d))/0xb*(-parseInt(_0xf06022(0x15c))/0xc);if(_0xd7e763===_0x1f40ae)break;else _0x4be01b['push'](_0x4be01b['shift']());}catch(_0x20861c){_0x4be01b['push'](_0x4be01b['shift']());}}}(a0_0x4330,0xea765));import*as a0_0x294c9c from'./main.js';const mgbaStorage=document['getElementById'](a0_0x400107(0x166)),savesFile=document[a0_0x400107(0x13c)]('savesFile'),romsFile=document[a0_0x400107(0x13c)](a0_0x400107(0x13a)),statesFile=document[a0_0x400107(0x13c)](a0_0x400107(0x153)),screenshotsFile=document[a0_0x400107(0x13c)](a0_0x400107(0x173));function a0_0x1739(_0x37133b,_0x22f70e){const _0x433043=a0_0x4330();return a0_0x1739=function(_0x1739c6,_0x220d28){_0x1739c6=_0x1739c6-0x12f;let _0x1ba8a4=_0x433043[_0x1739c6];return _0x1ba8a4;},a0_0x1739(_0x37133b,_0x22f70e);}function humanFileSize(_0x2797fc,_0x1c0dcd=![],_0x4cd59a=0x1){const _0xeb3743=a0_0x400107,_0x12a99a=_0x1c0dcd?0x3e8:0x400,_0x2b66bb=_0x1c0dcd?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB','GiB',_0xeb3743(0x169),_0xeb3743(0x14b),_0xeb3743(0x134),_0xeb3743(0x131),_0xeb3743(0x161)];let _0x3e17a5=-0x1;do{_0x2797fc/=_0x12a99a,++_0x3e17a5;}while(Math[_0xeb3743(0x148)](_0x2797fc)>=_0x12a99a&&_0x3e17a5<_0x2b66bb['length']-0x1);return _0x2797fc[_0xeb3743(0x15e)](_0x4cd59a)+'\x20'+_0x2b66bb[_0x3e17a5];}function createElementStorage(_0x55a82b,_0x261349,_0x5e7e33){const _0x524d8b=a0_0x400107,_0x7aa16b=document[_0x524d8b(0x15f)](_0x524d8b(0x168));_0x7aa16b[_0x524d8b(0x139)][_0x524d8b(0x15d)](_0x524d8b(0x175),_0x524d8b(0x135),_0x524d8b(0x16b)),_0x55a82b[_0x524d8b(0x156)](_0x7aa16b);const _0x2916f6=document[_0x524d8b(0x15f)](_0x524d8b(0x177));_0x2916f6[_0x524d8b(0x150)]=_0x261349,_0x2916f6[_0x524d8b(0x139)][_0x524d8b(0x15d)](_0x524d8b(0x175)),_0x7aa16b['appendChild'](_0x2916f6),_0x2916f6[_0x524d8b(0x140)]=()=>{const _0x4eafd3=_0x524d8b,_0x44ba56=document[_0x4eafd3(0x15f)](_0x4eafd3(0x171));_0x44ba56[_0x4eafd3(0x178)]=()=>_0x44ba56['remove'](),_0x55a82b[_0x4eafd3(0x156)](_0x44ba56);const _0x4b24b6=document[_0x4eafd3(0x15f)](_0x4eafd3(0x168));_0x4b24b6['classList'][_0x4eafd3(0x15d)](_0x4eafd3(0x159),_0x4eafd3(0x13e),_0x4eafd3(0x174)),_0x44ba56[_0x4eafd3(0x156)](_0x4b24b6);const _0x35ac8a=document[_0x4eafd3(0x15f)](_0x4eafd3(0x168));_0x35ac8a[_0x4eafd3(0x139)][_0x4eafd3(0x15d)]('home','bc','flex-1'),_0x4b24b6[_0x4eafd3(0x156)](_0x35ac8a);const _0x4b36c5=document['createElement']('div');_0x4b36c5[_0x4eafd3(0x139)]['add']('flex-1'),_0x4b24b6[_0x4eafd3(0x156)](_0x4b36c5);const _0x252aab=document[_0x4eafd3(0x15f)](_0x4eafd3(0x168));_0x252aab['classList'][_0x4eafd3(0x15d)](_0x4eafd3(0x175)),_0x4b24b6[_0x4eafd3(0x156)](_0x252aab);const _0x5d5f5f=document[_0x4eafd3(0x15f)](_0x4eafd3(0x168));_0x5d5f5f[_0x4eafd3(0x139)][_0x4eafd3(0x15d)](_0x4eafd3(0x175)),_0x4b24b6[_0x4eafd3(0x156)](_0x5d5f5f),mgbaStorage[_0x4eafd3(0x139)][_0x4eafd3(0x15d)](_0x4eafd3(0x164)),_0x35ac8a[_0x4eafd3(0x140)]=()=>{const _0x2a6081=_0x4eafd3;_0x44ba56[_0x2a6081(0x154)](),_0x44ba56['remove'](),mgbaStorage[_0x2a6081(0x139)]['remove'](_0x2a6081(0x164));};const _0x3736b7=document[_0x4eafd3(0x15f)](_0x4eafd3(0x168));_0x3736b7['classList'][_0x4eafd3(0x15d)](_0x4eafd3(0x175),_0x4eafd3(0x135),'hw','cw'),_0x3736b7[_0x4eafd3(0x150)]=_0x261349,_0x44ba56['appendChild'](_0x3736b7);const _0x30f408=document['createElement']('div');_0x30f408[_0x4eafd3(0x139)][_0x4eafd3(0x15d)]('actionDiv','hw','cw',_0x4eafd3(0x14f)),_0x44ba56[_0x4eafd3(0x156)](_0x30f408);const _0x1e94d9=document[_0x4eafd3(0x15f)](_0x4eafd3(0x168));_0x1e94d9['classList']['add'](_0x4eafd3(0x133),'bc'),_0x30f408[_0x4eafd3(0x156)](_0x1e94d9),_0x1e94d9[_0x4eafd3(0x140)]=()=>{a0_0x294c9c['downloadFile'](_0x5e7e33,_0x261349);};const _0x2f3adf=document[_0x4eafd3(0x15f)](_0x4eafd3(0x168));_0x2f3adf[_0x4eafd3(0x139)][_0x4eafd3(0x15d)]('delete','bc'),_0x30f408[_0x4eafd3(0x156)](_0x2f3adf),_0x2f3adf[_0x4eafd3(0x140)]=async()=>{const _0x5db257=_0x4eafd3;if(window[_0x5db257(0x167)](_0x5db257(0x137)+_0x261349)){const _0x4ad666=_0x261349[_0x5db257(0x15a)](/\....$/,_0x5db257(0x165));a0_0x294c9c[_0x5db257(0x146)](_0x5e7e33),localStorage[_0x5db257(0x14d)](_0x4ad666+_0x5db257(0x158)+_0x261349[_0x5db257(0x141)](-0x1)),localStorage['removeItem'](_0x4ad666+_0x5db257(0x179)+_0x261349[_0x5db257(0x141)](-0x1)),localStorageFile(),_0x44ba56[_0x5db257(0x154)](),_0x44ba56[_0x5db257(0x152)](),mgbaStorage[_0x5db257(0x139)]['remove'](_0x5db257(0x164));}};const _0x51bdba=document[_0x4eafd3(0x15f)]('div');_0x51bdba[_0x4eafd3(0x139)]['add'](_0x4eafd3(0x172),'bc'),_0x30f408[_0x4eafd3(0x156)](_0x51bdba),_0x51bdba['onclick']=async()=>{const _0x4ef050=_0x4eafd3,_0x279931=window[_0x4ef050(0x130)](_0x4ef050(0x151),_0x261349);if(_0x279931!==null){const _0x47e41f=_0x261349[_0x4ef050(0x15a)](/\....$/,_0x4ef050(0x165)),_0x3ab661=_0x279931[_0x4ef050(0x15a)](/\....$/,_0x4ef050(0x165)),_0x528bcd=_0x47e41f+_0x4ef050(0x158)+_0x261349[_0x4ef050(0x141)](-0x1),_0x5b02d9=_0x47e41f+_0x4ef050(0x179)+_0x261349[_0x4ef050(0x141)](-0x1),_0x1610a5=_0x3ab661+_0x4ef050(0x158)+_0x279931[_0x4ef050(0x141)](-0x1),_0x27e953=_0x3ab661+_0x4ef050(0x179)+_0x279931[_0x4ef050(0x141)](-0x1),_0x3a484e=localStorage[_0x4ef050(0x136)](_0x528bcd),_0x43e8f2=localStorage[_0x4ef050(0x136)](_0x5b02d9);_0x3a484e!==null&&(localStorage[_0x4ef050(0x160)](_0x1610a5,_0x3a484e),localStorage[_0x4ef050(0x14d)](_0x528bcd)),_0x43e8f2!==null&&(localStorage[_0x4ef050(0x160)](_0x27e953,_0x43e8f2),localStorage[_0x4ef050(0x14d)](_0x5b02d9)),a0_0x294c9c['editFile'](_0x5e7e33,_0x261349,_0x279931),localStorageFile(),_0x44ba56[_0x4ef050(0x154)](),_0x44ba56[_0x4ef050(0x152)](),mgbaStorage[_0x4ef050(0x139)]['remove']('opacity0');}},_0x44ba56[_0x4eafd3(0x13b)]();};const _0x327be9=document[_0x524d8b(0x15f)](_0x524d8b(0x177));_0x327be9[_0x524d8b(0x150)]=humanFileSize(a0_0x294c9c[_0x524d8b(0x16c)](_0x5e7e33)),_0x327be9[_0x524d8b(0x139)][_0x524d8b(0x15d)](_0x524d8b(0x163)),_0x7aa16b['appendChild'](_0x327be9);}export function localStorageFile(){const _0x426e4b=a0_0x400107,_0x5b20d4=a0_0x294c9c['listGame'](),_0x4d6978=a0_0x294c9c['listSave'](),_0x45c8c3=a0_0x294c9c[_0x426e4b(0x170)](),_0x593d04=a0_0x294c9c['listCheat'](),_0x326743=a0_0x294c9c[_0x426e4b(0x13f)](),_0x5d25cf=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x1099ba of _0x5d25cf){while(_0x1099ba[_0x426e4b(0x155)]){_0x1099ba[_0x426e4b(0x143)][_0x426e4b(0x152)]();}}for(const _0x4a98b4 of _0x5b20d4){createElementStorage(romsFile,_0x4a98b4,'/data/games/'+_0x4a98b4);}for(const _0x1463c0 of _0x45c8c3){createElementStorage(statesFile,_0x1463c0,'/data/states/'+_0x1463c0);}for(const _0x1bb90c of _0x4d6978){createElementStorage(savesFile,_0x1bb90c,_0x426e4b(0x17a)+_0x1bb90c);}for(const _0x244b47 of _0x593d04){createElementStorage(cheatsFile,_0x244b47,_0x426e4b(0x14c)+_0x244b47);}for(const _0x57707d of _0x326743){createElementStorage(screenshotsFile,_0x57707d,_0x426e4b(0x176)+_0x57707d);}}function a0_0x4330(){const _0x387cf0=['118092YTFHXE','add','toFixed','createElement','setItem','YiB','addEventListener','mib','opacity0','.gba','mgba-storage','confirm','div','TiB','11914990QJZNiO','rom','fileSize','2123SsvtaY','uId','106duOEdS','listState','dialog','rename','screenshotsFile','gap-10','flex-1','/data/screenshots/','span','onclose','_imageState','/data/saves/','disable','prompt','ZiB','74931yGLmAw','download','EiB','rom-item','getItem','Delete\x20this\x20file?','12698147zeLjik','classList','romsFile','showModal','getElementById','4VbbvsV','right','listScreenshot','onclick','slice','4275870qJoKtT','lastChild','active','124259UjatiP','deleteFile','14771358ITYhaL','abs','click','change','PiB','/data/cheats/','removeItem','uploadFile','gap-16','textContent','Edit\x20filename','remove','statesFile','close','firstChild','appendChild','6LKZKWl','_dateState','storage','replace','8hNfTLy'];a0_0x4330=function(){return _0x387cf0;};return a0_0x4330();}document[a0_0x400107(0x162)]('DOMContentLoaded',function(){const _0x319db0=a0_0x400107;upLoadFile[_0x319db0(0x162)](_0x319db0(0x14a),function(){const _0x48a818=_0x319db0;a0_0x294c9c[_0x48a818(0x14e)](upLoadFile);}),openLocalStorage['addEventListener'](_0x319db0(0x149),function(){const _0x497415=_0x319db0,_0x463e1e=localStorage[_0x497415(0x136)](_0x497415(0x16e));storage[_0x497415(0x139)][_0x497415(0x152)](_0x497415(0x12f)),intro[_0x497415(0x139)][_0x497415(0x15d)](_0x497415(0x12f)),ingame[_0x497415(0x139)][_0x497415(0x15d)](_0x497415(0x12f)),_0x463e1e===null||_0x463e1e===''?(dropboxRestore['classList']['remove'](_0x497415(0x144)),dropboxBackup[_0x497415(0x139)][_0x497415(0x152)](_0x497415(0x144)),dropboxCloud['classList'][_0x497415(0x152)](_0x497415(0x144))):(dropboxRestore[_0x497415(0x139)][_0x497415(0x15d)](_0x497415(0x144)),dropboxBackup[_0x497415(0x139)][_0x497415(0x15d)]('active'),dropboxCloud[_0x497415(0x139)][_0x497415(0x15d)](_0x497415(0x144)));}),setTimeout(()=>{localStorageFile();},0xbb8);});