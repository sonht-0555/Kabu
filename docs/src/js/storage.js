const a0_0x5e4642=a0_0x4c5b;(function(_0x4b3434,_0x109a06){const _0x399f29=a0_0x4c5b,_0x5a80d3=_0x4b3434();while(!![]){try{const _0x3645f7=-parseInt(_0x399f29(0x1f6))/0x1+parseInt(_0x399f29(0x1fa))/0x2+-parseInt(_0x399f29(0x1ec))/0x3+parseInt(_0x399f29(0x1dd))/0x4*(parseInt(_0x399f29(0x1ef))/0x5)+-parseInt(_0x399f29(0x1f1))/0x6*(parseInt(_0x399f29(0x1d8))/0x7)+-parseInt(_0x399f29(0x1d9))/0x8+-parseInt(_0x399f29(0x1f2))/0x9*(-parseInt(_0x399f29(0x1e2))/0xa);if(_0x3645f7===_0x109a06)break;else _0x5a80d3['push'](_0x5a80d3['shift']());}catch(_0xffbc8b){_0x5a80d3['push'](_0x5a80d3['shift']());}}}(a0_0x20fe,0x93e9f));import*as a0_0x5cae3f from'./main.js';function a0_0x4c5b(_0x25a12b,_0x5d72cc){const _0x20fed6=a0_0x20fe();return a0_0x4c5b=function(_0x4c5b01,_0x43cc17){_0x4c5b01=_0x4c5b01-0x1c9;let _0xa3aa8a=_0x20fed6[_0x4c5b01];return _0xa3aa8a;},a0_0x4c5b(_0x25a12b,_0x5d72cc);}const mgbaStorage=document[a0_0x5e4642(0x212)]('mgba-storage'),savesFile=document[a0_0x5e4642(0x212)](a0_0x5e4642(0x1f8)),romsFile=document[a0_0x5e4642(0x212)](a0_0x5e4642(0x1f4)),statesFile=document[a0_0x5e4642(0x212)](a0_0x5e4642(0x20a)),screenshotsFile=document[a0_0x5e4642(0x212)]('screenshotsFile');function humanFileSize(_0x3fd50a,_0x565f01=![],_0x8ca3be=0x1){const _0x3afee1=a0_0x5e4642,_0x5128fa=_0x565f01?0x3e8:0x400,_0x22ac72=_0x565f01?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x3afee1(0x20d),_0x3afee1(0x214),_0x3afee1(0x1cd),_0x3afee1(0x1e8),_0x3afee1(0x1d1),_0x3afee1(0x210),_0x3afee1(0x1f3),_0x3afee1(0x205)];let _0x2c23c8=-0x1;do{_0x3fd50a/=_0x5128fa,++_0x2c23c8;}while(Math[_0x3afee1(0x1fd)](_0x3fd50a)>=_0x5128fa&&_0x2c23c8<_0x22ac72[_0x3afee1(0x1cc)]-0x1);return _0x3fd50a['toFixed'](_0x8ca3be)+'\x20'+_0x22ac72[_0x2c23c8];}function a0_0x20fe(){const _0x13364a=['KiB','dialog','showModal','EiB','confirm','getElementById','slice','MiB','disable','active','add','removeItem','firstChild','length','GiB','appendChild','screenshots','/data/saves/','PiB','storage','remove','div','saves','/data/states/','Delete\x20this\x20file?','42hnAAvQ','2587040zJYPIF','/data/cheats/','games','rom','99820snaRiD','span','click','listFiles','onclick','100wKVvGq','classList','opacity0','editFile','actionDiv','prompt','TiB','addEventListener','deleteFile','fileSize','1975455VdycOe','close','uploadFile','5CqaOKO','flex-1','84864iarfpv','1314279dSoCfd','ZiB','romsFile','rename','204854HAIANr','/data/games/','savesFile','rom-item','784346SICWqe','home','mib','abs','_dateState','textContent','change','cheats','right','download','gap-10','YiB','delete','/data/screenshots/','states','createElement','statesFile','lastChild','DOMContentLoaded'];a0_0x20fe=function(){return _0x13364a;};return a0_0x20fe();}function createElementStorage(_0x1768a1,_0x59bc8f,_0x42fba2){const _0x1cfa78=a0_0x5e4642,_0xd8b0c=document['createElement'](_0x1cfa78(0x1d4));_0xd8b0c[_0x1cfa78(0x1e3)][_0x1cfa78(0x1c9)](_0x1cfa78(0x1f0),'rom-item',_0x1cfa78(0x1dc)),_0x1768a1['appendChild'](_0xd8b0c);const _0x110966=document[_0x1cfa78(0x209)]('span');_0x110966['textContent']=_0x59bc8f,_0x110966[_0x1cfa78(0x1e3)][_0x1cfa78(0x1c9)](_0x1cfa78(0x1f0)),_0xd8b0c[_0x1cfa78(0x1ce)](_0x110966),_0x110966[_0x1cfa78(0x1e1)]=()=>{const _0x54b455=_0x1cfa78,_0x5be1f3=document[_0x54b455(0x209)](_0x54b455(0x20e));_0x5be1f3['onclose']=()=>_0x5be1f3['remove'](),_0x1768a1[_0x54b455(0x1ce)](_0x5be1f3);const _0x278354=document[_0x54b455(0x209)](_0x54b455(0x1d4));_0x278354['classList'][_0x54b455(0x1c9)](_0x54b455(0x1d2),_0x54b455(0x202),_0x54b455(0x204)),_0x5be1f3[_0x54b455(0x1ce)](_0x278354);const _0x1604e3=document[_0x54b455(0x209)](_0x54b455(0x1d4));_0x1604e3[_0x54b455(0x1e3)][_0x54b455(0x1c9)](_0x54b455(0x1fb),'bc',_0x54b455(0x1f0)),_0x278354[_0x54b455(0x1ce)](_0x1604e3);const _0x2d9fe3=document[_0x54b455(0x209)](_0x54b455(0x1d4));_0x2d9fe3[_0x54b455(0x1e3)]['add'](_0x54b455(0x1f0)),_0x278354[_0x54b455(0x1ce)](_0x2d9fe3);const _0x4df898=document[_0x54b455(0x209)]('div');_0x4df898[_0x54b455(0x1e3)]['add'](_0x54b455(0x1f0)),_0x278354[_0x54b455(0x1ce)](_0x4df898);const _0x4fefb6=document[_0x54b455(0x209)]('div');_0x4fefb6[_0x54b455(0x1e3)]['add'](_0x54b455(0x1f0)),_0x278354[_0x54b455(0x1ce)](_0x4fefb6),mgbaStorage[_0x54b455(0x1e3)]['add']('opacity0'),_0x1604e3[_0x54b455(0x1e1)]=()=>{const _0x5cfd38=_0x54b455;_0x5be1f3[_0x5cfd38(0x1ed)](),_0x5be1f3[_0x5cfd38(0x1d3)](),mgbaStorage[_0x5cfd38(0x1e3)][_0x5cfd38(0x1d3)](_0x5cfd38(0x1e4));};const _0x4654b6=document[_0x54b455(0x209)](_0x54b455(0x1d4));_0x4654b6[_0x54b455(0x1e3)]['add'](_0x54b455(0x1f0),_0x54b455(0x1f9),'hw','cw'),_0x4654b6['textContent']=_0x59bc8f,_0x5be1f3['appendChild'](_0x4654b6);const _0x15d037=document[_0x54b455(0x209)](_0x54b455(0x1d4));_0x15d037['classList'][_0x54b455(0x1c9)](_0x54b455(0x1e6),'hw','cw','gap-16'),_0x5be1f3['appendChild'](_0x15d037);const _0x240cbb=document[_0x54b455(0x209)]('div');_0x240cbb[_0x54b455(0x1e3)][_0x54b455(0x1c9)](_0x54b455(0x203),'bc'),_0x15d037[_0x54b455(0x1ce)](_0x240cbb),_0x240cbb[_0x54b455(0x1e1)]=()=>{a0_0x5cae3f['downloadFile'](_0x42fba2,_0x59bc8f);};const _0x158404=document[_0x54b455(0x209)](_0x54b455(0x1d4));_0x158404[_0x54b455(0x1e3)][_0x54b455(0x1c9)](_0x54b455(0x206),'bc'),_0x15d037[_0x54b455(0x1ce)](_0x158404),_0x158404[_0x54b455(0x1e1)]=async()=>{const _0x5af569=_0x54b455;if(window[_0x5af569(0x211)](_0x5af569(0x1d7)+_0x59bc8f)){const _0x45bbca=_0x59bc8f['replace'](/\....$/,'.gba');a0_0x5cae3f[_0x5af569(0x1ea)](_0x42fba2),localStorage[_0x5af569(0x1ca)](_0x45bbca+_0x5af569(0x1fe)+_0x59bc8f[_0x5af569(0x213)](-0x1)),localStorage['removeItem'](_0x45bbca+'_imageState'+_0x59bc8f[_0x5af569(0x213)](-0x1)),localStorageFile(),_0x5be1f3[_0x5af569(0x1ed)](),_0x5be1f3['remove'](),mgbaStorage[_0x5af569(0x1e3)][_0x5af569(0x1d3)](_0x5af569(0x1e4));}};const _0x9068f2=document[_0x54b455(0x209)](_0x54b455(0x1d4));_0x9068f2[_0x54b455(0x1e3)]['add'](_0x54b455(0x1f5),'bc'),_0x15d037[_0x54b455(0x1ce)](_0x9068f2),_0x9068f2[_0x54b455(0x1e1)]=async()=>{const _0x3c1fd8=_0x54b455,_0x2ddc34=window[_0x3c1fd8(0x1e7)]('Edit\x20filename',_0x59bc8f);_0x2ddc34!==null&&(a0_0x5cae3f[_0x3c1fd8(0x1e5)](_0x42fba2,_0x59bc8f,_0x2ddc34),localStorageFile(),_0x5be1f3[_0x3c1fd8(0x1ed)](),_0x5be1f3['remove'](),mgbaStorage[_0x3c1fd8(0x1e3)][_0x3c1fd8(0x1d3)](_0x3c1fd8(0x1e4)));},_0x5be1f3[_0x54b455(0x20f)]();};const _0x412f1d=document['createElement'](_0x1cfa78(0x1de));_0x412f1d[_0x1cfa78(0x1ff)]=humanFileSize(a0_0x5cae3f[_0x1cfa78(0x1eb)](_0x42fba2)),_0x412f1d[_0x1cfa78(0x1e3)]['add'](_0x1cfa78(0x1fc)),_0xd8b0c['appendChild'](_0x412f1d);}export function localStorageFile(){const _0x1273b8=a0_0x5e4642,_0x213e7f=a0_0x5cae3f[_0x1273b8(0x1e0)](_0x1273b8(0x1db)),_0x4b2e2f=a0_0x5cae3f[_0x1273b8(0x1e0)](_0x1273b8(0x1d5)),_0x2d4334=a0_0x5cae3f[_0x1273b8(0x1e0)](_0x1273b8(0x208)),_0x541b23=a0_0x5cae3f[_0x1273b8(0x1e0)](_0x1273b8(0x201)),_0xaac4dd=a0_0x5cae3f[_0x1273b8(0x1e0)](_0x1273b8(0x1cf)),_0xc5fece=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x2c8c01 of _0xc5fece){while(_0x2c8c01[_0x1273b8(0x1cb)]){_0x2c8c01[_0x1273b8(0x20b)][_0x1273b8(0x1d3)]();}}for(const _0x166212 of _0x213e7f){createElementStorage(romsFile,_0x166212,_0x1273b8(0x1f7)+_0x166212);}for(const _0x4ca478 of _0x2d4334){createElementStorage(statesFile,_0x4ca478,_0x1273b8(0x1d6)+_0x4ca478);}for(const _0x100d29 of _0x4b2e2f){createElementStorage(savesFile,_0x100d29,_0x1273b8(0x1d0)+_0x100d29);}for(const _0x195435 of _0x541b23){createElementStorage(cheatsFile,_0x195435,_0x1273b8(0x1da)+_0x195435);}for(const _0xd9a7e of _0xaac4dd){createElementStorage(screenshotsFile,_0xd9a7e,_0x1273b8(0x207)+_0xd9a7e);}}document['addEventListener'](a0_0x5e4642(0x20c),function(){const _0x96e16c=a0_0x5e4642;upLoadFile[_0x96e16c(0x1e9)](_0x96e16c(0x200),function(){const _0x5cc26d=_0x96e16c;a0_0x5cae3f[_0x5cc26d(0x1ee)](upLoadFile);}),openLocalStorage[_0x96e16c(0x1e9)](_0x96e16c(0x1df),function(){const _0xc8d97a=_0x96e16c,_0x33232a=localStorage['getItem']('uId');storage['classList'][_0xc8d97a(0x1d3)]('disable'),intro[_0xc8d97a(0x1e3)][_0xc8d97a(0x1c9)](_0xc8d97a(0x215)),ingame[_0xc8d97a(0x1e3)][_0xc8d97a(0x1c9)](_0xc8d97a(0x215)),_0x33232a===null||_0x33232a===''?(dropboxRestore[_0xc8d97a(0x1e3)][_0xc8d97a(0x1d3)]('active'),dropboxBackup[_0xc8d97a(0x1e3)][_0xc8d97a(0x1d3)](_0xc8d97a(0x216)),dropboxCloud[_0xc8d97a(0x1e3)][_0xc8d97a(0x1d3)](_0xc8d97a(0x216))):(dropboxRestore[_0xc8d97a(0x1e3)][_0xc8d97a(0x1c9)](_0xc8d97a(0x216)),dropboxBackup[_0xc8d97a(0x1e3)]['add']('active'),dropboxCloud[_0xc8d97a(0x1e3)]['add'](_0xc8d97a(0x216)));}),setTimeout(()=>{localStorageFile();},0xbb8);});