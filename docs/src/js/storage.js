const a0_0xad3cbd=a0_0x1e80;function a0_0x26ff(){const _0x11e421=['saves','listFiles','games','flex-1','PiB','addEventListener','remove','disable','/data/states/','267619pZAtSt','actionDiv','rename','click','4VJQlaT','screenshots','classList','/data/saves/','appendChild','EiB','Delete\x20this\x20file?','div','.gba','rom-item','downloadFile','confirm','states','right','30fZxIso','onclick','replace','storage','ZiB','/data/games/','textContent','577410lYQIbv','delete','firstChild','_dateState','deleteFile','opacity0','slice','YiB','6vZHcQB','getElementById','uploadFile','savesFile','length','getItem','5515376UKzSvB','span','active','uId','Edit\x20filename','romsFile','525651aHIUEC','/data/screenshots/','/data/cheats/','MiB','editFile','createElement','1269126dlRFTp','dialog','close','2103531WakUIF','TiB','home','download','5077onIUvs','screenshotsFile','gap-10','DOMContentLoaded','add','132uxhhoO','mib','436MkNpjx','abs'];a0_0x26ff=function(){return _0x11e421;};return a0_0x26ff();}(function(_0x4b7b81,_0x31638e){const _0x1d5bcb=a0_0x1e80,_0x1f75e2=_0x4b7b81();while(!![]){try{const _0x96a7c2=parseInt(_0x1d5bcb(0x169))/0x1*(parseInt(_0x1d5bcb(0x170))/0x2)+-parseInt(_0x1d5bcb(0x165))/0x3*(parseInt(_0x1d5bcb(0x17f))/0x4)+parseInt(_0x1d5bcb(0x148))/0x5+-parseInt(_0x1d5bcb(0x150))/0x6*(-parseInt(_0x1d5bcb(0x15c))/0x7)+parseInt(_0x1d5bcb(0x156))/0x8+parseInt(_0x1d5bcb(0x162))/0x9*(-parseInt(_0x1d5bcb(0x18d))/0xa)+parseInt(_0x1d5bcb(0x17b))/0xb*(-parseInt(_0x1d5bcb(0x16e))/0xc);if(_0x96a7c2===_0x31638e)break;else _0x1f75e2['push'](_0x1f75e2['shift']());}catch(_0x5c0136){_0x1f75e2['push'](_0x1f75e2['shift']());}}}(a0_0x26ff,0x91401));function a0_0x1e80(_0x1307d1,_0x20e966){const _0x26ff20=a0_0x26ff();return a0_0x1e80=function(_0x1e8004,_0x54ffb6){_0x1e8004=_0x1e8004-0x148;let _0x5bbe4f=_0x26ff20[_0x1e8004];return _0x5bbe4f;},a0_0x1e80(_0x1307d1,_0x20e966);}import*as a0_0x309913 from'./main.js';const mgbaStorage=document[a0_0xad3cbd(0x151)]('mgba-storage'),savesFile=document[a0_0xad3cbd(0x151)](a0_0xad3cbd(0x153)),romsFile=document[a0_0xad3cbd(0x151)](a0_0xad3cbd(0x15b)),statesFile=document[a0_0xad3cbd(0x151)]('statesFile'),screenshotsFile=document['getElementById'](a0_0xad3cbd(0x16a));function humanFileSize(_0x5dbb37,_0xc3b82a=![],_0x505b09=0x1){const _0x5c86b6=a0_0xad3cbd,_0x1bc5a8=_0xc3b82a?0x3e8:0x400,_0x4f2b54=_0xc3b82a?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x5c86b6(0x15f),'GiB',_0x5c86b6(0x166),_0x5c86b6(0x176),_0x5c86b6(0x184),_0x5c86b6(0x191),_0x5c86b6(0x14f)];let _0x540464=-0x1;do{_0x5dbb37/=_0x1bc5a8,++_0x540464;}while(Math[_0x5c86b6(0x171)](_0x5dbb37)>=_0x1bc5a8&&_0x540464<_0x4f2b54[_0x5c86b6(0x154)]-0x1);return _0x5dbb37['toFixed'](_0x505b09)+'\x20'+_0x4f2b54[_0x540464];}function createElementStorage(_0x313c27,_0x121780,_0x520984){const _0x1d5996=a0_0xad3cbd,_0x53e531=document[_0x1d5996(0x161)](_0x1d5996(0x186));_0x53e531['classList']['add']('flex-1',_0x1d5996(0x188),'rom'),_0x313c27['appendChild'](_0x53e531);const _0x40174a=document[_0x1d5996(0x161)](_0x1d5996(0x157));_0x40174a[_0x1d5996(0x193)]=_0x121780,_0x40174a[_0x1d5996(0x181)][_0x1d5996(0x16d)](_0x1d5996(0x175)),_0x53e531[_0x1d5996(0x183)](_0x40174a),_0x40174a['onclick']=()=>{const _0x2a77df=_0x1d5996,_0x1de17e=document[_0x2a77df(0x161)](_0x2a77df(0x163));_0x1de17e['onclose']=()=>_0x1de17e[_0x2a77df(0x178)](),_0x313c27[_0x2a77df(0x183)](_0x1de17e);const _0x1e6d72=document[_0x2a77df(0x161)](_0x2a77df(0x186));_0x1e6d72[_0x2a77df(0x181)][_0x2a77df(0x16d)](_0x2a77df(0x190),_0x2a77df(0x18c),_0x2a77df(0x16b)),_0x1de17e[_0x2a77df(0x183)](_0x1e6d72);const _0x390a3c=document[_0x2a77df(0x161)]('div');_0x390a3c[_0x2a77df(0x181)]['add'](_0x2a77df(0x167),'bc','flex-1'),_0x1e6d72[_0x2a77df(0x183)](_0x390a3c);const _0x592c29=document[_0x2a77df(0x161)](_0x2a77df(0x186));_0x592c29[_0x2a77df(0x181)][_0x2a77df(0x16d)](_0x2a77df(0x175)),_0x1e6d72[_0x2a77df(0x183)](_0x592c29);const _0x59ae5a=document['createElement'](_0x2a77df(0x186));_0x59ae5a['classList'][_0x2a77df(0x16d)](_0x2a77df(0x175)),_0x1e6d72[_0x2a77df(0x183)](_0x59ae5a);const _0x1a1841=document[_0x2a77df(0x161)](_0x2a77df(0x186));_0x1a1841['classList'][_0x2a77df(0x16d)]('flex-1'),_0x1e6d72[_0x2a77df(0x183)](_0x1a1841),mgbaStorage[_0x2a77df(0x181)]['add'](_0x2a77df(0x14d)),_0x390a3c[_0x2a77df(0x18e)]=()=>{const _0x58bc32=_0x2a77df;_0x1de17e['close'](),_0x1de17e['remove'](),mgbaStorage[_0x58bc32(0x181)][_0x58bc32(0x178)](_0x58bc32(0x14d));};const _0x2d2792=document[_0x2a77df(0x161)]('div');_0x2d2792[_0x2a77df(0x181)][_0x2a77df(0x16d)](_0x2a77df(0x175),_0x2a77df(0x188),'hw','cw'),_0x2d2792[_0x2a77df(0x193)]=_0x121780,_0x1de17e['appendChild'](_0x2d2792);const _0x1a34ce=document[_0x2a77df(0x161)](_0x2a77df(0x186));_0x1a34ce[_0x2a77df(0x181)][_0x2a77df(0x16d)](_0x2a77df(0x17c),'hw','cw','gap-16'),_0x1de17e['appendChild'](_0x1a34ce);const _0x322169=document[_0x2a77df(0x161)](_0x2a77df(0x186));_0x322169[_0x2a77df(0x181)][_0x2a77df(0x16d)](_0x2a77df(0x168),'bc'),_0x1a34ce['appendChild'](_0x322169),_0x322169['onclick']=()=>{const _0x90f6cd=_0x2a77df;a0_0x309913[_0x90f6cd(0x189)](_0x520984,_0x121780);};const _0x2d8cf0=document[_0x2a77df(0x161)](_0x2a77df(0x186));_0x2d8cf0[_0x2a77df(0x181)][_0x2a77df(0x16d)](_0x2a77df(0x149),'bc'),_0x1a34ce['appendChild'](_0x2d8cf0),_0x2d8cf0['onclick']=async()=>{const _0x128bd6=_0x2a77df;if(window[_0x128bd6(0x18a)](_0x128bd6(0x185)+_0x121780)){const _0x4286c7=_0x121780[_0x128bd6(0x18f)](/\....$/,_0x128bd6(0x187));a0_0x309913[_0x128bd6(0x14c)](_0x520984),localStorage['removeItem'](_0x4286c7+_0x128bd6(0x14b)+_0x121780[_0x128bd6(0x14e)](-0x1)),localStorage['removeItem'](_0x4286c7+'_imageState'+_0x121780[_0x128bd6(0x14e)](-0x1)),localStorageFile(),_0x1de17e[_0x128bd6(0x164)](),_0x1de17e['remove'](),mgbaStorage['classList'][_0x128bd6(0x178)](_0x128bd6(0x14d));}};const _0x423215=document[_0x2a77df(0x161)](_0x2a77df(0x186));_0x423215['classList'][_0x2a77df(0x16d)](_0x2a77df(0x17d),'bc'),_0x1a34ce[_0x2a77df(0x183)](_0x423215),_0x423215['onclick']=async()=>{const _0x164cd0=_0x2a77df,_0x3fa74f=window['prompt'](_0x164cd0(0x15a),_0x121780);_0x3fa74f!==null&&(a0_0x309913[_0x164cd0(0x160)](_0x520984,_0x121780,_0x3fa74f),localStorageFile(),_0x1de17e['close'](),_0x1de17e[_0x164cd0(0x178)](),mgbaStorage['classList'][_0x164cd0(0x178)](_0x164cd0(0x14d)));},_0x1de17e['showModal']();};const _0x5f0c4d=document[_0x1d5996(0x161)](_0x1d5996(0x157));_0x5f0c4d[_0x1d5996(0x193)]=humanFileSize(a0_0x309913['fileSize'](_0x520984)),_0x5f0c4d[_0x1d5996(0x181)]['add'](_0x1d5996(0x16f)),_0x53e531['appendChild'](_0x5f0c4d);}export function localStorageFile(){const _0x51af1f=a0_0xad3cbd,_0x1d1b77=a0_0x309913[_0x51af1f(0x173)](_0x51af1f(0x174)),_0x1eea24=a0_0x309913['listFiles'](_0x51af1f(0x172)),_0x14a963=a0_0x309913[_0x51af1f(0x173)](_0x51af1f(0x18b)),_0x5a43a1=a0_0x309913[_0x51af1f(0x173)]('cheats'),_0x4d190f=a0_0x309913[_0x51af1f(0x173)](_0x51af1f(0x180)),_0x12ece9=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x46c84f of _0x12ece9){while(_0x46c84f[_0x51af1f(0x14a)]){_0x46c84f['lastChild'][_0x51af1f(0x178)]();}}for(const _0x1bfd9e of _0x1d1b77){createElementStorage(romsFile,_0x1bfd9e,_0x51af1f(0x192)+_0x1bfd9e);}for(const _0x19b778 of _0x14a963){createElementStorage(statesFile,_0x19b778,_0x51af1f(0x17a)+_0x19b778);}for(const _0x15df73 of _0x1eea24){createElementStorage(savesFile,_0x15df73,_0x51af1f(0x182)+_0x15df73);}for(const _0x82d6e6 of _0x5a43a1){createElementStorage(cheatsFile,_0x82d6e6,_0x51af1f(0x15e)+_0x82d6e6);}for(const _0x348fe9 of _0x4d190f){createElementStorage(screenshotsFile,_0x348fe9,_0x51af1f(0x15d)+_0x348fe9);}}document['addEventListener'](a0_0xad3cbd(0x16c),function(){const _0x12a0d5=a0_0xad3cbd;upLoadFile['addEventListener']('change',function(){const _0x2ec1fe=a0_0x1e80;a0_0x309913[_0x2ec1fe(0x152)](upLoadFile);}),openLocalStorage[_0x12a0d5(0x177)](_0x12a0d5(0x17e),function(){const _0x591c24=_0x12a0d5,_0x550dd1=localStorage[_0x591c24(0x155)](_0x591c24(0x159));storage[_0x591c24(0x181)][_0x591c24(0x178)]('disable'),intro[_0x591c24(0x181)][_0x591c24(0x16d)](_0x591c24(0x179)),ingame[_0x591c24(0x181)][_0x591c24(0x16d)](_0x591c24(0x179)),_0x550dd1===null||_0x550dd1===''?(dropboxRestore['classList']['remove'](_0x591c24(0x158)),dropboxBackup['classList'][_0x591c24(0x178)](_0x591c24(0x158)),dropboxCloud[_0x591c24(0x181)][_0x591c24(0x178)](_0x591c24(0x158))):(dropboxRestore[_0x591c24(0x181)][_0x591c24(0x16d)](_0x591c24(0x158)),dropboxBackup[_0x591c24(0x181)][_0x591c24(0x16d)](_0x591c24(0x158)),dropboxCloud[_0x591c24(0x181)][_0x591c24(0x16d)](_0x591c24(0x158)));}),setTimeout(()=>{localStorageFile();},0xbb8);});