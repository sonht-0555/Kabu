function a0_0x7d29(){const _0x3acf6c=['rom-item','add','opacity0','18672eDvJDa','listSave','onclose','storage','.cheats','/data/saves/','3435uAgCOf','MiB','/data/cheats/','dialog','span','.gbc','.gba','mgba-storage','rename','PiB','close','addEventListener','disable','remove','fileSize','editFile','175BuqoME','3815508gIwRqn','getElementById','EiB','confirm','/data/games/','mib','1852JyuCxc','slice','name','_dateState','createElement','819998vgsBJd','1539326MZoKEG','appendChild','.bc','DOMContentLoaded','listGame','listState','downloadFile','3WHzwyr','removeItem','length','prompt','rom','setItem','_imageState','gap-10','getItem','flex-1','classList','KiB','uploadGame','uploadSavSta','TiB','div','4441392aMlQLB','66cyKJYP','913428EFuNTj','onclick','YiB','100kMphOp','/data/states/','replace','textContent','lastChild','deleteFile','endsWith','Delete\x20this\x20file?','active','uId','abs','uploadCheat','statesFile'];a0_0x7d29=function(){return _0x3acf6c;};return a0_0x7d29();}const a0_0x41dcd6=a0_0x310c;(function(_0xda576b,_0x12ffcf){const _0x32b1be=a0_0x310c,_0x5c9895=_0xda576b();while(!![]){try{const _0x59006f=-parseInt(_0x32b1be(0x15e))/0x1+-parseInt(_0x32b1be(0x15d))/0x2*(-parseInt(_0x32b1be(0x165))/0x3)+-parseInt(_0x32b1be(0x158))/0x4*(-parseInt(_0x32b1be(0x190))/0x5)+parseInt(_0x32b1be(0x175))/0x6+parseInt(_0x32b1be(0x1a0))/0x7*(parseInt(_0x32b1be(0x18a))/0x8)+parseInt(_0x32b1be(0x177))/0x9*(-parseInt(_0x32b1be(0x17a))/0xa)+parseInt(_0x32b1be(0x176))/0xb*(parseInt(_0x32b1be(0x1a1))/0xc);if(_0x59006f===_0x12ffcf)break;else _0x5c9895['push'](_0x5c9895['shift']());}catch(_0x2f5a68){_0x5c9895['push'](_0x5c9895['shift']());}}}(a0_0x7d29,0xd6e2a));import*as a0_0x1fd979 from'./main.js';const mgbaStorage=document[a0_0x41dcd6(0x153)](a0_0x41dcd6(0x197)),savesFile=document[a0_0x41dcd6(0x153)]('savesFile'),romsFile=document[a0_0x41dcd6(0x153)]('romsFile'),statesFile=document['getElementById'](a0_0x41dcd6(0x186)),screenshotsFile=document['getElementById']('screenshotsFile');function humanFileSize(_0xc1b5ae,_0x21dda9=![],_0x3e4e3b=0x1){const _0x284d15=a0_0x41dcd6,_0x1a0d14=_0x21dda9?0x3e8:0x400,_0x111af7=_0x21dda9?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x284d15(0x170),_0x284d15(0x191),'GiB',_0x284d15(0x173),_0x284d15(0x199),_0x284d15(0x154),'ZiB',_0x284d15(0x179)];let _0x7ad77a=-0x1;do{_0xc1b5ae/=_0x1a0d14,++_0x7ad77a;}while(Math[_0x284d15(0x184)](_0xc1b5ae)>=_0x1a0d14&&_0x7ad77a<_0x111af7[_0x284d15(0x167)]-0x1);return _0xc1b5ae['toFixed'](_0x3e4e3b)+'\x20'+_0x111af7[_0x7ad77a];}function createElementStorage(_0x3fbee2,_0x28a9ae,_0x51ccce){const _0x536f07=a0_0x41dcd6,_0x488fd0=document[_0x536f07(0x15c)](_0x536f07(0x174));_0x488fd0[_0x536f07(0x16f)]['add'](_0x536f07(0x16e),'rom-item',_0x536f07(0x169)),_0x3fbee2[_0x536f07(0x15f)](_0x488fd0);const _0x571652=document['createElement']('span');_0x571652[_0x536f07(0x17d)]=_0x28a9ae,_0x571652[_0x536f07(0x16f)][_0x536f07(0x188)]('flex-1'),_0x488fd0[_0x536f07(0x15f)](_0x571652),_0x571652[_0x536f07(0x178)]=()=>{const _0x8a40be=_0x536f07,_0x366020=document[_0x8a40be(0x15c)](_0x8a40be(0x193));_0x366020[_0x8a40be(0x18c)]=()=>_0x366020[_0x8a40be(0x19d)](),_0x3fbee2[_0x8a40be(0x15f)](_0x366020);const _0x18f40c=document[_0x8a40be(0x15c)](_0x8a40be(0x174));_0x18f40c[_0x8a40be(0x16f)]['add'](_0x8a40be(0x18d),'right',_0x8a40be(0x16c)),_0x366020[_0x8a40be(0x15f)](_0x18f40c);const _0x206261=document[_0x8a40be(0x15c)](_0x8a40be(0x174));_0x206261[_0x8a40be(0x16f)][_0x8a40be(0x188)]('home','bc',_0x8a40be(0x16e)),_0x18f40c[_0x8a40be(0x15f)](_0x206261);const _0x4b87a0=document[_0x8a40be(0x15c)](_0x8a40be(0x174));_0x4b87a0['classList']['add'](_0x8a40be(0x16e)),_0x18f40c[_0x8a40be(0x15f)](_0x4b87a0);const _0x3df60d=document['createElement']('div');_0x3df60d[_0x8a40be(0x16f)][_0x8a40be(0x188)](_0x8a40be(0x16e)),_0x18f40c[_0x8a40be(0x15f)](_0x3df60d);const _0x32e372=document['createElement'](_0x8a40be(0x174));_0x32e372['classList'][_0x8a40be(0x188)]('flex-1'),_0x18f40c[_0x8a40be(0x15f)](_0x32e372),mgbaStorage[_0x8a40be(0x16f)][_0x8a40be(0x188)](_0x8a40be(0x189)),_0x206261[_0x8a40be(0x178)]=()=>{const _0x1d7239=_0x8a40be;_0x366020[_0x1d7239(0x19a)](),_0x366020[_0x1d7239(0x19d)](),mgbaStorage[_0x1d7239(0x16f)][_0x1d7239(0x19d)](_0x1d7239(0x189));};const _0x236299=document[_0x8a40be(0x15c)](_0x8a40be(0x174));_0x236299[_0x8a40be(0x16f)][_0x8a40be(0x188)](_0x8a40be(0x16e),_0x8a40be(0x187),'hw','cw'),_0x236299[_0x8a40be(0x17d)]=_0x28a9ae,_0x366020[_0x8a40be(0x15f)](_0x236299);const _0xe4307b=document[_0x8a40be(0x15c)](_0x8a40be(0x174));_0xe4307b[_0x8a40be(0x16f)][_0x8a40be(0x188)]('actionDiv','hw','cw','gap-16'),_0x366020['appendChild'](_0xe4307b);const _0x38e9c5=document['createElement'](_0x8a40be(0x174));_0x38e9c5['classList'][_0x8a40be(0x188)]('download','bc'),_0xe4307b['appendChild'](_0x38e9c5),_0x38e9c5[_0x8a40be(0x178)]=()=>{const _0x7b89bb=_0x8a40be;a0_0x1fd979[_0x7b89bb(0x164)](_0x51ccce,_0x28a9ae);};const _0x2d1d7b=document[_0x8a40be(0x15c)](_0x8a40be(0x174));_0x2d1d7b[_0x8a40be(0x16f)][_0x8a40be(0x188)]('delete','bc'),_0xe4307b[_0x8a40be(0x15f)](_0x2d1d7b),_0x2d1d7b['onclick']=async()=>{const _0x12ee20=_0x8a40be;if(window[_0x12ee20(0x155)](_0x12ee20(0x181)+_0x28a9ae)){const _0x4d2bba=_0x28a9ae[_0x12ee20(0x17c)](/\....$/,_0x12ee20(0x196));a0_0x1fd979[_0x12ee20(0x17f)](_0x51ccce),localStorage['removeItem'](_0x4d2bba+_0x12ee20(0x15b)+_0x28a9ae[_0x12ee20(0x159)](-0x1)),localStorage[_0x12ee20(0x166)](_0x4d2bba+_0x12ee20(0x16b)+_0x28a9ae[_0x12ee20(0x159)](-0x1)),localStorageFile(),_0x366020[_0x12ee20(0x19a)](),_0x366020[_0x12ee20(0x19d)](),mgbaStorage[_0x12ee20(0x16f)][_0x12ee20(0x19d)](_0x12ee20(0x189));}};const _0x3ab241=document[_0x8a40be(0x15c)](_0x8a40be(0x174));_0x3ab241[_0x8a40be(0x16f)][_0x8a40be(0x188)](_0x8a40be(0x198),'bc'),_0xe4307b[_0x8a40be(0x15f)](_0x3ab241),_0x3ab241[_0x8a40be(0x178)]=async()=>{const _0x250027=_0x8a40be,_0x4b5119=window[_0x250027(0x168)]('Edit\x20filename',_0x28a9ae);if(_0x4b5119!==null){const _0x19cffd=_0x28a9ae['replace'](/\....$/,'.gba'),_0x45a7b6=_0x4b5119[_0x250027(0x17c)](/\....$/,_0x250027(0x196)),_0x4dc789=_0x19cffd+_0x250027(0x15b)+_0x28a9ae['slice'](-0x1),_0x2d4f79=_0x19cffd+_0x250027(0x16b)+_0x28a9ae[_0x250027(0x159)](-0x1),_0x3362dc=_0x45a7b6+_0x250027(0x15b)+_0x4b5119[_0x250027(0x159)](-0x1),_0x2df775=_0x45a7b6+'_imageState'+_0x4b5119['slice'](-0x1),_0x1771b8=localStorage[_0x250027(0x16d)](_0x4dc789),_0x4c94c2=localStorage[_0x250027(0x16d)](_0x2d4f79);_0x1771b8!==null&&(localStorage[_0x250027(0x16a)](_0x3362dc,_0x1771b8),localStorage['removeItem'](_0x4dc789)),_0x4c94c2!==null&&(localStorage['setItem'](_0x2df775,_0x4c94c2),localStorage[_0x250027(0x166)](_0x2d4f79)),a0_0x1fd979[_0x250027(0x19f)](_0x51ccce,_0x28a9ae,_0x4b5119),localStorageFile(),_0x366020['close'](),_0x366020[_0x250027(0x19d)](),mgbaStorage[_0x250027(0x16f)][_0x250027(0x19d)](_0x250027(0x189));}},_0x366020['showModal']();};const _0x59f79e=document[_0x536f07(0x15c)](_0x536f07(0x194));_0x59f79e[_0x536f07(0x17d)]=humanFileSize(a0_0x1fd979[_0x536f07(0x19e)](_0x51ccce)),_0x59f79e[_0x536f07(0x16f)]['add'](_0x536f07(0x157)),_0x488fd0[_0x536f07(0x15f)](_0x59f79e);}export function localStorageFile(){const _0x214a8b=a0_0x41dcd6,_0x2aadff=a0_0x1fd979[_0x214a8b(0x162)](),_0x399365=a0_0x1fd979[_0x214a8b(0x18b)](),_0x186c67=a0_0x1fd979[_0x214a8b(0x163)](),_0x418012=a0_0x1fd979['listCheat'](),_0x5ac739=a0_0x1fd979['listScreenshot'](),_0x367757=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x242be7 of _0x367757){while(_0x242be7['firstChild']){_0x242be7[_0x214a8b(0x17e)]['remove']();}}for(const _0x42df5d of _0x2aadff){createElementStorage(romsFile,_0x42df5d,_0x214a8b(0x156)+_0x42df5d);}for(const _0x3f08ee of _0x186c67){createElementStorage(statesFile,_0x3f08ee,_0x214a8b(0x17b)+_0x3f08ee);}for(const _0x5cfa14 of _0x399365){createElementStorage(savesFile,_0x5cfa14,_0x214a8b(0x18f)+_0x5cfa14);}for(const _0x1070bb of _0x418012){createElementStorage(cheatsFile,_0x1070bb,_0x214a8b(0x192)+_0x1070bb);}for(const _0x5855bd of _0x5ac739){createElementStorage(screenshotsFile,_0x5855bd,'/data/screenshots/'+_0x5855bd);}}function a0_0x310c(_0x2bb4fe,_0x7d5629){const _0x7d2988=a0_0x7d29();return a0_0x310c=function(_0x310c53,_0x43d2cc){_0x310c53=_0x310c53-0x153;let _0x16e486=_0x7d2988[_0x310c53];return _0x16e486;},a0_0x310c(_0x2bb4fe,_0x7d5629);}document[a0_0x41dcd6(0x19b)](a0_0x41dcd6(0x161),function(){const _0x11776d=a0_0x41dcd6;upLoadFile[_0x11776d(0x19b)]('change',function(){const _0x2adb6b=_0x11776d,_0x4d2a0e=upLoadFile['files'][0x0][_0x2adb6b(0x15a)];if(_0x4d2a0e['endsWith'](_0x2adb6b(0x18e)))a0_0x1fd979[_0x2adb6b(0x185)](upLoadFile);else _0x4d2a0e[_0x2adb6b(0x180)](_0x2adb6b(0x196))||_0x4d2a0e[_0x2adb6b(0x180)](_0x2adb6b(0x195))||_0x4d2a0e[_0x2adb6b(0x180)](_0x2adb6b(0x160))?a0_0x1fd979[_0x2adb6b(0x171)](upLoadFile):a0_0x1fd979[_0x2adb6b(0x172)](upLoadFile);}),openLocalStorage[_0x11776d(0x19b)]('click',function(){const _0x34afa0=_0x11776d,_0x39fec7=localStorage['getItem'](_0x34afa0(0x183));storage[_0x34afa0(0x16f)][_0x34afa0(0x19d)](_0x34afa0(0x19c)),intro[_0x34afa0(0x16f)][_0x34afa0(0x188)](_0x34afa0(0x19c)),ingame[_0x34afa0(0x16f)]['add']('disable'),_0x39fec7===null||_0x39fec7===''?(dropboxRestore[_0x34afa0(0x16f)][_0x34afa0(0x19d)]('active'),dropboxBackup[_0x34afa0(0x16f)][_0x34afa0(0x19d)](_0x34afa0(0x182)),dropboxCloud['classList'][_0x34afa0(0x19d)](_0x34afa0(0x182))):(dropboxRestore[_0x34afa0(0x16f)][_0x34afa0(0x188)](_0x34afa0(0x182)),dropboxBackup['classList'][_0x34afa0(0x188)](_0x34afa0(0x182)),dropboxCloud[_0x34afa0(0x16f)][_0x34afa0(0x188)](_0x34afa0(0x182)));}),setTimeout(()=>{localStorageFile();},0xbb8);});