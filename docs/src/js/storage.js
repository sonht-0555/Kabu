const a0_0x4c37a9=a0_0x251e;(function(_0xa44b88,_0x5a6834){const _0x58b98d=a0_0x251e,_0x409248=_0xa44b88();while(!![]){try{const _0x54545b=-parseInt(_0x58b98d(0xb1))/0x1*(parseInt(_0x58b98d(0xbd))/0x2)+parseInt(_0x58b98d(0xce))/0x3+-parseInt(_0x58b98d(0xe6))/0x4*(parseInt(_0x58b98d(0xbe))/0x5)+-parseInt(_0x58b98d(0xca))/0x6*(-parseInt(_0x58b98d(0xdc))/0x7)+parseInt(_0x58b98d(0xc4))/0x8+parseInt(_0x58b98d(0xbb))/0x9+parseInt(_0x58b98d(0x9f))/0xa*(-parseInt(_0x58b98d(0xc3))/0xb);if(_0x54545b===_0x5a6834)break;else _0x409248['push'](_0x409248['shift']());}catch(_0x206b9b){_0x409248['push'](_0x409248['shift']());}}}(a0_0x31a4,0xc2106));import*as a0_0x42f2f2 from'./main.js';const mgbaStorage=document[a0_0x4c37a9(0xe4)]('mgba-storage'),savesFile=document[a0_0x4c37a9(0xe4)](a0_0x4c37a9(0xe1)),romsFile=document[a0_0x4c37a9(0xe4)](a0_0x4c37a9(0xbc)),statesFile=document['getElementById'](a0_0x4c37a9(0xd0)),screenshotsFile=document[a0_0x4c37a9(0xe4)](a0_0x4c37a9(0xd9));function humanFileSize(_0x2aa884,_0xdc1eca=![],_0x1010b9=0x1){const _0x15ac87=a0_0x4c37a9,_0x1eed97=_0xdc1eca?0x3e8:0x400,_0x54c89f=_0xdc1eca?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x15ac87(0xd8),_0x15ac87(0xa7),_0x15ac87(0xc1),_0x15ac87(0xe3),'PiB',_0x15ac87(0xa0),'ZiB',_0x15ac87(0xb5)];let _0x216910=-0x1;do{_0x2aa884/=_0x1eed97,++_0x216910;}while(Math[_0x15ac87(0xc8)](_0x2aa884)>=_0x1eed97&&_0x216910<_0x54c89f[_0x15ac87(0xae)]-0x1);return _0x2aa884[_0x15ac87(0x9d)](_0x1010b9)+'\x20'+_0x54c89f[_0x216910];}function createElementStorage(_0x30313b,_0x3ca6dd,_0x26d514){const _0x1b2e71=a0_0x4c37a9,_0x1cf146=document[_0x1b2e71(0xdb)](_0x1b2e71(0xab));_0x1cf146[_0x1b2e71(0xac)]['add'](_0x1b2e71(0xe2),_0x1b2e71(0xda),'rom'),_0x30313b[_0x1b2e71(0x9e)](_0x1cf146);const _0x11c417=document['createElement'](_0x1b2e71(0xbf));_0x11c417[_0x1b2e71(0xde)]=_0x3ca6dd,_0x11c417[_0x1b2e71(0xac)][_0x1b2e71(0xa6)](_0x1b2e71(0xe2)),_0x1cf146[_0x1b2e71(0x9e)](_0x11c417),_0x11c417[_0x1b2e71(0xb7)]=()=>{const _0x20b8d6=_0x1b2e71,_0x70e1da=document[_0x20b8d6(0xdb)]('dialog');_0x70e1da[_0x20b8d6(0xcf)]=()=>_0x70e1da[_0x20b8d6(0xb0)](),_0x30313b[_0x20b8d6(0x9e)](_0x70e1da);const _0x50d73f=document['createElement'](_0x20b8d6(0xab));_0x50d73f[_0x20b8d6(0xac)][_0x20b8d6(0xa6)]('storage',_0x20b8d6(0xd5),'gap-10'),_0x70e1da[_0x20b8d6(0x9e)](_0x50d73f);const _0x1b0135=document[_0x20b8d6(0xdb)](_0x20b8d6(0xab));_0x1b0135['classList'][_0x20b8d6(0xa6)](_0x20b8d6(0xa5),'bc',_0x20b8d6(0xe2)),_0x50d73f[_0x20b8d6(0x9e)](_0x1b0135);const _0x11fc32=document[_0x20b8d6(0xdb)](_0x20b8d6(0xab));_0x11fc32['classList'][_0x20b8d6(0xa6)]('flex-1'),_0x50d73f[_0x20b8d6(0x9e)](_0x11fc32);const _0xa595f6=document[_0x20b8d6(0xdb)]('div');_0xa595f6[_0x20b8d6(0xac)][_0x20b8d6(0xa6)](_0x20b8d6(0xe2)),_0x50d73f[_0x20b8d6(0x9e)](_0xa595f6);const _0x3423ca=document[_0x20b8d6(0xdb)](_0x20b8d6(0xab));_0x3423ca[_0x20b8d6(0xac)][_0x20b8d6(0xa6)](_0x20b8d6(0xe2)),_0x50d73f['appendChild'](_0x3423ca),mgbaStorage[_0x20b8d6(0xac)]['add'](_0x20b8d6(0x9a)),_0x1b0135[_0x20b8d6(0xb7)]=()=>{const _0x4254ef=_0x20b8d6;_0x70e1da[_0x4254ef(0xb6)](),_0x70e1da['remove'](),mgbaStorage[_0x4254ef(0xac)][_0x4254ef(0xb0)](_0x4254ef(0x9a));};const _0x13e305=document[_0x20b8d6(0xdb)](_0x20b8d6(0xab));_0x13e305[_0x20b8d6(0xac)][_0x20b8d6(0xa6)]('flex-1',_0x20b8d6(0xda),'hw','cw'),_0x13e305[_0x20b8d6(0xde)]=_0x3ca6dd,_0x70e1da[_0x20b8d6(0x9e)](_0x13e305);const _0x40de79=document[_0x20b8d6(0xdb)](_0x20b8d6(0xab));_0x40de79['classList'][_0x20b8d6(0xa6)](_0x20b8d6(0xa8),'hw','cw',_0x20b8d6(0xdd)),_0x70e1da[_0x20b8d6(0x9e)](_0x40de79);const _0x35fd88=document[_0x20b8d6(0xdb)]('div');_0x35fd88['classList'][_0x20b8d6(0xa6)](_0x20b8d6(0xc6),'bc'),_0x40de79[_0x20b8d6(0x9e)](_0x35fd88),_0x35fd88[_0x20b8d6(0xb7)]=()=>{const _0x411296=_0x20b8d6;a0_0x42f2f2[_0x411296(0xc5)](_0x26d514,_0x3ca6dd);};const _0xd9d597=document[_0x20b8d6(0xdb)](_0x20b8d6(0xab));_0xd9d597[_0x20b8d6(0xac)][_0x20b8d6(0xa6)]('delete','bc'),_0x40de79[_0x20b8d6(0x9e)](_0xd9d597),_0xd9d597[_0x20b8d6(0xb7)]=async()=>{const _0x1e8edc=_0x20b8d6;if(window[_0x1e8edc(0xd1)](_0x1e8edc(0xa2)+_0x3ca6dd)){const _0x1ddb25=_0x3ca6dd[_0x1e8edc(0xa4)](/\....$/,'.gba');a0_0x42f2f2[_0x1e8edc(0xd3)](_0x26d514),localStorage[_0x1e8edc(0xd4)](_0x1ddb25+_0x1e8edc(0xba)+_0x3ca6dd[_0x1e8edc(0xb9)](-0x1)),localStorage['removeItem'](_0x1ddb25+_0x1e8edc(0xcd)+_0x3ca6dd[_0x1e8edc(0xb9)](-0x1)),localStorageFile(),_0x70e1da[_0x1e8edc(0xb6)](),_0x70e1da['remove'](),mgbaStorage[_0x1e8edc(0xac)][_0x1e8edc(0xb0)]('opacity0');}};const _0x77a311=document[_0x20b8d6(0xdb)](_0x20b8d6(0xab));_0x77a311[_0x20b8d6(0xac)]['add'](_0x20b8d6(0xd7),'bc'),_0x40de79[_0x20b8d6(0x9e)](_0x77a311),_0x77a311[_0x20b8d6(0xb7)]=async()=>{const _0x3964d5=_0x20b8d6,_0x239541=window[_0x3964d5(0xad)](_0x3964d5(0x9c),_0x3ca6dd);_0x239541!==null&&(a0_0x42f2f2[_0x3964d5(0xcb)](_0x26d514,_0x3ca6dd,_0x239541),localStorageFile(),_0x70e1da[_0x3964d5(0xb6)](),_0x70e1da['remove'](),mgbaStorage[_0x3964d5(0xac)][_0x3964d5(0xb0)](_0x3964d5(0x9a)));},_0x70e1da[_0x20b8d6(0xc7)]();};const _0x22d6ef=document[_0x1b2e71(0xdb)](_0x1b2e71(0xbf));_0x22d6ef[_0x1b2e71(0xde)]=humanFileSize(a0_0x42f2f2[_0x1b2e71(0xe0)](_0x26d514)),_0x22d6ef[_0x1b2e71(0xac)][_0x1b2e71(0xa6)](_0x1b2e71(0xdf)),_0x1cf146[_0x1b2e71(0x9e)](_0x22d6ef);}function a0_0x31a4(){const _0x1c4a88=['statesFile','confirm','listFiles','deleteFile','removeItem','right','uploadFile','rename','KiB','screenshotsFile','rom-item','createElement','903dhjHJQ','gap-16','textContent','mib','fileSize','savesFile','flex-1','TiB','getElementById','cheats','3502484WhFZwG','/data/states/','opacity0','saves','Edit\x20filename','toFixed','appendChild','370jJiyFY','EiB','getItem','Delete\x20this\x20file?','/data/screenshots/','replace','home','add','MiB','actionDiv','/data/saves/','screenshots','div','classList','prompt','length','DOMContentLoaded','remove','1qoLWqP','lastChild','addEventListener','change','YiB','close','onclick','click','slice','_dateState','14238288UFColM','romsFile','2490628GlKoxb','5ttImsh','span','games','GiB','active','579491DGqIgi','12180928gaitLt','downloadFile','download','showModal','abs','uId','56034MEdPat','editFile','disable','_imageState','1666917ZZtYAA','onclose'];a0_0x31a4=function(){return _0x1c4a88;};return a0_0x31a4();}export function localStorageFile(){const _0x3f2b8f=a0_0x4c37a9,_0x34cf53=a0_0x42f2f2['listFiles'](_0x3f2b8f(0xc0)),_0x42d769=a0_0x42f2f2[_0x3f2b8f(0xd2)](_0x3f2b8f(0x9b)),_0x66b167=a0_0x42f2f2[_0x3f2b8f(0xd2)]('states'),_0x5b4b90=a0_0x42f2f2['listFiles'](_0x3f2b8f(0xe5)),_0x335d81=a0_0x42f2f2['listFiles'](_0x3f2b8f(0xaa)),_0x2ef250=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4771f4 of _0x2ef250){while(_0x4771f4['firstChild']){_0x4771f4[_0x3f2b8f(0xb2)][_0x3f2b8f(0xb0)]();}}for(const _0x1d7167 of _0x34cf53){createElementStorage(romsFile,_0x1d7167,'/data/games/'+_0x1d7167);}for(const _0x310983 of _0x66b167){createElementStorage(statesFile,_0x310983,_0x3f2b8f(0x99)+_0x310983);}for(const _0x18ce6d of _0x42d769){createElementStorage(savesFile,_0x18ce6d,_0x3f2b8f(0xa9)+_0x18ce6d);}for(const _0x7672fc of _0x5b4b90){createElementStorage(cheatsFile,_0x7672fc,'/data/cheats/'+_0x7672fc);}for(const _0x38a195 of _0x335d81){createElementStorage(screenshotsFile,_0x38a195,_0x3f2b8f(0xa3)+_0x38a195);}}function a0_0x251e(_0x2e4e57,_0xb77a22){const _0x31a4c3=a0_0x31a4();return a0_0x251e=function(_0x251e59,_0xb45992){_0x251e59=_0x251e59-0x99;let _0x1ede67=_0x31a4c3[_0x251e59];return _0x1ede67;},a0_0x251e(_0x2e4e57,_0xb77a22);}document[a0_0x4c37a9(0xb3)](a0_0x4c37a9(0xaf),function(){const _0x27c872=a0_0x4c37a9;upLoadFile[_0x27c872(0xb3)](_0x27c872(0xb4),function(){const _0x2931b2=_0x27c872;a0_0x42f2f2[_0x2931b2(0xd6)](upLoadFile);}),openLocalStorage[_0x27c872(0xb3)](_0x27c872(0xb8),function(){const _0xc949f1=_0x27c872,_0x45bc7c=localStorage[_0xc949f1(0xa1)](_0xc949f1(0xc9));storage['classList'][_0xc949f1(0xb0)](_0xc949f1(0xcc)),intro[_0xc949f1(0xac)][_0xc949f1(0xa6)](_0xc949f1(0xcc)),ingame['classList'][_0xc949f1(0xa6)]('disable'),_0x45bc7c===null||_0x45bc7c===''?(dropboxRestore['classList']['remove'](_0xc949f1(0xc2)),dropboxBackup[_0xc949f1(0xac)][_0xc949f1(0xb0)]('active'),dropboxCloud[_0xc949f1(0xac)][_0xc949f1(0xb0)](_0xc949f1(0xc2))):(dropboxRestore['classList'][_0xc949f1(0xa6)]('active'),dropboxBackup[_0xc949f1(0xac)]['add'](_0xc949f1(0xc2)),dropboxCloud[_0xc949f1(0xac)][_0xc949f1(0xa6)](_0xc949f1(0xc2)));}),setTimeout(()=>{localStorageFile();},0xbb8);});