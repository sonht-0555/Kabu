function a0_0x3ae0(_0x196748,_0x5d4e21){const _0x3319bf=a0_0x3319();return a0_0x3ae0=function(_0x3ae0b6,_0x106112){_0x3ae0b6=_0x3ae0b6-0x152;let _0x4da912=_0x3319bf[_0x3ae0b6];return _0x4da912;},a0_0x3ae0(_0x196748,_0x5d4e21);}const a0_0x439e9c=a0_0x3ae0;(function(_0x59c010,_0x5bbd05){const _0x10e5ca=a0_0x3ae0,_0x3d1303=_0x59c010();while(!![]){try{const _0x48219c=-parseInt(_0x10e5ca(0x182))/0x1*(-parseInt(_0x10e5ca(0x17c))/0x2)+-parseInt(_0x10e5ca(0x17e))/0x3*(parseInt(_0x10e5ca(0x18b))/0x4)+-parseInt(_0x10e5ca(0x18f))/0x5+-parseInt(_0x10e5ca(0x18a))/0x6+-parseInt(_0x10e5ca(0x19f))/0x7*(parseInt(_0x10e5ca(0x18e))/0x8)+parseInt(_0x10e5ca(0x1a0))/0x9+-parseInt(_0x10e5ca(0x153))/0xa*(-parseInt(_0x10e5ca(0x161))/0xb);if(_0x48219c===_0x5bbd05)break;else _0x3d1303['push'](_0x3d1303['shift']());}catch(_0x23b731){_0x3d1303['push'](_0x3d1303['shift']());}}}(a0_0x3319,0x75b35));import*as a0_0x4e356d from'./main.js';const mgbaStorage=document['getElementById'](a0_0x439e9c(0x16b)),savesFile=document[a0_0x439e9c(0x19d)](a0_0x439e9c(0x17a)),romsFile=document[a0_0x439e9c(0x19d)](a0_0x439e9c(0x155)),statesFile=document[a0_0x439e9c(0x19d)](a0_0x439e9c(0x194)),screenshotsFile=document[a0_0x439e9c(0x19d)](a0_0x439e9c(0x167));function humanFileSize(_0x4fabd7,_0x2dbbec=![],_0x4f290e=0x1){const _0x41955c=a0_0x439e9c,_0x3e03cd=_0x2dbbec?0x3e8:0x400,_0x231c63=_0x2dbbec?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x41955c(0x17f),_0x41955c(0x15c),_0x41955c(0x180),_0x41955c(0x197),_0x41955c(0x181),_0x41955c(0x166),_0x41955c(0x190),'YiB'];let _0x327f79=-0x1;do{_0x4fabd7/=_0x3e03cd,++_0x327f79;}while(Math[_0x41955c(0x168)](_0x4fabd7)>=_0x3e03cd&&_0x327f79<_0x231c63[_0x41955c(0x19e)]-0x1);return _0x4fabd7['toFixed'](_0x4f290e)+'\x20'+_0x231c63[_0x327f79];}function createElementStorage(_0x80e9ec,_0x3976bf,_0x3676ce){const _0x3255b1=a0_0x439e9c,_0x10bc25=document[_0x3255b1(0x189)](_0x3255b1(0x17b));_0x10bc25['classList'][_0x3255b1(0x184)](_0x3255b1(0x1a4),'rom-item',_0x3255b1(0x15b)),_0x80e9ec[_0x3255b1(0x1a5)](_0x10bc25);const _0x3f22ed=document[_0x3255b1(0x189)](_0x3255b1(0x165));_0x3f22ed['textContent']=_0x3976bf,_0x3f22ed[_0x3255b1(0x198)][_0x3255b1(0x184)](_0x3255b1(0x1a4)),_0x10bc25[_0x3255b1(0x1a5)](_0x3f22ed),_0x3f22ed['onclick']=()=>{const _0x8ab7d4=_0x3255b1,_0xb127b7=document[_0x8ab7d4(0x189)](_0x8ab7d4(0x152));_0xb127b7[_0x8ab7d4(0x15f)]=()=>_0xb127b7[_0x8ab7d4(0x1a1)](),_0x80e9ec[_0x8ab7d4(0x1a5)](_0xb127b7);const _0xb77a56=document[_0x8ab7d4(0x189)](_0x8ab7d4(0x17b));_0xb77a56[_0x8ab7d4(0x198)][_0x8ab7d4(0x184)](_0x8ab7d4(0x171),_0x8ab7d4(0x1a7),_0x8ab7d4(0x154)),_0xb127b7['appendChild'](_0xb77a56);const _0x518c36=document[_0x8ab7d4(0x189)](_0x8ab7d4(0x17b));_0x518c36[_0x8ab7d4(0x198)][_0x8ab7d4(0x184)](_0x8ab7d4(0x195),'bc',_0x8ab7d4(0x1a4)),_0xb77a56['appendChild'](_0x518c36);const _0x36b120=document[_0x8ab7d4(0x189)](_0x8ab7d4(0x17b));_0x36b120[_0x8ab7d4(0x198)][_0x8ab7d4(0x184)](_0x8ab7d4(0x1a4)),_0xb77a56['appendChild'](_0x36b120);const _0x1f98ad=document[_0x8ab7d4(0x189)](_0x8ab7d4(0x17b));_0x1f98ad['classList'][_0x8ab7d4(0x184)](_0x8ab7d4(0x1a4)),_0xb77a56[_0x8ab7d4(0x1a5)](_0x1f98ad);const _0x458ef0=document[_0x8ab7d4(0x189)](_0x8ab7d4(0x17b));_0x458ef0[_0x8ab7d4(0x198)][_0x8ab7d4(0x184)]('flex-1'),_0xb77a56['appendChild'](_0x458ef0),mgbaStorage[_0x8ab7d4(0x198)][_0x8ab7d4(0x184)](_0x8ab7d4(0x158)),_0x518c36[_0x8ab7d4(0x176)]=()=>{const _0x30978c=_0x8ab7d4;_0xb127b7[_0x30978c(0x187)](),_0xb127b7['remove'](),mgbaStorage['classList'][_0x30978c(0x1a1)]('opacity0');};const _0x4859e5=document[_0x8ab7d4(0x189)]('div');_0x4859e5[_0x8ab7d4(0x198)]['add'](_0x8ab7d4(0x1a4),_0x8ab7d4(0x16c),'hw','cw'),_0x4859e5[_0x8ab7d4(0x185)]=_0x3976bf,_0xb127b7[_0x8ab7d4(0x1a5)](_0x4859e5);const _0x47bd03=document[_0x8ab7d4(0x189)](_0x8ab7d4(0x17b));_0x47bd03[_0x8ab7d4(0x198)][_0x8ab7d4(0x184)]('actionDiv','hw','cw',_0x8ab7d4(0x175)),_0xb127b7['appendChild'](_0x47bd03);const _0x3aafe9=document['createElement']('div');_0x3aafe9[_0x8ab7d4(0x198)][_0x8ab7d4(0x184)]('download','bc'),_0x47bd03[_0x8ab7d4(0x1a5)](_0x3aafe9),_0x3aafe9[_0x8ab7d4(0x176)]=()=>{const _0x37f1d0=_0x8ab7d4;a0_0x4e356d[_0x37f1d0(0x157)](_0x3676ce,_0x3976bf);};const _0x14a85f=document['createElement'](_0x8ab7d4(0x17b));_0x14a85f[_0x8ab7d4(0x198)][_0x8ab7d4(0x184)](_0x8ab7d4(0x16d),'bc'),_0x47bd03[_0x8ab7d4(0x1a5)](_0x14a85f),_0x14a85f['onclick']=async()=>{const _0x4f6423=_0x8ab7d4;if(window['confirm'](_0x4f6423(0x186)+_0x3976bf)){const _0x101299=_0x3976bf[_0x4f6423(0x16e)](/\....$/,'.gba');a0_0x4e356d[_0x4f6423(0x173)](_0x3676ce),localStorage['removeItem'](_0x101299+_0x4f6423(0x18d)+_0x3976bf[_0x4f6423(0x179)](-0x1)),localStorage['removeItem'](_0x101299+_0x4f6423(0x188)+_0x3976bf['slice'](-0x1)),localStorageFile(),_0xb127b7['close'](),_0xb127b7[_0x4f6423(0x1a1)](),mgbaStorage[_0x4f6423(0x198)][_0x4f6423(0x1a1)](_0x4f6423(0x158));}};const _0x59fd41=document[_0x8ab7d4(0x189)](_0x8ab7d4(0x17b));_0x59fd41[_0x8ab7d4(0x198)][_0x8ab7d4(0x184)]('rename','bc'),_0x47bd03[_0x8ab7d4(0x1a5)](_0x59fd41),_0x59fd41[_0x8ab7d4(0x176)]=async()=>{const _0x527ea9=_0x8ab7d4,_0x145f50=window[_0x527ea9(0x163)]('Edit\x20filename',_0x3976bf);if(_0x145f50!==null){const _0x395398=_0x3976bf['replace'](/\....$/,'.gba'),_0x23c829=_0x145f50[_0x527ea9(0x16e)](/\....$/,_0x527ea9(0x1a2)),_0x1242f2=_0x395398+_0x527ea9(0x18d)+_0x3976bf[_0x527ea9(0x179)](-0x1),_0x484da6=_0x395398+_0x527ea9(0x188)+_0x3976bf[_0x527ea9(0x179)](-0x1),_0x5741de=_0x23c829+_0x527ea9(0x18d)+_0x145f50[_0x527ea9(0x179)](-0x1),_0x4f883c=_0x23c829+'_imageState'+_0x145f50[_0x527ea9(0x179)](-0x1),_0x4c1dd5=localStorage[_0x527ea9(0x172)](_0x1242f2),_0x31cda8=localStorage[_0x527ea9(0x172)](_0x484da6);_0x4c1dd5!==null&&(localStorage[_0x527ea9(0x19b)](_0x5741de,_0x4c1dd5),localStorage[_0x527ea9(0x183)](_0x1242f2)),_0x31cda8!==null&&(localStorage[_0x527ea9(0x19b)](_0x4f883c,_0x31cda8),localStorage[_0x527ea9(0x183)](_0x484da6)),a0_0x4e356d[_0x527ea9(0x19a)](_0x3676ce,_0x3976bf,_0x145f50),localStorageFile(),_0xb127b7[_0x527ea9(0x187)](),_0xb127b7['remove'](),mgbaStorage[_0x527ea9(0x198)]['remove'](_0x527ea9(0x158));}},_0xb127b7[_0x8ab7d4(0x1a3)]();};const _0x38c2ec=document[_0x3255b1(0x189)]('span');_0x38c2ec[_0x3255b1(0x185)]=humanFileSize(a0_0x4e356d['fileSize'](_0x3676ce)),_0x38c2ec['classList'][_0x3255b1(0x184)]('mib'),_0x10bc25[_0x3255b1(0x1a5)](_0x38c2ec);}export function localStorageFile(){const _0x151736=a0_0x439e9c,_0xf99162=a0_0x4e356d['listGame'](),_0x465b71=a0_0x4e356d[_0x151736(0x169)](),_0x1d16c3=a0_0x4e356d[_0x151736(0x164)](),_0x3ff968=a0_0x4e356d[_0x151736(0x177)](),_0x12c1ae=a0_0x4e356d['listScreenshot'](),_0x204483=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x106f6a of _0x204483){while(_0x106f6a[_0x151736(0x156)]){_0x106f6a[_0x151736(0x15d)]['remove']();}}for(const _0x2b6eee of _0xf99162){createElementStorage(romsFile,_0x2b6eee,_0x151736(0x15a)+_0x2b6eee);}for(const _0x197a9d of _0x1d16c3){createElementStorage(statesFile,_0x197a9d,_0x151736(0x17d)+_0x197a9d);}for(const _0x581232 of _0x465b71){createElementStorage(savesFile,_0x581232,_0x151736(0x199)+_0x581232);}for(const _0x8ecdba of _0x3ff968){createElementStorage(cheatsFile,_0x8ecdba,_0x151736(0x191)+_0x8ecdba);}for(const _0x76ac95 of _0x12c1ae){createElementStorage(screenshotsFile,_0x76ac95,_0x151736(0x193)+_0x76ac95);}}function a0_0x3319(){const _0x52f18a=['createElement','2682990grClsJ','3411440xfKfro','name','_dateState','80LSlJrk','4780110FNIuEb','ZiB','/data/cheats/','uploadSavSta','/data/screenshots/','statesFile','home','disable','TiB','classList','/data/saves/','editFile','setItem','DOMContentLoaded','getElementById','length','385140baqfUA','1561509MxQGkH','remove','.gba','showModal','flex-1','appendChild','uploadCheat','right','dialog','6430bhuOQO','gap-10','romsFile','firstChild','downloadFile','opacity0','endsWith','/data/games/','rom','MiB','lastChild','addEventListener','onclose','.gbc','47289woybHp','uId','prompt','listState','span','EiB','screenshotsFile','abs','listSave','uploadGame','mgba-storage','rom-item','delete','replace','files','active','storage','getItem','deleteFile','change','gap-16','onclick','listCheat','.bc','slice','savesFile','div','140236XkLORL','/data/states/','3dmCaJT','KiB','GiB','PiB','5IPQRzi','removeItem','add','textContent','Delete\x20this\x20file?','close','_imageState'];a0_0x3319=function(){return _0x52f18a;};return a0_0x3319();}document['addEventListener'](a0_0x439e9c(0x19c),function(){const _0x4ec2a5=a0_0x439e9c;upLoadFile[_0x4ec2a5(0x15e)](_0x4ec2a5(0x174),function(){const _0x448bf4=_0x4ec2a5,_0x479cbb=upLoadFile[_0x448bf4(0x16f)][0x0][_0x448bf4(0x18c)];if(_0x479cbb['endsWith']('.cheats'))a0_0x4e356d[_0x448bf4(0x1a6)](upLoadFile);else _0x479cbb[_0x448bf4(0x159)]('.gba')||_0x479cbb[_0x448bf4(0x159)](_0x448bf4(0x160))||_0x479cbb['endsWith'](_0x448bf4(0x178))?a0_0x4e356d[_0x448bf4(0x16a)](upLoadFile):a0_0x4e356d[_0x448bf4(0x192)](upLoadFile);}),openLocalStorage[_0x4ec2a5(0x15e)]('click',function(){const _0x3684b0=_0x4ec2a5,_0x1d1ac1=localStorage[_0x3684b0(0x172)](_0x3684b0(0x162));storage[_0x3684b0(0x198)][_0x3684b0(0x1a1)](_0x3684b0(0x196)),intro[_0x3684b0(0x198)]['add']('disable'),ingame[_0x3684b0(0x198)][_0x3684b0(0x184)]('disable'),_0x1d1ac1===null||_0x1d1ac1===''?(dropboxRestore[_0x3684b0(0x198)][_0x3684b0(0x1a1)](_0x3684b0(0x170)),dropboxBackup[_0x3684b0(0x198)]['remove']('active'),dropboxCloud['classList'][_0x3684b0(0x1a1)](_0x3684b0(0x170))):(dropboxRestore[_0x3684b0(0x198)]['add'](_0x3684b0(0x170)),dropboxBackup[_0x3684b0(0x198)][_0x3684b0(0x184)](_0x3684b0(0x170)),dropboxCloud[_0x3684b0(0x198)][_0x3684b0(0x184)](_0x3684b0(0x170)));}),setTimeout(()=>{localStorageFile();},0xbb8);});