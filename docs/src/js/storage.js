const a0_0x20c37b=a0_0x3578;(function(_0xcc0483,_0x5df09d){const _0x42c032=a0_0x3578,_0x394efd=_0xcc0483();while(!![]){try{const _0x447e7c=-parseInt(_0x42c032(0x1d5))/0x1*(-parseInt(_0x42c032(0x1d4))/0x2)+-parseInt(_0x42c032(0x1f4))/0x3*(-parseInt(_0x42c032(0x1c4))/0x4)+-parseInt(_0x42c032(0x1c2))/0x5+parseInt(_0x42c032(0x1e8))/0x6*(parseInt(_0x42c032(0x1af))/0x7)+-parseInt(_0x42c032(0x1dc))/0x8*(-parseInt(_0x42c032(0x1b1))/0x9)+parseInt(_0x42c032(0x1bc))/0xa+-parseInt(_0x42c032(0x1be))/0xb;if(_0x447e7c===_0x5df09d)break;else _0x394efd['push'](_0x394efd['shift']());}catch(_0x2673ff){_0x394efd['push'](_0x394efd['shift']());}}}(a0_0x2f4a,0xe391d));import*as a0_0x44b096 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x20c37b(0x1ea)),savesFile=document['getElementById'](a0_0x20c37b(0x1da)),romsFile=document[a0_0x20c37b(0x1e7)](a0_0x20c37b(0x1c8)),statesFile=document[a0_0x20c37b(0x1e7)](a0_0x20c37b(0x1e2)),screenshotsFile=document[a0_0x20c37b(0x1e7)](a0_0x20c37b(0x1f0));function humanFileSize(_0x5c87b,_0x13a66c=![],_0x365110=0x1){const _0x2996ea=a0_0x20c37b,_0xa03c09=_0x13a66c?0x3e8:0x400,_0x389268=_0x13a66c?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x2996ea(0x1f2),_0x2996ea(0x1b5),'TiB',_0x2996ea(0x1c1),_0x2996ea(0x1e3),_0x2996ea(0x1e4),_0x2996ea(0x1ce)];let _0x166883=-0x1;do{_0x5c87b/=_0xa03c09,++_0x166883;}while(Math[_0x2996ea(0x1dd)](_0x5c87b)>=_0xa03c09&&_0x166883<_0x389268[_0x2996ea(0x1f5)]-0x1);return _0x5c87b[_0x2996ea(0x1ec)](_0x365110)+'\x20'+_0x389268[_0x166883];}function a0_0x2f4a(){const _0x4880c8=['games','statesFile','EiB','ZiB','download','appendChild','getElementById','49578gnhlgv','mib','mgba-storage','rom-item','toFixed','_dateState','.gba','createElement','screenshotsFile','downloadFile','MiB','/data/games/','147xNGMSo','length','textContent','266DyXTRC','add','1089bCstas','storage','lastChild','right','GiB','Delete\x20this\x20file?','showModal','firstChild','states','/data/saves/','editFile','17694840eDmdhp','flex-1','22694078AWIqrc','gap-10','deleteFile','PiB','3275185jvonCs','listFiles','69364dSfPAd','home','remove','gap-16','romsFile','click','screenshots','/data/cheats/','active','onclick','YiB','opacity0','onclose','rom','fileSize','removeItem','2aMpBMy','636971kDknet','DOMContentLoaded','close','div','classList','savesFile','addEventListener','5296lDzQRh','abs','prompt','disable','slice'];a0_0x2f4a=function(){return _0x4880c8;};return a0_0x2f4a();}function a0_0x3578(_0x1f3f4b,_0x1661ac){const _0x2f4a99=a0_0x2f4a();return a0_0x3578=function(_0x35781c,_0x4a2ae9){_0x35781c=_0x35781c-0x1af;let _0x554be6=_0x2f4a99[_0x35781c];return _0x554be6;},a0_0x3578(_0x1f3f4b,_0x1661ac);}function createElementStorage(_0x2472a2,_0x493413,_0x595478){const _0xdb155f=a0_0x20c37b,_0x2767d8=document[_0xdb155f(0x1ef)]('div');_0x2767d8[_0xdb155f(0x1d9)][_0xdb155f(0x1b0)](_0xdb155f(0x1bd),'rom-item',_0xdb155f(0x1d1)),_0x2472a2[_0xdb155f(0x1e6)](_0x2767d8);const _0x3fa384=document['createElement']('span');_0x3fa384[_0xdb155f(0x1f6)]=_0x493413,_0x3fa384[_0xdb155f(0x1d9)]['add'](_0xdb155f(0x1bd)),_0x2767d8[_0xdb155f(0x1e6)](_0x3fa384),_0x3fa384[_0xdb155f(0x1cd)]=()=>{const _0x256666=_0xdb155f,_0x190167=document[_0x256666(0x1ef)]('dialog');_0x190167[_0x256666(0x1d0)]=()=>_0x190167[_0x256666(0x1c6)](),_0x2472a2[_0x256666(0x1e6)](_0x190167);const _0x492830=document[_0x256666(0x1ef)](_0x256666(0x1d8));_0x492830[_0x256666(0x1d9)][_0x256666(0x1b0)](_0x256666(0x1b2),_0x256666(0x1b4),_0x256666(0x1bf)),_0x190167[_0x256666(0x1e6)](_0x492830);const _0x101880=document[_0x256666(0x1ef)](_0x256666(0x1d8));_0x101880[_0x256666(0x1d9)][_0x256666(0x1b0)](_0x256666(0x1c5),'bc',_0x256666(0x1bd)),_0x492830[_0x256666(0x1e6)](_0x101880);const _0x4fc34e=document[_0x256666(0x1ef)](_0x256666(0x1d8));_0x4fc34e[_0x256666(0x1d9)]['add'](_0x256666(0x1bd)),_0x492830['appendChild'](_0x4fc34e);const _0x2dd3d7=document[_0x256666(0x1ef)]('div');_0x2dd3d7[_0x256666(0x1d9)][_0x256666(0x1b0)](_0x256666(0x1bd)),_0x492830['appendChild'](_0x2dd3d7);const _0x15bcb2=document[_0x256666(0x1ef)](_0x256666(0x1d8));_0x15bcb2[_0x256666(0x1d9)][_0x256666(0x1b0)](_0x256666(0x1bd)),_0x492830['appendChild'](_0x15bcb2),mgbaStorage[_0x256666(0x1d9)][_0x256666(0x1b0)](_0x256666(0x1cf)),_0x101880['onclick']=()=>{const _0x1d4449=_0x256666;_0x190167['close'](),_0x190167[_0x1d4449(0x1c6)](),mgbaStorage[_0x1d4449(0x1d9)][_0x1d4449(0x1c6)](_0x1d4449(0x1cf));};const _0x5ded34=document[_0x256666(0x1ef)](_0x256666(0x1d8));_0x5ded34[_0x256666(0x1d9)][_0x256666(0x1b0)]('flex-1',_0x256666(0x1eb),'hw','cw'),_0x5ded34[_0x256666(0x1f6)]=_0x493413,_0x190167['appendChild'](_0x5ded34);const _0x1da439=document[_0x256666(0x1ef)](_0x256666(0x1d8));_0x1da439[_0x256666(0x1d9)][_0x256666(0x1b0)]('actionDiv','hw','cw',_0x256666(0x1c7)),_0x190167[_0x256666(0x1e6)](_0x1da439);const _0x469d45=document['createElement'](_0x256666(0x1d8));_0x469d45[_0x256666(0x1d9)][_0x256666(0x1b0)](_0x256666(0x1e5),'bc'),_0x1da439[_0x256666(0x1e6)](_0x469d45),_0x469d45[_0x256666(0x1cd)]=()=>{const _0x2788c2=_0x256666;a0_0x44b096[_0x2788c2(0x1f1)](_0x595478,_0x493413);};const _0x33e2f1=document['createElement'](_0x256666(0x1d8));_0x33e2f1[_0x256666(0x1d9)][_0x256666(0x1b0)]('delete','bc'),_0x1da439[_0x256666(0x1e6)](_0x33e2f1),_0x33e2f1[_0x256666(0x1cd)]=async()=>{const _0x55ec31=_0x256666;if(window['confirm'](_0x55ec31(0x1b6)+_0x493413)){const _0x295fb7=_0x493413['replace'](/\....$/,_0x55ec31(0x1ee));a0_0x44b096[_0x55ec31(0x1c0)](_0x595478),localStorage[_0x55ec31(0x1d3)](_0x295fb7+_0x55ec31(0x1ed)+_0x493413[_0x55ec31(0x1e0)](-0x1)),localStorage[_0x55ec31(0x1d3)](_0x295fb7+'_imageState'+_0x493413[_0x55ec31(0x1e0)](-0x1)),localStorageFile(),_0x190167[_0x55ec31(0x1d7)](),_0x190167[_0x55ec31(0x1c6)](),mgbaStorage['classList'][_0x55ec31(0x1c6)](_0x55ec31(0x1cf));}};const _0x28d893=document['createElement'](_0x256666(0x1d8));_0x28d893[_0x256666(0x1d9)][_0x256666(0x1b0)]('rename','bc'),_0x1da439['appendChild'](_0x28d893),_0x28d893[_0x256666(0x1cd)]=async()=>{const _0x3fefbf=_0x256666,_0x4b2a40=window[_0x3fefbf(0x1de)]('Edit\x20filename',_0x493413);_0x4b2a40!==null&&(a0_0x44b096[_0x3fefbf(0x1bb)](_0x595478,_0x493413,_0x4b2a40),localStorageFile(),_0x190167[_0x3fefbf(0x1d7)](),_0x190167[_0x3fefbf(0x1c6)](),mgbaStorage[_0x3fefbf(0x1d9)][_0x3fefbf(0x1c6)](_0x3fefbf(0x1cf)));},_0x190167[_0x256666(0x1b7)]();};const _0x500c7b=document[_0xdb155f(0x1ef)]('span');_0x500c7b[_0xdb155f(0x1f6)]=humanFileSize(a0_0x44b096[_0xdb155f(0x1d2)](_0x595478)),_0x500c7b[_0xdb155f(0x1d9)][_0xdb155f(0x1b0)](_0xdb155f(0x1e9)),_0x2767d8['appendChild'](_0x500c7b);}export function localStorageFile(){const _0x151c2a=a0_0x20c37b,_0xf35fe8=a0_0x44b096['listFiles'](_0x151c2a(0x1e1)),_0x3fa2e4=a0_0x44b096[_0x151c2a(0x1c3)]('saves'),_0xb59837=a0_0x44b096[_0x151c2a(0x1c3)](_0x151c2a(0x1b9)),_0x16c7dc=a0_0x44b096[_0x151c2a(0x1c3)]('cheats'),_0x237dba=a0_0x44b096[_0x151c2a(0x1c3)](_0x151c2a(0x1ca)),_0x16c490=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x139063 of _0x16c490){while(_0x139063[_0x151c2a(0x1b8)]){_0x139063[_0x151c2a(0x1b3)][_0x151c2a(0x1c6)]();}}for(const _0x3ae9f8 of _0xf35fe8){createElementStorage(romsFile,_0x3ae9f8,_0x151c2a(0x1f3)+_0x3ae9f8);}for(const _0x10b9fe of _0xb59837){createElementStorage(statesFile,_0x10b9fe,'/data/states/'+_0x10b9fe);}for(const _0x44619c of _0x3fa2e4){createElementStorage(savesFile,_0x44619c,_0x151c2a(0x1ba)+_0x44619c);}for(const _0x1be158 of _0x16c7dc){createElementStorage(cheatsFile,_0x1be158,_0x151c2a(0x1cb)+_0x1be158);}for(const _0x440f00 of _0x237dba){createElementStorage(screenshotsFile,_0x440f00,'/data/screenshots/'+_0x440f00);}}document['addEventListener'](a0_0x20c37b(0x1d6),function(){const _0x270781=a0_0x20c37b;upLoadFile[_0x270781(0x1db)]('change',function(){a0_0x44b096['uploadFile'](upLoadFile);}),openLocalStorage[_0x270781(0x1db)](_0x270781(0x1c9),function(){const _0x690d75=_0x270781,_0x5ac496=localStorage['getItem']('uId');storage[_0x690d75(0x1d9)]['remove'](_0x690d75(0x1df)),intro[_0x690d75(0x1d9)]['add'](_0x690d75(0x1df)),ingame[_0x690d75(0x1d9)][_0x690d75(0x1b0)](_0x690d75(0x1df)),_0x5ac496===null||_0x5ac496===''?(dropboxRestore[_0x690d75(0x1d9)]['remove'](_0x690d75(0x1cc)),dropboxBackup[_0x690d75(0x1d9)][_0x690d75(0x1c6)]('active'),dropboxCloud[_0x690d75(0x1d9)]['remove']('active')):(dropboxRestore['classList']['add']('active'),dropboxBackup['classList'][_0x690d75(0x1b0)](_0x690d75(0x1cc)),dropboxCloud[_0x690d75(0x1d9)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});