function a0_0x3c13(_0x5a2efe,_0x2aa01a){const _0xe25c7=a0_0xe25c();return a0_0x3c13=function(_0x3c139e,_0x37d57f){_0x3c139e=_0x3c139e-0x10e;let _0x423695=_0xe25c7[_0x3c139e];return _0x423695;},a0_0x3c13(_0x5a2efe,_0x2aa01a);}function a0_0xe25c(){const _0x128782=['savesFile','Delete\x20this\x20file?','390NHKODM','abs','add','637540CudnlU','396HYfekt','getElementById','/data/saves/','mib','/data/screenshots/','change','_imageState','/data/games/','rom','getItem','_dateState','slice','showModal','classList','fileSize','toFixed','firstChild','uploadFile','prompt','opacity0','textContent','KiB','removeItem','appendChild','right','TiB','screenshotsFile','MiB','dialog','flex-1','editFile','download','span','storage','listCheat','/data/states/','home','listGame','delete','remove','div','uId','click','onclick','DOMContentLoaded','1189864ZaYFBn','disable','1401466vXSpZG','5897675bVjMvo','.gba','EiB','gap-16','active','listState','createElement','2946685xamLFw','lastChild','addEventListener','1003218URRGsa','close','statesFile','6flWwTv','replace','listScreenshot','length','21296upPANF','ZiB','setItem','YiB','mgba-storage','gap-10'];a0_0xe25c=function(){return _0x128782;};return a0_0xe25c();}const a0_0x1c7e84=a0_0x3c13;(function(_0x30381c,_0x1ae4ec){const _0x37b02b=a0_0x3c13,_0x101928=_0x30381c();while(!![]){try{const _0xb126ad=-parseInt(_0x37b02b(0x155))/0x1+-parseInt(_0x37b02b(0x14a))/0x2+parseInt(_0x37b02b(0x117))/0x3*(parseInt(_0x37b02b(0x10f))/0x4)+-parseInt(_0x37b02b(0x152))/0x5+-parseInt(_0x37b02b(0x158))/0x6*(parseInt(_0x37b02b(0x14b))/0x7)+parseInt(_0x37b02b(0x148))/0x8+-parseInt(_0x37b02b(0x11b))/0x9*(-parseInt(_0x37b02b(0x11a))/0xa);if(_0xb126ad===_0x1ae4ec)break;else _0x101928['push'](_0x101928['shift']());}catch(_0x1e9f35){_0x101928['push'](_0x101928['shift']());}}}(a0_0xe25c,0x7c908));import*as a0_0x4444ec from'./main.js';const mgbaStorage=document['getElementById'](a0_0x1c7e84(0x113)),savesFile=document[a0_0x1c7e84(0x11c)](a0_0x1c7e84(0x115)),romsFile=document[a0_0x1c7e84(0x11c)]('romsFile'),statesFile=document[a0_0x1c7e84(0x11c)](a0_0x1c7e84(0x157)),screenshotsFile=document[a0_0x1c7e84(0x11c)](a0_0x1c7e84(0x135));function humanFileSize(_0x100c29,_0x3aa8f0=![],_0x277f1a=0x1){const _0x9f3d38=a0_0x1c7e84,_0x362244=_0x3aa8f0?0x3e8:0x400,_0x363f45=_0x3aa8f0?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x9f3d38(0x130),_0x9f3d38(0x136),'GiB',_0x9f3d38(0x134),'PiB',_0x9f3d38(0x14d),_0x9f3d38(0x110),_0x9f3d38(0x112)];let _0x2d6828=-0x1;do{_0x100c29/=_0x362244,++_0x2d6828;}while(Math[_0x9f3d38(0x118)](_0x100c29)>=_0x362244&&_0x2d6828<_0x363f45[_0x9f3d38(0x10e)]-0x1);return _0x100c29[_0x9f3d38(0x12a)](_0x277f1a)+'\x20'+_0x363f45[_0x2d6828];}function createElementStorage(_0x3028e4,_0xc65525,_0x12ab71){const _0x1777e7=a0_0x1c7e84,_0x39268c=document['createElement'](_0x1777e7(0x143));_0x39268c[_0x1777e7(0x128)][_0x1777e7(0x119)](_0x1777e7(0x138),'rom-item',_0x1777e7(0x123)),_0x3028e4[_0x1777e7(0x132)](_0x39268c);const _0x324000=document['createElement'](_0x1777e7(0x13b));_0x324000['textContent']=_0xc65525,_0x324000['classList'][_0x1777e7(0x119)](_0x1777e7(0x138)),_0x39268c[_0x1777e7(0x132)](_0x324000),_0x324000[_0x1777e7(0x146)]=()=>{const _0x5b53df=_0x1777e7,_0x276a0b=document[_0x5b53df(0x151)](_0x5b53df(0x137));_0x276a0b['onclose']=()=>_0x276a0b[_0x5b53df(0x142)](),_0x3028e4['appendChild'](_0x276a0b);const _0x515fe0=document[_0x5b53df(0x151)]('div');_0x515fe0[_0x5b53df(0x128)][_0x5b53df(0x119)](_0x5b53df(0x13c),_0x5b53df(0x133),_0x5b53df(0x114)),_0x276a0b[_0x5b53df(0x132)](_0x515fe0);const _0xc39d63=document[_0x5b53df(0x151)](_0x5b53df(0x143));_0xc39d63['classList']['add'](_0x5b53df(0x13f),'bc',_0x5b53df(0x138)),_0x515fe0[_0x5b53df(0x132)](_0xc39d63);const _0x3b31ff=document[_0x5b53df(0x151)](_0x5b53df(0x143));_0x3b31ff[_0x5b53df(0x128)][_0x5b53df(0x119)]('flex-1'),_0x515fe0[_0x5b53df(0x132)](_0x3b31ff);const _0x131b55=document['createElement'](_0x5b53df(0x143));_0x131b55[_0x5b53df(0x128)][_0x5b53df(0x119)](_0x5b53df(0x138)),_0x515fe0[_0x5b53df(0x132)](_0x131b55);const _0x1d1fd4=document[_0x5b53df(0x151)](_0x5b53df(0x143));_0x1d1fd4[_0x5b53df(0x128)][_0x5b53df(0x119)](_0x5b53df(0x138)),_0x515fe0[_0x5b53df(0x132)](_0x1d1fd4),mgbaStorage['classList']['add'](_0x5b53df(0x12e)),_0xc39d63[_0x5b53df(0x146)]=()=>{const _0x49765b=_0x5b53df;_0x276a0b[_0x49765b(0x156)](),_0x276a0b['remove'](),mgbaStorage[_0x49765b(0x128)][_0x49765b(0x142)](_0x49765b(0x12e));};const _0x1f03c8=document['createElement'](_0x5b53df(0x143));_0x1f03c8[_0x5b53df(0x128)][_0x5b53df(0x119)](_0x5b53df(0x138),'rom-item','hw','cw'),_0x1f03c8['textContent']=_0xc65525,_0x276a0b[_0x5b53df(0x132)](_0x1f03c8);const _0x2d2f1d=document['createElement'](_0x5b53df(0x143));_0x2d2f1d[_0x5b53df(0x128)][_0x5b53df(0x119)]('actionDiv','hw','cw',_0x5b53df(0x14e)),_0x276a0b['appendChild'](_0x2d2f1d);const _0x544163=document[_0x5b53df(0x151)](_0x5b53df(0x143));_0x544163[_0x5b53df(0x128)][_0x5b53df(0x119)](_0x5b53df(0x13a),'bc'),_0x2d2f1d['appendChild'](_0x544163),_0x544163[_0x5b53df(0x146)]=()=>{a0_0x4444ec['downloadFile'](_0x12ab71,_0xc65525);};const _0x438d15=document[_0x5b53df(0x151)](_0x5b53df(0x143));_0x438d15[_0x5b53df(0x128)]['add'](_0x5b53df(0x141),'bc'),_0x2d2f1d[_0x5b53df(0x132)](_0x438d15),_0x438d15[_0x5b53df(0x146)]=async()=>{const _0x196161=_0x5b53df;if(window['confirm'](_0x196161(0x116)+_0xc65525)){const _0x5a35ed=_0xc65525[_0x196161(0x159)](/\....$/,'.gba');a0_0x4444ec['deleteFile'](_0x12ab71),localStorage[_0x196161(0x131)](_0x5a35ed+_0x196161(0x125)+_0xc65525['slice'](-0x1)),localStorage[_0x196161(0x131)](_0x5a35ed+_0x196161(0x121)+_0xc65525[_0x196161(0x126)](-0x1)),localStorageFile(),_0x276a0b[_0x196161(0x156)](),_0x276a0b[_0x196161(0x142)](),mgbaStorage[_0x196161(0x128)][_0x196161(0x142)](_0x196161(0x12e));}};const _0x352f27=document[_0x5b53df(0x151)](_0x5b53df(0x143));_0x352f27[_0x5b53df(0x128)]['add']('rename','bc'),_0x2d2f1d[_0x5b53df(0x132)](_0x352f27),_0x352f27[_0x5b53df(0x146)]=async()=>{const _0x458e21=_0x5b53df,_0x3bd4cb=window[_0x458e21(0x12d)]('Edit\x20filename',_0xc65525);if(_0x3bd4cb!==null){const _0x5865a5=_0xc65525[_0x458e21(0x159)](/\....$/,_0x458e21(0x14c)),_0x5d9ceb=_0x3bd4cb[_0x458e21(0x159)](/\....$/,_0x458e21(0x14c)),_0x38449c=_0x5865a5+'_dateState'+_0xc65525['slice'](-0x1),_0x5f5dbb=_0x5865a5+_0x458e21(0x121)+_0xc65525[_0x458e21(0x126)](-0x1),_0x1ca49a=_0x5d9ceb+_0x458e21(0x125)+_0x3bd4cb[_0x458e21(0x126)](-0x1),_0x525c79=_0x5d9ceb+_0x458e21(0x121)+_0x3bd4cb[_0x458e21(0x126)](-0x1),_0x1d4273=localStorage[_0x458e21(0x124)](_0x38449c),_0x3e5c83=localStorage[_0x458e21(0x124)](_0x5f5dbb);_0x1d4273!==null&&(localStorage['setItem'](_0x1ca49a,_0x1d4273),localStorage['removeItem'](_0x38449c)),_0x3e5c83!==null&&(localStorage[_0x458e21(0x111)](_0x525c79,_0x3e5c83),localStorage[_0x458e21(0x131)](_0x5f5dbb)),a0_0x4444ec[_0x458e21(0x139)](_0x12ab71,_0xc65525,_0x3bd4cb),localStorageFile(),_0x276a0b[_0x458e21(0x156)](),_0x276a0b[_0x458e21(0x142)](),mgbaStorage[_0x458e21(0x128)]['remove']('opacity0');}},_0x276a0b[_0x5b53df(0x127)]();};const _0x18d082=document[_0x1777e7(0x151)](_0x1777e7(0x13b));_0x18d082[_0x1777e7(0x12f)]=humanFileSize(a0_0x4444ec[_0x1777e7(0x129)](_0x12ab71)),_0x18d082[_0x1777e7(0x128)][_0x1777e7(0x119)](_0x1777e7(0x11e)),_0x39268c[_0x1777e7(0x132)](_0x18d082);}export function localStorageFile(){const _0x3be8b7=a0_0x1c7e84,_0x18b6f6=a0_0x4444ec[_0x3be8b7(0x140)](),_0x59c918=a0_0x4444ec['listSave'](),_0x5a30b6=a0_0x4444ec[_0x3be8b7(0x150)](),_0x250538=a0_0x4444ec[_0x3be8b7(0x13d)](),_0x1f4261=a0_0x4444ec[_0x3be8b7(0x15a)](),_0x4243de=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x10a71d of _0x4243de){while(_0x10a71d[_0x3be8b7(0x12b)]){_0x10a71d[_0x3be8b7(0x153)][_0x3be8b7(0x142)]();}}for(const _0x4b2eca of _0x18b6f6){createElementStorage(romsFile,_0x4b2eca,_0x3be8b7(0x122)+_0x4b2eca);}for(const _0x235de9 of _0x5a30b6){createElementStorage(statesFile,_0x235de9,_0x3be8b7(0x13e)+_0x235de9);}for(const _0x7ed8b0 of _0x59c918){createElementStorage(savesFile,_0x7ed8b0,_0x3be8b7(0x11d)+_0x7ed8b0);}for(const _0x3b991a of _0x250538){createElementStorage(cheatsFile,_0x3b991a,'/data/cheats/'+_0x3b991a);}for(const _0x1e83ed of _0x1f4261){createElementStorage(screenshotsFile,_0x1e83ed,_0x3be8b7(0x11f)+_0x1e83ed);}}document[a0_0x1c7e84(0x154)](a0_0x1c7e84(0x147),function(){const _0x12c81d=a0_0x1c7e84;upLoadFile['addEventListener'](_0x12c81d(0x120),function(){const _0x1f7274=_0x12c81d;a0_0x4444ec[_0x1f7274(0x12c)](upLoadFile);}),openLocalStorage[_0x12c81d(0x154)](_0x12c81d(0x145),function(){const _0x50a6c3=_0x12c81d,_0x150839=localStorage[_0x50a6c3(0x124)](_0x50a6c3(0x144));storage[_0x50a6c3(0x128)]['remove']('disable'),intro[_0x50a6c3(0x128)][_0x50a6c3(0x119)](_0x50a6c3(0x149)),ingame[_0x50a6c3(0x128)][_0x50a6c3(0x119)]('disable'),_0x150839===null||_0x150839===''?(dropboxRestore[_0x50a6c3(0x128)]['remove']('active'),dropboxBackup[_0x50a6c3(0x128)][_0x50a6c3(0x142)](_0x50a6c3(0x14f)),dropboxCloud[_0x50a6c3(0x128)][_0x50a6c3(0x142)](_0x50a6c3(0x14f))):(dropboxRestore[_0x50a6c3(0x128)]['add'](_0x50a6c3(0x14f)),dropboxBackup[_0x50a6c3(0x128)][_0x50a6c3(0x119)]('active'),dropboxCloud[_0x50a6c3(0x128)][_0x50a6c3(0x119)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});