const a0_0x3b38b6=a0_0x111b;(function(_0x3996f7,_0x2e250a){const _0x47ba06=a0_0x111b,_0x1c8842=_0x3996f7();while(!![]){try{const _0x1f5886=-parseInt(_0x47ba06(0x1fd))/0x1+parseInt(_0x47ba06(0x1ef))/0x2*(-parseInt(_0x47ba06(0x1f3))/0x3)+-parseInt(_0x47ba06(0x205))/0x4+-parseInt(_0x47ba06(0x1da))/0x5+parseInt(_0x47ba06(0x1f8))/0x6+parseInt(_0x47ba06(0x212))/0x7+parseInt(_0x47ba06(0x1cd))/0x8*(parseInt(_0x47ba06(0x1d1))/0x9);if(_0x1f5886===_0x2e250a)break;else _0x1c8842['push'](_0x1c8842['shift']());}catch(_0x58c46f){_0x1c8842['push'](_0x1c8842['shift']());}}}(a0_0x50af,0x901d6));import*as a0_0x45664d from'./main.js';const mgbaStorage=document[a0_0x3b38b6(0x1fa)](a0_0x3b38b6(0x201)),savesFile=document['getElementById']('savesFile'),romsFile=document['getElementById'](a0_0x3b38b6(0x1cc)),statesFile=document[a0_0x3b38b6(0x1fa)](a0_0x3b38b6(0x1ca)),screenshotsFile=document[a0_0x3b38b6(0x1fa)](a0_0x3b38b6(0x1e2));function humanFileSize(_0x4d1cf7,_0x5b45a7=![],_0x40f4cf=0x1){const _0x395e9c=a0_0x3b38b6,_0x4926fa=_0x5b45a7?0x3e8:0x400,_0x4d46f8=_0x5b45a7?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x395e9c(0x1cf),_0x395e9c(0x1ea),_0x395e9c(0x200),_0x395e9c(0x20b),_0x395e9c(0x1f6),_0x395e9c(0x1f1),_0x395e9c(0x1d8),_0x395e9c(0x1ff)];let _0x4d6ef1=-0x1;do{_0x4d1cf7/=_0x4926fa,++_0x4d6ef1;}while(Math[_0x395e9c(0x1e8)](_0x4d1cf7)>=_0x4926fa&&_0x4d6ef1<_0x4d46f8[_0x395e9c(0x1e5)]-0x1);return _0x4d1cf7[_0x395e9c(0x1e4)](_0x40f4cf)+'\x20'+_0x4d46f8[_0x4d6ef1];}function createElementStorage(_0x228cd6,_0x637cfb,_0x4c4f5a){const _0x4f8903=a0_0x3b38b6,_0x418f8f=document[_0x4f8903(0x1e0)](_0x4f8903(0x1f2));_0x418f8f['classList'][_0x4f8903(0x1ce)](_0x4f8903(0x1d5),_0x4f8903(0x1dc),_0x4f8903(0x206)),_0x228cd6['appendChild'](_0x418f8f);const _0x26c86c=document[_0x4f8903(0x1e0)](_0x4f8903(0x1de));_0x26c86c[_0x4f8903(0x1e6)]=_0x637cfb,_0x26c86c[_0x4f8903(0x207)][_0x4f8903(0x1ce)](_0x4f8903(0x1d5)),_0x418f8f[_0x4f8903(0x203)](_0x26c86c),_0x26c86c[_0x4f8903(0x215)]=()=>{const _0x54e9fc=_0x4f8903,_0x29d427=document[_0x54e9fc(0x1e0)](_0x54e9fc(0x1f9));_0x29d427['onclose']=()=>_0x29d427['remove'](),_0x228cd6[_0x54e9fc(0x203)](_0x29d427);const _0x44d757=document['createElement']('div');_0x44d757[_0x54e9fc(0x207)][_0x54e9fc(0x1ce)]('storage',_0x54e9fc(0x1e1),_0x54e9fc(0x1ec)),_0x29d427[_0x54e9fc(0x203)](_0x44d757);const _0x386415=document[_0x54e9fc(0x1e0)](_0x54e9fc(0x1f2));_0x386415['classList'][_0x54e9fc(0x1ce)](_0x54e9fc(0x1fc),'bc',_0x54e9fc(0x1d5)),_0x44d757[_0x54e9fc(0x203)](_0x386415);const _0x2d6fc3=document[_0x54e9fc(0x1e0)](_0x54e9fc(0x1f2));_0x2d6fc3[_0x54e9fc(0x207)]['add'](_0x54e9fc(0x1d5)),_0x44d757['appendChild'](_0x2d6fc3);const _0x4d9711=document[_0x54e9fc(0x1e0)](_0x54e9fc(0x1f2));_0x4d9711[_0x54e9fc(0x207)][_0x54e9fc(0x1ce)](_0x54e9fc(0x1d5)),_0x44d757[_0x54e9fc(0x203)](_0x4d9711);const _0x320a0c=document[_0x54e9fc(0x1e0)](_0x54e9fc(0x1f2));_0x320a0c['classList']['add'](_0x54e9fc(0x1d5)),_0x44d757[_0x54e9fc(0x203)](_0x320a0c),mgbaStorage[_0x54e9fc(0x207)][_0x54e9fc(0x1ce)](_0x54e9fc(0x1dd)),_0x386415[_0x54e9fc(0x215)]=()=>{const _0x5c1b29=_0x54e9fc;_0x29d427[_0x5c1b29(0x1c7)](),_0x29d427['remove'](),mgbaStorage[_0x5c1b29(0x207)]['remove']('opacity0');};const _0x402144=document[_0x54e9fc(0x1e0)](_0x54e9fc(0x1f2));_0x402144['classList']['add'](_0x54e9fc(0x1d5),_0x54e9fc(0x1dc),'hw','cw'),_0x402144[_0x54e9fc(0x1e6)]=_0x637cfb,_0x29d427[_0x54e9fc(0x203)](_0x402144);const _0x45fd2b=document[_0x54e9fc(0x1e0)]('div');_0x45fd2b['classList']['add'](_0x54e9fc(0x1d0),'hw','cw',_0x54e9fc(0x213)),_0x29d427['appendChild'](_0x45fd2b);const _0x5179ea=document[_0x54e9fc(0x1e0)](_0x54e9fc(0x1f2));_0x5179ea[_0x54e9fc(0x207)]['add'](_0x54e9fc(0x204),'bc'),_0x45fd2b[_0x54e9fc(0x203)](_0x5179ea),_0x5179ea[_0x54e9fc(0x215)]=()=>{const _0x546851=_0x54e9fc;a0_0x45664d[_0x546851(0x20a)](_0x4c4f5a,_0x637cfb);};const _0x199c20=document['createElement'](_0x54e9fc(0x1f2));_0x199c20['classList']['add']('delete','bc'),_0x45fd2b[_0x54e9fc(0x203)](_0x199c20),_0x199c20[_0x54e9fc(0x215)]=async()=>{const _0x17e99e=_0x54e9fc;if(window[_0x17e99e(0x1db)](_0x17e99e(0x1f5)+_0x637cfb)){const _0x402d15=_0x637cfb[_0x17e99e(0x1cb)](/\....$/,_0x17e99e(0x1d6));a0_0x45664d[_0x17e99e(0x1d2)](_0x4c4f5a),localStorage['removeItem'](_0x402d15+_0x17e99e(0x1e3)+_0x637cfb['slice'](-0x1)),localStorage['removeItem'](_0x402d15+_0x17e99e(0x208)+_0x637cfb[_0x17e99e(0x202)](-0x1)),localStorageFile(),_0x29d427[_0x17e99e(0x1c7)](),_0x29d427[_0x17e99e(0x209)](),mgbaStorage['classList'][_0x17e99e(0x209)]('opacity0');}};const _0x48c27c=document[_0x54e9fc(0x1e0)](_0x54e9fc(0x1f2));_0x48c27c[_0x54e9fc(0x207)][_0x54e9fc(0x1ce)](_0x54e9fc(0x1ee),'bc'),_0x45fd2b[_0x54e9fc(0x203)](_0x48c27c),_0x48c27c[_0x54e9fc(0x215)]=async()=>{const _0x2e77e1=_0x54e9fc,_0x3fa88f=window[_0x2e77e1(0x1fb)](_0x2e77e1(0x211),_0x637cfb);_0x3fa88f!==null&&(a0_0x45664d[_0x2e77e1(0x1e7)](_0x4c4f5a,_0x637cfb,_0x3fa88f),localStorageFile(),_0x29d427[_0x2e77e1(0x1c7)](),_0x29d427[_0x2e77e1(0x209)](),mgbaStorage[_0x2e77e1(0x207)][_0x2e77e1(0x209)](_0x2e77e1(0x1dd)));},_0x29d427[_0x54e9fc(0x1c9)]();};const _0x2e7337=document[_0x4f8903(0x1e0)](_0x4f8903(0x1de));_0x2e7337[_0x4f8903(0x1e6)]=humanFileSize(a0_0x45664d['fileSize'](_0x4c4f5a)),_0x2e7337[_0x4f8903(0x207)][_0x4f8903(0x1ce)](_0x4f8903(0x1e9)),_0x418f8f[_0x4f8903(0x203)](_0x2e7337);}function a0_0x111b(_0x5b3de0,_0x4e6c4f){const _0x50af4c=a0_0x50af();return a0_0x111b=function(_0x111b14,_0x215ad9){_0x111b14=_0x111b14-0x1c7;let _0x915de7=_0x50af4c[_0x111b14];return _0x915de7;},a0_0x111b(_0x5b3de0,_0x4e6c4f);}function a0_0x50af(){const _0x26d2b9=['_imageState','remove','downloadFile','TiB','/data/cheats/','/data/games/','DOMContentLoaded','/data/saves/','uploadFile','Edit\x20filename','5708556xivsHA','gap-16','click','onclick','close','screenshots','showModal','statesFile','replace','romsFile','1464440uKDEmn','add','KiB','actionDiv','45rMBHKF','deleteFile','states','addEventListener','flex-1','.gba','/data/states/','ZiB','games','3799500KfnqpV','confirm','rom-item','opacity0','span','firstChild','createElement','right','screenshotsFile','_dateState','toFixed','length','textContent','editFile','abs','mib','MiB','disable','gap-10','active','rename','2twEMZL','cheats','EiB','div','738651KMcVXw','listFiles','Delete\x20this\x20file?','PiB','getItem','3796554HCPido','dialog','getElementById','prompt','home','89187meEHgU','change','YiB','GiB','mgba-storage','slice','appendChild','download','2711776cNlPiV','rom','classList'];a0_0x50af=function(){return _0x26d2b9;};return a0_0x50af();}export function localStorageFile(){const _0x556526=a0_0x3b38b6,_0xee7420=a0_0x45664d[_0x556526(0x1f4)](_0x556526(0x1d9)),_0x5bb2dc=a0_0x45664d[_0x556526(0x1f4)]('saves'),_0x5dbb34=a0_0x45664d[_0x556526(0x1f4)](_0x556526(0x1d3)),_0x5cb0f0=a0_0x45664d[_0x556526(0x1f4)](_0x556526(0x1f0)),_0x30a6c9=a0_0x45664d[_0x556526(0x1f4)](_0x556526(0x1c8)),_0x252484=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xc65aa4 of _0x252484){while(_0xc65aa4[_0x556526(0x1df)]){_0xc65aa4['lastChild']['remove']();}}for(const _0x6589a8 of _0xee7420){createElementStorage(romsFile,_0x6589a8,_0x556526(0x20d)+_0x6589a8);}for(const _0xa5c563 of _0x5dbb34){createElementStorage(statesFile,_0xa5c563,_0x556526(0x1d7)+_0xa5c563);}for(const _0x337454 of _0x5bb2dc){createElementStorage(savesFile,_0x337454,_0x556526(0x20f)+_0x337454);}for(const _0x52c5f5 of _0x5cb0f0){createElementStorage(cheatsFile,_0x52c5f5,_0x556526(0x20c)+_0x52c5f5);}for(const _0x54132d of _0x30a6c9){createElementStorage(screenshotsFile,_0x54132d,'/data/screenshots/'+_0x54132d);}}document[a0_0x3b38b6(0x1d4)](a0_0x3b38b6(0x20e),function(){const _0x57a209=a0_0x3b38b6;upLoadFile[_0x57a209(0x1d4)](_0x57a209(0x1fe),function(){const _0x265473=_0x57a209;a0_0x45664d[_0x265473(0x210)](upLoadFile);}),openLocalStorage[_0x57a209(0x1d4)](_0x57a209(0x214),function(){const _0x3fc012=_0x57a209,_0x4d4fac=localStorage[_0x3fc012(0x1f7)]('uId');storage[_0x3fc012(0x207)][_0x3fc012(0x209)](_0x3fc012(0x1eb)),intro['classList'][_0x3fc012(0x1ce)]('disable'),ingame[_0x3fc012(0x207)][_0x3fc012(0x1ce)](_0x3fc012(0x1eb)),_0x4d4fac===null||_0x4d4fac===''?(dropboxRestore[_0x3fc012(0x207)]['remove'](_0x3fc012(0x1ed)),dropboxBackup[_0x3fc012(0x207)][_0x3fc012(0x209)](_0x3fc012(0x1ed)),dropboxCloud[_0x3fc012(0x207)][_0x3fc012(0x209)](_0x3fc012(0x1ed))):(dropboxRestore['classList']['add'](_0x3fc012(0x1ed)),dropboxBackup[_0x3fc012(0x207)][_0x3fc012(0x1ce)](_0x3fc012(0x1ed)),dropboxCloud[_0x3fc012(0x207)]['add'](_0x3fc012(0x1ed)));}),setTimeout(()=>{localStorageFile();},0xbb8);});