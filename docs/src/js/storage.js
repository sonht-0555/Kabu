const a0_0x2e8625=a0_0x2fcb;(function(_0x20ee54,_0x89af95){const _0x4e7fef=a0_0x2fcb,_0x56cc51=_0x20ee54();while(!![]){try{const _0x17e931=parseInt(_0x4e7fef(0x114))/0x1*(-parseInt(_0x4e7fef(0x128))/0x2)+-parseInt(_0x4e7fef(0x116))/0x3*(-parseInt(_0x4e7fef(0x135))/0x4)+-parseInt(_0x4e7fef(0x144))/0x5+parseInt(_0x4e7fef(0x11b))/0x6*(-parseInt(_0x4e7fef(0x120))/0x7)+-parseInt(_0x4e7fef(0x148))/0x8*(-parseInt(_0x4e7fef(0x12a))/0x9)+-parseInt(_0x4e7fef(0x14c))/0xa*(-parseInt(_0x4e7fef(0x107))/0xb)+parseInt(_0x4e7fef(0x136))/0xc;if(_0x17e931===_0x89af95)break;else _0x56cc51['push'](_0x56cc51['shift']());}catch(_0x2e0fe4){_0x56cc51['push'](_0x56cc51['shift']());}}}(a0_0x24ee,0x854e7));import*as a0_0x286b57 from'./main.js';const mgbaStorage=document[a0_0x2e8625(0x146)]('mgba-storage'),savesFile=document[a0_0x2e8625(0x146)](a0_0x2e8625(0x138)),romsFile=document['getElementById'](a0_0x2e8625(0x134)),statesFile=document[a0_0x2e8625(0x146)](a0_0x2e8625(0x110)),screenshotsFile=document['getElementById'](a0_0x2e8625(0x147));function humanFileSize(_0x95ef23,_0x24586f=![],_0x554045=0x1){const _0x40ffc6=a0_0x2e8625,_0x39f353=_0x24586f?0x3e8:0x400,_0x5a7bd9=_0x24586f?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x40ffc6(0x11e),'MiB',_0x40ffc6(0x13c),_0x40ffc6(0x104),'PiB',_0x40ffc6(0x149),'ZiB','YiB'];let _0xe9a71=-0x1;do{_0x95ef23/=_0x39f353,++_0xe9a71;}while(Math[_0x40ffc6(0x145)](_0x95ef23)>=_0x39f353&&_0xe9a71<_0x5a7bd9[_0x40ffc6(0x121)]-0x1);return _0x95ef23[_0x40ffc6(0x108)](_0x554045)+'\x20'+_0x5a7bd9[_0xe9a71];}function createElementStorage(_0x4eb406,_0x1c9f78,_0x2f47af){const _0x5a4fc9=a0_0x2e8625,_0x527cb8=document[_0x5a4fc9(0x14a)](_0x5a4fc9(0x130));_0x527cb8['classList'][_0x5a4fc9(0x14b)](_0x5a4fc9(0x12d),_0x5a4fc9(0x12f),_0x5a4fc9(0x129)),_0x4eb406['appendChild'](_0x527cb8);const _0xa3f721=document[_0x5a4fc9(0x14a)](_0x5a4fc9(0x140));_0xa3f721[_0x5a4fc9(0x11d)]=_0x1c9f78,_0xa3f721[_0x5a4fc9(0x109)][_0x5a4fc9(0x14b)]('flex-1'),_0x527cb8['appendChild'](_0xa3f721),_0xa3f721[_0x5a4fc9(0x112)]=()=>{const _0x225fdb=_0x5a4fc9,_0x33061d=document[_0x225fdb(0x14a)](_0x225fdb(0x139));_0x33061d[_0x225fdb(0x12c)]=()=>_0x33061d['remove'](),_0x4eb406[_0x225fdb(0x132)](_0x33061d);const _0x125027=document[_0x225fdb(0x14a)](_0x225fdb(0x130));_0x125027[_0x225fdb(0x109)][_0x225fdb(0x14b)](_0x225fdb(0x13f),_0x225fdb(0x10b),_0x225fdb(0x143)),_0x33061d[_0x225fdb(0x132)](_0x125027);const _0x95c5a=document[_0x225fdb(0x14a)](_0x225fdb(0x130));_0x95c5a[_0x225fdb(0x109)][_0x225fdb(0x14b)](_0x225fdb(0x141),'bc','flex-1'),_0x125027[_0x225fdb(0x132)](_0x95c5a);const _0x272218=document[_0x225fdb(0x14a)](_0x225fdb(0x130));_0x272218[_0x225fdb(0x109)]['add'](_0x225fdb(0x12d)),_0x125027[_0x225fdb(0x132)](_0x272218);const _0xb60586=document['createElement']('div');_0xb60586[_0x225fdb(0x109)][_0x225fdb(0x14b)](_0x225fdb(0x12d)),_0x125027[_0x225fdb(0x132)](_0xb60586);const _0x136123=document[_0x225fdb(0x14a)](_0x225fdb(0x130));_0x136123[_0x225fdb(0x109)][_0x225fdb(0x14b)](_0x225fdb(0x12d)),_0x125027['appendChild'](_0x136123),mgbaStorage[_0x225fdb(0x109)][_0x225fdb(0x14b)](_0x225fdb(0x101)),_0x95c5a[_0x225fdb(0x112)]=()=>{const _0x391e88=_0x225fdb;_0x33061d[_0x391e88(0x119)](),_0x33061d[_0x391e88(0x122)](),mgbaStorage['classList'][_0x391e88(0x122)]('opacity0');};const _0x32d9ec=document[_0x225fdb(0x14a)](_0x225fdb(0x130));_0x32d9ec[_0x225fdb(0x109)][_0x225fdb(0x14b)](_0x225fdb(0x12d),_0x225fdb(0x12f),'hw','cw'),_0x32d9ec[_0x225fdb(0x11d)]=_0x1c9f78,_0x33061d[_0x225fdb(0x132)](_0x32d9ec);const _0x426277=document[_0x225fdb(0x14a)]('div');_0x426277['classList'][_0x225fdb(0x14b)](_0x225fdb(0x133),'hw','cw','gap-16'),_0x33061d[_0x225fdb(0x132)](_0x426277);const _0x503f51=document['createElement'](_0x225fdb(0x130));_0x503f51[_0x225fdb(0x109)][_0x225fdb(0x14b)](_0x225fdb(0x11a),'bc'),_0x426277[_0x225fdb(0x132)](_0x503f51),_0x503f51[_0x225fdb(0x112)]=()=>{const _0xcec672=_0x225fdb;a0_0x286b57[_0xcec672(0x111)](_0x2f47af,_0x1c9f78);};const _0x132374=document['createElement'](_0x225fdb(0x130));_0x132374[_0x225fdb(0x109)][_0x225fdb(0x14b)](_0x225fdb(0x137),'bc'),_0x426277[_0x225fdb(0x132)](_0x132374),_0x132374[_0x225fdb(0x112)]=async()=>{const _0x3349e7=_0x225fdb;if(window['confirm'](_0x3349e7(0x127)+_0x1c9f78)){const _0x1889ed=_0x1c9f78['replace'](/\....$/,_0x3349e7(0x10a));a0_0x286b57['deleteFile'](_0x2f47af),localStorage[_0x3349e7(0x118)](_0x1889ed+'_dateState'+_0x1c9f78[_0x3349e7(0x10d)](-0x1)),localStorage[_0x3349e7(0x118)](_0x1889ed+_0x3349e7(0x11c)+_0x1c9f78['slice'](-0x1)),localStorageFile(),_0x33061d[_0x3349e7(0x119)](),_0x33061d[_0x3349e7(0x122)](),mgbaStorage[_0x3349e7(0x109)][_0x3349e7(0x122)](_0x3349e7(0x101));}};const _0x35c094=document[_0x225fdb(0x14a)]('div');_0x35c094[_0x225fdb(0x109)]['add'](_0x225fdb(0x117),'bc'),_0x426277[_0x225fdb(0x132)](_0x35c094),_0x35c094[_0x225fdb(0x112)]=async()=>{const _0x2cec1f=_0x225fdb,_0x4f8b06=window[_0x2cec1f(0x113)](_0x2cec1f(0x10e),_0x1c9f78);_0x4f8b06!==null&&(a0_0x286b57[_0x2cec1f(0x13e)](_0x2f47af,_0x1c9f78,_0x4f8b06),localStorageFile(),_0x33061d[_0x2cec1f(0x119)](),_0x33061d[_0x2cec1f(0x122)](),mgbaStorage[_0x2cec1f(0x109)][_0x2cec1f(0x122)]('opacity0'));},_0x33061d['showModal']();};const _0x5570d5=document[_0x5a4fc9(0x14a)](_0x5a4fc9(0x140));_0x5570d5[_0x5a4fc9(0x11d)]=humanFileSize(a0_0x286b57[_0x5a4fc9(0x103)](_0x2f47af)),_0x5570d5[_0x5a4fc9(0x109)][_0x5a4fc9(0x14b)](_0x5a4fc9(0x106)),_0x527cb8['appendChild'](_0x5570d5);}export function localStorageFile(){const _0x4f59ab=a0_0x2e8625,_0x2c4931=a0_0x286b57[_0x4f59ab(0x115)](_0x4f59ab(0x102)),_0x43a70b=a0_0x286b57[_0x4f59ab(0x115)]('saves'),_0x7022fb=a0_0x286b57['listFiles'](_0x4f59ab(0x105)),_0x41a9fc=a0_0x286b57[_0x4f59ab(0x115)](_0x4f59ab(0x12e)),_0x29fd78=a0_0x286b57['listFiles'](_0x4f59ab(0x12b)),_0x1acacd=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5297d9 of _0x1acacd){while(_0x5297d9[_0x4f59ab(0x13b)]){_0x5297d9[_0x4f59ab(0x123)]['remove']();}}for(const _0x2047e8 of _0x2c4931){createElementStorage(romsFile,_0x2047e8,_0x4f59ab(0x13d)+_0x2047e8);}for(const _0xfdd78 of _0x7022fb){createElementStorage(statesFile,_0xfdd78,_0x4f59ab(0x13a)+_0xfdd78);}for(const _0x10b0c3 of _0x43a70b){createElementStorage(savesFile,_0x10b0c3,_0x4f59ab(0x142)+_0x10b0c3);}for(const _0x3a361c of _0x41a9fc){createElementStorage(cheatsFile,_0x3a361c,'/data/cheats/'+_0x3a361c);}for(const _0x4c6434 of _0x29fd78){createElementStorage(screenshotsFile,_0x4c6434,_0x4f59ab(0x124)+_0x4c6434);}}function a0_0x2fcb(_0x54b9c9,_0x459aaa){const _0x24ee5c=a0_0x24ee();return a0_0x2fcb=function(_0x2fcb3e,_0x195c7a){_0x2fcb3e=_0x2fcb3e-0x100;let _0x5809b5=_0x24ee5c[_0x2fcb3e];return _0x5809b5;},a0_0x2fcb(_0x54b9c9,_0x459aaa);}function a0_0x24ee(){const _0x23cdce=['cheats','rom-item','div','active','appendChild','actionDiv','romsFile','238212cNbgZs','3594492nHAoas','delete','savesFile','dialog','/data/states/','firstChild','GiB','/data/games/','editFile','storage','span','home','/data/saves/','gap-10','2148855Vwfpmm','abs','getElementById','screenshotsFile','923352mctdCo','EiB','createElement','add','120gizGie','change','opacity0','games','fileSize','TiB','states','mib','404195nkhcni','toFixed','classList','.gba','right','disable','slice','Edit\x20filename','addEventListener','statesFile','downloadFile','onclick','prompt','5YGixMi','listFiles','3HKiTpC','rename','removeItem','close','download','230976qiPPgG','_imageState','textContent','KiB','uploadFile','14cXiEMy','length','remove','lastChild','/data/screenshots/','uId','DOMContentLoaded','Delete\x20this\x20file?','268240DqLgfa','rom','72EiBeEA','screenshots','onclose','flex-1'];a0_0x24ee=function(){return _0x23cdce;};return a0_0x24ee();}document['addEventListener'](a0_0x2e8625(0x126),function(){const _0x1d2ad2=a0_0x2e8625;upLoadFile[_0x1d2ad2(0x10f)](_0x1d2ad2(0x100),function(){const _0x3b34e8=_0x1d2ad2;a0_0x286b57[_0x3b34e8(0x11f)](upLoadFile);}),openLocalStorage[_0x1d2ad2(0x10f)]('click',function(){const _0x10adb6=_0x1d2ad2,_0x40d7eb=localStorage['getItem'](_0x10adb6(0x125));storage[_0x10adb6(0x109)][_0x10adb6(0x122)](_0x10adb6(0x10c)),intro[_0x10adb6(0x109)]['add'](_0x10adb6(0x10c)),ingame[_0x10adb6(0x109)][_0x10adb6(0x14b)](_0x10adb6(0x10c)),_0x40d7eb===null||_0x40d7eb===''?(dropboxRestore[_0x10adb6(0x109)][_0x10adb6(0x122)](_0x10adb6(0x131)),dropboxBackup[_0x10adb6(0x109)][_0x10adb6(0x122)]('active'),dropboxCloud[_0x10adb6(0x109)][_0x10adb6(0x122)]('active')):(dropboxRestore[_0x10adb6(0x109)][_0x10adb6(0x14b)](_0x10adb6(0x131)),dropboxBackup['classList']['add']('active'),dropboxCloud[_0x10adb6(0x109)][_0x10adb6(0x14b)](_0x10adb6(0x131)));}),setTimeout(()=>{localStorageFile();},0xbb8);});