const a0_0x25818e=a0_0x4af1;(function(_0xe9e373,_0x25ca41){const _0x1b3ac3=a0_0x4af1,_0x188f95=_0xe9e373();while(!![]){try{const _0x1bdfd4=parseInt(_0x1b3ac3(0x1bd))/0x1*(parseInt(_0x1b3ac3(0x1bc))/0x2)+parseInt(_0x1b3ac3(0x18e))/0x3+-parseInt(_0x1b3ac3(0x18a))/0x4+parseInt(_0x1b3ac3(0x1c0))/0x5+parseInt(_0x1b3ac3(0x1c1))/0x6*(parseInt(_0x1b3ac3(0x1a0))/0x7)+parseInt(_0x1b3ac3(0x1b1))/0x8*(-parseInt(_0x1b3ac3(0x1b2))/0x9)+-parseInt(_0x1b3ac3(0x194))/0xa;if(_0x1bdfd4===_0x25ca41)break;else _0x188f95['push'](_0x188f95['shift']());}catch(_0x1f929e){_0x188f95['push'](_0x188f95['shift']());}}}(a0_0x5f50,0x32c20));function a0_0x4af1(_0x382cc1,_0x12fd33){const _0x5f5084=a0_0x5f50();return a0_0x4af1=function(_0x4af17d,_0x4caa28){_0x4af17d=_0x4af17d-0x182;let _0x27b479=_0x5f5084[_0x4af17d];return _0x27b479;},a0_0x4af1(_0x382cc1,_0x12fd33);}import*as a0_0x5ced6c from'./main.js';const mgbaStorage=document['getElementById'](a0_0x25818e(0x1b5)),savesFile=document[a0_0x25818e(0x195)](a0_0x25818e(0x1a2)),romsFile=document[a0_0x25818e(0x195)](a0_0x25818e(0x18b)),statesFile=document[a0_0x25818e(0x195)](a0_0x25818e(0x1ba)),screenshotsFile=document[a0_0x25818e(0x195)](a0_0x25818e(0x1b6));function humanFileSize(_0xa7859a,_0xada7b7=![],_0x1c5486=0x1){const _0x4d2f5d=a0_0x25818e,_0x5ee715=_0xada7b7?0x3e8:0x400,_0x4fd869=_0xada7b7?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x4d2f5d(0x198),_0x4d2f5d(0x18c),_0x4d2f5d(0x1be),_0x4d2f5d(0x1b0),'EiB','ZiB',_0x4d2f5d(0x1b9)];let _0xd8c239=-0x1;do{_0xa7859a/=_0x5ee715,++_0xd8c239;}while(Math['abs'](_0xa7859a)>=_0x5ee715&&_0xd8c239<_0x4fd869['length']-0x1);return _0xa7859a[_0x4d2f5d(0x19f)](_0x1c5486)+'\x20'+_0x4fd869[_0xd8c239];}function a0_0x5f50(){const _0x35de22=['actionDiv','div','1145196lxMApO','romsFile','GiB','download','284538URunfC','change','/data/saves/','close','active','deleteFile','3733340mvdkuN','getElementById','textContent','saves','MiB','addEventListener','uploadFile','onclick','replace','removeItem','rom','toFixed','428169plNkhQ','createElement','savesFile','right','gap-10','Edit\x20filename','/data/cheats/','/data/states/','appendChild','states','cheats','onclose','add','mib','click','listFiles','PiB','1720lTMjEV','10467HhyRVV','DOMContentLoaded','gap-16','mgba-storage','screenshotsFile','remove','getItem','YiB','statesFile','editFile','780422IUDiMG','1LXJFBP','TiB','opacity0','1327615iaKDAb','36yEZTSk','screenshots','home','classList','fileSize','.gba','flex-1','uId','showModal','slice','delete'];a0_0x5f50=function(){return _0x35de22;};return a0_0x5f50();}function createElementStorage(_0x14c7ee,_0x264a52,_0x19eb26){const _0xfa7d54=a0_0x25818e,_0x5ae6e6=document[_0xfa7d54(0x1a1)]('div');_0x5ae6e6[_0xfa7d54(0x1c4)][_0xfa7d54(0x1ac)](_0xfa7d54(0x183),'rom-item',_0xfa7d54(0x19e)),_0x14c7ee[_0xfa7d54(0x1a8)](_0x5ae6e6);const _0x2267e3=document[_0xfa7d54(0x1a1)]('span');_0x2267e3[_0xfa7d54(0x196)]=_0x264a52,_0x2267e3[_0xfa7d54(0x1c4)][_0xfa7d54(0x1ac)](_0xfa7d54(0x183)),_0x5ae6e6['appendChild'](_0x2267e3),_0x2267e3['onclick']=()=>{const _0x2c788c=_0xfa7d54,_0x3d184e=document[_0x2c788c(0x1a1)]('dialog');_0x3d184e[_0x2c788c(0x1ab)]=()=>_0x3d184e[_0x2c788c(0x1b7)](),_0x14c7ee[_0x2c788c(0x1a8)](_0x3d184e);const _0xc63c33=document[_0x2c788c(0x1a1)](_0x2c788c(0x189));_0xc63c33[_0x2c788c(0x1c4)][_0x2c788c(0x1ac)]('storage',_0x2c788c(0x1a3),_0x2c788c(0x1a4)),_0x3d184e[_0x2c788c(0x1a8)](_0xc63c33);const _0x522864=document[_0x2c788c(0x1a1)]('div');_0x522864['classList'][_0x2c788c(0x1ac)](_0x2c788c(0x1c3),'bc',_0x2c788c(0x183)),_0xc63c33['appendChild'](_0x522864);const _0x300b0d=document[_0x2c788c(0x1a1)](_0x2c788c(0x189));_0x300b0d[_0x2c788c(0x1c4)][_0x2c788c(0x1ac)]('flex-1'),_0xc63c33['appendChild'](_0x300b0d);const _0x45bf3e=document[_0x2c788c(0x1a1)](_0x2c788c(0x189));_0x45bf3e['classList'][_0x2c788c(0x1ac)](_0x2c788c(0x183)),_0xc63c33['appendChild'](_0x45bf3e);const _0x170d3d=document[_0x2c788c(0x1a1)](_0x2c788c(0x189));_0x170d3d[_0x2c788c(0x1c4)][_0x2c788c(0x1ac)](_0x2c788c(0x183)),_0xc63c33[_0x2c788c(0x1a8)](_0x170d3d),mgbaStorage[_0x2c788c(0x1c4)][_0x2c788c(0x1ac)](_0x2c788c(0x1bf)),_0x522864['onclick']=()=>{const _0x16da96=_0x2c788c;_0x3d184e[_0x16da96(0x191)](),_0x3d184e[_0x16da96(0x1b7)](),mgbaStorage[_0x16da96(0x1c4)]['remove']('opacity0');};const _0x14aae9=document[_0x2c788c(0x1a1)](_0x2c788c(0x189));_0x14aae9[_0x2c788c(0x1c4)][_0x2c788c(0x1ac)](_0x2c788c(0x183),'rom-item','hw','cw'),_0x14aae9[_0x2c788c(0x196)]=_0x264a52,_0x3d184e[_0x2c788c(0x1a8)](_0x14aae9);const _0x1bf611=document[_0x2c788c(0x1a1)](_0x2c788c(0x189));_0x1bf611[_0x2c788c(0x1c4)][_0x2c788c(0x1ac)](_0x2c788c(0x188),'hw','cw',_0x2c788c(0x1b4)),_0x3d184e[_0x2c788c(0x1a8)](_0x1bf611);const _0x506b41=document['createElement']('div');_0x506b41[_0x2c788c(0x1c4)][_0x2c788c(0x1ac)](_0x2c788c(0x18d),'bc'),_0x1bf611['appendChild'](_0x506b41),_0x506b41[_0x2c788c(0x19b)]=()=>{a0_0x5ced6c['downloadFile'](_0x19eb26,_0x264a52);};const _0x3f08f3=document[_0x2c788c(0x1a1)](_0x2c788c(0x189));_0x3f08f3[_0x2c788c(0x1c4)][_0x2c788c(0x1ac)](_0x2c788c(0x187),'bc'),_0x1bf611['appendChild'](_0x3f08f3),_0x3f08f3['onclick']=async()=>{const _0x5874e7=_0x2c788c;if(window['confirm']('Delete\x20this\x20file?'+_0x264a52)){const _0x3407d8=_0x264a52[_0x5874e7(0x19c)](/\....$/,_0x5874e7(0x182));a0_0x5ced6c[_0x5874e7(0x193)](_0x19eb26),localStorage['removeItem'](_0x3407d8+'_dateState'+_0x264a52[_0x5874e7(0x186)](-0x1)),localStorage[_0x5874e7(0x19d)](_0x3407d8+'_imageState'+_0x264a52['slice'](-0x1)),localStorageFile(),_0x3d184e[_0x5874e7(0x191)](),_0x3d184e[_0x5874e7(0x1b7)](),mgbaStorage['classList'][_0x5874e7(0x1b7)]('opacity0');}};const _0x4bbda4=document[_0x2c788c(0x1a1)]('div');_0x4bbda4[_0x2c788c(0x1c4)][_0x2c788c(0x1ac)]('rename','bc'),_0x1bf611[_0x2c788c(0x1a8)](_0x4bbda4),_0x4bbda4[_0x2c788c(0x19b)]=async()=>{const _0x515da4=_0x2c788c,_0x5430bf=window['prompt'](_0x515da4(0x1a5),_0x264a52);_0x5430bf!==null&&(a0_0x5ced6c[_0x515da4(0x1bb)](_0x19eb26,_0x264a52,_0x5430bf),localStorageFile(),_0x3d184e['close'](),_0x3d184e[_0x515da4(0x1b7)](),mgbaStorage['classList']['remove'](_0x515da4(0x1bf)));},_0x3d184e[_0x2c788c(0x185)]();};const _0x231526=document[_0xfa7d54(0x1a1)]('span');_0x231526[_0xfa7d54(0x196)]=humanFileSize(a0_0x5ced6c[_0xfa7d54(0x1c5)](_0x19eb26)),_0x231526[_0xfa7d54(0x1c4)][_0xfa7d54(0x1ac)](_0xfa7d54(0x1ad)),_0x5ae6e6['appendChild'](_0x231526);}export function localStorageFile(){const _0x4af3d2=a0_0x25818e,_0x43197f=a0_0x5ced6c[_0x4af3d2(0x1af)]('games'),_0x3552e4=a0_0x5ced6c['listFiles'](_0x4af3d2(0x197)),_0x310b80=a0_0x5ced6c['listFiles'](_0x4af3d2(0x1a9)),_0x3dd234=a0_0x5ced6c[_0x4af3d2(0x1af)](_0x4af3d2(0x1aa)),_0x1f35ae=a0_0x5ced6c[_0x4af3d2(0x1af)](_0x4af3d2(0x1c2)),_0x19361f=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x154ef8 of _0x19361f){while(_0x154ef8['firstChild']){_0x154ef8['lastChild'][_0x4af3d2(0x1b7)]();}}for(const _0x227cc6 of _0x43197f){createElementStorage(romsFile,_0x227cc6,'/data/games/'+_0x227cc6);}for(const _0x4be575 of _0x310b80){createElementStorage(statesFile,_0x4be575,_0x4af3d2(0x1a7)+_0x4be575);}for(const _0x1633c0 of _0x3552e4){createElementStorage(savesFile,_0x1633c0,_0x4af3d2(0x190)+_0x1633c0);}for(const _0x4fce78 of _0x3dd234){createElementStorage(cheatsFile,_0x4fce78,_0x4af3d2(0x1a6)+_0x4fce78);}for(const _0x58d0b2 of _0x1f35ae){createElementStorage(screenshotsFile,_0x58d0b2,'/data/screenshots/'+_0x58d0b2);}}document[a0_0x25818e(0x199)](a0_0x25818e(0x1b3),function(){const _0x31eb36=a0_0x25818e;upLoadFile['addEventListener'](_0x31eb36(0x18f),function(){const _0x39cf44=_0x31eb36;a0_0x5ced6c[_0x39cf44(0x19a)](upLoadFile);}),openLocalStorage[_0x31eb36(0x199)](_0x31eb36(0x1ae),function(){const _0x4238d4=_0x31eb36,_0x5efb73=localStorage[_0x4238d4(0x1b8)](_0x4238d4(0x184));storage[_0x4238d4(0x1c4)][_0x4238d4(0x1b7)]('disable'),intro['classList'][_0x4238d4(0x1ac)]('disable'),ingame[_0x4238d4(0x1c4)][_0x4238d4(0x1ac)]('disable'),_0x5efb73===null||_0x5efb73===''?(dropboxRestore[_0x4238d4(0x1c4)][_0x4238d4(0x1b7)](_0x4238d4(0x192)),dropboxBackup[_0x4238d4(0x1c4)][_0x4238d4(0x1b7)](_0x4238d4(0x192)),dropboxCloud[_0x4238d4(0x1c4)][_0x4238d4(0x1b7)](_0x4238d4(0x192))):(dropboxRestore[_0x4238d4(0x1c4)][_0x4238d4(0x1ac)]('active'),dropboxBackup[_0x4238d4(0x1c4)][_0x4238d4(0x1ac)]('active'),dropboxCloud[_0x4238d4(0x1c4)][_0x4238d4(0x1ac)](_0x4238d4(0x192)));}),setTimeout(()=>{localStorageFile();},0xbb8);});