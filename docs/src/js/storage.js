function a0_0x2147(_0x3fd484,_0x228d06){const _0x3b8e13=a0_0x3b8e();return a0_0x2147=function(_0x21473c,_0x408d7d){_0x21473c=_0x21473c-0x1c1;let _0x52bf72=_0x3b8e13[_0x21473c];return _0x52bf72;},a0_0x2147(_0x3fd484,_0x228d06);}const a0_0x37c013=a0_0x2147;(function(_0xb5faa1,_0x397e65){const _0x3ab901=a0_0x2147,_0x2c363f=_0xb5faa1();while(!![]){try{const _0x12f50d=-parseInt(_0x3ab901(0x1c5))/0x1*(-parseInt(_0x3ab901(0x1e0))/0x2)+parseInt(_0x3ab901(0x1ec))/0x3+parseInt(_0x3ab901(0x1ca))/0x4+-parseInt(_0x3ab901(0x1f1))/0x5*(-parseInt(_0x3ab901(0x1f3))/0x6)+parseInt(_0x3ab901(0x1cd))/0x7*(-parseInt(_0x3ab901(0x204))/0x8)+parseInt(_0x3ab901(0x1fa))/0x9*(-parseInt(_0x3ab901(0x1f6))/0xa)+parseInt(_0x3ab901(0x1ee))/0xb*(parseInt(_0x3ab901(0x20b))/0xc);if(_0x12f50d===_0x397e65)break;else _0x2c363f['push'](_0x2c363f['shift']());}catch(_0x46fea2){_0x2c363f['push'](_0x2c363f['shift']());}}}(a0_0x3b8e,0xeb586));function a0_0x3b8e(){const _0x4d773b=['removeItem','slice','div','GiB','downloadFile','EiB','/data/saves/','dialog','rename','uploadFile','saves','rom','onclose','editFile','disable','TiB','change','YiB','26OqaEWQ','replace','appendChild','toFixed','classList','screenshotsFile','.gba','onclick','savesFile','prompt','opacity0','close','4016355fTdnRC','rom-item','464442LpyjyZ','_imageState','length','5TflTZJ','getItem','4364952qRsoLs','MiB','/data/screenshots/','1553870UWHqeG','addEventListener','add','home','90ywBFgB','click','deleteFile','mib','DOMContentLoaded','flex-1','mgba-storage','/data/games/','right','firstChild','24gqgYgR','gap-16','remove','getElementById','uId','active','statesFile','48VZixYG','states','createElement','storage','KiB','listFiles','117188cWfUfd','romsFile','/data/cheats/','span','screenshots','2236016gtuCBT','showModal','PiB','4199461RmcnCn'];a0_0x3b8e=function(){return _0x4d773b;};return a0_0x3b8e();}import*as a0_0x1c38d1 from'./main.js';const mgbaStorage=document[a0_0x37c013(0x207)](a0_0x37c013(0x200)),savesFile=document[a0_0x37c013(0x207)](a0_0x37c013(0x1e8)),romsFile=document[a0_0x37c013(0x207)](a0_0x37c013(0x1c6)),statesFile=document[a0_0x37c013(0x207)](a0_0x37c013(0x20a)),screenshotsFile=document[a0_0x37c013(0x207)](a0_0x37c013(0x1e5));function humanFileSize(_0x4f1686,_0x2407b4=![],_0x5ea98f=0x1){const _0x4c8ce6=a0_0x37c013,_0x3450f9=_0x2407b4?0x3e8:0x400,_0x510c89=_0x2407b4?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4c8ce6(0x1c3),_0x4c8ce6(0x1f4),_0x4c8ce6(0x1d1),_0x4c8ce6(0x1dd),_0x4c8ce6(0x1cc),_0x4c8ce6(0x1d3),'ZiB',_0x4c8ce6(0x1df)];let _0x27af1a=-0x1;do{_0x4f1686/=_0x3450f9,++_0x27af1a;}while(Math['abs'](_0x4f1686)>=_0x3450f9&&_0x27af1a<_0x510c89[_0x4c8ce6(0x1f0)]-0x1);return _0x4f1686[_0x4c8ce6(0x1e3)](_0x5ea98f)+'\x20'+_0x510c89[_0x27af1a];}function createElementStorage(_0x4ce64c,_0x5afe6f,_0x156903){const _0x212621=a0_0x37c013,_0xbb09d3=document['createElement'](_0x212621(0x1d0));_0xbb09d3['classList'][_0x212621(0x1f8)](_0x212621(0x1ff),_0x212621(0x1ed),_0x212621(0x1d9)),_0x4ce64c[_0x212621(0x1e2)](_0xbb09d3);const _0x1a4bd9=document['createElement']('span');_0x1a4bd9['textContent']=_0x5afe6f,_0x1a4bd9[_0x212621(0x1e4)][_0x212621(0x1f8)]('flex-1'),_0xbb09d3[_0x212621(0x1e2)](_0x1a4bd9),_0x1a4bd9['onclick']=()=>{const _0x526d32=_0x212621,_0x197289=document['createElement'](_0x526d32(0x1d5));_0x197289[_0x526d32(0x1da)]=()=>_0x197289[_0x526d32(0x206)](),_0x4ce64c[_0x526d32(0x1e2)](_0x197289);const _0x283316=document[_0x526d32(0x1c1)](_0x526d32(0x1d0));_0x283316[_0x526d32(0x1e4)]['add'](_0x526d32(0x1c2),_0x526d32(0x202),'gap-10'),_0x197289[_0x526d32(0x1e2)](_0x283316);const _0x1e0865=document[_0x526d32(0x1c1)]('div');_0x1e0865[_0x526d32(0x1e4)][_0x526d32(0x1f8)](_0x526d32(0x1f9),'bc',_0x526d32(0x1ff)),_0x283316[_0x526d32(0x1e2)](_0x1e0865);const _0x189e73=document[_0x526d32(0x1c1)](_0x526d32(0x1d0));_0x189e73['classList'][_0x526d32(0x1f8)]('flex-1'),_0x283316[_0x526d32(0x1e2)](_0x189e73);const _0x90956=document['createElement'](_0x526d32(0x1d0));_0x90956['classList']['add'](_0x526d32(0x1ff)),_0x283316[_0x526d32(0x1e2)](_0x90956);const _0x1cbe50=document['createElement'](_0x526d32(0x1d0));_0x1cbe50['classList'][_0x526d32(0x1f8)](_0x526d32(0x1ff)),_0x283316[_0x526d32(0x1e2)](_0x1cbe50),mgbaStorage[_0x526d32(0x1e4)]['add'](_0x526d32(0x1ea)),_0x1e0865[_0x526d32(0x1e7)]=()=>{const _0x1119aa=_0x526d32;_0x197289[_0x1119aa(0x1eb)](),_0x197289[_0x1119aa(0x206)](),mgbaStorage['classList'][_0x1119aa(0x206)]('opacity0');};const _0x481cbc=document[_0x526d32(0x1c1)]('div');_0x481cbc[_0x526d32(0x1e4)]['add'](_0x526d32(0x1ff),_0x526d32(0x1ed),'hw','cw'),_0x481cbc['textContent']=_0x5afe6f,_0x197289['appendChild'](_0x481cbc);const _0x11a860=document[_0x526d32(0x1c1)](_0x526d32(0x1d0));_0x11a860[_0x526d32(0x1e4)][_0x526d32(0x1f8)]('actionDiv','hw','cw',_0x526d32(0x205)),_0x197289['appendChild'](_0x11a860);const _0x4c99d8=document[_0x526d32(0x1c1)](_0x526d32(0x1d0));_0x4c99d8[_0x526d32(0x1e4)][_0x526d32(0x1f8)]('download','bc'),_0x11a860['appendChild'](_0x4c99d8),_0x4c99d8[_0x526d32(0x1e7)]=()=>{const _0x21f78f=_0x526d32;a0_0x1c38d1[_0x21f78f(0x1d2)](_0x156903,_0x5afe6f);};const _0x24dd19=document[_0x526d32(0x1c1)](_0x526d32(0x1d0));_0x24dd19[_0x526d32(0x1e4)][_0x526d32(0x1f8)]('delete','bc'),_0x11a860['appendChild'](_0x24dd19),_0x24dd19['onclick']=async()=>{const _0x3fcf0b=_0x526d32;if(window['confirm']('Delete\x20this\x20file?'+_0x5afe6f)){const _0x504903=_0x5afe6f[_0x3fcf0b(0x1e1)](/\....$/,_0x3fcf0b(0x1e6));a0_0x1c38d1[_0x3fcf0b(0x1fc)](_0x156903),localStorage[_0x3fcf0b(0x1ce)](_0x504903+'_dateState'+_0x5afe6f[_0x3fcf0b(0x1cf)](-0x1)),localStorage[_0x3fcf0b(0x1ce)](_0x504903+_0x3fcf0b(0x1ef)+_0x5afe6f[_0x3fcf0b(0x1cf)](-0x1)),localStorageFile(),_0x197289['close'](),_0x197289[_0x3fcf0b(0x206)](),mgbaStorage['classList']['remove'](_0x3fcf0b(0x1ea));}};const _0x1b3ddd=document[_0x526d32(0x1c1)](_0x526d32(0x1d0));_0x1b3ddd[_0x526d32(0x1e4)]['add'](_0x526d32(0x1d6),'bc'),_0x11a860['appendChild'](_0x1b3ddd),_0x1b3ddd['onclick']=async()=>{const _0x5adcff=_0x526d32,_0x486a0e=window[_0x5adcff(0x1e9)]('Edit\x20filename',_0x5afe6f);_0x486a0e!==null&&(a0_0x1c38d1[_0x5adcff(0x1db)](_0x156903,_0x5afe6f,_0x486a0e),localStorageFile(),_0x197289[_0x5adcff(0x1eb)](),_0x197289[_0x5adcff(0x206)](),mgbaStorage[_0x5adcff(0x1e4)][_0x5adcff(0x206)]('opacity0'));},_0x197289[_0x526d32(0x1cb)]();};const _0x225335=document[_0x212621(0x1c1)](_0x212621(0x1c8));_0x225335['textContent']=humanFileSize(a0_0x1c38d1['fileSize'](_0x156903)),_0x225335[_0x212621(0x1e4)]['add'](_0x212621(0x1fd)),_0xbb09d3[_0x212621(0x1e2)](_0x225335);}export function localStorageFile(){const _0x10136b=a0_0x37c013,_0x582538=a0_0x1c38d1['listFiles']('games'),_0x3bbfa8=a0_0x1c38d1['listFiles'](_0x10136b(0x1d8)),_0x2c24a2=a0_0x1c38d1[_0x10136b(0x1c4)](_0x10136b(0x20c)),_0xdfcc0c=a0_0x1c38d1[_0x10136b(0x1c4)]('cheats'),_0x39f699=a0_0x1c38d1[_0x10136b(0x1c4)](_0x10136b(0x1c9)),_0x2a2e4c=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x169326 of _0x2a2e4c){while(_0x169326[_0x10136b(0x203)]){_0x169326['lastChild'][_0x10136b(0x206)]();}}for(const _0x4b59f9 of _0x582538){createElementStorage(romsFile,_0x4b59f9,_0x10136b(0x201)+_0x4b59f9);}for(const _0x504eac of _0x2c24a2){createElementStorage(statesFile,_0x504eac,'/data/states/'+_0x504eac);}for(const _0x5d584f of _0x3bbfa8){createElementStorage(savesFile,_0x5d584f,_0x10136b(0x1d4)+_0x5d584f);}for(const _0x577f58 of _0xdfcc0c){createElementStorage(cheatsFile,_0x577f58,_0x10136b(0x1c7)+_0x577f58);}for(const _0x127037 of _0x39f699){createElementStorage(screenshotsFile,_0x127037,_0x10136b(0x1f5)+_0x127037);}}document[a0_0x37c013(0x1f7)](a0_0x37c013(0x1fe),function(){const _0x2db193=a0_0x37c013;upLoadFile[_0x2db193(0x1f7)](_0x2db193(0x1de),function(){const _0x24f5ff=_0x2db193;a0_0x1c38d1[_0x24f5ff(0x1d7)](upLoadFile);}),openLocalStorage['addEventListener'](_0x2db193(0x1fb),function(){const _0x35d8da=_0x2db193,_0x52eaf4=localStorage[_0x35d8da(0x1f2)](_0x35d8da(0x208));storage[_0x35d8da(0x1e4)][_0x35d8da(0x206)](_0x35d8da(0x1dc)),intro[_0x35d8da(0x1e4)][_0x35d8da(0x1f8)]('disable'),ingame[_0x35d8da(0x1e4)][_0x35d8da(0x1f8)](_0x35d8da(0x1dc)),_0x52eaf4===null||_0x52eaf4===''?(dropboxRestore[_0x35d8da(0x1e4)]['remove'](_0x35d8da(0x209)),dropboxBackup['classList'][_0x35d8da(0x206)]('active'),dropboxCloud[_0x35d8da(0x1e4)][_0x35d8da(0x206)](_0x35d8da(0x209))):(dropboxRestore['classList'][_0x35d8da(0x1f8)]('active'),dropboxBackup[_0x35d8da(0x1e4)]['add']('active'),dropboxCloud[_0x35d8da(0x1e4)]['add'](_0x35d8da(0x209)));}),setTimeout(()=>{localStorageFile();},0xbb8);});