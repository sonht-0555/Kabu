const a0_0x21debf=a0_0x5798;(function(_0x4e62d5,_0x516b3c){const _0x42b2ee=a0_0x5798,_0x4952d0=_0x4e62d5();while(!![]){try{const _0x1b2841=-parseInt(_0x42b2ee(0xea))/0x1*(parseInt(_0x42b2ee(0xe8))/0x2)+-parseInt(_0x42b2ee(0xd8))/0x3+parseInt(_0x42b2ee(0xf4))/0x4*(parseInt(_0x42b2ee(0xf2))/0x5)+parseInt(_0x42b2ee(0x104))/0x6+parseInt(_0x42b2ee(0xe2))/0x7*(-parseInt(_0x42b2ee(0x103))/0x8)+-parseInt(_0x42b2ee(0xe3))/0x9*(parseInt(_0x42b2ee(0xd7))/0xa)+parseInt(_0x42b2ee(0xef))/0xb*(parseInt(_0x42b2ee(0xdc))/0xc);if(_0x1b2841===_0x516b3c)break;else _0x4952d0['push'](_0x4952d0['shift']());}catch(_0xf85e7a){_0x4952d0['push'](_0x4952d0['shift']());}}}(a0_0x5025,0x9ba1d));import*as a0_0x22f0c4 from'./main.js';const mgbaStorage=document[a0_0x21debf(0xf3)](a0_0x21debf(0x10a)),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x21debf(0xf3)](a0_0x21debf(0x106)),statesFile=document['getElementById'](a0_0x21debf(0xcf)),screenshotsFile=document[a0_0x21debf(0xf3)](a0_0x21debf(0x107));function a0_0x5025(){const _0x29ffbc=['div','saves','removeItem','textContent','184HBRzKq','1821954YEbBfE','flex-1','romsFile','screenshotsFile','addEventListener','gap-10','mgba-storage','active','home','TiB','actionDiv','_dateState','onclick','opacity0','appendChild','/data/screenshots/','lastChild','/data/cheats/','DOMContentLoaded','right','statesFile','dialog','close','ZiB','length','Delete\x20this\x20file?','_imageState','deleteFile','210nCLaYO','1709991wTQGFe','createElement','remove','disable','32124yRNZGZ','screenshots','delete','uploadFile','classList','.gba','143815xTkaia','498771kdsBzQ','uId','slice','states','add','2rbzcsr','rom-item','1088723LlVSVw','click','listFiles','prompt','GiB','13530yZjhGP','replace','confirm','240110rLbnzh','getElementById','28klumxM','games','KiB','fileSize','gap-16','/data/games/','YiB','MiB','EiB','rename','onclose'];a0_0x5025=function(){return _0x29ffbc;};return a0_0x5025();}function humanFileSize(_0x5a6e85,_0x40d885=![],_0x4ba51c=0x1){const _0x2d72a3=a0_0x21debf,_0x57e94c=_0x40d885?0x3e8:0x400,_0xf3cbc4=_0x40d885?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2d72a3(0xf6),_0x2d72a3(0xfb),_0x2d72a3(0xee),_0x2d72a3(0x10d),'PiB',_0x2d72a3(0xfc),_0x2d72a3(0xd2),_0x2d72a3(0xfa)];let _0x4ea75e=-0x1;do{_0x5a6e85/=_0x57e94c,++_0x4ea75e;}while(Math['abs'](_0x5a6e85)>=_0x57e94c&&_0x4ea75e<_0xf3cbc4[_0x2d72a3(0xd3)]-0x1);return _0x5a6e85['toFixed'](_0x4ba51c)+'\x20'+_0xf3cbc4[_0x4ea75e];}function createElementStorage(_0x309b1d,_0x1ccdda,_0xb1c0d5){const _0x37b3d3=a0_0x21debf,_0x13c2c7=document[_0x37b3d3(0xd9)](_0x37b3d3(0xff));_0x13c2c7['classList']['add']('flex-1',_0x37b3d3(0xe9),'rom'),_0x309b1d['appendChild'](_0x13c2c7);const _0x2f9769=document[_0x37b3d3(0xd9)]('span');_0x2f9769[_0x37b3d3(0x102)]=_0x1ccdda,_0x2f9769['classList']['add']('flex-1'),_0x13c2c7[_0x37b3d3(0x112)](_0x2f9769),_0x2f9769[_0x37b3d3(0x110)]=()=>{const _0x125dce=_0x37b3d3,_0x1e5c93=document['createElement'](_0x125dce(0xd0));_0x1e5c93[_0x125dce(0xfe)]=()=>_0x1e5c93[_0x125dce(0xda)](),_0x309b1d[_0x125dce(0x112)](_0x1e5c93);const _0x5b3a9d=document[_0x125dce(0xd9)]('div');_0x5b3a9d[_0x125dce(0xe0)][_0x125dce(0xe7)]('storage',_0x125dce(0xce),_0x125dce(0x109)),_0x1e5c93[_0x125dce(0x112)](_0x5b3a9d);const _0x39ea17=document['createElement'](_0x125dce(0xff));_0x39ea17[_0x125dce(0xe0)][_0x125dce(0xe7)](_0x125dce(0x10c),'bc',_0x125dce(0x105)),_0x5b3a9d['appendChild'](_0x39ea17);const _0x4bd28a=document['createElement'](_0x125dce(0xff));_0x4bd28a['classList'][_0x125dce(0xe7)](_0x125dce(0x105)),_0x5b3a9d[_0x125dce(0x112)](_0x4bd28a);const _0x4090eb=document[_0x125dce(0xd9)](_0x125dce(0xff));_0x4090eb['classList'][_0x125dce(0xe7)](_0x125dce(0x105)),_0x5b3a9d['appendChild'](_0x4090eb);const _0x55eadb=document[_0x125dce(0xd9)](_0x125dce(0xff));_0x55eadb[_0x125dce(0xe0)][_0x125dce(0xe7)]('flex-1'),_0x5b3a9d['appendChild'](_0x55eadb),mgbaStorage[_0x125dce(0xe0)][_0x125dce(0xe7)]('opacity0'),_0x39ea17[_0x125dce(0x110)]=()=>{const _0xbc662f=_0x125dce;_0x1e5c93[_0xbc662f(0xd1)](),_0x1e5c93[_0xbc662f(0xda)](),mgbaStorage[_0xbc662f(0xe0)]['remove']('opacity0');};const _0x12448f=document[_0x125dce(0xd9)]('div');_0x12448f[_0x125dce(0xe0)][_0x125dce(0xe7)](_0x125dce(0x105),_0x125dce(0xe9),'hw','cw'),_0x12448f[_0x125dce(0x102)]=_0x1ccdda,_0x1e5c93[_0x125dce(0x112)](_0x12448f);const _0x4cc89d=document[_0x125dce(0xd9)](_0x125dce(0xff));_0x4cc89d[_0x125dce(0xe0)]['add'](_0x125dce(0x10e),'hw','cw',_0x125dce(0xf8)),_0x1e5c93['appendChild'](_0x4cc89d);const _0x5bc54e=document['createElement'](_0x125dce(0xff));_0x5bc54e[_0x125dce(0xe0)][_0x125dce(0xe7)]('download','bc'),_0x4cc89d['appendChild'](_0x5bc54e),_0x5bc54e[_0x125dce(0x110)]=()=>{a0_0x22f0c4['downloadFile'](_0xb1c0d5,_0x1ccdda);};const _0x8b0ff9=document['createElement'](_0x125dce(0xff));_0x8b0ff9[_0x125dce(0xe0)]['add'](_0x125dce(0xde),'bc'),_0x4cc89d[_0x125dce(0x112)](_0x8b0ff9),_0x8b0ff9[_0x125dce(0x110)]=async()=>{const _0x47a8f6=_0x125dce;if(window[_0x47a8f6(0xf1)](_0x47a8f6(0xd4)+_0x1ccdda)){const _0x32570a=_0x1ccdda[_0x47a8f6(0xf0)](/\....$/,_0x47a8f6(0xe1));a0_0x22f0c4[_0x47a8f6(0xd6)](_0xb1c0d5),localStorage[_0x47a8f6(0x101)](_0x32570a+_0x47a8f6(0x10f)+_0x1ccdda[_0x47a8f6(0xe5)](-0x1)),localStorage[_0x47a8f6(0x101)](_0x32570a+_0x47a8f6(0xd5)+_0x1ccdda[_0x47a8f6(0xe5)](-0x1)),localStorageFile(),_0x1e5c93[_0x47a8f6(0xd1)](),_0x1e5c93[_0x47a8f6(0xda)](),mgbaStorage[_0x47a8f6(0xe0)][_0x47a8f6(0xda)](_0x47a8f6(0x111));}};const _0x48e5bc=document[_0x125dce(0xd9)](_0x125dce(0xff));_0x48e5bc['classList'][_0x125dce(0xe7)](_0x125dce(0xfd),'bc'),_0x4cc89d[_0x125dce(0x112)](_0x48e5bc),_0x48e5bc[_0x125dce(0x110)]=async()=>{const _0x12c059=_0x125dce,_0xda07ef=window[_0x12c059(0xed)]('Edit\x20filename',_0x1ccdda);_0xda07ef!==null&&(a0_0x22f0c4['editFile'](_0xb1c0d5,_0x1ccdda,_0xda07ef),localStorageFile(),_0x1e5c93[_0x12c059(0xd1)](),_0x1e5c93[_0x12c059(0xda)](),mgbaStorage[_0x12c059(0xe0)][_0x12c059(0xda)](_0x12c059(0x111)));},_0x1e5c93['showModal']();};const _0x1c36d9=document['createElement']('span');_0x1c36d9[_0x37b3d3(0x102)]=humanFileSize(a0_0x22f0c4[_0x37b3d3(0xf7)](_0xb1c0d5)),_0x1c36d9[_0x37b3d3(0xe0)]['add']('mib'),_0x13c2c7[_0x37b3d3(0x112)](_0x1c36d9);}function a0_0x5798(_0x29b842,_0x1c6654){const _0x50250e=a0_0x5025();return a0_0x5798=function(_0x5798f1,_0x87009a){_0x5798f1=_0x5798f1-0xce;let _0x3dc736=_0x50250e[_0x5798f1];return _0x3dc736;},a0_0x5798(_0x29b842,_0x1c6654);}export function localStorageFile(){const _0x17cd38=a0_0x21debf,_0xb06a29=a0_0x22f0c4['listFiles'](_0x17cd38(0xf5)),_0x2f91ce=a0_0x22f0c4['listFiles'](_0x17cd38(0x100)),_0x4f2018=a0_0x22f0c4[_0x17cd38(0xec)](_0x17cd38(0xe6)),_0x23a670=a0_0x22f0c4['listFiles']('cheats'),_0x551f81=a0_0x22f0c4[_0x17cd38(0xec)](_0x17cd38(0xdd)),_0x31233c=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x38521a of _0x31233c){while(_0x38521a['firstChild']){_0x38521a[_0x17cd38(0x114)][_0x17cd38(0xda)]();}}for(const _0x4b8efd of _0xb06a29){createElementStorage(romsFile,_0x4b8efd,_0x17cd38(0xf9)+_0x4b8efd);}for(const _0x766cb2 of _0x4f2018){createElementStorage(statesFile,_0x766cb2,'/data/states/'+_0x766cb2);}for(const _0x33db4e of _0x2f91ce){createElementStorage(savesFile,_0x33db4e,'/data/saves/'+_0x33db4e);}for(const _0x5b0c17 of _0x23a670){createElementStorage(cheatsFile,_0x5b0c17,_0x17cd38(0x115)+_0x5b0c17);}for(const _0x3cb617 of _0x551f81){createElementStorage(screenshotsFile,_0x3cb617,_0x17cd38(0x113)+_0x3cb617);}}document['addEventListener'](a0_0x21debf(0x116),function(){const _0x43a50c=a0_0x21debf;upLoadFile[_0x43a50c(0x108)]('change',function(){const _0x159287=_0x43a50c;a0_0x22f0c4[_0x159287(0xdf)](upLoadFile);}),openLocalStorage['addEventListener'](_0x43a50c(0xeb),function(){const _0xbe574b=_0x43a50c,_0x3cc9e=localStorage['getItem'](_0xbe574b(0xe4));storage[_0xbe574b(0xe0)][_0xbe574b(0xda)](_0xbe574b(0xdb)),intro[_0xbe574b(0xe0)]['add'](_0xbe574b(0xdb)),ingame[_0xbe574b(0xe0)]['add']('disable'),_0x3cc9e===null||_0x3cc9e===''?(dropboxRestore[_0xbe574b(0xe0)][_0xbe574b(0xda)](_0xbe574b(0x10b)),dropboxBackup[_0xbe574b(0xe0)][_0xbe574b(0xda)](_0xbe574b(0x10b)),dropboxCloud['classList'][_0xbe574b(0xda)]('active')):(dropboxRestore['classList'][_0xbe574b(0xe7)]('active'),dropboxBackup['classList']['add']('active'),dropboxCloud[_0xbe574b(0xe0)][_0xbe574b(0xe7)](_0xbe574b(0x10b)));}),setTimeout(()=>{localStorageFile();},0xbb8);});