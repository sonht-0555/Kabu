const a0_0x1b505a=a0_0x4ef9;function a0_0x27fb(){const _0x38748b=['listGame','click','statesFile','40RPwJhq','ZiB','lastChild','flex-1','KiB','add','slice','disable','.bc','PiB','listScreenshot','.gba','onclick','_dateState','Edit\x20filename','close','opacity0','confirm','gap-16','listState','removeItem','remove','fileSize','/data/states/','YiB','/data/screenshots/','classList','home','editFile','uploadCheat','length','firstChild','6TDCWxN','EiB','listCheat','getElementById','endsWith','name','onclose','files','setItem','.cheats','uId','rom','appendChild','div','mib','175736vaBGJY','prompt','1879424JkyTNW','span','Delete\x20this\x20file?','/data/games/','delete','mgba-storage','right','275590IrPZWa','textContent','screenshotsFile','downloadFile','7LgOsdM','toFixed','replace','createElement','active','getItem','actionDiv','savesFile','storage','download','229369mKtpMl','1377834UTkOOh','193725PpzyJT','915669pDrHUS','addEventListener','TiB','_imageState','rom-item'];a0_0x27fb=function(){return _0x38748b;};return a0_0x27fb();}(function(_0x4b7646,_0x427f4d){const _0x5b3080=a0_0x4ef9,_0x708ff=_0x4b7646();while(!![]){try{const _0x1205fa=parseInt(_0x5b3080(0x229))/0x1+parseInt(_0x5b3080(0x212))/0x2*(-parseInt(_0x5b3080(0x203))/0x3)+-parseInt(_0x5b3080(0x214))/0x4+parseInt(_0x5b3080(0x1da))/0x5+-parseInt(_0x5b3080(0x22a))/0x6*(-parseInt(_0x5b3080(0x21f))/0x7)+-parseInt(_0x5b3080(0x1e3))/0x8*(-parseInt(_0x5b3080(0x1db))/0x9)+-parseInt(_0x5b3080(0x21b))/0xa;if(_0x1205fa===_0x427f4d)break;else _0x708ff['push'](_0x708ff['shift']());}catch(_0x292108){_0x708ff['push'](_0x708ff['shift']());}}}(a0_0x27fb,0x515fb));import*as a0_0x1b0558 from'./main.js';const mgbaStorage=document[a0_0x1b505a(0x206)](a0_0x1b505a(0x219)),savesFile=document[a0_0x1b505a(0x206)](a0_0x1b505a(0x226)),romsFile=document[a0_0x1b505a(0x206)]('romsFile'),statesFile=document[a0_0x1b505a(0x206)](a0_0x1b505a(0x1e2)),screenshotsFile=document['getElementById'](a0_0x1b505a(0x21d));function humanFileSize(_0x3d3ab3,_0x41f222=![],_0x1d0734=0x1){const _0x2d6a23=a0_0x1b505a,_0x1eeb81=_0x41f222?0x3e8:0x400,_0x24fd1d=_0x41f222?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2d6a23(0x1e7),'MiB','GiB',_0x2d6a23(0x1dd),_0x2d6a23(0x1ec),_0x2d6a23(0x204),_0x2d6a23(0x1e4),_0x2d6a23(0x1fb)];let _0x4a928f=-0x1;do{_0x3d3ab3/=_0x1eeb81,++_0x4a928f;}while(Math['abs'](_0x3d3ab3)>=_0x1eeb81&&_0x4a928f<_0x24fd1d[_0x2d6a23(0x201)]-0x1);return _0x3d3ab3[_0x2d6a23(0x220)](_0x1d0734)+'\x20'+_0x24fd1d[_0x4a928f];}function createElementStorage(_0x41fc65,_0x18587f,_0x5de7b5){const _0x309282=a0_0x1b505a,_0x4c9599=document[_0x309282(0x222)](_0x309282(0x210));_0x4c9599['classList']['add']('flex-1',_0x309282(0x1df),_0x309282(0x20e)),_0x41fc65[_0x309282(0x20f)](_0x4c9599);const _0x39291e=document['createElement'](_0x309282(0x215));_0x39291e['textContent']=_0x18587f,_0x39291e[_0x309282(0x1fd)][_0x309282(0x1e8)](_0x309282(0x1e6)),_0x4c9599[_0x309282(0x20f)](_0x39291e),_0x39291e[_0x309282(0x1ef)]=()=>{const _0x2c01cc=_0x309282,_0x53e8e3=document[_0x2c01cc(0x222)]('dialog');_0x53e8e3[_0x2c01cc(0x209)]=()=>_0x53e8e3[_0x2c01cc(0x1f8)](),_0x41fc65[_0x2c01cc(0x20f)](_0x53e8e3);const _0x8ee9c4=document[_0x2c01cc(0x222)](_0x2c01cc(0x210));_0x8ee9c4['classList'][_0x2c01cc(0x1e8)](_0x2c01cc(0x227),_0x2c01cc(0x21a),'gap-10'),_0x53e8e3[_0x2c01cc(0x20f)](_0x8ee9c4);const _0x5831f4=document['createElement'](_0x2c01cc(0x210));_0x5831f4[_0x2c01cc(0x1fd)][_0x2c01cc(0x1e8)](_0x2c01cc(0x1fe),'bc',_0x2c01cc(0x1e6)),_0x8ee9c4[_0x2c01cc(0x20f)](_0x5831f4);const _0x5ef77d=document[_0x2c01cc(0x222)]('div');_0x5ef77d[_0x2c01cc(0x1fd)]['add'](_0x2c01cc(0x1e6)),_0x8ee9c4[_0x2c01cc(0x20f)](_0x5ef77d);const _0x1f5a08=document[_0x2c01cc(0x222)](_0x2c01cc(0x210));_0x1f5a08[_0x2c01cc(0x1fd)]['add'](_0x2c01cc(0x1e6)),_0x8ee9c4[_0x2c01cc(0x20f)](_0x1f5a08);const _0x176e91=document['createElement'](_0x2c01cc(0x210));_0x176e91['classList'][_0x2c01cc(0x1e8)](_0x2c01cc(0x1e6)),_0x8ee9c4[_0x2c01cc(0x20f)](_0x176e91),mgbaStorage[_0x2c01cc(0x1fd)][_0x2c01cc(0x1e8)]('opacity0'),_0x5831f4[_0x2c01cc(0x1ef)]=()=>{const _0xc5f8ba=_0x2c01cc;_0x53e8e3['close'](),_0x53e8e3['remove'](),mgbaStorage['classList'][_0xc5f8ba(0x1f8)](_0xc5f8ba(0x1f3));};const _0x4fe751=document[_0x2c01cc(0x222)]('div');_0x4fe751[_0x2c01cc(0x1fd)][_0x2c01cc(0x1e8)](_0x2c01cc(0x1e6),_0x2c01cc(0x1df),'hw','cw'),_0x4fe751[_0x2c01cc(0x21c)]=_0x18587f,_0x53e8e3[_0x2c01cc(0x20f)](_0x4fe751);const _0x545068=document[_0x2c01cc(0x222)]('div');_0x545068[_0x2c01cc(0x1fd)][_0x2c01cc(0x1e8)](_0x2c01cc(0x225),'hw','cw',_0x2c01cc(0x1f5)),_0x53e8e3[_0x2c01cc(0x20f)](_0x545068);const _0x521ef5=document['createElement']('div');_0x521ef5[_0x2c01cc(0x1fd)][_0x2c01cc(0x1e8)](_0x2c01cc(0x228),'bc'),_0x545068['appendChild'](_0x521ef5),_0x521ef5[_0x2c01cc(0x1ef)]=()=>{const _0x3506cc=_0x2c01cc;a0_0x1b0558[_0x3506cc(0x21e)](_0x5de7b5,_0x18587f);};const _0x324820=document[_0x2c01cc(0x222)](_0x2c01cc(0x210));_0x324820['classList'][_0x2c01cc(0x1e8)](_0x2c01cc(0x218),'bc'),_0x545068['appendChild'](_0x324820),_0x324820['onclick']=async()=>{const _0x202db9=_0x2c01cc;if(window[_0x202db9(0x1f4)](_0x202db9(0x216)+_0x18587f)){const _0x84d41b=_0x18587f[_0x202db9(0x221)](/\....$/,'.gba');a0_0x1b0558['deleteFile'](_0x5de7b5),localStorage[_0x202db9(0x1f7)](_0x84d41b+_0x202db9(0x1f0)+_0x18587f[_0x202db9(0x1e9)](-0x1)),localStorage[_0x202db9(0x1f7)](_0x84d41b+_0x202db9(0x1de)+_0x18587f[_0x202db9(0x1e9)](-0x1)),localStorageFile(),_0x53e8e3[_0x202db9(0x1f2)](),_0x53e8e3[_0x202db9(0x1f8)](),mgbaStorage['classList']['remove'](_0x202db9(0x1f3));}};const _0x38d8f1=document[_0x2c01cc(0x222)](_0x2c01cc(0x210));_0x38d8f1[_0x2c01cc(0x1fd)][_0x2c01cc(0x1e8)]('rename','bc'),_0x545068[_0x2c01cc(0x20f)](_0x38d8f1),_0x38d8f1[_0x2c01cc(0x1ef)]=async()=>{const _0x397748=_0x2c01cc,_0x594dab=window[_0x397748(0x213)](_0x397748(0x1f1),_0x18587f);if(_0x594dab!==null){const _0x44a931=_0x18587f[_0x397748(0x221)](/\....$/,_0x397748(0x1ee)),_0x57bc13=_0x594dab[_0x397748(0x221)](/\....$/,_0x397748(0x1ee)),_0x389c73=_0x44a931+_0x397748(0x1f0)+_0x18587f[_0x397748(0x1e9)](-0x1),_0x1232d6=_0x44a931+'_imageState'+_0x18587f[_0x397748(0x1e9)](-0x1),_0x30e5ab=_0x57bc13+'_dateState'+_0x594dab[_0x397748(0x1e9)](-0x1),_0x2702ba=_0x57bc13+'_imageState'+_0x594dab[_0x397748(0x1e9)](-0x1),_0x56927a=localStorage[_0x397748(0x224)](_0x389c73),_0x22540f=localStorage['getItem'](_0x1232d6);_0x56927a!==null&&(localStorage['setItem'](_0x30e5ab,_0x56927a),localStorage[_0x397748(0x1f7)](_0x389c73)),_0x22540f!==null&&(localStorage[_0x397748(0x20b)](_0x2702ba,_0x22540f),localStorage[_0x397748(0x1f7)](_0x1232d6)),a0_0x1b0558[_0x397748(0x1ff)](_0x5de7b5,_0x18587f,_0x594dab),localStorageFile(),_0x53e8e3[_0x397748(0x1f2)](),_0x53e8e3['remove'](),mgbaStorage['classList'][_0x397748(0x1f8)](_0x397748(0x1f3));}},_0x53e8e3['showModal']();};const _0xabaf9c=document[_0x309282(0x222)](_0x309282(0x215));_0xabaf9c['textContent']=humanFileSize(a0_0x1b0558[_0x309282(0x1f9)](_0x5de7b5)),_0xabaf9c[_0x309282(0x1fd)][_0x309282(0x1e8)](_0x309282(0x211)),_0x4c9599['appendChild'](_0xabaf9c);}export function localStorageFile(){const _0x3fde63=a0_0x1b505a,_0x36906d=a0_0x1b0558[_0x3fde63(0x1e0)](),_0x567aed=a0_0x1b0558['listSave'](),_0x5431d0=a0_0x1b0558[_0x3fde63(0x1f6)](),_0x3b63c4=a0_0x1b0558[_0x3fde63(0x205)](),_0x2b12c2=a0_0x1b0558[_0x3fde63(0x1ed)](),_0x2ce886=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xdb1bdb of _0x2ce886){while(_0xdb1bdb[_0x3fde63(0x202)]){_0xdb1bdb[_0x3fde63(0x1e5)][_0x3fde63(0x1f8)]();}}for(const _0x3ecd51 of _0x36906d){createElementStorage(romsFile,_0x3ecd51,_0x3fde63(0x217)+_0x3ecd51);}for(const _0x5d8958 of _0x5431d0){createElementStorage(statesFile,_0x5d8958,_0x3fde63(0x1fa)+_0x5d8958);}for(const _0x4960a7 of _0x567aed){createElementStorage(savesFile,_0x4960a7,'/data/saves/'+_0x4960a7);}for(const _0x4c7c5b of _0x3b63c4){createElementStorage(cheatsFile,_0x4c7c5b,'/data/cheats/'+_0x4c7c5b);}for(const _0x147794 of _0x2b12c2){createElementStorage(screenshotsFile,_0x147794,_0x3fde63(0x1fc)+_0x147794);}}function a0_0x4ef9(_0x22c25c,_0x21eb21){const _0x27fbbf=a0_0x27fb();return a0_0x4ef9=function(_0x4ef9fd,_0x35473a){_0x4ef9fd=_0x4ef9fd-0x1da;let _0xee1b93=_0x27fbbf[_0x4ef9fd];return _0xee1b93;},a0_0x4ef9(_0x22c25c,_0x21eb21);}document[a0_0x1b505a(0x1dc)]('DOMContentLoaded',function(){const _0x32c8a0=a0_0x1b505a;upLoadFile[_0x32c8a0(0x1dc)]('change',function(){const _0x3850a2=_0x32c8a0,_0xa5cf44=upLoadFile[_0x3850a2(0x20a)][0x0][_0x3850a2(0x208)];if(_0xa5cf44['endsWith'](_0x3850a2(0x20c)))a0_0x1b0558[_0x3850a2(0x200)](upLoadFile);else _0xa5cf44[_0x3850a2(0x207)](_0x3850a2(0x1ee))||_0xa5cf44[_0x3850a2(0x207)]('.gbc')||_0xa5cf44[_0x3850a2(0x207)](_0x3850a2(0x1eb))?a0_0x1b0558['uploadGame'](upLoadFile):a0_0x1b0558['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x32c8a0(0x1dc)](_0x32c8a0(0x1e1),function(){const _0x556aa1=_0x32c8a0,_0x36b473=localStorage[_0x556aa1(0x224)](_0x556aa1(0x20d));storage[_0x556aa1(0x1fd)][_0x556aa1(0x1f8)]('disable'),intro[_0x556aa1(0x1fd)][_0x556aa1(0x1e8)](_0x556aa1(0x1ea)),ingame[_0x556aa1(0x1fd)]['add'](_0x556aa1(0x1ea)),_0x36b473===null||_0x36b473===''?(dropboxRestore['classList'][_0x556aa1(0x1f8)](_0x556aa1(0x223)),dropboxBackup['classList']['remove'](_0x556aa1(0x223)),dropboxCloud[_0x556aa1(0x1fd)][_0x556aa1(0x1f8)](_0x556aa1(0x223))):(dropboxRestore[_0x556aa1(0x1fd)][_0x556aa1(0x1e8)](_0x556aa1(0x223)),dropboxBackup[_0x556aa1(0x1fd)][_0x556aa1(0x1e8)](_0x556aa1(0x223)),dropboxCloud[_0x556aa1(0x1fd)][_0x556aa1(0x1e8)](_0x556aa1(0x223)));}),setTimeout(()=>{localStorageFile();},0xbb8);});