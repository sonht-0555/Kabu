const a0_0x355425=a0_0x393b;(function(_0xf9cdfc,_0x55c56a){const _0x3d0a18=a0_0x393b,_0x9013d9=_0xf9cdfc();while(!![]){try{const _0x3e7ddd=parseInt(_0x3d0a18(0x10a))/0x1+-parseInt(_0x3d0a18(0xef))/0x2+-parseInt(_0x3d0a18(0xdf))/0x3*(parseInt(_0x3d0a18(0xf1))/0x4)+-parseInt(_0x3d0a18(0x103))/0x5+parseInt(_0x3d0a18(0xd8))/0x6*(-parseInt(_0x3d0a18(0xc6))/0x7)+-parseInt(_0x3d0a18(0x10b))/0x8+parseInt(_0x3d0a18(0xf7))/0x9;if(_0x3e7ddd===_0x55c56a)break;else _0x9013d9['push'](_0x9013d9['shift']());}catch(_0x1bedd3){_0x9013d9['push'](_0x9013d9['shift']());}}}(a0_0x39bc,0xb781d));function a0_0x39bc(){const _0x47006a=['slice','uploadCheat','add','.bc','remove','screenshotsFile','628246yMyHUD','fileSize','4604HFzBfc','lastChild','KiB','appendChild','setItem','/data/screenshots/','36815346LWLQCn','span','replace','files','rom','.cheats','home','rom-item','div','close','PiB','.gbc','4171770nkAdIM','listState','name','right','.gba','Delete\x20this\x20file?','firstChild','320001tvapBJ','392904VerhoX','listScreenshot','classList','delete','textContent','deleteFile','56lkDrHS','addEventListener','getElementById','rename','toFixed','onclick','DOMContentLoaded','EiB','YiB','endsWith','click','mgba-storage','GiB','removeItem','_dateState','gap-10','confirm','statesFile','941334JcdJQh','/data/states/','opacity0','getItem','createElement','active','storage','3144SWdNYf','abs','listSave','downloadFile','prompt','disable','length','listCheat','download','flex-1'];a0_0x39bc=function(){return _0x47006a;};return a0_0x39bc();}import*as a0_0x21815e from'./main.js';const mgbaStorage=document[a0_0x355425(0xc8)](a0_0x355425(0xd1)),savesFile=document['getElementById']('savesFile'),romsFile=document['getElementById']('romsFile'),statesFile=document['getElementById'](a0_0x355425(0xd7)),screenshotsFile=document['getElementById'](a0_0x355425(0xee));function a0_0x393b(_0x842211,_0x56dc89){const _0x39bc9f=a0_0x39bc();return a0_0x393b=function(_0x393bbc,_0x21172c){_0x393bbc=_0x393bbc-0xc2;let _0x1ecf60=_0x39bc9f[_0x393bbc];return _0x1ecf60;},a0_0x393b(_0x842211,_0x56dc89);}function humanFileSize(_0x73b018,_0x3e2bc8=![],_0x268015=0x1){const _0xae3510=a0_0x355425,_0x107f7b=_0x3e2bc8?0x3e8:0x400,_0x4ccc39=_0x3e2bc8?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0xae3510(0xf3),'MiB',_0xae3510(0xd2),'TiB',_0xae3510(0x101),_0xae3510(0xcd),'ZiB',_0xae3510(0xce)];let _0x28831c=-0x1;do{_0x73b018/=_0x107f7b,++_0x28831c;}while(Math[_0xae3510(0xe0)](_0x73b018)>=_0x107f7b&&_0x28831c<_0x4ccc39[_0xae3510(0xe5)]-0x1);return _0x73b018[_0xae3510(0xca)](_0x268015)+'\x20'+_0x4ccc39[_0x28831c];}function createElementStorage(_0x561d68,_0x53bbf9,_0x178d6b){const _0x10c58e=a0_0x355425,_0x465155=document[_0x10c58e(0xdc)](_0x10c58e(0xff));_0x465155[_0x10c58e(0xc2)]['add']('flex-1',_0x10c58e(0xfe),_0x10c58e(0xfb)),_0x561d68[_0x10c58e(0xf4)](_0x465155);const _0x3374a4=document[_0x10c58e(0xdc)](_0x10c58e(0xf8));_0x3374a4[_0x10c58e(0xc4)]=_0x53bbf9,_0x3374a4[_0x10c58e(0xc2)]['add'](_0x10c58e(0xe8)),_0x465155[_0x10c58e(0xf4)](_0x3374a4),_0x3374a4['onclick']=()=>{const _0x4c92c5=_0x10c58e,_0x2be8f9=document[_0x4c92c5(0xdc)]('dialog');_0x2be8f9['onclose']=()=>_0x2be8f9[_0x4c92c5(0xed)](),_0x561d68[_0x4c92c5(0xf4)](_0x2be8f9);const _0x417cbb=document[_0x4c92c5(0xdc)](_0x4c92c5(0xff));_0x417cbb['classList'][_0x4c92c5(0xeb)](_0x4c92c5(0xde),_0x4c92c5(0x106),_0x4c92c5(0xd5)),_0x2be8f9[_0x4c92c5(0xf4)](_0x417cbb);const _0x4e2b72=document['createElement'](_0x4c92c5(0xff));_0x4e2b72[_0x4c92c5(0xc2)][_0x4c92c5(0xeb)](_0x4c92c5(0xfd),'bc','flex-1'),_0x417cbb['appendChild'](_0x4e2b72);const _0x3dc1c7=document[_0x4c92c5(0xdc)](_0x4c92c5(0xff));_0x3dc1c7[_0x4c92c5(0xc2)]['add'](_0x4c92c5(0xe8)),_0x417cbb[_0x4c92c5(0xf4)](_0x3dc1c7);const _0x1b4857=document[_0x4c92c5(0xdc)](_0x4c92c5(0xff));_0x1b4857[_0x4c92c5(0xc2)][_0x4c92c5(0xeb)]('flex-1'),_0x417cbb[_0x4c92c5(0xf4)](_0x1b4857);const _0x43c911=document[_0x4c92c5(0xdc)](_0x4c92c5(0xff));_0x43c911[_0x4c92c5(0xc2)]['add']('flex-1'),_0x417cbb['appendChild'](_0x43c911),mgbaStorage['classList'][_0x4c92c5(0xeb)](_0x4c92c5(0xda)),_0x4e2b72['onclick']=()=>{const _0x4ed73e=_0x4c92c5;_0x2be8f9[_0x4ed73e(0x100)](),_0x2be8f9[_0x4ed73e(0xed)](),mgbaStorage[_0x4ed73e(0xc2)][_0x4ed73e(0xed)](_0x4ed73e(0xda));};const _0x425885=document[_0x4c92c5(0xdc)]('div');_0x425885[_0x4c92c5(0xc2)]['add'](_0x4c92c5(0xe8),'rom-item','hw','cw'),_0x425885[_0x4c92c5(0xc4)]=_0x53bbf9,_0x2be8f9[_0x4c92c5(0xf4)](_0x425885);const _0x31a94b=document[_0x4c92c5(0xdc)](_0x4c92c5(0xff));_0x31a94b[_0x4c92c5(0xc2)][_0x4c92c5(0xeb)]('actionDiv','hw','cw','gap-16'),_0x2be8f9[_0x4c92c5(0xf4)](_0x31a94b);const _0x4b9eee=document[_0x4c92c5(0xdc)]('div');_0x4b9eee['classList'][_0x4c92c5(0xeb)](_0x4c92c5(0xe7),'bc'),_0x31a94b[_0x4c92c5(0xf4)](_0x4b9eee),_0x4b9eee[_0x4c92c5(0xcb)]=()=>{const _0x560ebf=_0x4c92c5;a0_0x21815e[_0x560ebf(0xe2)](_0x178d6b,_0x53bbf9);};const _0x316211=document['createElement'](_0x4c92c5(0xff));_0x316211[_0x4c92c5(0xc2)][_0x4c92c5(0xeb)](_0x4c92c5(0xc3),'bc'),_0x31a94b[_0x4c92c5(0xf4)](_0x316211),_0x316211['onclick']=async()=>{const _0x4bb149=_0x4c92c5;if(window[_0x4bb149(0xd6)](_0x4bb149(0x108)+_0x53bbf9)){const _0x2e71c8=_0x53bbf9[_0x4bb149(0xf9)](/\....$/,_0x4bb149(0x107));a0_0x21815e[_0x4bb149(0xc5)](_0x178d6b),localStorage[_0x4bb149(0xd3)](_0x2e71c8+'_dateState'+_0x53bbf9[_0x4bb149(0xe9)](-0x1)),localStorage[_0x4bb149(0xd3)](_0x2e71c8+'_imageState'+_0x53bbf9[_0x4bb149(0xe9)](-0x1)),localStorageFile(),_0x2be8f9[_0x4bb149(0x100)](),_0x2be8f9[_0x4bb149(0xed)](),mgbaStorage[_0x4bb149(0xc2)]['remove'](_0x4bb149(0xda));}};const _0x150aa5=document[_0x4c92c5(0xdc)](_0x4c92c5(0xff));_0x150aa5[_0x4c92c5(0xc2)]['add'](_0x4c92c5(0xc9),'bc'),_0x31a94b[_0x4c92c5(0xf4)](_0x150aa5),_0x150aa5[_0x4c92c5(0xcb)]=async()=>{const _0x2f6a15=_0x4c92c5,_0x1a30a7=window[_0x2f6a15(0xe3)]('Edit\x20filename',_0x53bbf9);if(_0x1a30a7!==null){const _0x54d217=_0x53bbf9[_0x2f6a15(0xf9)](/\....$/,'.gba'),_0x3050dd=_0x1a30a7[_0x2f6a15(0xf9)](/\....$/,_0x2f6a15(0x107)),_0x1be29b=_0x54d217+_0x2f6a15(0xd4)+_0x53bbf9[_0x2f6a15(0xe9)](-0x1),_0x89b678=_0x54d217+'_imageState'+_0x53bbf9[_0x2f6a15(0xe9)](-0x1),_0x28f2cb=_0x3050dd+_0x2f6a15(0xd4)+_0x1a30a7[_0x2f6a15(0xe9)](-0x1),_0x680a36=_0x3050dd+'_imageState'+_0x1a30a7[_0x2f6a15(0xe9)](-0x1),_0x3553e9=localStorage[_0x2f6a15(0xdb)](_0x1be29b),_0xcc2fb7=localStorage[_0x2f6a15(0xdb)](_0x89b678);_0x3553e9!==null&&(localStorage[_0x2f6a15(0xf5)](_0x28f2cb,_0x3553e9),localStorage['removeItem'](_0x1be29b)),_0xcc2fb7!==null&&(localStorage[_0x2f6a15(0xf5)](_0x680a36,_0xcc2fb7),localStorage['removeItem'](_0x89b678)),a0_0x21815e['editFile'](_0x178d6b,_0x53bbf9,_0x1a30a7),localStorageFile(),_0x2be8f9[_0x2f6a15(0x100)](),_0x2be8f9[_0x2f6a15(0xed)](),mgbaStorage['classList']['remove'](_0x2f6a15(0xda));}},_0x2be8f9['showModal']();};const _0x2f69a4=document[_0x10c58e(0xdc)](_0x10c58e(0xf8));_0x2f69a4[_0x10c58e(0xc4)]=humanFileSize(a0_0x21815e[_0x10c58e(0xf0)](_0x178d6b)),_0x2f69a4[_0x10c58e(0xc2)][_0x10c58e(0xeb)]('mib'),_0x465155[_0x10c58e(0xf4)](_0x2f69a4);}export function localStorageFile(){const _0x5b469d=a0_0x355425,_0x569526=a0_0x21815e['listGame'](),_0x578966=a0_0x21815e[_0x5b469d(0xe1)](),_0x21ee16=a0_0x21815e[_0x5b469d(0x104)](),_0x2a6dca=a0_0x21815e[_0x5b469d(0xe6)](),_0x273b39=a0_0x21815e[_0x5b469d(0x10c)](),_0x338fef=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x36c8d1 of _0x338fef){while(_0x36c8d1[_0x5b469d(0x109)]){_0x36c8d1[_0x5b469d(0xf2)][_0x5b469d(0xed)]();}}for(const _0x534f6b of _0x569526){createElementStorage(romsFile,_0x534f6b,'/data/games/'+_0x534f6b);}for(const _0x48efd2 of _0x21ee16){createElementStorage(statesFile,_0x48efd2,_0x5b469d(0xd9)+_0x48efd2);}for(const _0x5bb0e6 of _0x578966){createElementStorage(savesFile,_0x5bb0e6,'/data/saves/'+_0x5bb0e6);}for(const _0x4e19ad of _0x2a6dca){createElementStorage(cheatsFile,_0x4e19ad,'/data/cheats/'+_0x4e19ad);}for(const _0x284c7d of _0x273b39){createElementStorage(screenshotsFile,_0x284c7d,_0x5b469d(0xf6)+_0x284c7d);}}document[a0_0x355425(0xc7)](a0_0x355425(0xcc),function(){const _0x4d57e1=a0_0x355425;upLoadFile[_0x4d57e1(0xc7)]('change',function(){const _0xe096bf=_0x4d57e1,_0x25988c=upLoadFile[_0xe096bf(0xfa)][0x0][_0xe096bf(0x105)];if(_0x25988c[_0xe096bf(0xcf)](_0xe096bf(0xfc)))a0_0x21815e[_0xe096bf(0xea)](upLoadFile);else _0x25988c[_0xe096bf(0xcf)](_0xe096bf(0x107))||_0x25988c[_0xe096bf(0xcf)](_0xe096bf(0x102))||_0x25988c[_0xe096bf(0xcf)](_0xe096bf(0xec))?a0_0x21815e['uploadGame'](upLoadFile):a0_0x21815e['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x4d57e1(0xc7)](_0x4d57e1(0xd0),function(){const _0x4d912d=_0x4d57e1,_0x2b8d42=localStorage[_0x4d912d(0xdb)]('uId');storage[_0x4d912d(0xc2)]['remove']('disable'),intro[_0x4d912d(0xc2)]['add'](_0x4d912d(0xe4)),ingame['classList']['add']('disable'),_0x2b8d42===null||_0x2b8d42===''?(dropboxRestore[_0x4d912d(0xc2)][_0x4d912d(0xed)](_0x4d912d(0xdd)),dropboxBackup[_0x4d912d(0xc2)]['remove'](_0x4d912d(0xdd)),dropboxCloud[_0x4d912d(0xc2)]['remove'](_0x4d912d(0xdd))):(dropboxRestore[_0x4d912d(0xc2)][_0x4d912d(0xeb)](_0x4d912d(0xdd)),dropboxBackup[_0x4d912d(0xc2)]['add']('active'),dropboxCloud['classList'][_0x4d912d(0xeb)](_0x4d912d(0xdd)));}),setTimeout(()=>{localStorageFile();},0xbb8);});