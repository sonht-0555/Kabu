const a0_0x341e37=a0_0x249f;(function(_0x3f4298,_0x3c045e){const _0x4a5351=a0_0x249f,_0x2ba338=_0x3f4298();while(!![]){try{const _0x3e3499=parseInt(_0x4a5351(0xd1))/0x1+-parseInt(_0x4a5351(0xee))/0x2+-parseInt(_0x4a5351(0xef))/0x3*(-parseInt(_0x4a5351(0xe6))/0x4)+-parseInt(_0x4a5351(0xd6))/0x5+-parseInt(_0x4a5351(0xd0))/0x6*(parseInt(_0x4a5351(0xea))/0x7)+parseInt(_0x4a5351(0xc3))/0x8*(-parseInt(_0x4a5351(0xe8))/0x9)+parseInt(_0x4a5351(0xd4))/0xa*(parseInt(_0x4a5351(0xb5))/0xb);if(_0x3e3499===_0x3c045e)break;else _0x2ba338['push'](_0x2ba338['shift']());}catch(_0x50417f){_0x2ba338['push'](_0x2ba338['shift']());}}}(a0_0x1076,0x4f6c6));import*as a0_0x321fb8 from'./main.js';const mgbaStorage=document[a0_0x341e37(0xde)]('mgba-storage'),savesFile=document[a0_0x341e37(0xde)](a0_0x341e37(0xd8)),romsFile=document[a0_0x341e37(0xde)](a0_0x341e37(0xbe)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document[a0_0x341e37(0xde)](a0_0x341e37(0xcb));function humanFileSize(_0x54f67c,_0x385f6a=![],_0x56a599=0x1){const _0x30538b=a0_0x341e37,_0x5c20ab=_0x385f6a?0x3e8:0x400,_0x4e7537=_0x385f6a?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x30538b(0xb1),_0x30538b(0xed),_0x30538b(0xc0),'PiB','EiB','ZiB','YiB'];let _0x17013f=-0x1;do{_0x54f67c/=_0x5c20ab,++_0x17013f;}while(Math[_0x30538b(0xd7)](_0x54f67c)>=_0x5c20ab&&_0x17013f<_0x4e7537[_0x30538b(0xd2)]-0x1);return _0x54f67c['toFixed'](_0x56a599)+'\x20'+_0x4e7537[_0x17013f];}function a0_0x249f(_0x5e42f5,_0x1d7bee){const _0x10763f=a0_0x1076();return a0_0x249f=function(_0x249f2d,_0x3281cf){_0x249f2d=_0x249f2d-0xaf;let _0x318b44=_0x10763f[_0x249f2d];return _0x318b44;},a0_0x249f(_0x5e42f5,_0x1d7bee);}function createElementStorage(_0x2b9c5f,_0x265901,_0x359dc4){const _0x5ba812=a0_0x341e37,_0x53a689=document[_0x5ba812(0xdc)](_0x5ba812(0xe3));_0x53a689[_0x5ba812(0xcd)][_0x5ba812(0xcc)](_0x5ba812(0xe5),_0x5ba812(0xba),'rom'),_0x2b9c5f[_0x5ba812(0xc1)](_0x53a689);const _0x1ce6c5=document[_0x5ba812(0xdc)]('span');_0x1ce6c5[_0x5ba812(0xe4)]=_0x265901,_0x1ce6c5['classList']['add']('flex-1'),_0x53a689[_0x5ba812(0xc1)](_0x1ce6c5),_0x1ce6c5[_0x5ba812(0xf2)]=()=>{const _0x1d5ca5=_0x5ba812,_0x33a69c=document['createElement'](_0x1d5ca5(0xeb));_0x33a69c[_0x1d5ca5(0xd9)]=()=>_0x33a69c[_0x1d5ca5(0xc8)](),_0x2b9c5f[_0x1d5ca5(0xc1)](_0x33a69c);const _0x266115=document[_0x1d5ca5(0xdc)](_0x1d5ca5(0xe3));_0x266115['classList'][_0x1d5ca5(0xcc)]('storage',_0x1d5ca5(0xbf),_0x1d5ca5(0xc2)),_0x33a69c[_0x1d5ca5(0xc1)](_0x266115);const _0x36d392=document[_0x1d5ca5(0xdc)](_0x1d5ca5(0xe3));_0x36d392[_0x1d5ca5(0xcd)][_0x1d5ca5(0xcc)](_0x1d5ca5(0xc9),'bc',_0x1d5ca5(0xe5)),_0x266115[_0x1d5ca5(0xc1)](_0x36d392);const _0xa5ece6=document['createElement'](_0x1d5ca5(0xe3));_0xa5ece6[_0x1d5ca5(0xcd)][_0x1d5ca5(0xcc)](_0x1d5ca5(0xe5)),_0x266115[_0x1d5ca5(0xc1)](_0xa5ece6);const _0x46142b=document['createElement']('div');_0x46142b['classList']['add'](_0x1d5ca5(0xe5)),_0x266115[_0x1d5ca5(0xc1)](_0x46142b);const _0x1a9217=document[_0x1d5ca5(0xdc)]('div');_0x1a9217['classList'][_0x1d5ca5(0xcc)](_0x1d5ca5(0xe5)),_0x266115['appendChild'](_0x1a9217),mgbaStorage['classList']['add']('opacity0'),_0x36d392[_0x1d5ca5(0xf2)]=()=>{const _0x5a31ef=_0x1d5ca5;_0x33a69c[_0x5a31ef(0xce)](),_0x33a69c[_0x5a31ef(0xc8)](),mgbaStorage[_0x5a31ef(0xcd)][_0x5a31ef(0xc8)](_0x5a31ef(0xc7));};const _0x239279=document[_0x1d5ca5(0xdc)](_0x1d5ca5(0xe3));_0x239279[_0x1d5ca5(0xcd)]['add']('flex-1',_0x1d5ca5(0xba),'hw','cw'),_0x239279[_0x1d5ca5(0xe4)]=_0x265901,_0x33a69c[_0x1d5ca5(0xc1)](_0x239279);const _0x4c9c59=document['createElement'](_0x1d5ca5(0xe3));_0x4c9c59[_0x1d5ca5(0xcd)]['add'](_0x1d5ca5(0xe9),'hw','cw','gap-16'),_0x33a69c['appendChild'](_0x4c9c59);const _0x183e0d=document[_0x1d5ca5(0xdc)]('div');_0x183e0d['classList'][_0x1d5ca5(0xcc)](_0x1d5ca5(0xcf),'bc'),_0x4c9c59[_0x1d5ca5(0xc1)](_0x183e0d),_0x183e0d['onclick']=()=>{const _0x547935=_0x1d5ca5;a0_0x321fb8[_0x547935(0xec)](_0x359dc4,_0x265901);};const _0x1d63b0=document[_0x1d5ca5(0xdc)](_0x1d5ca5(0xe3));_0x1d63b0[_0x1d5ca5(0xcd)][_0x1d5ca5(0xcc)](_0x1d5ca5(0xf1),'bc'),_0x4c9c59[_0x1d5ca5(0xc1)](_0x1d63b0),_0x1d63b0[_0x1d5ca5(0xf2)]=async()=>{const _0x453c0e=_0x1d5ca5;if(window[_0x453c0e(0xb8)](_0x453c0e(0xe1)+_0x265901)){const _0x5f57ae=_0x265901[_0x453c0e(0xaf)](/\....$/,'.gba');a0_0x321fb8[_0x453c0e(0xbc)](_0x359dc4),localStorage['removeItem'](_0x5f57ae+_0x453c0e(0xd3)+_0x265901['slice'](-0x1)),localStorage[_0x453c0e(0xbb)](_0x5f57ae+_0x453c0e(0xca)+_0x265901['slice'](-0x1)),localStorageFile(),_0x33a69c[_0x453c0e(0xce)](),_0x33a69c[_0x453c0e(0xc8)](),mgbaStorage[_0x453c0e(0xcd)][_0x453c0e(0xc8)](_0x453c0e(0xc7));}};const _0x2903f9=document[_0x1d5ca5(0xdc)]('div');_0x2903f9[_0x1d5ca5(0xcd)][_0x1d5ca5(0xcc)]('rename','bc'),_0x4c9c59[_0x1d5ca5(0xc1)](_0x2903f9),_0x2903f9[_0x1d5ca5(0xf2)]=async()=>{const _0x513b07=_0x1d5ca5,_0x1c45f1=window[_0x513b07(0xe0)](_0x513b07(0xdd),_0x265901);_0x1c45f1!==null&&(a0_0x321fb8[_0x513b07(0xb6)](_0x359dc4,_0x265901,_0x1c45f1),localStorageFile(),_0x33a69c[_0x513b07(0xce)](),_0x33a69c['remove'](),mgbaStorage[_0x513b07(0xcd)]['remove'](_0x513b07(0xc7)));},_0x33a69c[_0x1d5ca5(0xdb)]();};const _0x175800=document['createElement']('span');_0x175800[_0x5ba812(0xe4)]=humanFileSize(a0_0x321fb8['fileSize'](_0x359dc4)),_0x175800['classList'][_0x5ba812(0xcc)](_0x5ba812(0xda)),_0x53a689[_0x5ba812(0xc1)](_0x175800);}export function localStorageFile(){const _0x598c11=a0_0x341e37,_0x4cdd78=a0_0x321fb8[_0x598c11(0xb9)](_0x598c11(0xb4)),_0x168282=a0_0x321fb8[_0x598c11(0xb9)](_0x598c11(0xc5)),_0x9b5d7d=a0_0x321fb8['listFiles'](_0x598c11(0xf0)),_0x88189d=a0_0x321fb8[_0x598c11(0xb9)]('cheats'),_0x9dbc4a=a0_0x321fb8[_0x598c11(0xb9)]('screenshots'),_0x397991=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x33ae05 of _0x397991){while(_0x33ae05[_0x598c11(0xc4)]){_0x33ae05[_0x598c11(0xc6)][_0x598c11(0xc8)]();}}for(const _0x48593c of _0x4cdd78){createElementStorage(romsFile,_0x48593c,_0x598c11(0xbd)+_0x48593c);}for(const _0x5f17b0 of _0x9b5d7d){createElementStorage(statesFile,_0x5f17b0,_0x598c11(0xb2)+_0x5f17b0);}for(const _0x238436 of _0x168282){createElementStorage(savesFile,_0x238436,'/data/saves/'+_0x238436);}for(const _0x44391d of _0x88189d){createElementStorage(cheatsFile,_0x44391d,_0x598c11(0xe2)+_0x44391d);}for(const _0x340d62 of _0x9dbc4a){createElementStorage(screenshotsFile,_0x340d62,_0x598c11(0xe7)+_0x340d62);}}document[a0_0x341e37(0xb0)]('DOMContentLoaded',function(){const _0x3e4066=a0_0x341e37;upLoadFile['addEventListener']('change',function(){const _0x2868bd=a0_0x249f;a0_0x321fb8[_0x2868bd(0xd5)](upLoadFile);}),openLocalStorage[_0x3e4066(0xb0)](_0x3e4066(0xb3),function(){const _0x2bc686=_0x3e4066,_0x428a7e=localStorage['getItem']('uId');storage[_0x2bc686(0xcd)]['remove'](_0x2bc686(0xb7)),intro[_0x2bc686(0xcd)][_0x2bc686(0xcc)](_0x2bc686(0xb7)),ingame[_0x2bc686(0xcd)]['add']('disable'),_0x428a7e===null||_0x428a7e===''?(dropboxRestore[_0x2bc686(0xcd)][_0x2bc686(0xc8)](_0x2bc686(0xdf)),dropboxBackup['classList'][_0x2bc686(0xc8)](_0x2bc686(0xdf)),dropboxCloud['classList'][_0x2bc686(0xc8)]('active')):(dropboxRestore[_0x2bc686(0xcd)][_0x2bc686(0xcc)](_0x2bc686(0xdf)),dropboxBackup[_0x2bc686(0xcd)][_0x2bc686(0xcc)](_0x2bc686(0xdf)),dropboxCloud[_0x2bc686(0xcd)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x1076(){const _0x52933f=['download','96oirrgJ','496326IARSyl','length','_dateState','160QjogkO','uploadFile','183965aGIAAT','abs','savesFile','onclose','mib','showModal','createElement','Edit\x20filename','getElementById','active','prompt','Delete\x20this\x20file?','/data/cheats/','div','textContent','flex-1','8wcvNSx','/data/screenshots/','38520mHFzZm','actionDiv','233583BFQyqY','dialog','downloadFile','GiB','363142rUxQVD','635478yweRFQ','states','delete','onclick','replace','addEventListener','MiB','/data/states/','click','games','287848JwXkVg','editFile','disable','confirm','listFiles','rom-item','removeItem','deleteFile','/data/games/','romsFile','right','TiB','appendChild','gap-10','488iOsFpc','firstChild','saves','lastChild','opacity0','remove','home','_imageState','screenshotsFile','add','classList','close'];a0_0x1076=function(){return _0x52933f;};return a0_0x1076();}