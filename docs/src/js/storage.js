const a0_0x587737=a0_0x38ac;function a0_0x38ac(_0x416e78,_0x261f47){const _0x5bd95e=a0_0x5bd9();return a0_0x38ac=function(_0x38ac58,_0x3ec564){_0x38ac58=_0x38ac58-0xd6;let _0x79de32=_0x5bd95e[_0x38ac58];return _0x79de32;},a0_0x38ac(_0x416e78,_0x261f47);}(function(_0x4a059f,_0x5cf37c){const _0x57a663=a0_0x38ac,_0x3a5c68=_0x4a059f();while(!![]){try{const _0x51986c=parseInt(_0x57a663(0xe7))/0x1*(parseInt(_0x57a663(0xfd))/0x2)+-parseInt(_0x57a663(0xec))/0x3*(-parseInt(_0x57a663(0x110))/0x4)+-parseInt(_0x57a663(0x111))/0x5+parseInt(_0x57a663(0xe8))/0x6*(parseInt(_0x57a663(0x115))/0x7)+-parseInt(_0x57a663(0x100))/0x8+parseInt(_0x57a663(0xfb))/0x9*(parseInt(_0x57a663(0x126))/0xa)+-parseInt(_0x57a663(0x10a))/0xb*(parseInt(_0x57a663(0xf1))/0xc);if(_0x51986c===_0x5cf37c)break;else _0x3a5c68['push'](_0x3a5c68['shift']());}catch(_0x26150c){_0x3a5c68['push'](_0x3a5c68['shift']());}}}(a0_0x5bd9,0x8ca41));import*as a0_0x590bec from'./main.js';const mgbaStorage=document[a0_0x587737(0xef)]('mgba-storage'),savesFile=document['getElementById'](a0_0x587737(0xed)),romsFile=document[a0_0x587737(0xef)](a0_0x587737(0x101)),statesFile=document[a0_0x587737(0xef)](a0_0x587737(0x106)),screenshotsFile=document[a0_0x587737(0xef)](a0_0x587737(0xe3));function humanFileSize(_0x5e728a,_0x482291=![],_0x234f54=0x1){const _0x508b64=a0_0x587737,_0x3fb868=_0x482291?0x3e8:0x400,_0x55c11a=_0x482291?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x508b64(0x109),_0x508b64(0x124),_0x508b64(0xea),'TiB','PiB',_0x508b64(0x125),_0x508b64(0xfa),_0x508b64(0xdb)];let _0x2896be=-0x1;do{_0x5e728a/=_0x3fb868,++_0x2896be;}while(Math['abs'](_0x5e728a)>=_0x3fb868&&_0x2896be<_0x55c11a['length']-0x1);return _0x5e728a[_0x508b64(0x114)](_0x234f54)+'\x20'+_0x55c11a[_0x2896be];}function createElementStorage(_0x4765a3,_0x1ac4bb,_0x114762){const _0x574dec=a0_0x587737,_0x5bba46=document[_0x574dec(0x104)](_0x574dec(0x105));_0x5bba46['classList'][_0x574dec(0x102)](_0x574dec(0x11a),_0x574dec(0xf2),_0x574dec(0xd9)),_0x4765a3[_0x574dec(0x122)](_0x5bba46);const _0x3207a0=document[_0x574dec(0x104)]('span');_0x3207a0[_0x574dec(0x10b)]=_0x1ac4bb,_0x3207a0[_0x574dec(0x121)][_0x574dec(0x102)](_0x574dec(0x11a)),_0x5bba46[_0x574dec(0x122)](_0x3207a0),_0x3207a0['onclick']=()=>{const _0x50b844=_0x574dec,_0x29276d=document[_0x50b844(0x104)]('dialog');_0x29276d[_0x50b844(0x10d)]=()=>_0x29276d[_0x50b844(0x116)](),_0x4765a3[_0x50b844(0x122)](_0x29276d);const _0x4fc65a=document[_0x50b844(0x104)]('div');_0x4fc65a['classList'][_0x50b844(0x102)](_0x50b844(0xf6),'right','gap-10'),_0x29276d[_0x50b844(0x122)](_0x4fc65a);const _0x4fd829=document[_0x50b844(0x104)](_0x50b844(0x105));_0x4fd829['classList'][_0x50b844(0x102)](_0x50b844(0xd7),'bc',_0x50b844(0x11a)),_0x4fc65a['appendChild'](_0x4fd829);const _0x1ff894=document[_0x50b844(0x104)](_0x50b844(0x105));_0x1ff894[_0x50b844(0x121)][_0x50b844(0x102)](_0x50b844(0x11a)),_0x4fc65a['appendChild'](_0x1ff894);const _0x481193=document[_0x50b844(0x104)]('div');_0x481193[_0x50b844(0x121)][_0x50b844(0x102)](_0x50b844(0x11a)),_0x4fc65a[_0x50b844(0x122)](_0x481193);const _0x9ddf1f=document[_0x50b844(0x104)]('div');_0x9ddf1f[_0x50b844(0x121)][_0x50b844(0x102)](_0x50b844(0x11a)),_0x4fc65a[_0x50b844(0x122)](_0x9ddf1f),mgbaStorage[_0x50b844(0x121)][_0x50b844(0x102)](_0x50b844(0x11f)),_0x4fd829[_0x50b844(0x113)]=()=>{const _0x4ea85a=_0x50b844;_0x29276d[_0x4ea85a(0xf4)](),_0x29276d[_0x4ea85a(0x116)](),mgbaStorage[_0x4ea85a(0x121)][_0x4ea85a(0x116)](_0x4ea85a(0x11f));};const _0x209db8=document['createElement'](_0x50b844(0x105));_0x209db8[_0x50b844(0x121)][_0x50b844(0x102)]('flex-1','rom-item','hw','cw'),_0x209db8[_0x50b844(0x10b)]=_0x1ac4bb,_0x29276d['appendChild'](_0x209db8);const _0x251dee=document[_0x50b844(0x104)](_0x50b844(0x105));_0x251dee[_0x50b844(0x121)][_0x50b844(0x102)]('actionDiv','hw','cw',_0x50b844(0xda)),_0x29276d[_0x50b844(0x122)](_0x251dee);const _0x3bdfd9=document['createElement'](_0x50b844(0x105));_0x3bdfd9[_0x50b844(0x121)][_0x50b844(0x102)]('download','bc'),_0x251dee[_0x50b844(0x122)](_0x3bdfd9),_0x3bdfd9[_0x50b844(0x113)]=()=>{a0_0x590bec['downloadFile'](_0x114762,_0x1ac4bb);};const _0x32ae36=document[_0x50b844(0x104)](_0x50b844(0x105));_0x32ae36['classList'][_0x50b844(0x102)]('delete','bc'),_0x251dee[_0x50b844(0x122)](_0x32ae36),_0x32ae36[_0x50b844(0x113)]=async()=>{const _0x4e9529=_0x50b844;if(window[_0x4e9529(0xe0)]('Delete\x20this\x20file?'+_0x1ac4bb)){const _0x133046=_0x1ac4bb[_0x4e9529(0xe1)](/\....$/,_0x4e9529(0xf8));a0_0x590bec['deleteFile'](_0x114762),localStorage['removeItem'](_0x133046+'_dateState'+_0x1ac4bb[_0x4e9529(0x10f)](-0x1)),localStorage[_0x4e9529(0xe4)](_0x133046+_0x4e9529(0x103)+_0x1ac4bb['slice'](-0x1)),localStorageFile(),_0x29276d[_0x4e9529(0xf4)](),_0x29276d['remove'](),mgbaStorage['classList']['remove'](_0x4e9529(0x11f));}};const _0x195479=document['createElement'](_0x50b844(0x105));_0x195479[_0x50b844(0x121)]['add'](_0x50b844(0x117),'bc'),_0x251dee[_0x50b844(0x122)](_0x195479),_0x195479['onclick']=async()=>{const _0x1edc4c=_0x50b844,_0x4701f1=window[_0x1edc4c(0xf5)](_0x1edc4c(0xeb),_0x1ac4bb);if(_0x4701f1!==null){const _0x4809f0=_0x1ac4bb[_0x1edc4c(0xe1)](/\....$/,_0x1edc4c(0xf8)),_0x5ceee5=_0x4701f1[_0x1edc4c(0xe1)](/\....$/,'.gba'),_0x38caf8=_0x4809f0+'_dateState'+_0x1ac4bb[_0x1edc4c(0x10f)](-0x1),_0x2e8fd7=_0x4809f0+'_imageState'+_0x1ac4bb['slice'](-0x1),_0x55dec1=_0x5ceee5+_0x1edc4c(0x123)+_0x4701f1[_0x1edc4c(0x10f)](-0x1),_0x1a4706=_0x5ceee5+'_imageState'+_0x4701f1[_0x1edc4c(0x10f)](-0x1),_0x1f1ab7=localStorage[_0x1edc4c(0x11d)](_0x38caf8),_0x3389e0=localStorage[_0x1edc4c(0x11d)](_0x2e8fd7);_0x1f1ab7!==null&&(localStorage[_0x1edc4c(0xf7)](_0x55dec1,_0x1f1ab7),localStorage[_0x1edc4c(0xe4)](_0x38caf8)),_0x3389e0!==null&&(localStorage['setItem'](_0x1a4706,_0x3389e0),localStorage['removeItem'](_0x2e8fd7)),a0_0x590bec['editFile'](_0x114762,_0x1ac4bb,_0x4701f1),localStorageFile(),_0x29276d['close'](),_0x29276d['remove'](),mgbaStorage[_0x1edc4c(0x121)][_0x1edc4c(0x116)](_0x1edc4c(0x11f));}},_0x29276d[_0x50b844(0x10e)]();};const _0x334cb1=document[_0x574dec(0x104)](_0x574dec(0x112));_0x334cb1[_0x574dec(0x10b)]=humanFileSize(a0_0x590bec[_0x574dec(0xff)](_0x114762)),_0x334cb1['classList'][_0x574dec(0x102)]('mib'),_0x5bba46[_0x574dec(0x122)](_0x334cb1);}export function localStorageFile(){const _0x46571c=a0_0x587737,_0x4cbf52=a0_0x590bec[_0x46571c(0x107)](),_0x32cfce=a0_0x590bec[_0x46571c(0x118)](),_0x5b85c6=a0_0x590bec[_0x46571c(0x119)](),_0x592c94=a0_0x590bec[_0x46571c(0xfc)](),_0x370bf4=a0_0x590bec['listScreenshot'](),_0x5b919d=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x157dd7 of _0x5b919d){while(_0x157dd7[_0x46571c(0xe2)]){_0x157dd7[_0x46571c(0x11c)][_0x46571c(0x116)]();}}for(const _0x421caa of _0x4cbf52){createElementStorage(romsFile,_0x421caa,_0x46571c(0x10c)+_0x421caa);}for(const _0x1e3797 of _0x5b85c6){createElementStorage(statesFile,_0x1e3797,_0x46571c(0xe5)+_0x1e3797);}for(const _0x4709ae of _0x32cfce){createElementStorage(savesFile,_0x4709ae,_0x46571c(0xde)+_0x4709ae);}for(const _0x24bbcf of _0x592c94){createElementStorage(cheatsFile,_0x24bbcf,_0x46571c(0xd8)+_0x24bbcf);}for(const _0x2bfb27 of _0x370bf4){createElementStorage(screenshotsFile,_0x2bfb27,'/data/screenshots/'+_0x2bfb27);}}document['addEventListener'](a0_0x587737(0xf3),function(){const _0x4d6808=a0_0x587737;upLoadFile[_0x4d6808(0xd6)](_0x4d6808(0xe6),function(){const _0x33ea85=_0x4d6808,_0x393d27=upLoadFile[_0x33ea85(0xdf)][0x0][_0x33ea85(0x11e)];if(_0x393d27[_0x33ea85(0x120)](_0x33ea85(0xf9)))a0_0x590bec['uploadCheat'](upLoadFile);else _0x393d27[_0x33ea85(0x120)](_0x33ea85(0xf8))||_0x393d27['endsWith'](_0x33ea85(0xdc))||_0x393d27[_0x33ea85(0x120)](_0x33ea85(0xee))?a0_0x590bec[_0x33ea85(0x108)](upLoadFile):a0_0x590bec[_0x33ea85(0xfe)](upLoadFile);}),openLocalStorage['addEventListener'](_0x4d6808(0xe9),function(){const _0x12f91e=_0x4d6808,_0x4a0695=localStorage[_0x12f91e(0x11d)](_0x12f91e(0xf0));storage[_0x12f91e(0x121)][_0x12f91e(0x116)](_0x12f91e(0x11b)),intro[_0x12f91e(0x121)][_0x12f91e(0x102)](_0x12f91e(0x11b)),ingame[_0x12f91e(0x121)][_0x12f91e(0x102)](_0x12f91e(0x11b)),_0x4a0695===null||_0x4a0695===''?(dropboxRestore[_0x12f91e(0x121)][_0x12f91e(0x116)](_0x12f91e(0xdd)),dropboxBackup['classList'][_0x12f91e(0x116)](_0x12f91e(0xdd)),dropboxCloud[_0x12f91e(0x121)][_0x12f91e(0x116)](_0x12f91e(0xdd))):(dropboxRestore[_0x12f91e(0x121)]['add'](_0x12f91e(0xdd)),dropboxBackup[_0x12f91e(0x121)][_0x12f91e(0x102)](_0x12f91e(0xdd)),dropboxCloud[_0x12f91e(0x121)][_0x12f91e(0x102)](_0x12f91e(0xdd)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x5bd9(){const _0x2fc615=['onclick','toFixed','1038786PucshT','remove','rename','listSave','listState','flex-1','disable','lastChild','getItem','name','opacity0','endsWith','classList','appendChild','_dateState','MiB','EiB','40MWHpyP','addEventListener','home','/data/cheats/','rom','gap-16','YiB','.gbc','active','/data/saves/','files','confirm','replace','firstChild','screenshotsFile','removeItem','/data/states/','change','71553PjmdSv','12fmkiKE','click','GiB','Edit\x20filename','1783602OWumZX','savesFile','.bc','getElementById','uId','14426856NExYrn','rom-item','DOMContentLoaded','close','prompt','storage','setItem','.gba','.cheats','ZiB','2409975DPiROi','listCheat','22CmSnmI','uploadSavSta','fileSize','1014432dUFUdS','romsFile','add','_imageState','createElement','div','statesFile','listGame','uploadGame','KiB','11TCbcaX','textContent','/data/games/','onclose','showModal','slice','4lyHIBL','4222030wEKpJs','span'];a0_0x5bd9=function(){return _0x2fc615;};return a0_0x5bd9();}