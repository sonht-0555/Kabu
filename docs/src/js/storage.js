const a0_0x3e0053=a0_0x1092;(function(_0xbc8985,_0x2977da){const _0x10d839=a0_0x1092,_0x214356=_0xbc8985();while(!![]){try{const _0x44bd7c=-parseInt(_0x10d839(0xa7))/0x1*(parseInt(_0x10d839(0x9f))/0x2)+-parseInt(_0x10d839(0xba))/0x3+parseInt(_0x10d839(0xd2))/0x4*(parseInt(_0x10d839(0xca))/0x5)+parseInt(_0x10d839(0xb4))/0x6*(-parseInt(_0x10d839(0xd0))/0x7)+parseInt(_0x10d839(0x94))/0x8+-parseInt(_0x10d839(0x8e))/0x9*(parseInt(_0x10d839(0x9e))/0xa)+-parseInt(_0x10d839(0xb8))/0xb*(-parseInt(_0x10d839(0x8f))/0xc);if(_0x44bd7c===_0x2977da)break;else _0x214356['push'](_0x214356['shift']());}catch(_0x4210cf){_0x214356['push'](_0x214356['shift']());}}}(a0_0x3b5b,0xad8db));import*as a0_0x518ee7 from'./main.js';const mgbaStorage=document[a0_0x3e0053(0xcf)]('mgba-storage'),savesFile=document[a0_0x3e0053(0xcf)](a0_0x3e0053(0xa4)),romsFile=document[a0_0x3e0053(0xcf)](a0_0x3e0053(0xc3)),statesFile=document[a0_0x3e0053(0xcf)](a0_0x3e0053(0xbe)),screenshotsFile=document[a0_0x3e0053(0xcf)](a0_0x3e0053(0xbc));function humanFileSize(_0x89125c,_0x5b15c7=![],_0xbd8022=0x1){const _0x26aa63=a0_0x3e0053,_0x1af473=_0x5b15c7?0x3e8:0x400,_0x1a28b9=_0x5b15c7?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x26aa63(0xc6),'MiB','GiB',_0x26aa63(0xbd),_0x26aa63(0xd1),'EiB',_0x26aa63(0x9d),_0x26aa63(0xa0)];let _0x4bfdbd=-0x1;do{_0x89125c/=_0x1af473,++_0x4bfdbd;}while(Math[_0x26aa63(0xce)](_0x89125c)>=_0x1af473&&_0x4bfdbd<_0x1a28b9[_0x26aa63(0xc9)]-0x1);return _0x89125c[_0x26aa63(0xcb)](_0xbd8022)+'\x20'+_0x1a28b9[_0x4bfdbd];}function a0_0x1092(_0x5ed395,_0x113780){const _0x3b5bc4=a0_0x3b5b();return a0_0x1092=function(_0x1092c2,_0x52719c){_0x1092c2=_0x1092c2-0x8b;let _0x4b04ea=_0x3b5bc4[_0x1092c2];return _0x4b04ea;},a0_0x1092(_0x5ed395,_0x113780);}function createElementStorage(_0x4babcc,_0x9086d8,_0x1d33ce){const _0xb49f8b=a0_0x3e0053,_0x55553c=document['createElement']('div');_0x55553c[_0xb49f8b(0xb0)][_0xb49f8b(0x9b)](_0xb49f8b(0x99),_0xb49f8b(0xa5),_0xb49f8b(0xcd)),_0x4babcc[_0xb49f8b(0xb5)](_0x55553c);const _0x32e4fe=document['createElement']('span');_0x32e4fe[_0xb49f8b(0xab)]=_0x9086d8,_0x32e4fe[_0xb49f8b(0xb0)][_0xb49f8b(0x9b)](_0xb49f8b(0x99)),_0x55553c['appendChild'](_0x32e4fe),_0x32e4fe[_0xb49f8b(0x8b)]=()=>{const _0x159676=_0xb49f8b,_0x16e117=document['createElement'](_0x159676(0xc0));_0x16e117[_0x159676(0x8d)]=()=>_0x16e117['remove'](),_0x4babcc[_0x159676(0xb5)](_0x16e117);const _0x1c9cac=document['createElement'](_0x159676(0xad));_0x1c9cac[_0x159676(0xb0)][_0x159676(0x9b)]('storage',_0x159676(0x95),_0x159676(0x93)),_0x16e117[_0x159676(0xb5)](_0x1c9cac);const _0x114dde=document[_0x159676(0x92)](_0x159676(0xad));_0x114dde[_0x159676(0xb0)][_0x159676(0x9b)]('home','bc',_0x159676(0x99)),_0x1c9cac[_0x159676(0xb5)](_0x114dde);const _0x168541=document[_0x159676(0x92)](_0x159676(0xad));_0x168541[_0x159676(0xb0)][_0x159676(0x9b)](_0x159676(0x99)),_0x1c9cac[_0x159676(0xb5)](_0x168541);const _0x2c226c=document[_0x159676(0x92)](_0x159676(0xad));_0x2c226c['classList'][_0x159676(0x9b)](_0x159676(0x99)),_0x1c9cac[_0x159676(0xb5)](_0x2c226c);const _0x4415ee=document[_0x159676(0x92)]('div');_0x4415ee[_0x159676(0xb0)][_0x159676(0x9b)](_0x159676(0x99)),_0x1c9cac[_0x159676(0xb5)](_0x4415ee),mgbaStorage[_0x159676(0xb0)][_0x159676(0x9b)]('opacity0'),_0x114dde['onclick']=()=>{const _0x560927=_0x159676;_0x16e117['close'](),_0x16e117[_0x560927(0xb3)](),mgbaStorage[_0x560927(0xb0)][_0x560927(0xb3)](_0x560927(0xc2));};const _0x3a9316=document[_0x159676(0x92)](_0x159676(0xad));_0x3a9316[_0x159676(0xb0)][_0x159676(0x9b)](_0x159676(0x99),_0x159676(0xa5),'hw','cw'),_0x3a9316[_0x159676(0xab)]=_0x9086d8,_0x16e117[_0x159676(0xb5)](_0x3a9316);const _0x531f63=document['createElement'](_0x159676(0xad));_0x531f63['classList'][_0x159676(0x9b)](_0x159676(0xa3),'hw','cw','gap-16'),_0x16e117[_0x159676(0xb5)](_0x531f63);const _0x3f70a2=document[_0x159676(0x92)]('div');_0x3f70a2[_0x159676(0xb0)][_0x159676(0x9b)]('download','bc'),_0x531f63[_0x159676(0xb5)](_0x3f70a2),_0x3f70a2['onclick']=()=>{a0_0x518ee7['downloadFile'](_0x1d33ce,_0x9086d8);};const _0x578ef6=document['createElement']('div');_0x578ef6[_0x159676(0xb0)]['add'](_0x159676(0x96),'bc'),_0x531f63['appendChild'](_0x578ef6),_0x578ef6[_0x159676(0x8b)]=async()=>{const _0x3e420d=_0x159676;if(window['confirm'](_0x3e420d(0x9c)+_0x9086d8)){const _0x6296f4=_0x9086d8['replace'](/\....$/,'.gba');a0_0x518ee7[_0x3e420d(0xb7)](_0x1d33ce),localStorage['removeItem'](_0x6296f4+_0x3e420d(0xb6)+_0x9086d8[_0x3e420d(0xbb)](-0x1)),localStorage[_0x3e420d(0xaf)](_0x6296f4+'_imageState'+_0x9086d8[_0x3e420d(0xbb)](-0x1)),localStorageFile(),_0x16e117[_0x3e420d(0xbf)](),_0x16e117[_0x3e420d(0xb3)](),mgbaStorage['classList'][_0x3e420d(0xb3)]('opacity0');}};const _0x14e32a=document['createElement'](_0x159676(0xad));_0x14e32a[_0x159676(0xb0)][_0x159676(0x9b)](_0x159676(0xc7),'bc'),_0x531f63[_0x159676(0xb5)](_0x14e32a),_0x14e32a[_0x159676(0x8b)]=async()=>{const _0x230a81=_0x159676,_0x213094=window[_0x230a81(0xc1)](_0x230a81(0xa1),_0x9086d8);_0x213094!==null&&(a0_0x518ee7['editFile'](_0x1d33ce,_0x9086d8,_0x213094),localStorageFile(),_0x16e117[_0x230a81(0xbf)](),_0x16e117[_0x230a81(0xb3)](),mgbaStorage[_0x230a81(0xb0)][_0x230a81(0xb3)](_0x230a81(0xc2)));},_0x16e117[_0x159676(0xb9)]();};const _0x20945b=document[_0xb49f8b(0x92)]('span');_0x20945b[_0xb49f8b(0xab)]=humanFileSize(a0_0x518ee7[_0xb49f8b(0x9a)](_0x1d33ce)),_0x20945b['classList']['add'](_0xb49f8b(0xa2)),_0x55553c[_0xb49f8b(0xb5)](_0x20945b);}export function localStorageFile(){const _0x102946=a0_0x3e0053,_0xd057a4=a0_0x518ee7[_0x102946(0x90)]('games'),_0x52eefe=a0_0x518ee7[_0x102946(0x90)]('saves'),_0x53d157=a0_0x518ee7[_0x102946(0x90)](_0x102946(0xa9)),_0x2ef75b=a0_0x518ee7[_0x102946(0x90)](_0x102946(0xae)),_0x4a9183=a0_0x518ee7[_0x102946(0x90)](_0x102946(0xb2)),_0x81f361=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x8fefd4 of _0x81f361){while(_0x8fefd4[_0x102946(0xc8)]){_0x8fefd4[_0x102946(0xcc)][_0x102946(0xb3)]();}}for(const _0x2d630c of _0xd057a4){createElementStorage(romsFile,_0x2d630c,'/data/games/'+_0x2d630c);}for(const _0x5a89b2 of _0x53d157){createElementStorage(statesFile,_0x5a89b2,_0x102946(0xc4)+_0x5a89b2);}for(const _0x340bfd of _0x52eefe){createElementStorage(savesFile,_0x340bfd,_0x102946(0x98)+_0x340bfd);}for(const _0x5158ce of _0x2ef75b){createElementStorage(cheatsFile,_0x5158ce,'/data/cheats/'+_0x5158ce);}for(const _0x4f494e of _0x4a9183){createElementStorage(screenshotsFile,_0x4f494e,_0x102946(0xb1)+_0x4f494e);}}function a0_0x3b5b(){const _0x35b91e=['63OIeAnf','PiB','1772612OAeYYz','onclick','disable','onclose','171ENaUuW','2926056DEYuBA','listFiles','uploadFile','createElement','gap-10','2342968JkjtnN','right','delete','click','/data/saves/','flex-1','fileSize','add','Delete\x20this\x20file?','ZiB','665790qRaEEG','2btjtgv','YiB','Edit\x20filename','mib','actionDiv','savesFile','rom-item','DOMContentLoaded','490770TriOSA','change','states','uId','textContent','active','div','cheats','removeItem','classList','/data/screenshots/','screenshots','remove','25710FUBcNO','appendChild','_dateState','deleteFile','77ixDoZJ','showModal','1142496duEDwF','slice','screenshotsFile','TiB','statesFile','close','dialog','prompt','opacity0','romsFile','/data/states/','addEventListener','KiB','rename','firstChild','length','10KuPhcp','toFixed','lastChild','rom','abs','getElementById'];a0_0x3b5b=function(){return _0x35b91e;};return a0_0x3b5b();}document[a0_0x3e0053(0xc5)](a0_0x3e0053(0xa6),function(){const _0x18d0e8=a0_0x3e0053;upLoadFile[_0x18d0e8(0xc5)](_0x18d0e8(0xa8),function(){const _0x4fc3db=_0x18d0e8;a0_0x518ee7[_0x4fc3db(0x91)](upLoadFile);}),openLocalStorage[_0x18d0e8(0xc5)](_0x18d0e8(0x97),function(){const _0x2bcdde=_0x18d0e8,_0x3e6108=localStorage['getItem'](_0x2bcdde(0xaa));storage[_0x2bcdde(0xb0)][_0x2bcdde(0xb3)]('disable'),intro['classList'][_0x2bcdde(0x9b)](_0x2bcdde(0x8c)),ingame['classList'][_0x2bcdde(0x9b)](_0x2bcdde(0x8c)),_0x3e6108===null||_0x3e6108===''?(dropboxRestore['classList'][_0x2bcdde(0xb3)]('active'),dropboxBackup['classList'][_0x2bcdde(0xb3)]('active'),dropboxCloud[_0x2bcdde(0xb0)][_0x2bcdde(0xb3)](_0x2bcdde(0xac))):(dropboxRestore[_0x2bcdde(0xb0)][_0x2bcdde(0x9b)](_0x2bcdde(0xac)),dropboxBackup['classList'][_0x2bcdde(0x9b)](_0x2bcdde(0xac)),dropboxCloud[_0x2bcdde(0xb0)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});