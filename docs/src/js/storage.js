const a0_0x2967bf=a0_0x45a6;function a0_0x45a6(_0x4d2892,_0x33feda){const _0x392f9d=a0_0x392f();return a0_0x45a6=function(_0x45a6ff,_0x3d4e41){_0x45a6ff=_0x45a6ff-0x185;let _0x4d92b0=_0x392f9d[_0x45a6ff];return _0x4d92b0;},a0_0x45a6(_0x4d2892,_0x33feda);}function a0_0x392f(){const _0x46d41c=['createElement','/data/states/','opacity0','confirm','PiB','uploadSavSta','221696pPEBje','gap-10','length','listCheat','rom-item','.gba','Edit\x20filename','194543LXvdkC','firstChild','mgba-storage','disable','.gbc','abs','1882422gDCtXP','downloadFile','appendChild','51318tZWZVX','showModal','flex-1','toFixed','/data/games/','listGame','addEventListener','romsFile','deleteFile','listSave','KiB','delete','MiB','statesFile','.cheats','2zHQHLI','right','change','classList','remove','removeItem','close','4XwhyeQ','download','GiB','1054865JAvuvM','name','screenshotsFile','listScreenshot','listState','slice','mib','.bc','lastChild','click','DOMContentLoaded','div','savesFile','_imageState','onclick','49PjyYOD','gap-16','624375OdjgsH','5114920GgTdrR','rom','storage','uId','prompt','textContent','_dateState','replace','add','span','getElementById','onclose','endsWith','rename','uploadGame','active','dialog','TiB','/data/cheats/','YiB','Delete\x20this\x20file?'];a0_0x392f=function(){return _0x46d41c;};return a0_0x392f();}(function(_0x4d6902,_0xfda3e5){const _0x441a38=a0_0x45a6,_0x3c437e=_0x4d6902();while(!![]){try{const _0x39c5a7=-parseInt(_0x441a38(0x1c0))/0x1*(-parseInt(_0x441a38(0x1d8))/0x2)+parseInt(_0x441a38(0x19d))/0x3*(parseInt(_0x441a38(0x189))/0x4)+parseInt(_0x441a38(0x18c))/0x5+-parseInt(_0x441a38(0x1c9))/0x6+parseInt(_0x441a38(0x19b))/0x7*(-parseInt(_0x441a38(0x1b9))/0x8)+parseInt(_0x441a38(0x1c6))/0x9+-parseInt(_0x441a38(0x19e))/0xa;if(_0x39c5a7===_0xfda3e5)break;else _0x3c437e['push'](_0x3c437e['shift']());}catch(_0x5408b6){_0x3c437e['push'](_0x3c437e['shift']());}}}(a0_0x392f,0x1a8e2));import*as a0_0x4b5653 from'./main.js';const mgbaStorage=document[a0_0x2967bf(0x1a8)](a0_0x2967bf(0x1c2)),savesFile=document[a0_0x2967bf(0x1a8)](a0_0x2967bf(0x198)),romsFile=document[a0_0x2967bf(0x1a8)](a0_0x2967bf(0x1d0)),statesFile=document[a0_0x2967bf(0x1a8)](a0_0x2967bf(0x1d6)),screenshotsFile=document[a0_0x2967bf(0x1a8)](a0_0x2967bf(0x18e));function humanFileSize(_0x34a9c0,_0x1f696a=![],_0x354957=0x1){const _0x1989dc=a0_0x2967bf,_0x358d7d=_0x1f696a?0x3e8:0x400,_0x13d43b=_0x1f696a?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1989dc(0x1d3),_0x1989dc(0x1d5),_0x1989dc(0x18b),_0x1989dc(0x1af),_0x1989dc(0x1b7),'EiB','ZiB',_0x1989dc(0x1b1)];let _0x352afc=-0x1;do{_0x34a9c0/=_0x358d7d,++_0x352afc;}while(Math[_0x1989dc(0x1c5)](_0x34a9c0)>=_0x358d7d&&_0x352afc<_0x13d43b[_0x1989dc(0x1bb)]-0x1);return _0x34a9c0[_0x1989dc(0x1cc)](_0x354957)+'\x20'+_0x13d43b[_0x352afc];}function createElementStorage(_0x2e2664,_0xe8d060,_0x394a1f){const _0x48ad31=a0_0x2967bf,_0x82c7da=document[_0x48ad31(0x1b3)]('div');_0x82c7da[_0x48ad31(0x185)][_0x48ad31(0x1a6)](_0x48ad31(0x1cb),_0x48ad31(0x1bd),_0x48ad31(0x19f)),_0x2e2664[_0x48ad31(0x1c8)](_0x82c7da);const _0x5a8d09=document[_0x48ad31(0x1b3)]('span');_0x5a8d09[_0x48ad31(0x1a3)]=_0xe8d060,_0x5a8d09[_0x48ad31(0x185)][_0x48ad31(0x1a6)](_0x48ad31(0x1cb)),_0x82c7da['appendChild'](_0x5a8d09),_0x5a8d09['onclick']=()=>{const _0x4ac6d3=_0x48ad31,_0x352f36=document[_0x4ac6d3(0x1b3)](_0x4ac6d3(0x1ae));_0x352f36[_0x4ac6d3(0x1a9)]=()=>_0x352f36['remove'](),_0x2e2664['appendChild'](_0x352f36);const _0x5a69ee=document[_0x4ac6d3(0x1b3)]('div');_0x5a69ee[_0x4ac6d3(0x185)][_0x4ac6d3(0x1a6)](_0x4ac6d3(0x1a0),_0x4ac6d3(0x1d9),_0x4ac6d3(0x1ba)),_0x352f36['appendChild'](_0x5a69ee);const _0x4bdbab=document[_0x4ac6d3(0x1b3)](_0x4ac6d3(0x197));_0x4bdbab[_0x4ac6d3(0x185)][_0x4ac6d3(0x1a6)]('home','bc',_0x4ac6d3(0x1cb)),_0x5a69ee[_0x4ac6d3(0x1c8)](_0x4bdbab);const _0x3805d9=document[_0x4ac6d3(0x1b3)](_0x4ac6d3(0x197));_0x3805d9['classList'][_0x4ac6d3(0x1a6)](_0x4ac6d3(0x1cb)),_0x5a69ee[_0x4ac6d3(0x1c8)](_0x3805d9);const _0x5c57e8=document['createElement'](_0x4ac6d3(0x197));_0x5c57e8[_0x4ac6d3(0x185)]['add']('flex-1'),_0x5a69ee[_0x4ac6d3(0x1c8)](_0x5c57e8);const _0x58cf04=document[_0x4ac6d3(0x1b3)]('div');_0x58cf04['classList'][_0x4ac6d3(0x1a6)](_0x4ac6d3(0x1cb)),_0x5a69ee[_0x4ac6d3(0x1c8)](_0x58cf04),mgbaStorage[_0x4ac6d3(0x185)]['add'](_0x4ac6d3(0x1b5)),_0x4bdbab['onclick']=()=>{const _0x350491=_0x4ac6d3;_0x352f36[_0x350491(0x188)](),_0x352f36[_0x350491(0x186)](),mgbaStorage[_0x350491(0x185)][_0x350491(0x186)](_0x350491(0x1b5));};const _0x62fbd8=document[_0x4ac6d3(0x1b3)]('div');_0x62fbd8['classList'][_0x4ac6d3(0x1a6)](_0x4ac6d3(0x1cb),'rom-item','hw','cw'),_0x62fbd8['textContent']=_0xe8d060,_0x352f36[_0x4ac6d3(0x1c8)](_0x62fbd8);const _0x3519dd=document[_0x4ac6d3(0x1b3)](_0x4ac6d3(0x197));_0x3519dd[_0x4ac6d3(0x185)]['add']('actionDiv','hw','cw',_0x4ac6d3(0x19c)),_0x352f36[_0x4ac6d3(0x1c8)](_0x3519dd);const _0x138f6d=document[_0x4ac6d3(0x1b3)]('div');_0x138f6d['classList'][_0x4ac6d3(0x1a6)](_0x4ac6d3(0x18a),'bc'),_0x3519dd[_0x4ac6d3(0x1c8)](_0x138f6d),_0x138f6d['onclick']=()=>{const _0x2365ae=_0x4ac6d3;a0_0x4b5653[_0x2365ae(0x1c7)](_0x394a1f,_0xe8d060);};const _0x50c770=document['createElement'](_0x4ac6d3(0x197));_0x50c770[_0x4ac6d3(0x185)][_0x4ac6d3(0x1a6)](_0x4ac6d3(0x1d4),'bc'),_0x3519dd['appendChild'](_0x50c770),_0x50c770['onclick']=async()=>{const _0x1078e0=_0x4ac6d3;if(window[_0x1078e0(0x1b6)](_0x1078e0(0x1b2)+_0xe8d060)){const _0xa0ab99=_0xe8d060[_0x1078e0(0x1a5)](/\....$/,_0x1078e0(0x1be));a0_0x4b5653[_0x1078e0(0x1d1)](_0x394a1f),localStorage[_0x1078e0(0x187)](_0xa0ab99+_0x1078e0(0x1a4)+_0xe8d060['slice'](-0x1)),localStorage['removeItem'](_0xa0ab99+_0x1078e0(0x199)+_0xe8d060['slice'](-0x1)),localStorageFile(),_0x352f36[_0x1078e0(0x188)](),_0x352f36[_0x1078e0(0x186)](),mgbaStorage[_0x1078e0(0x185)][_0x1078e0(0x186)](_0x1078e0(0x1b5));}};const _0x64567f=document[_0x4ac6d3(0x1b3)](_0x4ac6d3(0x197));_0x64567f[_0x4ac6d3(0x185)][_0x4ac6d3(0x1a6)](_0x4ac6d3(0x1ab),'bc'),_0x3519dd['appendChild'](_0x64567f),_0x64567f[_0x4ac6d3(0x19a)]=async()=>{const _0x14bae6=_0x4ac6d3,_0x294e07=window[_0x14bae6(0x1a2)](_0x14bae6(0x1bf),_0xe8d060);if(_0x294e07!==null){const _0x262424=_0xe8d060[_0x14bae6(0x1a5)](/\....$/,'.gba'),_0x2990bd=_0x294e07[_0x14bae6(0x1a5)](/\....$/,_0x14bae6(0x1be)),_0x209070=_0x262424+_0x14bae6(0x1a4)+_0xe8d060[_0x14bae6(0x191)](-0x1),_0x30f06d=_0x262424+_0x14bae6(0x199)+_0xe8d060[_0x14bae6(0x191)](-0x1),_0x14ea1e=_0x2990bd+'_dateState'+_0x294e07[_0x14bae6(0x191)](-0x1),_0x3b22f2=_0x2990bd+_0x14bae6(0x199)+_0x294e07[_0x14bae6(0x191)](-0x1),_0x270763=localStorage['getItem'](_0x209070),_0x272e85=localStorage['getItem'](_0x30f06d);_0x270763!==null&&(localStorage['setItem'](_0x14ea1e,_0x270763),localStorage['removeItem'](_0x209070)),_0x272e85!==null&&(localStorage['setItem'](_0x3b22f2,_0x272e85),localStorage[_0x14bae6(0x187)](_0x30f06d)),a0_0x4b5653['editFile'](_0x394a1f,_0xe8d060,_0x294e07),localStorageFile(),_0x352f36[_0x14bae6(0x188)](),_0x352f36[_0x14bae6(0x186)](),mgbaStorage[_0x14bae6(0x185)][_0x14bae6(0x186)]('opacity0');}},_0x352f36[_0x4ac6d3(0x1ca)]();};const _0x371a3c=document[_0x48ad31(0x1b3)](_0x48ad31(0x1a7));_0x371a3c[_0x48ad31(0x1a3)]=humanFileSize(a0_0x4b5653['fileSize'](_0x394a1f)),_0x371a3c[_0x48ad31(0x185)][_0x48ad31(0x1a6)](_0x48ad31(0x192)),_0x82c7da[_0x48ad31(0x1c8)](_0x371a3c);}export function localStorageFile(){const _0x79f799=a0_0x2967bf,_0x567e30=a0_0x4b5653[_0x79f799(0x1ce)](),_0x83ec99=a0_0x4b5653[_0x79f799(0x1d2)](),_0x530786=a0_0x4b5653[_0x79f799(0x190)](),_0x444b2e=a0_0x4b5653[_0x79f799(0x1bc)](),_0x16149c=a0_0x4b5653[_0x79f799(0x18f)](),_0x46c6cc=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x20d800 of _0x46c6cc){while(_0x20d800[_0x79f799(0x1c1)]){_0x20d800[_0x79f799(0x194)][_0x79f799(0x186)]();}}for(const _0x1d324a of _0x567e30){createElementStorage(romsFile,_0x1d324a,_0x79f799(0x1cd)+_0x1d324a);}for(const _0x12b034 of _0x530786){createElementStorage(statesFile,_0x12b034,_0x79f799(0x1b4)+_0x12b034);}for(const _0x245e8b of _0x83ec99){createElementStorage(savesFile,_0x245e8b,'/data/saves/'+_0x245e8b);}for(const _0x2b91a2 of _0x444b2e){createElementStorage(cheatsFile,_0x2b91a2,_0x79f799(0x1b0)+_0x2b91a2);}for(const _0x2267cc of _0x16149c){createElementStorage(screenshotsFile,_0x2267cc,'/data/screenshots/'+_0x2267cc);}}document[a0_0x2967bf(0x1cf)](a0_0x2967bf(0x196),function(){const _0x35c717=a0_0x2967bf;upLoadFile['addEventListener'](_0x35c717(0x1da),function(){const _0x31152b=_0x35c717,_0x88782=upLoadFile['files'][0x0][_0x31152b(0x18d)];if(_0x88782[_0x31152b(0x1aa)](_0x31152b(0x1d7)))a0_0x4b5653['uploadCheat'](upLoadFile);else _0x88782[_0x31152b(0x1aa)](_0x31152b(0x1be))||_0x88782['endsWith'](_0x31152b(0x1c4))||_0x88782['endsWith'](_0x31152b(0x193))?a0_0x4b5653[_0x31152b(0x1ac)](upLoadFile):a0_0x4b5653[_0x31152b(0x1b8)](upLoadFile);}),openLocalStorage[_0x35c717(0x1cf)](_0x35c717(0x195),function(){const _0x1ee883=_0x35c717,_0x132382=localStorage['getItem'](_0x1ee883(0x1a1));storage[_0x1ee883(0x185)][_0x1ee883(0x186)]('disable'),intro[_0x1ee883(0x185)][_0x1ee883(0x1a6)](_0x1ee883(0x1c3)),ingame[_0x1ee883(0x185)][_0x1ee883(0x1a6)](_0x1ee883(0x1c3)),_0x132382===null||_0x132382===''?(dropboxRestore[_0x1ee883(0x185)][_0x1ee883(0x186)](_0x1ee883(0x1ad)),dropboxBackup['classList'][_0x1ee883(0x186)](_0x1ee883(0x1ad)),dropboxCloud[_0x1ee883(0x185)][_0x1ee883(0x186)](_0x1ee883(0x1ad))):(dropboxRestore[_0x1ee883(0x185)][_0x1ee883(0x1a6)](_0x1ee883(0x1ad)),dropboxBackup[_0x1ee883(0x185)][_0x1ee883(0x1a6)](_0x1ee883(0x1ad)),dropboxCloud['classList'][_0x1ee883(0x1a6)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});