const a0_0x5da6b3=a0_0x4e80;(function(_0x29c87b,_0x2e91e0){const _0x308444=a0_0x4e80,_0x314439=_0x29c87b();while(!![]){try{const _0x106228=-parseInt(_0x308444(0x196))/0x1+parseInt(_0x308444(0x181))/0x2+parseInt(_0x308444(0x17f))/0x3+parseInt(_0x308444(0x160))/0x4+parseInt(_0x308444(0x185))/0x5*(parseInt(_0x308444(0x170))/0x6)+-parseInt(_0x308444(0x175))/0x7*(-parseInt(_0x308444(0x187))/0x8)+-parseInt(_0x308444(0x18f))/0x9;if(_0x106228===_0x2e91e0)break;else _0x314439['push'](_0x314439['shift']());}catch(_0x8202f7){_0x314439['push'](_0x314439['shift']());}}}(a0_0x2ac5,0xb941b));import*as a0_0x5abdce from'./main.js';const mgbaStorage=document['getElementById'](a0_0x5da6b3(0x17e)),savesFile=document[a0_0x5da6b3(0x151)](a0_0x5da6b3(0x17b)),romsFile=document[a0_0x5da6b3(0x151)](a0_0x5da6b3(0x16f)),statesFile=document[a0_0x5da6b3(0x151)](a0_0x5da6b3(0x153)),screenshotsFile=document['getElementById']('screenshotsFile');function humanFileSize(_0x393ec7,_0xec1519=![],_0x4ff328=0x1){const _0x6807dc=a0_0x5da6b3,_0x33f9d4=_0xec1519?0x3e8:0x400,_0x1fe56e=_0xec1519?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x6807dc(0x192),'MiB',_0x6807dc(0x16e),_0x6807dc(0x150),_0x6807dc(0x164),_0x6807dc(0x16a),_0x6807dc(0x183),_0x6807dc(0x165)];let _0x3dce16=-0x1;do{_0x393ec7/=_0x33f9d4,++_0x3dce16;}while(Math[_0x6807dc(0x194)](_0x393ec7)>=_0x33f9d4&&_0x3dce16<_0x1fe56e['length']-0x1);return _0x393ec7[_0x6807dc(0x190)](_0x4ff328)+'\x20'+_0x1fe56e[_0x3dce16];}function createElementStorage(_0x2517f9,_0xed9577,_0x279cd8){const _0x33712d=a0_0x5da6b3,_0x238f7f=document[_0x33712d(0x18e)](_0x33712d(0x16c));_0x238f7f['classList'][_0x33712d(0x172)](_0x33712d(0x152),_0x33712d(0x197),'rom'),_0x2517f9[_0x33712d(0x179)](_0x238f7f);const _0x433833=document[_0x33712d(0x18e)](_0x33712d(0x193));_0x433833['textContent']=_0xed9577,_0x433833['classList']['add'](_0x33712d(0x152)),_0x238f7f[_0x33712d(0x179)](_0x433833),_0x433833[_0x33712d(0x154)]=()=>{const _0x251539=_0x33712d,_0x4c6153=document[_0x251539(0x18e)](_0x251539(0x17c));_0x4c6153[_0x251539(0x167)]=()=>_0x4c6153[_0x251539(0x18c)](),_0x2517f9[_0x251539(0x179)](_0x4c6153);const _0x495fe4=document[_0x251539(0x18e)](_0x251539(0x16c));_0x495fe4[_0x251539(0x158)][_0x251539(0x172)]('storage',_0x251539(0x188),_0x251539(0x177)),_0x4c6153[_0x251539(0x179)](_0x495fe4);const _0x56ed3e=document[_0x251539(0x18e)](_0x251539(0x16c));_0x56ed3e[_0x251539(0x158)][_0x251539(0x172)](_0x251539(0x14f),'bc',_0x251539(0x152)),_0x495fe4[_0x251539(0x179)](_0x56ed3e);const _0x1bfbba=document[_0x251539(0x18e)](_0x251539(0x16c));_0x1bfbba[_0x251539(0x158)]['add'](_0x251539(0x152)),_0x495fe4[_0x251539(0x179)](_0x1bfbba);const _0x193486=document[_0x251539(0x18e)](_0x251539(0x16c));_0x193486[_0x251539(0x158)]['add'](_0x251539(0x152)),_0x495fe4[_0x251539(0x179)](_0x193486);const _0x5bb360=document[_0x251539(0x18e)](_0x251539(0x16c));_0x5bb360[_0x251539(0x158)][_0x251539(0x172)](_0x251539(0x152)),_0x495fe4[_0x251539(0x179)](_0x5bb360),mgbaStorage['classList'][_0x251539(0x172)](_0x251539(0x198)),_0x56ed3e[_0x251539(0x154)]=()=>{const _0x3b9d22=_0x251539;_0x4c6153[_0x3b9d22(0x180)](),_0x4c6153[_0x3b9d22(0x18c)](),mgbaStorage[_0x3b9d22(0x158)]['remove'](_0x3b9d22(0x198));};const _0x1afe99=document[_0x251539(0x18e)](_0x251539(0x16c));_0x1afe99[_0x251539(0x158)]['add']('flex-1','rom-item','hw','cw'),_0x1afe99['textContent']=_0xed9577,_0x4c6153[_0x251539(0x179)](_0x1afe99);const _0x3af186=document['createElement'](_0x251539(0x16c));_0x3af186[_0x251539(0x158)][_0x251539(0x172)](_0x251539(0x159),'hw','cw',_0x251539(0x17a)),_0x4c6153[_0x251539(0x179)](_0x3af186);const _0x1a4787=document[_0x251539(0x18e)](_0x251539(0x16c));_0x1a4787[_0x251539(0x158)][_0x251539(0x172)](_0x251539(0x171),'bc'),_0x3af186['appendChild'](_0x1a4787),_0x1a4787[_0x251539(0x154)]=()=>{a0_0x5abdce['downloadFile'](_0x279cd8,_0xed9577);};const _0x28af6f=document[_0x251539(0x18e)](_0x251539(0x16c));_0x28af6f[_0x251539(0x158)][_0x251539(0x172)]('delete','bc'),_0x3af186[_0x251539(0x179)](_0x28af6f),_0x28af6f[_0x251539(0x154)]=async()=>{const _0x16bbb7=_0x251539;if(window[_0x16bbb7(0x178)](_0x16bbb7(0x18d)+_0xed9577)){const _0x2d101c=_0xed9577[_0x16bbb7(0x166)](/\....$/,_0x16bbb7(0x17d));a0_0x5abdce[_0x16bbb7(0x176)](_0x279cd8),localStorage['removeItem'](_0x2d101c+'_dateState'+_0xed9577[_0x16bbb7(0x16d)](-0x1)),localStorage[_0x16bbb7(0x174)](_0x2d101c+_0x16bbb7(0x173)+_0xed9577[_0x16bbb7(0x16d)](-0x1)),localStorageFile(),_0x4c6153['close'](),_0x4c6153[_0x16bbb7(0x18c)](),mgbaStorage[_0x16bbb7(0x158)][_0x16bbb7(0x18c)](_0x16bbb7(0x198));}};const _0x44e14b=document[_0x251539(0x18e)](_0x251539(0x16c));_0x44e14b[_0x251539(0x158)][_0x251539(0x172)](_0x251539(0x15b),'bc'),_0x3af186[_0x251539(0x179)](_0x44e14b),_0x44e14b['onclick']=async()=>{const _0x496431=_0x251539,_0x34d7d7=window[_0x496431(0x189)](_0x496431(0x195),_0xed9577);if(_0x34d7d7!==null){const _0x3e08a0=_0xed9577[_0x496431(0x166)](/\....$/,_0x496431(0x17d)),_0x57d508=_0x34d7d7[_0x496431(0x166)](/\....$/,'.gba'),_0x2e1866=_0x3e08a0+_0x496431(0x157)+_0xed9577[_0x496431(0x16d)](-0x1),_0x36e456=_0x3e08a0+_0x496431(0x173)+_0xed9577[_0x496431(0x16d)](-0x1),_0x411380=_0x57d508+_0x496431(0x157)+_0x34d7d7[_0x496431(0x16d)](-0x1),_0x311094=_0x57d508+_0x496431(0x173)+_0x34d7d7['slice'](-0x1),_0x2e95e2=localStorage[_0x496431(0x15a)](_0x2e1866),_0x53c912=localStorage[_0x496431(0x15a)](_0x36e456);_0x2e95e2!==null&&(localStorage[_0x496431(0x191)](_0x411380,_0x2e95e2),localStorage[_0x496431(0x174)](_0x2e1866)),_0x53c912!==null&&(localStorage[_0x496431(0x191)](_0x311094,_0x53c912),localStorage['removeItem'](_0x36e456)),a0_0x5abdce[_0x496431(0x184)](_0x279cd8,_0xed9577,_0x34d7d7),localStorageFile(),_0x4c6153['close'](),_0x4c6153['remove'](),mgbaStorage['classList']['remove']('opacity0');}},_0x4c6153['showModal']();};const _0x2b6946=document[_0x33712d(0x18e)](_0x33712d(0x193));_0x2b6946['textContent']=humanFileSize(a0_0x5abdce[_0x33712d(0x169)](_0x279cd8)),_0x2b6946[_0x33712d(0x158)][_0x33712d(0x172)](_0x33712d(0x162)),_0x238f7f[_0x33712d(0x179)](_0x2b6946);}function a0_0x4e80(_0x295ae9,_0x13cab4){const _0x2ac5b2=a0_0x2ac5();return a0_0x4e80=function(_0x4e80e4,_0x5c12e7){_0x4e80e4=_0x4e80e4-0x14d;let _0x4220b9=_0x2ac5b2[_0x4e80e4];return _0x4220b9;},a0_0x4e80(_0x295ae9,_0x13cab4);}function a0_0x2ac5(){const _0x266c1a=['savesFile','dialog','.gba','mgba-storage','3038151YaEPLd','close','1113774OxhmlL','uploadFile','ZiB','editFile','198935AlOrCX','/data/saves/','7432EZUqGv','right','prompt','listScreenshot','/data/games/','remove','Delete\x20this\x20file?','createElement','19294101JCkaQf','toFixed','setItem','KiB','span','abs','Edit\x20filename','7904ortpcT','rom-item','opacity0','listCheat','change','home','TiB','getElementById','flex-1','statesFile','onclick','listGame','/data/states/','_dateState','classList','actionDiv','getItem','rename','uId','DOMContentLoaded','disable','/data/cheats/','3664872tnxWlz','active','mib','addEventListener','PiB','YiB','replace','onclose','click','fileSize','EiB','/data/screenshots/','div','slice','GiB','romsFile','30BjlwXs','download','add','_imageState','removeItem','1701OrzPxg','deleteFile','gap-10','confirm','appendChild','gap-16'];a0_0x2ac5=function(){return _0x266c1a;};return a0_0x2ac5();}export function localStorageFile(){const _0x1920c5=a0_0x5da6b3,_0x40ae1a=a0_0x5abdce[_0x1920c5(0x155)](),_0x462c94=a0_0x5abdce['listSave'](),_0x36a039=a0_0x5abdce['listState'](),_0x36e4d3=a0_0x5abdce[_0x1920c5(0x14d)](),_0xec7f59=a0_0x5abdce[_0x1920c5(0x18a)](),_0x7575d6=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x912e3b of _0x7575d6){while(_0x912e3b['firstChild']){_0x912e3b['lastChild'][_0x1920c5(0x18c)]();}}for(const _0x47d5fe of _0x40ae1a){createElementStorage(romsFile,_0x47d5fe,_0x1920c5(0x18b)+_0x47d5fe);}for(const _0x5b712a of _0x36a039){createElementStorage(statesFile,_0x5b712a,_0x1920c5(0x156)+_0x5b712a);}for(const _0x18d5b5 of _0x462c94){createElementStorage(savesFile,_0x18d5b5,_0x1920c5(0x186)+_0x18d5b5);}for(const _0x4deb69 of _0x36e4d3){createElementStorage(cheatsFile,_0x4deb69,_0x1920c5(0x15f)+_0x4deb69);}for(const _0x2a0369 of _0xec7f59){createElementStorage(screenshotsFile,_0x2a0369,_0x1920c5(0x16b)+_0x2a0369);}}document['addEventListener'](a0_0x5da6b3(0x15d),function(){const _0x18f161=a0_0x5da6b3;upLoadFile[_0x18f161(0x163)](_0x18f161(0x14e),function(){const _0x92f40d=_0x18f161;a0_0x5abdce[_0x92f40d(0x182)](upLoadFile);}),openLocalStorage[_0x18f161(0x163)](_0x18f161(0x168),function(){const _0xc70e43=_0x18f161,_0x4e79ad=localStorage[_0xc70e43(0x15a)](_0xc70e43(0x15c));storage[_0xc70e43(0x158)][_0xc70e43(0x18c)](_0xc70e43(0x15e)),intro[_0xc70e43(0x158)][_0xc70e43(0x172)](_0xc70e43(0x15e)),ingame[_0xc70e43(0x158)][_0xc70e43(0x172)]('disable'),_0x4e79ad===null||_0x4e79ad===''?(dropboxRestore[_0xc70e43(0x158)][_0xc70e43(0x18c)](_0xc70e43(0x161)),dropboxBackup[_0xc70e43(0x158)][_0xc70e43(0x18c)](_0xc70e43(0x161)),dropboxCloud['classList'][_0xc70e43(0x18c)](_0xc70e43(0x161))):(dropboxRestore[_0xc70e43(0x158)][_0xc70e43(0x172)]('active'),dropboxBackup['classList'][_0xc70e43(0x172)](_0xc70e43(0x161)),dropboxCloud[_0xc70e43(0x158)][_0xc70e43(0x172)](_0xc70e43(0x161)));}),setTimeout(()=>{localStorageFile();},0xbb8);});