const a0_0x1749bd=a0_0x29e5;(function(_0xfbb0c4,_0x53f50d){const _0x11808d=a0_0x29e5,_0x41b4b1=_0xfbb0c4();while(!![]){try{const _0x5d9e34=-parseInt(_0x11808d(0x16f))/0x1+parseInt(_0x11808d(0x17d))/0x2*(-parseInt(_0x11808d(0x19e))/0x3)+parseInt(_0x11808d(0x1a4))/0x4*(parseInt(_0x11808d(0x18d))/0x5)+parseInt(_0x11808d(0x179))/0x6+-parseInt(_0x11808d(0x188))/0x7*(parseInt(_0x11808d(0x177))/0x8)+-parseInt(_0x11808d(0x1ab))/0x9*(-parseInt(_0x11808d(0x194))/0xa)+parseInt(_0x11808d(0x1ad))/0xb;if(_0x5d9e34===_0x53f50d)break;else _0x41b4b1['push'](_0x41b4b1['shift']());}catch(_0x331012){_0x41b4b1['push'](_0x41b4b1['shift']());}}}(a0_0x3f2b,0x4b017));import*as a0_0x3fe99a from'./main.js';const mgbaStorage=document[a0_0x1749bd(0x171)](a0_0x1749bd(0x1a7)),savesFile=document[a0_0x1749bd(0x171)](a0_0x1749bd(0x17a)),romsFile=document[a0_0x1749bd(0x171)](a0_0x1749bd(0x1ac)),statesFile=document[a0_0x1749bd(0x171)](a0_0x1749bd(0x1b8)),screenshotsFile=document[a0_0x1749bd(0x171)](a0_0x1749bd(0x16c));function humanFileSize(_0x4a6673,_0x2ad31d=![],_0x2f6157=0x1){const _0x4a57dd=a0_0x1749bd,_0x4b0b7e=_0x2ad31d?0x3e8:0x400,_0x41fc00=_0x2ad31d?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4a57dd(0x19f),_0x4a57dd(0x1b4),_0x4a57dd(0x17b),_0x4a57dd(0x16d),_0x4a57dd(0x18b),_0x4a57dd(0x19b),_0x4a57dd(0x182),_0x4a57dd(0x1b7)];let _0xe0caeb=-0x1;do{_0x4a6673/=_0x4b0b7e,++_0xe0caeb;}while(Math[_0x4a57dd(0x1b3)](_0x4a6673)>=_0x4b0b7e&&_0xe0caeb<_0x41fc00[_0x4a57dd(0x197)]-0x1);return _0x4a6673[_0x4a57dd(0x17e)](_0x2f6157)+'\x20'+_0x41fc00[_0xe0caeb];}function a0_0x3f2b(){const _0x384551=['gap-16','80aeiKlN','toFixed','onclick','listState','Edit\x20filename','ZiB','replace','rename','div','/data/states/','setItem','1751176VRnMjQ','removeItem','flex-1','PiB','textContent','1662395LNEvLN','DOMContentLoaded','.gba','close','add','.cheats','deleteFile','10EdXgFQ','/data/saves/','rom','length','getItem','span','appendChild','EiB','.bc','disable','3342uTcrDy','KiB','_dateState','/data/games/','files','classList','4ltLhKG','slice','uploadSavSta','mgba-storage','/data/screenshots/','storage','uId','1179342ydoohS','romsFile','1745854dUzFsU','remove','home','listSave','download','createElement','abs','MiB','click','fileSize','YiB','statesFile','editFile','listGame','confirm','lastChild','_imageState','endsWith','screenshotsFile','TiB','firstChild','90023JztNbW','active','getElementById','onclose','right','prompt','opacity0','uploadCheat','16duRqiB','addEventListener','1919466OkzDti','savesFile','GiB'];a0_0x3f2b=function(){return _0x384551;};return a0_0x3f2b();}function createElementStorage(_0x8fbdb6,_0xe5aa2a,_0x5af5e4){const _0x6275a5=a0_0x1749bd,_0x42226d=document['createElement'](_0x6275a5(0x185));_0x42226d['classList'][_0x6275a5(0x191)](_0x6275a5(0x18a),'rom-item',_0x6275a5(0x196)),_0x8fbdb6[_0x6275a5(0x19a)](_0x42226d);const _0x1a8872=document[_0x6275a5(0x1b2)](_0x6275a5(0x199));_0x1a8872[_0x6275a5(0x18c)]=_0xe5aa2a,_0x1a8872[_0x6275a5(0x1a3)][_0x6275a5(0x191)](_0x6275a5(0x18a)),_0x42226d[_0x6275a5(0x19a)](_0x1a8872),_0x1a8872[_0x6275a5(0x17f)]=()=>{const _0x3708aa=_0x6275a5,_0x1c55c7=document[_0x3708aa(0x1b2)]('dialog');_0x1c55c7[_0x3708aa(0x172)]=()=>_0x1c55c7[_0x3708aa(0x1ae)](),_0x8fbdb6[_0x3708aa(0x19a)](_0x1c55c7);const _0x2a2c25=document[_0x3708aa(0x1b2)](_0x3708aa(0x185));_0x2a2c25['classList']['add'](_0x3708aa(0x1a9),_0x3708aa(0x173),'gap-10'),_0x1c55c7[_0x3708aa(0x19a)](_0x2a2c25);const _0xa0bcec=document[_0x3708aa(0x1b2)](_0x3708aa(0x185));_0xa0bcec[_0x3708aa(0x1a3)]['add'](_0x3708aa(0x1af),'bc',_0x3708aa(0x18a)),_0x2a2c25[_0x3708aa(0x19a)](_0xa0bcec);const _0x2d43b5=document[_0x3708aa(0x1b2)](_0x3708aa(0x185));_0x2d43b5[_0x3708aa(0x1a3)]['add']('flex-1'),_0x2a2c25[_0x3708aa(0x19a)](_0x2d43b5);const _0x5da2b4=document[_0x3708aa(0x1b2)](_0x3708aa(0x185));_0x5da2b4[_0x3708aa(0x1a3)][_0x3708aa(0x191)](_0x3708aa(0x18a)),_0x2a2c25[_0x3708aa(0x19a)](_0x5da2b4);const _0x173146=document[_0x3708aa(0x1b2)]('div');_0x173146[_0x3708aa(0x1a3)][_0x3708aa(0x191)](_0x3708aa(0x18a)),_0x2a2c25['appendChild'](_0x173146),mgbaStorage[_0x3708aa(0x1a3)][_0x3708aa(0x191)](_0x3708aa(0x175)),_0xa0bcec[_0x3708aa(0x17f)]=()=>{const _0x241322=_0x3708aa;_0x1c55c7[_0x241322(0x190)](),_0x1c55c7[_0x241322(0x1ae)](),mgbaStorage['classList'][_0x241322(0x1ae)](_0x241322(0x175));};const _0x4799bb=document[_0x3708aa(0x1b2)]('div');_0x4799bb['classList'][_0x3708aa(0x191)](_0x3708aa(0x18a),'rom-item','hw','cw'),_0x4799bb[_0x3708aa(0x18c)]=_0xe5aa2a,_0x1c55c7[_0x3708aa(0x19a)](_0x4799bb);const _0xbcf709=document[_0x3708aa(0x1b2)](_0x3708aa(0x185));_0xbcf709[_0x3708aa(0x1a3)][_0x3708aa(0x191)]('actionDiv','hw','cw',_0x3708aa(0x17c)),_0x1c55c7['appendChild'](_0xbcf709);const _0x4c7847=document['createElement'](_0x3708aa(0x185));_0x4c7847[_0x3708aa(0x1a3)][_0x3708aa(0x191)](_0x3708aa(0x1b1),'bc'),_0xbcf709[_0x3708aa(0x19a)](_0x4c7847),_0x4c7847['onclick']=()=>{a0_0x3fe99a['downloadFile'](_0x5af5e4,_0xe5aa2a);};const _0x5a10b6=document['createElement'](_0x3708aa(0x185));_0x5a10b6['classList'][_0x3708aa(0x191)]('delete','bc'),_0xbcf709[_0x3708aa(0x19a)](_0x5a10b6),_0x5a10b6['onclick']=async()=>{const _0x372e99=_0x3708aa;if(window[_0x372e99(0x168)]('Delete\x20this\x20file?'+_0xe5aa2a)){const _0x58a6c7=_0xe5aa2a[_0x372e99(0x183)](/\....$/,_0x372e99(0x18f));a0_0x3fe99a[_0x372e99(0x193)](_0x5af5e4),localStorage[_0x372e99(0x189)](_0x58a6c7+_0x372e99(0x1a0)+_0xe5aa2a['slice'](-0x1)),localStorage[_0x372e99(0x189)](_0x58a6c7+_0x372e99(0x16a)+_0xe5aa2a[_0x372e99(0x1a5)](-0x1)),localStorageFile(),_0x1c55c7[_0x372e99(0x190)](),_0x1c55c7[_0x372e99(0x1ae)](),mgbaStorage[_0x372e99(0x1a3)]['remove'](_0x372e99(0x175));}};const _0xdd90a2=document['createElement'](_0x3708aa(0x185));_0xdd90a2[_0x3708aa(0x1a3)][_0x3708aa(0x191)](_0x3708aa(0x184),'bc'),_0xbcf709[_0x3708aa(0x19a)](_0xdd90a2),_0xdd90a2[_0x3708aa(0x17f)]=async()=>{const _0x596653=_0x3708aa,_0x39cd90=window[_0x596653(0x174)](_0x596653(0x181),_0xe5aa2a);if(_0x39cd90!==null){const _0x438690=_0xe5aa2a['replace'](/\....$/,_0x596653(0x18f)),_0x2b0040=_0x39cd90['replace'](/\....$/,_0x596653(0x18f)),_0x2218db=_0x438690+_0x596653(0x1a0)+_0xe5aa2a['slice'](-0x1),_0x3b1f1c=_0x438690+_0x596653(0x16a)+_0xe5aa2a[_0x596653(0x1a5)](-0x1),_0x3780de=_0x2b0040+_0x596653(0x1a0)+_0x39cd90[_0x596653(0x1a5)](-0x1),_0x1bcd62=_0x2b0040+'_imageState'+_0x39cd90[_0x596653(0x1a5)](-0x1),_0x4205b7=localStorage[_0x596653(0x198)](_0x2218db),_0xa15871=localStorage[_0x596653(0x198)](_0x3b1f1c);_0x4205b7!==null&&(localStorage[_0x596653(0x187)](_0x3780de,_0x4205b7),localStorage[_0x596653(0x189)](_0x2218db)),_0xa15871!==null&&(localStorage[_0x596653(0x187)](_0x1bcd62,_0xa15871),localStorage[_0x596653(0x189)](_0x3b1f1c)),a0_0x3fe99a[_0x596653(0x1b9)](_0x5af5e4,_0xe5aa2a,_0x39cd90),localStorageFile(),_0x1c55c7[_0x596653(0x190)](),_0x1c55c7[_0x596653(0x1ae)](),mgbaStorage[_0x596653(0x1a3)][_0x596653(0x1ae)]('opacity0');}},_0x1c55c7['showModal']();};const _0x16ac37=document['createElement'](_0x6275a5(0x199));_0x16ac37[_0x6275a5(0x18c)]=humanFileSize(a0_0x3fe99a[_0x6275a5(0x1b6)](_0x5af5e4)),_0x16ac37[_0x6275a5(0x1a3)]['add']('mib'),_0x42226d['appendChild'](_0x16ac37);}export function localStorageFile(){const _0x29eb83=a0_0x1749bd,_0x499c70=a0_0x3fe99a[_0x29eb83(0x1ba)](),_0xe56219=a0_0x3fe99a[_0x29eb83(0x1b0)](),_0x4e4dd0=a0_0x3fe99a[_0x29eb83(0x180)](),_0x195d0e=a0_0x3fe99a['listCheat'](),_0x284453=a0_0x3fe99a['listScreenshot'](),_0x3a43e7=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x26d3b6 of _0x3a43e7){while(_0x26d3b6[_0x29eb83(0x16e)]){_0x26d3b6[_0x29eb83(0x169)][_0x29eb83(0x1ae)]();}}for(const _0x49ca5c of _0x499c70){createElementStorage(romsFile,_0x49ca5c,_0x29eb83(0x1a1)+_0x49ca5c);}for(const _0x250cd5 of _0x4e4dd0){createElementStorage(statesFile,_0x250cd5,_0x29eb83(0x186)+_0x250cd5);}for(const _0xaaf9a8 of _0xe56219){createElementStorage(savesFile,_0xaaf9a8,_0x29eb83(0x195)+_0xaaf9a8);}for(const _0x4c4d15 of _0x195d0e){createElementStorage(cheatsFile,_0x4c4d15,'/data/cheats/'+_0x4c4d15);}for(const _0x360298 of _0x284453){createElementStorage(screenshotsFile,_0x360298,_0x29eb83(0x1a8)+_0x360298);}}function a0_0x29e5(_0x34aeeb,_0x2112a8){const _0x3f2bcf=a0_0x3f2b();return a0_0x29e5=function(_0x29e5ee,_0x473a67){_0x29e5ee=_0x29e5ee-0x168;let _0x51343f=_0x3f2bcf[_0x29e5ee];return _0x51343f;},a0_0x29e5(_0x34aeeb,_0x2112a8);}document[a0_0x1749bd(0x178)](a0_0x1749bd(0x18e),function(){const _0x1b9f17=a0_0x1749bd;upLoadFile[_0x1b9f17(0x178)]('change',function(){const _0x5f42f5=_0x1b9f17,_0x9b34e1=upLoadFile[_0x5f42f5(0x1a2)][0x0]['name'];if(_0x9b34e1['endsWith'](_0x5f42f5(0x192)))a0_0x3fe99a[_0x5f42f5(0x176)](upLoadFile);else _0x9b34e1[_0x5f42f5(0x16b)](_0x5f42f5(0x18f))||_0x9b34e1[_0x5f42f5(0x16b)]('.gbc')||_0x9b34e1[_0x5f42f5(0x16b)](_0x5f42f5(0x19c))?a0_0x3fe99a['uploadGame'](upLoadFile):a0_0x3fe99a[_0x5f42f5(0x1a6)](upLoadFile);}),openLocalStorage[_0x1b9f17(0x178)](_0x1b9f17(0x1b5),function(){const _0x56d600=_0x1b9f17,_0x2c2072=localStorage['getItem'](_0x56d600(0x1aa));storage['classList'][_0x56d600(0x1ae)](_0x56d600(0x19d)),intro[_0x56d600(0x1a3)][_0x56d600(0x191)](_0x56d600(0x19d)),ingame[_0x56d600(0x1a3)][_0x56d600(0x191)]('disable'),_0x2c2072===null||_0x2c2072===''?(dropboxRestore[_0x56d600(0x1a3)]['remove'](_0x56d600(0x170)),dropboxBackup[_0x56d600(0x1a3)][_0x56d600(0x1ae)](_0x56d600(0x170)),dropboxCloud[_0x56d600(0x1a3)][_0x56d600(0x1ae)](_0x56d600(0x170))):(dropboxRestore[_0x56d600(0x1a3)]['add'](_0x56d600(0x170)),dropboxBackup['classList'][_0x56d600(0x191)]('active'),dropboxCloud[_0x56d600(0x1a3)][_0x56d600(0x191)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});