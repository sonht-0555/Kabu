const a0_0x26d0cc=a0_0x52a9;(function(_0x124d2c,_0x18f372){const _0xbd3f00=a0_0x52a9,_0x58e171=_0x124d2c();while(!![]){try{const _0x561409=parseInt(_0xbd3f00(0xe3))/0x1*(parseInt(_0xbd3f00(0xb6))/0x2)+parseInt(_0xbd3f00(0xc6))/0x3*(-parseInt(_0xbd3f00(0xdd))/0x4)+parseInt(_0xbd3f00(0xe5))/0x5+-parseInt(_0xbd3f00(0xd1))/0x6*(-parseInt(_0xbd3f00(0xc8))/0x7)+parseInt(_0xbd3f00(0xa8))/0x8+-parseInt(_0xbd3f00(0xcc))/0x9+-parseInt(_0xbd3f00(0xac))/0xa;if(_0x561409===_0x18f372)break;else _0x58e171['push'](_0x58e171['shift']());}catch(_0x4db61d){_0x58e171['push'](_0x58e171['shift']());}}}(a0_0x953e,0x8222a));function a0_0x953e(){const _0x36679d=['listState','click','lastChild','downloadFile','slice','5663672ElVosP','getElementById','removeItem','rename','10607550PkqulM','listScreenshot','_dateState','firstChild','ZiB','PiB','download','listSave','change','DOMContentLoaded','2VRBjdi','toFixed','flex-1','remove','span','abs','delete','MiB','statesFile','prompt','/data/cheats/','fileSize','mgba-storage','onclose','replace','Delete\x20this\x20file?','3aYYBGX','storage','1701RgHqdd','disable','uploadFile','showModal','736110sNhaVJ','createElement','_imageState','appendChild','actionDiv','26136aEpJJN','textContent','length','mib','addEventListener','active','YiB','listGame','.gba','opacity0','div','rom-item','1679644SUppRT','/data/saves/','gap-16','/data/states/','add','onclick','150107UaVdyp','getItem','894580ivendp','close','savesFile','uId','deleteFile','screenshotsFile','rom','classList','GiB','confirm'];a0_0x953e=function(){return _0x36679d;};return a0_0x953e();}import*as a0_0x5457fb from'./main.js';const mgbaStorage=document[a0_0x26d0cc(0xa9)](a0_0x26d0cc(0xc2)),savesFile=document['getElementById'](a0_0x26d0cc(0xe7)),romsFile=document[a0_0x26d0cc(0xa9)]('romsFile'),statesFile=document['getElementById'](a0_0x26d0cc(0xbe)),screenshotsFile=document['getElementById'](a0_0x26d0cc(0x9e));function humanFileSize(_0x15a70d,_0x4b79d2=![],_0x4f8095=0x1){const _0x1ba710=a0_0x26d0cc,_0x4ce677=_0x4b79d2?0x3e8:0x400,_0x215485=_0x4b79d2?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x1ba710(0xbd),_0x1ba710(0xa1),'TiB',_0x1ba710(0xb1),'EiB',_0x1ba710(0xb0),_0x1ba710(0xd7)];let _0xa35f56=-0x1;do{_0x15a70d/=_0x4ce677,++_0xa35f56;}while(Math[_0x1ba710(0xbb)](_0x15a70d)>=_0x4ce677&&_0xa35f56<_0x215485[_0x1ba710(0xd3)]-0x1);return _0x15a70d[_0x1ba710(0xb7)](_0x4f8095)+'\x20'+_0x215485[_0xa35f56];}function createElementStorage(_0x5be9f1,_0x29bd1d,_0x504104){const _0x10a482=a0_0x26d0cc,_0x3b74f8=document['createElement'](_0x10a482(0xdb));_0x3b74f8[_0x10a482(0xa0)][_0x10a482(0xe1)](_0x10a482(0xb8),_0x10a482(0xdc),_0x10a482(0x9f)),_0x5be9f1[_0x10a482(0xcf)](_0x3b74f8);const _0x504571=document[_0x10a482(0xcd)](_0x10a482(0xba));_0x504571[_0x10a482(0xd2)]=_0x29bd1d,_0x504571[_0x10a482(0xa0)][_0x10a482(0xe1)](_0x10a482(0xb8)),_0x3b74f8['appendChild'](_0x504571),_0x504571['onclick']=()=>{const _0x1bf70c=_0x10a482,_0x55aff3=document[_0x1bf70c(0xcd)]('dialog');_0x55aff3[_0x1bf70c(0xc3)]=()=>_0x55aff3[_0x1bf70c(0xb9)](),_0x5be9f1[_0x1bf70c(0xcf)](_0x55aff3);const _0x13b384=document[_0x1bf70c(0xcd)](_0x1bf70c(0xdb));_0x13b384[_0x1bf70c(0xa0)]['add'](_0x1bf70c(0xc7),'right','gap-10'),_0x55aff3[_0x1bf70c(0xcf)](_0x13b384);const _0x8cd0a=document[_0x1bf70c(0xcd)]('div');_0x8cd0a[_0x1bf70c(0xa0)][_0x1bf70c(0xe1)]('home','bc','flex-1'),_0x13b384[_0x1bf70c(0xcf)](_0x8cd0a);const _0x5ee03c=document['createElement'](_0x1bf70c(0xdb));_0x5ee03c[_0x1bf70c(0xa0)][_0x1bf70c(0xe1)]('flex-1'),_0x13b384['appendChild'](_0x5ee03c);const _0x27873a=document[_0x1bf70c(0xcd)](_0x1bf70c(0xdb));_0x27873a[_0x1bf70c(0xa0)][_0x1bf70c(0xe1)]('flex-1'),_0x13b384[_0x1bf70c(0xcf)](_0x27873a);const _0x1b3465=document[_0x1bf70c(0xcd)]('div');_0x1b3465[_0x1bf70c(0xa0)][_0x1bf70c(0xe1)]('flex-1'),_0x13b384[_0x1bf70c(0xcf)](_0x1b3465),mgbaStorage[_0x1bf70c(0xa0)][_0x1bf70c(0xe1)](_0x1bf70c(0xda)),_0x8cd0a[_0x1bf70c(0xe2)]=()=>{const _0x26b288=_0x1bf70c;_0x55aff3['close'](),_0x55aff3[_0x26b288(0xb9)](),mgbaStorage[_0x26b288(0xa0)][_0x26b288(0xb9)](_0x26b288(0xda));};const _0x690bf3=document[_0x1bf70c(0xcd)]('div');_0x690bf3[_0x1bf70c(0xa0)][_0x1bf70c(0xe1)](_0x1bf70c(0xb8),'rom-item','hw','cw'),_0x690bf3['textContent']=_0x29bd1d,_0x55aff3['appendChild'](_0x690bf3);const _0x274a2d=document['createElement'](_0x1bf70c(0xdb));_0x274a2d[_0x1bf70c(0xa0)]['add'](_0x1bf70c(0xd0),'hw','cw',_0x1bf70c(0xdf)),_0x55aff3[_0x1bf70c(0xcf)](_0x274a2d);const _0x66ee12=document[_0x1bf70c(0xcd)](_0x1bf70c(0xdb));_0x66ee12[_0x1bf70c(0xa0)][_0x1bf70c(0xe1)](_0x1bf70c(0xb2),'bc'),_0x274a2d['appendChild'](_0x66ee12),_0x66ee12['onclick']=()=>{const _0x538219=_0x1bf70c;a0_0x5457fb[_0x538219(0xa6)](_0x504104,_0x29bd1d);};const _0x46d78d=document[_0x1bf70c(0xcd)](_0x1bf70c(0xdb));_0x46d78d[_0x1bf70c(0xa0)]['add'](_0x1bf70c(0xbc),'bc'),_0x274a2d[_0x1bf70c(0xcf)](_0x46d78d),_0x46d78d[_0x1bf70c(0xe2)]=async()=>{const _0x23b8de=_0x1bf70c;if(window[_0x23b8de(0xa2)](_0x23b8de(0xc5)+_0x29bd1d)){const _0xc0f11b=_0x29bd1d[_0x23b8de(0xc4)](/\....$/,_0x23b8de(0xd9));a0_0x5457fb[_0x23b8de(0x9d)](_0x504104),localStorage[_0x23b8de(0xaa)](_0xc0f11b+_0x23b8de(0xae)+_0x29bd1d[_0x23b8de(0xa7)](-0x1)),localStorage['removeItem'](_0xc0f11b+_0x23b8de(0xce)+_0x29bd1d[_0x23b8de(0xa7)](-0x1)),localStorageFile(),_0x55aff3['close'](),_0x55aff3[_0x23b8de(0xb9)](),mgbaStorage[_0x23b8de(0xa0)][_0x23b8de(0xb9)](_0x23b8de(0xda));}};const _0x5793c7=document[_0x1bf70c(0xcd)]('div');_0x5793c7['classList']['add'](_0x1bf70c(0xab),'bc'),_0x274a2d['appendChild'](_0x5793c7),_0x5793c7[_0x1bf70c(0xe2)]=async()=>{const _0x57a09b=_0x1bf70c,_0x277bae=window[_0x57a09b(0xbf)]('Edit\x20filename',_0x29bd1d);if(_0x277bae!==null){const _0x252014=_0x29bd1d['replace'](/\....$/,_0x57a09b(0xd9)),_0x587a4b=_0x277bae[_0x57a09b(0xc4)](/\....$/,_0x57a09b(0xd9)),_0xc828b5=_0x252014+'_dateState'+_0x29bd1d[_0x57a09b(0xa7)](-0x1),_0x4c8802=_0x252014+'_imageState'+_0x29bd1d[_0x57a09b(0xa7)](-0x1),_0x16d847=_0x587a4b+'_dateState'+_0x277bae['slice'](-0x1),_0x559d16=_0x587a4b+_0x57a09b(0xce)+_0x277bae[_0x57a09b(0xa7)](-0x1),_0xe49e9d=localStorage['getItem'](_0xc828b5),_0x36bd6b=localStorage[_0x57a09b(0xe4)](_0x4c8802);_0xe49e9d!==null&&(localStorage['setItem'](_0x16d847,_0xe49e9d),localStorage[_0x57a09b(0xaa)](_0xc828b5)),_0x36bd6b!==null&&(localStorage['setItem'](_0x559d16,_0x36bd6b),localStorage[_0x57a09b(0xaa)](_0x4c8802)),a0_0x5457fb['editFile'](_0x504104,_0x29bd1d,_0x277bae),localStorageFile(),_0x55aff3[_0x57a09b(0xe6)](),_0x55aff3[_0x57a09b(0xb9)](),mgbaStorage[_0x57a09b(0xa0)][_0x57a09b(0xb9)]('opacity0');}},_0x55aff3[_0x1bf70c(0xcb)]();};const _0x591788=document[_0x10a482(0xcd)]('span');_0x591788[_0x10a482(0xd2)]=humanFileSize(a0_0x5457fb[_0x10a482(0xc1)](_0x504104)),_0x591788['classList'][_0x10a482(0xe1)](_0x10a482(0xd4)),_0x3b74f8[_0x10a482(0xcf)](_0x591788);}export function localStorageFile(){const _0x4ef22f=a0_0x26d0cc,_0x2fe535=a0_0x5457fb[_0x4ef22f(0xd8)](),_0x26182a=a0_0x5457fb[_0x4ef22f(0xb3)](),_0x5f9d82=a0_0x5457fb[_0x4ef22f(0xa3)](),_0x28dd85=a0_0x5457fb['listCheat'](),_0x508e1c=a0_0x5457fb[_0x4ef22f(0xad)](),_0x2d4aab=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4d138d of _0x2d4aab){while(_0x4d138d[_0x4ef22f(0xaf)]){_0x4d138d[_0x4ef22f(0xa5)][_0x4ef22f(0xb9)]();}}for(const _0x3d4660 of _0x2fe535){createElementStorage(romsFile,_0x3d4660,'/data/games/'+_0x3d4660);}for(const _0x4e466c of _0x5f9d82){createElementStorage(statesFile,_0x4e466c,_0x4ef22f(0xe0)+_0x4e466c);}for(const _0x4644dc of _0x26182a){createElementStorage(savesFile,_0x4644dc,_0x4ef22f(0xde)+_0x4644dc);}for(const _0x44aab5 of _0x28dd85){createElementStorage(cheatsFile,_0x44aab5,_0x4ef22f(0xc0)+_0x44aab5);}for(const _0x10c32f of _0x508e1c){createElementStorage(screenshotsFile,_0x10c32f,'/data/screenshots/'+_0x10c32f);}}function a0_0x52a9(_0x208ff5,_0x523bf6){const _0x953e64=a0_0x953e();return a0_0x52a9=function(_0x52a9d6,_0x40ebf0){_0x52a9d6=_0x52a9d6-0x9c;let _0x575c1d=_0x953e64[_0x52a9d6];return _0x575c1d;},a0_0x52a9(_0x208ff5,_0x523bf6);}document['addEventListener'](a0_0x26d0cc(0xb5),function(){const _0x43de52=a0_0x26d0cc;upLoadFile[_0x43de52(0xd5)](_0x43de52(0xb4),function(){const _0x30ea44=_0x43de52;a0_0x5457fb[_0x30ea44(0xca)](upLoadFile);}),openLocalStorage[_0x43de52(0xd5)](_0x43de52(0xa4),function(){const _0x51d4ee=_0x43de52,_0x279936=localStorage[_0x51d4ee(0xe4)](_0x51d4ee(0x9c));storage[_0x51d4ee(0xa0)][_0x51d4ee(0xb9)](_0x51d4ee(0xc9)),intro['classList'][_0x51d4ee(0xe1)](_0x51d4ee(0xc9)),ingame[_0x51d4ee(0xa0)][_0x51d4ee(0xe1)](_0x51d4ee(0xc9)),_0x279936===null||_0x279936===''?(dropboxRestore['classList'][_0x51d4ee(0xb9)](_0x51d4ee(0xd6)),dropboxBackup['classList'][_0x51d4ee(0xb9)](_0x51d4ee(0xd6)),dropboxCloud[_0x51d4ee(0xa0)][_0x51d4ee(0xb9)](_0x51d4ee(0xd6))):(dropboxRestore[_0x51d4ee(0xa0)]['add'](_0x51d4ee(0xd6)),dropboxBackup[_0x51d4ee(0xa0)][_0x51d4ee(0xe1)]('active'),dropboxCloud[_0x51d4ee(0xa0)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});