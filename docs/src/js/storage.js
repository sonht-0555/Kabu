const a0_0x1178fc=a0_0xe0a1;(function(_0x409018,_0x31084c){const _0x2ea07a=a0_0xe0a1,_0x263325=_0x409018();while(!![]){try{const _0x26c0fe=parseInt(_0x2ea07a(0x19f))/0x1+parseInt(_0x2ea07a(0x191))/0x2+-parseInt(_0x2ea07a(0x1a4))/0x3*(-parseInt(_0x2ea07a(0x1b7))/0x4)+parseInt(_0x2ea07a(0x193))/0x5+parseInt(_0x2ea07a(0x196))/0x6*(-parseInt(_0x2ea07a(0x1b9))/0x7)+parseInt(_0x2ea07a(0x1a5))/0x8+-parseInt(_0x2ea07a(0x1d0))/0x9;if(_0x26c0fe===_0x31084c)break;else _0x263325['push'](_0x263325['shift']());}catch(_0x1d771){_0x263325['push'](_0x263325['shift']());}}}(a0_0xeffb,0x4810d));import*as a0_0x145e11 from'./main.js';const mgbaStorage=document[a0_0x1178fc(0x1a6)](a0_0x1178fc(0x1b0)),savesFile=document[a0_0x1178fc(0x1a6)](a0_0x1178fc(0x19b)),romsFile=document[a0_0x1178fc(0x1a6)](a0_0x1178fc(0x1bc)),statesFile=document[a0_0x1178fc(0x1a6)]('statesFile'),screenshotsFile=document[a0_0x1178fc(0x1a6)](a0_0x1178fc(0x1ce));function humanFileSize(_0x2d1f0a,_0x3dda22=![],_0x252c78=0x1){const _0x5a105e=a0_0x1178fc,_0x362abd=_0x3dda22?0x3e8:0x400,_0xedb6c8=_0x3dda22?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x5a105e(0x198),_0x5a105e(0x1c4),_0x5a105e(0x1b6),_0x5a105e(0x192),_0x5a105e(0x18d),_0x5a105e(0x1a8),_0x5a105e(0x18f)];let _0x113733=-0x1;do{_0x2d1f0a/=_0x362abd,++_0x113733;}while(Math['abs'](_0x2d1f0a)>=_0x362abd&&_0x113733<_0xedb6c8[_0x5a105e(0x1b2)]-0x1);return _0x2d1f0a[_0x5a105e(0x197)](_0x252c78)+'\x20'+_0xedb6c8[_0x113733];}function createElementStorage(_0x277bdf,_0x230c82,_0x235576){const _0x1d55d6=a0_0x1178fc,_0x243f54=document[_0x1d55d6(0x1c7)](_0x1d55d6(0x1b8));_0x243f54[_0x1d55d6(0x1ae)][_0x1d55d6(0x1be)]('flex-1',_0x1d55d6(0x19d),'rom'),_0x277bdf[_0x1d55d6(0x19a)](_0x243f54);const _0x278972=document[_0x1d55d6(0x1c7)](_0x1d55d6(0x1bd));_0x278972[_0x1d55d6(0x18a)]=_0x230c82,_0x278972['classList'][_0x1d55d6(0x1be)](_0x1d55d6(0x1ac)),_0x243f54[_0x1d55d6(0x19a)](_0x278972),_0x278972[_0x1d55d6(0x1a0)]=()=>{const _0x69d312=_0x1d55d6,_0x331395=document[_0x69d312(0x1c7)](_0x69d312(0x1ad));_0x331395['onclose']=()=>_0x331395[_0x69d312(0x1af)](),_0x277bdf['appendChild'](_0x331395);const _0x529108=document[_0x69d312(0x1c7)](_0x69d312(0x1b8));_0x529108['classList']['add']('storage',_0x69d312(0x1ca),_0x69d312(0x1aa)),_0x331395[_0x69d312(0x19a)](_0x529108);const _0x3a1270=document[_0x69d312(0x1c7)]('div');_0x3a1270[_0x69d312(0x1ae)]['add']('home','bc',_0x69d312(0x1ac)),_0x529108[_0x69d312(0x19a)](_0x3a1270);const _0x3ebefe=document[_0x69d312(0x1c7)](_0x69d312(0x1b8));_0x3ebefe[_0x69d312(0x1ae)][_0x69d312(0x1be)](_0x69d312(0x1ac)),_0x529108['appendChild'](_0x3ebefe);const _0x2d25c6=document['createElement'](_0x69d312(0x1b8));_0x2d25c6['classList'][_0x69d312(0x1be)](_0x69d312(0x1ac)),_0x529108[_0x69d312(0x19a)](_0x2d25c6);const _0x582930=document[_0x69d312(0x1c7)](_0x69d312(0x1b8));_0x582930['classList'][_0x69d312(0x1be)]('flex-1'),_0x529108['appendChild'](_0x582930),mgbaStorage[_0x69d312(0x1ae)][_0x69d312(0x1be)](_0x69d312(0x18b)),_0x3a1270[_0x69d312(0x1a0)]=()=>{const _0x402535=_0x69d312;_0x331395[_0x402535(0x1bb)](),_0x331395[_0x402535(0x1af)](),mgbaStorage[_0x402535(0x1ae)][_0x402535(0x1af)]('opacity0');};const _0x2b50ea=document[_0x69d312(0x1c7)](_0x69d312(0x1b8));_0x2b50ea[_0x69d312(0x1ae)][_0x69d312(0x1be)](_0x69d312(0x1ac),_0x69d312(0x19d),'hw','cw'),_0x2b50ea[_0x69d312(0x18a)]=_0x230c82,_0x331395[_0x69d312(0x19a)](_0x2b50ea);const _0x41aea4=document['createElement']('div');_0x41aea4[_0x69d312(0x1ae)]['add'](_0x69d312(0x1c2),'hw','cw',_0x69d312(0x1cd)),_0x331395['appendChild'](_0x41aea4);const _0x56cddf=document['createElement']('div');_0x56cddf['classList'][_0x69d312(0x1be)](_0x69d312(0x1c8),'bc'),_0x41aea4[_0x69d312(0x19a)](_0x56cddf),_0x56cddf[_0x69d312(0x1a0)]=()=>{const _0x3a7d93=_0x69d312;a0_0x145e11[_0x3a7d93(0x190)](_0x235576,_0x230c82);};const _0x47ae6d=document[_0x69d312(0x1c7)](_0x69d312(0x1b8));_0x47ae6d['classList'][_0x69d312(0x1be)]('delete','bc'),_0x41aea4['appendChild'](_0x47ae6d),_0x47ae6d[_0x69d312(0x1a0)]=async()=>{const _0x42e088=_0x69d312;if(window[_0x42e088(0x1cc)](_0x42e088(0x1c1)+_0x230c82)){const _0x2b5a24=_0x230c82[_0x42e088(0x1a2)](/\....$/,_0x42e088(0x1ba));a0_0x145e11[_0x42e088(0x1b4)](_0x235576),localStorage['removeItem'](_0x2b5a24+_0x42e088(0x1c3)+_0x230c82[_0x42e088(0x1cf)](-0x1)),localStorage[_0x42e088(0x1a9)](_0x2b5a24+'_imageState'+_0x230c82[_0x42e088(0x1cf)](-0x1)),localStorageFile(),_0x331395[_0x42e088(0x1bb)](),_0x331395[_0x42e088(0x1af)](),mgbaStorage['classList'][_0x42e088(0x1af)]('opacity0');}};const _0x96cd21=document[_0x69d312(0x1c7)]('div');_0x96cd21[_0x69d312(0x1ae)][_0x69d312(0x1be)](_0x69d312(0x1c6),'bc'),_0x41aea4['appendChild'](_0x96cd21),_0x96cd21[_0x69d312(0x1a0)]=async()=>{const _0x272826=_0x69d312,_0x59715f=window['prompt'](_0x272826(0x1b1),_0x230c82);_0x59715f!==null&&(a0_0x145e11[_0x272826(0x1c0)](_0x235576,_0x230c82,_0x59715f),localStorageFile(),_0x331395['close'](),_0x331395[_0x272826(0x1af)](),mgbaStorage[_0x272826(0x1ae)][_0x272826(0x1af)]('opacity0'));},_0x331395[_0x69d312(0x194)]();};const _0x46179c=document[_0x1d55d6(0x1c7)](_0x1d55d6(0x1bd));_0x46179c[_0x1d55d6(0x18a)]=humanFileSize(a0_0x145e11[_0x1d55d6(0x1a1)](_0x235576)),_0x46179c['classList'][_0x1d55d6(0x1be)]('mib'),_0x243f54[_0x1d55d6(0x19a)](_0x46179c);}function a0_0xeffb(){const _0x23089d=['textContent','opacity0','getItem','EiB','change','YiB','downloadFile','808232yZmtWf','PiB','139960FZZSeo','showModal','/data/screenshots/','619764eVdPkV','toFixed','MiB','firstChild','appendChild','savesFile','listFiles','rom-item','/data/states/','528013AOVQTi','onclick','fileSize','replace','screenshots','7233vFUbwB','3676168vatevN','getElementById','addEventListener','ZiB','removeItem','gap-10','active','flex-1','dialog','classList','remove','mgba-storage','Edit\x20filename','length','cheats','deleteFile','disable','TiB','244pZImqM','div','35NNuKxa','.gba','close','romsFile','span','add','click','editFile','Delete\x20this\x20file?','actionDiv','_dateState','GiB','/data/cheats/','rename','createElement','download','uploadFile','right','saves','confirm','gap-16','screenshotsFile','slice','6795558jOMRlB'];a0_0xeffb=function(){return _0x23089d;};return a0_0xeffb();}export function localStorageFile(){const _0x577cab=a0_0x1178fc,_0x67c845=a0_0x145e11[_0x577cab(0x19c)]('games'),_0x1f0f2f=a0_0x145e11['listFiles'](_0x577cab(0x1cb)),_0xe1464d=a0_0x145e11['listFiles']('states'),_0x39fa82=a0_0x145e11['listFiles'](_0x577cab(0x1b3)),_0x3c2a50=a0_0x145e11[_0x577cab(0x19c)](_0x577cab(0x1a3)),_0x1eb565=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x24c6cd of _0x1eb565){while(_0x24c6cd[_0x577cab(0x199)]){_0x24c6cd['lastChild'][_0x577cab(0x1af)]();}}for(const _0x169094 of _0x67c845){createElementStorage(romsFile,_0x169094,'/data/games/'+_0x169094);}for(const _0x57ea97 of _0xe1464d){createElementStorage(statesFile,_0x57ea97,_0x577cab(0x19e)+_0x57ea97);}for(const _0x42f93a of _0x1f0f2f){createElementStorage(savesFile,_0x42f93a,'/data/saves/'+_0x42f93a);}for(const _0x2f21e2 of _0x39fa82){createElementStorage(cheatsFile,_0x2f21e2,_0x577cab(0x1c5)+_0x2f21e2);}for(const _0x5210e6 of _0x3c2a50){createElementStorage(screenshotsFile,_0x5210e6,_0x577cab(0x195)+_0x5210e6);}}function a0_0xe0a1(_0x3ed5b2,_0x25b502){const _0xeffb34=a0_0xeffb();return a0_0xe0a1=function(_0xe0a176,_0x377609){_0xe0a176=_0xe0a176-0x18a;let _0x45aeab=_0xeffb34[_0xe0a176];return _0x45aeab;},a0_0xe0a1(_0x3ed5b2,_0x25b502);}document[a0_0x1178fc(0x1a7)]('DOMContentLoaded',function(){const _0xc4c6b7=a0_0x1178fc;upLoadFile[_0xc4c6b7(0x1a7)](_0xc4c6b7(0x18e),function(){const _0x5dede4=_0xc4c6b7;a0_0x145e11[_0x5dede4(0x1c9)](upLoadFile);}),openLocalStorage[_0xc4c6b7(0x1a7)](_0xc4c6b7(0x1bf),function(){const _0x132a3b=_0xc4c6b7,_0x10507a=localStorage[_0x132a3b(0x18c)]('uId');storage[_0x132a3b(0x1ae)]['remove']('disable'),intro[_0x132a3b(0x1ae)]['add'](_0x132a3b(0x1b5)),ingame[_0x132a3b(0x1ae)][_0x132a3b(0x1be)](_0x132a3b(0x1b5)),_0x10507a===null||_0x10507a===''?(dropboxRestore['classList'][_0x132a3b(0x1af)](_0x132a3b(0x1ab)),dropboxBackup[_0x132a3b(0x1ae)]['remove'](_0x132a3b(0x1ab)),dropboxCloud[_0x132a3b(0x1ae)][_0x132a3b(0x1af)]('active')):(dropboxRestore[_0x132a3b(0x1ae)][_0x132a3b(0x1be)]('active'),dropboxBackup[_0x132a3b(0x1ae)]['add']('active'),dropboxCloud[_0x132a3b(0x1ae)][_0x132a3b(0x1be)](_0x132a3b(0x1ab)));}),setTimeout(()=>{localStorageFile();},0xbb8);});