const a0_0x40f300=a0_0x2be0;(function(_0x143892,_0x90f4d5){const _0x33862d=a0_0x2be0,_0x4d2a9a=_0x143892();while(!![]){try{const _0x56b2dc=parseInt(_0x33862d(0xf6))/0x1+parseInt(_0x33862d(0xfa))/0x2+-parseInt(_0x33862d(0x101))/0x3+parseInt(_0x33862d(0xf3))/0x4*(-parseInt(_0x33862d(0xf1))/0x5)+-parseInt(_0x33862d(0xc4))/0x6*(parseInt(_0x33862d(0xc5))/0x7)+-parseInt(_0x33862d(0xdd))/0x8*(-parseInt(_0x33862d(0xdc))/0x9)+-parseInt(_0x33862d(0xe5))/0xa*(-parseInt(_0x33862d(0xd9))/0xb);if(_0x56b2dc===_0x90f4d5)break;else _0x4d2a9a['push'](_0x4d2a9a['shift']());}catch(_0x105ca0){_0x4d2a9a['push'](_0x4d2a9a['shift']());}}}(a0_0x2a7f,0xd1835));import*as a0_0xe34802 from'./main.js';function a0_0x2be0(_0x4199ca,_0x50faef){const _0x2a7f15=a0_0x2a7f();return a0_0x2be0=function(_0x2be073,_0x3719ba){_0x2be073=_0x2be073-0xc4;let _0x321734=_0x2a7f15[_0x2be073];return _0x321734;},a0_0x2be0(_0x4199ca,_0x50faef);}const mgbaStorage=document['getElementById']('mgba-storage'),savesFile=document[a0_0x40f300(0xde)](a0_0x40f300(0xff)),romsFile=document[a0_0x40f300(0xde)](a0_0x40f300(0xf9)),statesFile=document[a0_0x40f300(0xde)](a0_0x40f300(0x104)),screenshotsFile=document[a0_0x40f300(0xde)]('screenshotsFile');function a0_0x2a7f(){const _0x1da18d=['rom-item','onclose','games','listFiles','mib','screenshots','textContent','fileSize','firstChild','ZiB','appendChild','delete','11ivbgUU','disable','MiB','108vjbQhP','1001600btJbWz','getElementById','gap-10','cheats','right','GiB','.gba','YiB','6471760bUaKsi','DOMContentLoaded','Edit\x20filename','close','/data/games/','downloadFile','div','EiB','lastChild','opacity0','replace','gap-16','101000jjdSCW','removeItem','168ybaSrO','classList','active','569987uMrSYD','slice','rom','romsFile','2734462AuWbXJ','/data/states/','states','TiB','span','savesFile','storage','4027515TWwEsh','editFile','onclick','statesFile','uId','add','deleteFile','click','6NfifkJ','7264068mNuyBn','createElement','addEventListener','remove','showModal','PiB','flex-1','actionDiv'];a0_0x2a7f=function(){return _0x1da18d;};return a0_0x2a7f();}function humanFileSize(_0x20882e,_0xa3cba6=![],_0x192aad=0x1){const _0x34e1a0=a0_0x40f300,_0x5bace9=_0xa3cba6?0x3e8:0x400,_0x59034a=_0xa3cba6?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x34e1a0(0xdb),_0x34e1a0(0xe2),_0x34e1a0(0xfd),_0x34e1a0(0xca),_0x34e1a0(0xec),_0x34e1a0(0xd6),_0x34e1a0(0xe4)];let _0x234af9=-0x1;do{_0x20882e/=_0x5bace9,++_0x234af9;}while(Math['abs'](_0x20882e)>=_0x5bace9&&_0x234af9<_0x59034a['length']-0x1);return _0x20882e['toFixed'](_0x192aad)+'\x20'+_0x59034a[_0x234af9];}function createElementStorage(_0x59e2e0,_0x3558e3,_0x5ce68f){const _0x2c0784=a0_0x40f300,_0x1c6874=document[_0x2c0784(0xc6)](_0x2c0784(0xeb));_0x1c6874[_0x2c0784(0xf4)]['add'](_0x2c0784(0xcb),_0x2c0784(0xcd),_0x2c0784(0xf8)),_0x59e2e0[_0x2c0784(0xd7)](_0x1c6874);const _0x25e95c=document[_0x2c0784(0xc6)](_0x2c0784(0xfe));_0x25e95c[_0x2c0784(0xd3)]=_0x3558e3,_0x25e95c['classList']['add'](_0x2c0784(0xcb)),_0x1c6874['appendChild'](_0x25e95c),_0x25e95c['onclick']=()=>{const _0x4e300e=_0x2c0784,_0x415bf0=document[_0x4e300e(0xc6)]('dialog');_0x415bf0[_0x4e300e(0xce)]=()=>_0x415bf0[_0x4e300e(0xc8)](),_0x59e2e0['appendChild'](_0x415bf0);const _0x34904e=document[_0x4e300e(0xc6)](_0x4e300e(0xeb));_0x34904e[_0x4e300e(0xf4)]['add'](_0x4e300e(0x100),_0x4e300e(0xe1),_0x4e300e(0xdf)),_0x415bf0['appendChild'](_0x34904e);const _0xfffea7=document[_0x4e300e(0xc6)](_0x4e300e(0xeb));_0xfffea7[_0x4e300e(0xf4)][_0x4e300e(0x106)]('home','bc',_0x4e300e(0xcb)),_0x34904e['appendChild'](_0xfffea7);const _0x54839c=document['createElement']('div');_0x54839c[_0x4e300e(0xf4)][_0x4e300e(0x106)]('flex-1'),_0x34904e[_0x4e300e(0xd7)](_0x54839c);const _0x4b75d4=document['createElement'](_0x4e300e(0xeb));_0x4b75d4['classList'][_0x4e300e(0x106)](_0x4e300e(0xcb)),_0x34904e[_0x4e300e(0xd7)](_0x4b75d4);const _0x4f6b2d=document[_0x4e300e(0xc6)]('div');_0x4f6b2d[_0x4e300e(0xf4)]['add']('flex-1'),_0x34904e[_0x4e300e(0xd7)](_0x4f6b2d),mgbaStorage[_0x4e300e(0xf4)][_0x4e300e(0x106)](_0x4e300e(0xee)),_0xfffea7[_0x4e300e(0x103)]=()=>{const _0x2b2b6a=_0x4e300e;_0x415bf0[_0x2b2b6a(0xe8)](),_0x415bf0[_0x2b2b6a(0xc8)](),mgbaStorage['classList'][_0x2b2b6a(0xc8)](_0x2b2b6a(0xee));};const _0x30c9c4=document[_0x4e300e(0xc6)]('div');_0x30c9c4['classList']['add'](_0x4e300e(0xcb),_0x4e300e(0xcd),'hw','cw'),_0x30c9c4[_0x4e300e(0xd3)]=_0x3558e3,_0x415bf0[_0x4e300e(0xd7)](_0x30c9c4);const _0x530a5d=document['createElement'](_0x4e300e(0xeb));_0x530a5d[_0x4e300e(0xf4)]['add'](_0x4e300e(0xcc),'hw','cw',_0x4e300e(0xf0)),_0x415bf0[_0x4e300e(0xd7)](_0x530a5d);const _0xd9a58d=document[_0x4e300e(0xc6)](_0x4e300e(0xeb));_0xd9a58d[_0x4e300e(0xf4)]['add']('download','bc'),_0x530a5d['appendChild'](_0xd9a58d),_0xd9a58d[_0x4e300e(0x103)]=()=>{const _0x103949=_0x4e300e;a0_0xe34802[_0x103949(0xea)](_0x5ce68f,_0x3558e3);};const _0x5dbbae=document['createElement']('div');_0x5dbbae[_0x4e300e(0xf4)][_0x4e300e(0x106)](_0x4e300e(0xd8),'bc'),_0x530a5d[_0x4e300e(0xd7)](_0x5dbbae),_0x5dbbae[_0x4e300e(0x103)]=async()=>{const _0x50ed97=_0x4e300e;if(window['confirm']('Delete\x20this\x20file?'+_0x3558e3)){const _0x46097b=_0x3558e3[_0x50ed97(0xef)](/\....$/,_0x50ed97(0xe3));a0_0xe34802[_0x50ed97(0x107)](_0x5ce68f),localStorage['removeItem'](_0x46097b+'_dateState'+_0x3558e3[_0x50ed97(0xf7)](-0x1)),localStorage[_0x50ed97(0xf2)](_0x46097b+'_imageState'+_0x3558e3[_0x50ed97(0xf7)](-0x1)),localStorageFile(),_0x415bf0[_0x50ed97(0xe8)](),_0x415bf0[_0x50ed97(0xc8)](),mgbaStorage[_0x50ed97(0xf4)][_0x50ed97(0xc8)]('opacity0');}};const _0x5e55fe=document['createElement'](_0x4e300e(0xeb));_0x5e55fe[_0x4e300e(0xf4)][_0x4e300e(0x106)]('rename','bc'),_0x530a5d[_0x4e300e(0xd7)](_0x5e55fe),_0x5e55fe[_0x4e300e(0x103)]=async()=>{const _0x40384b=_0x4e300e,_0x55231d=window['prompt'](_0x40384b(0xe7),_0x3558e3);_0x55231d!==null&&(a0_0xe34802[_0x40384b(0x102)](_0x5ce68f,_0x3558e3,_0x55231d),localStorageFile(),_0x415bf0['close'](),_0x415bf0[_0x40384b(0xc8)](),mgbaStorage[_0x40384b(0xf4)]['remove']('opacity0'));},_0x415bf0[_0x4e300e(0xc9)]();};const _0x28917f=document[_0x2c0784(0xc6)](_0x2c0784(0xfe));_0x28917f[_0x2c0784(0xd3)]=humanFileSize(a0_0xe34802[_0x2c0784(0xd4)](_0x5ce68f)),_0x28917f['classList'][_0x2c0784(0x106)](_0x2c0784(0xd1)),_0x1c6874[_0x2c0784(0xd7)](_0x28917f);}export function localStorageFile(){const _0x5d322a=a0_0x40f300,_0x1f0836=a0_0xe34802[_0x5d322a(0xd0)](_0x5d322a(0xcf)),_0x1f974f=a0_0xe34802[_0x5d322a(0xd0)]('saves'),_0xb49dc9=a0_0xe34802[_0x5d322a(0xd0)](_0x5d322a(0xfc)),_0x532400=a0_0xe34802[_0x5d322a(0xd0)](_0x5d322a(0xe0)),_0x478901=a0_0xe34802[_0x5d322a(0xd0)](_0x5d322a(0xd2)),_0x10e371=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x54ab1e of _0x10e371){while(_0x54ab1e[_0x5d322a(0xd5)]){_0x54ab1e[_0x5d322a(0xed)][_0x5d322a(0xc8)]();}}for(const _0x109971 of _0x1f0836){createElementStorage(romsFile,_0x109971,_0x5d322a(0xe9)+_0x109971);}for(const _0x174737 of _0xb49dc9){createElementStorage(statesFile,_0x174737,_0x5d322a(0xfb)+_0x174737);}for(const _0x24e9ee of _0x1f974f){createElementStorage(savesFile,_0x24e9ee,'/data/saves/'+_0x24e9ee);}for(const _0x4cbcb7 of _0x532400){createElementStorage(cheatsFile,_0x4cbcb7,'/data/cheats/'+_0x4cbcb7);}for(const _0xf9d858 of _0x478901){createElementStorage(screenshotsFile,_0xf9d858,'/data/screenshots/'+_0xf9d858);}}document[a0_0x40f300(0xc7)](a0_0x40f300(0xe6),function(){const _0x4cac39=a0_0x40f300;upLoadFile[_0x4cac39(0xc7)]('change',function(){a0_0xe34802['uploadFile'](upLoadFile);}),openLocalStorage['addEventListener'](_0x4cac39(0x108),function(){const _0x15060e=_0x4cac39,_0x9660cc=localStorage['getItem'](_0x15060e(0x105));storage[_0x15060e(0xf4)][_0x15060e(0xc8)](_0x15060e(0xda)),intro[_0x15060e(0xf4)][_0x15060e(0x106)](_0x15060e(0xda)),ingame[_0x15060e(0xf4)][_0x15060e(0x106)]('disable'),_0x9660cc===null||_0x9660cc===''?(dropboxRestore['classList'][_0x15060e(0xc8)](_0x15060e(0xf5)),dropboxBackup[_0x15060e(0xf4)][_0x15060e(0xc8)]('active'),dropboxCloud[_0x15060e(0xf4)][_0x15060e(0xc8)](_0x15060e(0xf5))):(dropboxRestore['classList'][_0x15060e(0x106)](_0x15060e(0xf5)),dropboxBackup[_0x15060e(0xf4)][_0x15060e(0x106)]('active'),dropboxCloud['classList'][_0x15060e(0x106)](_0x15060e(0xf5)));}),setTimeout(()=>{localStorageFile();},0xbb8);});