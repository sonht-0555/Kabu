const a0_0x1fa587=a0_0x4b37;function a0_0x4b37(_0x654df6,_0x21ee49){const _0x1a17e2=a0_0x1a17();return a0_0x4b37=function(_0x4b3788,_0x231d8d){_0x4b3788=_0x4b3788-0x12c;let _0x4bbc12=_0x1a17e2[_0x4b3788];return _0x4bbc12;},a0_0x4b37(_0x654df6,_0x21ee49);}(function(_0x59149d,_0x290b71){const _0x41e430=a0_0x4b37,_0x4045a2=_0x59149d();while(!![]){try{const _0x4542d0=parseInt(_0x41e430(0x133))/0x1+-parseInt(_0x41e430(0x165))/0x2*(-parseInt(_0x41e430(0x16f))/0x3)+parseInt(_0x41e430(0x170))/0x4*(parseInt(_0x41e430(0x139))/0x5)+parseInt(_0x41e430(0x15a))/0x6*(parseInt(_0x41e430(0x12f))/0x7)+-parseInt(_0x41e430(0x17d))/0x8*(-parseInt(_0x41e430(0x13b))/0x9)+parseInt(_0x41e430(0x171))/0xa*(parseInt(_0x41e430(0x17c))/0xb)+parseInt(_0x41e430(0x143))/0xc*(-parseInt(_0x41e430(0x12e))/0xd);if(_0x4542d0===_0x290b71)break;else _0x4045a2['push'](_0x4045a2['shift']());}catch(_0x922bbd){_0x4045a2['push'](_0x4045a2['shift']());}}}(a0_0x1a17,0x9d641));import*as a0_0x54688c from'./main.js';function a0_0x1a17(){const _0x115e41=['_dateState','42Umehpc','onclick','setItem','remove','.bc','actionDiv','Edit\x20filename','showModal','.cheats','disable','uId','1142XTNHGS','appendChild','screenshotsFile','fileSize','uploadSavSta','rom-item','mib','downloadFile','toFixed','span','6219eQkLtV','76VWgsXf','70mabCMa','change','createElement','EiB','listState','mgba-storage','firstChild','close','statesFile','rom','length','1174349DqBUZj','158888QIDqER','/data/games/','endsWith','rename','66159106jlaNEe','1185170brCZsD','uploadGame','getElementById','dialog','1210185OFkPka','Delete\x20this\x20file?','getItem','removeItem','opacity0','GiB','302445dDxWqT','listSave','117sdqMFv','div','editFile','storage','add','home','gap-16','prompt','12ZtGdjY','abs','active','/data/states/','listGame','_imageState','TiB','classList','KiB','gap-10','uploadCheat','.gba','YiB','click','files','flex-1','download','slice','listScreenshot','textContent','addEventListener','replace'];a0_0x1a17=function(){return _0x115e41;};return a0_0x1a17();}const mgbaStorage=document[a0_0x1fa587(0x131)](a0_0x1fa587(0x176)),savesFile=document[a0_0x1fa587(0x131)]('savesFile'),romsFile=document[a0_0x1fa587(0x131)]('romsFile'),statesFile=document[a0_0x1fa587(0x131)](a0_0x1fa587(0x179)),screenshotsFile=document['getElementById'](a0_0x1fa587(0x167));function humanFileSize(_0x3f2fc9,_0x328e77=![],_0x282fa5=0x1){const _0x2fc393=a0_0x1fa587,_0x1d5960=_0x328e77?0x3e8:0x400,_0x29fb40=_0x328e77?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2fc393(0x14b),'MiB',_0x2fc393(0x138),_0x2fc393(0x149),'PiB',_0x2fc393(0x174),'ZiB',_0x2fc393(0x14f)];let _0x3a3521=-0x1;do{_0x3f2fc9/=_0x1d5960,++_0x3a3521;}while(Math[_0x2fc393(0x144)](_0x3f2fc9)>=_0x1d5960&&_0x3a3521<_0x29fb40[_0x2fc393(0x17b)]-0x1);return _0x3f2fc9[_0x2fc393(0x16d)](_0x282fa5)+'\x20'+_0x29fb40[_0x3a3521];}function createElementStorage(_0x3b75c8,_0x393eee,_0x1ce282){const _0x43d17e=a0_0x1fa587,_0x127cb9=document[_0x43d17e(0x173)]('div');_0x127cb9[_0x43d17e(0x14a)]['add'](_0x43d17e(0x152),'rom-item',_0x43d17e(0x17a)),_0x3b75c8['appendChild'](_0x127cb9);const _0x4190c0=document[_0x43d17e(0x173)](_0x43d17e(0x16e));_0x4190c0[_0x43d17e(0x156)]=_0x393eee,_0x4190c0[_0x43d17e(0x14a)][_0x43d17e(0x13f)](_0x43d17e(0x152)),_0x127cb9[_0x43d17e(0x166)](_0x4190c0),_0x4190c0[_0x43d17e(0x15b)]=()=>{const _0x111b34=_0x43d17e,_0x5d6945=document['createElement'](_0x111b34(0x132));_0x5d6945['onclose']=()=>_0x5d6945[_0x111b34(0x15d)](),_0x3b75c8[_0x111b34(0x166)](_0x5d6945);const _0xf46cc8=document['createElement']('div');_0xf46cc8['classList'][_0x111b34(0x13f)](_0x111b34(0x13e),'right',_0x111b34(0x14c)),_0x5d6945[_0x111b34(0x166)](_0xf46cc8);const _0x123fa4=document[_0x111b34(0x173)](_0x111b34(0x13c));_0x123fa4[_0x111b34(0x14a)][_0x111b34(0x13f)](_0x111b34(0x140),'bc','flex-1'),_0xf46cc8[_0x111b34(0x166)](_0x123fa4);const _0x11ef48=document['createElement'](_0x111b34(0x13c));_0x11ef48['classList'][_0x111b34(0x13f)](_0x111b34(0x152)),_0xf46cc8[_0x111b34(0x166)](_0x11ef48);const _0x23608a=document[_0x111b34(0x173)]('div');_0x23608a[_0x111b34(0x14a)][_0x111b34(0x13f)](_0x111b34(0x152)),_0xf46cc8['appendChild'](_0x23608a);const _0x564325=document[_0x111b34(0x173)](_0x111b34(0x13c));_0x564325['classList'][_0x111b34(0x13f)](_0x111b34(0x152)),_0xf46cc8[_0x111b34(0x166)](_0x564325),mgbaStorage[_0x111b34(0x14a)][_0x111b34(0x13f)]('opacity0'),_0x123fa4[_0x111b34(0x15b)]=()=>{const _0x166d0d=_0x111b34;_0x5d6945[_0x166d0d(0x178)](),_0x5d6945[_0x166d0d(0x15d)](),mgbaStorage['classList'][_0x166d0d(0x15d)](_0x166d0d(0x137));};const _0x3a6297=document[_0x111b34(0x173)](_0x111b34(0x13c));_0x3a6297[_0x111b34(0x14a)][_0x111b34(0x13f)](_0x111b34(0x152),_0x111b34(0x16a),'hw','cw'),_0x3a6297[_0x111b34(0x156)]=_0x393eee,_0x5d6945[_0x111b34(0x166)](_0x3a6297);const _0x4cd660=document[_0x111b34(0x173)](_0x111b34(0x13c));_0x4cd660[_0x111b34(0x14a)][_0x111b34(0x13f)](_0x111b34(0x15f),'hw','cw',_0x111b34(0x141)),_0x5d6945[_0x111b34(0x166)](_0x4cd660);const _0x4c97c4=document[_0x111b34(0x173)](_0x111b34(0x13c));_0x4c97c4[_0x111b34(0x14a)][_0x111b34(0x13f)](_0x111b34(0x153),'bc'),_0x4cd660['appendChild'](_0x4c97c4),_0x4c97c4['onclick']=()=>{const _0x2c03f5=_0x111b34;a0_0x54688c[_0x2c03f5(0x16c)](_0x1ce282,_0x393eee);};const _0x4625c3=document['createElement']('div');_0x4625c3[_0x111b34(0x14a)][_0x111b34(0x13f)]('delete','bc'),_0x4cd660['appendChild'](_0x4625c3),_0x4625c3[_0x111b34(0x15b)]=async()=>{const _0xded167=_0x111b34;if(window['confirm'](_0xded167(0x134)+_0x393eee)){const _0x4efbef=_0x393eee[_0xded167(0x158)](/\....$/,'.gba');a0_0x54688c['deleteFile'](_0x1ce282),localStorage['removeItem'](_0x4efbef+_0xded167(0x159)+_0x393eee[_0xded167(0x154)](-0x1)),localStorage['removeItem'](_0x4efbef+'_imageState'+_0x393eee[_0xded167(0x154)](-0x1)),localStorageFile(),_0x5d6945['close'](),_0x5d6945[_0xded167(0x15d)](),mgbaStorage['classList'][_0xded167(0x15d)]('opacity0');}};const _0x3e02ac=document[_0x111b34(0x173)](_0x111b34(0x13c));_0x3e02ac[_0x111b34(0x14a)][_0x111b34(0x13f)](_0x111b34(0x12d),'bc'),_0x4cd660[_0x111b34(0x166)](_0x3e02ac),_0x3e02ac[_0x111b34(0x15b)]=async()=>{const _0x305d76=_0x111b34,_0x1df187=window[_0x305d76(0x142)](_0x305d76(0x160),_0x393eee);if(_0x1df187!==null){const _0x5caabd=_0x393eee[_0x305d76(0x158)](/\....$/,_0x305d76(0x14e)),_0x20c2bb=_0x1df187[_0x305d76(0x158)](/\....$/,_0x305d76(0x14e)),_0x542a7a=_0x5caabd+_0x305d76(0x159)+_0x393eee[_0x305d76(0x154)](-0x1),_0x411e13=_0x5caabd+_0x305d76(0x148)+_0x393eee[_0x305d76(0x154)](-0x1),_0x4d654e=_0x20c2bb+_0x305d76(0x159)+_0x1df187['slice'](-0x1),_0xe4b08c=_0x20c2bb+_0x305d76(0x148)+_0x1df187[_0x305d76(0x154)](-0x1),_0x542c13=localStorage[_0x305d76(0x135)](_0x542a7a),_0x4c5595=localStorage[_0x305d76(0x135)](_0x411e13);_0x542c13!==null&&(localStorage['setItem'](_0x4d654e,_0x542c13),localStorage[_0x305d76(0x136)](_0x542a7a)),_0x4c5595!==null&&(localStorage[_0x305d76(0x15c)](_0xe4b08c,_0x4c5595),localStorage[_0x305d76(0x136)](_0x411e13)),a0_0x54688c[_0x305d76(0x13d)](_0x1ce282,_0x393eee,_0x1df187),localStorageFile(),_0x5d6945['close'](),_0x5d6945[_0x305d76(0x15d)](),mgbaStorage[_0x305d76(0x14a)][_0x305d76(0x15d)](_0x305d76(0x137));}},_0x5d6945[_0x111b34(0x161)]();};const _0x201b23=document[_0x43d17e(0x173)]('span');_0x201b23[_0x43d17e(0x156)]=humanFileSize(a0_0x54688c[_0x43d17e(0x168)](_0x1ce282)),_0x201b23[_0x43d17e(0x14a)]['add'](_0x43d17e(0x16b)),_0x127cb9['appendChild'](_0x201b23);}export function localStorageFile(){const _0x2ad3c6=a0_0x1fa587,_0x5386a7=a0_0x54688c[_0x2ad3c6(0x147)](),_0x33b6d5=a0_0x54688c[_0x2ad3c6(0x13a)](),_0x2d7821=a0_0x54688c[_0x2ad3c6(0x175)](),_0x1492f7=a0_0x54688c['listCheat'](),_0xdea672=a0_0x54688c[_0x2ad3c6(0x155)](),_0x36c3fa=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x40b23d of _0x36c3fa){while(_0x40b23d[_0x2ad3c6(0x177)]){_0x40b23d['lastChild'][_0x2ad3c6(0x15d)]();}}for(const _0x412be7 of _0x5386a7){createElementStorage(romsFile,_0x412be7,_0x2ad3c6(0x17e)+_0x412be7);}for(const _0x2f8ba8 of _0x2d7821){createElementStorage(statesFile,_0x2f8ba8,_0x2ad3c6(0x146)+_0x2f8ba8);}for(const _0x414790 of _0x33b6d5){createElementStorage(savesFile,_0x414790,'/data/saves/'+_0x414790);}for(const _0x1e8e6c of _0x1492f7){createElementStorage(cheatsFile,_0x1e8e6c,'/data/cheats/'+_0x1e8e6c);}for(const _0x31cc8e of _0xdea672){createElementStorage(screenshotsFile,_0x31cc8e,'/data/screenshots/'+_0x31cc8e);}}document[a0_0x1fa587(0x157)]('DOMContentLoaded',function(){const _0x54693d=a0_0x1fa587;upLoadFile[_0x54693d(0x157)](_0x54693d(0x172),function(){const _0x3c41b3=_0x54693d,_0x4a0e32=upLoadFile[_0x3c41b3(0x151)][0x0]['name'];if(_0x4a0e32[_0x3c41b3(0x12c)](_0x3c41b3(0x162)))a0_0x54688c[_0x3c41b3(0x14d)](upLoadFile);else _0x4a0e32[_0x3c41b3(0x12c)](_0x3c41b3(0x14e))||_0x4a0e32[_0x3c41b3(0x12c)]('.gbc')||_0x4a0e32[_0x3c41b3(0x12c)](_0x3c41b3(0x15e))?a0_0x54688c[_0x3c41b3(0x130)](upLoadFile):a0_0x54688c[_0x3c41b3(0x169)](upLoadFile);}),openLocalStorage['addEventListener'](_0x54693d(0x150),function(){const _0x5b0900=_0x54693d,_0x110a92=localStorage[_0x5b0900(0x135)](_0x5b0900(0x164));storage['classList'][_0x5b0900(0x15d)](_0x5b0900(0x163)),intro[_0x5b0900(0x14a)][_0x5b0900(0x13f)]('disable'),ingame[_0x5b0900(0x14a)][_0x5b0900(0x13f)](_0x5b0900(0x163)),_0x110a92===null||_0x110a92===''?(dropboxRestore['classList'][_0x5b0900(0x15d)](_0x5b0900(0x145)),dropboxBackup[_0x5b0900(0x14a)][_0x5b0900(0x15d)](_0x5b0900(0x145)),dropboxCloud[_0x5b0900(0x14a)][_0x5b0900(0x15d)]('active')):(dropboxRestore[_0x5b0900(0x14a)][_0x5b0900(0x13f)](_0x5b0900(0x145)),dropboxBackup['classList']['add'](_0x5b0900(0x145)),dropboxCloud[_0x5b0900(0x14a)][_0x5b0900(0x13f)](_0x5b0900(0x145)));}),setTimeout(()=>{localStorageFile();},0xbb8);});