const a0_0x66d716=a0_0x2424;(function(_0x47328c,_0x3e92e9){const _0x597966=a0_0x2424,_0x3a9dd4=_0x47328c();while(!![]){try{const _0x193af8=-parseInt(_0x597966(0xc4))/0x1+parseInt(_0x597966(0xbd))/0x2+-parseInt(_0x597966(0xb1))/0x3*(parseInt(_0x597966(0xbb))/0x4)+parseInt(_0x597966(0xa3))/0x5+-parseInt(_0x597966(0x81))/0x6+parseInt(_0x597966(0x8a))/0x7+parseInt(_0x597966(0x7f))/0x8*(parseInt(_0x597966(0x9c))/0x9);if(_0x193af8===_0x3e92e9)break;else _0x3a9dd4['push'](_0x3a9dd4['shift']());}catch(_0x286dbf){_0x3a9dd4['push'](_0x3a9dd4['shift']());}}}(a0_0x2806,0x9f32e));import*as a0_0x45bb04 from'./main.js';const mgbaStorage=document[a0_0x66d716(0xb3)]('mgba-storage'),savesFile=document[a0_0x66d716(0xb3)](a0_0x66d716(0xa5)),romsFile=document['getElementById'](a0_0x66d716(0xae)),statesFile=document[a0_0x66d716(0xb3)](a0_0x66d716(0x8e)),screenshotsFile=document['getElementById']('screenshotsFile');function a0_0x2424(_0x27b4fb,_0x48cc42){const _0x2806f8=a0_0x2806();return a0_0x2424=function(_0x2424fd,_0x369d1d){_0x2424fd=_0x2424fd-0x7b;let _0x19f3d9=_0x2806f8[_0x2424fd];return _0x19f3d9;},a0_0x2424(_0x27b4fb,_0x48cc42);}function a0_0x2806(){const _0x491a13=['dialog','statesFile','KiB','span','getItem','flex-1','change','div','lastChild','rom-item','opacity0','appendChild','home','ZiB','onclick','543501ZTrAgy','gap-16','classList','delete','add','listFiles','gap-10','2014635DsmIsv','confirm','savesFile','showModal','mib','uId','abs','download','YiB','uploadFile','EiB','romsFile','/data/games/','textContent','53277pGnxlT','click','getElementById','length','/data/cheats/','toFixed','/data/states/','removeItem','editFile','_dateState','168rdxYwy','fileSize','1884606hgrsdW','onclose','downloadFile','remove','prompt','/data/saves/','PiB','224107qntbpX','Delete\x20this\x20file?','rename','right','addEventListener','_imageState','disable','rom','createElement','GiB','136VCCdIV','TiB','6600936JdCdsO','actionDiv','close','DOMContentLoaded','cheats','slice','.gba','Edit\x20filename','active','2452632VFJgaP','games','storage'];a0_0x2806=function(){return _0x491a13;};return a0_0x2806();}function humanFileSize(_0x114404,_0x3d6531=![],_0x40d130=0x1){const _0xfb0fa0=a0_0x66d716,_0x49b610=_0x3d6531?0x3e8:0x400,_0x461656=_0x3d6531?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0xfb0fa0(0x8f),'MiB',_0xfb0fa0(0x7e),_0xfb0fa0(0x80),_0xfb0fa0(0xc3),_0xfb0fa0(0xad),_0xfb0fa0(0x9a),_0xfb0fa0(0xab)];let _0x4330fc=-0x1;do{_0x114404/=_0x49b610,++_0x4330fc;}while(Math[_0xfb0fa0(0xa9)](_0x114404)>=_0x49b610&&_0x4330fc<_0x461656[_0xfb0fa0(0xb4)]-0x1);return _0x114404[_0xfb0fa0(0xb6)](_0x40d130)+'\x20'+_0x461656[_0x4330fc];}function createElementStorage(_0xefc13e,_0x47ec85,_0x220754){const _0x10f7fe=a0_0x66d716,_0x5c1aaa=document[_0x10f7fe(0x7d)](_0x10f7fe(0x94));_0x5c1aaa['classList'][_0x10f7fe(0xa0)]('flex-1',_0x10f7fe(0x96),_0x10f7fe(0x7c)),_0xefc13e[_0x10f7fe(0x98)](_0x5c1aaa);const _0x35af85=document[_0x10f7fe(0x7d)](_0x10f7fe(0x90));_0x35af85['textContent']=_0x47ec85,_0x35af85['classList']['add'](_0x10f7fe(0x92)),_0x5c1aaa['appendChild'](_0x35af85),_0x35af85[_0x10f7fe(0x9b)]=()=>{const _0x1ee3a3=_0x10f7fe,_0x149621=document[_0x1ee3a3(0x7d)](_0x1ee3a3(0x8d));_0x149621[_0x1ee3a3(0xbe)]=()=>_0x149621[_0x1ee3a3(0xc0)](),_0xefc13e[_0x1ee3a3(0x98)](_0x149621);const _0x7f9236=document[_0x1ee3a3(0x7d)](_0x1ee3a3(0x94));_0x7f9236[_0x1ee3a3(0x9e)][_0x1ee3a3(0xa0)](_0x1ee3a3(0x8c),_0x1ee3a3(0xc7),_0x1ee3a3(0xa2)),_0x149621['appendChild'](_0x7f9236);const _0x25c362=document[_0x1ee3a3(0x7d)](_0x1ee3a3(0x94));_0x25c362[_0x1ee3a3(0x9e)][_0x1ee3a3(0xa0)](_0x1ee3a3(0x99),'bc','flex-1'),_0x7f9236['appendChild'](_0x25c362);const _0x110178=document[_0x1ee3a3(0x7d)](_0x1ee3a3(0x94));_0x110178[_0x1ee3a3(0x9e)][_0x1ee3a3(0xa0)](_0x1ee3a3(0x92)),_0x7f9236[_0x1ee3a3(0x98)](_0x110178);const _0x396fbc=document[_0x1ee3a3(0x7d)]('div');_0x396fbc[_0x1ee3a3(0x9e)][_0x1ee3a3(0xa0)](_0x1ee3a3(0x92)),_0x7f9236[_0x1ee3a3(0x98)](_0x396fbc);const _0x403359=document[_0x1ee3a3(0x7d)]('div');_0x403359[_0x1ee3a3(0x9e)]['add']('flex-1'),_0x7f9236[_0x1ee3a3(0x98)](_0x403359),mgbaStorage[_0x1ee3a3(0x9e)][_0x1ee3a3(0xa0)](_0x1ee3a3(0x97)),_0x25c362[_0x1ee3a3(0x9b)]=()=>{const _0x1d7ce8=_0x1ee3a3;_0x149621['close'](),_0x149621[_0x1d7ce8(0xc0)](),mgbaStorage[_0x1d7ce8(0x9e)][_0x1d7ce8(0xc0)](_0x1d7ce8(0x97));};const _0x39368c=document['createElement'](_0x1ee3a3(0x94));_0x39368c[_0x1ee3a3(0x9e)]['add'](_0x1ee3a3(0x92),_0x1ee3a3(0x96),'hw','cw'),_0x39368c[_0x1ee3a3(0xb0)]=_0x47ec85,_0x149621[_0x1ee3a3(0x98)](_0x39368c);const _0x313d19=document[_0x1ee3a3(0x7d)](_0x1ee3a3(0x94));_0x313d19[_0x1ee3a3(0x9e)][_0x1ee3a3(0xa0)](_0x1ee3a3(0x82),'hw','cw',_0x1ee3a3(0x9d)),_0x149621[_0x1ee3a3(0x98)](_0x313d19);const _0x39ef2c=document[_0x1ee3a3(0x7d)](_0x1ee3a3(0x94));_0x39ef2c[_0x1ee3a3(0x9e)][_0x1ee3a3(0xa0)](_0x1ee3a3(0xaa),'bc'),_0x313d19['appendChild'](_0x39ef2c),_0x39ef2c['onclick']=()=>{const _0xb5686e=_0x1ee3a3;a0_0x45bb04[_0xb5686e(0xbf)](_0x220754,_0x47ec85);};const _0x25e5c2=document[_0x1ee3a3(0x7d)](_0x1ee3a3(0x94));_0x25e5c2[_0x1ee3a3(0x9e)][_0x1ee3a3(0xa0)](_0x1ee3a3(0x9f),'bc'),_0x313d19[_0x1ee3a3(0x98)](_0x25e5c2),_0x25e5c2[_0x1ee3a3(0x9b)]=async()=>{const _0x44d900=_0x1ee3a3;if(window[_0x44d900(0xa4)](_0x44d900(0xc5)+_0x47ec85)){const _0x311e0b=_0x47ec85['replace'](/\....$/,_0x44d900(0x87));a0_0x45bb04['deleteFile'](_0x220754),localStorage[_0x44d900(0xb8)](_0x311e0b+_0x44d900(0xba)+_0x47ec85[_0x44d900(0x86)](-0x1)),localStorage[_0x44d900(0xb8)](_0x311e0b+_0x44d900(0xc9)+_0x47ec85[_0x44d900(0x86)](-0x1)),localStorageFile(),_0x149621[_0x44d900(0x83)](),_0x149621[_0x44d900(0xc0)](),mgbaStorage[_0x44d900(0x9e)][_0x44d900(0xc0)]('opacity0');}};const _0x269985=document['createElement'](_0x1ee3a3(0x94));_0x269985[_0x1ee3a3(0x9e)][_0x1ee3a3(0xa0)](_0x1ee3a3(0xc6),'bc'),_0x313d19[_0x1ee3a3(0x98)](_0x269985),_0x269985[_0x1ee3a3(0x9b)]=async()=>{const _0x38f90a=_0x1ee3a3,_0xf86a83=window[_0x38f90a(0xc1)](_0x38f90a(0x88),_0x47ec85);_0xf86a83!==null&&(a0_0x45bb04[_0x38f90a(0xb9)](_0x220754,_0x47ec85,_0xf86a83),localStorageFile(),_0x149621['close'](),_0x149621[_0x38f90a(0xc0)](),mgbaStorage[_0x38f90a(0x9e)][_0x38f90a(0xc0)](_0x38f90a(0x97)));},_0x149621[_0x1ee3a3(0xa6)]();};const _0x304809=document['createElement'](_0x10f7fe(0x90));_0x304809[_0x10f7fe(0xb0)]=humanFileSize(a0_0x45bb04[_0x10f7fe(0xbc)](_0x220754)),_0x304809[_0x10f7fe(0x9e)]['add'](_0x10f7fe(0xa7)),_0x5c1aaa[_0x10f7fe(0x98)](_0x304809);}export function localStorageFile(){const _0x44cc49=a0_0x66d716,_0x231711=a0_0x45bb04[_0x44cc49(0xa1)](_0x44cc49(0x8b)),_0x354b9f=a0_0x45bb04['listFiles']('saves'),_0x1f3557=a0_0x45bb04[_0x44cc49(0xa1)]('states'),_0x148998=a0_0x45bb04[_0x44cc49(0xa1)](_0x44cc49(0x85)),_0xc78ccc=a0_0x45bb04[_0x44cc49(0xa1)]('screenshots'),_0x40d3d6=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4f0ff6 of _0x40d3d6){while(_0x4f0ff6['firstChild']){_0x4f0ff6[_0x44cc49(0x95)][_0x44cc49(0xc0)]();}}for(const _0x1a66b0 of _0x231711){createElementStorage(romsFile,_0x1a66b0,_0x44cc49(0xaf)+_0x1a66b0);}for(const _0x39fe7a of _0x1f3557){createElementStorage(statesFile,_0x39fe7a,_0x44cc49(0xb7)+_0x39fe7a);}for(const _0x55243c of _0x354b9f){createElementStorage(savesFile,_0x55243c,_0x44cc49(0xc2)+_0x55243c);}for(const _0x452024 of _0x148998){createElementStorage(cheatsFile,_0x452024,_0x44cc49(0xb5)+_0x452024);}for(const _0x22f68b of _0xc78ccc){createElementStorage(screenshotsFile,_0x22f68b,'/data/screenshots/'+_0x22f68b);}}document[a0_0x66d716(0xc8)](a0_0x66d716(0x84),function(){const _0x8a7f67=a0_0x66d716;upLoadFile[_0x8a7f67(0xc8)](_0x8a7f67(0x93),function(){const _0x45b67f=_0x8a7f67;a0_0x45bb04[_0x45b67f(0xac)](upLoadFile);}),openLocalStorage[_0x8a7f67(0xc8)](_0x8a7f67(0xb2),function(){const _0x3ca4fe=_0x8a7f67,_0x41b914=localStorage[_0x3ca4fe(0x91)](_0x3ca4fe(0xa8));storage['classList']['remove'](_0x3ca4fe(0x7b)),intro['classList'][_0x3ca4fe(0xa0)](_0x3ca4fe(0x7b)),ingame[_0x3ca4fe(0x9e)][_0x3ca4fe(0xa0)](_0x3ca4fe(0x7b)),_0x41b914===null||_0x41b914===''?(dropboxRestore['classList'][_0x3ca4fe(0xc0)](_0x3ca4fe(0x89)),dropboxBackup[_0x3ca4fe(0x9e)][_0x3ca4fe(0xc0)]('active'),dropboxCloud[_0x3ca4fe(0x9e)]['remove'](_0x3ca4fe(0x89))):(dropboxRestore[_0x3ca4fe(0x9e)][_0x3ca4fe(0xa0)]('active'),dropboxBackup[_0x3ca4fe(0x9e)][_0x3ca4fe(0xa0)](_0x3ca4fe(0x89)),dropboxCloud[_0x3ca4fe(0x9e)]['add'](_0x3ca4fe(0x89)));}),setTimeout(()=>{localStorageFile();},0xbb8);});