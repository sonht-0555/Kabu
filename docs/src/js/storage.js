function a0_0x297b(){const _0x115ec0=['_dateState','955445zLAbVq','slice','classList','deleteFile','listScreenshot','rename','change','span','opacity0','lastChild','uId','toFixed','453642pFkJaM','uploadFile','PiB','appendChild','fileSize','delete','ZiB','rom-item','addEventListener','right','home','mgba-storage','listSave','listGame','div','7uMkREU','savesFile','YiB','screenshotsFile','36IABOoj','storage','MiB','235650oVIcql','textContent','onclick','createElement','TiB','flex-1','196244dEKxyK','getElementById','statesFile','getItem','remove','listState','download','3903tXOYGR','.gba','_imageState','removeItem','gap-10','Delete\x20this\x20file?','DOMContentLoaded','gap-16','length','onclose','firstChild','rom','prompt','close','disable','mib','/data/saves/','1368NDWnoV','actionDiv','abs','299580uGbSZJ','add','active','GiB','3376DiFbDl'];a0_0x297b=function(){return _0x115ec0;};return a0_0x297b();}const a0_0x34d502=a0_0x5388;(function(_0x3ea498,_0x164733){const _0x1996ff=a0_0x5388,_0x97bc1c=_0x3ea498();while(!![]){try{const _0x5cdc2b=parseInt(_0x1996ff(0x1ff))/0x1+parseInt(_0x1996ff(0x1e3))/0x2+parseInt(_0x1996ff(0x1bd))/0x3*(parseInt(_0x1996ff(0x1f6))/0x4)+-parseInt(_0x1996ff(0x1d7))/0x5+parseInt(_0x1996ff(0x1d1))/0x6*(-parseInt(_0x1996ff(0x1f2))/0x7)+-parseInt(_0x1996ff(0x1d5))/0x8*(parseInt(_0x1996ff(0x1ce))/0x9)+parseInt(_0x1996ff(0x1f9))/0xa;if(_0x5cdc2b===_0x164733)break;else _0x97bc1c['push'](_0x97bc1c['shift']());}catch(_0x4ee309){_0x97bc1c['push'](_0x97bc1c['shift']());}}}(a0_0x297b,0x25658));import*as a0_0xb6a58f from'./main.js';const mgbaStorage=document[a0_0x34d502(0x200)](a0_0x34d502(0x1ee)),savesFile=document[a0_0x34d502(0x200)](a0_0x34d502(0x1f3)),romsFile=document[a0_0x34d502(0x200)]('romsFile'),statesFile=document['getElementById'](a0_0x34d502(0x201)),screenshotsFile=document['getElementById'](a0_0x34d502(0x1f5));function humanFileSize(_0x395274,_0x314fd6=![],_0x4eb81c=0x1){const _0x1e3948=a0_0x34d502,_0x6caee6=_0x314fd6?0x3e8:0x400,_0x24911c=_0x314fd6?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x1e3948(0x1f8),_0x1e3948(0x1d4),_0x1e3948(0x1fd),_0x1e3948(0x1e5),'EiB',_0x1e3948(0x1e9),_0x1e3948(0x1f4)];let _0x5336a9=-0x1;do{_0x395274/=_0x6caee6,++_0x5336a9;}while(Math[_0x1e3948(0x1d0)](_0x395274)>=_0x6caee6&&_0x5336a9<_0x24911c[_0x1e3948(0x1c5)]-0x1);return _0x395274[_0x1e3948(0x1e2)](_0x4eb81c)+'\x20'+_0x24911c[_0x5336a9];}function a0_0x5388(_0x50f1f7,_0x385fd3){const _0x297b24=a0_0x297b();return a0_0x5388=function(_0x5388bd,_0x6f75fa){_0x5388bd=_0x5388bd-0x1b9;let _0x216692=_0x297b24[_0x5388bd];return _0x216692;},a0_0x5388(_0x50f1f7,_0x385fd3);}function createElementStorage(_0xf2ffa4,_0x180db3,_0x534196){const _0x2d86cd=a0_0x34d502,_0xf384ee=document[_0x2d86cd(0x1fc)](_0x2d86cd(0x1f1));_0xf384ee[_0x2d86cd(0x1d9)]['add'](_0x2d86cd(0x1fe),_0x2d86cd(0x1ea),_0x2d86cd(0x1c8)),_0xf2ffa4['appendChild'](_0xf384ee);const _0x2bbba8=document[_0x2d86cd(0x1fc)]('span');_0x2bbba8[_0x2d86cd(0x1fa)]=_0x180db3,_0x2bbba8[_0x2d86cd(0x1d9)][_0x2d86cd(0x1d2)]('flex-1'),_0xf384ee['appendChild'](_0x2bbba8),_0x2bbba8['onclick']=()=>{const _0x4819ac=_0x2d86cd,_0x3db6cb=document['createElement']('dialog');_0x3db6cb[_0x4819ac(0x1c6)]=()=>_0x3db6cb['remove'](),_0xf2ffa4[_0x4819ac(0x1e6)](_0x3db6cb);const _0x366785=document[_0x4819ac(0x1fc)](_0x4819ac(0x1f1));_0x366785[_0x4819ac(0x1d9)][_0x4819ac(0x1d2)](_0x4819ac(0x1f7),_0x4819ac(0x1ec),_0x4819ac(0x1c1)),_0x3db6cb[_0x4819ac(0x1e6)](_0x366785);const _0x50c6e7=document['createElement'](_0x4819ac(0x1f1));_0x50c6e7[_0x4819ac(0x1d9)][_0x4819ac(0x1d2)](_0x4819ac(0x1ed),'bc',_0x4819ac(0x1fe)),_0x366785[_0x4819ac(0x1e6)](_0x50c6e7);const _0x31168e=document[_0x4819ac(0x1fc)]('div');_0x31168e[_0x4819ac(0x1d9)]['add'](_0x4819ac(0x1fe)),_0x366785[_0x4819ac(0x1e6)](_0x31168e);const _0x41965a=document['createElement']('div');_0x41965a[_0x4819ac(0x1d9)]['add']('flex-1'),_0x366785['appendChild'](_0x41965a);const _0x4d474b=document[_0x4819ac(0x1fc)](_0x4819ac(0x1f1));_0x4d474b[_0x4819ac(0x1d9)][_0x4819ac(0x1d2)](_0x4819ac(0x1fe)),_0x366785[_0x4819ac(0x1e6)](_0x4d474b),mgbaStorage[_0x4819ac(0x1d9)]['add'](_0x4819ac(0x1df)),_0x50c6e7[_0x4819ac(0x1fb)]=()=>{const _0x249afd=_0x4819ac;_0x3db6cb[_0x249afd(0x1ca)](),_0x3db6cb[_0x249afd(0x1ba)](),mgbaStorage[_0x249afd(0x1d9)][_0x249afd(0x1ba)]('opacity0');};const _0x4bcf18=document['createElement'](_0x4819ac(0x1f1));_0x4bcf18['classList']['add'](_0x4819ac(0x1fe),_0x4819ac(0x1ea),'hw','cw'),_0x4bcf18[_0x4819ac(0x1fa)]=_0x180db3,_0x3db6cb[_0x4819ac(0x1e6)](_0x4bcf18);const _0x477d01=document[_0x4819ac(0x1fc)](_0x4819ac(0x1f1));_0x477d01[_0x4819ac(0x1d9)][_0x4819ac(0x1d2)](_0x4819ac(0x1cf),'hw','cw',_0x4819ac(0x1c4)),_0x3db6cb[_0x4819ac(0x1e6)](_0x477d01);const _0xe9f61=document[_0x4819ac(0x1fc)]('div');_0xe9f61[_0x4819ac(0x1d9)][_0x4819ac(0x1d2)](_0x4819ac(0x1bc),'bc'),_0x477d01[_0x4819ac(0x1e6)](_0xe9f61),_0xe9f61[_0x4819ac(0x1fb)]=()=>{a0_0xb6a58f['downloadFile'](_0x534196,_0x180db3);};const _0x4d1b7b=document['createElement'](_0x4819ac(0x1f1));_0x4d1b7b[_0x4819ac(0x1d9)][_0x4819ac(0x1d2)](_0x4819ac(0x1e8),'bc'),_0x477d01[_0x4819ac(0x1e6)](_0x4d1b7b),_0x4d1b7b[_0x4819ac(0x1fb)]=async()=>{const _0x1492d7=_0x4819ac;if(window['confirm'](_0x1492d7(0x1c2)+_0x180db3)){const _0x5c0dec=_0x180db3['replace'](/\....$/,_0x1492d7(0x1be));a0_0xb6a58f[_0x1492d7(0x1da)](_0x534196),localStorage[_0x1492d7(0x1c0)](_0x5c0dec+_0x1492d7(0x1d6)+_0x180db3['slice'](-0x1)),localStorage[_0x1492d7(0x1c0)](_0x5c0dec+_0x1492d7(0x1bf)+_0x180db3[_0x1492d7(0x1d8)](-0x1)),localStorageFile(),_0x3db6cb['close'](),_0x3db6cb[_0x1492d7(0x1ba)](),mgbaStorage[_0x1492d7(0x1d9)][_0x1492d7(0x1ba)](_0x1492d7(0x1df));}};const _0x43f4a9=document['createElement']('div');_0x43f4a9[_0x4819ac(0x1d9)][_0x4819ac(0x1d2)](_0x4819ac(0x1dc),'bc'),_0x477d01['appendChild'](_0x43f4a9),_0x43f4a9['onclick']=async()=>{const _0x5bc15d=_0x4819ac,_0x2eb42e=window[_0x5bc15d(0x1c9)]('Edit\x20filename',_0x180db3);_0x2eb42e!==null&&(a0_0xb6a58f['editFile'](_0x534196,_0x180db3,_0x2eb42e),localStorageFile(),_0x3db6cb['close'](),_0x3db6cb[_0x5bc15d(0x1ba)](),mgbaStorage['classList'][_0x5bc15d(0x1ba)](_0x5bc15d(0x1df)));},_0x3db6cb['showModal']();};const _0x399a52=document[_0x2d86cd(0x1fc)](_0x2d86cd(0x1de));_0x399a52['textContent']=humanFileSize(a0_0xb6a58f[_0x2d86cd(0x1e7)](_0x534196)),_0x399a52[_0x2d86cd(0x1d9)][_0x2d86cd(0x1d2)](_0x2d86cd(0x1cc)),_0xf384ee[_0x2d86cd(0x1e6)](_0x399a52);}export function localStorageFile(){const _0x2a232f=a0_0x34d502,_0x5128ee=a0_0xb6a58f[_0x2a232f(0x1f0)](),_0x239643=a0_0xb6a58f[_0x2a232f(0x1ef)](),_0x19f41f=a0_0xb6a58f[_0x2a232f(0x1bb)](),_0x2bae70=a0_0xb6a58f['listCheat'](),_0x6dc8a0=a0_0xb6a58f[_0x2a232f(0x1db)](),_0x1b66dd=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x107ec1 of _0x1b66dd){while(_0x107ec1[_0x2a232f(0x1c7)]){_0x107ec1[_0x2a232f(0x1e0)][_0x2a232f(0x1ba)]();}}for(const _0x2da93e of _0x5128ee){createElementStorage(romsFile,_0x2da93e,'/data/games/'+_0x2da93e);}for(const _0x3b11b5 of _0x19f41f){createElementStorage(statesFile,_0x3b11b5,'/data/states/'+_0x3b11b5);}for(const _0x27ecc3 of _0x239643){createElementStorage(savesFile,_0x27ecc3,_0x2a232f(0x1cd)+_0x27ecc3);}for(const _0x361464 of _0x2bae70){createElementStorage(cheatsFile,_0x361464,'/data/cheats/'+_0x361464);}for(const _0x3a28f5 of _0x6dc8a0){createElementStorage(screenshotsFile,_0x3a28f5,'/data/screenshots/'+_0x3a28f5);}}document[a0_0x34d502(0x1eb)](a0_0x34d502(0x1c3),function(){const _0x278487=a0_0x34d502;upLoadFile['addEventListener'](_0x278487(0x1dd),function(){const _0x1d3c66=_0x278487;a0_0xb6a58f[_0x1d3c66(0x1e4)](upLoadFile);}),openLocalStorage['addEventListener']('click',function(){const _0xced5f=_0x278487,_0x3fc3ae=localStorage[_0xced5f(0x1b9)](_0xced5f(0x1e1));storage[_0xced5f(0x1d9)][_0xced5f(0x1ba)](_0xced5f(0x1cb)),intro[_0xced5f(0x1d9)]['add'](_0xced5f(0x1cb)),ingame[_0xced5f(0x1d9)]['add'](_0xced5f(0x1cb)),_0x3fc3ae===null||_0x3fc3ae===''?(dropboxRestore[_0xced5f(0x1d9)][_0xced5f(0x1ba)](_0xced5f(0x1d3)),dropboxBackup[_0xced5f(0x1d9)]['remove'](_0xced5f(0x1d3)),dropboxCloud[_0xced5f(0x1d9)]['remove'](_0xced5f(0x1d3))):(dropboxRestore['classList']['add']('active'),dropboxBackup[_0xced5f(0x1d9)][_0xced5f(0x1d2)](_0xced5f(0x1d3)),dropboxCloud[_0xced5f(0x1d9)]['add'](_0xced5f(0x1d3)));}),setTimeout(()=>{localStorageFile();},0xbb8);});