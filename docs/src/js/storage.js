function a0_0x5230(){const _0x2fcd1d=['span','.gba','showModal','statesFile','uploadGame','/data/screenshots/','onclose','uploadCheat','slice','mgba-storage','dialog','uId','change','onclick','gap-16','4416048XWiWjw','GiB','/data/games/','DOMContentLoaded','ZiB','addEventListener','.gbc','downloadFile','listState','removeItem','editFile','KiB','div','firstChild','80qViXwK','_dateState','abs','2rISHld','.cheats','appendChild','savesFile','right','MiB','_imageState','active','44478cAsAiL','listCheat','toFixed','remove','123179oSpjRA','listScreenshot','files','opacity0','setItem','download','gap-10','TiB','disable','getElementById','rom','114362QCguKu','delete','mib','createElement','textContent','Delete\x20this\x20file?','listSave','EiB','388599Aszbuf','close','getItem','flex-1','/data/saves/','actionDiv','name','62272DHPped','rom-item','classList','892185czsbEU','YiB','Edit\x20filename','PiB','uploadSavSta','endsWith','add','replace'];a0_0x5230=function(){return _0x2fcd1d;};return a0_0x5230();}const a0_0xa09f37=a0_0x432a;function a0_0x432a(_0xca47e,_0x2355b0){const _0x52308b=a0_0x5230();return a0_0x432a=function(_0x432a2a,_0x3bb633){_0x432a2a=_0x432a2a-0x90;let _0x1ade73=_0x52308b[_0x432a2a];return _0x1ade73;},a0_0x432a(_0xca47e,_0x2355b0);}(function(_0x4f4763,_0x3e28fb){const _0x59104f=a0_0x432a,_0x51de2f=_0x4f4763();while(!![]){try{const _0x5b77f7=-parseInt(_0x59104f(0xbe))/0x1+parseInt(_0x59104f(0xa7))/0x2*(parseInt(_0x59104f(0xc6))/0x3)+-parseInt(_0x59104f(0xcd))/0x4+-parseInt(_0x59104f(0xd0))/0x5+-parseInt(_0x59104f(0xaf))/0x6+parseInt(_0x59104f(0xb3))/0x7*(-parseInt(_0x59104f(0xa4))/0x8)+parseInt(_0x59104f(0x96))/0x9;if(_0x5b77f7===_0x3e28fb)break;else _0x51de2f['push'](_0x51de2f['shift']());}catch(_0x142e7f){_0x51de2f['push'](_0x51de2f['shift']());}}}(a0_0x5230,0x1f5c7));import*as a0_0x1a283d from'./main.js';const mgbaStorage=document['getElementById'](a0_0xa09f37(0x90)),savesFile=document['getElementById'](a0_0xa09f37(0xaa)),romsFile=document[a0_0xa09f37(0xbc)]('romsFile'),statesFile=document[a0_0xa09f37(0xbc)](a0_0xa09f37(0xdb)),screenshotsFile=document[a0_0xa09f37(0xbc)]('screenshotsFile');function humanFileSize(_0x12250a,_0x17e1fc=![],_0x4a7ded=0x1){const _0xc3715a=a0_0xa09f37,_0xb015a6=_0x17e1fc?0x3e8:0x400,_0x4d2c0c=_0x17e1fc?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0xc3715a(0xa1),_0xc3715a(0xac),_0xc3715a(0x97),_0xc3715a(0xba),_0xc3715a(0xd3),_0xc3715a(0xc5),_0xc3715a(0x9a),_0xc3715a(0xd1)];let _0xead91c=-0x1;do{_0x12250a/=_0xb015a6,++_0xead91c;}while(Math[_0xc3715a(0xa6)](_0x12250a)>=_0xb015a6&&_0xead91c<_0x4d2c0c['length']-0x1);return _0x12250a[_0xc3715a(0xb1)](_0x4a7ded)+'\x20'+_0x4d2c0c[_0xead91c];}function createElementStorage(_0xb264bf,_0x22f11c,_0x30cce2){const _0x2b3689=a0_0xa09f37,_0x1394b7=document[_0x2b3689(0xc1)](_0x2b3689(0xa2));_0x1394b7[_0x2b3689(0xcf)][_0x2b3689(0xd6)](_0x2b3689(0xc9),_0x2b3689(0xce),_0x2b3689(0xbd)),_0xb264bf['appendChild'](_0x1394b7);const _0x33e7de=document[_0x2b3689(0xc1)](_0x2b3689(0xd8));_0x33e7de[_0x2b3689(0xc2)]=_0x22f11c,_0x33e7de[_0x2b3689(0xcf)]['add'](_0x2b3689(0xc9)),_0x1394b7['appendChild'](_0x33e7de),_0x33e7de[_0x2b3689(0x94)]=()=>{const _0x3fb006=_0x2b3689,_0x1f0747=document[_0x3fb006(0xc1)](_0x3fb006(0x91));_0x1f0747[_0x3fb006(0xde)]=()=>_0x1f0747[_0x3fb006(0xb2)](),_0xb264bf['appendChild'](_0x1f0747);const _0x12f7f6=document['createElement'](_0x3fb006(0xa2));_0x12f7f6[_0x3fb006(0xcf)][_0x3fb006(0xd6)]('storage',_0x3fb006(0xab),_0x3fb006(0xb9)),_0x1f0747[_0x3fb006(0xa9)](_0x12f7f6);const _0x3eda5a=document[_0x3fb006(0xc1)]('div');_0x3eda5a['classList'][_0x3fb006(0xd6)]('home','bc',_0x3fb006(0xc9)),_0x12f7f6['appendChild'](_0x3eda5a);const _0x3aeea2=document[_0x3fb006(0xc1)](_0x3fb006(0xa2));_0x3aeea2[_0x3fb006(0xcf)][_0x3fb006(0xd6)](_0x3fb006(0xc9)),_0x12f7f6['appendChild'](_0x3aeea2);const _0x24b5c9=document[_0x3fb006(0xc1)](_0x3fb006(0xa2));_0x24b5c9[_0x3fb006(0xcf)][_0x3fb006(0xd6)](_0x3fb006(0xc9)),_0x12f7f6['appendChild'](_0x24b5c9);const _0x1b1e29=document[_0x3fb006(0xc1)](_0x3fb006(0xa2));_0x1b1e29[_0x3fb006(0xcf)][_0x3fb006(0xd6)](_0x3fb006(0xc9)),_0x12f7f6['appendChild'](_0x1b1e29),mgbaStorage[_0x3fb006(0xcf)][_0x3fb006(0xd6)](_0x3fb006(0xb6)),_0x3eda5a[_0x3fb006(0x94)]=()=>{const _0x81a631=_0x3fb006;_0x1f0747['close'](),_0x1f0747['remove'](),mgbaStorage[_0x81a631(0xcf)]['remove'](_0x81a631(0xb6));};const _0x47d87f=document[_0x3fb006(0xc1)]('div');_0x47d87f['classList'][_0x3fb006(0xd6)](_0x3fb006(0xc9),_0x3fb006(0xce),'hw','cw'),_0x47d87f['textContent']=_0x22f11c,_0x1f0747[_0x3fb006(0xa9)](_0x47d87f);const _0x19c33d=document['createElement'](_0x3fb006(0xa2));_0x19c33d['classList']['add'](_0x3fb006(0xcb),'hw','cw',_0x3fb006(0x95)),_0x1f0747['appendChild'](_0x19c33d);const _0x1e448d=document[_0x3fb006(0xc1)](_0x3fb006(0xa2));_0x1e448d[_0x3fb006(0xcf)][_0x3fb006(0xd6)](_0x3fb006(0xb8),'bc'),_0x19c33d['appendChild'](_0x1e448d),_0x1e448d[_0x3fb006(0x94)]=()=>{const _0x5c3b61=_0x3fb006;a0_0x1a283d[_0x5c3b61(0x9d)](_0x30cce2,_0x22f11c);};const _0x37dc6b=document[_0x3fb006(0xc1)]('div');_0x37dc6b['classList'][_0x3fb006(0xd6)](_0x3fb006(0xbf),'bc'),_0x19c33d[_0x3fb006(0xa9)](_0x37dc6b),_0x37dc6b[_0x3fb006(0x94)]=async()=>{const _0x1e2a9c=_0x3fb006;if(window['confirm'](_0x1e2a9c(0xc3)+_0x22f11c)){const _0x43b95b=_0x22f11c[_0x1e2a9c(0xd7)](/\....$/,_0x1e2a9c(0xd9));a0_0x1a283d['deleteFile'](_0x30cce2),localStorage[_0x1e2a9c(0x9f)](_0x43b95b+_0x1e2a9c(0xa5)+_0x22f11c[_0x1e2a9c(0xe0)](-0x1)),localStorage[_0x1e2a9c(0x9f)](_0x43b95b+_0x1e2a9c(0xad)+_0x22f11c['slice'](-0x1)),localStorageFile(),_0x1f0747[_0x1e2a9c(0xc7)](),_0x1f0747[_0x1e2a9c(0xb2)](),mgbaStorage[_0x1e2a9c(0xcf)][_0x1e2a9c(0xb2)](_0x1e2a9c(0xb6));}};const _0x21676e=document[_0x3fb006(0xc1)](_0x3fb006(0xa2));_0x21676e[_0x3fb006(0xcf)][_0x3fb006(0xd6)]('rename','bc'),_0x19c33d[_0x3fb006(0xa9)](_0x21676e),_0x21676e['onclick']=async()=>{const _0x36bdbe=_0x3fb006,_0x26dc1f=window['prompt'](_0x36bdbe(0xd2),_0x22f11c);if(_0x26dc1f!==null){const _0x8e231b=_0x22f11c[_0x36bdbe(0xd7)](/\....$/,_0x36bdbe(0xd9)),_0x12141d=_0x26dc1f[_0x36bdbe(0xd7)](/\....$/,'.gba'),_0x2f7f65=_0x8e231b+_0x36bdbe(0xa5)+_0x22f11c[_0x36bdbe(0xe0)](-0x1),_0x400946=_0x8e231b+_0x36bdbe(0xad)+_0x22f11c[_0x36bdbe(0xe0)](-0x1),_0x259694=_0x12141d+_0x36bdbe(0xa5)+_0x26dc1f[_0x36bdbe(0xe0)](-0x1),_0x35baae=_0x12141d+'_imageState'+_0x26dc1f[_0x36bdbe(0xe0)](-0x1),_0x2d88ed=localStorage[_0x36bdbe(0xc8)](_0x2f7f65),_0x48acd4=localStorage['getItem'](_0x400946);_0x2d88ed!==null&&(localStorage['setItem'](_0x259694,_0x2d88ed),localStorage[_0x36bdbe(0x9f)](_0x2f7f65)),_0x48acd4!==null&&(localStorage[_0x36bdbe(0xb7)](_0x35baae,_0x48acd4),localStorage['removeItem'](_0x400946)),a0_0x1a283d[_0x36bdbe(0xa0)](_0x30cce2,_0x22f11c,_0x26dc1f),localStorageFile(),_0x1f0747[_0x36bdbe(0xc7)](),_0x1f0747[_0x36bdbe(0xb2)](),mgbaStorage[_0x36bdbe(0xcf)][_0x36bdbe(0xb2)](_0x36bdbe(0xb6));}},_0x1f0747[_0x3fb006(0xda)]();};const _0x13684c=document[_0x2b3689(0xc1)]('span');_0x13684c[_0x2b3689(0xc2)]=humanFileSize(a0_0x1a283d['fileSize'](_0x30cce2)),_0x13684c[_0x2b3689(0xcf)][_0x2b3689(0xd6)](_0x2b3689(0xc0)),_0x1394b7[_0x2b3689(0xa9)](_0x13684c);}export function localStorageFile(){const _0x336ca5=a0_0xa09f37,_0x22e494=a0_0x1a283d['listGame'](),_0x552309=a0_0x1a283d[_0x336ca5(0xc4)](),_0x1d24c6=a0_0x1a283d[_0x336ca5(0x9e)](),_0x46b1e5=a0_0x1a283d[_0x336ca5(0xb0)](),_0x4f3ac1=a0_0x1a283d[_0x336ca5(0xb4)](),_0x1a5ebe=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x148807 of _0x1a5ebe){while(_0x148807[_0x336ca5(0xa3)]){_0x148807['lastChild'][_0x336ca5(0xb2)]();}}for(const _0x2e480b of _0x22e494){createElementStorage(romsFile,_0x2e480b,_0x336ca5(0x98)+_0x2e480b);}for(const _0x42d4a8 of _0x1d24c6){createElementStorage(statesFile,_0x42d4a8,'/data/states/'+_0x42d4a8);}for(const _0x43c3e1 of _0x552309){createElementStorage(savesFile,_0x43c3e1,_0x336ca5(0xca)+_0x43c3e1);}for(const _0xc330ad of _0x46b1e5){createElementStorage(cheatsFile,_0xc330ad,'/data/cheats/'+_0xc330ad);}for(const _0x2deb26 of _0x4f3ac1){createElementStorage(screenshotsFile,_0x2deb26,_0x336ca5(0xdd)+_0x2deb26);}}document['addEventListener'](a0_0xa09f37(0x99),function(){const _0x34129b=a0_0xa09f37;upLoadFile['addEventListener'](_0x34129b(0x93),function(){const _0x5e7785=_0x34129b,_0x3bfa15=upLoadFile[_0x5e7785(0xb5)][0x0][_0x5e7785(0xcc)];if(_0x3bfa15[_0x5e7785(0xd5)](_0x5e7785(0xa8)))a0_0x1a283d[_0x5e7785(0xdf)](upLoadFile);else _0x3bfa15[_0x5e7785(0xd5)](_0x5e7785(0xd9))||_0x3bfa15['endsWith'](_0x5e7785(0x9c))||_0x3bfa15[_0x5e7785(0xd5)]('.bc')?a0_0x1a283d[_0x5e7785(0xdc)](upLoadFile):a0_0x1a283d[_0x5e7785(0xd4)](upLoadFile);}),openLocalStorage[_0x34129b(0x9b)]('click',function(){const _0x563cb1=_0x34129b,_0x36702d=localStorage[_0x563cb1(0xc8)](_0x563cb1(0x92));storage[_0x563cb1(0xcf)][_0x563cb1(0xb2)](_0x563cb1(0xbb)),intro[_0x563cb1(0xcf)][_0x563cb1(0xd6)](_0x563cb1(0xbb)),ingame['classList'][_0x563cb1(0xd6)](_0x563cb1(0xbb)),_0x36702d===null||_0x36702d===''?(dropboxRestore[_0x563cb1(0xcf)][_0x563cb1(0xb2)](_0x563cb1(0xae)),dropboxBackup[_0x563cb1(0xcf)][_0x563cb1(0xb2)]('active'),dropboxCloud[_0x563cb1(0xcf)]['remove'](_0x563cb1(0xae))):(dropboxRestore[_0x563cb1(0xcf)][_0x563cb1(0xd6)](_0x563cb1(0xae)),dropboxBackup[_0x563cb1(0xcf)]['add'](_0x563cb1(0xae)),dropboxCloud[_0x563cb1(0xcf)][_0x563cb1(0xd6)](_0x563cb1(0xae)));}),setTimeout(()=>{localStorageFile();},0xbb8);});