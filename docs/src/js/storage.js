const a0_0x2b7c1c=a0_0x565a;(function(_0x5ba872,_0x4cd764){const _0x3f1676=a0_0x565a,_0x30500a=_0x5ba872();while(!![]){try{const _0xdb270a=-parseInt(_0x3f1676(0x12a))/0x1+-parseInt(_0x3f1676(0x12f))/0x2+parseInt(_0x3f1676(0xfc))/0x3*(parseInt(_0x3f1676(0x12d))/0x4)+-parseInt(_0x3f1676(0x104))/0x5+parseInt(_0x3f1676(0x121))/0x6+-parseInt(_0x3f1676(0x101))/0x7+parseInt(_0x3f1676(0x128))/0x8*(parseInt(_0x3f1676(0x138))/0x9);if(_0xdb270a===_0x4cd764)break;else _0x30500a['push'](_0x30500a['shift']());}catch(_0x9f410d){_0x30500a['push'](_0x30500a['shift']());}}}(a0_0x2ac0,0x52b5e));import*as a0_0x212b20 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x2b7c1c(0x133)),savesFile=document[a0_0x2b7c1c(0x11d)](a0_0x2b7c1c(0xff)),romsFile=document[a0_0x2b7c1c(0x11d)]('romsFile'),statesFile=document[a0_0x2b7c1c(0x11d)](a0_0x2b7c1c(0x10d)),screenshotsFile=document['getElementById'](a0_0x2b7c1c(0x10c));function humanFileSize(_0x142261,_0x27a4b4=![],_0x375821=0x1){const _0x5157fa=a0_0x2b7c1c,_0x37253d=_0x27a4b4?0x3e8:0x400,_0x1dfd5c=_0x27a4b4?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB','GiB','TiB',_0x5157fa(0x100),'EiB',_0x5157fa(0x12c),'YiB'];let _0x414ff6=-0x1;do{_0x142261/=_0x37253d,++_0x414ff6;}while(Math['abs'](_0x142261)>=_0x37253d&&_0x414ff6<_0x1dfd5c[_0x5157fa(0x10f)]-0x1);return _0x142261['toFixed'](_0x375821)+'\x20'+_0x1dfd5c[_0x414ff6];}function createElementStorage(_0x523da9,_0x1f1a2c,_0x5e169a){const _0x33aab2=a0_0x2b7c1c,_0x53c052=document[_0x33aab2(0x111)]('div');_0x53c052[_0x33aab2(0x122)]['add']('flex-1',_0x33aab2(0x135),_0x33aab2(0x114)),_0x523da9['appendChild'](_0x53c052);const _0x21a424=document[_0x33aab2(0x111)](_0x33aab2(0x130));_0x21a424['textContent']=_0x1f1a2c,_0x21a424['classList'][_0x33aab2(0x134)](_0x33aab2(0x106)),_0x53c052['appendChild'](_0x21a424),_0x21a424[_0x33aab2(0x11a)]=()=>{const _0x520528=_0x33aab2,_0x8dc924=document[_0x520528(0x111)](_0x520528(0x117));_0x8dc924[_0x520528(0x112)]=()=>_0x8dc924[_0x520528(0x11e)](),_0x523da9['appendChild'](_0x8dc924);const _0x2de9a3=document[_0x520528(0x111)](_0x520528(0x129));_0x2de9a3[_0x520528(0x122)]['add'](_0x520528(0x11b),'right',_0x520528(0xf6)),_0x8dc924[_0x520528(0x102)](_0x2de9a3);const _0x8ff7d6=document[_0x520528(0x111)](_0x520528(0x129));_0x8ff7d6['classList'][_0x520528(0x134)]('home','bc',_0x520528(0x106)),_0x2de9a3[_0x520528(0x102)](_0x8ff7d6);const _0x4b0d44=document[_0x520528(0x111)](_0x520528(0x129));_0x4b0d44[_0x520528(0x122)]['add'](_0x520528(0x106)),_0x2de9a3['appendChild'](_0x4b0d44);const _0x1fb364=document['createElement'](_0x520528(0x129));_0x1fb364[_0x520528(0x122)]['add'](_0x520528(0x106)),_0x2de9a3['appendChild'](_0x1fb364);const _0x51a2b0=document[_0x520528(0x111)](_0x520528(0x129));_0x51a2b0[_0x520528(0x122)][_0x520528(0x134)](_0x520528(0x106)),_0x2de9a3[_0x520528(0x102)](_0x51a2b0),mgbaStorage['classList'][_0x520528(0x134)](_0x520528(0xf5)),_0x8ff7d6[_0x520528(0x11a)]=()=>{const _0xa56b11=_0x520528;_0x8dc924[_0xa56b11(0x11c)](),_0x8dc924[_0xa56b11(0x11e)](),mgbaStorage[_0xa56b11(0x122)]['remove'](_0xa56b11(0xf5));};const _0xb28c34=document[_0x520528(0x111)](_0x520528(0x129));_0xb28c34['classList'][_0x520528(0x134)](_0x520528(0x106),_0x520528(0x135),'hw','cw'),_0xb28c34[_0x520528(0x136)]=_0x1f1a2c,_0x8dc924[_0x520528(0x102)](_0xb28c34);const _0x51b5ce=document[_0x520528(0x111)](_0x520528(0x129));_0x51b5ce[_0x520528(0x122)][_0x520528(0x134)](_0x520528(0x137),'hw','cw',_0x520528(0x115)),_0x8dc924[_0x520528(0x102)](_0x51b5ce);const _0x44e3da=document[_0x520528(0x111)](_0x520528(0x129));_0x44e3da[_0x520528(0x122)]['add'](_0x520528(0xfe),'bc'),_0x51b5ce[_0x520528(0x102)](_0x44e3da),_0x44e3da['onclick']=()=>{const _0x4778bf=_0x520528;a0_0x212b20[_0x4778bf(0x125)](_0x5e169a,_0x1f1a2c);};const _0x20a5b9=document[_0x520528(0x111)](_0x520528(0x129));_0x20a5b9[_0x520528(0x122)][_0x520528(0x134)](_0x520528(0x123),'bc'),_0x51b5ce[_0x520528(0x102)](_0x20a5b9),_0x20a5b9[_0x520528(0x11a)]=async()=>{const _0x32a852=_0x520528;if(window[_0x32a852(0x108)](_0x32a852(0x131)+_0x1f1a2c)){const _0xb9e948=_0x1f1a2c['replace'](/\....$/,_0x32a852(0x10b));a0_0x212b20['deleteFile'](_0x5e169a),localStorage['removeItem'](_0xb9e948+'_dateState'+_0x1f1a2c[_0x32a852(0x110)](-0x1)),localStorage[_0x32a852(0xfd)](_0xb9e948+_0x32a852(0x109)+_0x1f1a2c['slice'](-0x1)),localStorageFile(),_0x8dc924[_0x32a852(0x11c)](),_0x8dc924['remove'](),mgbaStorage[_0x32a852(0x122)][_0x32a852(0x11e)]('opacity0');}};const _0x51e925=document['createElement'](_0x520528(0x129));_0x51e925['classList'][_0x520528(0x134)](_0x520528(0x11f),'bc'),_0x51b5ce['appendChild'](_0x51e925),_0x51e925[_0x520528(0x11a)]=async()=>{const _0x3129c8=_0x520528,_0x583395=window[_0x3129c8(0x12b)]('Edit\x20filename',_0x1f1a2c);_0x583395!==null&&(a0_0x212b20['editFile'](_0x5e169a,_0x1f1a2c,_0x583395),localStorageFile(),_0x8dc924['close'](),_0x8dc924['remove'](),mgbaStorage['classList'][_0x3129c8(0x11e)](_0x3129c8(0xf5)));},_0x8dc924[_0x520528(0x118)]();};const _0x38333f=document[_0x33aab2(0x111)]('span');_0x38333f[_0x33aab2(0x136)]=humanFileSize(a0_0x212b20['fileSize'](_0x5e169a)),_0x38333f[_0x33aab2(0x122)]['add'](_0x33aab2(0x113)),_0x53c052[_0x33aab2(0x102)](_0x38333f);}export function localStorageFile(){const _0x148d8f=a0_0x2b7c1c,_0xdce96d=a0_0x212b20[_0x148d8f(0xf7)](_0x148d8f(0x119)),_0xcee92=a0_0x212b20['listFiles']('saves'),_0x1960ac=a0_0x212b20[_0x148d8f(0xf7)](_0x148d8f(0x124)),_0x161ee4=a0_0x212b20[_0x148d8f(0xf7)]('cheats'),_0x4fd32f=a0_0x212b20['listFiles']('screenshots'),_0x3b7849=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x1070a4 of _0x3b7849){while(_0x1070a4[_0x148d8f(0xfa)]){_0x1070a4['lastChild'][_0x148d8f(0x11e)]();}}for(const _0x487d91 of _0xdce96d){createElementStorage(romsFile,_0x487d91,_0x148d8f(0xf8)+_0x487d91);}for(const _0x3237fb of _0x1960ac){createElementStorage(statesFile,_0x3237fb,_0x148d8f(0x10a)+_0x3237fb);}for(const _0x2034c7 of _0xcee92){createElementStorage(savesFile,_0x2034c7,_0x148d8f(0xf9)+_0x2034c7);}for(const _0x3e505 of _0x161ee4){createElementStorage(cheatsFile,_0x3e505,_0x148d8f(0x10e)+_0x3e505);}for(const _0x1e7eea of _0x4fd32f){createElementStorage(screenshotsFile,_0x1e7eea,_0x148d8f(0xfb)+_0x1e7eea);}}function a0_0x565a(_0x20d7bb,_0x4c41a4){const _0x2ac0f6=a0_0x2ac0();return a0_0x565a=function(_0x565afb,_0x20a6a9){_0x565afb=_0x565afb-0xf5;let _0x1b6bc0=_0x2ac0f6[_0x565afb];return _0x1b6bc0;},a0_0x565a(_0x20d7bb,_0x4c41a4);}document[a0_0x2b7c1c(0x120)](a0_0x2b7c1c(0x132),function(){const _0x4826ee=a0_0x2b7c1c;upLoadFile[_0x4826ee(0x120)](_0x4826ee(0x116),function(){const _0xcf649e=_0x4826ee;a0_0x212b20[_0xcf649e(0x103)](upLoadFile);}),openLocalStorage[_0x4826ee(0x120)](_0x4826ee(0x126),function(){const _0x158ee0=_0x4826ee,_0x6c0bb0=localStorage[_0x158ee0(0x127)](_0x158ee0(0x105));storage[_0x158ee0(0x122)][_0x158ee0(0x11e)](_0x158ee0(0x12e)),intro['classList'][_0x158ee0(0x134)](_0x158ee0(0x12e)),ingame[_0x158ee0(0x122)][_0x158ee0(0x134)](_0x158ee0(0x12e)),_0x6c0bb0===null||_0x6c0bb0===''?(dropboxRestore['classList'][_0x158ee0(0x11e)]('active'),dropboxBackup[_0x158ee0(0x122)]['remove'](_0x158ee0(0x107)),dropboxCloud[_0x158ee0(0x122)]['remove'](_0x158ee0(0x107))):(dropboxRestore[_0x158ee0(0x122)][_0x158ee0(0x134)](_0x158ee0(0x107)),dropboxBackup[_0x158ee0(0x122)][_0x158ee0(0x134)](_0x158ee0(0x107)),dropboxCloud[_0x158ee0(0x122)][_0x158ee0(0x134)](_0x158ee0(0x107)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x2ac0(){const _0x37c4a5=['/data/cheats/','length','slice','createElement','onclose','mib','rom','gap-16','change','dialog','showModal','games','onclick','storage','close','getElementById','remove','rename','addEventListener','2189856VdkRBG','classList','delete','states','downloadFile','click','getItem','728qQqKcs','div','394232OxfOBS','prompt','ZiB','8TmYxDq','disable','505150mSDVyv','span','Delete\x20this\x20file?','DOMContentLoaded','mgba-storage','add','rom-item','textContent','actionDiv','125865QGqPHW','opacity0','gap-10','listFiles','/data/games/','/data/saves/','firstChild','/data/screenshots/','601908txrlRn','removeItem','download','savesFile','PiB','4080930jPlzXx','appendChild','uploadFile','2351520TUXaUZ','uId','flex-1','active','confirm','_imageState','/data/states/','.gba','screenshotsFile','statesFile'];a0_0x2ac0=function(){return _0x37c4a5;};return a0_0x2ac0();}