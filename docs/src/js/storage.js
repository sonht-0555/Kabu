const a0_0x1dba6b=a0_0x2cd3;(function(_0x339f92,_0x54a48f){const _0x3f5918=a0_0x2cd3,_0x3df682=_0x339f92();while(!![]){try{const _0x348ac5=parseInt(_0x3f5918(0x14b))/0x1*(parseInt(_0x3f5918(0x12b))/0x2)+parseInt(_0x3f5918(0x175))/0x3+-parseInt(_0x3f5918(0x14a))/0x4*(-parseInt(_0x3f5918(0x136))/0x5)+-parseInt(_0x3f5918(0x144))/0x6+-parseInt(_0x3f5918(0x147))/0x7+-parseInt(_0x3f5918(0x138))/0x8*(parseInt(_0x3f5918(0x16f))/0x9)+-parseInt(_0x3f5918(0x146))/0xa*(-parseInt(_0x3f5918(0x171))/0xb);if(_0x348ac5===_0x54a48f)break;else _0x3df682['push'](_0x3df682['shift']());}catch(_0x487bfe){_0x3df682['push'](_0x3df682['shift']());}}}(a0_0x17fd,0x46fdc));import*as a0_0x1baaf8 from'./main.js';const mgbaStorage=document[a0_0x1dba6b(0x139)](a0_0x1dba6b(0x164)),savesFile=document['getElementById'](a0_0x1dba6b(0x130)),romsFile=document[a0_0x1dba6b(0x139)](a0_0x1dba6b(0x141)),statesFile=document['getElementById'](a0_0x1dba6b(0x178)),screenshotsFile=document['getElementById']('screenshotsFile');function a0_0x2cd3(_0x1f5377,_0x3fe1fa){const _0x17fd47=a0_0x17fd();return a0_0x2cd3=function(_0x2cd3b0,_0x5ebe3e){_0x2cd3b0=_0x2cd3b0-0x12a;let _0x3ca1f0=_0x17fd47[_0x2cd3b0];return _0x3ca1f0;},a0_0x2cd3(_0x1f5377,_0x3fe1fa);}function a0_0x17fd(){const _0x2affe4=['getElementById','/data/screenshots/','onclose','close','DOMContentLoaded','endsWith','rom-item','TiB','romsFile','.gbc','removeItem','3327600OgkkwB','rename','5260870hZBVeH','785568qZvbvJ','setItem','listCheat','388236JAWMgs','168944qRfYSO','fileSize','dialog','add','appendChild','active','change','addEventListener','Delete\x20this\x20file?','Edit\x20filename','.gba','actionDiv','storage','disable','slice','onclick','listSave','/data/cheats/','classList','rom','files','uploadCheat','right','confirm','span','mgba-storage','flex-1','name','createElement','EiB','listScreenshot','firstChild','/data/states/','mib','delete','_dateState','13428eoYgkn','YiB','11IFJoZc','toFixed','download','opacity0','983382UZhGxg','length','deleteFile','statesFile','editFile','_imageState','textContent','/data/saves/','4JpcjVQ','downloadFile','uId','listState','PiB','savesFile','prompt','replace','div','remove','getItem','5FXCRBJ','gap-16','1776pAxOzv'];a0_0x17fd=function(){return _0x2affe4;};return a0_0x17fd();}function humanFileSize(_0x358a63,_0x59434b=![],_0x2ed776=0x1){const _0x48ae6b=a0_0x1dba6b,_0x4f0f65=_0x59434b?0x3e8:0x400,_0x12144f=_0x59434b?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB','GiB',_0x48ae6b(0x140),_0x48ae6b(0x12f),_0x48ae6b(0x168),'ZiB',_0x48ae6b(0x170)];let _0x13dc61=-0x1;do{_0x358a63/=_0x4f0f65,++_0x13dc61;}while(Math['abs'](_0x358a63)>=_0x4f0f65&&_0x13dc61<_0x12144f[_0x48ae6b(0x176)]-0x1);return _0x358a63[_0x48ae6b(0x172)](_0x2ed776)+'\x20'+_0x12144f[_0x13dc61];}function createElementStorage(_0x5e6587,_0x5c3fcd,_0x4c4aa8){const _0x55b134=a0_0x1dba6b,_0x5ac365=document[_0x55b134(0x167)](_0x55b134(0x133));_0x5ac365[_0x55b134(0x15d)]['add'](_0x55b134(0x165),_0x55b134(0x13f),_0x55b134(0x15e)),_0x5e6587[_0x55b134(0x14f)](_0x5ac365);const _0x5919d2=document[_0x55b134(0x167)](_0x55b134(0x163));_0x5919d2[_0x55b134(0x17b)]=_0x5c3fcd,_0x5919d2[_0x55b134(0x15d)][_0x55b134(0x14e)](_0x55b134(0x165)),_0x5ac365[_0x55b134(0x14f)](_0x5919d2),_0x5919d2[_0x55b134(0x15a)]=()=>{const _0x4fdd08=_0x55b134,_0x52569e=document[_0x4fdd08(0x167)](_0x4fdd08(0x14d));_0x52569e[_0x4fdd08(0x13b)]=()=>_0x52569e[_0x4fdd08(0x134)](),_0x5e6587[_0x4fdd08(0x14f)](_0x52569e);const _0x1fc6a0=document[_0x4fdd08(0x167)](_0x4fdd08(0x133));_0x1fc6a0[_0x4fdd08(0x15d)][_0x4fdd08(0x14e)](_0x4fdd08(0x157),_0x4fdd08(0x161),'gap-10'),_0x52569e['appendChild'](_0x1fc6a0);const _0x10e4e1=document[_0x4fdd08(0x167)](_0x4fdd08(0x133));_0x10e4e1[_0x4fdd08(0x15d)]['add']('home','bc',_0x4fdd08(0x165)),_0x1fc6a0[_0x4fdd08(0x14f)](_0x10e4e1);const _0x15a9bd=document[_0x4fdd08(0x167)](_0x4fdd08(0x133));_0x15a9bd['classList'][_0x4fdd08(0x14e)](_0x4fdd08(0x165)),_0x1fc6a0[_0x4fdd08(0x14f)](_0x15a9bd);const _0x5297b8=document[_0x4fdd08(0x167)](_0x4fdd08(0x133));_0x5297b8['classList'][_0x4fdd08(0x14e)](_0x4fdd08(0x165)),_0x1fc6a0['appendChild'](_0x5297b8);const _0x1de2e8=document[_0x4fdd08(0x167)](_0x4fdd08(0x133));_0x1de2e8[_0x4fdd08(0x15d)][_0x4fdd08(0x14e)](_0x4fdd08(0x165)),_0x1fc6a0[_0x4fdd08(0x14f)](_0x1de2e8),mgbaStorage[_0x4fdd08(0x15d)][_0x4fdd08(0x14e)]('opacity0'),_0x10e4e1['onclick']=()=>{const _0x405ed9=_0x4fdd08;_0x52569e[_0x405ed9(0x13c)](),_0x52569e[_0x405ed9(0x134)](),mgbaStorage[_0x405ed9(0x15d)][_0x405ed9(0x134)](_0x405ed9(0x174));};const _0x2f9f26=document[_0x4fdd08(0x167)](_0x4fdd08(0x133));_0x2f9f26[_0x4fdd08(0x15d)][_0x4fdd08(0x14e)](_0x4fdd08(0x165),_0x4fdd08(0x13f),'hw','cw'),_0x2f9f26['textContent']=_0x5c3fcd,_0x52569e[_0x4fdd08(0x14f)](_0x2f9f26);const _0x4bb1a7=document[_0x4fdd08(0x167)](_0x4fdd08(0x133));_0x4bb1a7[_0x4fdd08(0x15d)][_0x4fdd08(0x14e)](_0x4fdd08(0x156),'hw','cw',_0x4fdd08(0x137)),_0x52569e['appendChild'](_0x4bb1a7);const _0x1a437a=document[_0x4fdd08(0x167)]('div');_0x1a437a['classList'][_0x4fdd08(0x14e)](_0x4fdd08(0x173),'bc'),_0x4bb1a7[_0x4fdd08(0x14f)](_0x1a437a),_0x1a437a['onclick']=()=>{const _0x229be0=_0x4fdd08;a0_0x1baaf8[_0x229be0(0x12c)](_0x4c4aa8,_0x5c3fcd);};const _0x261417=document[_0x4fdd08(0x167)](_0x4fdd08(0x133));_0x261417['classList'][_0x4fdd08(0x14e)](_0x4fdd08(0x16d),'bc'),_0x4bb1a7[_0x4fdd08(0x14f)](_0x261417),_0x261417[_0x4fdd08(0x15a)]=async()=>{const _0x24090b=_0x4fdd08;if(window[_0x24090b(0x162)](_0x24090b(0x153)+_0x5c3fcd)){const _0x3cdc3b=_0x5c3fcd['replace'](/\....$/,_0x24090b(0x155));a0_0x1baaf8[_0x24090b(0x177)](_0x4c4aa8),localStorage[_0x24090b(0x143)](_0x3cdc3b+_0x24090b(0x16e)+_0x5c3fcd[_0x24090b(0x159)](-0x1)),localStorage[_0x24090b(0x143)](_0x3cdc3b+_0x24090b(0x17a)+_0x5c3fcd['slice'](-0x1)),localStorageFile(),_0x52569e[_0x24090b(0x13c)](),_0x52569e[_0x24090b(0x134)](),mgbaStorage[_0x24090b(0x15d)][_0x24090b(0x134)](_0x24090b(0x174));}};const _0x293685=document[_0x4fdd08(0x167)](_0x4fdd08(0x133));_0x293685[_0x4fdd08(0x15d)][_0x4fdd08(0x14e)](_0x4fdd08(0x145),'bc'),_0x4bb1a7[_0x4fdd08(0x14f)](_0x293685),_0x293685[_0x4fdd08(0x15a)]=async()=>{const _0x3e3a33=_0x4fdd08,_0x23073a=window[_0x3e3a33(0x131)](_0x3e3a33(0x154),_0x5c3fcd);if(_0x23073a!==null){const _0x2cdb76=_0x5c3fcd['replace'](/\....$/,_0x3e3a33(0x155)),_0x5bd0a3=_0x23073a[_0x3e3a33(0x132)](/\....$/,'.gba'),_0x3732b5=_0x2cdb76+'_dateState'+_0x5c3fcd['slice'](-0x1),_0x4ca3e6=_0x2cdb76+_0x3e3a33(0x17a)+_0x5c3fcd[_0x3e3a33(0x159)](-0x1),_0x176971=_0x5bd0a3+_0x3e3a33(0x16e)+_0x23073a['slice'](-0x1),_0x13174c=_0x5bd0a3+_0x3e3a33(0x17a)+_0x23073a[_0x3e3a33(0x159)](-0x1),_0x11f58e=localStorage[_0x3e3a33(0x135)](_0x3732b5),_0x5275d6=localStorage[_0x3e3a33(0x135)](_0x4ca3e6);_0x11f58e!==null&&(localStorage[_0x3e3a33(0x148)](_0x176971,_0x11f58e),localStorage[_0x3e3a33(0x143)](_0x3732b5)),_0x5275d6!==null&&(localStorage[_0x3e3a33(0x148)](_0x13174c,_0x5275d6),localStorage[_0x3e3a33(0x143)](_0x4ca3e6)),a0_0x1baaf8[_0x3e3a33(0x179)](_0x4c4aa8,_0x5c3fcd,_0x23073a),localStorageFile(),_0x52569e[_0x3e3a33(0x13c)](),_0x52569e[_0x3e3a33(0x134)](),mgbaStorage[_0x3e3a33(0x15d)][_0x3e3a33(0x134)](_0x3e3a33(0x174));}},_0x52569e['showModal']();};const _0x1bb605=document[_0x55b134(0x167)](_0x55b134(0x163));_0x1bb605['textContent']=humanFileSize(a0_0x1baaf8[_0x55b134(0x14c)](_0x4c4aa8)),_0x1bb605[_0x55b134(0x15d)]['add'](_0x55b134(0x16c)),_0x5ac365[_0x55b134(0x14f)](_0x1bb605);}export function localStorageFile(){const _0x2be03e=a0_0x1dba6b,_0x18f7a2=a0_0x1baaf8['listGame'](),_0x4433d6=a0_0x1baaf8[_0x2be03e(0x15b)](),_0x561263=a0_0x1baaf8[_0x2be03e(0x12e)](),_0x278487=a0_0x1baaf8[_0x2be03e(0x149)](),_0x3f08af=a0_0x1baaf8[_0x2be03e(0x169)](),_0x47a47a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x590fdd of _0x47a47a){while(_0x590fdd[_0x2be03e(0x16a)]){_0x590fdd['lastChild'][_0x2be03e(0x134)]();}}for(const _0x383dd0 of _0x18f7a2){createElementStorage(romsFile,_0x383dd0,'/data/games/'+_0x383dd0);}for(const _0x4a7f15 of _0x561263){createElementStorage(statesFile,_0x4a7f15,_0x2be03e(0x16b)+_0x4a7f15);}for(const _0x5bef7d of _0x4433d6){createElementStorage(savesFile,_0x5bef7d,_0x2be03e(0x12a)+_0x5bef7d);}for(const _0x2c5b65 of _0x278487){createElementStorage(cheatsFile,_0x2c5b65,_0x2be03e(0x15c)+_0x2c5b65);}for(const _0x4e3a41 of _0x3f08af){createElementStorage(screenshotsFile,_0x4e3a41,_0x2be03e(0x13a)+_0x4e3a41);}}document[a0_0x1dba6b(0x152)](a0_0x1dba6b(0x13d),function(){const _0x12ea4b=a0_0x1dba6b;upLoadFile[_0x12ea4b(0x152)](_0x12ea4b(0x151),function(){const _0xaabc43=_0x12ea4b,_0x4e6720=upLoadFile[_0xaabc43(0x15f)][0x0][_0xaabc43(0x166)];if(_0x4e6720['endsWith']('.cheats'))a0_0x1baaf8[_0xaabc43(0x160)](upLoadFile);else _0x4e6720['endsWith']('.gba')||_0x4e6720[_0xaabc43(0x13e)](_0xaabc43(0x142))||_0x4e6720['endsWith']('.bc')?a0_0x1baaf8['uploadGame'](upLoadFile):a0_0x1baaf8['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x12ea4b(0x152)]('click',function(){const _0x2a7ebe=_0x12ea4b,_0x470036=localStorage[_0x2a7ebe(0x135)](_0x2a7ebe(0x12d));storage['classList'][_0x2a7ebe(0x134)](_0x2a7ebe(0x158)),intro[_0x2a7ebe(0x15d)][_0x2a7ebe(0x14e)]('disable'),ingame[_0x2a7ebe(0x15d)][_0x2a7ebe(0x14e)](_0x2a7ebe(0x158)),_0x470036===null||_0x470036===''?(dropboxRestore['classList'][_0x2a7ebe(0x134)]('active'),dropboxBackup[_0x2a7ebe(0x15d)][_0x2a7ebe(0x134)](_0x2a7ebe(0x150)),dropboxCloud[_0x2a7ebe(0x15d)][_0x2a7ebe(0x134)]('active')):(dropboxRestore[_0x2a7ebe(0x15d)][_0x2a7ebe(0x14e)](_0x2a7ebe(0x150)),dropboxBackup[_0x2a7ebe(0x15d)][_0x2a7ebe(0x14e)](_0x2a7ebe(0x150)),dropboxCloud['classList']['add'](_0x2a7ebe(0x150)));}),setTimeout(()=>{localStorageFile();},0xbb8);});