const a0_0x3ba3e6=a0_0x1fac;(function(_0x50b048,_0x36728e){const _0x1be903=a0_0x1fac,_0x1dc7f8=_0x50b048();while(!![]){try{const _0x4ab3f1=-parseInt(_0x1be903(0x1f6))/0x1+parseInt(_0x1be903(0x216))/0x2*(parseInt(_0x1be903(0x211))/0x3)+parseInt(_0x1be903(0x1e5))/0x4+parseInt(_0x1be903(0x228))/0x5*(parseInt(_0x1be903(0x21f))/0x6)+-parseInt(_0x1be903(0x200))/0x7*(parseInt(_0x1be903(0x227))/0x8)+parseInt(_0x1be903(0x215))/0x9+-parseInt(_0x1be903(0x21d))/0xa*(-parseInt(_0x1be903(0x1f4))/0xb);if(_0x4ab3f1===_0x36728e)break;else _0x1dc7f8['push'](_0x1dc7f8['shift']());}catch(_0x445cc9){_0x1dc7f8['push'](_0x1dc7f8['shift']());}}}(a0_0x3975,0x76962));import*as a0_0x26f2cd from'./main.js';const mgbaStorage=document[a0_0x3ba3e6(0x220)](a0_0x3ba3e6(0x221)),savesFile=document[a0_0x3ba3e6(0x220)](a0_0x3ba3e6(0x1e6)),romsFile=document[a0_0x3ba3e6(0x220)](a0_0x3ba3e6(0x20b)),statesFile=document[a0_0x3ba3e6(0x220)](a0_0x3ba3e6(0x205)),screenshotsFile=document[a0_0x3ba3e6(0x220)](a0_0x3ba3e6(0x20e));function a0_0x3975(){const _0x58f974=['rename','ZiB','listFiles','gap-16','editFile','romsFile','addEventListener','saves','screenshotsFile','firstChild','opacity0','252138kScQZF','active','/data/games/','MiB','3594402VmPFpS','16jKqCFq','/data/saves/','flex-1','_dateState','onclick','abs','click','20EtAsPD','toFixed','12UTanuP','getElementById','mgba-storage','_imageState','classList','lastChild','PiB','prompt','6728104KNaKOz','654715UbbNGr','disable','uId','add','cheats','rom-item','1587844ukTcam','savesFile','/data/screenshots/','rom','KiB','games','close','showModal','span','div','gap-10','createElement','deleteFile','GiB','length','1966987yyoZIE','states','761484BIkOXC','right','fileSize','onclose','TiB','delete','Delete\x20this\x20file?','textContent','remove','removeItem','7OVYHUP','EiB','/data/cheats/','appendChild','/data/states/','statesFile'];a0_0x3975=function(){return _0x58f974;};return a0_0x3975();}function humanFileSize(_0x288a78,_0x54feff=![],_0x90eb22=0x1){const _0x1afbf1=a0_0x3ba3e6,_0x502df5=_0x54feff?0x3e8:0x400,_0x4ac98c=_0x54feff?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1afbf1(0x1e9),_0x1afbf1(0x214),_0x1afbf1(0x1f2),_0x1afbf1(0x1fa),_0x1afbf1(0x225),_0x1afbf1(0x201),_0x1afbf1(0x207),'YiB'];let _0xef8e8c=-0x1;do{_0x288a78/=_0x502df5,++_0xef8e8c;}while(Math[_0x1afbf1(0x21b)](_0x288a78)>=_0x502df5&&_0xef8e8c<_0x4ac98c[_0x1afbf1(0x1f3)]-0x1);return _0x288a78[_0x1afbf1(0x21e)](_0x90eb22)+'\x20'+_0x4ac98c[_0xef8e8c];}function a0_0x1fac(_0x246943,_0x181bc8){const _0x397539=a0_0x3975();return a0_0x1fac=function(_0x1fac7e,_0x190539){_0x1fac7e=_0x1fac7e-0x1e0;let _0xb29bf4=_0x397539[_0x1fac7e];return _0xb29bf4;},a0_0x1fac(_0x246943,_0x181bc8);}function createElementStorage(_0x44a15d,_0x1bbf69,_0x1fd837){const _0x91ee82=a0_0x3ba3e6,_0x28b5f3=document[_0x91ee82(0x1f0)](_0x91ee82(0x1ee));_0x28b5f3[_0x91ee82(0x223)][_0x91ee82(0x1e2)]('flex-1',_0x91ee82(0x1e4),_0x91ee82(0x1e8)),_0x44a15d[_0x91ee82(0x203)](_0x28b5f3);const _0x31e2ad=document[_0x91ee82(0x1f0)]('span');_0x31e2ad[_0x91ee82(0x1fd)]=_0x1bbf69,_0x31e2ad[_0x91ee82(0x223)][_0x91ee82(0x1e2)](_0x91ee82(0x218)),_0x28b5f3[_0x91ee82(0x203)](_0x31e2ad),_0x31e2ad[_0x91ee82(0x21a)]=()=>{const _0x502cb2=_0x91ee82,_0x549834=document[_0x502cb2(0x1f0)]('dialog');_0x549834[_0x502cb2(0x1f9)]=()=>_0x549834['remove'](),_0x44a15d[_0x502cb2(0x203)](_0x549834);const _0x1bc29a=document['createElement'](_0x502cb2(0x1ee));_0x1bc29a[_0x502cb2(0x223)][_0x502cb2(0x1e2)]('storage',_0x502cb2(0x1f7),_0x502cb2(0x1ef)),_0x549834[_0x502cb2(0x203)](_0x1bc29a);const _0x38541c=document['createElement'](_0x502cb2(0x1ee));_0x38541c['classList'][_0x502cb2(0x1e2)]('home','bc',_0x502cb2(0x218)),_0x1bc29a[_0x502cb2(0x203)](_0x38541c);const _0xa741d5=document['createElement']('div');_0xa741d5[_0x502cb2(0x223)]['add'](_0x502cb2(0x218)),_0x1bc29a[_0x502cb2(0x203)](_0xa741d5);const _0x283b2e=document[_0x502cb2(0x1f0)](_0x502cb2(0x1ee));_0x283b2e[_0x502cb2(0x223)][_0x502cb2(0x1e2)](_0x502cb2(0x218)),_0x1bc29a[_0x502cb2(0x203)](_0x283b2e);const _0x19aa98=document[_0x502cb2(0x1f0)](_0x502cb2(0x1ee));_0x19aa98['classList'][_0x502cb2(0x1e2)]('flex-1'),_0x1bc29a[_0x502cb2(0x203)](_0x19aa98),mgbaStorage['classList'][_0x502cb2(0x1e2)](_0x502cb2(0x210)),_0x38541c[_0x502cb2(0x21a)]=()=>{const _0x32c963=_0x502cb2;_0x549834[_0x32c963(0x1eb)](),_0x549834[_0x32c963(0x1fe)](),mgbaStorage[_0x32c963(0x223)][_0x32c963(0x1fe)](_0x32c963(0x210));};const _0x9e8e25=document[_0x502cb2(0x1f0)](_0x502cb2(0x1ee));_0x9e8e25[_0x502cb2(0x223)][_0x502cb2(0x1e2)](_0x502cb2(0x218),_0x502cb2(0x1e4),'hw','cw'),_0x9e8e25['textContent']=_0x1bbf69,_0x549834[_0x502cb2(0x203)](_0x9e8e25);const _0x30501a=document[_0x502cb2(0x1f0)](_0x502cb2(0x1ee));_0x30501a[_0x502cb2(0x223)][_0x502cb2(0x1e2)]('actionDiv','hw','cw',_0x502cb2(0x209)),_0x549834[_0x502cb2(0x203)](_0x30501a);const _0x1f4e67=document[_0x502cb2(0x1f0)](_0x502cb2(0x1ee));_0x1f4e67['classList'][_0x502cb2(0x1e2)]('download','bc'),_0x30501a[_0x502cb2(0x203)](_0x1f4e67),_0x1f4e67[_0x502cb2(0x21a)]=()=>{a0_0x26f2cd['downloadFile'](_0x1fd837,_0x1bbf69);};const _0x31d316=document['createElement']('div');_0x31d316[_0x502cb2(0x223)][_0x502cb2(0x1e2)](_0x502cb2(0x1fb),'bc'),_0x30501a[_0x502cb2(0x203)](_0x31d316),_0x31d316[_0x502cb2(0x21a)]=async()=>{const _0x589b27=_0x502cb2;if(window['confirm'](_0x589b27(0x1fc)+_0x1bbf69)){const _0x423056=_0x1bbf69['replace'](/\....$/,'.gba');a0_0x26f2cd[_0x589b27(0x1f1)](_0x1fd837),localStorage[_0x589b27(0x1ff)](_0x423056+_0x589b27(0x219)+_0x1bbf69['slice'](-0x1)),localStorage['removeItem'](_0x423056+_0x589b27(0x222)+_0x1bbf69['slice'](-0x1)),localStorageFile(),_0x549834[_0x589b27(0x1eb)](),_0x549834[_0x589b27(0x1fe)](),mgbaStorage[_0x589b27(0x223)][_0x589b27(0x1fe)](_0x589b27(0x210));}};const _0x2b2670=document[_0x502cb2(0x1f0)](_0x502cb2(0x1ee));_0x2b2670[_0x502cb2(0x223)][_0x502cb2(0x1e2)](_0x502cb2(0x206),'bc'),_0x30501a['appendChild'](_0x2b2670),_0x2b2670[_0x502cb2(0x21a)]=async()=>{const _0x203a45=_0x502cb2,_0x41f6c2=window[_0x203a45(0x226)]('Edit\x20filename',_0x1bbf69);_0x41f6c2!==null&&(a0_0x26f2cd[_0x203a45(0x20a)](_0x1fd837,_0x1bbf69,_0x41f6c2),localStorageFile(),_0x549834['close'](),_0x549834[_0x203a45(0x1fe)](),mgbaStorage[_0x203a45(0x223)][_0x203a45(0x1fe)](_0x203a45(0x210)));},_0x549834[_0x502cb2(0x1ec)]();};const _0x9cee5=document[_0x91ee82(0x1f0)](_0x91ee82(0x1ed));_0x9cee5[_0x91ee82(0x1fd)]=humanFileSize(a0_0x26f2cd[_0x91ee82(0x1f8)](_0x1fd837)),_0x9cee5[_0x91ee82(0x223)][_0x91ee82(0x1e2)]('mib'),_0x28b5f3[_0x91ee82(0x203)](_0x9cee5);}export function localStorageFile(){const _0x22eee4=a0_0x3ba3e6,_0x35bbfa=a0_0x26f2cd['listFiles'](_0x22eee4(0x1ea)),_0x27c311=a0_0x26f2cd['listFiles'](_0x22eee4(0x20d)),_0xa99041=a0_0x26f2cd[_0x22eee4(0x208)](_0x22eee4(0x1f5)),_0x2979e1=a0_0x26f2cd[_0x22eee4(0x208)](_0x22eee4(0x1e3)),_0x20778d=a0_0x26f2cd[_0x22eee4(0x208)]('screenshots'),_0x39d8ff=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x16e92d of _0x39d8ff){while(_0x16e92d[_0x22eee4(0x20f)]){_0x16e92d[_0x22eee4(0x224)]['remove']();}}for(const _0x39ee40 of _0x35bbfa){createElementStorage(romsFile,_0x39ee40,_0x22eee4(0x213)+_0x39ee40);}for(const _0x14e323 of _0xa99041){createElementStorage(statesFile,_0x14e323,_0x22eee4(0x204)+_0x14e323);}for(const _0x531887 of _0x27c311){createElementStorage(savesFile,_0x531887,_0x22eee4(0x217)+_0x531887);}for(const _0x5eee52 of _0x2979e1){createElementStorage(cheatsFile,_0x5eee52,_0x22eee4(0x202)+_0x5eee52);}for(const _0x25871c of _0x20778d){createElementStorage(screenshotsFile,_0x25871c,_0x22eee4(0x1e7)+_0x25871c);}}document[a0_0x3ba3e6(0x20c)]('DOMContentLoaded',function(){const _0x2ba504=a0_0x3ba3e6;upLoadFile['addEventListener']('change',function(){a0_0x26f2cd['uploadFile'](upLoadFile);}),openLocalStorage[_0x2ba504(0x20c)](_0x2ba504(0x21c),function(){const _0x12d4c5=_0x2ba504,_0x112202=localStorage['getItem'](_0x12d4c5(0x1e1));storage['classList']['remove'](_0x12d4c5(0x1e0)),intro[_0x12d4c5(0x223)][_0x12d4c5(0x1e2)](_0x12d4c5(0x1e0)),ingame[_0x12d4c5(0x223)][_0x12d4c5(0x1e2)](_0x12d4c5(0x1e0)),_0x112202===null||_0x112202===''?(dropboxRestore[_0x12d4c5(0x223)][_0x12d4c5(0x1fe)](_0x12d4c5(0x212)),dropboxBackup[_0x12d4c5(0x223)]['remove'](_0x12d4c5(0x212)),dropboxCloud[_0x12d4c5(0x223)]['remove'](_0x12d4c5(0x212))):(dropboxRestore[_0x12d4c5(0x223)][_0x12d4c5(0x1e2)]('active'),dropboxBackup['classList'][_0x12d4c5(0x1e2)]('active'),dropboxCloud['classList']['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});