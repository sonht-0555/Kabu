const a0_0x2c8509=a0_0x535b;(function(_0x8bcae3,_0xca51f7){const _0x35d796=a0_0x535b,_0x31c5bd=_0x8bcae3();while(!![]){try{const _0x1a07d5=-parseInt(_0x35d796(0x1a3))/0x1+-parseInt(_0x35d796(0x19e))/0x2+parseInt(_0x35d796(0x1b2))/0x3*(-parseInt(_0x35d796(0x18d))/0x4)+-parseInt(_0x35d796(0x195))/0x5*(-parseInt(_0x35d796(0x1cb))/0x6)+parseInt(_0x35d796(0x1c5))/0x7+-parseInt(_0x35d796(0x198))/0x8+-parseInt(_0x35d796(0x1c0))/0x9*(-parseInt(_0x35d796(0x19f))/0xa);if(_0x1a07d5===_0xca51f7)break;else _0x31c5bd['push'](_0x31c5bd['shift']());}catch(_0xa499e){_0x31c5bd['push'](_0x31c5bd['shift']());}}}(a0_0x3599,0xa9660));import*as a0_0xf4b781 from'./main.js';const mgbaStorage=document['getElementById']('mgba-storage'),savesFile=document['getElementById'](a0_0x2c8509(0x1ba)),romsFile=document[a0_0x2c8509(0x188)](a0_0x2c8509(0x1b6)),statesFile=document[a0_0x2c8509(0x188)](a0_0x2c8509(0x1b4)),screenshotsFile=document[a0_0x2c8509(0x188)](a0_0x2c8509(0x1c9));function a0_0x3599(){const _0x51e4ba=['opacity0','statesFile','gap-10','romsFile','_dateState','uId','rename','savesFile','states','Delete\x20this\x20file?','flex-1','screenshots','uploadFile','28395UJmYDD','disable','confirm','showModal','createElement','918162sjCbHc','active','EiB','TiB','screenshotsFile','ZiB','91698JXXZgw','/data/games/','slice','textContent','abs','/data/screenshots/','GiB','KiB','getElementById','getItem','classList','close','onclick','8txdirC','home','gap-16','YiB','replace','actionDiv','add','downloadFile','415GjHvcr','remove','Edit\x20filename','10008344XyNAQS','/data/cheats/','PiB','div','storage','onclose','1925156ciEuVK','12910TZBVra','/data/saves/','removeItem','right','1208689dcKbvE','addEventListener','listFiles','delete','rom','appendChild','mib','cheats','saves','rom-item','span','firstChild','/data/states/','download','_imageState','2034891OxHEPQ'];a0_0x3599=function(){return _0x51e4ba;};return a0_0x3599();}function humanFileSize(_0x1a2ede,_0x203360=![],_0x4f0a01=0x1){const _0x5505ba=a0_0x2c8509,_0x42395e=_0x203360?0x3e8:0x400,_0x4b65ad=_0x203360?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5505ba(0x187),'MiB',_0x5505ba(0x186),_0x5505ba(0x1c8),_0x5505ba(0x19a),_0x5505ba(0x1c7),_0x5505ba(0x1ca),_0x5505ba(0x190)];let _0x25e116=-0x1;do{_0x1a2ede/=_0x42395e,++_0x25e116;}while(Math[_0x5505ba(0x1cf)](_0x1a2ede)>=_0x42395e&&_0x25e116<_0x4b65ad['length']-0x1);return _0x1a2ede['toFixed'](_0x4f0a01)+'\x20'+_0x4b65ad[_0x25e116];}function a0_0x535b(_0x392bf7,_0x1cbcf0){const _0x3599d5=a0_0x3599();return a0_0x535b=function(_0x535b0c,_0x4e9ca0){_0x535b0c=_0x535b0c-0x186;let _0x2bc426=_0x3599d5[_0x535b0c];return _0x2bc426;},a0_0x535b(_0x392bf7,_0x1cbcf0);}function createElementStorage(_0x3b4fbc,_0x382df5,_0x242388){const _0x13ac2f=a0_0x2c8509,_0x2e5a37=document[_0x13ac2f(0x1c4)](_0x13ac2f(0x19b));_0x2e5a37[_0x13ac2f(0x18a)][_0x13ac2f(0x193)](_0x13ac2f(0x1bd),_0x13ac2f(0x1ac),_0x13ac2f(0x1a7)),_0x3b4fbc[_0x13ac2f(0x1a8)](_0x2e5a37);const _0x288fb0=document['createElement'](_0x13ac2f(0x1ad));_0x288fb0[_0x13ac2f(0x1ce)]=_0x382df5,_0x288fb0[_0x13ac2f(0x18a)][_0x13ac2f(0x193)]('flex-1'),_0x2e5a37[_0x13ac2f(0x1a8)](_0x288fb0),_0x288fb0['onclick']=()=>{const _0x277f03=_0x13ac2f,_0x129565=document[_0x277f03(0x1c4)]('dialog');_0x129565[_0x277f03(0x19d)]=()=>_0x129565[_0x277f03(0x196)](),_0x3b4fbc['appendChild'](_0x129565);const _0x38c763=document['createElement'](_0x277f03(0x19b));_0x38c763[_0x277f03(0x18a)][_0x277f03(0x193)](_0x277f03(0x19c),_0x277f03(0x1a2),_0x277f03(0x1b5)),_0x129565[_0x277f03(0x1a8)](_0x38c763);const _0x164277=document[_0x277f03(0x1c4)](_0x277f03(0x19b));_0x164277[_0x277f03(0x18a)]['add'](_0x277f03(0x18e),'bc',_0x277f03(0x1bd)),_0x38c763['appendChild'](_0x164277);const _0x115378=document[_0x277f03(0x1c4)](_0x277f03(0x19b));_0x115378[_0x277f03(0x18a)][_0x277f03(0x193)]('flex-1'),_0x38c763[_0x277f03(0x1a8)](_0x115378);const _0x48216f=document[_0x277f03(0x1c4)]('div');_0x48216f['classList'][_0x277f03(0x193)](_0x277f03(0x1bd)),_0x38c763[_0x277f03(0x1a8)](_0x48216f);const _0x53d5dc=document[_0x277f03(0x1c4)]('div');_0x53d5dc['classList'][_0x277f03(0x193)](_0x277f03(0x1bd)),_0x38c763[_0x277f03(0x1a8)](_0x53d5dc),mgbaStorage[_0x277f03(0x18a)][_0x277f03(0x193)](_0x277f03(0x1b3)),_0x164277[_0x277f03(0x18c)]=()=>{const _0x3da22e=_0x277f03;_0x129565[_0x3da22e(0x18b)](),_0x129565['remove'](),mgbaStorage['classList'][_0x3da22e(0x196)]('opacity0');};const _0x39bb34=document[_0x277f03(0x1c4)](_0x277f03(0x19b));_0x39bb34[_0x277f03(0x18a)]['add'](_0x277f03(0x1bd),_0x277f03(0x1ac),'hw','cw'),_0x39bb34['textContent']=_0x382df5,_0x129565[_0x277f03(0x1a8)](_0x39bb34);const _0x567bcd=document['createElement'](_0x277f03(0x19b));_0x567bcd['classList'][_0x277f03(0x193)](_0x277f03(0x192),'hw','cw',_0x277f03(0x18f)),_0x129565[_0x277f03(0x1a8)](_0x567bcd);const _0x2f7f54=document[_0x277f03(0x1c4)](_0x277f03(0x19b));_0x2f7f54[_0x277f03(0x18a)][_0x277f03(0x193)](_0x277f03(0x1b0),'bc'),_0x567bcd[_0x277f03(0x1a8)](_0x2f7f54),_0x2f7f54[_0x277f03(0x18c)]=()=>{const _0x58f987=_0x277f03;a0_0xf4b781[_0x58f987(0x194)](_0x242388,_0x382df5);};const _0x17e689=document['createElement'](_0x277f03(0x19b));_0x17e689[_0x277f03(0x18a)][_0x277f03(0x193)](_0x277f03(0x1a6),'bc'),_0x567bcd['appendChild'](_0x17e689),_0x17e689[_0x277f03(0x18c)]=async()=>{const _0x5383c2=_0x277f03;if(window[_0x5383c2(0x1c2)](_0x5383c2(0x1bc)+_0x382df5)){const _0x21492b=_0x382df5[_0x5383c2(0x191)](/\....$/,'.gba');a0_0xf4b781['deleteFile'](_0x242388),localStorage[_0x5383c2(0x1a1)](_0x21492b+_0x5383c2(0x1b7)+_0x382df5[_0x5383c2(0x1cd)](-0x1)),localStorage['removeItem'](_0x21492b+_0x5383c2(0x1b1)+_0x382df5[_0x5383c2(0x1cd)](-0x1)),localStorageFile(),_0x129565[_0x5383c2(0x18b)](),_0x129565[_0x5383c2(0x196)](),mgbaStorage['classList']['remove'](_0x5383c2(0x1b3));}};const _0xef942e=document[_0x277f03(0x1c4)]('div');_0xef942e[_0x277f03(0x18a)][_0x277f03(0x193)](_0x277f03(0x1b9),'bc'),_0x567bcd[_0x277f03(0x1a8)](_0xef942e),_0xef942e[_0x277f03(0x18c)]=async()=>{const _0x48ff5d=_0x277f03,_0xfdc5c6=window['prompt'](_0x48ff5d(0x197),_0x382df5);_0xfdc5c6!==null&&(a0_0xf4b781['editFile'](_0x242388,_0x382df5,_0xfdc5c6),localStorageFile(),_0x129565['close'](),_0x129565[_0x48ff5d(0x196)](),mgbaStorage[_0x48ff5d(0x18a)][_0x48ff5d(0x196)](_0x48ff5d(0x1b3)));},_0x129565[_0x277f03(0x1c3)]();};const _0x49c42a=document[_0x13ac2f(0x1c4)](_0x13ac2f(0x1ad));_0x49c42a['textContent']=humanFileSize(a0_0xf4b781['fileSize'](_0x242388)),_0x49c42a[_0x13ac2f(0x18a)][_0x13ac2f(0x193)](_0x13ac2f(0x1a9)),_0x2e5a37['appendChild'](_0x49c42a);}export function localStorageFile(){const _0x3c4e1b=a0_0x2c8509,_0x29f9da=a0_0xf4b781[_0x3c4e1b(0x1a5)]('games'),_0x2c8fe9=a0_0xf4b781[_0x3c4e1b(0x1a5)](_0x3c4e1b(0x1ab)),_0x4ffc4f=a0_0xf4b781[_0x3c4e1b(0x1a5)](_0x3c4e1b(0x1bb)),_0x503309=a0_0xf4b781['listFiles'](_0x3c4e1b(0x1aa)),_0x518727=a0_0xf4b781[_0x3c4e1b(0x1a5)](_0x3c4e1b(0x1be)),_0x384bcd=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x449a07 of _0x384bcd){while(_0x449a07[_0x3c4e1b(0x1ae)]){_0x449a07['lastChild'][_0x3c4e1b(0x196)]();}}for(const _0x4568e7 of _0x29f9da){createElementStorage(romsFile,_0x4568e7,_0x3c4e1b(0x1cc)+_0x4568e7);}for(const _0x1fdd52 of _0x4ffc4f){createElementStorage(statesFile,_0x1fdd52,_0x3c4e1b(0x1af)+_0x1fdd52);}for(const _0x3a07a2 of _0x2c8fe9){createElementStorage(savesFile,_0x3a07a2,_0x3c4e1b(0x1a0)+_0x3a07a2);}for(const _0x4aab8c of _0x503309){createElementStorage(cheatsFile,_0x4aab8c,_0x3c4e1b(0x199)+_0x4aab8c);}for(const _0x29817a of _0x518727){createElementStorage(screenshotsFile,_0x29817a,_0x3c4e1b(0x1d0)+_0x29817a);}}document[a0_0x2c8509(0x1a4)]('DOMContentLoaded',function(){upLoadFile['addEventListener']('change',function(){const _0x9e9793=a0_0x535b;a0_0xf4b781[_0x9e9793(0x1bf)](upLoadFile);}),openLocalStorage['addEventListener']('click',function(){const _0x3e4291=a0_0x535b,_0x5a6b42=localStorage[_0x3e4291(0x189)](_0x3e4291(0x1b8));storage[_0x3e4291(0x18a)]['remove'](_0x3e4291(0x1c1)),intro['classList'][_0x3e4291(0x193)]('disable'),ingame[_0x3e4291(0x18a)][_0x3e4291(0x193)](_0x3e4291(0x1c1)),_0x5a6b42===null||_0x5a6b42===''?(dropboxRestore[_0x3e4291(0x18a)][_0x3e4291(0x196)](_0x3e4291(0x1c6)),dropboxBackup['classList'][_0x3e4291(0x196)](_0x3e4291(0x1c6)),dropboxCloud[_0x3e4291(0x18a)]['remove'](_0x3e4291(0x1c6))):(dropboxRestore[_0x3e4291(0x18a)][_0x3e4291(0x193)](_0x3e4291(0x1c6)),dropboxBackup['classList']['add'](_0x3e4291(0x1c6)),dropboxCloud['classList'][_0x3e4291(0x193)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});