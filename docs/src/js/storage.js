const a0_0x5658ea=a0_0x10e9;(function(_0x36b415,_0x14a42a){const _0x1ed637=a0_0x10e9,_0xd70f6e=_0x36b415();while(!![]){try{const _0x36572a=-parseInt(_0x1ed637(0x92))/0x1*(-parseInt(_0x1ed637(0x88))/0x2)+-parseInt(_0x1ed637(0x75))/0x3+parseInt(_0x1ed637(0x9e))/0x4*(-parseInt(_0x1ed637(0x7a))/0x5)+parseInt(_0x1ed637(0x80))/0x6+-parseInt(_0x1ed637(0xa3))/0x7*(-parseInt(_0x1ed637(0xb8))/0x8)+parseInt(_0x1ed637(0x95))/0x9*(parseInt(_0x1ed637(0x91))/0xa)+-parseInt(_0x1ed637(0xb3))/0xb;if(_0x36572a===_0x14a42a)break;else _0xd70f6e['push'](_0xd70f6e['shift']());}catch(_0x3dd93b){_0xd70f6e['push'](_0xd70f6e['shift']());}}}(a0_0x4bc9,0xea2a7));function a0_0x4bc9(){const _0x54cc2d=['replace','right','/data/screenshots/','8DXzPVY','prompt','classList','span','savesFile','Delete\x20this\x20file?','abs','dialog','cheats','listFiles','textContent','4544142brZbDu','/data/games/','GiB','rom','.gba','65KbzVDS','appendChild','div','gap-10','disable','confirm','2742186HYmadF','KiB','remove','length','createElement','getItem','onclick','rom-item','239878DAlHUW','actionDiv','statesFile','/data/saves/','storage','slice','editFile','uploadFile','uId','13320610QoIsiE','6TqGTtY','romsFile','/data/cheats/','9oVOEGC','add','_dateState','addEventListener','Edit\x20filename','removeItem','fileSize','rename','_imageState','236692cLGLAS','states','getElementById','games','download','11692282qINGpL','toFixed','DOMContentLoaded','flex-1','showModal','opacity0','click','delete','firstChild','ZiB','downloadFile','TiB','active','MiB','/data/states/','close','10295406XHAbIh','mgba-storage'];a0_0x4bc9=function(){return _0x54cc2d;};return a0_0x4bc9();}import*as a0_0x4d3fe1 from'./main.js';const mgbaStorage=document[a0_0x5658ea(0xa0)](a0_0x5658ea(0xb4)),savesFile=document['getElementById'](a0_0x5658ea(0xbc)),romsFile=document[a0_0x5658ea(0xa0)](a0_0x5658ea(0x93)),statesFile=document[a0_0x5658ea(0xa0)](a0_0x5658ea(0x8a)),screenshotsFile=document[a0_0x5658ea(0xa0)]('screenshotsFile');function humanFileSize(_0x27882b,_0x1bd829=![],_0x2dc60a=0x1){const _0x4a38b5=a0_0x5658ea,_0x57c855=_0x1bd829?0x3e8:0x400,_0x1ca61d=_0x1bd829?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4a38b5(0x81),_0x4a38b5(0xb0),_0x4a38b5(0x77),_0x4a38b5(0xae),'PiB','EiB',_0x4a38b5(0xac),'YiB'];let _0x1bac39=-0x1;do{_0x27882b/=_0x57c855,++_0x1bac39;}while(Math[_0x4a38b5(0xbe)](_0x27882b)>=_0x57c855&&_0x1bac39<_0x1ca61d[_0x4a38b5(0x83)]-0x1);return _0x27882b[_0x4a38b5(0xa4)](_0x2dc60a)+'\x20'+_0x1ca61d[_0x1bac39];}function createElementStorage(_0x54b6a6,_0x207172,_0xa30f63){const _0x16bab0=a0_0x5658ea,_0x475ebd=document[_0x16bab0(0x84)]('div');_0x475ebd['classList'][_0x16bab0(0x96)](_0x16bab0(0xa6),'rom-item',_0x16bab0(0x78)),_0x54b6a6['appendChild'](_0x475ebd);const _0x51a2ef=document[_0x16bab0(0x84)](_0x16bab0(0xbb));_0x51a2ef['textContent']=_0x207172,_0x51a2ef['classList'][_0x16bab0(0x96)](_0x16bab0(0xa6)),_0x475ebd['appendChild'](_0x51a2ef),_0x51a2ef[_0x16bab0(0x86)]=()=>{const _0x3d9f79=_0x16bab0,_0x51d479=document[_0x3d9f79(0x84)](_0x3d9f79(0xbf));_0x51d479['onclose']=()=>_0x51d479[_0x3d9f79(0x82)](),_0x54b6a6[_0x3d9f79(0x7b)](_0x51d479);const _0x30abd1=document['createElement'](_0x3d9f79(0x7c));_0x30abd1[_0x3d9f79(0xba)][_0x3d9f79(0x96)](_0x3d9f79(0x8c),_0x3d9f79(0xb6),_0x3d9f79(0x7d)),_0x51d479[_0x3d9f79(0x7b)](_0x30abd1);const _0x4751dd=document[_0x3d9f79(0x84)](_0x3d9f79(0x7c));_0x4751dd[_0x3d9f79(0xba)]['add']('home','bc',_0x3d9f79(0xa6)),_0x30abd1['appendChild'](_0x4751dd);const _0x32d4b8=document[_0x3d9f79(0x84)]('div');_0x32d4b8[_0x3d9f79(0xba)][_0x3d9f79(0x96)](_0x3d9f79(0xa6)),_0x30abd1['appendChild'](_0x32d4b8);const _0x223195=document['createElement'](_0x3d9f79(0x7c));_0x223195[_0x3d9f79(0xba)][_0x3d9f79(0x96)](_0x3d9f79(0xa6)),_0x30abd1[_0x3d9f79(0x7b)](_0x223195);const _0x3d9928=document[_0x3d9f79(0x84)](_0x3d9f79(0x7c));_0x3d9928['classList'][_0x3d9f79(0x96)](_0x3d9f79(0xa6)),_0x30abd1['appendChild'](_0x3d9928),mgbaStorage[_0x3d9f79(0xba)]['add'](_0x3d9f79(0xa8)),_0x4751dd[_0x3d9f79(0x86)]=()=>{const _0x1de92a=_0x3d9f79;_0x51d479[_0x1de92a(0xb2)](),_0x51d479[_0x1de92a(0x82)](),mgbaStorage[_0x1de92a(0xba)]['remove'](_0x1de92a(0xa8));};const _0x4eb607=document['createElement'](_0x3d9f79(0x7c));_0x4eb607['classList']['add'](_0x3d9f79(0xa6),_0x3d9f79(0x87),'hw','cw'),_0x4eb607[_0x3d9f79(0x74)]=_0x207172,_0x51d479[_0x3d9f79(0x7b)](_0x4eb607);const _0x4e6c3b=document[_0x3d9f79(0x84)]('div');_0x4e6c3b['classList'][_0x3d9f79(0x96)](_0x3d9f79(0x89),'hw','cw','gap-16'),_0x51d479['appendChild'](_0x4e6c3b);const _0x123191=document[_0x3d9f79(0x84)](_0x3d9f79(0x7c));_0x123191[_0x3d9f79(0xba)]['add'](_0x3d9f79(0xa2),'bc'),_0x4e6c3b[_0x3d9f79(0x7b)](_0x123191),_0x123191['onclick']=()=>{const _0x56ed2e=_0x3d9f79;a0_0x4d3fe1[_0x56ed2e(0xad)](_0xa30f63,_0x207172);};const _0x3f2f9d=document[_0x3d9f79(0x84)](_0x3d9f79(0x7c));_0x3f2f9d[_0x3d9f79(0xba)][_0x3d9f79(0x96)](_0x3d9f79(0xaa),'bc'),_0x4e6c3b['appendChild'](_0x3f2f9d),_0x3f2f9d[_0x3d9f79(0x86)]=async()=>{const _0x48400d=_0x3d9f79;if(window[_0x48400d(0x7f)](_0x48400d(0xbd)+_0x207172)){const _0x45a1c2=_0x207172[_0x48400d(0xb5)](/\....$/,_0x48400d(0x79));a0_0x4d3fe1['deleteFile'](_0xa30f63),localStorage['removeItem'](_0x45a1c2+_0x48400d(0x97)+_0x207172[_0x48400d(0x8d)](-0x1)),localStorage[_0x48400d(0x9a)](_0x45a1c2+_0x48400d(0x9d)+_0x207172[_0x48400d(0x8d)](-0x1)),localStorageFile(),_0x51d479[_0x48400d(0xb2)](),_0x51d479[_0x48400d(0x82)](),mgbaStorage[_0x48400d(0xba)]['remove']('opacity0');}};const _0x4d28a9=document[_0x3d9f79(0x84)](_0x3d9f79(0x7c));_0x4d28a9['classList'][_0x3d9f79(0x96)](_0x3d9f79(0x9c),'bc'),_0x4e6c3b[_0x3d9f79(0x7b)](_0x4d28a9),_0x4d28a9['onclick']=async()=>{const _0x4e9062=_0x3d9f79,_0x5342be=window[_0x4e9062(0xb9)](_0x4e9062(0x99),_0x207172);_0x5342be!==null&&(a0_0x4d3fe1[_0x4e9062(0x8e)](_0xa30f63,_0x207172,_0x5342be),localStorageFile(),_0x51d479[_0x4e9062(0xb2)](),_0x51d479[_0x4e9062(0x82)](),mgbaStorage[_0x4e9062(0xba)][_0x4e9062(0x82)](_0x4e9062(0xa8)));},_0x51d479[_0x3d9f79(0xa7)]();};const _0x47ad5f=document[_0x16bab0(0x84)](_0x16bab0(0xbb));_0x47ad5f[_0x16bab0(0x74)]=humanFileSize(a0_0x4d3fe1[_0x16bab0(0x9b)](_0xa30f63)),_0x47ad5f[_0x16bab0(0xba)][_0x16bab0(0x96)]('mib'),_0x475ebd[_0x16bab0(0x7b)](_0x47ad5f);}export function localStorageFile(){const _0x2816f7=a0_0x5658ea,_0x1fd1e5=a0_0x4d3fe1['listFiles'](_0x2816f7(0xa1)),_0x16d121=a0_0x4d3fe1[_0x2816f7(0x73)]('saves'),_0x227937=a0_0x4d3fe1[_0x2816f7(0x73)](_0x2816f7(0x9f)),_0xeb5f3d=a0_0x4d3fe1[_0x2816f7(0x73)](_0x2816f7(0x72)),_0x100995=a0_0x4d3fe1['listFiles']('screenshots'),_0x1673e0=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3be63d of _0x1673e0){while(_0x3be63d[_0x2816f7(0xab)]){_0x3be63d['lastChild'][_0x2816f7(0x82)]();}}for(const _0x594199 of _0x1fd1e5){createElementStorage(romsFile,_0x594199,_0x2816f7(0x76)+_0x594199);}for(const _0x497c41 of _0x227937){createElementStorage(statesFile,_0x497c41,_0x2816f7(0xb1)+_0x497c41);}for(const _0x30abe5 of _0x16d121){createElementStorage(savesFile,_0x30abe5,_0x2816f7(0x8b)+_0x30abe5);}for(const _0x542674 of _0xeb5f3d){createElementStorage(cheatsFile,_0x542674,_0x2816f7(0x94)+_0x542674);}for(const _0x5760d2 of _0x100995){createElementStorage(screenshotsFile,_0x5760d2,_0x2816f7(0xb7)+_0x5760d2);}}function a0_0x10e9(_0x58fdc5,_0x44d1cb){const _0x4bc95a=a0_0x4bc9();return a0_0x10e9=function(_0x10e9cb,_0x458dd1){_0x10e9cb=_0x10e9cb-0x72;let _0x380d4d=_0x4bc95a[_0x10e9cb];return _0x380d4d;},a0_0x10e9(_0x58fdc5,_0x44d1cb);}document[a0_0x5658ea(0x98)](a0_0x5658ea(0xa5),function(){const _0x3e0319=a0_0x5658ea;upLoadFile[_0x3e0319(0x98)]('change',function(){const _0x1bc357=_0x3e0319;a0_0x4d3fe1[_0x1bc357(0x8f)](upLoadFile);}),openLocalStorage[_0x3e0319(0x98)](_0x3e0319(0xa9),function(){const _0x5e48f7=_0x3e0319,_0x370479=localStorage[_0x5e48f7(0x85)](_0x5e48f7(0x90));storage[_0x5e48f7(0xba)]['remove'](_0x5e48f7(0x7e)),intro[_0x5e48f7(0xba)][_0x5e48f7(0x96)](_0x5e48f7(0x7e)),ingame[_0x5e48f7(0xba)][_0x5e48f7(0x96)]('disable'),_0x370479===null||_0x370479===''?(dropboxRestore['classList'][_0x5e48f7(0x82)](_0x5e48f7(0xaf)),dropboxBackup['classList'][_0x5e48f7(0x82)](_0x5e48f7(0xaf)),dropboxCloud[_0x5e48f7(0xba)]['remove'](_0x5e48f7(0xaf))):(dropboxRestore[_0x5e48f7(0xba)][_0x5e48f7(0x96)](_0x5e48f7(0xaf)),dropboxBackup['classList'][_0x5e48f7(0x96)](_0x5e48f7(0xaf)),dropboxCloud[_0x5e48f7(0xba)]['add'](_0x5e48f7(0xaf)));}),setTimeout(()=>{localStorageFile();},0xbb8);});