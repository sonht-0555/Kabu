const a0_0x29be49=a0_0x3b31;(function(_0xacb4e7,_0xf81d0e){const _0x56f002=a0_0x3b31,_0x5c990e=_0xacb4e7();while(!![]){try{const _0x5763ce=-parseInt(_0x56f002(0x12f))/0x1*(-parseInt(_0x56f002(0x130))/0x2)+parseInt(_0x56f002(0x13e))/0x3*(parseInt(_0x56f002(0x132))/0x4)+-parseInt(_0x56f002(0x133))/0x5+-parseInt(_0x56f002(0x10a))/0x6*(-parseInt(_0x56f002(0x110))/0x7)+-parseInt(_0x56f002(0x143))/0x8*(parseInt(_0x56f002(0x124))/0x9)+-parseInt(_0x56f002(0x12c))/0xa+-parseInt(_0x56f002(0x12a))/0xb*(-parseInt(_0x56f002(0x105))/0xc);if(_0x5763ce===_0xf81d0e)break;else _0x5c990e['push'](_0x5c990e['shift']());}catch(_0x535c1c){_0x5c990e['push'](_0x5c990e['shift']());}}}(a0_0x130c,0xe15d0));import*as a0_0x309ae5 from'./main.js';function a0_0x3b31(_0x3ef8a6,_0x35d0a3){const _0x130cdf=a0_0x130c();return a0_0x3b31=function(_0x3b3166,_0x3681fc){_0x3b3166=_0x3b3166-0xf7;let _0x184162=_0x130cdf[_0x3b3166];return _0x184162;},a0_0x3b31(_0x3ef8a6,_0x35d0a3);}const mgbaStorage=document[a0_0x29be49(0x106)](a0_0x29be49(0x114)),savesFile=document[a0_0x29be49(0x106)](a0_0x29be49(0x118)),romsFile=document[a0_0x29be49(0x106)](a0_0x29be49(0x125)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document[a0_0x29be49(0x106)](a0_0x29be49(0x10b));function humanFileSize(_0x1c5821,_0x1e5a44=![],_0x5e905a=0x1){const _0x5b4e43=a0_0x29be49,_0x35de7b=_0x1e5a44?0x3e8:0x400,_0x1fc0f6=_0x1e5a44?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x5b4e43(0x115),_0x5b4e43(0x140),_0x5b4e43(0x126),_0x5b4e43(0x127),_0x5b4e43(0x131),_0x5b4e43(0x123),_0x5b4e43(0x137)];let _0x56a40c=-0x1;do{_0x1c5821/=_0x35de7b,++_0x56a40c;}while(Math[_0x5b4e43(0xfe)](_0x1c5821)>=_0x35de7b&&_0x56a40c<_0x1fc0f6[_0x5b4e43(0x10d)]-0x1);return _0x1c5821[_0x5b4e43(0xfd)](_0x5e905a)+'\x20'+_0x1fc0f6[_0x56a40c];}function createElementStorage(_0x145825,_0x74a70e,_0x49007d){const _0x48b9dc=a0_0x29be49,_0x32f7c3=document[_0x48b9dc(0xf8)]('div');_0x32f7c3[_0x48b9dc(0x145)][_0x48b9dc(0x120)](_0x48b9dc(0x117),'rom-item',_0x48b9dc(0x139)),_0x145825[_0x48b9dc(0x100)](_0x32f7c3);const _0x22e183=document[_0x48b9dc(0xf8)]('span');_0x22e183['textContent']=_0x74a70e,_0x22e183['classList'][_0x48b9dc(0x120)](_0x48b9dc(0x117)),_0x32f7c3[_0x48b9dc(0x100)](_0x22e183),_0x22e183[_0x48b9dc(0x10f)]=()=>{const _0x2f6c73=_0x48b9dc,_0x440d5d=document['createElement'](_0x2f6c73(0x12b));_0x440d5d[_0x2f6c73(0x10e)]=()=>_0x440d5d[_0x2f6c73(0x146)](),_0x145825['appendChild'](_0x440d5d);const _0x40df89=document[_0x2f6c73(0xf8)](_0x2f6c73(0x136));_0x40df89[_0x2f6c73(0x145)][_0x2f6c73(0x120)]('storage',_0x2f6c73(0x13a),'gap-10'),_0x440d5d[_0x2f6c73(0x100)](_0x40df89);const _0x300d02=document[_0x2f6c73(0xf8)](_0x2f6c73(0x136));_0x300d02[_0x2f6c73(0x145)][_0x2f6c73(0x120)](_0x2f6c73(0x11d),'bc',_0x2f6c73(0x117)),_0x40df89[_0x2f6c73(0x100)](_0x300d02);const _0x84480e=document[_0x2f6c73(0xf8)](_0x2f6c73(0x136));_0x84480e[_0x2f6c73(0x145)][_0x2f6c73(0x120)](_0x2f6c73(0x117)),_0x40df89['appendChild'](_0x84480e);const _0x24e4c8=document[_0x2f6c73(0xf8)]('div');_0x24e4c8['classList'][_0x2f6c73(0x120)](_0x2f6c73(0x117)),_0x40df89[_0x2f6c73(0x100)](_0x24e4c8);const _0x967e04=document['createElement']('div');_0x967e04[_0x2f6c73(0x145)]['add'](_0x2f6c73(0x117)),_0x40df89[_0x2f6c73(0x100)](_0x967e04),mgbaStorage[_0x2f6c73(0x145)][_0x2f6c73(0x120)](_0x2f6c73(0x138)),_0x300d02[_0x2f6c73(0x10f)]=()=>{const _0x10a163=_0x2f6c73;_0x440d5d[_0x10a163(0x13c)](),_0x440d5d[_0x10a163(0x146)](),mgbaStorage['classList'][_0x10a163(0x146)](_0x10a163(0x138));};const _0x547e76=document[_0x2f6c73(0xf8)](_0x2f6c73(0x136));_0x547e76[_0x2f6c73(0x145)][_0x2f6c73(0x120)](_0x2f6c73(0x117),'rom-item','hw','cw'),_0x547e76[_0x2f6c73(0x109)]=_0x74a70e,_0x440d5d[_0x2f6c73(0x100)](_0x547e76);const _0x92924c=document[_0x2f6c73(0xf8)]('div');_0x92924c[_0x2f6c73(0x145)][_0x2f6c73(0x120)]('actionDiv','hw','cw','gap-16'),_0x440d5d[_0x2f6c73(0x100)](_0x92924c);const _0x3430e4=document[_0x2f6c73(0xf8)](_0x2f6c73(0x136));_0x3430e4[_0x2f6c73(0x145)][_0x2f6c73(0x120)](_0x2f6c73(0xf9),'bc'),_0x92924c[_0x2f6c73(0x100)](_0x3430e4),_0x3430e4[_0x2f6c73(0x10f)]=()=>{const _0x33f293=_0x2f6c73;a0_0x309ae5[_0x33f293(0x128)](_0x49007d,_0x74a70e);};const _0x7f6758=document[_0x2f6c73(0xf8)]('div');_0x7f6758[_0x2f6c73(0x145)]['add'](_0x2f6c73(0x11e),'bc'),_0x92924c[_0x2f6c73(0x100)](_0x7f6758),_0x7f6758[_0x2f6c73(0x10f)]=async()=>{const _0x23e03a=_0x2f6c73;if(window[_0x23e03a(0x13d)](_0x23e03a(0xff)+_0x74a70e)){const _0xf2cd2b=_0x74a70e['replace'](/\....$/,_0x23e03a(0x107));a0_0x309ae5[_0x23e03a(0x12e)](_0x49007d),localStorage[_0x23e03a(0x11c)](_0xf2cd2b+_0x23e03a(0x103)+_0x74a70e[_0x23e03a(0xfb)](-0x1)),localStorage[_0x23e03a(0x11c)](_0xf2cd2b+'_imageState'+_0x74a70e['slice'](-0x1)),localStorageFile(),_0x440d5d['close'](),_0x440d5d[_0x23e03a(0x146)](),mgbaStorage['classList'][_0x23e03a(0x146)]('opacity0');}};const _0xf4cacc=document[_0x2f6c73(0xf8)](_0x2f6c73(0x136));_0xf4cacc[_0x2f6c73(0x145)][_0x2f6c73(0x120)]('rename','bc'),_0x92924c['appendChild'](_0xf4cacc),_0xf4cacc['onclick']=async()=>{const _0x2a4a87=_0x2f6c73,_0x5d5cbf=window[_0x2a4a87(0x112)](_0x2a4a87(0x119),_0x74a70e);if(_0x5d5cbf!==null){const _0x241a8f=_0x74a70e['replace'](/\....$/,'.gba'),_0x6ed473=_0x5d5cbf[_0x2a4a87(0x13b)](/\....$/,'.gba'),_0x25bf44=_0x241a8f+'_dateState'+_0x74a70e['slice'](-0x1),_0x4bbc89=_0x241a8f+'_imageState'+_0x74a70e['slice'](-0x1),_0x5716c8=_0x6ed473+_0x2a4a87(0x103)+_0x5d5cbf[_0x2a4a87(0xfb)](-0x1),_0x4d84b6=_0x6ed473+_0x2a4a87(0x142)+_0x5d5cbf['slice'](-0x1),_0xbcdb38=localStorage['getItem'](_0x25bf44),_0x13de39=localStorage[_0x2a4a87(0x141)](_0x4bbc89);_0xbcdb38!==null&&(localStorage[_0x2a4a87(0x113)](_0x5716c8,_0xbcdb38),localStorage[_0x2a4a87(0x11c)](_0x25bf44)),_0x13de39!==null&&(localStorage[_0x2a4a87(0x113)](_0x4d84b6,_0x13de39),localStorage['removeItem'](_0x4bbc89)),a0_0x309ae5['editFile'](_0x49007d,_0x74a70e,_0x5d5cbf),localStorageFile(),_0x440d5d[_0x2a4a87(0x13c)](),_0x440d5d[_0x2a4a87(0x146)](),mgbaStorage['classList'][_0x2a4a87(0x146)]('opacity0');}},_0x440d5d[_0x2f6c73(0x11a)]();};const _0x114993=document[_0x48b9dc(0xf8)](_0x48b9dc(0x121));_0x114993['textContent']=humanFileSize(a0_0x309ae5[_0x48b9dc(0x108)](_0x49007d)),_0x114993[_0x48b9dc(0x145)][_0x48b9dc(0x120)](_0x48b9dc(0x116)),_0x32f7c3['appendChild'](_0x114993);}export function localStorageFile(){const _0x4d5c28=a0_0x29be49,_0x580f03=a0_0x309ae5[_0x4d5c28(0xfc)](),_0x24f249=a0_0x309ae5[_0x4d5c28(0xfa)](),_0x392e2f=a0_0x309ae5[_0x4d5c28(0x12d)](),_0x43228e=a0_0x309ae5['listCheat'](),_0x2451c3=a0_0x309ae5[_0x4d5c28(0x122)](),_0x982d77=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x215606 of _0x982d77){while(_0x215606[_0x4d5c28(0x134)]){_0x215606[_0x4d5c28(0x10c)][_0x4d5c28(0x146)]();}}for(const _0x12a1e7 of _0x580f03){createElementStorage(romsFile,_0x12a1e7,_0x4d5c28(0x11b)+_0x12a1e7);}for(const _0x5ea4f0 of _0x392e2f){createElementStorage(statesFile,_0x5ea4f0,_0x4d5c28(0x11f)+_0x5ea4f0);}for(const _0x55076e of _0x24f249){createElementStorage(savesFile,_0x55076e,_0x4d5c28(0x111)+_0x55076e);}for(const _0x477894 of _0x43228e){createElementStorage(cheatsFile,_0x477894,_0x4d5c28(0x129)+_0x477894);}for(const _0x5f4f9e of _0x2451c3){createElementStorage(screenshotsFile,_0x5f4f9e,'/data/screenshots/'+_0x5f4f9e);}}document[a0_0x29be49(0x102)](a0_0x29be49(0x104),function(){const _0x24f4e8=a0_0x29be49;upLoadFile['addEventListener'](_0x24f4e8(0xf7),function(){const _0x1e4695=_0x24f4e8;a0_0x309ae5[_0x1e4695(0x101)](upLoadFile);}),openLocalStorage[_0x24f4e8(0x102)](_0x24f4e8(0x13f),function(){const _0x35d056=_0x24f4e8,_0x59d981=localStorage[_0x35d056(0x141)]('uId');storage[_0x35d056(0x145)][_0x35d056(0x146)]('disable'),intro['classList']['add'](_0x35d056(0x144)),ingame[_0x35d056(0x145)][_0x35d056(0x120)](_0x35d056(0x144)),_0x59d981===null||_0x59d981===''?(dropboxRestore['classList'][_0x35d056(0x146)]('active'),dropboxBackup['classList'][_0x35d056(0x146)](_0x35d056(0x135)),dropboxCloud['classList'][_0x35d056(0x146)](_0x35d056(0x135))):(dropboxRestore[_0x35d056(0x145)][_0x35d056(0x120)](_0x35d056(0x135)),dropboxBackup[_0x35d056(0x145)]['add'](_0x35d056(0x135)),dropboxCloud['classList'][_0x35d056(0x120)](_0x35d056(0x135)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x130c(){const _0x356cca=['savesFile','Edit\x20filename','showModal','/data/games/','removeItem','home','delete','/data/states/','add','span','listScreenshot','ZiB','27StRjXj','romsFile','TiB','PiB','downloadFile','/data/cheats/','341lKmSiu','dialog','13301480AHQPWO','listState','deleteFile','1991WeObkc','1678EpHbdm','EiB','12mLkywH','7008650BPAvWV','firstChild','active','div','YiB','opacity0','rom','right','replace','close','confirm','1646583lCbHKy','click','GiB','getItem','_imageState','3451192DCUGXN','disable','classList','remove','change','createElement','download','listSave','slice','listGame','toFixed','abs','Delete\x20this\x20file?','appendChild','uploadFile','addEventListener','_dateState','DOMContentLoaded','402972YAKjbY','getElementById','.gba','fileSize','textContent','36MYCUHu','screenshotsFile','lastChild','length','onclose','onclick','689640ZShjdU','/data/saves/','prompt','setItem','mgba-storage','MiB','mib','flex-1'];a0_0x130c=function(){return _0x356cca;};return a0_0x130c();}