const a0_0x86832a=a0_0x31b7;(function(_0x2fb12e,_0x2c8748){const _0x9d98df=a0_0x31b7,_0x3aed2d=_0x2fb12e();while(!![]){try{const _0x3a359f=parseInt(_0x9d98df(0xf1))/0x1+-parseInt(_0x9d98df(0xe5))/0x2+parseInt(_0x9d98df(0xb6))/0x3*(parseInt(_0x9d98df(0xde))/0x4)+-parseInt(_0x9d98df(0xd0))/0x5+parseInt(_0x9d98df(0xe3))/0x6*(parseInt(_0x9d98df(0xf5))/0x7)+-parseInt(_0x9d98df(0xb3))/0x8*(-parseInt(_0x9d98df(0xbc))/0x9)+-parseInt(_0x9d98df(0xb1))/0xa*(parseInt(_0x9d98df(0xbf))/0xb);if(_0x3a359f===_0x2c8748)break;else _0x3aed2d['push'](_0x3aed2d['shift']());}catch(_0x30f09e){_0x3aed2d['push'](_0x3aed2d['shift']());}}}(a0_0x755c,0xb21f0));function a0_0x31b7(_0x24c7cd,_0x2db14f){const _0x755c78=a0_0x755c();return a0_0x31b7=function(_0x31b7fa,_0x5a10ea){_0x31b7fa=_0x31b7fa-0xb0;let _0x4d1765=_0x755c78[_0x31b7fa];return _0x4d1765;},a0_0x31b7(_0x24c7cd,_0x2db14f);}import*as a0_0x479981 from'./main.js';const mgbaStorage=document[a0_0x86832a(0xb9)]('mgba-storage'),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x86832a(0xb9)]('romsFile'),statesFile=document['getElementById'](a0_0x86832a(0xba)),screenshotsFile=document['getElementById'](a0_0x86832a(0xd1));function humanFileSize(_0x21d05d,_0x4ef570=![],_0x9405c3=0x1){const _0x2cef41=a0_0x86832a,_0x6ebd42=_0x4ef570?0x3e8:0x400,_0x3a9725=_0x4ef570?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x2cef41(0xbd),_0x2cef41(0xda),'TiB',_0x2cef41(0xe7),_0x2cef41(0xc1),_0x2cef41(0xca),_0x2cef41(0xec)];let _0x38e26d=-0x1;do{_0x21d05d/=_0x6ebd42,++_0x38e26d;}while(Math[_0x2cef41(0xb0)](_0x21d05d)>=_0x6ebd42&&_0x38e26d<_0x3a9725[_0x2cef41(0xd4)]-0x1);return _0x21d05d[_0x2cef41(0xdd)](_0x9405c3)+'\x20'+_0x3a9725[_0x38e26d];}function a0_0x755c(){const _0x5a81f8=['928oqaAkf','createElement','right','gap-10','rom','24RIZiAx','DOMContentLoaded','2465420TvbFhC','disable','PiB','change','editFile','listCheat','Delete\x20this\x20file?','YiB','Edit\x20filename','/data/games/','span','/data/states/','1100632dlSviv','flex-1','classList','_imageState','885871jQNcpJ','/data/screenshots/','storage','listSave','click','_dateState','abs','181130qzERzq','remove','128DoGILZ','slice','.gba','6972tQSqfJ','appendChild','listGame','getElementById','statesFile','mib','808497CdiSfS','MiB','listState','352InaftD','/data/saves/','EiB','replace','gap-16','rom-item','close','delete','showModal','firstChild','confirm','ZiB','active','removeItem','onclick','download','fileSize','5207150TcTZcq','screenshotsFile','addEventListener','opacity0','length','add','textContent','/data/cheats/','getItem','listScreenshot','GiB','uId','div','toFixed'];a0_0x755c=function(){return _0x5a81f8;};return a0_0x755c();}function createElementStorage(_0x531507,_0x424c51,_0x2d9ba9){const _0x28aa58=a0_0x86832a,_0x2dcf02=document[_0x28aa58(0xdf)](_0x28aa58(0xdc));_0x2dcf02['classList'][_0x28aa58(0xd5)](_0x28aa58(0xf2),_0x28aa58(0xc4),_0x28aa58(0xe2)),_0x531507[_0x28aa58(0xb7)](_0x2dcf02);const _0x124605=document[_0x28aa58(0xdf)](_0x28aa58(0xef));_0x124605[_0x28aa58(0xd6)]=_0x424c51,_0x124605[_0x28aa58(0xf3)]['add'](_0x28aa58(0xf2)),_0x2dcf02['appendChild'](_0x124605),_0x124605[_0x28aa58(0xcd)]=()=>{const _0x4ec777=_0x28aa58,_0x4c5cad=document[_0x4ec777(0xdf)]('dialog');_0x4c5cad['onclose']=()=>_0x4c5cad[_0x4ec777(0xb2)](),_0x531507[_0x4ec777(0xb7)](_0x4c5cad);const _0x503b10=document[_0x4ec777(0xdf)](_0x4ec777(0xdc));_0x503b10[_0x4ec777(0xf3)][_0x4ec777(0xd5)](_0x4ec777(0xf7),_0x4ec777(0xe0),_0x4ec777(0xe1)),_0x4c5cad[_0x4ec777(0xb7)](_0x503b10);const _0x4fe45a=document[_0x4ec777(0xdf)](_0x4ec777(0xdc));_0x4fe45a[_0x4ec777(0xf3)][_0x4ec777(0xd5)]('home','bc',_0x4ec777(0xf2)),_0x503b10[_0x4ec777(0xb7)](_0x4fe45a);const _0xb61536=document[_0x4ec777(0xdf)](_0x4ec777(0xdc));_0xb61536['classList'][_0x4ec777(0xd5)](_0x4ec777(0xf2)),_0x503b10[_0x4ec777(0xb7)](_0xb61536);const _0x443cef=document[_0x4ec777(0xdf)](_0x4ec777(0xdc));_0x443cef[_0x4ec777(0xf3)]['add'](_0x4ec777(0xf2)),_0x503b10['appendChild'](_0x443cef);const _0x2a6d8d=document[_0x4ec777(0xdf)](_0x4ec777(0xdc));_0x2a6d8d[_0x4ec777(0xf3)][_0x4ec777(0xd5)](_0x4ec777(0xf2)),_0x503b10[_0x4ec777(0xb7)](_0x2a6d8d),mgbaStorage[_0x4ec777(0xf3)][_0x4ec777(0xd5)](_0x4ec777(0xd3)),_0x4fe45a[_0x4ec777(0xcd)]=()=>{const _0x4a97b6=_0x4ec777;_0x4c5cad[_0x4a97b6(0xc5)](),_0x4c5cad['remove'](),mgbaStorage[_0x4a97b6(0xf3)][_0x4a97b6(0xb2)](_0x4a97b6(0xd3));};const _0x53ac8c=document['createElement'](_0x4ec777(0xdc));_0x53ac8c[_0x4ec777(0xf3)][_0x4ec777(0xd5)](_0x4ec777(0xf2),_0x4ec777(0xc4),'hw','cw'),_0x53ac8c[_0x4ec777(0xd6)]=_0x424c51,_0x4c5cad[_0x4ec777(0xb7)](_0x53ac8c);const _0x9bedf1=document[_0x4ec777(0xdf)](_0x4ec777(0xdc));_0x9bedf1['classList'][_0x4ec777(0xd5)]('actionDiv','hw','cw',_0x4ec777(0xc3)),_0x4c5cad['appendChild'](_0x9bedf1);const _0x5c0f3b=document[_0x4ec777(0xdf)](_0x4ec777(0xdc));_0x5c0f3b[_0x4ec777(0xf3)]['add'](_0x4ec777(0xce),'bc'),_0x9bedf1[_0x4ec777(0xb7)](_0x5c0f3b),_0x5c0f3b['onclick']=()=>{a0_0x479981['downloadFile'](_0x2d9ba9,_0x424c51);};const _0x33a042=document[_0x4ec777(0xdf)]('div');_0x33a042[_0x4ec777(0xf3)][_0x4ec777(0xd5)](_0x4ec777(0xc6),'bc'),_0x9bedf1[_0x4ec777(0xb7)](_0x33a042),_0x33a042[_0x4ec777(0xcd)]=async()=>{const _0x866b5f=_0x4ec777;if(window[_0x866b5f(0xc9)](_0x866b5f(0xeb)+_0x424c51)){const _0x8e8449=_0x424c51[_0x866b5f(0xc2)](/\....$/,_0x866b5f(0xb5));a0_0x479981['deleteFile'](_0x2d9ba9),localStorage[_0x866b5f(0xcc)](_0x8e8449+_0x866b5f(0xfa)+_0x424c51[_0x866b5f(0xb4)](-0x1)),localStorage[_0x866b5f(0xcc)](_0x8e8449+_0x866b5f(0xf4)+_0x424c51[_0x866b5f(0xb4)](-0x1)),localStorageFile(),_0x4c5cad[_0x866b5f(0xc5)](),_0x4c5cad[_0x866b5f(0xb2)](),mgbaStorage[_0x866b5f(0xf3)][_0x866b5f(0xb2)](_0x866b5f(0xd3));}};const _0x599565=document[_0x4ec777(0xdf)](_0x4ec777(0xdc));_0x599565[_0x4ec777(0xf3)][_0x4ec777(0xd5)]('rename','bc'),_0x9bedf1[_0x4ec777(0xb7)](_0x599565),_0x599565[_0x4ec777(0xcd)]=async()=>{const _0x6f63ae=_0x4ec777,_0x285b41=window['prompt'](_0x6f63ae(0xed),_0x424c51);if(_0x285b41!==null){const _0x1927d6=_0x424c51[_0x6f63ae(0xc2)](/\....$/,_0x6f63ae(0xb5)),_0x350569=_0x285b41['replace'](/\....$/,'.gba'),_0x292bdc=_0x1927d6+_0x6f63ae(0xfa)+_0x424c51[_0x6f63ae(0xb4)](-0x1),_0x3ad013=_0x1927d6+_0x6f63ae(0xf4)+_0x424c51[_0x6f63ae(0xb4)](-0x1),_0x1238ad=_0x350569+'_dateState'+_0x285b41[_0x6f63ae(0xb4)](-0x1),_0x4884d3=_0x350569+_0x6f63ae(0xf4)+_0x285b41[_0x6f63ae(0xb4)](-0x1),_0x1ba1aa=localStorage[_0x6f63ae(0xd8)](_0x292bdc),_0x4ba68c=localStorage['getItem'](_0x3ad013);_0x1ba1aa!==null&&(localStorage['setItem'](_0x1238ad,_0x1ba1aa),localStorage[_0x6f63ae(0xcc)](_0x292bdc)),_0x4ba68c!==null&&(localStorage['setItem'](_0x4884d3,_0x4ba68c),localStorage['removeItem'](_0x3ad013)),a0_0x479981[_0x6f63ae(0xe9)](_0x2d9ba9,_0x424c51,_0x285b41),localStorageFile(),_0x4c5cad[_0x6f63ae(0xc5)](),_0x4c5cad[_0x6f63ae(0xb2)](),mgbaStorage[_0x6f63ae(0xf3)][_0x6f63ae(0xb2)](_0x6f63ae(0xd3));}},_0x4c5cad[_0x4ec777(0xc7)]();};const _0x4aac0d=document[_0x28aa58(0xdf)](_0x28aa58(0xef));_0x4aac0d[_0x28aa58(0xd6)]=humanFileSize(a0_0x479981[_0x28aa58(0xcf)](_0x2d9ba9)),_0x4aac0d[_0x28aa58(0xf3)][_0x28aa58(0xd5)](_0x28aa58(0xbb)),_0x2dcf02[_0x28aa58(0xb7)](_0x4aac0d);}export function localStorageFile(){const _0x19727f=a0_0x86832a,_0xbee90e=a0_0x479981[_0x19727f(0xb8)](),_0x18b83a=a0_0x479981[_0x19727f(0xf8)](),_0x40d9e7=a0_0x479981[_0x19727f(0xbe)](),_0x3783a0=a0_0x479981[_0x19727f(0xea)](),_0x124b6a=a0_0x479981[_0x19727f(0xd9)](),_0x135160=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x41a01f of _0x135160){while(_0x41a01f[_0x19727f(0xc8)]){_0x41a01f['lastChild'][_0x19727f(0xb2)]();}}for(const _0x6e9777 of _0xbee90e){createElementStorage(romsFile,_0x6e9777,_0x19727f(0xee)+_0x6e9777);}for(const _0x3a602e of _0x40d9e7){createElementStorage(statesFile,_0x3a602e,_0x19727f(0xf0)+_0x3a602e);}for(const _0x224c93 of _0x18b83a){createElementStorage(savesFile,_0x224c93,_0x19727f(0xc0)+_0x224c93);}for(const _0x353bcf of _0x3783a0){createElementStorage(cheatsFile,_0x353bcf,_0x19727f(0xd7)+_0x353bcf);}for(const _0x21f9ee of _0x124b6a){createElementStorage(screenshotsFile,_0x21f9ee,_0x19727f(0xf6)+_0x21f9ee);}}document[a0_0x86832a(0xd2)](a0_0x86832a(0xe4),function(){const _0x545320=a0_0x86832a;upLoadFile[_0x545320(0xd2)](_0x545320(0xe8),function(){a0_0x479981['uploadFile'](upLoadFile);}),openLocalStorage[_0x545320(0xd2)](_0x545320(0xf9),function(){const _0x17997b=_0x545320,_0x1731ad=localStorage[_0x17997b(0xd8)](_0x17997b(0xdb));storage['classList']['remove']('disable'),intro[_0x17997b(0xf3)]['add'](_0x17997b(0xe6)),ingame[_0x17997b(0xf3)][_0x17997b(0xd5)](_0x17997b(0xe6)),_0x1731ad===null||_0x1731ad===''?(dropboxRestore[_0x17997b(0xf3)][_0x17997b(0xb2)](_0x17997b(0xcb)),dropboxBackup[_0x17997b(0xf3)][_0x17997b(0xb2)](_0x17997b(0xcb)),dropboxCloud[_0x17997b(0xf3)][_0x17997b(0xb2)](_0x17997b(0xcb))):(dropboxRestore[_0x17997b(0xf3)][_0x17997b(0xd5)]('active'),dropboxBackup[_0x17997b(0xf3)][_0x17997b(0xd5)](_0x17997b(0xcb)),dropboxCloud[_0x17997b(0xf3)]['add'](_0x17997b(0xcb)));}),setTimeout(()=>{localStorageFile();},0xbb8);});