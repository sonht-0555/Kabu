const a0_0x477dfa=a0_0x4910;(function(_0x7ebdb,_0x4bf379){const _0x5a4436=a0_0x4910,_0x289e1c=_0x7ebdb();while(!![]){try{const _0xa9535=parseInt(_0x5a4436(0x187))/0x1*(-parseInt(_0x5a4436(0x13f))/0x2)+parseInt(_0x5a4436(0x166))/0x3+-parseInt(_0x5a4436(0x14d))/0x4+parseInt(_0x5a4436(0x17d))/0x5+parseInt(_0x5a4436(0x162))/0x6*(-parseInt(_0x5a4436(0x15f))/0x7)+-parseInt(_0x5a4436(0x13b))/0x8*(parseInt(_0x5a4436(0x143))/0x9)+parseInt(_0x5a4436(0x17c))/0xa;if(_0xa9535===_0x4bf379)break;else _0x289e1c['push'](_0x289e1c['shift']());}catch(_0x2fff3c){_0x289e1c['push'](_0x289e1c['shift']());}}}(a0_0xeab7,0x464f8));import*as a0_0x5c362a from'./main.js';const mgbaStorage=document[a0_0x477dfa(0x189)](a0_0x477dfa(0x157)),savesFile=document[a0_0x477dfa(0x189)]('savesFile'),romsFile=document['getElementById']('romsFile'),statesFile=document[a0_0x477dfa(0x189)]('statesFile'),screenshotsFile=document['getElementById']('screenshotsFile');function a0_0x4910(_0x507dee,_0x2d7fe1){const _0xeab7ff=a0_0xeab7();return a0_0x4910=function(_0x49109a,_0xd1ef7f){_0x49109a=_0x49109a-0x13b;let _0x29b5a0=_0xeab7ff[_0x49109a];return _0x29b5a0;},a0_0x4910(_0x507dee,_0x2d7fe1);}function humanFileSize(_0x47fa9f,_0x4f89f0=![],_0x5c3d9f=0x1){const _0x175890=a0_0x477dfa,_0x307f74=_0x4f89f0?0x3e8:0x400,_0x3c170b=_0x4f89f0?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x175890(0x163),'MiB',_0x175890(0x16a),_0x175890(0x178),_0x175890(0x147),_0x175890(0x15a),'ZiB',_0x175890(0x145)];let _0x178f26=-0x1;do{_0x47fa9f/=_0x307f74,++_0x178f26;}while(Math[_0x175890(0x141)](_0x47fa9f)>=_0x307f74&&_0x178f26<_0x3c170b[_0x175890(0x169)]-0x1);return _0x47fa9f['toFixed'](_0x5c3d9f)+'\x20'+_0x3c170b[_0x178f26];}function createElementStorage(_0x50ff43,_0x2031cf,_0x5ce358){const _0x2496d9=a0_0x477dfa,_0x48e9ab=document['createElement'](_0x2496d9(0x182));_0x48e9ab['classList'][_0x2496d9(0x17e)](_0x2496d9(0x16c),_0x2496d9(0x159),_0x2496d9(0x14a)),_0x50ff43[_0x2496d9(0x174)](_0x48e9ab);const _0x5cdff7=document[_0x2496d9(0x186)](_0x2496d9(0x14f));_0x5cdff7[_0x2496d9(0x188)]=_0x2031cf,_0x5cdff7[_0x2496d9(0x15b)][_0x2496d9(0x17e)]('flex-1'),_0x48e9ab[_0x2496d9(0x174)](_0x5cdff7),_0x5cdff7[_0x2496d9(0x18d)]=()=>{const _0x37c95b=_0x2496d9,_0x5c1e99=document[_0x37c95b(0x186)](_0x37c95b(0x176));_0x5c1e99[_0x37c95b(0x148)]=()=>_0x5c1e99['remove'](),_0x50ff43[_0x37c95b(0x174)](_0x5c1e99);const _0x34824b=document['createElement'](_0x37c95b(0x182));_0x34824b[_0x37c95b(0x15b)][_0x37c95b(0x17e)]('storage',_0x37c95b(0x173),_0x37c95b(0x13c)),_0x5c1e99[_0x37c95b(0x174)](_0x34824b);const _0x1b5235=document[_0x37c95b(0x186)](_0x37c95b(0x182));_0x1b5235[_0x37c95b(0x15b)][_0x37c95b(0x17e)](_0x37c95b(0x15d),'bc',_0x37c95b(0x16c)),_0x34824b['appendChild'](_0x1b5235);const _0x3a61f6=document[_0x37c95b(0x186)](_0x37c95b(0x182));_0x3a61f6['classList'][_0x37c95b(0x17e)](_0x37c95b(0x16c)),_0x34824b[_0x37c95b(0x174)](_0x3a61f6);const _0x5f174a=document[_0x37c95b(0x186)](_0x37c95b(0x182));_0x5f174a[_0x37c95b(0x15b)][_0x37c95b(0x17e)](_0x37c95b(0x16c)),_0x34824b['appendChild'](_0x5f174a);const _0x42e287=document[_0x37c95b(0x186)]('div');_0x42e287[_0x37c95b(0x15b)]['add'](_0x37c95b(0x16c)),_0x34824b[_0x37c95b(0x174)](_0x42e287),mgbaStorage['classList'][_0x37c95b(0x17e)]('opacity0'),_0x1b5235[_0x37c95b(0x18d)]=()=>{const _0x44933b=_0x37c95b;_0x5c1e99[_0x44933b(0x164)](),_0x5c1e99['remove'](),mgbaStorage[_0x44933b(0x15b)][_0x44933b(0x144)]('opacity0');};const _0x157df8=document['createElement']('div');_0x157df8[_0x37c95b(0x15b)][_0x37c95b(0x17e)](_0x37c95b(0x16c),_0x37c95b(0x159),'hw','cw'),_0x157df8[_0x37c95b(0x188)]=_0x2031cf,_0x5c1e99['appendChild'](_0x157df8);const _0x37439a=document[_0x37c95b(0x186)](_0x37c95b(0x182));_0x37439a[_0x37c95b(0x15b)]['add'](_0x37c95b(0x180),'hw','cw','gap-16'),_0x5c1e99[_0x37c95b(0x174)](_0x37439a);const _0x15366e=document['createElement']('div');_0x15366e['classList'][_0x37c95b(0x17e)](_0x37c95b(0x142),'bc'),_0x37439a[_0x37c95b(0x174)](_0x15366e),_0x15366e[_0x37c95b(0x18d)]=()=>{const _0x826506=_0x37c95b;a0_0x5c362a[_0x826506(0x175)](_0x5ce358,_0x2031cf);};const _0x343dd2=document[_0x37c95b(0x186)](_0x37c95b(0x182));_0x343dd2['classList'][_0x37c95b(0x17e)](_0x37c95b(0x13d),'bc'),_0x37439a[_0x37c95b(0x174)](_0x343dd2),_0x343dd2[_0x37c95b(0x18d)]=async()=>{const _0x38037e=_0x37c95b;if(window['confirm']('Delete\x20this\x20file?'+_0x2031cf)){const _0x2c58f7=_0x2031cf[_0x38037e(0x177)](/\....$/,'.gba');a0_0x5c362a[_0x38037e(0x18e)](_0x5ce358),localStorage[_0x38037e(0x152)](_0x2c58f7+_0x38037e(0x17f)+_0x2031cf['slice'](-0x1)),localStorage[_0x38037e(0x152)](_0x2c58f7+_0x38037e(0x158)+_0x2031cf[_0x38037e(0x168)](-0x1)),localStorageFile(),_0x5c1e99[_0x38037e(0x164)](),_0x5c1e99[_0x38037e(0x144)](),mgbaStorage['classList'][_0x38037e(0x144)](_0x38037e(0x160));}};const _0xb876e6=document[_0x37c95b(0x186)](_0x37c95b(0x182));_0xb876e6[_0x37c95b(0x15b)][_0x37c95b(0x17e)](_0x37c95b(0x16d),'bc'),_0x37439a['appendChild'](_0xb876e6),_0xb876e6[_0x37c95b(0x18d)]=async()=>{const _0x1e262d=_0x37c95b,_0x4a1b2e=window[_0x1e262d(0x151)](_0x1e262d(0x16b),_0x2031cf);if(_0x4a1b2e!==null){const _0x45cea8=_0x2031cf[_0x1e262d(0x177)](/\....$/,_0x1e262d(0x146)),_0x3f045d=_0x4a1b2e['replace'](/\....$/,_0x1e262d(0x146)),_0x4381d3=_0x45cea8+_0x1e262d(0x17f)+_0x2031cf[_0x1e262d(0x168)](-0x1),_0x273677=_0x45cea8+_0x1e262d(0x158)+_0x2031cf[_0x1e262d(0x168)](-0x1),_0x1c68f9=_0x3f045d+'_dateState'+_0x4a1b2e['slice'](-0x1),_0x5ac6a5=_0x3f045d+_0x1e262d(0x158)+_0x4a1b2e[_0x1e262d(0x168)](-0x1),_0x4a1391=localStorage[_0x1e262d(0x149)](_0x4381d3),_0x4b364f=localStorage[_0x1e262d(0x149)](_0x273677);_0x4a1391!==null&&(localStorage[_0x1e262d(0x161)](_0x1c68f9,_0x4a1391),localStorage[_0x1e262d(0x152)](_0x4381d3)),_0x4b364f!==null&&(localStorage[_0x1e262d(0x161)](_0x5ac6a5,_0x4b364f),localStorage['removeItem'](_0x273677)),a0_0x5c362a[_0x1e262d(0x140)](_0x5ce358,_0x2031cf,_0x4a1b2e),localStorageFile(),_0x5c1e99[_0x1e262d(0x164)](),_0x5c1e99[_0x1e262d(0x144)](),mgbaStorage[_0x1e262d(0x15b)][_0x1e262d(0x144)]('opacity0');}},_0x5c1e99[_0x37c95b(0x156)]();};const _0x581c83=document[_0x2496d9(0x186)](_0x2496d9(0x14f));_0x581c83[_0x2496d9(0x188)]=humanFileSize(a0_0x5c362a[_0x2496d9(0x16f)](_0x5ce358)),_0x581c83[_0x2496d9(0x15b)][_0x2496d9(0x17e)](_0x2496d9(0x16e)),_0x48e9ab[_0x2496d9(0x174)](_0x581c83);}export function localStorageFile(){const _0x4b0009=a0_0x477dfa,_0x199e24=a0_0x5c362a[_0x4b0009(0x15e)](),_0x29f3c6=a0_0x5c362a[_0x4b0009(0x181)](),_0x7bf18=a0_0x5c362a[_0x4b0009(0x179)](),_0x59419c=a0_0x5c362a['listCheat'](),_0x559686=a0_0x5c362a[_0x4b0009(0x17b)](),_0x2d4709=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x392b8c of _0x2d4709){while(_0x392b8c[_0x4b0009(0x150)]){_0x392b8c[_0x4b0009(0x170)][_0x4b0009(0x144)]();}}for(const _0x9184a6 of _0x199e24){createElementStorage(romsFile,_0x9184a6,_0x4b0009(0x154)+_0x9184a6);}for(const _0x2c18ca of _0x7bf18){createElementStorage(statesFile,_0x2c18ca,_0x4b0009(0x155)+_0x2c18ca);}for(const _0x3077f8 of _0x29f3c6){createElementStorage(savesFile,_0x3077f8,'/data/saves/'+_0x3077f8);}for(const _0x17bc70 of _0x59419c){createElementStorage(cheatsFile,_0x17bc70,_0x4b0009(0x14e)+_0x17bc70);}for(const _0x22f7d3 of _0x559686){createElementStorage(screenshotsFile,_0x22f7d3,_0x4b0009(0x167)+_0x22f7d3);}}function a0_0xeab7(){const _0x5bb5fd=['7gUeCTT','opacity0','setItem','1723380EodaJA','KiB','close','active','1170432QqzEyk','/data/screenshots/','slice','length','GiB','Edit\x20filename','flex-1','rename','mib','fileSize','lastChild','DOMContentLoaded','uploadCheat','right','appendChild','downloadFile','dialog','replace','TiB','listState','files','listScreenshot','10841850UzfcDJ','1200175oONYIN','add','_dateState','actionDiv','listSave','div','name','disable','uId','createElement','1NXuOGK','textContent','getElementById','endsWith','addEventListener','.gbc','onclick','deleteFile','32PqzIJd','gap-10','delete','click','1103158nvtgeY','editFile','abs','download','799497lVydaL','remove','YiB','.gba','PiB','onclose','getItem','rom','uploadSavSta','.cheats','928924hfLpio','/data/cheats/','span','firstChild','prompt','removeItem','change','/data/games/','/data/states/','showModal','mgba-storage','_imageState','rom-item','EiB','classList','.bc','home','listGame'];a0_0xeab7=function(){return _0x5bb5fd;};return a0_0xeab7();}document[a0_0x477dfa(0x18b)](a0_0x477dfa(0x171),function(){const _0x5e8970=a0_0x477dfa;upLoadFile[_0x5e8970(0x18b)](_0x5e8970(0x153),function(){const _0x3c12a9=_0x5e8970,_0x45b2b1=upLoadFile[_0x3c12a9(0x17a)][0x0][_0x3c12a9(0x183)];if(_0x45b2b1['endsWith'](_0x3c12a9(0x14c)))a0_0x5c362a[_0x3c12a9(0x172)](upLoadFile);else _0x45b2b1[_0x3c12a9(0x18a)](_0x3c12a9(0x146))||_0x45b2b1['endsWith'](_0x3c12a9(0x18c))||_0x45b2b1[_0x3c12a9(0x18a)](_0x3c12a9(0x15c))?a0_0x5c362a['uploadGame'](upLoadFile):a0_0x5c362a[_0x3c12a9(0x14b)](upLoadFile);}),openLocalStorage[_0x5e8970(0x18b)](_0x5e8970(0x13e),function(){const _0x36fb35=_0x5e8970,_0x2e2f1b=localStorage[_0x36fb35(0x149)](_0x36fb35(0x185));storage[_0x36fb35(0x15b)]['remove'](_0x36fb35(0x184)),intro[_0x36fb35(0x15b)][_0x36fb35(0x17e)](_0x36fb35(0x184)),ingame[_0x36fb35(0x15b)][_0x36fb35(0x17e)](_0x36fb35(0x184)),_0x2e2f1b===null||_0x2e2f1b===''?(dropboxRestore['classList']['remove'](_0x36fb35(0x165)),dropboxBackup[_0x36fb35(0x15b)][_0x36fb35(0x144)]('active'),dropboxCloud['classList']['remove']('active')):(dropboxRestore[_0x36fb35(0x15b)][_0x36fb35(0x17e)](_0x36fb35(0x165)),dropboxBackup[_0x36fb35(0x15b)][_0x36fb35(0x17e)]('active'),dropboxCloud[_0x36fb35(0x15b)][_0x36fb35(0x17e)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});