const a0_0x2d61cf=a0_0x3c19;(function(_0x3aaf79,_0x31e48f){const _0x31a630=a0_0x3c19,_0x575ff9=_0x3aaf79();while(!![]){try{const _0x503a5b=parseInt(_0x31a630(0x1bb))/0x1+parseInt(_0x31a630(0x1a4))/0x2+parseInt(_0x31a630(0x198))/0x3+parseInt(_0x31a630(0x1b1))/0x4*(-parseInt(_0x31a630(0x1c5))/0x5)+-parseInt(_0x31a630(0x18c))/0x6*(parseInt(_0x31a630(0x197))/0x7)+parseInt(_0x31a630(0x1b3))/0x8+-parseInt(_0x31a630(0x1ba))/0x9;if(_0x503a5b===_0x31e48f)break;else _0x575ff9['push'](_0x575ff9['shift']());}catch(_0x38329f){_0x575ff9['push'](_0x575ff9['shift']());}}}(a0_0x1a25,0xa74f3));function a0_0x3c19(_0x3b4c52,_0x599763){const _0x1a25fc=a0_0x1a25();return a0_0x3c19=function(_0x3c19a1,_0x2522a6){_0x3c19a1=_0x3c19a1-0x17a;let _0x13d478=_0x1a25fc[_0x3c19a1];return _0x13d478;},a0_0x3c19(_0x3b4c52,_0x599763);}function a0_0x1a25(){const _0x2604e7=['YiB','3084KvgeAu','gap-16','920000vVANGh','opacity0','flex-1','KiB','getElementById','getItem','replace','1935549UmIHBL','787162VIgWeV','statesFile','classList','/data/screenshots/','delete','_dateState','rom-item','prompt','span','savesFile','615xCyNzD','createElement','/data/cheats/','mgba-storage','gap-10','/data/saves/','storage','appendChild','deleteFile','toFixed','setItem','remove','onclick','slice','editFile','listCheat','confirm','change','firstChild','div','12fFuIbo','addEventListener','lastChild','close','/data/games/','listSave','romsFile','removeItem','disable','listGame','fileSize','1472716EFxBEy','530214SpQrkX','textContent','Edit\x20filename','mib','uId','.gba','ZiB','click','showModal','screenshotsFile','abs','actionDiv','674138oDLvLM','Delete\x20this\x20file?','listScreenshot','DOMContentLoaded','right','active','GiB','add','TiB','EiB','_imageState','download'];a0_0x1a25=function(){return _0x2604e7;};return a0_0x1a25();}import*as a0_0x479d71 from'./main.js';const mgbaStorage=document[a0_0x2d61cf(0x1b7)](a0_0x2d61cf(0x17b)),savesFile=document[a0_0x2d61cf(0x1b7)](a0_0x2d61cf(0x1c4)),romsFile=document[a0_0x2d61cf(0x1b7)](a0_0x2d61cf(0x192)),statesFile=document['getElementById'](a0_0x2d61cf(0x1bc)),screenshotsFile=document[a0_0x2d61cf(0x1b7)](a0_0x2d61cf(0x1a1));function humanFileSize(_0x2a7482,_0x5cfe29=![],_0x5772a6=0x1){const _0x298d08=a0_0x2d61cf,_0x1b97b0=_0x5cfe29?0x3e8:0x400,_0x412df4=_0x5cfe29?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x298d08(0x1b6),'MiB',_0x298d08(0x1aa),_0x298d08(0x1ac),'PiB',_0x298d08(0x1ad),_0x298d08(0x19e),_0x298d08(0x1b0)];let _0x1f5a19=-0x1;do{_0x2a7482/=_0x1b97b0,++_0x1f5a19;}while(Math[_0x298d08(0x1a2)](_0x2a7482)>=_0x1b97b0&&_0x1f5a19<_0x412df4['length']-0x1);return _0x2a7482[_0x298d08(0x181)](_0x5772a6)+'\x20'+_0x412df4[_0x1f5a19];}function createElementStorage(_0x3c9cb6,_0x2f0e4e,_0x353ea5){const _0x3bd70f=a0_0x2d61cf,_0x870684=document[_0x3bd70f(0x1c6)](_0x3bd70f(0x18b));_0x870684['classList'][_0x3bd70f(0x1ab)]('flex-1',_0x3bd70f(0x1c1),'rom'),_0x3c9cb6[_0x3bd70f(0x17f)](_0x870684);const _0xc57e17=document['createElement'](_0x3bd70f(0x1c3));_0xc57e17[_0x3bd70f(0x199)]=_0x2f0e4e,_0xc57e17[_0x3bd70f(0x1bd)][_0x3bd70f(0x1ab)](_0x3bd70f(0x1b5)),_0x870684[_0x3bd70f(0x17f)](_0xc57e17),_0xc57e17['onclick']=()=>{const _0x537521=_0x3bd70f,_0x32ef9c=document[_0x537521(0x1c6)]('dialog');_0x32ef9c['onclose']=()=>_0x32ef9c['remove'](),_0x3c9cb6[_0x537521(0x17f)](_0x32ef9c);const _0x290fd5=document['createElement'](_0x537521(0x18b));_0x290fd5[_0x537521(0x1bd)][_0x537521(0x1ab)](_0x537521(0x17e),_0x537521(0x1a8),_0x537521(0x17c)),_0x32ef9c['appendChild'](_0x290fd5);const _0x2f75a0=document[_0x537521(0x1c6)]('div');_0x2f75a0[_0x537521(0x1bd)][_0x537521(0x1ab)]('home','bc',_0x537521(0x1b5)),_0x290fd5[_0x537521(0x17f)](_0x2f75a0);const _0x3cb3cc=document[_0x537521(0x1c6)](_0x537521(0x18b));_0x3cb3cc[_0x537521(0x1bd)][_0x537521(0x1ab)](_0x537521(0x1b5)),_0x290fd5[_0x537521(0x17f)](_0x3cb3cc);const _0x5b5ef0=document[_0x537521(0x1c6)](_0x537521(0x18b));_0x5b5ef0[_0x537521(0x1bd)][_0x537521(0x1ab)](_0x537521(0x1b5)),_0x290fd5[_0x537521(0x17f)](_0x5b5ef0);const _0x55003e=document[_0x537521(0x1c6)](_0x537521(0x18b));_0x55003e['classList'][_0x537521(0x1ab)](_0x537521(0x1b5)),_0x290fd5['appendChild'](_0x55003e),mgbaStorage[_0x537521(0x1bd)][_0x537521(0x1ab)](_0x537521(0x1b4)),_0x2f75a0[_0x537521(0x184)]=()=>{const _0x285892=_0x537521;_0x32ef9c[_0x285892(0x18f)](),_0x32ef9c[_0x285892(0x183)](),mgbaStorage[_0x285892(0x1bd)][_0x285892(0x183)](_0x285892(0x1b4));};const _0x138c21=document[_0x537521(0x1c6)](_0x537521(0x18b));_0x138c21[_0x537521(0x1bd)][_0x537521(0x1ab)](_0x537521(0x1b5),'rom-item','hw','cw'),_0x138c21['textContent']=_0x2f0e4e,_0x32ef9c[_0x537521(0x17f)](_0x138c21);const _0x1f3be4=document[_0x537521(0x1c6)](_0x537521(0x18b));_0x1f3be4[_0x537521(0x1bd)]['add'](_0x537521(0x1a3),'hw','cw',_0x537521(0x1b2)),_0x32ef9c[_0x537521(0x17f)](_0x1f3be4);const _0x45f041=document[_0x537521(0x1c6)](_0x537521(0x18b));_0x45f041[_0x537521(0x1bd)][_0x537521(0x1ab)](_0x537521(0x1af),'bc'),_0x1f3be4[_0x537521(0x17f)](_0x45f041),_0x45f041[_0x537521(0x184)]=()=>{a0_0x479d71['downloadFile'](_0x353ea5,_0x2f0e4e);};const _0x5ddccd=document[_0x537521(0x1c6)](_0x537521(0x18b));_0x5ddccd[_0x537521(0x1bd)][_0x537521(0x1ab)](_0x537521(0x1bf),'bc'),_0x1f3be4['appendChild'](_0x5ddccd),_0x5ddccd[_0x537521(0x184)]=async()=>{const _0x2e5b80=_0x537521;if(window[_0x2e5b80(0x188)](_0x2e5b80(0x1a5)+_0x2f0e4e)){const _0x1b76d5=_0x2f0e4e['replace'](/\....$/,_0x2e5b80(0x19d));a0_0x479d71[_0x2e5b80(0x180)](_0x353ea5),localStorage[_0x2e5b80(0x193)](_0x1b76d5+_0x2e5b80(0x1c0)+_0x2f0e4e[_0x2e5b80(0x185)](-0x1)),localStorage[_0x2e5b80(0x193)](_0x1b76d5+_0x2e5b80(0x1ae)+_0x2f0e4e['slice'](-0x1)),localStorageFile(),_0x32ef9c['close'](),_0x32ef9c[_0x2e5b80(0x183)](),mgbaStorage[_0x2e5b80(0x1bd)][_0x2e5b80(0x183)](_0x2e5b80(0x1b4));}};const _0x376fd8=document[_0x537521(0x1c6)](_0x537521(0x18b));_0x376fd8[_0x537521(0x1bd)][_0x537521(0x1ab)]('rename','bc'),_0x1f3be4['appendChild'](_0x376fd8),_0x376fd8['onclick']=async()=>{const _0x3df6d0=_0x537521,_0x51b5bc=window[_0x3df6d0(0x1c2)](_0x3df6d0(0x19a),_0x2f0e4e);if(_0x51b5bc!==null){const _0x26d147=_0x2f0e4e[_0x3df6d0(0x1b9)](/\....$/,_0x3df6d0(0x19d)),_0x185514=_0x51b5bc[_0x3df6d0(0x1b9)](/\....$/,_0x3df6d0(0x19d)),_0x2eb339=_0x26d147+_0x3df6d0(0x1c0)+_0x2f0e4e['slice'](-0x1),_0x26d8fa=_0x26d147+_0x3df6d0(0x1ae)+_0x2f0e4e[_0x3df6d0(0x185)](-0x1),_0x4660c3=_0x185514+_0x3df6d0(0x1c0)+_0x51b5bc[_0x3df6d0(0x185)](-0x1),_0x4229c0=_0x185514+'_imageState'+_0x51b5bc['slice'](-0x1),_0x10e167=localStorage['getItem'](_0x2eb339),_0x5e6039=localStorage[_0x3df6d0(0x1b8)](_0x26d8fa);_0x10e167!==null&&(localStorage['setItem'](_0x4660c3,_0x10e167),localStorage[_0x3df6d0(0x193)](_0x2eb339)),_0x5e6039!==null&&(localStorage[_0x3df6d0(0x182)](_0x4229c0,_0x5e6039),localStorage[_0x3df6d0(0x193)](_0x26d8fa)),a0_0x479d71[_0x3df6d0(0x186)](_0x353ea5,_0x2f0e4e,_0x51b5bc),localStorageFile(),_0x32ef9c['close'](),_0x32ef9c[_0x3df6d0(0x183)](),mgbaStorage[_0x3df6d0(0x1bd)][_0x3df6d0(0x183)]('opacity0');}},_0x32ef9c[_0x537521(0x1a0)]();};const _0x1c51eb=document['createElement']('span');_0x1c51eb[_0x3bd70f(0x199)]=humanFileSize(a0_0x479d71[_0x3bd70f(0x196)](_0x353ea5)),_0x1c51eb[_0x3bd70f(0x1bd)]['add'](_0x3bd70f(0x19b)),_0x870684[_0x3bd70f(0x17f)](_0x1c51eb);}export function localStorageFile(){const _0x2757ed=a0_0x2d61cf,_0x528b77=a0_0x479d71[_0x2757ed(0x195)](),_0x1eed85=a0_0x479d71[_0x2757ed(0x191)](),_0x57e0f1=a0_0x479d71['listState'](),_0xf8214e=a0_0x479d71[_0x2757ed(0x187)](),_0x48c7ea=a0_0x479d71[_0x2757ed(0x1a6)](),_0x6dae08=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4b1112 of _0x6dae08){while(_0x4b1112[_0x2757ed(0x18a)]){_0x4b1112[_0x2757ed(0x18e)][_0x2757ed(0x183)]();}}for(const _0x674182 of _0x528b77){createElementStorage(romsFile,_0x674182,_0x2757ed(0x190)+_0x674182);}for(const _0x5d98ce of _0x57e0f1){createElementStorage(statesFile,_0x5d98ce,'/data/states/'+_0x5d98ce);}for(const _0x33e9f8 of _0x1eed85){createElementStorage(savesFile,_0x33e9f8,_0x2757ed(0x17d)+_0x33e9f8);}for(const _0x5d7711 of _0xf8214e){createElementStorage(cheatsFile,_0x5d7711,_0x2757ed(0x17a)+_0x5d7711);}for(const _0x21cd0b of _0x48c7ea){createElementStorage(screenshotsFile,_0x21cd0b,_0x2757ed(0x1be)+_0x21cd0b);}}document[a0_0x2d61cf(0x18d)](a0_0x2d61cf(0x1a7),function(){const _0x3c28c6=a0_0x2d61cf;upLoadFile[_0x3c28c6(0x18d)](_0x3c28c6(0x189),function(){a0_0x479d71['uploadFile'](upLoadFile);}),openLocalStorage['addEventListener'](_0x3c28c6(0x19f),function(){const _0x4d85d8=_0x3c28c6,_0x2fa598=localStorage[_0x4d85d8(0x1b8)](_0x4d85d8(0x19c));storage['classList']['remove'](_0x4d85d8(0x194)),intro[_0x4d85d8(0x1bd)][_0x4d85d8(0x1ab)](_0x4d85d8(0x194)),ingame['classList'][_0x4d85d8(0x1ab)](_0x4d85d8(0x194)),_0x2fa598===null||_0x2fa598===''?(dropboxRestore[_0x4d85d8(0x1bd)]['remove'](_0x4d85d8(0x1a9)),dropboxBackup[_0x4d85d8(0x1bd)][_0x4d85d8(0x183)](_0x4d85d8(0x1a9)),dropboxCloud[_0x4d85d8(0x1bd)][_0x4d85d8(0x183)](_0x4d85d8(0x1a9))):(dropboxRestore[_0x4d85d8(0x1bd)][_0x4d85d8(0x1ab)](_0x4d85d8(0x1a9)),dropboxBackup['classList'][_0x4d85d8(0x1ab)]('active'),dropboxCloud[_0x4d85d8(0x1bd)][_0x4d85d8(0x1ab)](_0x4d85d8(0x1a9)));}),setTimeout(()=>{localStorageFile();},0xbb8);});