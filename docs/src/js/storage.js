const a0_0x52833f=a0_0x596e;(function(_0x393e0d,_0xb3e2c7){const _0xab6d64=a0_0x596e,_0x188a06=_0x393e0d();while(!![]){try{const _0xa7ddc1=parseInt(_0xab6d64(0x11f))/0x1+-parseInt(_0xab6d64(0x122))/0x2*(parseInt(_0xab6d64(0x134))/0x3)+parseInt(_0xab6d64(0x11d))/0x4*(-parseInt(_0xab6d64(0x139))/0x5)+-parseInt(_0xab6d64(0x120))/0x6*(-parseInt(_0xab6d64(0x158))/0x7)+parseInt(_0xab6d64(0x160))/0x8*(-parseInt(_0xab6d64(0x136))/0x9)+-parseInt(_0xab6d64(0x154))/0xa+parseInt(_0xab6d64(0x12b))/0xb;if(_0xa7ddc1===_0xb3e2c7)break;else _0x188a06['push'](_0x188a06['shift']());}catch(_0x287159){_0x188a06['push'](_0x188a06['shift']());}}}(a0_0x27bb,0x35e7b));import*as a0_0x1edeb5 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x52833f(0x145)),savesFile=document[a0_0x52833f(0x128)](a0_0x52833f(0x15d)),romsFile=document['getElementById']('romsFile'),statesFile=document['getElementById'](a0_0x52833f(0x13b)),screenshotsFile=document['getElementById']('screenshotsFile');function a0_0x27bb(){const _0x534307=['uId','uploadFile','home','YiB','listScreenshot','flex-1','actionDiv','abs','_dateState','1763496NeCgqB','setItem','439767gJWmBY','12upDPKR','/data/states/','17906QKAlyk','right','close','remove','createElement','downloadFile','getElementById','.gba','replace','9334644SbbVvc','editFile','addEventListener','toFixed','opacity0','confirm','click','textContent','onclick','135aNGdah','span','9Cbmvhi','TiB','/data/screenshots/','5NPaMKt','prompt','statesFile','/data/cheats/','listGame','listCheat','rom-item','slice','rom','appendChild','ZiB','listSave','mgba-storage','DOMContentLoaded','firstChild','getItem','listState','length','MiB','storage','PiB','div','_imageState','showModal','change','EiB','onclose','288140CdMSil','disable','GiB','Delete\x20this\x20file?','586705lxxEag','classList','/data/saves/','gap-10','removeItem','savesFile','/data/games/','add','2901064bittiO','dialog','active'];a0_0x27bb=function(){return _0x534307;};return a0_0x27bb();}function humanFileSize(_0x2c8213,_0x3ee900=![],_0x529eea=0x1){const _0x24e321=a0_0x52833f,_0x50e109=_0x3ee900?0x3e8:0x400,_0x1ac7f8=_0x3ee900?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x24e321(0x14b),_0x24e321(0x156),_0x24e321(0x137),_0x24e321(0x14d),_0x24e321(0x152),_0x24e321(0x143),_0x24e321(0x166)];let _0xfc88dd=-0x1;do{_0x2c8213/=_0x50e109,++_0xfc88dd;}while(Math[_0x24e321(0x11b)](_0x2c8213)>=_0x50e109&&_0xfc88dd<_0x1ac7f8[_0x24e321(0x14a)]-0x1);return _0x2c8213[_0x24e321(0x12e)](_0x529eea)+'\x20'+_0x1ac7f8[_0xfc88dd];}function createElementStorage(_0xfaceef,_0x33fcb6,_0x55dbde){const _0x56afcf=a0_0x52833f,_0x2adc6b=document['createElement']('div');_0x2adc6b['classList']['add'](_0x56afcf(0x119),_0x56afcf(0x13f),_0x56afcf(0x141)),_0xfaceef[_0x56afcf(0x142)](_0x2adc6b);const _0x145ef2=document[_0x56afcf(0x126)](_0x56afcf(0x135));_0x145ef2['textContent']=_0x33fcb6,_0x145ef2[_0x56afcf(0x159)][_0x56afcf(0x15f)](_0x56afcf(0x119)),_0x2adc6b[_0x56afcf(0x142)](_0x145ef2),_0x145ef2[_0x56afcf(0x133)]=()=>{const _0xc2dad1=_0x56afcf,_0x55ecc4=document[_0xc2dad1(0x126)](_0xc2dad1(0x161));_0x55ecc4[_0xc2dad1(0x153)]=()=>_0x55ecc4[_0xc2dad1(0x125)](),_0xfaceef[_0xc2dad1(0x142)](_0x55ecc4);const _0x3f4222=document[_0xc2dad1(0x126)](_0xc2dad1(0x14e));_0x3f4222['classList'][_0xc2dad1(0x15f)](_0xc2dad1(0x14c),_0xc2dad1(0x123),_0xc2dad1(0x15b)),_0x55ecc4[_0xc2dad1(0x142)](_0x3f4222);const _0x54b194=document[_0xc2dad1(0x126)](_0xc2dad1(0x14e));_0x54b194['classList'][_0xc2dad1(0x15f)](_0xc2dad1(0x165),'bc',_0xc2dad1(0x119)),_0x3f4222[_0xc2dad1(0x142)](_0x54b194);const _0x1dd776=document['createElement'](_0xc2dad1(0x14e));_0x1dd776['classList'][_0xc2dad1(0x15f)]('flex-1'),_0x3f4222[_0xc2dad1(0x142)](_0x1dd776);const _0x3acda4=document[_0xc2dad1(0x126)](_0xc2dad1(0x14e));_0x3acda4[_0xc2dad1(0x159)]['add'](_0xc2dad1(0x119)),_0x3f4222['appendChild'](_0x3acda4);const _0x1930d3=document[_0xc2dad1(0x126)](_0xc2dad1(0x14e));_0x1930d3[_0xc2dad1(0x159)][_0xc2dad1(0x15f)](_0xc2dad1(0x119)),_0x3f4222[_0xc2dad1(0x142)](_0x1930d3),mgbaStorage['classList'][_0xc2dad1(0x15f)](_0xc2dad1(0x12f)),_0x54b194['onclick']=()=>{const _0x391906=_0xc2dad1;_0x55ecc4[_0x391906(0x124)](),_0x55ecc4['remove'](),mgbaStorage['classList']['remove']('opacity0');};const _0x2e161c=document[_0xc2dad1(0x126)]('div');_0x2e161c['classList'][_0xc2dad1(0x15f)](_0xc2dad1(0x119),_0xc2dad1(0x13f),'hw','cw'),_0x2e161c[_0xc2dad1(0x132)]=_0x33fcb6,_0x55ecc4[_0xc2dad1(0x142)](_0x2e161c);const _0x1bcf85=document[_0xc2dad1(0x126)](_0xc2dad1(0x14e));_0x1bcf85[_0xc2dad1(0x159)][_0xc2dad1(0x15f)](_0xc2dad1(0x11a),'hw','cw','gap-16'),_0x55ecc4[_0xc2dad1(0x142)](_0x1bcf85);const _0x48ecae=document[_0xc2dad1(0x126)]('div');_0x48ecae['classList'][_0xc2dad1(0x15f)]('download','bc'),_0x1bcf85['appendChild'](_0x48ecae),_0x48ecae[_0xc2dad1(0x133)]=()=>{const _0x6a0a7=_0xc2dad1;a0_0x1edeb5[_0x6a0a7(0x127)](_0x55dbde,_0x33fcb6);};const _0x9273fa=document[_0xc2dad1(0x126)](_0xc2dad1(0x14e));_0x9273fa[_0xc2dad1(0x159)][_0xc2dad1(0x15f)]('delete','bc'),_0x1bcf85['appendChild'](_0x9273fa),_0x9273fa[_0xc2dad1(0x133)]=async()=>{const _0x3554a2=_0xc2dad1;if(window[_0x3554a2(0x130)](_0x3554a2(0x157)+_0x33fcb6)){const _0x1234f5=_0x33fcb6[_0x3554a2(0x12a)](/\....$/,_0x3554a2(0x129));a0_0x1edeb5['deleteFile'](_0x55dbde),localStorage[_0x3554a2(0x15c)](_0x1234f5+_0x3554a2(0x11c)+_0x33fcb6[_0x3554a2(0x140)](-0x1)),localStorage[_0x3554a2(0x15c)](_0x1234f5+_0x3554a2(0x14f)+_0x33fcb6[_0x3554a2(0x140)](-0x1)),localStorageFile(),_0x55ecc4[_0x3554a2(0x124)](),_0x55ecc4[_0x3554a2(0x125)](),mgbaStorage['classList'][_0x3554a2(0x125)](_0x3554a2(0x12f));}};const _0x5e0c94=document['createElement'](_0xc2dad1(0x14e));_0x5e0c94[_0xc2dad1(0x159)][_0xc2dad1(0x15f)]('rename','bc'),_0x1bcf85['appendChild'](_0x5e0c94),_0x5e0c94[_0xc2dad1(0x133)]=async()=>{const _0x21ac87=_0xc2dad1,_0x205e12=window[_0x21ac87(0x13a)]('Edit\x20filename',_0x33fcb6);if(_0x205e12!==null){const _0x25b984=_0x33fcb6[_0x21ac87(0x12a)](/\....$/,_0x21ac87(0x129)),_0x2e71db=_0x205e12[_0x21ac87(0x12a)](/\....$/,_0x21ac87(0x129)),_0x14b91c=_0x25b984+_0x21ac87(0x11c)+_0x33fcb6[_0x21ac87(0x140)](-0x1),_0x38f7ea=_0x25b984+_0x21ac87(0x14f)+_0x33fcb6[_0x21ac87(0x140)](-0x1),_0x2a64f2=_0x2e71db+_0x21ac87(0x11c)+_0x205e12['slice'](-0x1),_0xffe618=_0x2e71db+_0x21ac87(0x14f)+_0x205e12[_0x21ac87(0x140)](-0x1),_0xf5d993=localStorage[_0x21ac87(0x148)](_0x14b91c),_0xdbeb68=localStorage[_0x21ac87(0x148)](_0x38f7ea);_0xf5d993!==null&&(localStorage[_0x21ac87(0x11e)](_0x2a64f2,_0xf5d993),localStorage[_0x21ac87(0x15c)](_0x14b91c)),_0xdbeb68!==null&&(localStorage['setItem'](_0xffe618,_0xdbeb68),localStorage['removeItem'](_0x38f7ea)),a0_0x1edeb5[_0x21ac87(0x12c)](_0x55dbde,_0x33fcb6,_0x205e12),localStorageFile(),_0x55ecc4[_0x21ac87(0x124)](),_0x55ecc4[_0x21ac87(0x125)](),mgbaStorage[_0x21ac87(0x159)]['remove']('opacity0');}},_0x55ecc4[_0xc2dad1(0x150)]();};const _0x1cf6a9=document[_0x56afcf(0x126)](_0x56afcf(0x135));_0x1cf6a9[_0x56afcf(0x132)]=humanFileSize(a0_0x1edeb5['fileSize'](_0x55dbde)),_0x1cf6a9[_0x56afcf(0x159)][_0x56afcf(0x15f)]('mib'),_0x2adc6b[_0x56afcf(0x142)](_0x1cf6a9);}function a0_0x596e(_0x509499,_0x22cca0){const _0x27bb04=a0_0x27bb();return a0_0x596e=function(_0x596e80,_0x26bd80){_0x596e80=_0x596e80-0x119;let _0x788a47=_0x27bb04[_0x596e80];return _0x788a47;},a0_0x596e(_0x509499,_0x22cca0);}export function localStorageFile(){const _0x3cb17f=a0_0x52833f,_0x230388=a0_0x1edeb5[_0x3cb17f(0x13d)](),_0x5c25e8=a0_0x1edeb5[_0x3cb17f(0x144)](),_0x1cca2c=a0_0x1edeb5[_0x3cb17f(0x149)](),_0x5a5f00=a0_0x1edeb5[_0x3cb17f(0x13e)](),_0x11a492=a0_0x1edeb5[_0x3cb17f(0x167)](),_0x25e666=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x402a05 of _0x25e666){while(_0x402a05[_0x3cb17f(0x147)]){_0x402a05['lastChild'][_0x3cb17f(0x125)]();}}for(const _0x335bad of _0x230388){createElementStorage(romsFile,_0x335bad,_0x3cb17f(0x15e)+_0x335bad);}for(const _0xdd9eff of _0x1cca2c){createElementStorage(statesFile,_0xdd9eff,_0x3cb17f(0x121)+_0xdd9eff);}for(const _0x99c2b3 of _0x5c25e8){createElementStorage(savesFile,_0x99c2b3,_0x3cb17f(0x15a)+_0x99c2b3);}for(const _0x17c048 of _0x5a5f00){createElementStorage(cheatsFile,_0x17c048,_0x3cb17f(0x13c)+_0x17c048);}for(const _0x242e7e of _0x11a492){createElementStorage(screenshotsFile,_0x242e7e,_0x3cb17f(0x138)+_0x242e7e);}}document[a0_0x52833f(0x12d)](a0_0x52833f(0x146),function(){const _0x3d87c6=a0_0x52833f;upLoadFile[_0x3d87c6(0x12d)](_0x3d87c6(0x151),function(){const _0x28c4f8=_0x3d87c6;a0_0x1edeb5[_0x28c4f8(0x164)](upLoadFile);}),openLocalStorage[_0x3d87c6(0x12d)](_0x3d87c6(0x131),function(){const _0x1fc365=_0x3d87c6,_0x3e48a5=localStorage['getItem'](_0x1fc365(0x163));storage[_0x1fc365(0x159)][_0x1fc365(0x125)](_0x1fc365(0x155)),intro[_0x1fc365(0x159)][_0x1fc365(0x15f)](_0x1fc365(0x155)),ingame[_0x1fc365(0x159)][_0x1fc365(0x15f)](_0x1fc365(0x155)),_0x3e48a5===null||_0x3e48a5===''?(dropboxRestore[_0x1fc365(0x159)][_0x1fc365(0x125)]('active'),dropboxBackup['classList']['remove'](_0x1fc365(0x162)),dropboxCloud['classList'][_0x1fc365(0x125)](_0x1fc365(0x162))):(dropboxRestore['classList'][_0x1fc365(0x15f)](_0x1fc365(0x162)),dropboxBackup[_0x1fc365(0x159)]['add']('active'),dropboxCloud[_0x1fc365(0x159)][_0x1fc365(0x15f)](_0x1fc365(0x162)));}),setTimeout(()=>{localStorageFile();},0xbb8);});