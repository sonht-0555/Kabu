const a0_0x11cf29=a0_0x29a2;(function(_0x33c523,_0x338ea6){const _0x46cdc8=a0_0x29a2,_0x4df549=_0x33c523();while(!![]){try{const _0x280ff2=-parseInt(_0x46cdc8(0x200))/0x1*(parseInt(_0x46cdc8(0x202))/0x2)+-parseInt(_0x46cdc8(0x1f3))/0x3+-parseInt(_0x46cdc8(0x1f1))/0x4+parseInt(_0x46cdc8(0x20b))/0x5+parseInt(_0x46cdc8(0x1ee))/0x6+parseInt(_0x46cdc8(0x1ea))/0x7+parseInt(_0x46cdc8(0x214))/0x8;if(_0x280ff2===_0x338ea6)break;else _0x4df549['push'](_0x4df549['shift']());}catch(_0x40a903){_0x4df549['push'](_0x4df549['shift']());}}}(a0_0x2933,0x63acc));import*as a0_0x4f0c10 from'./main.js';const mgbaStorage=document[a0_0x11cf29(0x1e8)]('mgba-storage'),savesFile=document[a0_0x11cf29(0x1e8)](a0_0x11cf29(0x225)),romsFile=document[a0_0x11cf29(0x1e8)](a0_0x11cf29(0x1e6)),statesFile=document[a0_0x11cf29(0x1e8)]('statesFile'),screenshotsFile=document['getElementById']('screenshotsFile');function a0_0x2933(){const _0x150398=['showModal','/data/saves/','createElement','appendChild','editFile','ZiB','savesFile','.gba','remove','_imageState','fileSize','mib','add','gap-10','firstChild','replace','toFixed','Edit\x20filename','romsFile','onclose','getElementById','DOMContentLoaded','766906VoYuaP','EiB','uploadFile','lastChild','4684398nNMWko','classList','rom-item','1380008okisbR','setItem','324318hpaeYb','KiB','opacity0','download','storage','removeItem','dialog','/data/games/','change','span','listScreenshot','downloadFile','listState','538817joIhXk','close','2iOFMjG','onclick','/data/screenshots/','PiB','textContent','MiB','getItem','delete','confirm','794035wPhAlH','prompt','abs','listCheat','actionDiv','/data/states/','div','listSave','slice','2808760agWKFU','listGame','uId','GiB','addEventListener','length','active','home','flex-1','_dateState','/data/cheats/'];a0_0x2933=function(){return _0x150398;};return a0_0x2933();}function humanFileSize(_0x2101bc,_0x1907d4=![],_0x44a5fb=0x1){const _0x4f67a8=a0_0x11cf29,_0x596e0c=_0x1907d4?0x3e8:0x400,_0x5462ac=_0x1907d4?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4f67a8(0x1f4),_0x4f67a8(0x207),_0x4f67a8(0x217),'TiB',_0x4f67a8(0x205),_0x4f67a8(0x1eb),_0x4f67a8(0x224),'YiB'];let _0x1a7bac=-0x1;do{_0x2101bc/=_0x596e0c,++_0x1a7bac;}while(Math[_0x4f67a8(0x20d)](_0x2101bc)>=_0x596e0c&&_0x1a7bac<_0x5462ac[_0x4f67a8(0x219)]-0x1);return _0x2101bc[_0x4f67a8(0x1e4)](_0x44a5fb)+'\x20'+_0x5462ac[_0x1a7bac];}function a0_0x29a2(_0x29a242,_0x1271b2){const _0x2933b1=a0_0x2933();return a0_0x29a2=function(_0x29a2ef,_0x59da7d){_0x29a2ef=_0x29a2ef-0x1dd;let _0x4360d0=_0x2933b1[_0x29a2ef];return _0x4360d0;},a0_0x29a2(_0x29a242,_0x1271b2);}function createElementStorage(_0x2e1327,_0x39ded9,_0x321236){const _0x12d7f1=a0_0x11cf29,_0x3733de=document[_0x12d7f1(0x221)](_0x12d7f1(0x211));_0x3733de['classList'][_0x12d7f1(0x1e0)]('flex-1',_0x12d7f1(0x1f0),'rom'),_0x2e1327[_0x12d7f1(0x222)](_0x3733de);const _0x55464b=document[_0x12d7f1(0x221)](_0x12d7f1(0x1fc));_0x55464b[_0x12d7f1(0x206)]=_0x39ded9,_0x55464b['classList'][_0x12d7f1(0x1e0)](_0x12d7f1(0x21c)),_0x3733de[_0x12d7f1(0x222)](_0x55464b),_0x55464b[_0x12d7f1(0x203)]=()=>{const _0x4bd5e8=_0x12d7f1,_0x1d75c4=document[_0x4bd5e8(0x221)](_0x4bd5e8(0x1f9));_0x1d75c4[_0x4bd5e8(0x1e7)]=()=>_0x1d75c4[_0x4bd5e8(0x227)](),_0x2e1327[_0x4bd5e8(0x222)](_0x1d75c4);const _0x3ce61f=document[_0x4bd5e8(0x221)]('div');_0x3ce61f[_0x4bd5e8(0x1ef)]['add'](_0x4bd5e8(0x1f7),'right',_0x4bd5e8(0x1e1)),_0x1d75c4[_0x4bd5e8(0x222)](_0x3ce61f);const _0x5dad8e=document[_0x4bd5e8(0x221)]('div');_0x5dad8e[_0x4bd5e8(0x1ef)][_0x4bd5e8(0x1e0)](_0x4bd5e8(0x21b),'bc',_0x4bd5e8(0x21c)),_0x3ce61f[_0x4bd5e8(0x222)](_0x5dad8e);const _0x2dc056=document[_0x4bd5e8(0x221)](_0x4bd5e8(0x211));_0x2dc056[_0x4bd5e8(0x1ef)][_0x4bd5e8(0x1e0)]('flex-1'),_0x3ce61f[_0x4bd5e8(0x222)](_0x2dc056);const _0xf4f5a=document[_0x4bd5e8(0x221)](_0x4bd5e8(0x211));_0xf4f5a[_0x4bd5e8(0x1ef)][_0x4bd5e8(0x1e0)](_0x4bd5e8(0x21c)),_0x3ce61f[_0x4bd5e8(0x222)](_0xf4f5a);const _0x574f1b=document[_0x4bd5e8(0x221)](_0x4bd5e8(0x211));_0x574f1b[_0x4bd5e8(0x1ef)][_0x4bd5e8(0x1e0)](_0x4bd5e8(0x21c)),_0x3ce61f['appendChild'](_0x574f1b),mgbaStorage[_0x4bd5e8(0x1ef)][_0x4bd5e8(0x1e0)]('opacity0'),_0x5dad8e[_0x4bd5e8(0x203)]=()=>{const _0x3d6a4a=_0x4bd5e8;_0x1d75c4[_0x3d6a4a(0x201)](),_0x1d75c4['remove'](),mgbaStorage[_0x3d6a4a(0x1ef)][_0x3d6a4a(0x227)](_0x3d6a4a(0x1f5));};const _0xab02c2=document[_0x4bd5e8(0x221)](_0x4bd5e8(0x211));_0xab02c2[_0x4bd5e8(0x1ef)][_0x4bd5e8(0x1e0)](_0x4bd5e8(0x21c),_0x4bd5e8(0x1f0),'hw','cw'),_0xab02c2[_0x4bd5e8(0x206)]=_0x39ded9,_0x1d75c4[_0x4bd5e8(0x222)](_0xab02c2);const _0x464143=document[_0x4bd5e8(0x221)](_0x4bd5e8(0x211));_0x464143[_0x4bd5e8(0x1ef)]['add'](_0x4bd5e8(0x20f),'hw','cw','gap-16'),_0x1d75c4[_0x4bd5e8(0x222)](_0x464143);const _0x3b1a04=document[_0x4bd5e8(0x221)](_0x4bd5e8(0x211));_0x3b1a04[_0x4bd5e8(0x1ef)][_0x4bd5e8(0x1e0)](_0x4bd5e8(0x1f6),'bc'),_0x464143['appendChild'](_0x3b1a04),_0x3b1a04[_0x4bd5e8(0x203)]=()=>{const _0x3232c6=_0x4bd5e8;a0_0x4f0c10[_0x3232c6(0x1fe)](_0x321236,_0x39ded9);};const _0x59061b=document[_0x4bd5e8(0x221)](_0x4bd5e8(0x211));_0x59061b[_0x4bd5e8(0x1ef)]['add'](_0x4bd5e8(0x209),'bc'),_0x464143['appendChild'](_0x59061b),_0x59061b[_0x4bd5e8(0x203)]=async()=>{const _0x401eb2=_0x4bd5e8;if(window[_0x401eb2(0x20a)]('Delete\x20this\x20file?'+_0x39ded9)){const _0x23f017=_0x39ded9['replace'](/\....$/,_0x401eb2(0x226));a0_0x4f0c10['deleteFile'](_0x321236),localStorage[_0x401eb2(0x1f8)](_0x23f017+'_dateState'+_0x39ded9[_0x401eb2(0x213)](-0x1)),localStorage[_0x401eb2(0x1f8)](_0x23f017+_0x401eb2(0x1dd)+_0x39ded9['slice'](-0x1)),localStorageFile(),_0x1d75c4[_0x401eb2(0x201)](),_0x1d75c4['remove'](),mgbaStorage['classList'][_0x401eb2(0x227)]('opacity0');}};const _0x2e9277=document[_0x4bd5e8(0x221)]('div');_0x2e9277[_0x4bd5e8(0x1ef)][_0x4bd5e8(0x1e0)]('rename','bc'),_0x464143['appendChild'](_0x2e9277),_0x2e9277[_0x4bd5e8(0x203)]=async()=>{const _0x43c148=_0x4bd5e8,_0x51f047=window[_0x43c148(0x20c)](_0x43c148(0x1e5),_0x39ded9);if(_0x51f047!==null){const _0x34b114=_0x39ded9[_0x43c148(0x1e3)](/\....$/,_0x43c148(0x226)),_0x2c398d=_0x51f047[_0x43c148(0x1e3)](/\....$/,_0x43c148(0x226)),_0x12270b=_0x34b114+_0x43c148(0x21d)+_0x39ded9[_0x43c148(0x213)](-0x1),_0xba84bc=_0x34b114+_0x43c148(0x1dd)+_0x39ded9['slice'](-0x1),_0x52a77a=_0x2c398d+_0x43c148(0x21d)+_0x51f047[_0x43c148(0x213)](-0x1),_0x4f315e=_0x2c398d+_0x43c148(0x1dd)+_0x51f047['slice'](-0x1),_0x114ea5=localStorage[_0x43c148(0x208)](_0x12270b),_0x549ec7=localStorage['getItem'](_0xba84bc);_0x114ea5!==null&&(localStorage[_0x43c148(0x1f2)](_0x52a77a,_0x114ea5),localStorage[_0x43c148(0x1f8)](_0x12270b)),_0x549ec7!==null&&(localStorage[_0x43c148(0x1f2)](_0x4f315e,_0x549ec7),localStorage['removeItem'](_0xba84bc)),a0_0x4f0c10[_0x43c148(0x223)](_0x321236,_0x39ded9,_0x51f047),localStorageFile(),_0x1d75c4[_0x43c148(0x201)](),_0x1d75c4[_0x43c148(0x227)](),mgbaStorage[_0x43c148(0x1ef)][_0x43c148(0x227)](_0x43c148(0x1f5));}},_0x1d75c4[_0x4bd5e8(0x21f)]();};const _0x32bc14=document[_0x12d7f1(0x221)]('span');_0x32bc14[_0x12d7f1(0x206)]=humanFileSize(a0_0x4f0c10[_0x12d7f1(0x1de)](_0x321236)),_0x32bc14[_0x12d7f1(0x1ef)][_0x12d7f1(0x1e0)](_0x12d7f1(0x1df)),_0x3733de[_0x12d7f1(0x222)](_0x32bc14);}export function localStorageFile(){const _0x2c3be2=a0_0x11cf29,_0x72d803=a0_0x4f0c10[_0x2c3be2(0x215)](),_0x264788=a0_0x4f0c10[_0x2c3be2(0x212)](),_0x3c3ebb=a0_0x4f0c10[_0x2c3be2(0x1ff)](),_0x1ae0c3=a0_0x4f0c10[_0x2c3be2(0x20e)](),_0x582880=a0_0x4f0c10[_0x2c3be2(0x1fd)](),_0x175e48=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4e97ac of _0x175e48){while(_0x4e97ac[_0x2c3be2(0x1e2)]){_0x4e97ac[_0x2c3be2(0x1ed)][_0x2c3be2(0x227)]();}}for(const _0x3adeac of _0x72d803){createElementStorage(romsFile,_0x3adeac,_0x2c3be2(0x1fa)+_0x3adeac);}for(const _0x2550e1 of _0x3c3ebb){createElementStorage(statesFile,_0x2550e1,_0x2c3be2(0x210)+_0x2550e1);}for(const _0x416948 of _0x264788){createElementStorage(savesFile,_0x416948,_0x2c3be2(0x220)+_0x416948);}for(const _0x276ff8 of _0x1ae0c3){createElementStorage(cheatsFile,_0x276ff8,_0x2c3be2(0x21e)+_0x276ff8);}for(const _0x40c727 of _0x582880){createElementStorage(screenshotsFile,_0x40c727,_0x2c3be2(0x204)+_0x40c727);}}document[a0_0x11cf29(0x218)](a0_0x11cf29(0x1e9),function(){const _0x256045=a0_0x11cf29;upLoadFile[_0x256045(0x218)](_0x256045(0x1fb),function(){const _0x4e5e49=_0x256045;a0_0x4f0c10[_0x4e5e49(0x1ec)](upLoadFile);}),openLocalStorage[_0x256045(0x218)]('click',function(){const _0xc40b3f=_0x256045,_0x34a77b=localStorage[_0xc40b3f(0x208)](_0xc40b3f(0x216));storage[_0xc40b3f(0x1ef)][_0xc40b3f(0x227)]('disable'),intro['classList']['add']('disable'),ingame[_0xc40b3f(0x1ef)][_0xc40b3f(0x1e0)]('disable'),_0x34a77b===null||_0x34a77b===''?(dropboxRestore[_0xc40b3f(0x1ef)]['remove'](_0xc40b3f(0x21a)),dropboxBackup[_0xc40b3f(0x1ef)][_0xc40b3f(0x227)](_0xc40b3f(0x21a)),dropboxCloud['classList'][_0xc40b3f(0x227)](_0xc40b3f(0x21a))):(dropboxRestore[_0xc40b3f(0x1ef)][_0xc40b3f(0x1e0)](_0xc40b3f(0x21a)),dropboxBackup[_0xc40b3f(0x1ef)][_0xc40b3f(0x1e0)](_0xc40b3f(0x21a)),dropboxCloud[_0xc40b3f(0x1ef)]['add'](_0xc40b3f(0x21a)));}),setTimeout(()=>{localStorageFile();},0xbb8);});