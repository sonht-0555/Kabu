const a0_0xce643e=a0_0x5486;(function(_0x5c3b66,_0x515cf8){const _0x22eeed=a0_0x5486,_0x59c748=_0x5c3b66();while(!![]){try{const _0x260a86=parseInt(_0x22eeed(0xf1))/0x1*(parseInt(_0x22eeed(0xf3))/0x2)+-parseInt(_0x22eeed(0xd3))/0x3+parseInt(_0x22eeed(0xea))/0x4+parseInt(_0x22eeed(0xbb))/0x5*(-parseInt(_0x22eeed(0xcc))/0x6)+-parseInt(_0x22eeed(0xb5))/0x7*(parseInt(_0x22eeed(0xcf))/0x8)+parseInt(_0x22eeed(0xf0))/0x9*(parseInt(_0x22eeed(0xd7))/0xa)+-parseInt(_0x22eeed(0xa4))/0xb*(-parseInt(_0x22eeed(0xb0))/0xc);if(_0x260a86===_0x515cf8)break;else _0x59c748['push'](_0x59c748['shift']());}catch(_0x1ee17a){_0x59c748['push'](_0x59c748['shift']());}}}(a0_0x3e4a,0x4d91a));import*as a0_0x445a70 from'./main.js';const mgbaStorage=document[a0_0xce643e(0xaa)](a0_0xce643e(0x9e)),savesFile=document[a0_0xce643e(0xaa)](a0_0xce643e(0xc8)),romsFile=document[a0_0xce643e(0xaa)](a0_0xce643e(0xd4)),statesFile=document[a0_0xce643e(0xaa)]('statesFile'),screenshotsFile=document['getElementById'](a0_0xce643e(0xab));function humanFileSize(_0x50c8ef,_0x1906cf=![],_0x3dfaab=0x1){const _0x46c1c5=a0_0xce643e,_0x5749af=_0x1906cf?0x3e8:0x400,_0x232b4c=_0x1906cf?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x46c1c5(0xd5),'MiB',_0x46c1c5(0xb9),_0x46c1c5(0xbf),_0x46c1c5(0xdc),_0x46c1c5(0xc6),_0x46c1c5(0xa3),'YiB'];let _0x277ab1=-0x1;do{_0x50c8ef/=_0x5749af,++_0x277ab1;}while(Math['abs'](_0x50c8ef)>=_0x5749af&&_0x277ab1<_0x232b4c[_0x46c1c5(0xca)]-0x1);return _0x50c8ef[_0x46c1c5(0xb1)](_0x3dfaab)+'\x20'+_0x232b4c[_0x277ab1];}function a0_0x3e4a(){const _0x212738=['252pegvzf','3853dRAWjv','editFile','112lCEWiz','uploadSavSta','mgba-storage','.cheats','home','name','delete','ZiB','11mtZXgU','_imageState','opacity0','createElement','firstChild','actionDiv','getElementById','screenshotsFile','click','slice','replace','setItem','9707772kewydo','toFixed','listSave','textContent','disable','385UADnER','getItem','addEventListener','removeItem','GiB','lastChild','15xyfHCn','uId','confirm','.bc','TiB','flex-1','active','_dateState','rom-item','span','rename','EiB','Edit\x20filename','savesFile','onclose','length','listState','875934SphUqt','/data/screenshots/','.gbc','26632Odbtfu','DOMContentLoaded','uploadGame','rom','1308309VQNiHV','romsFile','KiB','gap-10','67180UgTfIY','div','add','listScreenshot','/data/saves/','PiB','change','endsWith','listCheat','deleteFile','right','/data/cheats/','classList','remove','Delete\x20this\x20file?','downloadFile','appendChild','gap-16','dialog','648136adwlCZ','showModal','close','prompt','.gba','listGame'];a0_0x3e4a=function(){return _0x212738;};return a0_0x3e4a();}function createElementStorage(_0x584e00,_0x545710,_0x1f8fda){const _0x45ff59=a0_0xce643e,_0x19d036=document[_0x45ff59(0xa7)]('div');_0x19d036[_0x45ff59(0xe3)][_0x45ff59(0xd9)](_0x45ff59(0xc0),_0x45ff59(0xc3),_0x45ff59(0xd2)),_0x584e00['appendChild'](_0x19d036);const _0x1a952a=document[_0x45ff59(0xa7)](_0x45ff59(0xc4));_0x1a952a[_0x45ff59(0xb3)]=_0x545710,_0x1a952a['classList'][_0x45ff59(0xd9)](_0x45ff59(0xc0)),_0x19d036[_0x45ff59(0xe7)](_0x1a952a),_0x1a952a['onclick']=()=>{const _0x5e1518=_0x45ff59,_0x2ceee6=document[_0x5e1518(0xa7)](_0x5e1518(0xe9));_0x2ceee6[_0x5e1518(0xc9)]=()=>_0x2ceee6[_0x5e1518(0xe4)](),_0x584e00[_0x5e1518(0xe7)](_0x2ceee6);const _0x1b8469=document[_0x5e1518(0xa7)](_0x5e1518(0xd8));_0x1b8469[_0x5e1518(0xe3)][_0x5e1518(0xd9)]('storage',_0x5e1518(0xe1),_0x5e1518(0xd6)),_0x2ceee6[_0x5e1518(0xe7)](_0x1b8469);const _0x49cb08=document[_0x5e1518(0xa7)](_0x5e1518(0xd8));_0x49cb08[_0x5e1518(0xe3)]['add'](_0x5e1518(0xa0),'bc',_0x5e1518(0xc0)),_0x1b8469[_0x5e1518(0xe7)](_0x49cb08);const _0x1a4aa4=document[_0x5e1518(0xa7)](_0x5e1518(0xd8));_0x1a4aa4[_0x5e1518(0xe3)][_0x5e1518(0xd9)](_0x5e1518(0xc0)),_0x1b8469['appendChild'](_0x1a4aa4);const _0x2f1e11=document['createElement']('div');_0x2f1e11[_0x5e1518(0xe3)]['add'](_0x5e1518(0xc0)),_0x1b8469['appendChild'](_0x2f1e11);const _0x13d692=document['createElement'](_0x5e1518(0xd8));_0x13d692[_0x5e1518(0xe3)][_0x5e1518(0xd9)]('flex-1'),_0x1b8469[_0x5e1518(0xe7)](_0x13d692),mgbaStorage[_0x5e1518(0xe3)]['add']('opacity0'),_0x49cb08['onclick']=()=>{const _0x34ae54=_0x5e1518;_0x2ceee6[_0x34ae54(0xec)](),_0x2ceee6[_0x34ae54(0xe4)](),mgbaStorage['classList'][_0x34ae54(0xe4)](_0x34ae54(0xa6));};const _0x1775b6=document['createElement'](_0x5e1518(0xd8));_0x1775b6[_0x5e1518(0xe3)][_0x5e1518(0xd9)](_0x5e1518(0xc0),_0x5e1518(0xc3),'hw','cw'),_0x1775b6[_0x5e1518(0xb3)]=_0x545710,_0x2ceee6['appendChild'](_0x1775b6);const _0x48dc05=document[_0x5e1518(0xa7)](_0x5e1518(0xd8));_0x48dc05[_0x5e1518(0xe3)]['add'](_0x5e1518(0xa9),'hw','cw',_0x5e1518(0xe8)),_0x2ceee6[_0x5e1518(0xe7)](_0x48dc05);const _0x214def=document[_0x5e1518(0xa7)]('div');_0x214def[_0x5e1518(0xe3)]['add']('download','bc'),_0x48dc05['appendChild'](_0x214def),_0x214def['onclick']=()=>{const _0x333722=_0x5e1518;a0_0x445a70[_0x333722(0xe6)](_0x1f8fda,_0x545710);};const _0x421da9=document['createElement']('div');_0x421da9['classList'][_0x5e1518(0xd9)](_0x5e1518(0xa2),'bc'),_0x48dc05[_0x5e1518(0xe7)](_0x421da9),_0x421da9['onclick']=async()=>{const _0x51c09f=_0x5e1518;if(window[_0x51c09f(0xbd)](_0x51c09f(0xe5)+_0x545710)){const _0x8f2d01=_0x545710[_0x51c09f(0xae)](/\....$/,_0x51c09f(0xee));a0_0x445a70[_0x51c09f(0xe0)](_0x1f8fda),localStorage[_0x51c09f(0xb8)](_0x8f2d01+_0x51c09f(0xc2)+_0x545710[_0x51c09f(0xad)](-0x1)),localStorage[_0x51c09f(0xb8)](_0x8f2d01+_0x51c09f(0xa5)+_0x545710[_0x51c09f(0xad)](-0x1)),localStorageFile(),_0x2ceee6[_0x51c09f(0xec)](),_0x2ceee6[_0x51c09f(0xe4)](),mgbaStorage[_0x51c09f(0xe3)]['remove'](_0x51c09f(0xa6));}};const _0x471557=document[_0x5e1518(0xa7)](_0x5e1518(0xd8));_0x471557[_0x5e1518(0xe3)][_0x5e1518(0xd9)](_0x5e1518(0xc5),'bc'),_0x48dc05[_0x5e1518(0xe7)](_0x471557),_0x471557['onclick']=async()=>{const _0x38af9e=_0x5e1518,_0x2f5993=window[_0x38af9e(0xed)](_0x38af9e(0xc7),_0x545710);if(_0x2f5993!==null){const _0x29c110=_0x545710[_0x38af9e(0xae)](/\....$/,_0x38af9e(0xee)),_0x555c3b=_0x2f5993[_0x38af9e(0xae)](/\....$/,'.gba'),_0x4293a2=_0x29c110+_0x38af9e(0xc2)+_0x545710[_0x38af9e(0xad)](-0x1),_0x59a4ff=_0x29c110+'_imageState'+_0x545710[_0x38af9e(0xad)](-0x1),_0x46862f=_0x555c3b+_0x38af9e(0xc2)+_0x2f5993['slice'](-0x1),_0x483caa=_0x555c3b+_0x38af9e(0xa5)+_0x2f5993['slice'](-0x1),_0x25eae6=localStorage[_0x38af9e(0xb6)](_0x4293a2),_0x2df092=localStorage[_0x38af9e(0xb6)](_0x59a4ff);_0x25eae6!==null&&(localStorage[_0x38af9e(0xaf)](_0x46862f,_0x25eae6),localStorage[_0x38af9e(0xb8)](_0x4293a2)),_0x2df092!==null&&(localStorage['setItem'](_0x483caa,_0x2df092),localStorage[_0x38af9e(0xb8)](_0x59a4ff)),a0_0x445a70[_0x38af9e(0xf2)](_0x1f8fda,_0x545710,_0x2f5993),localStorageFile(),_0x2ceee6['close'](),_0x2ceee6['remove'](),mgbaStorage[_0x38af9e(0xe3)]['remove'](_0x38af9e(0xa6));}},_0x2ceee6[_0x5e1518(0xeb)]();};const _0x313493=document[_0x45ff59(0xa7)](_0x45ff59(0xc4));_0x313493[_0x45ff59(0xb3)]=humanFileSize(a0_0x445a70['fileSize'](_0x1f8fda)),_0x313493[_0x45ff59(0xe3)]['add']('mib'),_0x19d036[_0x45ff59(0xe7)](_0x313493);}export function localStorageFile(){const _0x436ce6=a0_0xce643e,_0x3ab6d4=a0_0x445a70[_0x436ce6(0xef)](),_0x432d0f=a0_0x445a70[_0x436ce6(0xb2)](),_0x4efab3=a0_0x445a70[_0x436ce6(0xcb)](),_0x1aa0ad=a0_0x445a70[_0x436ce6(0xdf)](),_0x55a7ba=a0_0x445a70[_0x436ce6(0xda)](),_0x34364e=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x533460 of _0x34364e){while(_0x533460[_0x436ce6(0xa8)]){_0x533460[_0x436ce6(0xba)][_0x436ce6(0xe4)]();}}for(const _0x4f48e3 of _0x3ab6d4){createElementStorage(romsFile,_0x4f48e3,'/data/games/'+_0x4f48e3);}for(const _0x5aef84 of _0x4efab3){createElementStorage(statesFile,_0x5aef84,'/data/states/'+_0x5aef84);}for(const _0x3015e1 of _0x432d0f){createElementStorage(savesFile,_0x3015e1,_0x436ce6(0xdb)+_0x3015e1);}for(const _0x2e1c85 of _0x1aa0ad){createElementStorage(cheatsFile,_0x2e1c85,_0x436ce6(0xe2)+_0x2e1c85);}for(const _0x247c63 of _0x55a7ba){createElementStorage(screenshotsFile,_0x247c63,_0x436ce6(0xcd)+_0x247c63);}}function a0_0x5486(_0x49985f,_0x52981e){const _0x3e4aa7=a0_0x3e4a();return a0_0x5486=function(_0x54868f,_0x351c05){_0x54868f=_0x54868f-0x9d;let _0x21b75d=_0x3e4aa7[_0x54868f];return _0x21b75d;},a0_0x5486(_0x49985f,_0x52981e);}document['addEventListener'](a0_0xce643e(0xd0),function(){const _0x48bedb=a0_0xce643e;upLoadFile['addEventListener'](_0x48bedb(0xdd),function(){const _0x4c76e4=_0x48bedb,_0x1b48a8=upLoadFile['files'][0x0][_0x4c76e4(0xa1)];if(_0x1b48a8[_0x4c76e4(0xde)](_0x4c76e4(0x9f)))a0_0x445a70['uploadCheat'](upLoadFile);else _0x1b48a8[_0x4c76e4(0xde)](_0x4c76e4(0xee))||_0x1b48a8[_0x4c76e4(0xde)](_0x4c76e4(0xce))||_0x1b48a8[_0x4c76e4(0xde)](_0x4c76e4(0xbe))?a0_0x445a70[_0x4c76e4(0xd1)](upLoadFile):a0_0x445a70[_0x4c76e4(0x9d)](upLoadFile);}),openLocalStorage[_0x48bedb(0xb7)](_0x48bedb(0xac),function(){const _0x1fa851=_0x48bedb,_0x5ab46e=localStorage[_0x1fa851(0xb6)](_0x1fa851(0xbc));storage[_0x1fa851(0xe3)]['remove'](_0x1fa851(0xb4)),intro['classList'][_0x1fa851(0xd9)](_0x1fa851(0xb4)),ingame[_0x1fa851(0xe3)][_0x1fa851(0xd9)](_0x1fa851(0xb4)),_0x5ab46e===null||_0x5ab46e===''?(dropboxRestore[_0x1fa851(0xe3)][_0x1fa851(0xe4)]('active'),dropboxBackup[_0x1fa851(0xe3)][_0x1fa851(0xe4)](_0x1fa851(0xc1)),dropboxCloud['classList'][_0x1fa851(0xe4)]('active')):(dropboxRestore[_0x1fa851(0xe3)][_0x1fa851(0xd9)]('active'),dropboxBackup[_0x1fa851(0xe3)][_0x1fa851(0xd9)](_0x1fa851(0xc1)),dropboxCloud['classList']['add'](_0x1fa851(0xc1)));}),setTimeout(()=>{localStorageFile();},0xbb8);});