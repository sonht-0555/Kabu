function a0_0x47cb(){const _0x2cddbd=['YiB','listGame','storage','createElement','setItem','romsFile','removeItem','DOMContentLoaded','toFixed','rom-item','2138UKlcTz','TiB','11214840pgFeyh','addEventListener','endsWith','replace','.gba','screenshotsFile','appendChild','deleteFile','span','_dateState','ZiB','7pkBsgu','getItem','64mLdAMh','237786iNSgmQ','add','div','11baLlth','showModal','1118648wlnkUY','close','gap-16','/data/games/','uploadCheat','/data/saves/','10950165upprqG','editFile','fileSize','savesFile','listScreenshot','textContent','/data/cheats/','prompt','142647taoNSf','getElementById','downloadFile','uploadSavSta','_imageState','rename','files','GiB','169PtCSLr','/data/states/','Delete\x20this\x20file?','292318AOAmPT','55qnOvqB','PiB','gap-10','change','.cheats','classList','listCheat','length','Edit\x20filename','home','slice','statesFile','download','active','flex-1','click','mib','remove','disable','1044NotIll','firstChild','onclick','opacity0','confirm','name','delete','actionDiv'];a0_0x47cb=function(){return _0x2cddbd;};return a0_0x47cb();}const a0_0x1fb9b1=a0_0x5509;(function(_0x5bb2c3,_0x1ebe35){const _0x2be2e6=a0_0x5509,_0x4a714c=_0x5bb2c3();while(!![]){try{const _0x52232e=parseInt(_0x2be2e6(0x1c7))/0x1*(-parseInt(_0x2be2e6(0x1f0))/0x2)+parseInt(_0x2be2e6(0x213))/0x3*(-parseInt(_0x2be2e6(0x1ff))/0x4)+-parseInt(_0x2be2e6(0x1cb))/0x5*(parseInt(_0x2be2e6(0x200))/0x6)+-parseInt(_0x2be2e6(0x1fd))/0x7*(-parseInt(_0x2be2e6(0x205))/0x8)+parseInt(_0x2be2e6(0x20b))/0x9+parseInt(_0x2be2e6(0x1f2))/0xa*(-parseInt(_0x2be2e6(0x203))/0xb)+parseInt(_0x2be2e6(0x1de))/0xc*(parseInt(_0x2be2e6(0x1ca))/0xd);if(_0x52232e===_0x1ebe35)break;else _0x4a714c['push'](_0x4a714c['shift']());}catch(_0x1ebd11){_0x4a714c['push'](_0x4a714c['shift']());}}}(a0_0x47cb,0xc6b68));function a0_0x5509(_0xca25c1,_0x3b6323){const _0x47cba1=a0_0x47cb();return a0_0x5509=function(_0x550992,_0x462e8a){_0x550992=_0x550992-0x1c7;let _0x4a59db=_0x47cba1[_0x550992];return _0x4a59db;},a0_0x5509(_0xca25c1,_0x3b6323);}import*as a0_0x485ea1 from'./main.js';const mgbaStorage=document[a0_0x1fb9b1(0x214)]('mgba-storage'),savesFile=document[a0_0x1fb9b1(0x214)](a0_0x1fb9b1(0x20e)),romsFile=document[a0_0x1fb9b1(0x214)](a0_0x1fb9b1(0x1eb)),statesFile=document[a0_0x1fb9b1(0x214)](a0_0x1fb9b1(0x1d6)),screenshotsFile=document[a0_0x1fb9b1(0x214)](a0_0x1fb9b1(0x1f7));function humanFileSize(_0x37dcf6,_0x374d29=![],_0x54436b=0x1){const _0x97c943=a0_0x1fb9b1,_0x538ee2=_0x374d29?0x3e8:0x400,_0x401da4=_0x374d29?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB',_0x97c943(0x21a),_0x97c943(0x1f1),_0x97c943(0x1cc),'EiB',_0x97c943(0x1fc),_0x97c943(0x1e6)];let _0x8ddf38=-0x1;do{_0x37dcf6/=_0x538ee2,++_0x8ddf38;}while(Math['abs'](_0x37dcf6)>=_0x538ee2&&_0x8ddf38<_0x401da4[_0x97c943(0x1d2)]-0x1);return _0x37dcf6[_0x97c943(0x1ee)](_0x54436b)+'\x20'+_0x401da4[_0x8ddf38];}function createElementStorage(_0xe2a52b,_0xce896b,_0x4d1517){const _0x48386d=a0_0x1fb9b1,_0x49addb=document[_0x48386d(0x1e9)](_0x48386d(0x202));_0x49addb[_0x48386d(0x1d0)]['add'](_0x48386d(0x1d9),_0x48386d(0x1ef),'rom'),_0xe2a52b['appendChild'](_0x49addb);const _0x2c08ea=document['createElement'](_0x48386d(0x1fa));_0x2c08ea[_0x48386d(0x210)]=_0xce896b,_0x2c08ea[_0x48386d(0x1d0)]['add'](_0x48386d(0x1d9)),_0x49addb[_0x48386d(0x1f8)](_0x2c08ea),_0x2c08ea['onclick']=()=>{const _0x496b9c=_0x48386d,_0x1f6161=document[_0x496b9c(0x1e9)]('dialog');_0x1f6161['onclose']=()=>_0x1f6161['remove'](),_0xe2a52b['appendChild'](_0x1f6161);const _0x3909eb=document[_0x496b9c(0x1e9)](_0x496b9c(0x202));_0x3909eb[_0x496b9c(0x1d0)][_0x496b9c(0x201)](_0x496b9c(0x1e8),'right',_0x496b9c(0x1cd)),_0x1f6161[_0x496b9c(0x1f8)](_0x3909eb);const _0x207644=document[_0x496b9c(0x1e9)](_0x496b9c(0x202));_0x207644[_0x496b9c(0x1d0)][_0x496b9c(0x201)](_0x496b9c(0x1d4),'bc',_0x496b9c(0x1d9)),_0x3909eb[_0x496b9c(0x1f8)](_0x207644);const _0x11cca4=document['createElement'](_0x496b9c(0x202));_0x11cca4['classList']['add'](_0x496b9c(0x1d9)),_0x3909eb[_0x496b9c(0x1f8)](_0x11cca4);const _0x1783c0=document['createElement'](_0x496b9c(0x202));_0x1783c0[_0x496b9c(0x1d0)]['add'](_0x496b9c(0x1d9)),_0x3909eb[_0x496b9c(0x1f8)](_0x1783c0);const _0x3a8eb0=document[_0x496b9c(0x1e9)](_0x496b9c(0x202));_0x3a8eb0[_0x496b9c(0x1d0)][_0x496b9c(0x201)]('flex-1'),_0x3909eb[_0x496b9c(0x1f8)](_0x3a8eb0),mgbaStorage[_0x496b9c(0x1d0)][_0x496b9c(0x201)]('opacity0'),_0x207644[_0x496b9c(0x1e0)]=()=>{const _0x41700c=_0x496b9c;_0x1f6161[_0x41700c(0x206)](),_0x1f6161[_0x41700c(0x1dc)](),mgbaStorage[_0x41700c(0x1d0)][_0x41700c(0x1dc)](_0x41700c(0x1e1));};const _0x44dbe2=document['createElement'](_0x496b9c(0x202));_0x44dbe2[_0x496b9c(0x1d0)]['add'](_0x496b9c(0x1d9),'rom-item','hw','cw'),_0x44dbe2['textContent']=_0xce896b,_0x1f6161[_0x496b9c(0x1f8)](_0x44dbe2);const _0x50ca56=document['createElement'](_0x496b9c(0x202));_0x50ca56['classList'][_0x496b9c(0x201)](_0x496b9c(0x1e5),'hw','cw',_0x496b9c(0x207)),_0x1f6161[_0x496b9c(0x1f8)](_0x50ca56);const _0x2af67f=document[_0x496b9c(0x1e9)](_0x496b9c(0x202));_0x2af67f['classList'][_0x496b9c(0x201)](_0x496b9c(0x1d7),'bc'),_0x50ca56['appendChild'](_0x2af67f),_0x2af67f[_0x496b9c(0x1e0)]=()=>{const _0x559ea4=_0x496b9c;a0_0x485ea1[_0x559ea4(0x215)](_0x4d1517,_0xce896b);};const _0x1fc001=document[_0x496b9c(0x1e9)](_0x496b9c(0x202));_0x1fc001[_0x496b9c(0x1d0)][_0x496b9c(0x201)](_0x496b9c(0x1e4),'bc'),_0x50ca56[_0x496b9c(0x1f8)](_0x1fc001),_0x1fc001[_0x496b9c(0x1e0)]=async()=>{const _0x2af910=_0x496b9c;if(window[_0x2af910(0x1e2)](_0x2af910(0x1c9)+_0xce896b)){const _0x10df64=_0xce896b['replace'](/\....$/,_0x2af910(0x1f6));a0_0x485ea1[_0x2af910(0x1f9)](_0x4d1517),localStorage[_0x2af910(0x1ec)](_0x10df64+_0x2af910(0x1fb)+_0xce896b[_0x2af910(0x1d5)](-0x1)),localStorage[_0x2af910(0x1ec)](_0x10df64+_0x2af910(0x217)+_0xce896b[_0x2af910(0x1d5)](-0x1)),localStorageFile(),_0x1f6161[_0x2af910(0x206)](),_0x1f6161[_0x2af910(0x1dc)](),mgbaStorage['classList']['remove'](_0x2af910(0x1e1));}};const _0x1044d9=document[_0x496b9c(0x1e9)](_0x496b9c(0x202));_0x1044d9[_0x496b9c(0x1d0)]['add'](_0x496b9c(0x218),'bc'),_0x50ca56[_0x496b9c(0x1f8)](_0x1044d9),_0x1044d9[_0x496b9c(0x1e0)]=async()=>{const _0x3d4639=_0x496b9c,_0x29e5f6=window[_0x3d4639(0x212)](_0x3d4639(0x1d3),_0xce896b);if(_0x29e5f6!==null){const _0x44d1f0=_0xce896b[_0x3d4639(0x1f5)](/\....$/,_0x3d4639(0x1f6)),_0x1577c1=_0x29e5f6[_0x3d4639(0x1f5)](/\....$/,_0x3d4639(0x1f6)),_0x181d52=_0x44d1f0+_0x3d4639(0x1fb)+_0xce896b[_0x3d4639(0x1d5)](-0x1),_0x185352=_0x44d1f0+_0x3d4639(0x217)+_0xce896b[_0x3d4639(0x1d5)](-0x1),_0x4341a9=_0x1577c1+_0x3d4639(0x1fb)+_0x29e5f6['slice'](-0x1),_0x143ea8=_0x1577c1+_0x3d4639(0x217)+_0x29e5f6[_0x3d4639(0x1d5)](-0x1),_0x143005=localStorage[_0x3d4639(0x1fe)](_0x181d52),_0x56800a=localStorage[_0x3d4639(0x1fe)](_0x185352);_0x143005!==null&&(localStorage[_0x3d4639(0x1ea)](_0x4341a9,_0x143005),localStorage[_0x3d4639(0x1ec)](_0x181d52)),_0x56800a!==null&&(localStorage['setItem'](_0x143ea8,_0x56800a),localStorage[_0x3d4639(0x1ec)](_0x185352)),a0_0x485ea1[_0x3d4639(0x20c)](_0x4d1517,_0xce896b,_0x29e5f6),localStorageFile(),_0x1f6161['close'](),_0x1f6161[_0x3d4639(0x1dc)](),mgbaStorage[_0x3d4639(0x1d0)][_0x3d4639(0x1dc)](_0x3d4639(0x1e1));}},_0x1f6161[_0x496b9c(0x204)]();};const _0x553619=document['createElement']('span');_0x553619[_0x48386d(0x210)]=humanFileSize(a0_0x485ea1[_0x48386d(0x20d)](_0x4d1517)),_0x553619['classList'][_0x48386d(0x201)](_0x48386d(0x1db)),_0x49addb['appendChild'](_0x553619);}export function localStorageFile(){const _0x4bec5a=a0_0x1fb9b1,_0x4039d6=a0_0x485ea1[_0x4bec5a(0x1e7)](),_0x2cbdc7=a0_0x485ea1['listSave'](),_0x1b0573=a0_0x485ea1['listState'](),_0x30d894=a0_0x485ea1[_0x4bec5a(0x1d1)](),_0x11a681=a0_0x485ea1[_0x4bec5a(0x20f)](),_0x5e6474=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x19e12b of _0x5e6474){while(_0x19e12b[_0x4bec5a(0x1df)]){_0x19e12b['lastChild'][_0x4bec5a(0x1dc)]();}}for(const _0x3d55f2 of _0x4039d6){createElementStorage(romsFile,_0x3d55f2,_0x4bec5a(0x208)+_0x3d55f2);}for(const _0x1d6fd5 of _0x1b0573){createElementStorage(statesFile,_0x1d6fd5,_0x4bec5a(0x1c8)+_0x1d6fd5);}for(const _0x208783 of _0x2cbdc7){createElementStorage(savesFile,_0x208783,_0x4bec5a(0x20a)+_0x208783);}for(const _0x552428 of _0x30d894){createElementStorage(cheatsFile,_0x552428,_0x4bec5a(0x211)+_0x552428);}for(const _0x224930 of _0x11a681){createElementStorage(screenshotsFile,_0x224930,'/data/screenshots/'+_0x224930);}}document[a0_0x1fb9b1(0x1f3)](a0_0x1fb9b1(0x1ed),function(){const _0x176d0c=a0_0x1fb9b1;upLoadFile['addEventListener'](_0x176d0c(0x1ce),function(){const _0x5b21bd=_0x176d0c,_0x362686=upLoadFile[_0x5b21bd(0x219)][0x0][_0x5b21bd(0x1e3)];if(_0x362686[_0x5b21bd(0x1f4)](_0x5b21bd(0x1cf)))a0_0x485ea1[_0x5b21bd(0x209)](upLoadFile);else _0x362686['endsWith'](_0x5b21bd(0x1f6))||_0x362686[_0x5b21bd(0x1f4)]('.gbc')||_0x362686[_0x5b21bd(0x1f4)]('.bc')?a0_0x485ea1['uploadGame'](upLoadFile):a0_0x485ea1[_0x5b21bd(0x216)](upLoadFile);}),openLocalStorage[_0x176d0c(0x1f3)](_0x176d0c(0x1da),function(){const _0x2232a0=_0x176d0c,_0xf28c74=localStorage['getItem']('uId');storage[_0x2232a0(0x1d0)][_0x2232a0(0x1dc)](_0x2232a0(0x1dd)),intro['classList'][_0x2232a0(0x201)](_0x2232a0(0x1dd)),ingame[_0x2232a0(0x1d0)][_0x2232a0(0x201)]('disable'),_0xf28c74===null||_0xf28c74===''?(dropboxRestore['classList']['remove'](_0x2232a0(0x1d8)),dropboxBackup[_0x2232a0(0x1d0)]['remove'](_0x2232a0(0x1d8)),dropboxCloud[_0x2232a0(0x1d0)]['remove'](_0x2232a0(0x1d8))):(dropboxRestore[_0x2232a0(0x1d0)][_0x2232a0(0x201)](_0x2232a0(0x1d8)),dropboxBackup[_0x2232a0(0x1d0)][_0x2232a0(0x201)](_0x2232a0(0x1d8)),dropboxCloud['classList'][_0x2232a0(0x201)](_0x2232a0(0x1d8)));}),setTimeout(()=>{localStorageFile();},0xbb8);});