const a0_0x34e500=a0_0x2fbd;(function(_0x4825a2,_0x5081c5){const _0x23ffd6=a0_0x2fbd,_0x203d37=_0x4825a2();while(!![]){try{const _0x538f55=parseInt(_0x23ffd6(0x136))/0x1*(parseInt(_0x23ffd6(0x170))/0x2)+-parseInt(_0x23ffd6(0x14e))/0x3*(-parseInt(_0x23ffd6(0x134))/0x4)+-parseInt(_0x23ffd6(0x12f))/0x5*(parseInt(_0x23ffd6(0x15c))/0x6)+-parseInt(_0x23ffd6(0x13e))/0x7*(-parseInt(_0x23ffd6(0x14a))/0x8)+-parseInt(_0x23ffd6(0x172))/0x9+parseInt(_0x23ffd6(0x16b))/0xa*(parseInt(_0x23ffd6(0x159))/0xb)+-parseInt(_0x23ffd6(0x166))/0xc;if(_0x538f55===_0x5081c5)break;else _0x203d37['push'](_0x203d37['shift']());}catch(_0x557be5){_0x203d37['push'](_0x203d37['shift']());}}}(a0_0x3753,0xedce0));function a0_0x2fbd(_0x476f50,_0x3049f2){const _0x375386=a0_0x3753();return a0_0x2fbd=function(_0x2fbd4d,_0x99ac81){_0x2fbd4d=_0x2fbd4d-0x12b;let _0x16f0a8=_0x375386[_0x2fbd4d];return _0x16f0a8;},a0_0x2fbd(_0x476f50,_0x3049f2);}import*as a0_0x1b483a from'./main.js';const mgbaStorage=document[a0_0x34e500(0x12d)](a0_0x34e500(0x163)),savesFile=document[a0_0x34e500(0x12d)](a0_0x34e500(0x15d)),romsFile=document[a0_0x34e500(0x12d)](a0_0x34e500(0x140)),statesFile=document[a0_0x34e500(0x12d)](a0_0x34e500(0x148)),screenshotsFile=document[a0_0x34e500(0x12d)](a0_0x34e500(0x131));function humanFileSize(_0x461275,_0x1b4d17=![],_0x51a410=0x1){const _0x1e17d2=a0_0x34e500,_0x385932=_0x1b4d17?0x3e8:0x400,_0x3d359c=_0x1b4d17?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1e17d2(0x13c),_0x1e17d2(0x164),'GiB',_0x1e17d2(0x15f),_0x1e17d2(0x143),_0x1e17d2(0x147),'ZiB',_0x1e17d2(0x158)];let _0x8e05c1=-0x1;do{_0x461275/=_0x385932,++_0x8e05c1;}while(Math['abs'](_0x461275)>=_0x385932&&_0x8e05c1<_0x3d359c['length']-0x1);return _0x461275[_0x1e17d2(0x14c)](_0x51a410)+'\x20'+_0x3d359c[_0x8e05c1];}function createElementStorage(_0x1fe985,_0x13dead,_0x1b2a07){const _0x5ad8bb=a0_0x34e500,_0x286dbc=document[_0x5ad8bb(0x12c)](_0x5ad8bb(0x169));_0x286dbc[_0x5ad8bb(0x157)][_0x5ad8bb(0x130)](_0x5ad8bb(0x13f),_0x5ad8bb(0x161),'rom'),_0x1fe985[_0x5ad8bb(0x165)](_0x286dbc);const _0x53cdb8=document[_0x5ad8bb(0x12c)](_0x5ad8bb(0x151));_0x53cdb8[_0x5ad8bb(0x150)]=_0x13dead,_0x53cdb8[_0x5ad8bb(0x157)]['add'](_0x5ad8bb(0x13f)),_0x286dbc['appendChild'](_0x53cdb8),_0x53cdb8[_0x5ad8bb(0x16e)]=()=>{const _0x3cec68=_0x5ad8bb,_0x41d7cc=document[_0x3cec68(0x12c)](_0x3cec68(0x13b));_0x41d7cc['onclose']=()=>_0x41d7cc[_0x3cec68(0x16d)](),_0x1fe985[_0x3cec68(0x165)](_0x41d7cc);const _0x412da9=document[_0x3cec68(0x12c)](_0x3cec68(0x169));_0x412da9[_0x3cec68(0x157)]['add'](_0x3cec68(0x142),'right',_0x3cec68(0x149)),_0x41d7cc[_0x3cec68(0x165)](_0x412da9);const _0x37cc6a=document[_0x3cec68(0x12c)]('div');_0x37cc6a['classList'][_0x3cec68(0x130)]('home','bc','flex-1'),_0x412da9[_0x3cec68(0x165)](_0x37cc6a);const _0x421dd3=document[_0x3cec68(0x12c)]('div');_0x421dd3[_0x3cec68(0x157)][_0x3cec68(0x130)]('flex-1'),_0x412da9[_0x3cec68(0x165)](_0x421dd3);const _0x18eb2e=document[_0x3cec68(0x12c)](_0x3cec68(0x169));_0x18eb2e[_0x3cec68(0x157)][_0x3cec68(0x130)](_0x3cec68(0x13f)),_0x412da9['appendChild'](_0x18eb2e);const _0x78df26=document[_0x3cec68(0x12c)](_0x3cec68(0x169));_0x78df26[_0x3cec68(0x157)][_0x3cec68(0x130)](_0x3cec68(0x13f)),_0x412da9[_0x3cec68(0x165)](_0x78df26),mgbaStorage[_0x3cec68(0x157)][_0x3cec68(0x130)](_0x3cec68(0x168)),_0x37cc6a[_0x3cec68(0x16e)]=()=>{const _0x13fdb3=_0x3cec68;_0x41d7cc[_0x13fdb3(0x12b)](),_0x41d7cc['remove'](),mgbaStorage[_0x13fdb3(0x157)][_0x13fdb3(0x16d)](_0x13fdb3(0x168));};const _0x3ad202=document[_0x3cec68(0x12c)](_0x3cec68(0x169));_0x3ad202[_0x3cec68(0x157)][_0x3cec68(0x130)](_0x3cec68(0x13f),_0x3cec68(0x161),'hw','cw'),_0x3ad202[_0x3cec68(0x150)]=_0x13dead,_0x41d7cc['appendChild'](_0x3ad202);const _0x3d9b4e=document[_0x3cec68(0x12c)](_0x3cec68(0x169));_0x3d9b4e[_0x3cec68(0x157)]['add']('actionDiv','hw','cw','gap-16'),_0x41d7cc[_0x3cec68(0x165)](_0x3d9b4e);const _0x167d6a=document[_0x3cec68(0x12c)](_0x3cec68(0x169));_0x167d6a[_0x3cec68(0x157)][_0x3cec68(0x130)]('download','bc'),_0x3d9b4e[_0x3cec68(0x165)](_0x167d6a),_0x167d6a[_0x3cec68(0x16e)]=()=>{const _0x4fc264=_0x3cec68;a0_0x1b483a[_0x4fc264(0x145)](_0x1b2a07,_0x13dead);};const _0x4450b7=document[_0x3cec68(0x12c)]('div');_0x4450b7[_0x3cec68(0x157)][_0x3cec68(0x130)](_0x3cec68(0x15a),'bc'),_0x3d9b4e['appendChild'](_0x4450b7),_0x4450b7['onclick']=async()=>{const _0x58eaf0=_0x3cec68;if(window[_0x58eaf0(0x16a)]('Delete\x20this\x20file?'+_0x13dead)){const _0x48143f=_0x13dead[_0x58eaf0(0x138)](/\....$/,_0x58eaf0(0x144));a0_0x1b483a[_0x58eaf0(0x16f)](_0x1b2a07),localStorage[_0x58eaf0(0x15e)](_0x48143f+_0x58eaf0(0x15b)+_0x13dead[_0x58eaf0(0x14b)](-0x1)),localStorage[_0x58eaf0(0x15e)](_0x48143f+_0x58eaf0(0x152)+_0x13dead[_0x58eaf0(0x14b)](-0x1)),localStorageFile(),_0x41d7cc[_0x58eaf0(0x12b)](),_0x41d7cc[_0x58eaf0(0x16d)](),mgbaStorage[_0x58eaf0(0x157)][_0x58eaf0(0x16d)](_0x58eaf0(0x168));}};const _0x19f6bc=document[_0x3cec68(0x12c)]('div');_0x19f6bc[_0x3cec68(0x157)][_0x3cec68(0x130)](_0x3cec68(0x13d),'bc'),_0x3d9b4e['appendChild'](_0x19f6bc),_0x19f6bc[_0x3cec68(0x16e)]=async()=>{const _0x58f86b=_0x3cec68,_0x295e3f=window['prompt'](_0x58f86b(0x14d),_0x13dead);_0x295e3f!==null&&(a0_0x1b483a[_0x58f86b(0x153)](_0x1b2a07,_0x13dead,_0x295e3f),localStorageFile(),_0x41d7cc['close'](),_0x41d7cc[_0x58f86b(0x16d)](),mgbaStorage[_0x58f86b(0x157)][_0x58f86b(0x16d)](_0x58f86b(0x168)));},_0x41d7cc[_0x3cec68(0x13a)]();};const _0x1e4017=document['createElement']('span');_0x1e4017[_0x5ad8bb(0x150)]=humanFileSize(a0_0x1b483a[_0x5ad8bb(0x137)](_0x1b2a07)),_0x1e4017[_0x5ad8bb(0x157)][_0x5ad8bb(0x130)](_0x5ad8bb(0x167)),_0x286dbc[_0x5ad8bb(0x165)](_0x1e4017);}function a0_0x3753(){const _0x4cd541=['span','_imageState','editFile','firstChild','cheats','/data/cheats/','classList','YiB','11iOkhFZ','delete','_dateState','318iXGWeD','savesFile','removeItem','TiB','click','rom-item','/data/screenshots/','mgba-storage','MiB','appendChild','32291640dQdJJW','mib','opacity0','div','confirm','16852270psDgGW','DOMContentLoaded','remove','onclick','deleteFile','4026OFFdvE','disable','8311131qfQrnq','listFiles','close','createElement','getElementById','getItem','121775OgcUEd','add','screenshotsFile','saves','active','1889704savfCN','uId','599FBopQO','fileSize','replace','/data/states/','showModal','dialog','KiB','rename','700IUTRvz','flex-1','romsFile','/data/saves/','storage','PiB','.gba','downloadFile','games','EiB','statesFile','gap-10','125680zcgdhx','slice','toFixed','Edit\x20filename','9IbQTQE','addEventListener','textContent'];a0_0x3753=function(){return _0x4cd541;};return a0_0x3753();}export function localStorageFile(){const _0xb06941=a0_0x34e500,_0x3267ef=a0_0x1b483a['listFiles'](_0xb06941(0x146)),_0xf9a415=a0_0x1b483a[_0xb06941(0x173)](_0xb06941(0x132)),_0x473683=a0_0x1b483a[_0xb06941(0x173)]('states'),_0x1998e7=a0_0x1b483a['listFiles'](_0xb06941(0x155)),_0x4206f2=a0_0x1b483a[_0xb06941(0x173)]('screenshots'),_0x87c7ca=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x50813e of _0x87c7ca){while(_0x50813e[_0xb06941(0x154)]){_0x50813e['lastChild'][_0xb06941(0x16d)]();}}for(const _0x5b40a3 of _0x3267ef){createElementStorage(romsFile,_0x5b40a3,'/data/games/'+_0x5b40a3);}for(const _0x447f1c of _0x473683){createElementStorage(statesFile,_0x447f1c,_0xb06941(0x139)+_0x447f1c);}for(const _0x368cf5 of _0xf9a415){createElementStorage(savesFile,_0x368cf5,_0xb06941(0x141)+_0x368cf5);}for(const _0x667410 of _0x1998e7){createElementStorage(cheatsFile,_0x667410,_0xb06941(0x156)+_0x667410);}for(const _0x9f8caa of _0x4206f2){createElementStorage(screenshotsFile,_0x9f8caa,_0xb06941(0x162)+_0x9f8caa);}}document[a0_0x34e500(0x14f)](a0_0x34e500(0x16c),function(){const _0x15be11=a0_0x34e500;upLoadFile['addEventListener']('change',function(){a0_0x1b483a['uploadFile'](upLoadFile);}),openLocalStorage['addEventListener'](_0x15be11(0x160),function(){const _0x66b60c=_0x15be11,_0x3d73c4=localStorage[_0x66b60c(0x12e)](_0x66b60c(0x135));storage['classList'][_0x66b60c(0x16d)](_0x66b60c(0x171)),intro[_0x66b60c(0x157)][_0x66b60c(0x130)]('disable'),ingame[_0x66b60c(0x157)][_0x66b60c(0x130)](_0x66b60c(0x171)),_0x3d73c4===null||_0x3d73c4===''?(dropboxRestore[_0x66b60c(0x157)][_0x66b60c(0x16d)](_0x66b60c(0x133)),dropboxBackup[_0x66b60c(0x157)][_0x66b60c(0x16d)](_0x66b60c(0x133)),dropboxCloud[_0x66b60c(0x157)]['remove'](_0x66b60c(0x133))):(dropboxRestore[_0x66b60c(0x157)]['add'](_0x66b60c(0x133)),dropboxBackup[_0x66b60c(0x157)][_0x66b60c(0x130)](_0x66b60c(0x133)),dropboxCloud['classList']['add'](_0x66b60c(0x133)));}),setTimeout(()=>{localStorageFile();},0xbb8);});