const a0_0x584602=a0_0xf772;(function(_0x2cb9bf,_0x42aac8){const _0x22854f=a0_0xf772,_0x577a23=_0x2cb9bf();while(!![]){try{const _0x107614=-parseInt(_0x22854f(0x13d))/0x1+-parseInt(_0x22854f(0x137))/0x2*(-parseInt(_0x22854f(0x158))/0x3)+parseInt(_0x22854f(0x14f))/0x4+parseInt(_0x22854f(0x15d))/0x5+-parseInt(_0x22854f(0x167))/0x6+parseInt(_0x22854f(0x169))/0x7+parseInt(_0x22854f(0x142))/0x8;if(_0x107614===_0x42aac8)break;else _0x577a23['push'](_0x577a23['shift']());}catch(_0x3c2d06){_0x577a23['push'](_0x577a23['shift']());}}}(a0_0x5643,0x5fa7e));function a0_0xf772(_0x15c59c,_0x565aad){const _0x564331=a0_0x5643();return a0_0xf772=function(_0xf772d4,_0x10daa2){_0xf772d4=_0xf772d4-0x12a;let _0x58b33e=_0x564331[_0xf772d4];return _0x58b33e;},a0_0xf772(_0x15c59c,_0x565aad);}function a0_0x5643(){const _0x2f50a7=['.gba','change','mib','uId','romsFile','/data/states/','classList','rom-item','2971674wmOSVA','_dateState','2859829CRDMOt','lastChild','listScreenshot','remove','PiB','confirm','savesFile','YiB','active','addEventListener','replace','close','click','download','right','length','Delete\x20this\x20file?','delete','span','listGame','/data/saves/','KiB','147794fWOgex','mgba-storage','screenshotsFile','slice','rom','appendChild','564645PWaNrb','div','toFixed','flex-1','rename','3752880ZPXgLn','dialog','getElementById','storage','fileSize','getItem','home','ZiB','_imageState','createElement','add','uploadFile','/data/screenshots/','792176BMCeTM','abs','opacity0','MiB','deleteFile','/data/cheats/','removeItem','showModal','disable','3NRKIbq','firstChild','listState','Edit\x20filename','textContent','1510660uvCzMF','onclick'];a0_0x5643=function(){return _0x2f50a7;};return a0_0x5643();}import*as a0_0x2a7c74 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x584602(0x138)),savesFile=document[a0_0x584602(0x144)](a0_0x584602(0x16f)),romsFile=document[a0_0x584602(0x144)](a0_0x584602(0x163)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document[a0_0x584602(0x144)](a0_0x584602(0x139));function humanFileSize(_0x27db9d,_0x22ec3e=![],_0x251898=0x1){const _0x27894e=a0_0x584602,_0x51a7fd=_0x22ec3e?0x3e8:0x400,_0x41dfd2=_0x22ec3e?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x27894e(0x136),_0x27894e(0x152),'GiB','TiB',_0x27894e(0x16d),'EiB',_0x27894e(0x149),_0x27894e(0x170)];let _0x17af8d=-0x1;do{_0x27db9d/=_0x51a7fd,++_0x17af8d;}while(Math[_0x27894e(0x150)](_0x27db9d)>=_0x51a7fd&&_0x17af8d<_0x41dfd2[_0x27894e(0x130)]-0x1);return _0x27db9d[_0x27894e(0x13f)](_0x251898)+'\x20'+_0x41dfd2[_0x17af8d];}function createElementStorage(_0x4f62f4,_0x274b59,_0x2c3729){const _0x5ba9b7=a0_0x584602,_0x283c76=document[_0x5ba9b7(0x14b)]('div');_0x283c76[_0x5ba9b7(0x165)]['add'](_0x5ba9b7(0x140),_0x5ba9b7(0x166),_0x5ba9b7(0x13b)),_0x4f62f4[_0x5ba9b7(0x13c)](_0x283c76);const _0x1f1821=document[_0x5ba9b7(0x14b)]('span');_0x1f1821['textContent']=_0x274b59,_0x1f1821[_0x5ba9b7(0x165)][_0x5ba9b7(0x14c)](_0x5ba9b7(0x140)),_0x283c76[_0x5ba9b7(0x13c)](_0x1f1821),_0x1f1821[_0x5ba9b7(0x15e)]=()=>{const _0x3e5486=_0x5ba9b7,_0x1ce428=document[_0x3e5486(0x14b)](_0x3e5486(0x143));_0x1ce428['onclose']=()=>_0x1ce428[_0x3e5486(0x16c)](),_0x4f62f4[_0x3e5486(0x13c)](_0x1ce428);const _0x40d9c4=document[_0x3e5486(0x14b)](_0x3e5486(0x13e));_0x40d9c4[_0x3e5486(0x165)][_0x3e5486(0x14c)](_0x3e5486(0x145),_0x3e5486(0x12f),'gap-10'),_0x1ce428[_0x3e5486(0x13c)](_0x40d9c4);const _0x5bbd0e=document[_0x3e5486(0x14b)](_0x3e5486(0x13e));_0x5bbd0e['classList'][_0x3e5486(0x14c)](_0x3e5486(0x148),'bc',_0x3e5486(0x140)),_0x40d9c4[_0x3e5486(0x13c)](_0x5bbd0e);const _0x17386e=document[_0x3e5486(0x14b)](_0x3e5486(0x13e));_0x17386e['classList'][_0x3e5486(0x14c)](_0x3e5486(0x140)),_0x40d9c4[_0x3e5486(0x13c)](_0x17386e);const _0x525c1c=document[_0x3e5486(0x14b)](_0x3e5486(0x13e));_0x525c1c[_0x3e5486(0x165)]['add'](_0x3e5486(0x140)),_0x40d9c4[_0x3e5486(0x13c)](_0x525c1c);const _0x3d9e1b=document['createElement'](_0x3e5486(0x13e));_0x3d9e1b[_0x3e5486(0x165)]['add']('flex-1'),_0x40d9c4['appendChild'](_0x3d9e1b),mgbaStorage[_0x3e5486(0x165)][_0x3e5486(0x14c)](_0x3e5486(0x151)),_0x5bbd0e[_0x3e5486(0x15e)]=()=>{const _0xf0d696=_0x3e5486;_0x1ce428[_0xf0d696(0x12c)](),_0x1ce428[_0xf0d696(0x16c)](),mgbaStorage[_0xf0d696(0x165)][_0xf0d696(0x16c)]('opacity0');};const _0x564e48=document['createElement']('div');_0x564e48[_0x3e5486(0x165)]['add'](_0x3e5486(0x140),_0x3e5486(0x166),'hw','cw'),_0x564e48['textContent']=_0x274b59,_0x1ce428['appendChild'](_0x564e48);const _0x456154=document[_0x3e5486(0x14b)]('div');_0x456154['classList']['add']('actionDiv','hw','cw','gap-16'),_0x1ce428[_0x3e5486(0x13c)](_0x456154);const _0x399302=document[_0x3e5486(0x14b)](_0x3e5486(0x13e));_0x399302[_0x3e5486(0x165)][_0x3e5486(0x14c)](_0x3e5486(0x12e),'bc'),_0x456154[_0x3e5486(0x13c)](_0x399302),_0x399302[_0x3e5486(0x15e)]=()=>{a0_0x2a7c74['downloadFile'](_0x2c3729,_0x274b59);};const _0x917f16=document[_0x3e5486(0x14b)](_0x3e5486(0x13e));_0x917f16[_0x3e5486(0x165)]['add'](_0x3e5486(0x132),'bc'),_0x456154[_0x3e5486(0x13c)](_0x917f16),_0x917f16['onclick']=async()=>{const _0x55821e=_0x3e5486;if(window[_0x55821e(0x16e)](_0x55821e(0x131)+_0x274b59)){const _0x36d354=_0x274b59[_0x55821e(0x12b)](/\....$/,_0x55821e(0x15f));a0_0x2a7c74[_0x55821e(0x153)](_0x2c3729),localStorage[_0x55821e(0x155)](_0x36d354+_0x55821e(0x168)+_0x274b59[_0x55821e(0x13a)](-0x1)),localStorage[_0x55821e(0x155)](_0x36d354+_0x55821e(0x14a)+_0x274b59['slice'](-0x1)),localStorageFile(),_0x1ce428[_0x55821e(0x12c)](),_0x1ce428['remove'](),mgbaStorage[_0x55821e(0x165)][_0x55821e(0x16c)](_0x55821e(0x151));}};const _0x401be0=document[_0x3e5486(0x14b)](_0x3e5486(0x13e));_0x401be0[_0x3e5486(0x165)][_0x3e5486(0x14c)](_0x3e5486(0x141),'bc'),_0x456154[_0x3e5486(0x13c)](_0x401be0),_0x401be0[_0x3e5486(0x15e)]=async()=>{const _0x44a212=_0x3e5486,_0x519430=window['prompt'](_0x44a212(0x15b),_0x274b59);_0x519430!==null&&(a0_0x2a7c74['editFile'](_0x2c3729,_0x274b59,_0x519430),localStorageFile(),_0x1ce428[_0x44a212(0x12c)](),_0x1ce428[_0x44a212(0x16c)](),mgbaStorage[_0x44a212(0x165)][_0x44a212(0x16c)](_0x44a212(0x151)));},_0x1ce428[_0x3e5486(0x156)]();};const _0x4fb4ef=document['createElement'](_0x5ba9b7(0x133));_0x4fb4ef[_0x5ba9b7(0x15c)]=humanFileSize(a0_0x2a7c74[_0x5ba9b7(0x146)](_0x2c3729)),_0x4fb4ef[_0x5ba9b7(0x165)][_0x5ba9b7(0x14c)](_0x5ba9b7(0x161)),_0x283c76[_0x5ba9b7(0x13c)](_0x4fb4ef);}export function localStorageFile(){const _0x18edde=a0_0x584602,_0x318cc7=a0_0x2a7c74[_0x18edde(0x134)](),_0x2f35ed=a0_0x2a7c74['listSave'](),_0x1f2f6c=a0_0x2a7c74[_0x18edde(0x15a)](),_0x563854=a0_0x2a7c74['listCheat'](),_0x32f369=a0_0x2a7c74[_0x18edde(0x16b)](),_0x31de88=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x50d7fb of _0x31de88){while(_0x50d7fb[_0x18edde(0x159)]){_0x50d7fb[_0x18edde(0x16a)][_0x18edde(0x16c)]();}}for(const _0x27225d of _0x318cc7){createElementStorage(romsFile,_0x27225d,'/data/games/'+_0x27225d);}for(const _0x320bd9 of _0x1f2f6c){createElementStorage(statesFile,_0x320bd9,_0x18edde(0x164)+_0x320bd9);}for(const _0x573c76 of _0x2f35ed){createElementStorage(savesFile,_0x573c76,_0x18edde(0x135)+_0x573c76);}for(const _0x31b781 of _0x563854){createElementStorage(cheatsFile,_0x31b781,_0x18edde(0x154)+_0x31b781);}for(const _0x4fd7f4 of _0x32f369){createElementStorage(screenshotsFile,_0x4fd7f4,_0x18edde(0x14e)+_0x4fd7f4);}}document[a0_0x584602(0x12a)]('DOMContentLoaded',function(){const _0x302188=a0_0x584602;upLoadFile[_0x302188(0x12a)](_0x302188(0x160),function(){const _0x52e341=_0x302188;a0_0x2a7c74[_0x52e341(0x14d)](upLoadFile);}),openLocalStorage[_0x302188(0x12a)](_0x302188(0x12d),function(){const _0x4e1e5b=_0x302188,_0x3c9f91=localStorage[_0x4e1e5b(0x147)](_0x4e1e5b(0x162));storage[_0x4e1e5b(0x165)][_0x4e1e5b(0x16c)]('disable'),intro[_0x4e1e5b(0x165)][_0x4e1e5b(0x14c)](_0x4e1e5b(0x157)),ingame['classList'][_0x4e1e5b(0x14c)]('disable'),_0x3c9f91===null||_0x3c9f91===''?(dropboxRestore[_0x4e1e5b(0x165)][_0x4e1e5b(0x16c)](_0x4e1e5b(0x171)),dropboxBackup[_0x4e1e5b(0x165)][_0x4e1e5b(0x16c)]('active'),dropboxCloud[_0x4e1e5b(0x165)][_0x4e1e5b(0x16c)]('active')):(dropboxRestore[_0x4e1e5b(0x165)][_0x4e1e5b(0x14c)](_0x4e1e5b(0x171)),dropboxBackup[_0x4e1e5b(0x165)]['add'](_0x4e1e5b(0x171)),dropboxCloud[_0x4e1e5b(0x165)]['add'](_0x4e1e5b(0x171)));}),setTimeout(()=>{localStorageFile();},0xbb8);});