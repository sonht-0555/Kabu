const a0_0x321d99=a0_0x5095;function a0_0x2959(){const _0x5a8212=['uploadFile','add','active','addEventListener','actionDiv','close','lastChild','length','editFile','romsFile','replace','uId','div','disable','appendChild','9owmFZs','rom-item','listFiles','/data/cheats/','deleteFile','screenshots','7909170eHbgmo','1841859rXikgI','.gba','mgba-storage','ZiB','YiB','/data/games/','removeItem','Edit\x20filename','_imageState','14PIWwTn','states','746304PWBaWS','home','fileSize','getElementById','5061612VBlXDv','/data/states/','2764WGazgF','flex-1','dialog','span','rename','14578IiOzjy','remove','textContent','opacity0','DOMContentLoaded','getItem','mib','delete','click','createElement','right','/data/saves/','download','toFixed','games','downloadFile','gap-10','8NdILnS','showModal','_dateState','33OTkcvF','MiB','firstChild','PiB','GiB','cheats','2343444ORsDTX','classList','/data/screenshots/','onclick','abs','5245ZjgUNK','onclose'];a0_0x2959=function(){return _0x5a8212;};return a0_0x2959();}function a0_0x5095(_0x412f56,_0x334a62){const _0x2959a4=a0_0x2959();return a0_0x5095=function(_0x50954b,_0x10bfcf){_0x50954b=_0x50954b-0x1f3;let _0x40a389=_0x2959a4[_0x50954b];return _0x40a389;},a0_0x5095(_0x412f56,_0x334a62);}(function(_0x3a7a25,_0x12b819){const _0x526a09=a0_0x5095,_0x505c8d=_0x3a7a25();while(!![]){try{const _0x9c68eb=parseInt(_0x526a09(0x1f3))/0x1+-parseInt(_0x526a09(0x1fe))/0x2*(-parseInt(_0x526a09(0x22e))/0x3)+-parseInt(_0x526a09(0x1f9))/0x4*(-parseInt(_0x526a09(0x21d))/0x5)+parseInt(_0x526a09(0x218))/0x6*(parseInt(_0x526a09(0x23e))/0x7)+-parseInt(_0x526a09(0x20f))/0x8*(-parseInt(_0x526a09(0x235))/0x9)+-parseInt(_0x526a09(0x234))/0xa+parseInt(_0x526a09(0x212))/0xb*(-parseInt(_0x526a09(0x1f7))/0xc);if(_0x9c68eb===_0x12b819)break;else _0x505c8d['push'](_0x505c8d['shift']());}catch(_0x22d561){_0x505c8d['push'](_0x505c8d['shift']());}}}(a0_0x2959,0x6726d));import*as a0_0x113a1e from'./main.js';const mgbaStorage=document[a0_0x321d99(0x1f6)](a0_0x321d99(0x237)),savesFile=document[a0_0x321d99(0x1f6)]('savesFile'),romsFile=document[a0_0x321d99(0x1f6)](a0_0x321d99(0x228)),statesFile=document[a0_0x321d99(0x1f6)]('statesFile'),screenshotsFile=document[a0_0x321d99(0x1f6)]('screenshotsFile');function humanFileSize(_0xd42b0f,_0x4ca904=![],_0x46cb22=0x1){const _0x3ff98a=a0_0x321d99,_0x133d53=_0x4ca904?0x3e8:0x400,_0x6694da=_0x4ca904?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x3ff98a(0x213),_0x3ff98a(0x216),'TiB',_0x3ff98a(0x215),'EiB',_0x3ff98a(0x238),_0x3ff98a(0x239)];let _0xb84845=-0x1;do{_0xd42b0f/=_0x133d53,++_0xb84845;}while(Math[_0x3ff98a(0x21c)](_0xd42b0f)>=_0x133d53&&_0xb84845<_0x6694da[_0x3ff98a(0x226)]-0x1);return _0xd42b0f[_0x3ff98a(0x20b)](_0x46cb22)+'\x20'+_0x6694da[_0xb84845];}function createElementStorage(_0x5cd515,_0x543c81,_0x10af57){const _0x4121da=a0_0x321d99,_0x1a8f32=document[_0x4121da(0x207)](_0x4121da(0x22b));_0x1a8f32[_0x4121da(0x219)][_0x4121da(0x220)](_0x4121da(0x1fa),'rom-item','rom'),_0x5cd515[_0x4121da(0x22d)](_0x1a8f32);const _0x26d1ad=document[_0x4121da(0x207)](_0x4121da(0x1fc));_0x26d1ad[_0x4121da(0x200)]=_0x543c81,_0x26d1ad[_0x4121da(0x219)][_0x4121da(0x220)]('flex-1'),_0x1a8f32[_0x4121da(0x22d)](_0x26d1ad),_0x26d1ad['onclick']=()=>{const _0x235a3d=_0x4121da,_0x2a9cb6=document[_0x235a3d(0x207)](_0x235a3d(0x1fb));_0x2a9cb6[_0x235a3d(0x21e)]=()=>_0x2a9cb6[_0x235a3d(0x1ff)](),_0x5cd515['appendChild'](_0x2a9cb6);const _0x492f7a=document['createElement'](_0x235a3d(0x22b));_0x492f7a[_0x235a3d(0x219)][_0x235a3d(0x220)]('storage',_0x235a3d(0x208),_0x235a3d(0x20e)),_0x2a9cb6[_0x235a3d(0x22d)](_0x492f7a);const _0x20e551=document[_0x235a3d(0x207)](_0x235a3d(0x22b));_0x20e551[_0x235a3d(0x219)][_0x235a3d(0x220)](_0x235a3d(0x1f4),'bc',_0x235a3d(0x1fa)),_0x492f7a[_0x235a3d(0x22d)](_0x20e551);const _0x50bf55=document[_0x235a3d(0x207)]('div');_0x50bf55['classList'][_0x235a3d(0x220)](_0x235a3d(0x1fa)),_0x492f7a[_0x235a3d(0x22d)](_0x50bf55);const _0x4d8792=document[_0x235a3d(0x207)](_0x235a3d(0x22b));_0x4d8792[_0x235a3d(0x219)][_0x235a3d(0x220)]('flex-1'),_0x492f7a[_0x235a3d(0x22d)](_0x4d8792);const _0x3fc2ad=document[_0x235a3d(0x207)]('div');_0x3fc2ad[_0x235a3d(0x219)][_0x235a3d(0x220)](_0x235a3d(0x1fa)),_0x492f7a['appendChild'](_0x3fc2ad),mgbaStorage['classList']['add'](_0x235a3d(0x201)),_0x20e551[_0x235a3d(0x21b)]=()=>{const _0x2cb01a=_0x235a3d;_0x2a9cb6[_0x2cb01a(0x224)](),_0x2a9cb6['remove'](),mgbaStorage['classList'][_0x2cb01a(0x1ff)]('opacity0');};const _0x388838=document[_0x235a3d(0x207)](_0x235a3d(0x22b));_0x388838[_0x235a3d(0x219)][_0x235a3d(0x220)](_0x235a3d(0x1fa),_0x235a3d(0x22f),'hw','cw'),_0x388838[_0x235a3d(0x200)]=_0x543c81,_0x2a9cb6[_0x235a3d(0x22d)](_0x388838);const _0x448136=document['createElement'](_0x235a3d(0x22b));_0x448136['classList'][_0x235a3d(0x220)](_0x235a3d(0x223),'hw','cw','gap-16'),_0x2a9cb6[_0x235a3d(0x22d)](_0x448136);const _0x6dca53=document[_0x235a3d(0x207)]('div');_0x6dca53['classList'][_0x235a3d(0x220)](_0x235a3d(0x20a),'bc'),_0x448136[_0x235a3d(0x22d)](_0x6dca53),_0x6dca53[_0x235a3d(0x21b)]=()=>{const _0x4d7f8c=_0x235a3d;a0_0x113a1e[_0x4d7f8c(0x20d)](_0x10af57,_0x543c81);};const _0x220eca=document[_0x235a3d(0x207)](_0x235a3d(0x22b));_0x220eca[_0x235a3d(0x219)][_0x235a3d(0x220)](_0x235a3d(0x205),'bc'),_0x448136[_0x235a3d(0x22d)](_0x220eca),_0x220eca['onclick']=async()=>{const _0x19b68f=_0x235a3d;if(window['confirm']('Delete\x20this\x20file?'+_0x543c81)){const _0x32b1c4=_0x543c81[_0x19b68f(0x229)](/\....$/,_0x19b68f(0x236));a0_0x113a1e[_0x19b68f(0x232)](_0x10af57),localStorage[_0x19b68f(0x23b)](_0x32b1c4+_0x19b68f(0x211)+_0x543c81['slice'](-0x1)),localStorage[_0x19b68f(0x23b)](_0x32b1c4+_0x19b68f(0x23d)+_0x543c81['slice'](-0x1)),localStorageFile(),_0x2a9cb6[_0x19b68f(0x224)](),_0x2a9cb6[_0x19b68f(0x1ff)](),mgbaStorage[_0x19b68f(0x219)][_0x19b68f(0x1ff)](_0x19b68f(0x201));}};const _0x4d5a9a=document['createElement']('div');_0x4d5a9a[_0x235a3d(0x219)][_0x235a3d(0x220)](_0x235a3d(0x1fd),'bc'),_0x448136[_0x235a3d(0x22d)](_0x4d5a9a),_0x4d5a9a[_0x235a3d(0x21b)]=async()=>{const _0x119967=_0x235a3d,_0x4ca775=window['prompt'](_0x119967(0x23c),_0x543c81);_0x4ca775!==null&&(a0_0x113a1e[_0x119967(0x227)](_0x10af57,_0x543c81,_0x4ca775),localStorageFile(),_0x2a9cb6[_0x119967(0x224)](),_0x2a9cb6[_0x119967(0x1ff)](),mgbaStorage['classList']['remove'](_0x119967(0x201)));},_0x2a9cb6[_0x235a3d(0x210)]();};const _0x22b9bd=document[_0x4121da(0x207)](_0x4121da(0x1fc));_0x22b9bd[_0x4121da(0x200)]=humanFileSize(a0_0x113a1e[_0x4121da(0x1f5)](_0x10af57)),_0x22b9bd[_0x4121da(0x219)][_0x4121da(0x220)](_0x4121da(0x204)),_0x1a8f32[_0x4121da(0x22d)](_0x22b9bd);}export function localStorageFile(){const _0x505f90=a0_0x321d99,_0x1bd693=a0_0x113a1e[_0x505f90(0x230)](_0x505f90(0x20c)),_0x127919=a0_0x113a1e['listFiles']('saves'),_0x396a78=a0_0x113a1e[_0x505f90(0x230)](_0x505f90(0x23f)),_0x4fabb7=a0_0x113a1e[_0x505f90(0x230)](_0x505f90(0x217)),_0x13d92b=a0_0x113a1e[_0x505f90(0x230)](_0x505f90(0x233)),_0xba5e70=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x47d5b0 of _0xba5e70){while(_0x47d5b0[_0x505f90(0x214)]){_0x47d5b0[_0x505f90(0x225)][_0x505f90(0x1ff)]();}}for(const _0x85f5bc of _0x1bd693){createElementStorage(romsFile,_0x85f5bc,_0x505f90(0x23a)+_0x85f5bc);}for(const _0x5c2d03 of _0x396a78){createElementStorage(statesFile,_0x5c2d03,_0x505f90(0x1f8)+_0x5c2d03);}for(const _0x433166 of _0x127919){createElementStorage(savesFile,_0x433166,_0x505f90(0x209)+_0x433166);}for(const _0x3aec16 of _0x4fabb7){createElementStorage(cheatsFile,_0x3aec16,_0x505f90(0x231)+_0x3aec16);}for(const _0x34fcb2 of _0x13d92b){createElementStorage(screenshotsFile,_0x34fcb2,_0x505f90(0x21a)+_0x34fcb2);}}document[a0_0x321d99(0x222)](a0_0x321d99(0x202),function(){const _0x1c0ea8=a0_0x321d99;upLoadFile[_0x1c0ea8(0x222)]('change',function(){const _0x41924b=_0x1c0ea8;a0_0x113a1e[_0x41924b(0x21f)](upLoadFile);}),openLocalStorage[_0x1c0ea8(0x222)](_0x1c0ea8(0x206),function(){const _0x574cbf=_0x1c0ea8,_0x555ca7=localStorage[_0x574cbf(0x203)](_0x574cbf(0x22a));storage['classList'][_0x574cbf(0x1ff)](_0x574cbf(0x22c)),intro[_0x574cbf(0x219)][_0x574cbf(0x220)](_0x574cbf(0x22c)),ingame['classList'][_0x574cbf(0x220)](_0x574cbf(0x22c)),_0x555ca7===null||_0x555ca7===''?(dropboxRestore['classList']['remove'](_0x574cbf(0x221)),dropboxBackup[_0x574cbf(0x219)][_0x574cbf(0x1ff)](_0x574cbf(0x221)),dropboxCloud['classList'][_0x574cbf(0x1ff)](_0x574cbf(0x221))):(dropboxRestore[_0x574cbf(0x219)][_0x574cbf(0x220)]('active'),dropboxBackup[_0x574cbf(0x219)][_0x574cbf(0x220)]('active'),dropboxCloud[_0x574cbf(0x219)][_0x574cbf(0x220)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});