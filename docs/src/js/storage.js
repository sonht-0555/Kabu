const a0_0x22828d=a0_0x19fa;(function(_0x2af2c3,_0x48de18){const _0x5ea46e=a0_0x19fa,_0x43cee3=_0x2af2c3();while(!![]){try{const _0x2b2ef8=parseInt(_0x5ea46e(0xc1))/0x1*(parseInt(_0x5ea46e(0xc0))/0x2)+parseInt(_0x5ea46e(0xac))/0x3+parseInt(_0x5ea46e(0xbc))/0x4*(parseInt(_0x5ea46e(0xe2))/0x5)+parseInt(_0x5ea46e(0xa9))/0x6+-parseInt(_0x5ea46e(0xbd))/0x7*(parseInt(_0x5ea46e(0xb7))/0x8)+parseInt(_0x5ea46e(0xe1))/0x9*(parseInt(_0x5ea46e(0xdc))/0xa)+-parseInt(_0x5ea46e(0xc9))/0xb;if(_0x2b2ef8===_0x48de18)break;else _0x43cee3['push'](_0x43cee3['shift']());}catch(_0x4e6cbb){_0x43cee3['push'](_0x43cee3['shift']());}}}(a0_0xebe8,0x2dbc6));function a0_0xebe8(){const _0x3f87ad=['EiB','confirm','click','mgba-storage','gap-16','addEventListener','close','showModal','dialog','onclick','_dateState','active','disable','.gba','10yRQAua','flex-1','ZiB','download','/data/cheats/','1385226YKRIBn','75BcGGkt','opacity0','slice','rom-item','gap-10','add','prompt','firstChild','length','div','storage','right','remove','states','classList','mib','PiB','181968FOqtou','replace','statesFile','965742rxjUxh','_imageState','/data/saves/','listFiles','deleteFile','toFixed','appendChild','textContent','uploadFile','savesFile','/data/screenshots/','16UXEtoy','getElementById','/data/games/','actionDiv','GiB','61528iWNzjG','837970cPAAZd','abs','TiB','2ULuIfg','251761ieKYae','lastChild','removeItem','romsFile','cheats','span','screenshotsFile','rename','6180823xezxvs','change','createElement','Delete\x20this\x20file?','editFile'];a0_0xebe8=function(){return _0x3f87ad;};return a0_0xebe8();}import*as a0_0x539596 from'./main.js';const mgbaStorage=document[a0_0x22828d(0xb8)](a0_0x22828d(0xd1)),savesFile=document[a0_0x22828d(0xb8)](a0_0x22828d(0xb5)),romsFile=document[a0_0x22828d(0xb8)](a0_0x22828d(0xc4)),statesFile=document['getElementById'](a0_0x22828d(0xab)),screenshotsFile=document['getElementById'](a0_0x22828d(0xc7));function humanFileSize(_0x135e39,_0x2ac0db=![],_0xaeefa7=0x1){const _0x5cfd61=a0_0x22828d,_0x1f0b1c=_0x2ac0db?0x3e8:0x400,_0x2075e4=_0x2ac0db?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB',_0x5cfd61(0xbb),_0x5cfd61(0xbf),_0x5cfd61(0xa8),_0x5cfd61(0xce),_0x5cfd61(0xde),'YiB'];let _0x51645=-0x1;do{_0x135e39/=_0x1f0b1c,++_0x51645;}while(Math[_0x5cfd61(0xbe)](_0x135e39)>=_0x1f0b1c&&_0x51645<_0x2075e4[_0x5cfd61(0xea)]-0x1);return _0x135e39[_0x5cfd61(0xb1)](_0xaeefa7)+'\x20'+_0x2075e4[_0x51645];}function createElementStorage(_0x2f9608,_0x8740b4,_0x38cf14){const _0xe11ce6=a0_0x22828d,_0x3abbf7=document['createElement'](_0xe11ce6(0xeb));_0x3abbf7[_0xe11ce6(0xa6)][_0xe11ce6(0xe7)](_0xe11ce6(0xdd),_0xe11ce6(0xe5),'rom'),_0x2f9608[_0xe11ce6(0xb2)](_0x3abbf7);const _0x280fc3=document[_0xe11ce6(0xcb)]('span');_0x280fc3[_0xe11ce6(0xb3)]=_0x8740b4,_0x280fc3[_0xe11ce6(0xa6)][_0xe11ce6(0xe7)](_0xe11ce6(0xdd)),_0x3abbf7[_0xe11ce6(0xb2)](_0x280fc3),_0x280fc3[_0xe11ce6(0xd7)]=()=>{const _0x52d81c=_0xe11ce6,_0x1c3a96=document['createElement'](_0x52d81c(0xd6));_0x1c3a96['onclose']=()=>_0x1c3a96['remove'](),_0x2f9608[_0x52d81c(0xb2)](_0x1c3a96);const _0x2ab247=document['createElement']('div');_0x2ab247[_0x52d81c(0xa6)][_0x52d81c(0xe7)](_0x52d81c(0xec),_0x52d81c(0xed),_0x52d81c(0xe6)),_0x1c3a96[_0x52d81c(0xb2)](_0x2ab247);const _0x255d0b=document[_0x52d81c(0xcb)](_0x52d81c(0xeb));_0x255d0b[_0x52d81c(0xa6)][_0x52d81c(0xe7)]('home','bc','flex-1'),_0x2ab247[_0x52d81c(0xb2)](_0x255d0b);const _0x5b7eaf=document[_0x52d81c(0xcb)](_0x52d81c(0xeb));_0x5b7eaf[_0x52d81c(0xa6)]['add']('flex-1'),_0x2ab247[_0x52d81c(0xb2)](_0x5b7eaf);const _0x5f0a7e=document[_0x52d81c(0xcb)]('div');_0x5f0a7e[_0x52d81c(0xa6)][_0x52d81c(0xe7)](_0x52d81c(0xdd)),_0x2ab247[_0x52d81c(0xb2)](_0x5f0a7e);const _0x25806c=document[_0x52d81c(0xcb)]('div');_0x25806c[_0x52d81c(0xa6)][_0x52d81c(0xe7)]('flex-1'),_0x2ab247[_0x52d81c(0xb2)](_0x25806c),mgbaStorage[_0x52d81c(0xa6)]['add'](_0x52d81c(0xe3)),_0x255d0b[_0x52d81c(0xd7)]=()=>{const _0x5212dd=_0x52d81c;_0x1c3a96['close'](),_0x1c3a96[_0x5212dd(0xee)](),mgbaStorage[_0x5212dd(0xa6)][_0x5212dd(0xee)](_0x5212dd(0xe3));};const _0x45aa8f=document[_0x52d81c(0xcb)]('div');_0x45aa8f['classList'][_0x52d81c(0xe7)]('flex-1','rom-item','hw','cw'),_0x45aa8f[_0x52d81c(0xb3)]=_0x8740b4,_0x1c3a96['appendChild'](_0x45aa8f);const _0x5bafb0=document[_0x52d81c(0xcb)](_0x52d81c(0xeb));_0x5bafb0[_0x52d81c(0xa6)]['add'](_0x52d81c(0xba),'hw','cw',_0x52d81c(0xd2)),_0x1c3a96['appendChild'](_0x5bafb0);const _0x3e7db0=document[_0x52d81c(0xcb)](_0x52d81c(0xeb));_0x3e7db0[_0x52d81c(0xa6)][_0x52d81c(0xe7)](_0x52d81c(0xdf),'bc'),_0x5bafb0['appendChild'](_0x3e7db0),_0x3e7db0['onclick']=()=>{a0_0x539596['downloadFile'](_0x38cf14,_0x8740b4);};const _0x2a3033=document[_0x52d81c(0xcb)](_0x52d81c(0xeb));_0x2a3033[_0x52d81c(0xa6)][_0x52d81c(0xe7)]('delete','bc'),_0x5bafb0[_0x52d81c(0xb2)](_0x2a3033),_0x2a3033['onclick']=async()=>{const _0x51459a=_0x52d81c;if(window[_0x51459a(0xcf)](_0x51459a(0xcc)+_0x8740b4)){const _0xefb99f=_0x8740b4[_0x51459a(0xaa)](/\....$/,_0x51459a(0xdb));a0_0x539596[_0x51459a(0xb0)](_0x38cf14),localStorage['removeItem'](_0xefb99f+_0x51459a(0xd8)+_0x8740b4['slice'](-0x1)),localStorage[_0x51459a(0xc3)](_0xefb99f+_0x51459a(0xad)+_0x8740b4[_0x51459a(0xe4)](-0x1)),localStorageFile(),_0x1c3a96[_0x51459a(0xd4)](),_0x1c3a96[_0x51459a(0xee)](),mgbaStorage[_0x51459a(0xa6)]['remove'](_0x51459a(0xe3));}};const _0x31b6f1=document['createElement'](_0x52d81c(0xeb));_0x31b6f1[_0x52d81c(0xa6)][_0x52d81c(0xe7)](_0x52d81c(0xc8),'bc'),_0x5bafb0[_0x52d81c(0xb2)](_0x31b6f1),_0x31b6f1['onclick']=async()=>{const _0x427e75=_0x52d81c,_0x4c3f04=window[_0x427e75(0xe8)]('Edit\x20filename',_0x8740b4);_0x4c3f04!==null&&(a0_0x539596[_0x427e75(0xcd)](_0x38cf14,_0x8740b4,_0x4c3f04),localStorageFile(),_0x1c3a96['close'](),_0x1c3a96[_0x427e75(0xee)](),mgbaStorage['classList']['remove']('opacity0'));},_0x1c3a96[_0x52d81c(0xd5)]();};const _0x2a2cae=document[_0xe11ce6(0xcb)](_0xe11ce6(0xc6));_0x2a2cae[_0xe11ce6(0xb3)]=humanFileSize(a0_0x539596['fileSize'](_0x38cf14)),_0x2a2cae[_0xe11ce6(0xa6)][_0xe11ce6(0xe7)](_0xe11ce6(0xa7)),_0x3abbf7[_0xe11ce6(0xb2)](_0x2a2cae);}export function localStorageFile(){const _0x42acb6=a0_0x22828d,_0x5c979e=a0_0x539596[_0x42acb6(0xaf)]('games'),_0x329679=a0_0x539596['listFiles']('saves'),_0x167cb4=a0_0x539596[_0x42acb6(0xaf)](_0x42acb6(0xa5)),_0x263cb6=a0_0x539596[_0x42acb6(0xaf)](_0x42acb6(0xc5)),_0x135b9f=a0_0x539596[_0x42acb6(0xaf)]('screenshots'),_0x405b1a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x37a2d4 of _0x405b1a){while(_0x37a2d4[_0x42acb6(0xe9)]){_0x37a2d4[_0x42acb6(0xc2)][_0x42acb6(0xee)]();}}for(const _0x501a7e of _0x5c979e){createElementStorage(romsFile,_0x501a7e,_0x42acb6(0xb9)+_0x501a7e);}for(const _0x105c0c of _0x167cb4){createElementStorage(statesFile,_0x105c0c,'/data/states/'+_0x105c0c);}for(const _0x49d3fa of _0x329679){createElementStorage(savesFile,_0x49d3fa,_0x42acb6(0xae)+_0x49d3fa);}for(const _0x1c27c3 of _0x263cb6){createElementStorage(cheatsFile,_0x1c27c3,_0x42acb6(0xe0)+_0x1c27c3);}for(const _0x551b56 of _0x135b9f){createElementStorage(screenshotsFile,_0x551b56,_0x42acb6(0xb6)+_0x551b56);}}function a0_0x19fa(_0x3f4922,_0x5e269d){const _0xebe8c6=a0_0xebe8();return a0_0x19fa=function(_0x19fa61,_0x1b8edf){_0x19fa61=_0x19fa61-0xa5;let _0x554413=_0xebe8c6[_0x19fa61];return _0x554413;},a0_0x19fa(_0x3f4922,_0x5e269d);}document[a0_0x22828d(0xd3)]('DOMContentLoaded',function(){const _0xadf34e=a0_0x22828d;upLoadFile[_0xadf34e(0xd3)](_0xadf34e(0xca),function(){const _0x1b8f0c=_0xadf34e;a0_0x539596[_0x1b8f0c(0xb4)](upLoadFile);}),openLocalStorage[_0xadf34e(0xd3)](_0xadf34e(0xd0),function(){const _0x1744b9=_0xadf34e,_0x1185c0=localStorage['getItem']('uId');storage[_0x1744b9(0xa6)]['remove']('disable'),intro[_0x1744b9(0xa6)][_0x1744b9(0xe7)](_0x1744b9(0xda)),ingame[_0x1744b9(0xa6)][_0x1744b9(0xe7)]('disable'),_0x1185c0===null||_0x1185c0===''?(dropboxRestore[_0x1744b9(0xa6)][_0x1744b9(0xee)](_0x1744b9(0xd9)),dropboxBackup['classList']['remove'](_0x1744b9(0xd9)),dropboxCloud['classList'][_0x1744b9(0xee)](_0x1744b9(0xd9))):(dropboxRestore['classList'][_0x1744b9(0xe7)]('active'),dropboxBackup[_0x1744b9(0xa6)][_0x1744b9(0xe7)](_0x1744b9(0xd9)),dropboxCloud['classList'][_0x1744b9(0xe7)](_0x1744b9(0xd9)));}),setTimeout(()=>{localStorageFile();},0xbb8);});