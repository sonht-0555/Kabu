const a0_0x23ebbd=a0_0x285a;(function(_0x179502,_0x501b15){const _0x41c3ac=a0_0x285a,_0xfe8349=_0x179502();while(!![]){try{const _0x1953e0=parseInt(_0x41c3ac(0x18a))/0x1*(parseInt(_0x41c3ac(0x1c5))/0x2)+-parseInt(_0x41c3ac(0x1bf))/0x3*(-parseInt(_0x41c3ac(0x1c1))/0x4)+parseInt(_0x41c3ac(0x1ad))/0x5*(-parseInt(_0x41c3ac(0x1b0))/0x6)+-parseInt(_0x41c3ac(0x194))/0x7+parseInt(_0x41c3ac(0x1b1))/0x8*(parseInt(_0x41c3ac(0x1b7))/0x9)+-parseInt(_0x41c3ac(0x1b4))/0xa+parseInt(_0x41c3ac(0x180))/0xb;if(_0x1953e0===_0x501b15)break;else _0xfe8349['push'](_0xfe8349['shift']());}catch(_0x719fd4){_0xfe8349['push'](_0xfe8349['shift']());}}}(a0_0x177c,0xc8d46));function a0_0x177c(){const _0x10aa57=['mgba-storage','statesFile','onclose','replace','firstChild','/data/games/','delete','.gba','listScreenshot','getElementById','rename','classList','rom','MiB','Delete\x20this\x20file?','removeItem','disable','3910JpbiQg','rom-item','opacity0','8190UWlAlh','994024Geblpn','ZiB','_dateState','9932770RNOtyg','dialog','getItem','99xKWQYu','addEventListener','YiB','download','mib','textContent','abs','lastChild','1314CdYrht','listState','2628shUlDj','close','div','actionDiv','5140GJtpeP','_imageState','createElement','14612455Wuektg','onclick','confirm','romsFile','toFixed','GiB','click','downloadFile','fileSize','span','350ZZNyzD','listSave','home','Edit\x20filename','change','active','storage','KiB','listGame','slice','6994043kcsGCY','length','/data/screenshots/','appendChild','remove','savesFile','add','flex-1'];a0_0x177c=function(){return _0x10aa57;};return a0_0x177c();}import*as a0_0x3a345b from'./main.js';const mgbaStorage=document[a0_0x23ebbd(0x1a5)](a0_0x23ebbd(0x19c)),savesFile=document['getElementById'](a0_0x23ebbd(0x199)),romsFile=document[a0_0x23ebbd(0x1a5)](a0_0x23ebbd(0x183)),statesFile=document[a0_0x23ebbd(0x1a5)](a0_0x23ebbd(0x19d)),screenshotsFile=document['getElementById']('screenshotsFile');function humanFileSize(_0x1d300d,_0x5f03fb=![],_0x5869f6=0x1){const _0x15a05d=a0_0x23ebbd,_0x57d2fb=_0x5f03fb?0x3e8:0x400,_0x46611c=_0x5f03fb?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x15a05d(0x191),_0x15a05d(0x1a9),_0x15a05d(0x185),'TiB','PiB','EiB',_0x15a05d(0x1b2),_0x15a05d(0x1b9)];let _0xfe9f1=-0x1;do{_0x1d300d/=_0x57d2fb,++_0xfe9f1;}while(Math[_0x15a05d(0x1bd)](_0x1d300d)>=_0x57d2fb&&_0xfe9f1<_0x46611c[_0x15a05d(0x195)]-0x1);return _0x1d300d[_0x15a05d(0x184)](_0x5869f6)+'\x20'+_0x46611c[_0xfe9f1];}function a0_0x285a(_0x1eef88,_0x2a8283){const _0x177c28=a0_0x177c();return a0_0x285a=function(_0x285ac2,_0x3b58f0){_0x285ac2=_0x285ac2-0x17f;let _0x352114=_0x177c28[_0x285ac2];return _0x352114;},a0_0x285a(_0x1eef88,_0x2a8283);}function createElementStorage(_0x42a350,_0x17e48b,_0x5a4bd9){const _0x323a9f=a0_0x23ebbd,_0x369192=document['createElement']('div');_0x369192[_0x323a9f(0x1a7)]['add'](_0x323a9f(0x19b),_0x323a9f(0x1ae),_0x323a9f(0x1a8)),_0x42a350[_0x323a9f(0x197)](_0x369192);const _0x224041=document['createElement'](_0x323a9f(0x189));_0x224041[_0x323a9f(0x1bc)]=_0x17e48b,_0x224041[_0x323a9f(0x1a7)][_0x323a9f(0x19a)](_0x323a9f(0x19b)),_0x369192[_0x323a9f(0x197)](_0x224041),_0x224041[_0x323a9f(0x181)]=()=>{const _0x24fe96=_0x323a9f,_0x139520=document['createElement'](_0x24fe96(0x1b5));_0x139520[_0x24fe96(0x19e)]=()=>_0x139520[_0x24fe96(0x198)](),_0x42a350[_0x24fe96(0x197)](_0x139520);const _0x4e4999=document['createElement']('div');_0x4e4999['classList'][_0x24fe96(0x19a)](_0x24fe96(0x190),'right','gap-10'),_0x139520[_0x24fe96(0x197)](_0x4e4999);const _0x3982f2=document[_0x24fe96(0x17f)](_0x24fe96(0x1c3));_0x3982f2[_0x24fe96(0x1a7)][_0x24fe96(0x19a)](_0x24fe96(0x18c),'bc','flex-1'),_0x4e4999['appendChild'](_0x3982f2);const _0x414e3f=document['createElement'](_0x24fe96(0x1c3));_0x414e3f[_0x24fe96(0x1a7)][_0x24fe96(0x19a)](_0x24fe96(0x19b)),_0x4e4999[_0x24fe96(0x197)](_0x414e3f);const _0x5020c6=document[_0x24fe96(0x17f)](_0x24fe96(0x1c3));_0x5020c6[_0x24fe96(0x1a7)][_0x24fe96(0x19a)]('flex-1'),_0x4e4999['appendChild'](_0x5020c6);const _0x2b1cc9=document[_0x24fe96(0x17f)](_0x24fe96(0x1c3));_0x2b1cc9[_0x24fe96(0x1a7)]['add'](_0x24fe96(0x19b)),_0x4e4999[_0x24fe96(0x197)](_0x2b1cc9),mgbaStorage['classList'][_0x24fe96(0x19a)]('opacity0'),_0x3982f2['onclick']=()=>{const _0xb3fa30=_0x24fe96;_0x139520[_0xb3fa30(0x1c2)](),_0x139520[_0xb3fa30(0x198)](),mgbaStorage[_0xb3fa30(0x1a7)][_0xb3fa30(0x198)](_0xb3fa30(0x1af));};const _0x979815=document['createElement'](_0x24fe96(0x1c3));_0x979815[_0x24fe96(0x1a7)][_0x24fe96(0x19a)](_0x24fe96(0x19b),'rom-item','hw','cw'),_0x979815[_0x24fe96(0x1bc)]=_0x17e48b,_0x139520[_0x24fe96(0x197)](_0x979815);const _0x3818e6=document[_0x24fe96(0x17f)]('div');_0x3818e6[_0x24fe96(0x1a7)]['add'](_0x24fe96(0x1c4),'hw','cw','gap-16'),_0x139520[_0x24fe96(0x197)](_0x3818e6);const _0x555cbc=document['createElement'](_0x24fe96(0x1c3));_0x555cbc[_0x24fe96(0x1a7)][_0x24fe96(0x19a)](_0x24fe96(0x1ba),'bc'),_0x3818e6[_0x24fe96(0x197)](_0x555cbc),_0x555cbc[_0x24fe96(0x181)]=()=>{const _0x1a74fe=_0x24fe96;a0_0x3a345b[_0x1a74fe(0x187)](_0x5a4bd9,_0x17e48b);};const _0x543244=document[_0x24fe96(0x17f)](_0x24fe96(0x1c3));_0x543244['classList']['add'](_0x24fe96(0x1a2),'bc'),_0x3818e6['appendChild'](_0x543244),_0x543244[_0x24fe96(0x181)]=async()=>{const _0x4175e5=_0x24fe96;if(window[_0x4175e5(0x182)](_0x4175e5(0x1aa)+_0x17e48b)){const _0x25d4ad=_0x17e48b[_0x4175e5(0x19f)](/\....$/,_0x4175e5(0x1a3));a0_0x3a345b['deleteFile'](_0x5a4bd9),localStorage[_0x4175e5(0x1ab)](_0x25d4ad+_0x4175e5(0x1b3)+_0x17e48b['slice'](-0x1)),localStorage['removeItem'](_0x25d4ad+_0x4175e5(0x1c6)+_0x17e48b[_0x4175e5(0x193)](-0x1)),localStorageFile(),_0x139520[_0x4175e5(0x1c2)](),_0x139520[_0x4175e5(0x198)](),mgbaStorage[_0x4175e5(0x1a7)]['remove'](_0x4175e5(0x1af));}};const _0x4a7dab=document[_0x24fe96(0x17f)]('div');_0x4a7dab[_0x24fe96(0x1a7)][_0x24fe96(0x19a)](_0x24fe96(0x1a6),'bc'),_0x3818e6[_0x24fe96(0x197)](_0x4a7dab),_0x4a7dab['onclick']=async()=>{const _0x3dd83a=_0x24fe96,_0x3c4609=window['prompt'](_0x3dd83a(0x18d),_0x17e48b);_0x3c4609!==null&&(a0_0x3a345b['editFile'](_0x5a4bd9,_0x17e48b,_0x3c4609),localStorageFile(),_0x139520[_0x3dd83a(0x1c2)](),_0x139520[_0x3dd83a(0x198)](),mgbaStorage[_0x3dd83a(0x1a7)][_0x3dd83a(0x198)]('opacity0'));},_0x139520['showModal']();};const _0x4d1279=document[_0x323a9f(0x17f)]('span');_0x4d1279['textContent']=humanFileSize(a0_0x3a345b[_0x323a9f(0x188)](_0x5a4bd9)),_0x4d1279[_0x323a9f(0x1a7)][_0x323a9f(0x19a)](_0x323a9f(0x1bb)),_0x369192[_0x323a9f(0x197)](_0x4d1279);}export function localStorageFile(){const _0x116c73=a0_0x23ebbd,_0x212c8d=a0_0x3a345b[_0x116c73(0x192)](),_0x3e264f=a0_0x3a345b[_0x116c73(0x18b)](),_0x2e8fab=a0_0x3a345b[_0x116c73(0x1c0)](),_0x436fdf=a0_0x3a345b['listCheat'](),_0x1475c0=a0_0x3a345b[_0x116c73(0x1a4)](),_0x28642b=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5d2d57 of _0x28642b){while(_0x5d2d57[_0x116c73(0x1a0)]){_0x5d2d57[_0x116c73(0x1be)]['remove']();}}for(const _0x3ef75b of _0x212c8d){createElementStorage(romsFile,_0x3ef75b,_0x116c73(0x1a1)+_0x3ef75b);}for(const _0x13ab03 of _0x2e8fab){createElementStorage(statesFile,_0x13ab03,'/data/states/'+_0x13ab03);}for(const _0x544262 of _0x3e264f){createElementStorage(savesFile,_0x544262,'/data/saves/'+_0x544262);}for(const _0x210371 of _0x436fdf){createElementStorage(cheatsFile,_0x210371,'/data/cheats/'+_0x210371);}for(const _0x2dd5bb of _0x1475c0){createElementStorage(screenshotsFile,_0x2dd5bb,_0x116c73(0x196)+_0x2dd5bb);}}document['addEventListener']('DOMContentLoaded',function(){const _0x52cad1=a0_0x23ebbd;upLoadFile[_0x52cad1(0x1b8)](_0x52cad1(0x18e),function(){a0_0x3a345b['uploadFile'](upLoadFile);}),openLocalStorage['addEventListener'](_0x52cad1(0x186),function(){const _0xfb2c0e=_0x52cad1,_0xf52e92=localStorage[_0xfb2c0e(0x1b6)]('uId');storage[_0xfb2c0e(0x1a7)][_0xfb2c0e(0x198)](_0xfb2c0e(0x1ac)),intro[_0xfb2c0e(0x1a7)][_0xfb2c0e(0x19a)]('disable'),ingame['classList'][_0xfb2c0e(0x19a)](_0xfb2c0e(0x1ac)),_0xf52e92===null||_0xf52e92===''?(dropboxRestore[_0xfb2c0e(0x1a7)][_0xfb2c0e(0x198)]('active'),dropboxBackup['classList'][_0xfb2c0e(0x198)](_0xfb2c0e(0x18f)),dropboxCloud['classList'][_0xfb2c0e(0x198)](_0xfb2c0e(0x18f))):(dropboxRestore[_0xfb2c0e(0x1a7)][_0xfb2c0e(0x19a)](_0xfb2c0e(0x18f)),dropboxBackup['classList']['add']('active'),dropboxCloud['classList'][_0xfb2c0e(0x19a)](_0xfb2c0e(0x18f)));}),setTimeout(()=>{localStorageFile();},0xbb8);});