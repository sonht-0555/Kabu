const a0_0x58c36f=a0_0x3a20;(function(_0x2e85d9,_0x4ba4f5){const _0x4c5c17=a0_0x3a20,_0x5f16e3=_0x2e85d9();while(!![]){try{const _0x52b87d=parseInt(_0x4c5c17(0xf0))/0x1*(parseInt(_0x4c5c17(0xfc))/0x2)+parseInt(_0x4c5c17(0x10c))/0x3*(-parseInt(_0x4c5c17(0xf1))/0x4)+-parseInt(_0x4c5c17(0xfb))/0x5*(-parseInt(_0x4c5c17(0xff))/0x6)+parseInt(_0x4c5c17(0x112))/0x7+-parseInt(_0x4c5c17(0x127))/0x8+parseInt(_0x4c5c17(0x130))/0x9*(-parseInt(_0x4c5c17(0x117))/0xa)+parseInt(_0x4c5c17(0xf7))/0xb*(parseInt(_0x4c5c17(0xfa))/0xc);if(_0x52b87d===_0x4ba4f5)break;else _0x5f16e3['push'](_0x5f16e3['shift']());}catch(_0x18201c){_0x5f16e3['push'](_0x5f16e3['shift']());}}}(a0_0x123f,0xa81c7));import*as a0_0x3d668c from'./main.js';const mgbaStorage=document[a0_0x58c36f(0xf9)](a0_0x58c36f(0x106)),savesFile=document[a0_0x58c36f(0xf9)](a0_0x58c36f(0x137)),romsFile=document['getElementById'](a0_0x58c36f(0x118)),statesFile=document[a0_0x58c36f(0xf9)](a0_0x58c36f(0x101)),screenshotsFile=document[a0_0x58c36f(0xf9)](a0_0x58c36f(0x116));function a0_0x3a20(_0x2f0a12,_0x32639f){const _0x123fd4=a0_0x123f();return a0_0x3a20=function(_0x3a209e,_0x1c9a36){_0x3a209e=_0x3a209e-0xef;let _0x8922d5=_0x123fd4[_0x3a209e];return _0x8922d5;},a0_0x3a20(_0x2f0a12,_0x32639f);}function humanFileSize(_0x535164,_0x3de749=![],_0x1c19e1=0x1){const _0x18269a=a0_0x58c36f,_0xad31fb=_0x3de749?0x3e8:0x400,_0x77a9f2=_0x3de749?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x18269a(0xfd),'MiB',_0x18269a(0x12c),'TiB','PiB',_0x18269a(0x12a),_0x18269a(0x10b),_0x18269a(0x128)];let _0x58b344=-0x1;do{_0x535164/=_0xad31fb,++_0x58b344;}while(Math['abs'](_0x535164)>=_0xad31fb&&_0x58b344<_0x77a9f2[_0x18269a(0x107)]-0x1);return _0x535164[_0x18269a(0xef)](_0x1c19e1)+'\x20'+_0x77a9f2[_0x58b344];}function a0_0x123f(){const _0x210432=['prompt','.gba','createElement','delete','DOMContentLoaded','_dateState','onclick','/data/games/','rom-item','download','8689008RCgMzh','YiB','flex-1','EiB','/data/saves/','GiB','downloadFile','slice','classList','18eGqewM','close','saves','gap-10','disable','deleteFile','replace','savesFile','opacity0','toFixed','7486vxprBG','43468ddkfgr','firstChild','cheats','add','rom','Delete\x20this\x20file?','983873kEDwtX','uploadFile','getElementById','156uHRcvw','15Hccwxa','330dhEZmX','KiB','/data/screenshots/','252426aWGJRb','getItem','statesFile','uId','div','states','storage','mgba-storage','length','games','textContent','editFile','ZiB','15gKwRQz','confirm','fileSize','right','/data/cheats/','span','4068120tczCXp','removeItem','active','rename','screenshotsFile','6381390czWLDZ','romsFile','remove','listFiles','onclose','appendChild'];a0_0x123f=function(){return _0x210432;};return a0_0x123f();}function createElementStorage(_0x4c6c3d,_0x567b27,_0x451bbe){const _0x2e1afc=a0_0x58c36f,_0x419a07=document[_0x2e1afc(0x11f)]('div');_0x419a07[_0x2e1afc(0x12f)]['add'](_0x2e1afc(0x129),_0x2e1afc(0x125),_0x2e1afc(0xf5)),_0x4c6c3d[_0x2e1afc(0x11c)](_0x419a07);const _0x241d20=document[_0x2e1afc(0x11f)](_0x2e1afc(0x111));_0x241d20[_0x2e1afc(0x109)]=_0x567b27,_0x241d20[_0x2e1afc(0x12f)]['add'](_0x2e1afc(0x129)),_0x419a07[_0x2e1afc(0x11c)](_0x241d20),_0x241d20[_0x2e1afc(0x123)]=()=>{const _0x1412ce=_0x2e1afc,_0x146f2a=document['createElement']('dialog');_0x146f2a[_0x1412ce(0x11b)]=()=>_0x146f2a[_0x1412ce(0x119)](),_0x4c6c3d['appendChild'](_0x146f2a);const _0x474cbc=document['createElement']('div');_0x474cbc[_0x1412ce(0x12f)][_0x1412ce(0xf4)](_0x1412ce(0x105),_0x1412ce(0x10f),_0x1412ce(0x133)),_0x146f2a['appendChild'](_0x474cbc);const _0x2128c3=document[_0x1412ce(0x11f)]('div');_0x2128c3[_0x1412ce(0x12f)][_0x1412ce(0xf4)]('home','bc',_0x1412ce(0x129)),_0x474cbc[_0x1412ce(0x11c)](_0x2128c3);const _0x3b82bc=document['createElement']('div');_0x3b82bc[_0x1412ce(0x12f)][_0x1412ce(0xf4)]('flex-1'),_0x474cbc[_0x1412ce(0x11c)](_0x3b82bc);const _0x28a1e3=document[_0x1412ce(0x11f)](_0x1412ce(0x103));_0x28a1e3['classList'][_0x1412ce(0xf4)]('flex-1'),_0x474cbc[_0x1412ce(0x11c)](_0x28a1e3);const _0x7ab265=document[_0x1412ce(0x11f)](_0x1412ce(0x103));_0x7ab265[_0x1412ce(0x12f)]['add'](_0x1412ce(0x129)),_0x474cbc[_0x1412ce(0x11c)](_0x7ab265),mgbaStorage[_0x1412ce(0x12f)][_0x1412ce(0xf4)]('opacity0'),_0x2128c3[_0x1412ce(0x123)]=()=>{const _0x3576f3=_0x1412ce;_0x146f2a[_0x3576f3(0x131)](),_0x146f2a['remove'](),mgbaStorage[_0x3576f3(0x12f)][_0x3576f3(0x119)](_0x3576f3(0x138));};const _0x31151c=document[_0x1412ce(0x11f)](_0x1412ce(0x103));_0x31151c['classList'][_0x1412ce(0xf4)](_0x1412ce(0x129),_0x1412ce(0x125),'hw','cw'),_0x31151c['textContent']=_0x567b27,_0x146f2a['appendChild'](_0x31151c);const _0x51c84f=document[_0x1412ce(0x11f)](_0x1412ce(0x103));_0x51c84f[_0x1412ce(0x12f)][_0x1412ce(0xf4)]('actionDiv','hw','cw','gap-16'),_0x146f2a[_0x1412ce(0x11c)](_0x51c84f);const _0x35cd33=document['createElement'](_0x1412ce(0x103));_0x35cd33['classList']['add'](_0x1412ce(0x126),'bc'),_0x51c84f[_0x1412ce(0x11c)](_0x35cd33),_0x35cd33[_0x1412ce(0x123)]=()=>{const _0x59c47c=_0x1412ce;a0_0x3d668c[_0x59c47c(0x12d)](_0x451bbe,_0x567b27);};const _0x4587c2=document[_0x1412ce(0x11f)](_0x1412ce(0x103));_0x4587c2['classList']['add'](_0x1412ce(0x120),'bc'),_0x51c84f[_0x1412ce(0x11c)](_0x4587c2),_0x4587c2[_0x1412ce(0x123)]=async()=>{const _0x3b4ae6=_0x1412ce;if(window[_0x3b4ae6(0x10d)](_0x3b4ae6(0xf6)+_0x567b27)){const _0x4de733=_0x567b27[_0x3b4ae6(0x136)](/\....$/,_0x3b4ae6(0x11e));a0_0x3d668c[_0x3b4ae6(0x135)](_0x451bbe),localStorage[_0x3b4ae6(0x113)](_0x4de733+_0x3b4ae6(0x122)+_0x567b27[_0x3b4ae6(0x12e)](-0x1)),localStorage[_0x3b4ae6(0x113)](_0x4de733+'_imageState'+_0x567b27[_0x3b4ae6(0x12e)](-0x1)),localStorageFile(),_0x146f2a[_0x3b4ae6(0x131)](),_0x146f2a[_0x3b4ae6(0x119)](),mgbaStorage['classList'][_0x3b4ae6(0x119)](_0x3b4ae6(0x138));}};const _0x48958b=document[_0x1412ce(0x11f)]('div');_0x48958b['classList']['add'](_0x1412ce(0x115),'bc'),_0x51c84f[_0x1412ce(0x11c)](_0x48958b),_0x48958b[_0x1412ce(0x123)]=async()=>{const _0x404865=_0x1412ce,_0x56c57e=window[_0x404865(0x11d)]('Edit\x20filename',_0x567b27);_0x56c57e!==null&&(a0_0x3d668c[_0x404865(0x10a)](_0x451bbe,_0x567b27,_0x56c57e),localStorageFile(),_0x146f2a[_0x404865(0x131)](),_0x146f2a[_0x404865(0x119)](),mgbaStorage[_0x404865(0x12f)][_0x404865(0x119)]('opacity0'));},_0x146f2a['showModal']();};const _0x54b98c=document[_0x2e1afc(0x11f)](_0x2e1afc(0x111));_0x54b98c['textContent']=humanFileSize(a0_0x3d668c[_0x2e1afc(0x10e)](_0x451bbe)),_0x54b98c[_0x2e1afc(0x12f)][_0x2e1afc(0xf4)]('mib'),_0x419a07['appendChild'](_0x54b98c);}export function localStorageFile(){const _0x2d5487=a0_0x58c36f,_0x371fcf=a0_0x3d668c[_0x2d5487(0x11a)](_0x2d5487(0x108)),_0x16200a=a0_0x3d668c['listFiles'](_0x2d5487(0x132)),_0x588560=a0_0x3d668c['listFiles'](_0x2d5487(0x104)),_0x3b4c33=a0_0x3d668c[_0x2d5487(0x11a)](_0x2d5487(0xf3)),_0x430ccb=a0_0x3d668c['listFiles']('screenshots'),_0xac56e4=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4cb477 of _0xac56e4){while(_0x4cb477[_0x2d5487(0xf2)]){_0x4cb477['lastChild'][_0x2d5487(0x119)]();}}for(const _0x566661 of _0x371fcf){createElementStorage(romsFile,_0x566661,_0x2d5487(0x124)+_0x566661);}for(const _0x375472 of _0x588560){createElementStorage(statesFile,_0x375472,'/data/states/'+_0x375472);}for(const _0x4a89fc of _0x16200a){createElementStorage(savesFile,_0x4a89fc,_0x2d5487(0x12b)+_0x4a89fc);}for(const _0x5ccc07 of _0x3b4c33){createElementStorage(cheatsFile,_0x5ccc07,_0x2d5487(0x110)+_0x5ccc07);}for(const _0x2b569e of _0x430ccb){createElementStorage(screenshotsFile,_0x2b569e,_0x2d5487(0xfe)+_0x2b569e);}}document['addEventListener'](a0_0x58c36f(0x121),function(){upLoadFile['addEventListener']('change',function(){const _0xebce4e=a0_0x3a20;a0_0x3d668c[_0xebce4e(0xf8)](upLoadFile);}),openLocalStorage['addEventListener']('click',function(){const _0x567f21=a0_0x3a20,_0x129436=localStorage[_0x567f21(0x100)](_0x567f21(0x102));storage[_0x567f21(0x12f)][_0x567f21(0x119)]('disable'),intro[_0x567f21(0x12f)]['add'](_0x567f21(0x134)),ingame[_0x567f21(0x12f)][_0x567f21(0xf4)](_0x567f21(0x134)),_0x129436===null||_0x129436===''?(dropboxRestore[_0x567f21(0x12f)]['remove'](_0x567f21(0x114)),dropboxBackup[_0x567f21(0x12f)][_0x567f21(0x119)]('active'),dropboxCloud[_0x567f21(0x12f)][_0x567f21(0x119)](_0x567f21(0x114))):(dropboxRestore['classList']['add'](_0x567f21(0x114)),dropboxBackup[_0x567f21(0x12f)][_0x567f21(0xf4)](_0x567f21(0x114)),dropboxCloud['classList'][_0x567f21(0xf4)](_0x567f21(0x114)));}),setTimeout(()=>{localStorageFile();},0xbb8);});