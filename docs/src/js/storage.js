function a0_0x2662(){const _0x3f1dc8=['getElementById','uId','games','removeItem','DOMContentLoaded','romsFile','10hLRVKw','add','fileSize','Delete\x20this\x20file?','remove','textContent','addEventListener','prompt','/data/screenshots/','states','lastChild','active','length','1520729IgQhoT','cheats','31837lmgQYg','mib','677964oYrfBl','actionDiv','right','listFiles','656952lZCXgL','saves','change','replace','TiB','rom','dialog','span','EiB','ZiB','24945xbWjnQ','screenshots','gap-16','deleteFile','.gba','flex-1','confirm','gap-10','click','opacity0','1360179ydqySw','1406500GSsubi','download','10qPgvfx','uploadFile','div','onclose','slice','savesFile','editFile','_dateState','disable','/data/saves/','createElement','onclick','5goCTcJ','YiB','/data/cheats/','showModal','mgba-storage','classList','rom-item','getItem','downloadFile','close','appendChild','toFixed'];a0_0x2662=function(){return _0x3f1dc8;};return a0_0x2662();}function a0_0x5a6d(_0x2822f8,_0x28c872){const _0x266290=a0_0x2662();return a0_0x5a6d=function(_0x5a6dbe,_0x2f54fd){_0x5a6dbe=_0x5a6dbe-0x113;let _0x19a808=_0x266290[_0x5a6dbe];return _0x19a808;},a0_0x5a6d(_0x2822f8,_0x28c872);}const a0_0x191524=a0_0x5a6d;(function(_0x3da82e,_0xd325e0){const _0x46fa72=a0_0x5a6d,_0xd775fe=_0x3da82e();while(!![]){try{const _0x41aa6a=-parseInt(_0x46fa72(0x123))/0x1+-parseInt(_0x46fa72(0x114))/0x2*(-parseInt(_0x46fa72(0x133))/0x3)+parseInt(_0x46fa72(0x13e))/0x4+-parseInt(_0x46fa72(0x14c))/0x5*(-parseInt(_0x46fa72(0x125))/0x6)+-parseInt(_0x46fa72(0x121))/0x7+-parseInt(_0x46fa72(0x129))/0x8+parseInt(_0x46fa72(0x13d))/0x9*(parseInt(_0x46fa72(0x140))/0xa);if(_0x41aa6a===_0xd325e0)break;else _0xd775fe['push'](_0xd775fe['shift']());}catch(_0x8314ec){_0xd775fe['push'](_0xd775fe['shift']());}}}(a0_0x2662,0x4f9ea));import*as a0_0x2c06f7 from'./main.js';const mgbaStorage=document[a0_0x191524(0x158)](a0_0x191524(0x150)),savesFile=document[a0_0x191524(0x158)](a0_0x191524(0x145)),romsFile=document[a0_0x191524(0x158)](a0_0x191524(0x113)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document['getElementById']('screenshotsFile');function humanFileSize(_0x59025f,_0x14750e=![],_0xc3b1a=0x1){const _0x2c0412=a0_0x191524,_0x95bf9=_0x14750e?0x3e8:0x400,_0x5aeaf1=_0x14750e?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB','GiB',_0x2c0412(0x12d),'PiB',_0x2c0412(0x131),_0x2c0412(0x132),_0x2c0412(0x14d)];let _0x21a28d=-0x1;do{_0x59025f/=_0x95bf9,++_0x21a28d;}while(Math['abs'](_0x59025f)>=_0x95bf9&&_0x21a28d<_0x5aeaf1[_0x2c0412(0x120)]-0x1);return _0x59025f[_0x2c0412(0x157)](_0xc3b1a)+'\x20'+_0x5aeaf1[_0x21a28d];}function createElementStorage(_0x1f4b9d,_0x2ba7f1,_0x4204ce){const _0x103b0f=a0_0x191524,_0x1be52a=document[_0x103b0f(0x14a)](_0x103b0f(0x142));_0x1be52a[_0x103b0f(0x151)][_0x103b0f(0x115)](_0x103b0f(0x138),_0x103b0f(0x152),_0x103b0f(0x12e)),_0x1f4b9d[_0x103b0f(0x156)](_0x1be52a);const _0x2065ce=document[_0x103b0f(0x14a)](_0x103b0f(0x130));_0x2065ce[_0x103b0f(0x119)]=_0x2ba7f1,_0x2065ce[_0x103b0f(0x151)][_0x103b0f(0x115)]('flex-1'),_0x1be52a[_0x103b0f(0x156)](_0x2065ce),_0x2065ce[_0x103b0f(0x14b)]=()=>{const _0x45fca3=_0x103b0f,_0x149b8b=document[_0x45fca3(0x14a)](_0x45fca3(0x12f));_0x149b8b[_0x45fca3(0x143)]=()=>_0x149b8b[_0x45fca3(0x118)](),_0x1f4b9d[_0x45fca3(0x156)](_0x149b8b);const _0x26bf50=document['createElement']('div');_0x26bf50['classList'][_0x45fca3(0x115)]('storage',_0x45fca3(0x127),_0x45fca3(0x13a)),_0x149b8b[_0x45fca3(0x156)](_0x26bf50);const _0x299f5d=document[_0x45fca3(0x14a)]('div');_0x299f5d[_0x45fca3(0x151)][_0x45fca3(0x115)]('home','bc',_0x45fca3(0x138)),_0x26bf50[_0x45fca3(0x156)](_0x299f5d);const _0x3ceff5=document['createElement'](_0x45fca3(0x142));_0x3ceff5[_0x45fca3(0x151)][_0x45fca3(0x115)]('flex-1'),_0x26bf50[_0x45fca3(0x156)](_0x3ceff5);const _0x271b5c=document[_0x45fca3(0x14a)](_0x45fca3(0x142));_0x271b5c[_0x45fca3(0x151)]['add'](_0x45fca3(0x138)),_0x26bf50[_0x45fca3(0x156)](_0x271b5c);const _0x346273=document[_0x45fca3(0x14a)](_0x45fca3(0x142));_0x346273[_0x45fca3(0x151)]['add'](_0x45fca3(0x138)),_0x26bf50['appendChild'](_0x346273),mgbaStorage[_0x45fca3(0x151)]['add'](_0x45fca3(0x13c)),_0x299f5d['onclick']=()=>{const _0x270c0f=_0x45fca3;_0x149b8b['close'](),_0x149b8b[_0x270c0f(0x118)](),mgbaStorage[_0x270c0f(0x151)][_0x270c0f(0x118)](_0x270c0f(0x13c));};const _0x4335a7=document[_0x45fca3(0x14a)](_0x45fca3(0x142));_0x4335a7['classList'][_0x45fca3(0x115)](_0x45fca3(0x138),'rom-item','hw','cw'),_0x4335a7['textContent']=_0x2ba7f1,_0x149b8b[_0x45fca3(0x156)](_0x4335a7);const _0x387b21=document[_0x45fca3(0x14a)](_0x45fca3(0x142));_0x387b21[_0x45fca3(0x151)]['add'](_0x45fca3(0x126),'hw','cw',_0x45fca3(0x135)),_0x149b8b[_0x45fca3(0x156)](_0x387b21);const _0x281d14=document[_0x45fca3(0x14a)](_0x45fca3(0x142));_0x281d14[_0x45fca3(0x151)][_0x45fca3(0x115)](_0x45fca3(0x13f),'bc'),_0x387b21[_0x45fca3(0x156)](_0x281d14),_0x281d14[_0x45fca3(0x14b)]=()=>{const _0x400b08=_0x45fca3;a0_0x2c06f7[_0x400b08(0x154)](_0x4204ce,_0x2ba7f1);};const _0x4af2b0=document['createElement'](_0x45fca3(0x142));_0x4af2b0[_0x45fca3(0x151)][_0x45fca3(0x115)]('delete','bc'),_0x387b21['appendChild'](_0x4af2b0),_0x4af2b0[_0x45fca3(0x14b)]=async()=>{const _0x1af08f=_0x45fca3;if(window[_0x1af08f(0x139)](_0x1af08f(0x117)+_0x2ba7f1)){const _0x46f9a4=_0x2ba7f1[_0x1af08f(0x12c)](/\....$/,_0x1af08f(0x137));a0_0x2c06f7[_0x1af08f(0x136)](_0x4204ce),localStorage[_0x1af08f(0x15b)](_0x46f9a4+_0x1af08f(0x147)+_0x2ba7f1[_0x1af08f(0x144)](-0x1)),localStorage['removeItem'](_0x46f9a4+'_imageState'+_0x2ba7f1[_0x1af08f(0x144)](-0x1)),localStorageFile(),_0x149b8b['close'](),_0x149b8b[_0x1af08f(0x118)](),mgbaStorage[_0x1af08f(0x151)][_0x1af08f(0x118)](_0x1af08f(0x13c));}};const _0x1022ae=document['createElement']('div');_0x1022ae[_0x45fca3(0x151)]['add']('rename','bc'),_0x387b21[_0x45fca3(0x156)](_0x1022ae),_0x1022ae['onclick']=async()=>{const _0x2b5b31=_0x45fca3,_0x4f3b1d=window[_0x2b5b31(0x11b)]('Edit\x20filename',_0x2ba7f1);_0x4f3b1d!==null&&(a0_0x2c06f7[_0x2b5b31(0x146)](_0x4204ce,_0x2ba7f1,_0x4f3b1d),localStorageFile(),_0x149b8b[_0x2b5b31(0x155)](),_0x149b8b['remove'](),mgbaStorage[_0x2b5b31(0x151)][_0x2b5b31(0x118)](_0x2b5b31(0x13c)));},_0x149b8b[_0x45fca3(0x14f)]();};const _0x157986=document[_0x103b0f(0x14a)](_0x103b0f(0x130));_0x157986['textContent']=humanFileSize(a0_0x2c06f7[_0x103b0f(0x116)](_0x4204ce)),_0x157986[_0x103b0f(0x151)][_0x103b0f(0x115)](_0x103b0f(0x124)),_0x1be52a[_0x103b0f(0x156)](_0x157986);}export function localStorageFile(){const _0x1ba933=a0_0x191524,_0x1ee56e=a0_0x2c06f7[_0x1ba933(0x128)](_0x1ba933(0x15a)),_0x468818=a0_0x2c06f7[_0x1ba933(0x128)](_0x1ba933(0x12a)),_0x19b46d=a0_0x2c06f7[_0x1ba933(0x128)](_0x1ba933(0x11d)),_0x481eb9=a0_0x2c06f7['listFiles'](_0x1ba933(0x122)),_0x2b8377=a0_0x2c06f7[_0x1ba933(0x128)](_0x1ba933(0x134)),_0x4f0915=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x31dbd3 of _0x4f0915){while(_0x31dbd3['firstChild']){_0x31dbd3[_0x1ba933(0x11e)]['remove']();}}for(const _0x13f51c of _0x1ee56e){createElementStorage(romsFile,_0x13f51c,'/data/games/'+_0x13f51c);}for(const _0x57d0ba of _0x19b46d){createElementStorage(statesFile,_0x57d0ba,'/data/states/'+_0x57d0ba);}for(const _0x198d26 of _0x468818){createElementStorage(savesFile,_0x198d26,_0x1ba933(0x149)+_0x198d26);}for(const _0x541caa of _0x481eb9){createElementStorage(cheatsFile,_0x541caa,_0x1ba933(0x14e)+_0x541caa);}for(const _0x15a1b5 of _0x2b8377){createElementStorage(screenshotsFile,_0x15a1b5,_0x1ba933(0x11c)+_0x15a1b5);}}document[a0_0x191524(0x11a)](a0_0x191524(0x15c),function(){const _0x58bd34=a0_0x191524;upLoadFile[_0x58bd34(0x11a)](_0x58bd34(0x12b),function(){const _0x9b28dd=_0x58bd34;a0_0x2c06f7[_0x9b28dd(0x141)](upLoadFile);}),openLocalStorage[_0x58bd34(0x11a)](_0x58bd34(0x13b),function(){const _0x503b5c=_0x58bd34,_0x35f5b1=localStorage[_0x503b5c(0x153)](_0x503b5c(0x159));storage[_0x503b5c(0x151)][_0x503b5c(0x118)](_0x503b5c(0x148)),intro['classList']['add']('disable'),ingame[_0x503b5c(0x151)][_0x503b5c(0x115)](_0x503b5c(0x148)),_0x35f5b1===null||_0x35f5b1===''?(dropboxRestore[_0x503b5c(0x151)][_0x503b5c(0x118)]('active'),dropboxBackup[_0x503b5c(0x151)]['remove'](_0x503b5c(0x11f)),dropboxCloud[_0x503b5c(0x151)][_0x503b5c(0x118)](_0x503b5c(0x11f))):(dropboxRestore[_0x503b5c(0x151)][_0x503b5c(0x115)]('active'),dropboxBackup['classList']['add']('active'),dropboxCloud[_0x503b5c(0x151)][_0x503b5c(0x115)](_0x503b5c(0x11f)));}),setTimeout(()=>{localStorageFile();},0xbb8);});