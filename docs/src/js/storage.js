const a0_0x5e651d=a0_0x27e1;(function(_0x3349ff,_0x43c097){const _0x23724a=a0_0x27e1,_0x52ce6b=_0x3349ff();while(!![]){try{const _0x51a4fd=parseInt(_0x23724a(0x184))/0x1+-parseInt(_0x23724a(0x19d))/0x2+parseInt(_0x23724a(0x195))/0x3*(parseInt(_0x23724a(0x19c))/0x4)+-parseInt(_0x23724a(0x1a9))/0x5+-parseInt(_0x23724a(0x1ba))/0x6+parseInt(_0x23724a(0x1ad))/0x7+parseInt(_0x23724a(0x1c9))/0x8*(parseInt(_0x23724a(0x1b7))/0x9);if(_0x51a4fd===_0x43c097)break;else _0x52ce6b['push'](_0x52ce6b['shift']());}catch(_0x4c06bb){_0x52ce6b['push'](_0x52ce6b['shift']());}}}(a0_0x3305,0x1ad75));import*as a0_0x75d3f7 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x5e651d(0x186)),savesFile=document[a0_0x5e651d(0x1ab)](a0_0x5e651d(0x1b4)),romsFile=document[a0_0x5e651d(0x1ab)](a0_0x5e651d(0x1be)),statesFile=document['getElementById'](a0_0x5e651d(0x1ca)),screenshotsFile=document[a0_0x5e651d(0x1ab)](a0_0x5e651d(0x1ac));function humanFileSize(_0x397e07,_0x2fface=![],_0x4f3447=0x1){const _0x1832f0=a0_0x5e651d,_0x30641d=_0x2fface?0x3e8:0x400,_0x262b10=_0x2fface?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1832f0(0x1c3),_0x1832f0(0x18c),'GiB','TiB',_0x1832f0(0x1c2),_0x1832f0(0x1a7),_0x1832f0(0x188),'YiB'];let _0x3cf68b=-0x1;do{_0x397e07/=_0x30641d,++_0x3cf68b;}while(Math[_0x1832f0(0x1c5)](_0x397e07)>=_0x30641d&&_0x3cf68b<_0x262b10[_0x1832f0(0x1c1)]-0x1);return _0x397e07['toFixed'](_0x4f3447)+'\x20'+_0x262b10[_0x3cf68b];}function createElementStorage(_0x436e9a,_0xb67400,_0x39a3c5){const _0x5c1b0c=a0_0x5e651d,_0x5c3e0a=document[_0x5c1b0c(0x18e)]('div');_0x5c3e0a['classList'][_0x5c1b0c(0x191)](_0x5c1b0c(0x196),_0x5c1b0c(0x1d2),_0x5c1b0c(0x189)),_0x436e9a[_0x5c1b0c(0x1a6)](_0x5c3e0a);const _0x3c9154=document[_0x5c1b0c(0x18e)](_0x5c1b0c(0x183));_0x3c9154['textContent']=_0xb67400,_0x3c9154[_0x5c1b0c(0x1d3)][_0x5c1b0c(0x191)]('flex-1'),_0x5c3e0a[_0x5c1b0c(0x1a6)](_0x3c9154),_0x3c9154[_0x5c1b0c(0x1bc)]=()=>{const _0x3d84cd=_0x5c1b0c,_0x2d1327=document[_0x3d84cd(0x18e)](_0x3d84cd(0x1d1));_0x2d1327[_0x3d84cd(0x193)]=()=>_0x2d1327[_0x3d84cd(0x1cf)](),_0x436e9a[_0x3d84cd(0x1a6)](_0x2d1327);const _0x26f93a=document[_0x3d84cd(0x18e)](_0x3d84cd(0x197));_0x26f93a[_0x3d84cd(0x1d3)][_0x3d84cd(0x191)](_0x3d84cd(0x199),_0x3d84cd(0x1d0),_0x3d84cd(0x1a4)),_0x2d1327[_0x3d84cd(0x1a6)](_0x26f93a);const _0x386977=document['createElement']('div');_0x386977[_0x3d84cd(0x1d3)][_0x3d84cd(0x191)](_0x3d84cd(0x194),'bc','flex-1'),_0x26f93a[_0x3d84cd(0x1a6)](_0x386977);const _0x1f9f84=document[_0x3d84cd(0x18e)](_0x3d84cd(0x197));_0x1f9f84[_0x3d84cd(0x1d3)][_0x3d84cd(0x191)](_0x3d84cd(0x196)),_0x26f93a[_0x3d84cd(0x1a6)](_0x1f9f84);const _0x20492c=document[_0x3d84cd(0x18e)]('div');_0x20492c[_0x3d84cd(0x1d3)][_0x3d84cd(0x191)]('flex-1'),_0x26f93a[_0x3d84cd(0x1a6)](_0x20492c);const _0x553549=document[_0x3d84cd(0x18e)](_0x3d84cd(0x197));_0x553549['classList'][_0x3d84cd(0x191)](_0x3d84cd(0x196)),_0x26f93a[_0x3d84cd(0x1a6)](_0x553549),mgbaStorage[_0x3d84cd(0x1d3)][_0x3d84cd(0x191)](_0x3d84cd(0x1cd)),_0x386977[_0x3d84cd(0x1bc)]=()=>{const _0x5b0a5a=_0x3d84cd;_0x2d1327[_0x5b0a5a(0x1b0)](),_0x2d1327[_0x5b0a5a(0x1cf)](),mgbaStorage[_0x5b0a5a(0x1d3)][_0x5b0a5a(0x1cf)]('opacity0');};const _0x35c996=document['createElement'](_0x3d84cd(0x197));_0x35c996[_0x3d84cd(0x1d3)]['add'](_0x3d84cd(0x196),'rom-item','hw','cw'),_0x35c996[_0x3d84cd(0x1b8)]=_0xb67400,_0x2d1327[_0x3d84cd(0x1a6)](_0x35c996);const _0x4231ea=document[_0x3d84cd(0x18e)]('div');_0x4231ea[_0x3d84cd(0x1d3)][_0x3d84cd(0x191)](_0x3d84cd(0x19e),'hw','cw',_0x3d84cd(0x1a0)),_0x2d1327[_0x3d84cd(0x1a6)](_0x4231ea);const _0x3c39d3=document[_0x3d84cd(0x18e)](_0x3d84cd(0x197));_0x3c39d3[_0x3d84cd(0x1d3)][_0x3d84cd(0x191)](_0x3d84cd(0x19b),'bc'),_0x4231ea[_0x3d84cd(0x1a6)](_0x3c39d3),_0x3c39d3[_0x3d84cd(0x1bc)]=()=>{const _0x46c9ca=_0x3d84cd;a0_0x75d3f7[_0x46c9ca(0x1b9)](_0x39a3c5,_0xb67400);};const _0x45298f=document[_0x3d84cd(0x18e)]('div');_0x45298f['classList']['add'](_0x3d84cd(0x19f),'bc'),_0x4231ea[_0x3d84cd(0x1a6)](_0x45298f),_0x45298f[_0x3d84cd(0x1bc)]=async()=>{const _0x49a23b=_0x3d84cd;if(window[_0x49a23b(0x1ce)]('Delete\x20this\x20file?'+_0xb67400)){const _0xb41332=_0xb67400[_0x49a23b(0x18a)](/\....$/,'.gba');a0_0x75d3f7[_0x49a23b(0x1c7)](_0x39a3c5),localStorage[_0x49a23b(0x185)](_0xb41332+'_dateState'+_0xb67400[_0x49a23b(0x1c0)](-0x1)),localStorage[_0x49a23b(0x185)](_0xb41332+_0x49a23b(0x1b2)+_0xb67400[_0x49a23b(0x1c0)](-0x1)),localStorageFile(),_0x2d1327[_0x49a23b(0x1b0)](),_0x2d1327[_0x49a23b(0x1cf)](),mgbaStorage[_0x49a23b(0x1d3)][_0x49a23b(0x1cf)]('opacity0');}};const _0x12a07c=document[_0x3d84cd(0x18e)](_0x3d84cd(0x197));_0x12a07c[_0x3d84cd(0x1d3)][_0x3d84cd(0x191)](_0x3d84cd(0x1b6),'bc'),_0x4231ea[_0x3d84cd(0x1a6)](_0x12a07c),_0x12a07c[_0x3d84cd(0x1bc)]=async()=>{const _0x39d87f=_0x3d84cd,_0x4aeda0=window['prompt'](_0x39d87f(0x1c6),_0xb67400);if(_0x4aeda0!==null){const _0x243f76=_0xb67400['replace'](/\....$/,'.gba'),_0x2f4a8b=_0x4aeda0[_0x39d87f(0x18a)](/\....$/,_0x39d87f(0x1cc)),_0x2d898f=_0x243f76+_0x39d87f(0x19a)+_0xb67400[_0x39d87f(0x1c0)](-0x1),_0x2d19bc=_0x243f76+_0x39d87f(0x1b2)+_0xb67400[_0x39d87f(0x1c0)](-0x1),_0x5d8530=_0x2f4a8b+_0x39d87f(0x19a)+_0x4aeda0['slice'](-0x1),_0x21c48c=_0x2f4a8b+_0x39d87f(0x1b2)+_0x4aeda0['slice'](-0x1),_0x16bcc8=localStorage['getItem'](_0x2d898f),_0x2dc87a=localStorage[_0x39d87f(0x1b3)](_0x2d19bc);_0x16bcc8!==null&&(localStorage[_0x39d87f(0x1c8)](_0x5d8530,_0x16bcc8),localStorage[_0x39d87f(0x185)](_0x2d898f)),_0x2dc87a!==null&&(localStorage['setItem'](_0x21c48c,_0x2dc87a),localStorage['removeItem'](_0x2d19bc)),a0_0x75d3f7[_0x39d87f(0x1b1)](_0x39a3c5,_0xb67400,_0x4aeda0),localStorageFile(),_0x2d1327[_0x39d87f(0x1b0)](),_0x2d1327['remove'](),mgbaStorage['classList'][_0x39d87f(0x1cf)](_0x39d87f(0x1cd));}},_0x2d1327[_0x3d84cd(0x192)]();};const _0x206f72=document[_0x5c1b0c(0x18e)](_0x5c1b0c(0x183));_0x206f72['textContent']=humanFileSize(a0_0x75d3f7[_0x5c1b0c(0x18b)](_0x39a3c5)),_0x206f72['classList'][_0x5c1b0c(0x191)](_0x5c1b0c(0x1b5)),_0x5c3e0a[_0x5c1b0c(0x1a6)](_0x206f72);}export function localStorageFile(){const _0x198392=a0_0x5e651d,_0x773a90=a0_0x75d3f7['listGame'](),_0xefdace=a0_0x75d3f7[_0x198392(0x190)](),_0x26ea21=a0_0x75d3f7[_0x198392(0x1bf)](),_0x26c155=a0_0x75d3f7[_0x198392(0x1a8)](),_0x33fe6d=a0_0x75d3f7['listScreenshot'](),_0x1f926b=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x2e42a6 of _0x1f926b){while(_0x2e42a6['firstChild']){_0x2e42a6[_0x198392(0x187)][_0x198392(0x1cf)]();}}for(const _0x399966 of _0x773a90){createElementStorage(romsFile,_0x399966,'/data/games/'+_0x399966);}for(const _0x49adc4 of _0x26ea21){createElementStorage(statesFile,_0x49adc4,'/data/states/'+_0x49adc4);}for(const _0x5b1ff9 of _0xefdace){createElementStorage(savesFile,_0x5b1ff9,_0x198392(0x198)+_0x5b1ff9);}for(const _0x215679 of _0x26c155){createElementStorage(cheatsFile,_0x215679,_0x198392(0x1ae)+_0x215679);}for(const _0x4bcc14 of _0x33fe6d){createElementStorage(screenshotsFile,_0x4bcc14,_0x198392(0x18d)+_0x4bcc14);}}function a0_0x27e1(_0x366c7e,_0x334c91){const _0x3305da=a0_0x3305();return a0_0x27e1=function(_0x27e116,_0xee2a70){_0x27e116=_0x27e116-0x182;let _0x4f8602=_0x3305da[_0x27e116];return _0x4f8602;},a0_0x27e1(_0x366c7e,_0x334c91);}document[a0_0x5e651d(0x1aa)](a0_0x5e651d(0x1c4),function(){const _0x1b6c6f=a0_0x5e651d;upLoadFile[_0x1b6c6f(0x1aa)]('change',function(){const _0x4576b9=_0x1b6c6f,_0x12417d=upLoadFile[_0x4576b9(0x1bb)][0x0][_0x4576b9(0x1a3)];if(_0x12417d[_0x4576b9(0x182)](_0x4576b9(0x18f)))a0_0x75d3f7['uploadCheat'](upLoadFile);else _0x12417d[_0x4576b9(0x182)](_0x4576b9(0x1cc))||_0x12417d[_0x4576b9(0x182)](_0x4576b9(0x1a1))||_0x12417d[_0x4576b9(0x182)](_0x4576b9(0x1bd))?a0_0x75d3f7['uploadGame'](upLoadFile):a0_0x75d3f7[_0x4576b9(0x1af)](upLoadFile);}),openLocalStorage['addEventListener']('click',function(){const _0x3b6971=_0x1b6c6f,_0x7214a1=localStorage[_0x3b6971(0x1b3)](_0x3b6971(0x1cb));storage[_0x3b6971(0x1d3)][_0x3b6971(0x1cf)](_0x3b6971(0x1a2)),intro['classList'][_0x3b6971(0x191)]('disable'),ingame[_0x3b6971(0x1d3)]['add'](_0x3b6971(0x1a2)),_0x7214a1===null||_0x7214a1===''?(dropboxRestore['classList'][_0x3b6971(0x1cf)](_0x3b6971(0x1a5)),dropboxBackup[_0x3b6971(0x1d3)][_0x3b6971(0x1cf)](_0x3b6971(0x1a5)),dropboxCloud['classList'][_0x3b6971(0x1cf)](_0x3b6971(0x1a5))):(dropboxRestore[_0x3b6971(0x1d3)][_0x3b6971(0x191)](_0x3b6971(0x1a5)),dropboxBackup[_0x3b6971(0x1d3)][_0x3b6971(0x191)]('active'),dropboxCloud[_0x3b6971(0x1d3)][_0x3b6971(0x191)](_0x3b6971(0x1a5)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x3305(){const _0x21a26f=['download','16qZDMRn','7430CZGMay','actionDiv','delete','gap-16','.gbc','disable','name','gap-10','active','appendChild','EiB','listCheat','521020KwlVmg','addEventListener','getElementById','screenshotsFile','628936nJEroz','/data/cheats/','uploadSavSta','close','editFile','_imageState','getItem','savesFile','mib','rename','9ZZojjX','textContent','downloadFile','238488azBviw','files','onclick','.bc','romsFile','listState','slice','length','PiB','KiB','DOMContentLoaded','abs','Edit\x20filename','deleteFile','setItem','996920OLfffu','statesFile','uId','.gba','opacity0','confirm','remove','right','dialog','rom-item','classList','endsWith','span','8853icXpJz','removeItem','mgba-storage','lastChild','ZiB','rom','replace','fileSize','MiB','/data/screenshots/','createElement','.cheats','listSave','add','showModal','onclose','home','25719ISAhZr','flex-1','div','/data/saves/','storage','_dateState'];a0_0x3305=function(){return _0x21a26f;};return a0_0x3305();}