const a0_0x28b712=a0_0x5036;(function(_0x55d759,_0xc15b74){const _0x1bda47=a0_0x5036,_0x596620=_0x55d759();while(!![]){try{const _0x2b5458=parseInt(_0x1bda47(0x1ee))/0x1*(parseInt(_0x1bda47(0x1cd))/0x2)+parseInt(_0x1bda47(0x1d6))/0x3+-parseInt(_0x1bda47(0x1fa))/0x4+parseInt(_0x1bda47(0x1d7))/0x5*(-parseInt(_0x1bda47(0x205))/0x6)+parseInt(_0x1bda47(0x1ed))/0x7*(-parseInt(_0x1bda47(0x1ce))/0x8)+-parseInt(_0x1bda47(0x1d8))/0x9+-parseInt(_0x1bda47(0x202))/0xa*(-parseInt(_0x1bda47(0x1f3))/0xb);if(_0x2b5458===_0xc15b74)break;else _0x596620['push'](_0x596620['shift']());}catch(_0x30336b){_0x596620['push'](_0x596620['shift']());}}}(a0_0x5981,0x58428));function a0_0x5036(_0x59e9e8,_0x24bd8c){const _0x5981ad=a0_0x5981();return a0_0x5036=function(_0x5036ef,_0x505312){_0x5036ef=_0x5036ef-0x1c8;let _0x5b22b7=_0x5981ad[_0x5036ef];return _0x5b22b7;},a0_0x5036(_0x59e9e8,_0x24bd8c);}import*as a0_0x2c760e from'./main.js';const mgbaStorage=document[a0_0x28b712(0x20a)](a0_0x28b712(0x1ea)),savesFile=document[a0_0x28b712(0x20a)](a0_0x28b712(0x1f1)),romsFile=document[a0_0x28b712(0x20a)]('romsFile'),statesFile=document[a0_0x28b712(0x20a)](a0_0x28b712(0x1ca)),screenshotsFile=document[a0_0x28b712(0x20a)]('screenshotsFile');function humanFileSize(_0xc3d1dd,_0x3e05d8=![],_0x154219=0x1){const _0x4a2ebe=a0_0x28b712,_0x23e30e=_0x3e05d8?0x3e8:0x400,_0x74488a=_0x3e05d8?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4a2ebe(0x1f7),'MiB','GiB',_0x4a2ebe(0x1ec),_0x4a2ebe(0x1cb),'EiB','ZiB',_0x4a2ebe(0x1ef)];let _0x32316c=-0x1;do{_0xc3d1dd/=_0x23e30e,++_0x32316c;}while(Math[_0x4a2ebe(0x1e0)](_0xc3d1dd)>=_0x23e30e&&_0x32316c<_0x74488a['length']-0x1);return _0xc3d1dd['toFixed'](_0x154219)+'\x20'+_0x74488a[_0x32316c];}function a0_0x5981(){const _0xb0d38a=['textContent','14285018HihQbz','onclose','classList','div','KiB','fileSize','createElement','822600kSWmnO','rom','change','remove','listSave','showModal','/data/screenshots/','DOMContentLoaded','10FSywHO','downloadFile','rom-item','2181948xJuRmf','prompt','home','Delete\x20this\x20file?','setItem','getElementById','flex-1','slice','confirm','/data/saves/','statesFile','PiB','disable','774954PwtbPq','1264DjZhFe','uploadFile','.gba','appendChild','_imageState','firstChild','listCheat','getItem','732801RNeRhG','5FBDTtJ','3325122nTOFbS','actionDiv','_dateState','Edit\x20filename','removeItem','storage','/data/games/','replace','abs','listState','add','close','addEventListener','mib','click','onclick','opacity0','/data/cheats/','mgba-storage','active','TiB','27916SVOKRE','1WqotTI','YiB','uId','savesFile'];a0_0x5981=function(){return _0xb0d38a;};return a0_0x5981();}function createElementStorage(_0x1640a0,_0x4bf516,_0x11a59e){const _0x4c54d7=a0_0x28b712,_0x3fd08c=document['createElement'](_0x4c54d7(0x1f6));_0x3fd08c['classList'][_0x4c54d7(0x1e2)](_0x4c54d7(0x20b),_0x4c54d7(0x204),_0x4c54d7(0x1fb)),_0x1640a0[_0x4c54d7(0x1d1)](_0x3fd08c);const _0x297706=document['createElement']('span');_0x297706[_0x4c54d7(0x1f2)]=_0x4bf516,_0x297706[_0x4c54d7(0x1f5)][_0x4c54d7(0x1e2)](_0x4c54d7(0x20b)),_0x3fd08c['appendChild'](_0x297706),_0x297706[_0x4c54d7(0x1e7)]=()=>{const _0xb02941=_0x4c54d7,_0x51548f=document[_0xb02941(0x1f9)]('dialog');_0x51548f[_0xb02941(0x1f4)]=()=>_0x51548f[_0xb02941(0x1fd)](),_0x1640a0['appendChild'](_0x51548f);const _0x54f17c=document[_0xb02941(0x1f9)]('div');_0x54f17c['classList']['add'](_0xb02941(0x1dd),'right','gap-10'),_0x51548f['appendChild'](_0x54f17c);const _0x1548b9=document[_0xb02941(0x1f9)](_0xb02941(0x1f6));_0x1548b9[_0xb02941(0x1f5)][_0xb02941(0x1e2)](_0xb02941(0x207),'bc',_0xb02941(0x20b)),_0x54f17c[_0xb02941(0x1d1)](_0x1548b9);const _0x4dfe6b=document[_0xb02941(0x1f9)](_0xb02941(0x1f6));_0x4dfe6b[_0xb02941(0x1f5)][_0xb02941(0x1e2)](_0xb02941(0x20b)),_0x54f17c[_0xb02941(0x1d1)](_0x4dfe6b);const _0x502376=document[_0xb02941(0x1f9)](_0xb02941(0x1f6));_0x502376[_0xb02941(0x1f5)]['add']('flex-1'),_0x54f17c[_0xb02941(0x1d1)](_0x502376);const _0x129698=document[_0xb02941(0x1f9)](_0xb02941(0x1f6));_0x129698['classList'][_0xb02941(0x1e2)](_0xb02941(0x20b)),_0x54f17c[_0xb02941(0x1d1)](_0x129698),mgbaStorage['classList']['add'](_0xb02941(0x1e8)),_0x1548b9[_0xb02941(0x1e7)]=()=>{const _0x160667=_0xb02941;_0x51548f[_0x160667(0x1e3)](),_0x51548f[_0x160667(0x1fd)](),mgbaStorage[_0x160667(0x1f5)][_0x160667(0x1fd)](_0x160667(0x1e8));};const _0x4153c0=document[_0xb02941(0x1f9)](_0xb02941(0x1f6));_0x4153c0[_0xb02941(0x1f5)][_0xb02941(0x1e2)](_0xb02941(0x20b),'rom-item','hw','cw'),_0x4153c0['textContent']=_0x4bf516,_0x51548f[_0xb02941(0x1d1)](_0x4153c0);const _0x1bd30d=document[_0xb02941(0x1f9)](_0xb02941(0x1f6));_0x1bd30d['classList'][_0xb02941(0x1e2)](_0xb02941(0x1d9),'hw','cw','gap-16'),_0x51548f['appendChild'](_0x1bd30d);const _0x3cb383=document[_0xb02941(0x1f9)](_0xb02941(0x1f6));_0x3cb383[_0xb02941(0x1f5)]['add']('download','bc'),_0x1bd30d[_0xb02941(0x1d1)](_0x3cb383),_0x3cb383['onclick']=()=>{const _0x1fcb3f=_0xb02941;a0_0x2c760e[_0x1fcb3f(0x203)](_0x11a59e,_0x4bf516);};const _0xafd234=document[_0xb02941(0x1f9)](_0xb02941(0x1f6));_0xafd234[_0xb02941(0x1f5)][_0xb02941(0x1e2)]('delete','bc'),_0x1bd30d['appendChild'](_0xafd234),_0xafd234['onclick']=async()=>{const _0x35fba5=_0xb02941;if(window[_0x35fba5(0x1c8)](_0x35fba5(0x208)+_0x4bf516)){const _0x4a7a7e=_0x4bf516[_0x35fba5(0x1df)](/\....$/,_0x35fba5(0x1d0));a0_0x2c760e['deleteFile'](_0x11a59e),localStorage[_0x35fba5(0x1dc)](_0x4a7a7e+_0x35fba5(0x1da)+_0x4bf516[_0x35fba5(0x20c)](-0x1)),localStorage[_0x35fba5(0x1dc)](_0x4a7a7e+_0x35fba5(0x1d2)+_0x4bf516['slice'](-0x1)),localStorageFile(),_0x51548f[_0x35fba5(0x1e3)](),_0x51548f[_0x35fba5(0x1fd)](),mgbaStorage[_0x35fba5(0x1f5)]['remove'](_0x35fba5(0x1e8));}};const _0x13395e=document[_0xb02941(0x1f9)]('div');_0x13395e[_0xb02941(0x1f5)]['add']('rename','bc'),_0x1bd30d['appendChild'](_0x13395e),_0x13395e[_0xb02941(0x1e7)]=async()=>{const _0x44c3cc=_0xb02941,_0xe4d1a1=window[_0x44c3cc(0x206)](_0x44c3cc(0x1db),_0x4bf516);if(_0xe4d1a1!==null){const _0x28c696=_0x4bf516[_0x44c3cc(0x1df)](/\....$/,_0x44c3cc(0x1d0)),_0x37968d=_0xe4d1a1[_0x44c3cc(0x1df)](/\....$/,_0x44c3cc(0x1d0)),_0x271da1=_0x28c696+'_dateState'+_0x4bf516[_0x44c3cc(0x20c)](-0x1),_0x4cff31=_0x28c696+_0x44c3cc(0x1d2)+_0x4bf516[_0x44c3cc(0x20c)](-0x1),_0x4cff1c=_0x37968d+_0x44c3cc(0x1da)+_0xe4d1a1[_0x44c3cc(0x20c)](-0x1),_0x1a4d15=_0x37968d+'_imageState'+_0xe4d1a1[_0x44c3cc(0x20c)](-0x1),_0x3355be=localStorage[_0x44c3cc(0x1d5)](_0x271da1),_0x59a9b7=localStorage[_0x44c3cc(0x1d5)](_0x4cff31);_0x3355be!==null&&(localStorage[_0x44c3cc(0x209)](_0x4cff1c,_0x3355be),localStorage[_0x44c3cc(0x1dc)](_0x271da1)),_0x59a9b7!==null&&(localStorage['setItem'](_0x1a4d15,_0x59a9b7),localStorage[_0x44c3cc(0x1dc)](_0x4cff31)),a0_0x2c760e['editFile'](_0x11a59e,_0x4bf516,_0xe4d1a1),localStorageFile(),_0x51548f[_0x44c3cc(0x1e3)](),_0x51548f[_0x44c3cc(0x1fd)](),mgbaStorage['classList'][_0x44c3cc(0x1fd)](_0x44c3cc(0x1e8));}},_0x51548f[_0xb02941(0x1ff)]();};const _0x29239b=document[_0x4c54d7(0x1f9)]('span');_0x29239b[_0x4c54d7(0x1f2)]=humanFileSize(a0_0x2c760e[_0x4c54d7(0x1f8)](_0x11a59e)),_0x29239b[_0x4c54d7(0x1f5)][_0x4c54d7(0x1e2)](_0x4c54d7(0x1e5)),_0x3fd08c[_0x4c54d7(0x1d1)](_0x29239b);}export function localStorageFile(){const _0x4d9e1e=a0_0x28b712,_0x230e58=a0_0x2c760e['listGame'](),_0x4bc81c=a0_0x2c760e[_0x4d9e1e(0x1fe)](),_0x384578=a0_0x2c760e[_0x4d9e1e(0x1e1)](),_0x5be920=a0_0x2c760e[_0x4d9e1e(0x1d4)](),_0x26e643=a0_0x2c760e['listScreenshot'](),_0x17c906=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x34a75c of _0x17c906){while(_0x34a75c[_0x4d9e1e(0x1d3)]){_0x34a75c['lastChild'][_0x4d9e1e(0x1fd)]();}}for(const _0x477b9f of _0x230e58){createElementStorage(romsFile,_0x477b9f,_0x4d9e1e(0x1de)+_0x477b9f);}for(const _0x4327b5 of _0x384578){createElementStorage(statesFile,_0x4327b5,'/data/states/'+_0x4327b5);}for(const _0x2b3eed of _0x4bc81c){createElementStorage(savesFile,_0x2b3eed,_0x4d9e1e(0x1c9)+_0x2b3eed);}for(const _0x5e4651 of _0x5be920){createElementStorage(cheatsFile,_0x5e4651,_0x4d9e1e(0x1e9)+_0x5e4651);}for(const _0x18d7e7 of _0x26e643){createElementStorage(screenshotsFile,_0x18d7e7,_0x4d9e1e(0x200)+_0x18d7e7);}}document[a0_0x28b712(0x1e4)](a0_0x28b712(0x201),function(){const _0x59d3ec=a0_0x28b712;upLoadFile['addEventListener'](_0x59d3ec(0x1fc),function(){const _0x39fe7b=_0x59d3ec;a0_0x2c760e[_0x39fe7b(0x1cf)](upLoadFile);}),openLocalStorage[_0x59d3ec(0x1e4)](_0x59d3ec(0x1e6),function(){const _0x2c55b8=_0x59d3ec,_0x5f6792=localStorage[_0x2c55b8(0x1d5)](_0x2c55b8(0x1f0));storage[_0x2c55b8(0x1f5)][_0x2c55b8(0x1fd)](_0x2c55b8(0x1cc)),intro[_0x2c55b8(0x1f5)][_0x2c55b8(0x1e2)](_0x2c55b8(0x1cc)),ingame['classList'][_0x2c55b8(0x1e2)]('disable'),_0x5f6792===null||_0x5f6792===''?(dropboxRestore[_0x2c55b8(0x1f5)]['remove'](_0x2c55b8(0x1eb)),dropboxBackup[_0x2c55b8(0x1f5)][_0x2c55b8(0x1fd)]('active'),dropboxCloud[_0x2c55b8(0x1f5)]['remove'](_0x2c55b8(0x1eb))):(dropboxRestore[_0x2c55b8(0x1f5)][_0x2c55b8(0x1e2)]('active'),dropboxBackup[_0x2c55b8(0x1f5)][_0x2c55b8(0x1e2)](_0x2c55b8(0x1eb)),dropboxCloud[_0x2c55b8(0x1f5)][_0x2c55b8(0x1e2)](_0x2c55b8(0x1eb)));}),setTimeout(()=>{localStorageFile();},0xbb8);});