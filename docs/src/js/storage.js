const a0_0x3a5bab=a0_0x2447;(function(_0x4addb3,_0x116568){const _0x52998f=a0_0x2447,_0x780ca0=_0x4addb3();while(!![]){try{const _0x7bbade=-parseInt(_0x52998f(0xed))/0x1+-parseInt(_0x52998f(0xba))/0x2*(parseInt(_0x52998f(0xf2))/0x3)+-parseInt(_0x52998f(0xdc))/0x4*(parseInt(_0x52998f(0xd0))/0x5)+-parseInt(_0x52998f(0xc2))/0x6+-parseInt(_0x52998f(0xc1))/0x7*(-parseInt(_0x52998f(0xcc))/0x8)+-parseInt(_0x52998f(0xf4))/0x9+parseInt(_0x52998f(0x101))/0xa;if(_0x7bbade===_0x116568)break;else _0x780ca0['push'](_0x780ca0['shift']());}catch(_0x30fda7){_0x780ca0['push'](_0x780ca0['shift']());}}}(a0_0x2d1b,0xae8ce));import*as a0_0x2a60d5 from'./main.js';const mgbaStorage=document[a0_0x3a5bab(0xe7)](a0_0x3a5bab(0xe6)),savesFile=document['getElementById'](a0_0x3a5bab(0xee)),romsFile=document[a0_0x3a5bab(0xe7)](a0_0x3a5bab(0xfd)),statesFile=document[a0_0x3a5bab(0xe7)](a0_0x3a5bab(0xb8)),screenshotsFile=document[a0_0x3a5bab(0xe7)](a0_0x3a5bab(0xc7));function a0_0x2447(_0x1e643f,_0x5d3ffd){const _0x2d1bd6=a0_0x2d1b();return a0_0x2447=function(_0x244741,_0x202302){_0x244741=_0x244741-0xb7;let _0x35f6ff=_0x2d1bd6[_0x244741];return _0x35f6ff;},a0_0x2447(_0x1e643f,_0x5d3ffd);}function a0_0x2d1b(){const _0xe1b689=['cheats','KiB','EiB','DOMContentLoaded','home','dialog','Edit\x20filename','statesFile','showModal','206QREwAf','onclose','storage','rom-item','createElement','toFixed','add','9379671SejfdT','3572490QxtzWa','_dateState','remove','/data/games/','flex-1','screenshotsFile','span','mib','downloadFile','slice','8qXILcX','games','replace','div','360mOzLBm','delete','MiB','click','disable','saves','change','firstChild','close','opacity0','uploadFile','ZiB','29908AWNeUz','lastChild','.gba','textContent','onclick','appendChild','confirm','prompt','active','YiB','mgba-storage','getElementById','GiB','Delete\x20this\x20file?','addEventListener','/data/saves/','/data/cheats/','358339uhUCWv','savesFile','getItem','/data/screenshots/','fileSize','12705emrYMa','editFile','5338548zPPMmT','abs','PiB','classList','deleteFile','actionDiv','states','gap-16','listFiles','romsFile','_imageState','download','removeItem','18964800JLPaiz'];a0_0x2d1b=function(){return _0xe1b689;};return a0_0x2d1b();}function humanFileSize(_0x1aeb00,_0x1c0ad0=![],_0x235e0e=0x1){const _0x2c6eb0=a0_0x3a5bab,_0x5f3222=_0x1c0ad0?0x3e8:0x400,_0x596abb=_0x1c0ad0?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2c6eb0(0x103),_0x2c6eb0(0xd2),_0x2c6eb0(0xe8),'TiB',_0x2c6eb0(0xf6),_0x2c6eb0(0x104),_0x2c6eb0(0xdb),_0x2c6eb0(0xe5)];let _0x31df39=-0x1;do{_0x1aeb00/=_0x5f3222,++_0x31df39;}while(Math[_0x2c6eb0(0xf5)](_0x1aeb00)>=_0x5f3222&&_0x31df39<_0x596abb['length']-0x1);return _0x1aeb00[_0x2c6eb0(0xbf)](_0x235e0e)+'\x20'+_0x596abb[_0x31df39];}function createElementStorage(_0x4581fd,_0x3a4837,_0x124ee5){const _0x58bcdd=a0_0x3a5bab,_0x4bae79=document[_0x58bcdd(0xbe)](_0x58bcdd(0xcf));_0x4bae79[_0x58bcdd(0xf7)][_0x58bcdd(0xc0)]('flex-1',_0x58bcdd(0xbd),'rom'),_0x4581fd[_0x58bcdd(0xe1)](_0x4bae79);const _0x373dac=document[_0x58bcdd(0xbe)](_0x58bcdd(0xc8));_0x373dac[_0x58bcdd(0xdf)]=_0x3a4837,_0x373dac[_0x58bcdd(0xf7)][_0x58bcdd(0xc0)](_0x58bcdd(0xc6)),_0x4bae79[_0x58bcdd(0xe1)](_0x373dac),_0x373dac[_0x58bcdd(0xe0)]=()=>{const _0x1c106d=_0x58bcdd,_0x553cff=document[_0x1c106d(0xbe)](_0x1c106d(0x107));_0x553cff[_0x1c106d(0xbb)]=()=>_0x553cff[_0x1c106d(0xc4)](),_0x4581fd['appendChild'](_0x553cff);const _0x397b71=document['createElement'](_0x1c106d(0xcf));_0x397b71[_0x1c106d(0xf7)][_0x1c106d(0xc0)](_0x1c106d(0xbc),'right','gap-10'),_0x553cff[_0x1c106d(0xe1)](_0x397b71);const _0x31d86f=document[_0x1c106d(0xbe)](_0x1c106d(0xcf));_0x31d86f['classList'][_0x1c106d(0xc0)](_0x1c106d(0x106),'bc','flex-1'),_0x397b71['appendChild'](_0x31d86f);const _0x549e1b=document[_0x1c106d(0xbe)]('div');_0x549e1b[_0x1c106d(0xf7)][_0x1c106d(0xc0)]('flex-1'),_0x397b71[_0x1c106d(0xe1)](_0x549e1b);const _0x52000e=document['createElement'](_0x1c106d(0xcf));_0x52000e[_0x1c106d(0xf7)][_0x1c106d(0xc0)](_0x1c106d(0xc6)),_0x397b71[_0x1c106d(0xe1)](_0x52000e);const _0x482885=document[_0x1c106d(0xbe)]('div');_0x482885[_0x1c106d(0xf7)][_0x1c106d(0xc0)](_0x1c106d(0xc6)),_0x397b71['appendChild'](_0x482885),mgbaStorage['classList'][_0x1c106d(0xc0)](_0x1c106d(0xd9)),_0x31d86f[_0x1c106d(0xe0)]=()=>{const _0xfd23f5=_0x1c106d;_0x553cff[_0xfd23f5(0xd8)](),_0x553cff[_0xfd23f5(0xc4)](),mgbaStorage[_0xfd23f5(0xf7)][_0xfd23f5(0xc4)](_0xfd23f5(0xd9));};const _0x246b9e=document['createElement'](_0x1c106d(0xcf));_0x246b9e[_0x1c106d(0xf7)]['add']('flex-1',_0x1c106d(0xbd),'hw','cw'),_0x246b9e[_0x1c106d(0xdf)]=_0x3a4837,_0x553cff[_0x1c106d(0xe1)](_0x246b9e);const _0x522fa5=document[_0x1c106d(0xbe)]('div');_0x522fa5[_0x1c106d(0xf7)]['add'](_0x1c106d(0xf9),'hw','cw',_0x1c106d(0xfb)),_0x553cff[_0x1c106d(0xe1)](_0x522fa5);const _0x3fd86c=document['createElement'](_0x1c106d(0xcf));_0x3fd86c[_0x1c106d(0xf7)][_0x1c106d(0xc0)](_0x1c106d(0xff),'bc'),_0x522fa5[_0x1c106d(0xe1)](_0x3fd86c),_0x3fd86c[_0x1c106d(0xe0)]=()=>{const _0x12325a=_0x1c106d;a0_0x2a60d5[_0x12325a(0xca)](_0x124ee5,_0x3a4837);};const _0x5aefa1=document[_0x1c106d(0xbe)](_0x1c106d(0xcf));_0x5aefa1[_0x1c106d(0xf7)]['add'](_0x1c106d(0xd1),'bc'),_0x522fa5['appendChild'](_0x5aefa1),_0x5aefa1[_0x1c106d(0xe0)]=async()=>{const _0x252e3e=_0x1c106d;if(window[_0x252e3e(0xe2)](_0x252e3e(0xe9)+_0x3a4837)){const _0x289a13=_0x3a4837[_0x252e3e(0xce)](/\....$/,_0x252e3e(0xde));a0_0x2a60d5[_0x252e3e(0xf8)](_0x124ee5),localStorage[_0x252e3e(0x100)](_0x289a13+_0x252e3e(0xc3)+_0x3a4837[_0x252e3e(0xcb)](-0x1)),localStorage['removeItem'](_0x289a13+_0x252e3e(0xfe)+_0x3a4837[_0x252e3e(0xcb)](-0x1)),localStorageFile(),_0x553cff[_0x252e3e(0xd8)](),_0x553cff['remove'](),mgbaStorage['classList'][_0x252e3e(0xc4)]('opacity0');}};const _0xad152e=document[_0x1c106d(0xbe)]('div');_0xad152e[_0x1c106d(0xf7)][_0x1c106d(0xc0)]('rename','bc'),_0x522fa5[_0x1c106d(0xe1)](_0xad152e),_0xad152e[_0x1c106d(0xe0)]=async()=>{const _0x4736d8=_0x1c106d,_0x595c72=window[_0x4736d8(0xe3)](_0x4736d8(0xb7),_0x3a4837);_0x595c72!==null&&(a0_0x2a60d5[_0x4736d8(0xf3)](_0x124ee5,_0x3a4837,_0x595c72),localStorageFile(),_0x553cff['close'](),_0x553cff[_0x4736d8(0xc4)](),mgbaStorage[_0x4736d8(0xf7)]['remove']('opacity0'));},_0x553cff[_0x1c106d(0xb9)]();};const _0x2c75b1=document[_0x58bcdd(0xbe)](_0x58bcdd(0xc8));_0x2c75b1[_0x58bcdd(0xdf)]=humanFileSize(a0_0x2a60d5[_0x58bcdd(0xf1)](_0x124ee5)),_0x2c75b1[_0x58bcdd(0xf7)][_0x58bcdd(0xc0)](_0x58bcdd(0xc9)),_0x4bae79['appendChild'](_0x2c75b1);}export function localStorageFile(){const _0x3ae33b=a0_0x3a5bab,_0x13b131=a0_0x2a60d5[_0x3ae33b(0xfc)](_0x3ae33b(0xcd)),_0x2690e1=a0_0x2a60d5[_0x3ae33b(0xfc)](_0x3ae33b(0xd5)),_0x34731a=a0_0x2a60d5['listFiles'](_0x3ae33b(0xfa)),_0x5690db=a0_0x2a60d5[_0x3ae33b(0xfc)](_0x3ae33b(0x102)),_0x548080=a0_0x2a60d5[_0x3ae33b(0xfc)]('screenshots'),_0x2db975=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x1db847 of _0x2db975){while(_0x1db847[_0x3ae33b(0xd7)]){_0x1db847[_0x3ae33b(0xdd)][_0x3ae33b(0xc4)]();}}for(const _0x2982a3 of _0x13b131){createElementStorage(romsFile,_0x2982a3,_0x3ae33b(0xc5)+_0x2982a3);}for(const _0x535f22 of _0x34731a){createElementStorage(statesFile,_0x535f22,'/data/states/'+_0x535f22);}for(const _0x492082 of _0x2690e1){createElementStorage(savesFile,_0x492082,_0x3ae33b(0xeb)+_0x492082);}for(const _0x227e11 of _0x5690db){createElementStorage(cheatsFile,_0x227e11,_0x3ae33b(0xec)+_0x227e11);}for(const _0x14729c of _0x548080){createElementStorage(screenshotsFile,_0x14729c,_0x3ae33b(0xf0)+_0x14729c);}}document['addEventListener'](a0_0x3a5bab(0x105),function(){const _0x43bd75=a0_0x3a5bab;upLoadFile[_0x43bd75(0xea)](_0x43bd75(0xd6),function(){const _0x3504a7=_0x43bd75;a0_0x2a60d5[_0x3504a7(0xda)](upLoadFile);}),openLocalStorage[_0x43bd75(0xea)](_0x43bd75(0xd3),function(){const _0x33540c=_0x43bd75,_0x790995=localStorage[_0x33540c(0xef)]('uId');storage[_0x33540c(0xf7)][_0x33540c(0xc4)](_0x33540c(0xd4)),intro['classList']['add'](_0x33540c(0xd4)),ingame[_0x33540c(0xf7)][_0x33540c(0xc0)]('disable'),_0x790995===null||_0x790995===''?(dropboxRestore[_0x33540c(0xf7)][_0x33540c(0xc4)](_0x33540c(0xe4)),dropboxBackup[_0x33540c(0xf7)][_0x33540c(0xc4)](_0x33540c(0xe4)),dropboxCloud[_0x33540c(0xf7)][_0x33540c(0xc4)](_0x33540c(0xe4))):(dropboxRestore[_0x33540c(0xf7)][_0x33540c(0xc0)]('active'),dropboxBackup[_0x33540c(0xf7)][_0x33540c(0xc0)](_0x33540c(0xe4)),dropboxCloud[_0x33540c(0xf7)]['add'](_0x33540c(0xe4)));}),setTimeout(()=>{localStorageFile();},0xbb8);});