const a0_0x54ae2a=a0_0x1301;(function(_0x35ba7c,_0x57b69b){const _0x5163f2=a0_0x1301,_0x2f586e=_0x35ba7c();while(!![]){try{const _0x4ffb32=parseInt(_0x5163f2(0x1e4))/0x1*(parseInt(_0x5163f2(0x206))/0x2)+parseInt(_0x5163f2(0x226))/0x3+-parseInt(_0x5163f2(0x1f6))/0x4+parseInt(_0x5163f2(0x219))/0x5+-parseInt(_0x5163f2(0x236))/0x6+parseInt(_0x5163f2(0x1f4))/0x7+-parseInt(_0x5163f2(0x214))/0x8*(parseInt(_0x5163f2(0x1fa))/0x9);if(_0x4ffb32===_0x57b69b)break;else _0x2f586e['push'](_0x2f586e['shift']());}catch(_0x1b6572){_0x2f586e['push'](_0x2f586e['shift']());}}}(a0_0x4524,0x7b76c));import*as a0_0x41eb7c from'./main.js';function a0_0x1301(_0x21a101,_0x3cdb6e){const _0x45240d=a0_0x4524();return a0_0x1301=function(_0x13019b,_0xbfadf2){_0x13019b=_0x13019b-0x1e2;let _0x209e6e=_0x45240d[_0x13019b];return _0x209e6e;},a0_0x1301(_0x21a101,_0x3cdb6e);}const mgbaStorage=document[a0_0x54ae2a(0x1ed)](a0_0x54ae2a(0x20c)),savesFile=document[a0_0x54ae2a(0x1ed)](a0_0x54ae2a(0x224)),romsFile=document['getElementById'](a0_0x54ae2a(0x20a)),statesFile=document[a0_0x54ae2a(0x1ed)](a0_0x54ae2a(0x1f1)),screenshotsFile=document['getElementById'](a0_0x54ae2a(0x1fd));function humanFileSize(_0x5850a4,_0x3cc036=![],_0x1b2c95=0x1){const _0x2f2c56=a0_0x54ae2a,_0x38345=_0x3cc036?0x3e8:0x400,_0x8ea825=_0x3cc036?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2f2c56(0x21e),_0x2f2c56(0x215),_0x2f2c56(0x204),_0x2f2c56(0x205),_0x2f2c56(0x20b),_0x2f2c56(0x1f2),_0x2f2c56(0x20d),_0x2f2c56(0x1f5)];let _0x322d87=-0x1;do{_0x5850a4/=_0x38345,++_0x322d87;}while(Math[_0x2f2c56(0x1ec)](_0x5850a4)>=_0x38345&&_0x322d87<_0x8ea825['length']-0x1);return _0x5850a4['toFixed'](_0x1b2c95)+'\x20'+_0x8ea825[_0x322d87];}function a0_0x4524(){const _0x27189f=['rename','9553329klrevT','active','home','screenshotsFile','opacity0','click','textContent','editFile','lastChild','setItem','GiB','TiB','258FSMzZx','gap-16','createElement','_dateState','romsFile','PiB','mgba-storage','ZiB','_imageState','change','rom','mib','endsWith','right','8dkOVnZ','MiB','span','classList','.gbc','4370985uAwldL','Edit\x20filename','listCheat','uploadGame','/data/games/','KiB','removeItem','remove','confirm','DOMContentLoaded','prompt','savesFile','/data/states/','2901303mBwynm','actionDiv','listSave','firstChild','close','.cheats','/data/screenshots/','name','uId','div','downloadFile','getItem','flex-1','uploadCheat','addEventListener','Delete\x20this\x20file?','5054370wVIuYo','disable','files','rom-item','6807pwHHvK','.bc','.gba','/data/cheats/','delete','onclose','storage','appendChild','abs','getElementById','replace','/data/saves/','add','statesFile','EiB','slice','2292934qflKXa','YiB','2549516oaFgIF','gap-10','onclick'];a0_0x4524=function(){return _0x27189f;};return a0_0x4524();}function createElementStorage(_0x2778a2,_0x399c62,_0x29ebda){const _0x3de363=a0_0x54ae2a,_0x42b50f=document[_0x3de363(0x208)]('div');_0x42b50f[_0x3de363(0x217)][_0x3de363(0x1f0)](_0x3de363(0x232),_0x3de363(0x1e3),_0x3de363(0x210)),_0x2778a2['appendChild'](_0x42b50f);const _0x53afb0=document[_0x3de363(0x208)]('span');_0x53afb0['textContent']=_0x399c62,_0x53afb0[_0x3de363(0x217)][_0x3de363(0x1f0)](_0x3de363(0x232)),_0x42b50f['appendChild'](_0x53afb0),_0x53afb0[_0x3de363(0x1f8)]=()=>{const _0x53035e=_0x3de363,_0x13d229=document[_0x53035e(0x208)]('dialog');_0x13d229[_0x53035e(0x1e9)]=()=>_0x13d229[_0x53035e(0x220)](),_0x2778a2[_0x53035e(0x1eb)](_0x13d229);const _0x2b97b1=document[_0x53035e(0x208)](_0x53035e(0x22f));_0x2b97b1[_0x53035e(0x217)][_0x53035e(0x1f0)](_0x53035e(0x1ea),_0x53035e(0x213),_0x53035e(0x1f7)),_0x13d229[_0x53035e(0x1eb)](_0x2b97b1);const _0x5ceab9=document[_0x53035e(0x208)](_0x53035e(0x22f));_0x5ceab9[_0x53035e(0x217)][_0x53035e(0x1f0)](_0x53035e(0x1fc),'bc',_0x53035e(0x232)),_0x2b97b1['appendChild'](_0x5ceab9);const _0x2749d8=document['createElement'](_0x53035e(0x22f));_0x2749d8[_0x53035e(0x217)]['add'](_0x53035e(0x232)),_0x2b97b1['appendChild'](_0x2749d8);const _0xe2a3f0=document[_0x53035e(0x208)](_0x53035e(0x22f));_0xe2a3f0[_0x53035e(0x217)][_0x53035e(0x1f0)](_0x53035e(0x232)),_0x2b97b1['appendChild'](_0xe2a3f0);const _0xaf6193=document['createElement'](_0x53035e(0x22f));_0xaf6193[_0x53035e(0x217)]['add']('flex-1'),_0x2b97b1[_0x53035e(0x1eb)](_0xaf6193),mgbaStorage[_0x53035e(0x217)][_0x53035e(0x1f0)](_0x53035e(0x1fe)),_0x5ceab9['onclick']=()=>{const _0x46a4a5=_0x53035e;_0x13d229[_0x46a4a5(0x22a)](),_0x13d229[_0x46a4a5(0x220)](),mgbaStorage[_0x46a4a5(0x217)][_0x46a4a5(0x220)](_0x46a4a5(0x1fe));};const _0x4b2ce3=document['createElement']('div');_0x4b2ce3[_0x53035e(0x217)]['add']('flex-1',_0x53035e(0x1e3),'hw','cw'),_0x4b2ce3[_0x53035e(0x200)]=_0x399c62,_0x13d229['appendChild'](_0x4b2ce3);const _0x1bcb4a=document['createElement']('div');_0x1bcb4a[_0x53035e(0x217)]['add'](_0x53035e(0x227),'hw','cw',_0x53035e(0x207)),_0x13d229[_0x53035e(0x1eb)](_0x1bcb4a);const _0x46f389=document['createElement'](_0x53035e(0x22f));_0x46f389[_0x53035e(0x217)][_0x53035e(0x1f0)]('download','bc'),_0x1bcb4a[_0x53035e(0x1eb)](_0x46f389),_0x46f389[_0x53035e(0x1f8)]=()=>{const _0x40854c=_0x53035e;a0_0x41eb7c[_0x40854c(0x230)](_0x29ebda,_0x399c62);};const _0x798685=document['createElement'](_0x53035e(0x22f));_0x798685['classList'][_0x53035e(0x1f0)](_0x53035e(0x1e8),'bc'),_0x1bcb4a[_0x53035e(0x1eb)](_0x798685),_0x798685[_0x53035e(0x1f8)]=async()=>{const _0x56ecb5=_0x53035e;if(window[_0x56ecb5(0x221)](_0x56ecb5(0x235)+_0x399c62)){const _0x32d47e=_0x399c62[_0x56ecb5(0x1ee)](/\....$/,_0x56ecb5(0x1e6));a0_0x41eb7c['deleteFile'](_0x29ebda),localStorage[_0x56ecb5(0x21f)](_0x32d47e+_0x56ecb5(0x209)+_0x399c62[_0x56ecb5(0x1f3)](-0x1)),localStorage[_0x56ecb5(0x21f)](_0x32d47e+_0x56ecb5(0x20e)+_0x399c62['slice'](-0x1)),localStorageFile(),_0x13d229[_0x56ecb5(0x22a)](),_0x13d229[_0x56ecb5(0x220)](),mgbaStorage[_0x56ecb5(0x217)]['remove'](_0x56ecb5(0x1fe));}};const _0x5343f2=document[_0x53035e(0x208)](_0x53035e(0x22f));_0x5343f2[_0x53035e(0x217)]['add'](_0x53035e(0x1f9),'bc'),_0x1bcb4a[_0x53035e(0x1eb)](_0x5343f2),_0x5343f2[_0x53035e(0x1f8)]=async()=>{const _0x6fe080=_0x53035e,_0x20a0da=window[_0x6fe080(0x223)](_0x6fe080(0x21a),_0x399c62);if(_0x20a0da!==null){const _0x182351=_0x399c62['replace'](/\....$/,_0x6fe080(0x1e6)),_0x33b411=_0x20a0da['replace'](/\....$/,_0x6fe080(0x1e6)),_0x31a0b6=_0x182351+'_dateState'+_0x399c62[_0x6fe080(0x1f3)](-0x1),_0x429ba8=_0x182351+_0x6fe080(0x20e)+_0x399c62['slice'](-0x1),_0x46aa9c=_0x33b411+_0x6fe080(0x209)+_0x20a0da['slice'](-0x1),_0x337ff0=_0x33b411+'_imageState'+_0x20a0da[_0x6fe080(0x1f3)](-0x1),_0x4ae20d=localStorage[_0x6fe080(0x231)](_0x31a0b6),_0x36fba3=localStorage[_0x6fe080(0x231)](_0x429ba8);_0x4ae20d!==null&&(localStorage[_0x6fe080(0x203)](_0x46aa9c,_0x4ae20d),localStorage[_0x6fe080(0x21f)](_0x31a0b6)),_0x36fba3!==null&&(localStorage[_0x6fe080(0x203)](_0x337ff0,_0x36fba3),localStorage['removeItem'](_0x429ba8)),a0_0x41eb7c[_0x6fe080(0x201)](_0x29ebda,_0x399c62,_0x20a0da),localStorageFile(),_0x13d229['close'](),_0x13d229['remove'](),mgbaStorage[_0x6fe080(0x217)][_0x6fe080(0x220)]('opacity0');}},_0x13d229['showModal']();};const _0x159c12=document[_0x3de363(0x208)](_0x3de363(0x216));_0x159c12[_0x3de363(0x200)]=humanFileSize(a0_0x41eb7c['fileSize'](_0x29ebda)),_0x159c12['classList'][_0x3de363(0x1f0)](_0x3de363(0x211)),_0x42b50f[_0x3de363(0x1eb)](_0x159c12);}export function localStorageFile(){const _0x5ea353=a0_0x54ae2a,_0x8b7584=a0_0x41eb7c['listGame'](),_0x3e02c1=a0_0x41eb7c[_0x5ea353(0x228)](),_0xe719e5=a0_0x41eb7c['listState'](),_0x35d258=a0_0x41eb7c[_0x5ea353(0x21b)](),_0x37721f=a0_0x41eb7c['listScreenshot'](),_0x37017c=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4793fa of _0x37017c){while(_0x4793fa[_0x5ea353(0x229)]){_0x4793fa[_0x5ea353(0x202)]['remove']();}}for(const _0x3d1c66 of _0x8b7584){createElementStorage(romsFile,_0x3d1c66,_0x5ea353(0x21d)+_0x3d1c66);}for(const _0x41aab0 of _0xe719e5){createElementStorage(statesFile,_0x41aab0,_0x5ea353(0x225)+_0x41aab0);}for(const _0x4ccdae of _0x3e02c1){createElementStorage(savesFile,_0x4ccdae,_0x5ea353(0x1ef)+_0x4ccdae);}for(const _0x8e66a7 of _0x35d258){createElementStorage(cheatsFile,_0x8e66a7,_0x5ea353(0x1e7)+_0x8e66a7);}for(const _0x2215a8 of _0x37721f){createElementStorage(screenshotsFile,_0x2215a8,_0x5ea353(0x22c)+_0x2215a8);}}document[a0_0x54ae2a(0x234)](a0_0x54ae2a(0x222),function(){const _0x43f04d=a0_0x54ae2a;upLoadFile[_0x43f04d(0x234)](_0x43f04d(0x20f),function(){const _0x1a5733=_0x43f04d,_0x48d8a3=upLoadFile[_0x1a5733(0x1e2)][0x0][_0x1a5733(0x22d)];if(_0x48d8a3[_0x1a5733(0x212)](_0x1a5733(0x22b)))a0_0x41eb7c[_0x1a5733(0x233)](upLoadFile);else _0x48d8a3['endsWith'](_0x1a5733(0x1e6))||_0x48d8a3[_0x1a5733(0x212)](_0x1a5733(0x218))||_0x48d8a3[_0x1a5733(0x212)](_0x1a5733(0x1e5))?a0_0x41eb7c[_0x1a5733(0x21c)](upLoadFile):a0_0x41eb7c['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x43f04d(0x234)](_0x43f04d(0x1ff),function(){const _0x31af94=_0x43f04d,_0x23c5a4=localStorage[_0x31af94(0x231)](_0x31af94(0x22e));storage[_0x31af94(0x217)][_0x31af94(0x220)](_0x31af94(0x237)),intro[_0x31af94(0x217)]['add']('disable'),ingame[_0x31af94(0x217)][_0x31af94(0x1f0)](_0x31af94(0x237)),_0x23c5a4===null||_0x23c5a4===''?(dropboxRestore['classList']['remove']('active'),dropboxBackup[_0x31af94(0x217)]['remove'](_0x31af94(0x1fb)),dropboxCloud['classList'][_0x31af94(0x220)]('active')):(dropboxRestore[_0x31af94(0x217)][_0x31af94(0x1f0)](_0x31af94(0x1fb)),dropboxBackup[_0x31af94(0x217)]['add'](_0x31af94(0x1fb)),dropboxCloud['classList'][_0x31af94(0x1f0)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});