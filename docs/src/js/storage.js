const a0_0x17c24c=a0_0x2a33;function a0_0x2a33(_0x3223f4,_0x4585e6){const _0x2841f9=a0_0x2841();return a0_0x2a33=function(_0x2a3336,_0x476835){_0x2a3336=_0x2a3336-0xf4;let _0xd06e38=_0x2841f9[_0x2a3336];return _0xd06e38;},a0_0x2a33(_0x3223f4,_0x4585e6);}(function(_0x4b1c73,_0x592803){const _0x28fbde=a0_0x2a33,_0x4caa1a=_0x4b1c73();while(!![]){try{const _0xb69c55=-parseInt(_0x28fbde(0x13d))/0x1*(parseInt(_0x28fbde(0x10a))/0x2)+parseInt(_0x28fbde(0xfe))/0x3*(parseInt(_0x28fbde(0x114))/0x4)+parseInt(_0x28fbde(0x117))/0x5+parseInt(_0x28fbde(0x12e))/0x6*(parseInt(_0x28fbde(0xf5))/0x7)+parseInt(_0x28fbde(0x122))/0x8+parseInt(_0x28fbde(0xf4))/0x9*(parseInt(_0x28fbde(0x11f))/0xa)+-parseInt(_0x28fbde(0x120))/0xb;if(_0xb69c55===_0x592803)break;else _0x4caa1a['push'](_0x4caa1a['shift']());}catch(_0x426976){_0x4caa1a['push'](_0x4caa1a['shift']());}}}(a0_0x2841,0x5af89));import*as a0_0x13cb5e from'./main.js';function a0_0x2841(){const _0x1c5c44=['addEventListener','actionDiv','listScreenshot','gap-16','listState','flex-1','10ZDOOsO','rom-item','savesFile','YiB','div','listSave','uploadSavSta','download','uId','listCheat','4xiQcfa','downloadFile','removeItem','315755aJiGHZ','TiB','textContent','active','remove','right','span','dialog','7590lWvZuB','7213888ALwcso','rom','157504kIvqHn','abs','MiB','name','fileSize','Delete\x20this\x20file?','length','delete','storage','toFixed','showModal','createElement','30ENBZPF','setItem','.bc','home','_imageState','.gbc','firstChild','add','slice','replace','getItem','opacity0','/data/states/','ZiB','change','125743QwhghQ','DOMContentLoaded','editFile','getElementById','classList','appendChild','onclick','5121OLQDPw','1026319Fmfgdn','/data/games/','PiB','disable','gap-10','Edit\x20filename','romsFile','endsWith','_dateState','1228035sFBBMF','.gba','/data/screenshots/','uploadCheat','close','listGame'];a0_0x2841=function(){return _0x1c5c44;};return a0_0x2841();}const mgbaStorage=document[a0_0x17c24c(0x140)]('mgba-storage'),savesFile=document['getElementById'](a0_0x17c24c(0x10c)),romsFile=document['getElementById'](a0_0x17c24c(0xfb)),statesFile=document[a0_0x17c24c(0x140)]('statesFile'),screenshotsFile=document[a0_0x17c24c(0x140)]('screenshotsFile');function humanFileSize(_0x4ab054,_0x2e010d=![],_0x5d32ed=0x1){const _0x545f7b=a0_0x17c24c,_0x13b2cd=_0x2e010d?0x3e8:0x400,_0x220d7e=_0x2e010d?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x545f7b(0x124),'GiB',_0x545f7b(0x118),_0x545f7b(0xf7),'EiB',_0x545f7b(0x13b),_0x545f7b(0x10d)];let _0x2a12b1=-0x1;do{_0x4ab054/=_0x13b2cd,++_0x2a12b1;}while(Math[_0x545f7b(0x123)](_0x4ab054)>=_0x13b2cd&&_0x2a12b1<_0x220d7e[_0x545f7b(0x128)]-0x1);return _0x4ab054[_0x545f7b(0x12b)](_0x5d32ed)+'\x20'+_0x220d7e[_0x2a12b1];}function createElementStorage(_0xc15f2d,_0x5c490c,_0x3c9ff9){const _0x45984f=a0_0x17c24c,_0x487528=document[_0x45984f(0x12d)](_0x45984f(0x10e));_0x487528[_0x45984f(0x141)][_0x45984f(0x135)](_0x45984f(0x109),_0x45984f(0x10b),_0x45984f(0x121)),_0xc15f2d[_0x45984f(0x142)](_0x487528);const _0x5e5365=document[_0x45984f(0x12d)]('span');_0x5e5365[_0x45984f(0x119)]=_0x5c490c,_0x5e5365[_0x45984f(0x141)]['add'](_0x45984f(0x109)),_0x487528[_0x45984f(0x142)](_0x5e5365),_0x5e5365[_0x45984f(0x143)]=()=>{const _0x1c29d6=_0x45984f,_0x2ead09=document[_0x1c29d6(0x12d)](_0x1c29d6(0x11e));_0x2ead09['onclose']=()=>_0x2ead09[_0x1c29d6(0x11b)](),_0xc15f2d[_0x1c29d6(0x142)](_0x2ead09);const _0x4b18c0=document[_0x1c29d6(0x12d)](_0x1c29d6(0x10e));_0x4b18c0[_0x1c29d6(0x141)][_0x1c29d6(0x135)](_0x1c29d6(0x12a),_0x1c29d6(0x11c),_0x1c29d6(0xf9)),_0x2ead09[_0x1c29d6(0x142)](_0x4b18c0);const _0x1958bf=document[_0x1c29d6(0x12d)](_0x1c29d6(0x10e));_0x1958bf[_0x1c29d6(0x141)]['add'](_0x1c29d6(0x131),'bc',_0x1c29d6(0x109)),_0x4b18c0[_0x1c29d6(0x142)](_0x1958bf);const _0x2bc4e4=document['createElement'](_0x1c29d6(0x10e));_0x2bc4e4[_0x1c29d6(0x141)][_0x1c29d6(0x135)]('flex-1'),_0x4b18c0[_0x1c29d6(0x142)](_0x2bc4e4);const _0x5285e8=document[_0x1c29d6(0x12d)](_0x1c29d6(0x10e));_0x5285e8[_0x1c29d6(0x141)][_0x1c29d6(0x135)]('flex-1'),_0x4b18c0[_0x1c29d6(0x142)](_0x5285e8);const _0x243908=document[_0x1c29d6(0x12d)](_0x1c29d6(0x10e));_0x243908[_0x1c29d6(0x141)][_0x1c29d6(0x135)](_0x1c29d6(0x109)),_0x4b18c0[_0x1c29d6(0x142)](_0x243908),mgbaStorage['classList']['add'](_0x1c29d6(0x139)),_0x1958bf['onclick']=()=>{const _0x134671=_0x1c29d6;_0x2ead09['close'](),_0x2ead09[_0x134671(0x11b)](),mgbaStorage[_0x134671(0x141)]['remove'](_0x134671(0x139));};const _0x321610=document[_0x1c29d6(0x12d)](_0x1c29d6(0x10e));_0x321610[_0x1c29d6(0x141)][_0x1c29d6(0x135)]('flex-1',_0x1c29d6(0x10b),'hw','cw'),_0x321610[_0x1c29d6(0x119)]=_0x5c490c,_0x2ead09[_0x1c29d6(0x142)](_0x321610);const _0x1bfc3e=document[_0x1c29d6(0x12d)](_0x1c29d6(0x10e));_0x1bfc3e['classList']['add'](_0x1c29d6(0x105),'hw','cw',_0x1c29d6(0x107)),_0x2ead09[_0x1c29d6(0x142)](_0x1bfc3e);const _0x475f5a=document['createElement'](_0x1c29d6(0x10e));_0x475f5a[_0x1c29d6(0x141)][_0x1c29d6(0x135)](_0x1c29d6(0x111),'bc'),_0x1bfc3e['appendChild'](_0x475f5a),_0x475f5a[_0x1c29d6(0x143)]=()=>{const _0x266faa=_0x1c29d6;a0_0x13cb5e[_0x266faa(0x115)](_0x3c9ff9,_0x5c490c);};const _0x9aa8ec=document[_0x1c29d6(0x12d)]('div');_0x9aa8ec[_0x1c29d6(0x141)][_0x1c29d6(0x135)](_0x1c29d6(0x129),'bc'),_0x1bfc3e[_0x1c29d6(0x142)](_0x9aa8ec),_0x9aa8ec[_0x1c29d6(0x143)]=async()=>{const _0x60830d=_0x1c29d6;if(window['confirm'](_0x60830d(0x127)+_0x5c490c)){const _0xbd94c2=_0x5c490c['replace'](/\....$/,'.gba');a0_0x13cb5e['deleteFile'](_0x3c9ff9),localStorage[_0x60830d(0x116)](_0xbd94c2+_0x60830d(0xfd)+_0x5c490c[_0x60830d(0x136)](-0x1)),localStorage['removeItem'](_0xbd94c2+_0x60830d(0x132)+_0x5c490c[_0x60830d(0x136)](-0x1)),localStorageFile(),_0x2ead09[_0x60830d(0x102)](),_0x2ead09[_0x60830d(0x11b)](),mgbaStorage[_0x60830d(0x141)][_0x60830d(0x11b)](_0x60830d(0x139));}};const _0x21054e=document[_0x1c29d6(0x12d)]('div');_0x21054e[_0x1c29d6(0x141)][_0x1c29d6(0x135)]('rename','bc'),_0x1bfc3e[_0x1c29d6(0x142)](_0x21054e),_0x21054e['onclick']=async()=>{const _0x46d10d=_0x1c29d6,_0x20544a=window['prompt'](_0x46d10d(0xfa),_0x5c490c);if(_0x20544a!==null){const _0x1b307f=_0x5c490c[_0x46d10d(0x137)](/\....$/,_0x46d10d(0xff)),_0x141282=_0x20544a[_0x46d10d(0x137)](/\....$/,_0x46d10d(0xff)),_0x5216f2=_0x1b307f+_0x46d10d(0xfd)+_0x5c490c[_0x46d10d(0x136)](-0x1),_0x6078d3=_0x1b307f+'_imageState'+_0x5c490c[_0x46d10d(0x136)](-0x1),_0x4ee779=_0x141282+_0x46d10d(0xfd)+_0x20544a[_0x46d10d(0x136)](-0x1),_0x132107=_0x141282+_0x46d10d(0x132)+_0x20544a[_0x46d10d(0x136)](-0x1),_0x23ca2f=localStorage[_0x46d10d(0x138)](_0x5216f2),_0x1ef989=localStorage[_0x46d10d(0x138)](_0x6078d3);_0x23ca2f!==null&&(localStorage[_0x46d10d(0x12f)](_0x4ee779,_0x23ca2f),localStorage[_0x46d10d(0x116)](_0x5216f2)),_0x1ef989!==null&&(localStorage[_0x46d10d(0x12f)](_0x132107,_0x1ef989),localStorage[_0x46d10d(0x116)](_0x6078d3)),a0_0x13cb5e[_0x46d10d(0x13f)](_0x3c9ff9,_0x5c490c,_0x20544a),localStorageFile(),_0x2ead09[_0x46d10d(0x102)](),_0x2ead09[_0x46d10d(0x11b)](),mgbaStorage[_0x46d10d(0x141)][_0x46d10d(0x11b)](_0x46d10d(0x139));}},_0x2ead09[_0x1c29d6(0x12c)]();};const _0xb33111=document['createElement'](_0x45984f(0x11d));_0xb33111['textContent']=humanFileSize(a0_0x13cb5e[_0x45984f(0x126)](_0x3c9ff9)),_0xb33111['classList']['add']('mib'),_0x487528[_0x45984f(0x142)](_0xb33111);}export function localStorageFile(){const _0x4d63b2=a0_0x17c24c,_0x5af98f=a0_0x13cb5e[_0x4d63b2(0x103)](),_0x1e3db2=a0_0x13cb5e[_0x4d63b2(0x10f)](),_0x14d424=a0_0x13cb5e[_0x4d63b2(0x108)](),_0x37860c=a0_0x13cb5e[_0x4d63b2(0x113)](),_0x14bec2=a0_0x13cb5e[_0x4d63b2(0x106)](),_0x4e7d6e=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x49e51e of _0x4e7d6e){while(_0x49e51e[_0x4d63b2(0x134)]){_0x49e51e['lastChild'][_0x4d63b2(0x11b)]();}}for(const _0x19e61e of _0x5af98f){createElementStorage(romsFile,_0x19e61e,_0x4d63b2(0xf6)+_0x19e61e);}for(const _0x35d491 of _0x14d424){createElementStorage(statesFile,_0x35d491,_0x4d63b2(0x13a)+_0x35d491);}for(const _0x49e26c of _0x1e3db2){createElementStorage(savesFile,_0x49e26c,'/data/saves/'+_0x49e26c);}for(const _0x4d23d9 of _0x37860c){createElementStorage(cheatsFile,_0x4d23d9,'/data/cheats/'+_0x4d23d9);}for(const _0x59a382 of _0x14bec2){createElementStorage(screenshotsFile,_0x59a382,_0x4d63b2(0x100)+_0x59a382);}}document[a0_0x17c24c(0x104)](a0_0x17c24c(0x13e),function(){const _0x2487d4=a0_0x17c24c;upLoadFile['addEventListener'](_0x2487d4(0x13c),function(){const _0x193d47=_0x2487d4,_0x3e358b=upLoadFile['files'][0x0][_0x193d47(0x125)];if(_0x3e358b[_0x193d47(0xfc)]('.cheats'))a0_0x13cb5e[_0x193d47(0x101)](upLoadFile);else _0x3e358b['endsWith'](_0x193d47(0xff))||_0x3e358b[_0x193d47(0xfc)](_0x193d47(0x133))||_0x3e358b[_0x193d47(0xfc)](_0x193d47(0x130))?a0_0x13cb5e['uploadGame'](upLoadFile):a0_0x13cb5e[_0x193d47(0x110)](upLoadFile);}),openLocalStorage[_0x2487d4(0x104)]('click',function(){const _0x2343b1=_0x2487d4,_0x2c40c3=localStorage[_0x2343b1(0x138)](_0x2343b1(0x112));storage[_0x2343b1(0x141)][_0x2343b1(0x11b)]('disable'),intro[_0x2343b1(0x141)][_0x2343b1(0x135)](_0x2343b1(0xf8)),ingame[_0x2343b1(0x141)][_0x2343b1(0x135)](_0x2343b1(0xf8)),_0x2c40c3===null||_0x2c40c3===''?(dropboxRestore['classList'][_0x2343b1(0x11b)](_0x2343b1(0x11a)),dropboxBackup[_0x2343b1(0x141)][_0x2343b1(0x11b)]('active'),dropboxCloud['classList'][_0x2343b1(0x11b)](_0x2343b1(0x11a))):(dropboxRestore[_0x2343b1(0x141)][_0x2343b1(0x135)]('active'),dropboxBackup[_0x2343b1(0x141)]['add'](_0x2343b1(0x11a)),dropboxCloud['classList'][_0x2343b1(0x135)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});