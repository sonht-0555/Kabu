const a0_0x17f0f8=a0_0x1ca0;(function(_0x3ef9f6,_0x46a478){const _0x5d2063=a0_0x1ca0,_0x321b24=_0x3ef9f6();while(!![]){try{const _0xc32249=-parseInt(_0x5d2063(0xbe))/0x1*(parseInt(_0x5d2063(0xce))/0x2)+parseInt(_0x5d2063(0xc7))/0x3+-parseInt(_0x5d2063(0xa7))/0x4*(parseInt(_0x5d2063(0xdc))/0x5)+-parseInt(_0x5d2063(0xb8))/0x6*(-parseInt(_0x5d2063(0xe4))/0x7)+parseInt(_0x5d2063(0x9f))/0x8*(-parseInt(_0x5d2063(0xa6))/0x9)+-parseInt(_0x5d2063(0xe3))/0xa*(parseInt(_0x5d2063(0xac))/0xb)+parseInt(_0x5d2063(0xb2))/0xc;if(_0xc32249===_0x46a478)break;else _0x321b24['push'](_0x321b24['shift']());}catch(_0x2397f4){_0x321b24['push'](_0x321b24['shift']());}}}(a0_0x4005,0x3a024));import*as a0_0x3a7ce6 from'./main.js';const mgbaStorage=document[a0_0x17f0f8(0xae)]('mgba-storage'),savesFile=document['getElementById'](a0_0x17f0f8(0xcc)),romsFile=document[a0_0x17f0f8(0xae)]('romsFile'),statesFile=document[a0_0x17f0f8(0xae)]('statesFile'),screenshotsFile=document[a0_0x17f0f8(0xae)]('screenshotsFile');function humanFileSize(_0x10ff4a,_0x4f1e9a=![],_0x5656ec=0x1){const _0x283210=a0_0x17f0f8,_0x548bc7=_0x4f1e9a?0x3e8:0x400,_0x5f15b2=_0x4f1e9a?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x283210(0xe5),_0x283210(0xb4),_0x283210(0xc6),'TiB',_0x283210(0xcb),_0x283210(0xb3),'ZiB',_0x283210(0xd7)];let _0x5e5c3e=-0x1;do{_0x10ff4a/=_0x548bc7,++_0x5e5c3e;}while(Math[_0x283210(0xc2)](_0x10ff4a)>=_0x548bc7&&_0x5e5c3e<_0x5f15b2[_0x283210(0x9d)]-0x1);return _0x10ff4a[_0x283210(0xe1)](_0x5656ec)+'\x20'+_0x5f15b2[_0x5e5c3e];}function a0_0x1ca0(_0x5ea065,_0x3dc417){const _0x4005ad=a0_0x4005();return a0_0x1ca0=function(_0x1ca09a,_0x162e26){_0x1ca09a=_0x1ca09a-0x98;let _0x1ad064=_0x4005ad[_0x1ca09a];return _0x1ad064;},a0_0x1ca0(_0x5ea065,_0x3dc417);}function createElementStorage(_0x40d3e9,_0x59cc41,_0x20554f){const _0x47f9f1=a0_0x17f0f8,_0x527863=document[_0x47f9f1(0xab)](_0x47f9f1(0xa3));_0x527863[_0x47f9f1(0xa9)][_0x47f9f1(0xd9)]('flex-1',_0x47f9f1(0xe0),_0x47f9f1(0xa1)),_0x40d3e9[_0x47f9f1(0xa4)](_0x527863);const _0x58fd07=document['createElement'](_0x47f9f1(0xc5));_0x58fd07[_0x47f9f1(0xe6)]=_0x59cc41,_0x58fd07[_0x47f9f1(0xa9)][_0x47f9f1(0xd9)](_0x47f9f1(0xd1)),_0x527863[_0x47f9f1(0xa4)](_0x58fd07),_0x58fd07[_0x47f9f1(0x9b)]=()=>{const _0x411962=_0x47f9f1,_0x47ddea=document[_0x411962(0xab)](_0x411962(0xda));_0x47ddea[_0x411962(0xb9)]=()=>_0x47ddea[_0x411962(0x9e)](),_0x40d3e9[_0x411962(0xa4)](_0x47ddea);const _0x42f52b=document[_0x411962(0xab)](_0x411962(0xa3));_0x42f52b[_0x411962(0xa9)][_0x411962(0xd9)](_0x411962(0xde),_0x411962(0xb6),'gap-10'),_0x47ddea['appendChild'](_0x42f52b);const _0x1971bc=document[_0x411962(0xab)](_0x411962(0xa3));_0x1971bc[_0x411962(0xa9)]['add'](_0x411962(0x98),'bc','flex-1'),_0x42f52b['appendChild'](_0x1971bc);const _0x49e343=document['createElement'](_0x411962(0xa3));_0x49e343[_0x411962(0xa9)][_0x411962(0xd9)](_0x411962(0xd1)),_0x42f52b['appendChild'](_0x49e343);const _0x22d793=document[_0x411962(0xab)](_0x411962(0xa3));_0x22d793[_0x411962(0xa9)]['add'](_0x411962(0xd1)),_0x42f52b[_0x411962(0xa4)](_0x22d793);const _0x91cd98=document[_0x411962(0xab)]('div');_0x91cd98[_0x411962(0xa9)]['add']('flex-1'),_0x42f52b[_0x411962(0xa4)](_0x91cd98),mgbaStorage['classList']['add']('opacity0'),_0x1971bc[_0x411962(0x9b)]=()=>{const _0x97fb9d=_0x411962;_0x47ddea['close'](),_0x47ddea[_0x97fb9d(0x9e)](),mgbaStorage['classList']['remove'](_0x97fb9d(0xdd));};const _0x5c15d1=document[_0x411962(0xab)](_0x411962(0xa3));_0x5c15d1[_0x411962(0xa9)][_0x411962(0xd9)](_0x411962(0xd1),'rom-item','hw','cw'),_0x5c15d1[_0x411962(0xe6)]=_0x59cc41,_0x47ddea[_0x411962(0xa4)](_0x5c15d1);const _0x1bd81f=document['createElement'](_0x411962(0xa3));_0x1bd81f[_0x411962(0xa9)][_0x411962(0xd9)]('actionDiv','hw','cw',_0x411962(0xd6)),_0x47ddea[_0x411962(0xa4)](_0x1bd81f);const _0x51c52c=document['createElement'](_0x411962(0xa3));_0x51c52c['classList'][_0x411962(0xd9)]('download','bc'),_0x1bd81f[_0x411962(0xa4)](_0x51c52c),_0x51c52c[_0x411962(0x9b)]=()=>{const _0x19f4c0=_0x411962;a0_0x3a7ce6[_0x19f4c0(0xd2)](_0x20554f,_0x59cc41);};const _0x3d0c52=document[_0x411962(0xab)](_0x411962(0xa3));_0x3d0c52['classList']['add'](_0x411962(0xa5),'bc'),_0x1bd81f[_0x411962(0xa4)](_0x3d0c52),_0x3d0c52['onclick']=async()=>{const _0x2aa247=_0x411962;if(window[_0x2aa247(0xb5)](_0x2aa247(0x9c)+_0x59cc41)){const _0x44eb87=_0x59cc41[_0x2aa247(0xd0)](/\....$/,_0x2aa247(0xd3));a0_0x3a7ce6['deleteFile'](_0x20554f),localStorage[_0x2aa247(0xd8)](_0x44eb87+_0x2aa247(0xe7)+_0x59cc41['slice'](-0x1)),localStorage['removeItem'](_0x44eb87+_0x2aa247(0xdf)+_0x59cc41['slice'](-0x1)),localStorageFile(),_0x47ddea[_0x2aa247(0xbd)](),_0x47ddea[_0x2aa247(0x9e)](),mgbaStorage[_0x2aa247(0xa9)]['remove'](_0x2aa247(0xdd));}};const _0x2f0a37=document[_0x411962(0xab)](_0x411962(0xa3));_0x2f0a37['classList']['add'](_0x411962(0xaf),'bc'),_0x1bd81f[_0x411962(0xa4)](_0x2f0a37),_0x2f0a37[_0x411962(0x9b)]=async()=>{const _0x14abcd=_0x411962,_0x1fccde=window[_0x14abcd(0xaa)]('Edit\x20filename',_0x59cc41);if(_0x1fccde!==null){const _0x3bae24=_0x59cc41[_0x14abcd(0xd0)](/\....$/,_0x14abcd(0xd3)),_0x9c2014=_0x1fccde[_0x14abcd(0xd0)](/\....$/,_0x14abcd(0xd3)),_0x40468d=_0x3bae24+'_dateState'+_0x59cc41[_0x14abcd(0xcf)](-0x1),_0x332789=_0x3bae24+_0x14abcd(0xdf)+_0x59cc41[_0x14abcd(0xcf)](-0x1),_0x41be02=_0x9c2014+_0x14abcd(0xe7)+_0x1fccde['slice'](-0x1),_0x2cfe5b=_0x9c2014+_0x14abcd(0xdf)+_0x1fccde[_0x14abcd(0xcf)](-0x1),_0x4facbf=localStorage[_0x14abcd(0xbc)](_0x40468d),_0x2e68fe=localStorage['getItem'](_0x332789);_0x4facbf!==null&&(localStorage[_0x14abcd(0xbb)](_0x41be02,_0x4facbf),localStorage[_0x14abcd(0xd8)](_0x40468d)),_0x2e68fe!==null&&(localStorage[_0x14abcd(0xbb)](_0x2cfe5b,_0x2e68fe),localStorage[_0x14abcd(0xd8)](_0x332789)),a0_0x3a7ce6[_0x14abcd(0xb7)](_0x20554f,_0x59cc41,_0x1fccde),localStorageFile(),_0x47ddea[_0x14abcd(0xbd)](),_0x47ddea['remove'](),mgbaStorage[_0x14abcd(0xa9)][_0x14abcd(0x9e)](_0x14abcd(0xdd));}},_0x47ddea[_0x411962(0xc4)]();};const _0x3dacc3=document[_0x47f9f1(0xab)](_0x47f9f1(0xc5));_0x3dacc3[_0x47f9f1(0xe6)]=humanFileSize(a0_0x3a7ce6['fileSize'](_0x20554f)),_0x3dacc3[_0x47f9f1(0xa9)][_0x47f9f1(0xd9)]('mib'),_0x527863['appendChild'](_0x3dacc3);}export function localStorageFile(){const _0x5dcd4b=a0_0x17f0f8,_0x5b1dcd=a0_0x3a7ce6[_0x5dcd4b(0xba)](),_0x22b6e5=a0_0x3a7ce6[_0x5dcd4b(0xca)](),_0x315bc3=a0_0x3a7ce6[_0x5dcd4b(0xc0)](),_0x349f00=a0_0x3a7ce6[_0x5dcd4b(0xc1)](),_0x50fa31=a0_0x3a7ce6['listScreenshot'](),_0x76d869=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5eef5b of _0x76d869){while(_0x5eef5b[_0x5dcd4b(0xad)]){_0x5eef5b['lastChild'][_0x5dcd4b(0x9e)]();}}for(const _0x4390bb of _0x5b1dcd){createElementStorage(romsFile,_0x4390bb,_0x5dcd4b(0xdb)+_0x4390bb);}for(const _0x1408ab of _0x315bc3){createElementStorage(statesFile,_0x1408ab,'/data/states/'+_0x1408ab);}for(const _0x26e5e7 of _0x22b6e5){createElementStorage(savesFile,_0x26e5e7,'/data/saves/'+_0x26e5e7);}for(const _0x1257ee of _0x349f00){createElementStorage(cheatsFile,_0x1257ee,_0x5dcd4b(0xd4)+_0x1257ee);}for(const _0x3951a0 of _0x50fa31){createElementStorage(screenshotsFile,_0x3951a0,'/data/screenshots/'+_0x3951a0);}}function a0_0x4005(){const _0x26a55d=['classList','prompt','createElement','154hVcIvP','firstChild','getElementById','rename','endsWith','uploadSavSta','2809344fTOjNQ','EiB','MiB','confirm','right','editFile','444egeQjp','onclose','listGame','setItem','getItem','close','29IJtkmD','.cheats','listState','listCheat','abs','addEventListener','showModal','span','GiB','567378wkkZYp','change','uploadCheat','listSave','PiB','savesFile','active','3204AIsyiR','slice','replace','flex-1','downloadFile','.gba','/data/cheats/','click','gap-16','YiB','removeItem','add','dialog','/data/games/','1230755DtsCxR','opacity0','storage','_imageState','rom-item','toFixed','uploadGame','119960JXtaoZ','27888ZpTFoM','KiB','textContent','_dateState','home','disable','files','onclick','Delete\x20this\x20file?','length','remove','8muNvwV','name','rom','DOMContentLoaded','div','appendChild','delete','179073KpLOju','4ZSDdnD','.gbc'];a0_0x4005=function(){return _0x26a55d;};return a0_0x4005();}document[a0_0x17f0f8(0xc3)](a0_0x17f0f8(0xa2),function(){const _0x43e026=a0_0x17f0f8;upLoadFile['addEventListener'](_0x43e026(0xc8),function(){const _0x50c678=_0x43e026,_0x2715e6=upLoadFile[_0x50c678(0x9a)][0x0][_0x50c678(0xa0)];if(_0x2715e6[_0x50c678(0xb0)](_0x50c678(0xbf)))a0_0x3a7ce6[_0x50c678(0xc9)](upLoadFile);else _0x2715e6['endsWith']('.gba')||_0x2715e6[_0x50c678(0xb0)](_0x50c678(0xa8))||_0x2715e6[_0x50c678(0xb0)]('.bc')?a0_0x3a7ce6[_0x50c678(0xe2)](upLoadFile):a0_0x3a7ce6[_0x50c678(0xb1)](upLoadFile);}),openLocalStorage['addEventListener'](_0x43e026(0xd5),function(){const _0x3415f5=_0x43e026,_0x4cd97a=localStorage[_0x3415f5(0xbc)]('uId');storage[_0x3415f5(0xa9)][_0x3415f5(0x9e)](_0x3415f5(0x99)),intro[_0x3415f5(0xa9)][_0x3415f5(0xd9)](_0x3415f5(0x99)),ingame[_0x3415f5(0xa9)]['add'](_0x3415f5(0x99)),_0x4cd97a===null||_0x4cd97a===''?(dropboxRestore[_0x3415f5(0xa9)][_0x3415f5(0x9e)](_0x3415f5(0xcd)),dropboxBackup[_0x3415f5(0xa9)]['remove']('active'),dropboxCloud['classList'][_0x3415f5(0x9e)](_0x3415f5(0xcd))):(dropboxRestore[_0x3415f5(0xa9)]['add'](_0x3415f5(0xcd)),dropboxBackup[_0x3415f5(0xa9)][_0x3415f5(0xd9)](_0x3415f5(0xcd)),dropboxCloud[_0x3415f5(0xa9)]['add'](_0x3415f5(0xcd)));}),setTimeout(()=>{localStorageFile();},0xbb8);});