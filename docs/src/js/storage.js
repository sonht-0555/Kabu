function a0_0x578a(_0x4e3f5d,_0x134f8e){const _0x31c7bc=a0_0x31c7();return a0_0x578a=function(_0x578a64,_0x316bc5){_0x578a64=_0x578a64-0x1f1;let _0x205688=_0x31c7bc[_0x578a64];return _0x205688;},a0_0x578a(_0x4e3f5d,_0x134f8e);}const a0_0x485b7c=a0_0x578a;(function(_0x2b5b0d,_0x397374){const _0x190af0=a0_0x578a,_0x5a1c4e=_0x2b5b0d();while(!![]){try{const _0x3a9074=parseInt(_0x190af0(0x1f3))/0x1+-parseInt(_0x190af0(0x216))/0x2*(-parseInt(_0x190af0(0x225))/0x3)+-parseInt(_0x190af0(0x1f2))/0x4+-parseInt(_0x190af0(0x1fd))/0x5+-parseInt(_0x190af0(0x206))/0x6*(-parseInt(_0x190af0(0x226))/0x7)+-parseInt(_0x190af0(0x22e))/0x8*(-parseInt(_0x190af0(0x213))/0x9)+parseInt(_0x190af0(0x20f))/0xa*(-parseInt(_0x190af0(0x234))/0xb);if(_0x3a9074===_0x397374)break;else _0x5a1c4e['push'](_0x5a1c4e['shift']());}catch(_0x51349c){_0x5a1c4e['push'](_0x5a1c4e['shift']());}}}(a0_0x31c7,0x3f111));import*as a0_0x5649a3 from'./main.js';const mgbaStorage=document[a0_0x485b7c(0x223)]('mgba-storage'),savesFile=document[a0_0x485b7c(0x223)](a0_0x485b7c(0x21f)),romsFile=document[a0_0x485b7c(0x223)](a0_0x485b7c(0x1f1)),statesFile=document[a0_0x485b7c(0x223)](a0_0x485b7c(0x1f8)),screenshotsFile=document[a0_0x485b7c(0x223)](a0_0x485b7c(0x228));function humanFileSize(_0x3c6fc7,_0x12ba07=![],_0x5ed8ba=0x1){const _0x9af599=a0_0x485b7c,_0x5e7b33=_0x12ba07?0x3e8:0x400,_0x47d955=_0x12ba07?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x9af599(0x215),_0x9af599(0x1fe),'TiB','PiB','EiB',_0x9af599(0x22d),_0x9af599(0x1f6)];let _0x3bed7a=-0x1;do{_0x3c6fc7/=_0x5e7b33,++_0x3bed7a;}while(Math[_0x9af599(0x217)](_0x3c6fc7)>=_0x5e7b33&&_0x3bed7a<_0x47d955[_0x9af599(0x235)]-0x1);return _0x3c6fc7[_0x9af599(0x211)](_0x5ed8ba)+'\x20'+_0x47d955[_0x3bed7a];}function createElementStorage(_0x49fd18,_0x6a6983,_0x35a689){const _0x19c698=a0_0x485b7c,_0xf989ba=document[_0x19c698(0x20e)](_0x19c698(0x237));_0xf989ba['classList'][_0x19c698(0x233)]('flex-1',_0x19c698(0x230),_0x19c698(0x1ff)),_0x49fd18[_0x19c698(0x1f9)](_0xf989ba);const _0x5a5723=document['createElement'](_0x19c698(0x236));_0x5a5723[_0x19c698(0x20d)]=_0x6a6983,_0x5a5723['classList'][_0x19c698(0x233)]('flex-1'),_0xf989ba['appendChild'](_0x5a5723),_0x5a5723['onclick']=()=>{const _0x529bdb=_0x19c698,_0x1a70aa=document[_0x529bdb(0x20e)]('dialog');_0x1a70aa['onclose']=()=>_0x1a70aa[_0x529bdb(0x209)](),_0x49fd18[_0x529bdb(0x1f9)](_0x1a70aa);const _0x1f0ce8=document[_0x529bdb(0x20e)](_0x529bdb(0x237));_0x1f0ce8[_0x529bdb(0x20c)][_0x529bdb(0x233)]('storage',_0x529bdb(0x219),_0x529bdb(0x208)),_0x1a70aa['appendChild'](_0x1f0ce8);const _0x15a0fd=document['createElement'](_0x529bdb(0x237));_0x15a0fd['classList'][_0x529bdb(0x233)]('home','bc',_0x529bdb(0x205)),_0x1f0ce8['appendChild'](_0x15a0fd);const _0x560ad3=document[_0x529bdb(0x20e)](_0x529bdb(0x237));_0x560ad3[_0x529bdb(0x20c)][_0x529bdb(0x233)](_0x529bdb(0x205)),_0x1f0ce8['appendChild'](_0x560ad3);const _0x9aba81=document[_0x529bdb(0x20e)]('div');_0x9aba81[_0x529bdb(0x20c)][_0x529bdb(0x233)](_0x529bdb(0x205)),_0x1f0ce8[_0x529bdb(0x1f9)](_0x9aba81);const _0x1c9cf5=document[_0x529bdb(0x20e)](_0x529bdb(0x237));_0x1c9cf5[_0x529bdb(0x20c)][_0x529bdb(0x233)](_0x529bdb(0x205)),_0x1f0ce8['appendChild'](_0x1c9cf5),mgbaStorage[_0x529bdb(0x20c)][_0x529bdb(0x233)]('opacity0'),_0x15a0fd[_0x529bdb(0x20b)]=()=>{const _0x1c0efb=_0x529bdb;_0x1a70aa['close'](),_0x1a70aa['remove'](),mgbaStorage[_0x1c0efb(0x20c)]['remove'](_0x1c0efb(0x212));};const _0x25466f=document[_0x529bdb(0x20e)](_0x529bdb(0x237));_0x25466f['classList'][_0x529bdb(0x233)](_0x529bdb(0x205),_0x529bdb(0x230),'hw','cw'),_0x25466f[_0x529bdb(0x20d)]=_0x6a6983,_0x1a70aa[_0x529bdb(0x1f9)](_0x25466f);const _0x4be54c=document['createElement'](_0x529bdb(0x237));_0x4be54c[_0x529bdb(0x20c)][_0x529bdb(0x233)](_0x529bdb(0x229),'hw','cw','gap-16'),_0x1a70aa[_0x529bdb(0x1f9)](_0x4be54c);const _0x412e4c=document[_0x529bdb(0x20e)](_0x529bdb(0x237));_0x412e4c[_0x529bdb(0x20c)][_0x529bdb(0x233)](_0x529bdb(0x22a),'bc'),_0x4be54c[_0x529bdb(0x1f9)](_0x412e4c),_0x412e4c['onclick']=()=>{const _0x34074b=_0x529bdb;a0_0x5649a3[_0x34074b(0x200)](_0x35a689,_0x6a6983);};const _0x2c4c5b=document['createElement'](_0x529bdb(0x237));_0x2c4c5b[_0x529bdb(0x20c)][_0x529bdb(0x233)](_0x529bdb(0x224),'bc'),_0x4be54c[_0x529bdb(0x1f9)](_0x2c4c5b),_0x2c4c5b[_0x529bdb(0x20b)]=async()=>{const _0x58f2a1=_0x529bdb;if(window['confirm']('Delete\x20this\x20file?'+_0x6a6983)){const _0x12e286=_0x6a6983[_0x58f2a1(0x231)](/\....$/,_0x58f2a1(0x220));a0_0x5649a3[_0x58f2a1(0x222)](_0x35a689),localStorage['removeItem'](_0x12e286+_0x58f2a1(0x21d)+_0x6a6983['slice'](-0x1)),localStorage['removeItem'](_0x12e286+_0x58f2a1(0x22c)+_0x6a6983['slice'](-0x1)),localStorageFile(),_0x1a70aa[_0x58f2a1(0x201)](),_0x1a70aa['remove'](),mgbaStorage[_0x58f2a1(0x20c)][_0x58f2a1(0x209)](_0x58f2a1(0x212));}};const _0x483fbd=document[_0x529bdb(0x20e)]('div');_0x483fbd[_0x529bdb(0x20c)]['add'](_0x529bdb(0x21e),'bc'),_0x4be54c['appendChild'](_0x483fbd),_0x483fbd[_0x529bdb(0x20b)]=async()=>{const _0x3a587c=_0x529bdb,_0x1fd45a=window[_0x3a587c(0x202)]('Edit\x20filename',_0x6a6983);_0x1fd45a!==null&&(a0_0x5649a3[_0x3a587c(0x21c)](_0x35a689,_0x6a6983,_0x1fd45a),localStorageFile(),_0x1a70aa[_0x3a587c(0x201)](),_0x1a70aa[_0x3a587c(0x209)](),mgbaStorage['classList'][_0x3a587c(0x209)](_0x3a587c(0x212)));},_0x1a70aa[_0x529bdb(0x218)]();};const _0x2e4f6d=document[_0x19c698(0x20e)](_0x19c698(0x236));_0x2e4f6d[_0x19c698(0x20d)]=humanFileSize(a0_0x5649a3[_0x19c698(0x20a)](_0x35a689)),_0x2e4f6d['classList'][_0x19c698(0x233)](_0x19c698(0x203)),_0xf989ba[_0x19c698(0x1f9)](_0x2e4f6d);}function a0_0x31c7(){const _0x3dd185=['MiB','6QmoPLU','abs','showModal','right','/data/games/','/data/saves/','editFile','_dateState','rename','savesFile','.gba','cheats','deleteFile','getElementById','delete','363654qoQQVY','273TuETgg','states','screenshotsFile','actionDiv','download','disable','_imageState','ZiB','8AJTvzK','/data/screenshots/','rom-item','replace','/data/states/','add','129811fYqOme','length','span','div','romsFile','546964pxMtas','141564rehxYf','listFiles','getItem','YiB','DOMContentLoaded','statesFile','appendChild','uploadFile','addEventListener','active','2301855vFsrDJ','GiB','rom','downloadFile','close','prompt','mib','screenshots','flex-1','61062hyzbrk','games','gap-10','remove','fileSize','onclick','classList','textContent','createElement','140kassiS','firstChild','toFixed','opacity0','1066734KlZXMA','lastChild'];a0_0x31c7=function(){return _0x3dd185;};return a0_0x31c7();}export function localStorageFile(){const _0x458a66=a0_0x485b7c,_0x10ef3f=a0_0x5649a3[_0x458a66(0x1f4)](_0x458a66(0x207)),_0x465e51=a0_0x5649a3[_0x458a66(0x1f4)]('saves'),_0x173d27=a0_0x5649a3['listFiles'](_0x458a66(0x227)),_0x165252=a0_0x5649a3[_0x458a66(0x1f4)](_0x458a66(0x221)),_0x139360=a0_0x5649a3[_0x458a66(0x1f4)](_0x458a66(0x204)),_0x661f37=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x33ec48 of _0x661f37){while(_0x33ec48[_0x458a66(0x210)]){_0x33ec48[_0x458a66(0x214)][_0x458a66(0x209)]();}}for(const _0x1d100f of _0x10ef3f){createElementStorage(romsFile,_0x1d100f,_0x458a66(0x21a)+_0x1d100f);}for(const _0x1815c2 of _0x173d27){createElementStorage(statesFile,_0x1815c2,_0x458a66(0x232)+_0x1815c2);}for(const _0x561903 of _0x465e51){createElementStorage(savesFile,_0x561903,_0x458a66(0x21b)+_0x561903);}for(const _0x318838 of _0x165252){createElementStorage(cheatsFile,_0x318838,'/data/cheats/'+_0x318838);}for(const _0x242533 of _0x139360){createElementStorage(screenshotsFile,_0x242533,_0x458a66(0x22f)+_0x242533);}}document[a0_0x485b7c(0x1fb)](a0_0x485b7c(0x1f7),function(){const _0x281e64=a0_0x485b7c;upLoadFile['addEventListener']('change',function(){const _0x2fc0fb=a0_0x578a;a0_0x5649a3[_0x2fc0fb(0x1fa)](upLoadFile);}),openLocalStorage[_0x281e64(0x1fb)]('click',function(){const _0x4e9cd0=_0x281e64,_0x38e0f0=localStorage[_0x4e9cd0(0x1f5)]('uId');storage[_0x4e9cd0(0x20c)][_0x4e9cd0(0x209)](_0x4e9cd0(0x22b)),intro[_0x4e9cd0(0x20c)][_0x4e9cd0(0x233)](_0x4e9cd0(0x22b)),ingame[_0x4e9cd0(0x20c)][_0x4e9cd0(0x233)](_0x4e9cd0(0x22b)),_0x38e0f0===null||_0x38e0f0===''?(dropboxRestore[_0x4e9cd0(0x20c)][_0x4e9cd0(0x209)]('active'),dropboxBackup[_0x4e9cd0(0x20c)]['remove'](_0x4e9cd0(0x1fc)),dropboxCloud['classList'][_0x4e9cd0(0x209)]('active')):(dropboxRestore['classList'][_0x4e9cd0(0x233)](_0x4e9cd0(0x1fc)),dropboxBackup[_0x4e9cd0(0x20c)][_0x4e9cd0(0x233)](_0x4e9cd0(0x1fc)),dropboxCloud[_0x4e9cd0(0x20c)][_0x4e9cd0(0x233)](_0x4e9cd0(0x1fc)));}),setTimeout(()=>{localStorageFile();},0xbb8);});