const a0_0x3c55cd=a0_0x2434;function a0_0x2434(_0x4cead2,_0x5a9f66){const _0x521a4b=a0_0x521a();return a0_0x2434=function(_0x243442,_0x51026e){_0x243442=_0x243442-0x14e;let _0x534507=_0x521a4b[_0x243442];return _0x534507;},a0_0x2434(_0x4cead2,_0x5a9f66);}(function(_0x1dbd7f,_0x4d7dc6){const _0x3de08d=a0_0x2434,_0x34f048=_0x1dbd7f();while(!![]){try{const _0x52370c=parseInt(_0x3de08d(0x15f))/0x1*(parseInt(_0x3de08d(0x164))/0x2)+parseInt(_0x3de08d(0x19b))/0x3*(parseInt(_0x3de08d(0x17d))/0x4)+-parseInt(_0x3de08d(0x15e))/0x5+-parseInt(_0x3de08d(0x168))/0x6+-parseInt(_0x3de08d(0x156))/0x7+parseInt(_0x3de08d(0x18f))/0x8+parseInt(_0x3de08d(0x189))/0x9;if(_0x52370c===_0x4d7dc6)break;else _0x34f048['push'](_0x34f048['shift']());}catch(_0x1939b4){_0x34f048['push'](_0x34f048['shift']());}}}(a0_0x521a,0xae1bf));function a0_0x521a(){const _0x508c89=['PiB','span','getItem','close','.cheats','uId','8703NCKHNO','listScreenshot','editFile','toFixed','gap-16','EiB','uploadCheat','savesFile','romsFile','uploadGame','8172262klAObC','/data/states/','appendChild','_dateState','YiB','addEventListener','onclose','listGame','2617985ktCdiY','10XLTrQG','rom-item','storage','disable','active','52118XWUEoN','textContent','change','/data/cheats/','1785354vQYSLP','abs','statesFile','opacity0','name','ZiB','click','right','removeItem','downloadFile','showModal','replace','screenshotsFile','getElementById','flex-1','slice','Delete\x20this\x20file?','TiB','onclick','home','prompt','1412jWLVac','listSave','add','/data/saves/','endsWith','div','.gba','uploadSavSta','rom','deleteFile','Edit\x20filename','createElement','9695448GxiWDs','fileSize','MiB','classList','firstChild','gap-10','2718864mKLtZP','delete','.gbc','_imageState','confirm','remove'];a0_0x521a=function(){return _0x508c89;};return a0_0x521a();}import*as a0_0x3e0ed8 from'./main.js';const mgbaStorage=document[a0_0x3c55cd(0x175)]('mgba-storage'),savesFile=document['getElementById'](a0_0x3c55cd(0x153)),romsFile=document['getElementById'](a0_0x3c55cd(0x154)),statesFile=document[a0_0x3c55cd(0x175)](a0_0x3c55cd(0x16a)),screenshotsFile=document[a0_0x3c55cd(0x175)](a0_0x3c55cd(0x174));function humanFileSize(_0x1737c5,_0x3e83bf=![],_0x62ae7=0x1){const _0x5262a2=a0_0x3c55cd,_0x58fa25=_0x3e83bf?0x3e8:0x400,_0x37f4b3=_0x3e83bf?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x5262a2(0x18b),'GiB',_0x5262a2(0x179),_0x5262a2(0x195),_0x5262a2(0x151),_0x5262a2(0x16d),_0x5262a2(0x15a)];let _0x36a0e5=-0x1;do{_0x1737c5/=_0x58fa25,++_0x36a0e5;}while(Math[_0x5262a2(0x169)](_0x1737c5)>=_0x58fa25&&_0x36a0e5<_0x37f4b3['length']-0x1);return _0x1737c5[_0x5262a2(0x14f)](_0x62ae7)+'\x20'+_0x37f4b3[_0x36a0e5];}function createElementStorage(_0x20d62d,_0xcfd6bb,_0x354e04){const _0x17b3a2=a0_0x3c55cd,_0x5d7e44=document[_0x17b3a2(0x188)]('div');_0x5d7e44[_0x17b3a2(0x18c)][_0x17b3a2(0x17f)](_0x17b3a2(0x176),_0x17b3a2(0x160),_0x17b3a2(0x185)),_0x20d62d[_0x17b3a2(0x158)](_0x5d7e44);const _0x5bbe39=document['createElement'](_0x17b3a2(0x196));_0x5bbe39[_0x17b3a2(0x165)]=_0xcfd6bb,_0x5bbe39[_0x17b3a2(0x18c)][_0x17b3a2(0x17f)]('flex-1'),_0x5d7e44[_0x17b3a2(0x158)](_0x5bbe39),_0x5bbe39[_0x17b3a2(0x17a)]=()=>{const _0x139f41=_0x17b3a2,_0x5c5817=document[_0x139f41(0x188)]('dialog');_0x5c5817[_0x139f41(0x15c)]=()=>_0x5c5817[_0x139f41(0x194)](),_0x20d62d[_0x139f41(0x158)](_0x5c5817);const _0x76535d=document[_0x139f41(0x188)]('div');_0x76535d[_0x139f41(0x18c)]['add'](_0x139f41(0x161),_0x139f41(0x16f),_0x139f41(0x18e)),_0x5c5817[_0x139f41(0x158)](_0x76535d);const _0x452396=document[_0x139f41(0x188)](_0x139f41(0x182));_0x452396['classList']['add'](_0x139f41(0x17b),'bc',_0x139f41(0x176)),_0x76535d[_0x139f41(0x158)](_0x452396);const _0x665855=document[_0x139f41(0x188)]('div');_0x665855[_0x139f41(0x18c)][_0x139f41(0x17f)](_0x139f41(0x176)),_0x76535d[_0x139f41(0x158)](_0x665855);const _0x1208d5=document[_0x139f41(0x188)](_0x139f41(0x182));_0x1208d5[_0x139f41(0x18c)][_0x139f41(0x17f)](_0x139f41(0x176)),_0x76535d['appendChild'](_0x1208d5);const _0x5359bb=document[_0x139f41(0x188)](_0x139f41(0x182));_0x5359bb['classList'][_0x139f41(0x17f)](_0x139f41(0x176)),_0x76535d[_0x139f41(0x158)](_0x5359bb),mgbaStorage[_0x139f41(0x18c)][_0x139f41(0x17f)](_0x139f41(0x16b)),_0x452396[_0x139f41(0x17a)]=()=>{const _0x25d16a=_0x139f41;_0x5c5817[_0x25d16a(0x198)](),_0x5c5817['remove'](),mgbaStorage[_0x25d16a(0x18c)]['remove']('opacity0');};const _0xc6dc09=document[_0x139f41(0x188)]('div');_0xc6dc09['classList'][_0x139f41(0x17f)](_0x139f41(0x176),_0x139f41(0x160),'hw','cw'),_0xc6dc09[_0x139f41(0x165)]=_0xcfd6bb,_0x5c5817['appendChild'](_0xc6dc09);const _0x440171=document[_0x139f41(0x188)](_0x139f41(0x182));_0x440171['classList'][_0x139f41(0x17f)]('actionDiv','hw','cw',_0x139f41(0x150)),_0x5c5817['appendChild'](_0x440171);const _0x12fd20=document[_0x139f41(0x188)](_0x139f41(0x182));_0x12fd20['classList'][_0x139f41(0x17f)]('download','bc'),_0x440171[_0x139f41(0x158)](_0x12fd20),_0x12fd20[_0x139f41(0x17a)]=()=>{const _0x3c2e08=_0x139f41;a0_0x3e0ed8[_0x3c2e08(0x171)](_0x354e04,_0xcfd6bb);};const _0x525250=document['createElement'](_0x139f41(0x182));_0x525250[_0x139f41(0x18c)][_0x139f41(0x17f)](_0x139f41(0x190),'bc'),_0x440171[_0x139f41(0x158)](_0x525250),_0x525250[_0x139f41(0x17a)]=async()=>{const _0x565201=_0x139f41;if(window[_0x565201(0x193)](_0x565201(0x178)+_0xcfd6bb)){const _0x16c47e=_0xcfd6bb[_0x565201(0x173)](/\....$/,_0x565201(0x183));a0_0x3e0ed8[_0x565201(0x186)](_0x354e04),localStorage['removeItem'](_0x16c47e+_0x565201(0x159)+_0xcfd6bb[_0x565201(0x177)](-0x1)),localStorage['removeItem'](_0x16c47e+_0x565201(0x192)+_0xcfd6bb[_0x565201(0x177)](-0x1)),localStorageFile(),_0x5c5817[_0x565201(0x198)](),_0x5c5817[_0x565201(0x194)](),mgbaStorage[_0x565201(0x18c)]['remove']('opacity0');}};const _0x2cf5ad=document['createElement'](_0x139f41(0x182));_0x2cf5ad['classList'][_0x139f41(0x17f)]('rename','bc'),_0x440171[_0x139f41(0x158)](_0x2cf5ad),_0x2cf5ad[_0x139f41(0x17a)]=async()=>{const _0x5cd984=_0x139f41,_0x2f9f05=window[_0x5cd984(0x17c)](_0x5cd984(0x187),_0xcfd6bb);if(_0x2f9f05!==null){const _0x2808f8=_0xcfd6bb['replace'](/\....$/,'.gba'),_0x1681cf=_0x2f9f05[_0x5cd984(0x173)](/\....$/,_0x5cd984(0x183)),_0x2e0ba8=_0x2808f8+_0x5cd984(0x159)+_0xcfd6bb['slice'](-0x1),_0x32075e=_0x2808f8+_0x5cd984(0x192)+_0xcfd6bb['slice'](-0x1),_0x396591=_0x1681cf+'_dateState'+_0x2f9f05['slice'](-0x1),_0x1741cb=_0x1681cf+'_imageState'+_0x2f9f05[_0x5cd984(0x177)](-0x1),_0x1f44de=localStorage[_0x5cd984(0x197)](_0x2e0ba8),_0xa4aa6d=localStorage[_0x5cd984(0x197)](_0x32075e);_0x1f44de!==null&&(localStorage['setItem'](_0x396591,_0x1f44de),localStorage[_0x5cd984(0x170)](_0x2e0ba8)),_0xa4aa6d!==null&&(localStorage['setItem'](_0x1741cb,_0xa4aa6d),localStorage[_0x5cd984(0x170)](_0x32075e)),a0_0x3e0ed8[_0x5cd984(0x14e)](_0x354e04,_0xcfd6bb,_0x2f9f05),localStorageFile(),_0x5c5817[_0x5cd984(0x198)](),_0x5c5817[_0x5cd984(0x194)](),mgbaStorage[_0x5cd984(0x18c)][_0x5cd984(0x194)](_0x5cd984(0x16b));}},_0x5c5817[_0x139f41(0x172)]();};const _0x5a1e9e=document[_0x17b3a2(0x188)](_0x17b3a2(0x196));_0x5a1e9e[_0x17b3a2(0x165)]=humanFileSize(a0_0x3e0ed8[_0x17b3a2(0x18a)](_0x354e04)),_0x5a1e9e[_0x17b3a2(0x18c)][_0x17b3a2(0x17f)]('mib'),_0x5d7e44[_0x17b3a2(0x158)](_0x5a1e9e);}export function localStorageFile(){const _0x376c32=a0_0x3c55cd,_0x16efe4=a0_0x3e0ed8[_0x376c32(0x15d)](),_0x49191a=a0_0x3e0ed8[_0x376c32(0x17e)](),_0x21fd73=a0_0x3e0ed8['listState'](),_0x2fa3bc=a0_0x3e0ed8['listCheat'](),_0x57cde7=a0_0x3e0ed8[_0x376c32(0x19c)](),_0x435f9b=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xdb5f74 of _0x435f9b){while(_0xdb5f74[_0x376c32(0x18d)]){_0xdb5f74['lastChild']['remove']();}}for(const _0x16fa62 of _0x16efe4){createElementStorage(romsFile,_0x16fa62,'/data/games/'+_0x16fa62);}for(const _0xa72bc2 of _0x21fd73){createElementStorage(statesFile,_0xa72bc2,_0x376c32(0x157)+_0xa72bc2);}for(const _0x389d53 of _0x49191a){createElementStorage(savesFile,_0x389d53,_0x376c32(0x180)+_0x389d53);}for(const _0x52b294 of _0x2fa3bc){createElementStorage(cheatsFile,_0x52b294,_0x376c32(0x167)+_0x52b294);}for(const _0x395b94 of _0x57cde7){createElementStorage(screenshotsFile,_0x395b94,'/data/screenshots/'+_0x395b94);}}document[a0_0x3c55cd(0x15b)]('DOMContentLoaded',function(){const _0x43d2a3=a0_0x3c55cd;upLoadFile['addEventListener'](_0x43d2a3(0x166),function(){const _0x5b6e71=_0x43d2a3,_0x3938bb=upLoadFile['files'][0x0][_0x5b6e71(0x16c)];if(_0x3938bb['endsWith'](_0x5b6e71(0x199)))a0_0x3e0ed8[_0x5b6e71(0x152)](upLoadFile);else _0x3938bb['endsWith'](_0x5b6e71(0x183))||_0x3938bb['endsWith'](_0x5b6e71(0x191))||_0x3938bb[_0x5b6e71(0x181)]('.bc')?a0_0x3e0ed8[_0x5b6e71(0x155)](upLoadFile):a0_0x3e0ed8[_0x5b6e71(0x184)](upLoadFile);}),openLocalStorage[_0x43d2a3(0x15b)](_0x43d2a3(0x16e),function(){const _0x31c58d=_0x43d2a3,_0x5208e0=localStorage[_0x31c58d(0x197)](_0x31c58d(0x19a));storage[_0x31c58d(0x18c)][_0x31c58d(0x194)](_0x31c58d(0x162)),intro[_0x31c58d(0x18c)][_0x31c58d(0x17f)](_0x31c58d(0x162)),ingame['classList'][_0x31c58d(0x17f)]('disable'),_0x5208e0===null||_0x5208e0===''?(dropboxRestore[_0x31c58d(0x18c)][_0x31c58d(0x194)](_0x31c58d(0x163)),dropboxBackup[_0x31c58d(0x18c)]['remove']('active'),dropboxCloud[_0x31c58d(0x18c)][_0x31c58d(0x194)](_0x31c58d(0x163))):(dropboxRestore[_0x31c58d(0x18c)][_0x31c58d(0x17f)]('active'),dropboxBackup[_0x31c58d(0x18c)][_0x31c58d(0x17f)]('active'),dropboxCloud[_0x31c58d(0x18c)]['add'](_0x31c58d(0x163)));}),setTimeout(()=>{localStorageFile();},0xbb8);});