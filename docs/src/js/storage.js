const a0_0x42ffd8=a0_0x695c;(function(_0x153e3c,_0x27ab96){const _0x5b803b=a0_0x695c,_0x3ab3d7=_0x153e3c();while(!![]){try{const _0x2e1a3a=parseInt(_0x5b803b(0xb0))/0x1*(-parseInt(_0x5b803b(0xd0))/0x2)+-parseInt(_0x5b803b(0xde))/0x3+-parseInt(_0x5b803b(0xbf))/0x4*(-parseInt(_0x5b803b(0xd8))/0x5)+-parseInt(_0x5b803b(0xef))/0x6*(parseInt(_0x5b803b(0xd2))/0x7)+parseInt(_0x5b803b(0xf2))/0x8+parseInt(_0x5b803b(0xd1))/0x9*(parseInt(_0x5b803b(0xb2))/0xa)+parseInt(_0x5b803b(0xf4))/0xb;if(_0x2e1a3a===_0x27ab96)break;else _0x3ab3d7['push'](_0x3ab3d7['shift']());}catch(_0x1ecfd3){_0x3ab3d7['push'](_0x3ab3d7['shift']());}}}(a0_0x43aa,0x40cc5));import*as a0_0x4bd2cb from'./main.js';const mgbaStorage=document[a0_0x42ffd8(0xcf)]('mgba-storage'),savesFile=document['getElementById'](a0_0x42ffd8(0xd5)),romsFile=document[a0_0x42ffd8(0xcf)](a0_0x42ffd8(0xc6)),statesFile=document[a0_0x42ffd8(0xcf)](a0_0x42ffd8(0xeb)),screenshotsFile=document[a0_0x42ffd8(0xcf)](a0_0x42ffd8(0xdc));function a0_0x695c(_0x3cf4e4,_0x11bdeb){const _0x43aa98=a0_0x43aa();return a0_0x695c=function(_0x695cb7,_0x3ff468){_0x695cb7=_0x695cb7-0xaf;let _0x2190e4=_0x43aa98[_0x695cb7];return _0x2190e4;},a0_0x695c(_0x3cf4e4,_0x11bdeb);}function humanFileSize(_0x3aabd4,_0x784638=![],_0x1078aa=0x1){const _0x4b5437=a0_0x42ffd8,_0x23e45e=_0x784638?0x3e8:0x400,_0x3514fe=_0x784638?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x4b5437(0xe9),'GiB',_0x4b5437(0xc1),_0x4b5437(0xec),'EiB','ZiB',_0x4b5437(0xe0)];let _0x3a12e2=-0x1;do{_0x3aabd4/=_0x23e45e,++_0x3a12e2;}while(Math[_0x4b5437(0xe8)](_0x3aabd4)>=_0x23e45e&&_0x3a12e2<_0x3514fe[_0x4b5437(0xc2)]-0x1);return _0x3aabd4[_0x4b5437(0xf6)](_0x1078aa)+'\x20'+_0x3514fe[_0x3a12e2];}function a0_0x43aa(){const _0x175424=['savesFile','rom','div','10dvMulU','getItem','rom-item','flex-1','screenshotsFile','fileSize','850899gHOOiQ','prompt','YiB','disable','textContent','rename','replace','active','opacity0','gap-16','abs','MiB','slice','statesFile','PiB','dialog','uId','235524CFNWrU','classList','_dateState','3455016lfmRLC','cheats','1277507KCavEU','/data/screenshots/','toFixed','DOMContentLoaded','add','deleteFile','screenshots','close','appendChild','272029RVsbif','right','31230JhXEoP','download','/data/games/','mib','lastChild','games','click','span','addEventListener','delete','_imageState','createElement','.gba','447052OeAhbE','removeItem','TiB','length','firstChild','gap-10','Edit\x20filename','romsFile','/data/states/','remove','Delete\x20this\x20file?','listFiles','/data/saves/','home','actionDiv','uploadFile','getElementById','2oxWdUL','369aNudWY','14FBAmra','confirm','onclick'];a0_0x43aa=function(){return _0x175424;};return a0_0x43aa();}function createElementStorage(_0x2bae56,_0x54b3d2,_0x14977f){const _0x5203e0=a0_0x42ffd8,_0x5449cd=document[_0x5203e0(0xbd)](_0x5203e0(0xd7));_0x5449cd['classList'][_0x5203e0(0xf8)](_0x5203e0(0xdb),_0x5203e0(0xda),_0x5203e0(0xd6)),_0x2bae56[_0x5203e0(0xaf)](_0x5449cd);const _0x187dc6=document[_0x5203e0(0xbd)](_0x5203e0(0xb9));_0x187dc6[_0x5203e0(0xe2)]=_0x54b3d2,_0x187dc6['classList'][_0x5203e0(0xf8)](_0x5203e0(0xdb)),_0x5449cd[_0x5203e0(0xaf)](_0x187dc6),_0x187dc6[_0x5203e0(0xd4)]=()=>{const _0x12fbc1=_0x5203e0,_0x43a1b0=document[_0x12fbc1(0xbd)](_0x12fbc1(0xed));_0x43a1b0['onclose']=()=>_0x43a1b0['remove'](),_0x2bae56[_0x12fbc1(0xaf)](_0x43a1b0);const _0x422bde=document['createElement'](_0x12fbc1(0xd7));_0x422bde['classList'][_0x12fbc1(0xf8)]('storage',_0x12fbc1(0xb1),_0x12fbc1(0xc4)),_0x43a1b0[_0x12fbc1(0xaf)](_0x422bde);const _0x29aa4e=document[_0x12fbc1(0xbd)](_0x12fbc1(0xd7));_0x29aa4e[_0x12fbc1(0xf0)][_0x12fbc1(0xf8)](_0x12fbc1(0xcc),'bc',_0x12fbc1(0xdb)),_0x422bde['appendChild'](_0x29aa4e);const _0x3479eb=document[_0x12fbc1(0xbd)](_0x12fbc1(0xd7));_0x3479eb[_0x12fbc1(0xf0)][_0x12fbc1(0xf8)](_0x12fbc1(0xdb)),_0x422bde['appendChild'](_0x3479eb);const _0x5a1dbc=document['createElement']('div');_0x5a1dbc[_0x12fbc1(0xf0)][_0x12fbc1(0xf8)]('flex-1'),_0x422bde[_0x12fbc1(0xaf)](_0x5a1dbc);const _0x211d21=document[_0x12fbc1(0xbd)](_0x12fbc1(0xd7));_0x211d21[_0x12fbc1(0xf0)][_0x12fbc1(0xf8)]('flex-1'),_0x422bde[_0x12fbc1(0xaf)](_0x211d21),mgbaStorage[_0x12fbc1(0xf0)][_0x12fbc1(0xf8)](_0x12fbc1(0xe6)),_0x29aa4e[_0x12fbc1(0xd4)]=()=>{const _0x31cd8f=_0x12fbc1;_0x43a1b0[_0x31cd8f(0xfb)](),_0x43a1b0[_0x31cd8f(0xc8)](),mgbaStorage[_0x31cd8f(0xf0)][_0x31cd8f(0xc8)]('opacity0');};const _0x17b2dc=document[_0x12fbc1(0xbd)]('div');_0x17b2dc[_0x12fbc1(0xf0)]['add'](_0x12fbc1(0xdb),_0x12fbc1(0xda),'hw','cw'),_0x17b2dc[_0x12fbc1(0xe2)]=_0x54b3d2,_0x43a1b0[_0x12fbc1(0xaf)](_0x17b2dc);const _0x4126e3=document[_0x12fbc1(0xbd)]('div');_0x4126e3['classList'][_0x12fbc1(0xf8)](_0x12fbc1(0xcd),'hw','cw',_0x12fbc1(0xe7)),_0x43a1b0[_0x12fbc1(0xaf)](_0x4126e3);const _0x4b87d3=document['createElement'](_0x12fbc1(0xd7));_0x4b87d3[_0x12fbc1(0xf0)]['add'](_0x12fbc1(0xb3),'bc'),_0x4126e3['appendChild'](_0x4b87d3),_0x4b87d3[_0x12fbc1(0xd4)]=()=>{a0_0x4bd2cb['downloadFile'](_0x14977f,_0x54b3d2);};const _0xd45dd3=document[_0x12fbc1(0xbd)](_0x12fbc1(0xd7));_0xd45dd3[_0x12fbc1(0xf0)][_0x12fbc1(0xf8)](_0x12fbc1(0xbb),'bc'),_0x4126e3[_0x12fbc1(0xaf)](_0xd45dd3),_0xd45dd3['onclick']=async()=>{const _0x17a95e=_0x12fbc1;if(window[_0x17a95e(0xd3)](_0x17a95e(0xc9)+_0x54b3d2)){const _0x1ee36b=_0x54b3d2[_0x17a95e(0xe4)](/\....$/,_0x17a95e(0xbe));a0_0x4bd2cb[_0x17a95e(0xf9)](_0x14977f),localStorage[_0x17a95e(0xc0)](_0x1ee36b+_0x17a95e(0xf1)+_0x54b3d2[_0x17a95e(0xea)](-0x1)),localStorage[_0x17a95e(0xc0)](_0x1ee36b+_0x17a95e(0xbc)+_0x54b3d2['slice'](-0x1)),localStorageFile(),_0x43a1b0[_0x17a95e(0xfb)](),_0x43a1b0[_0x17a95e(0xc8)](),mgbaStorage['classList'][_0x17a95e(0xc8)](_0x17a95e(0xe6));}};const _0x456907=document['createElement'](_0x12fbc1(0xd7));_0x456907[_0x12fbc1(0xf0)][_0x12fbc1(0xf8)](_0x12fbc1(0xe3),'bc'),_0x4126e3[_0x12fbc1(0xaf)](_0x456907),_0x456907[_0x12fbc1(0xd4)]=async()=>{const _0x433ca5=_0x12fbc1,_0x59f5d3=window[_0x433ca5(0xdf)](_0x433ca5(0xc5),_0x54b3d2);_0x59f5d3!==null&&(a0_0x4bd2cb['editFile'](_0x14977f,_0x54b3d2,_0x59f5d3),localStorageFile(),_0x43a1b0[_0x433ca5(0xfb)](),_0x43a1b0[_0x433ca5(0xc8)](),mgbaStorage[_0x433ca5(0xf0)][_0x433ca5(0xc8)](_0x433ca5(0xe6)));},_0x43a1b0['showModal']();};const _0x2bb455=document[_0x5203e0(0xbd)](_0x5203e0(0xb9));_0x2bb455['textContent']=humanFileSize(a0_0x4bd2cb[_0x5203e0(0xdd)](_0x14977f)),_0x2bb455[_0x5203e0(0xf0)]['add'](_0x5203e0(0xb5)),_0x5449cd[_0x5203e0(0xaf)](_0x2bb455);}export function localStorageFile(){const _0x1d4a66=a0_0x42ffd8,_0x3d5cc0=a0_0x4bd2cb['listFiles'](_0x1d4a66(0xb7)),_0xaff913=a0_0x4bd2cb[_0x1d4a66(0xca)]('saves'),_0x592ddc=a0_0x4bd2cb[_0x1d4a66(0xca)]('states'),_0x4c481e=a0_0x4bd2cb[_0x1d4a66(0xca)](_0x1d4a66(0xf3)),_0x1d7e55=a0_0x4bd2cb[_0x1d4a66(0xca)](_0x1d4a66(0xfa)),_0x233ac2=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x22d28c of _0x233ac2){while(_0x22d28c[_0x1d4a66(0xc3)]){_0x22d28c[_0x1d4a66(0xb6)][_0x1d4a66(0xc8)]();}}for(const _0x1a6fef of _0x3d5cc0){createElementStorage(romsFile,_0x1a6fef,_0x1d4a66(0xb4)+_0x1a6fef);}for(const _0xa018e0 of _0x592ddc){createElementStorage(statesFile,_0xa018e0,_0x1d4a66(0xc7)+_0xa018e0);}for(const _0x51cdca of _0xaff913){createElementStorage(savesFile,_0x51cdca,_0x1d4a66(0xcb)+_0x51cdca);}for(const _0x443cb4 of _0x4c481e){createElementStorage(cheatsFile,_0x443cb4,'/data/cheats/'+_0x443cb4);}for(const _0x5c3d81 of _0x1d7e55){createElementStorage(screenshotsFile,_0x5c3d81,_0x1d4a66(0xf5)+_0x5c3d81);}}document[a0_0x42ffd8(0xba)](a0_0x42ffd8(0xf7),function(){const _0x2489c2=a0_0x42ffd8;upLoadFile['addEventListener']('change',function(){const _0x477ab6=a0_0x695c;a0_0x4bd2cb[_0x477ab6(0xce)](upLoadFile);}),openLocalStorage[_0x2489c2(0xba)](_0x2489c2(0xb8),function(){const _0x3bb6fa=_0x2489c2,_0xf9225b=localStorage[_0x3bb6fa(0xd9)](_0x3bb6fa(0xee));storage[_0x3bb6fa(0xf0)][_0x3bb6fa(0xc8)](_0x3bb6fa(0xe1)),intro[_0x3bb6fa(0xf0)]['add']('disable'),ingame[_0x3bb6fa(0xf0)][_0x3bb6fa(0xf8)](_0x3bb6fa(0xe1)),_0xf9225b===null||_0xf9225b===''?(dropboxRestore[_0x3bb6fa(0xf0)][_0x3bb6fa(0xc8)](_0x3bb6fa(0xe5)),dropboxBackup['classList'][_0x3bb6fa(0xc8)]('active'),dropboxCloud['classList'][_0x3bb6fa(0xc8)](_0x3bb6fa(0xe5))):(dropboxRestore[_0x3bb6fa(0xf0)][_0x3bb6fa(0xf8)](_0x3bb6fa(0xe5)),dropboxBackup[_0x3bb6fa(0xf0)][_0x3bb6fa(0xf8)](_0x3bb6fa(0xe5)),dropboxCloud[_0x3bb6fa(0xf0)][_0x3bb6fa(0xf8)](_0x3bb6fa(0xe5)));}),setTimeout(()=>{localStorageFile();},0xbb8);});