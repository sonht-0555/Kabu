const a0_0x316196=a0_0x42a7;function a0_0x42a7(_0xd22254,_0x54b3fd){const _0x4dd9a3=a0_0x4dd9();return a0_0x42a7=function(_0x42a745,_0x1789e7){_0x42a745=_0x42a745-0x1a4;let _0x5b3138=_0x4dd9a3[_0x42a745];return _0x5b3138;},a0_0x42a7(_0xd22254,_0x54b3fd);}(function(_0x4d2f12,_0x462fdf){const _0x4fb098=a0_0x42a7,_0x2806d3=_0x4d2f12();while(!![]){try{const _0x563a34=parseInt(_0x4fb098(0x1bb))/0x1*(parseInt(_0x4fb098(0x1ba))/0x2)+-parseInt(_0x4fb098(0x1d1))/0x3+-parseInt(_0x4fb098(0x1a6))/0x4+parseInt(_0x4fb098(0x1d4))/0x5+parseInt(_0x4fb098(0x1e2))/0x6*(parseInt(_0x4fb098(0x1b1))/0x7)+-parseInt(_0x4fb098(0x1e9))/0x8*(-parseInt(_0x4fb098(0x1c6))/0x9)+-parseInt(_0x4fb098(0x1b0))/0xa*(parseInt(_0x4fb098(0x1a4))/0xb);if(_0x563a34===_0x462fdf)break;else _0x2806d3['push'](_0x2806d3['shift']());}catch(_0x4f4fe2){_0x2806d3['push'](_0x2806d3['shift']());}}}(a0_0x4dd9,0x7180b));import*as a0_0x53d6d1 from'./main.js';const mgbaStorage=document[a0_0x316196(0x1c7)]('mgba-storage'),savesFile=document[a0_0x316196(0x1c7)](a0_0x316196(0x1d5)),romsFile=document[a0_0x316196(0x1c7)](a0_0x316196(0x1e0)),statesFile=document[a0_0x316196(0x1c7)](a0_0x316196(0x1b6)),screenshotsFile=document[a0_0x316196(0x1c7)]('screenshotsFile');function a0_0x4dd9(){const _0x20dba0=['YiB','storage','KiB','7119gRbBZM','getElementById','gap-10','active','classList','add','onclick','lastChild','textContent','disable','TiB','1196157AbqojZ','abs','.gba','4222770lGUlKW','savesFile','opacity0','/data/saves/','prompt','_imageState','ZiB','screenshots','click','getItem','/data/cheats/','showModal','romsFile','firstChild','26874LGrood','confirm','remove','div','span','saves','PiB','8696KxnBnU','209FtJxVq','deleteFile','1948880ByxNLp','createElement','fileSize','uId','appendChild','dialog','states','download','gap-16','flex-1','402890pXreaH','224YONKeU','/data/states/','slice','listFiles','removeItem','statesFile','addEventListener','onclose','home','12osPwTz','44773Ldzfwo','right','replace','downloadFile','rename','rom-item','close','editFile'];a0_0x4dd9=function(){return _0x20dba0;};return a0_0x4dd9();}function humanFileSize(_0x42b67f,_0x742d01=![],_0x43d868=0x1){const _0x530680=a0_0x316196,_0x1e0084=_0x742d01?0x3e8:0x400,_0x48016b=_0x742d01?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x530680(0x1c5),'MiB','GiB',_0x530680(0x1d0),_0x530680(0x1e8),'EiB',_0x530680(0x1da),_0x530680(0x1c3)];let _0x31fe70=-0x1;do{_0x42b67f/=_0x1e0084,++_0x31fe70;}while(Math[_0x530680(0x1d2)](_0x42b67f)>=_0x1e0084&&_0x31fe70<_0x48016b['length']-0x1);return _0x42b67f['toFixed'](_0x43d868)+'\x20'+_0x48016b[_0x31fe70];}function createElementStorage(_0x2eae73,_0x397ec4,_0x162e4f){const _0x3a38e1=a0_0x316196,_0x1c3b6a=document[_0x3a38e1(0x1a7)](_0x3a38e1(0x1e5));_0x1c3b6a['classList']['add'](_0x3a38e1(0x1af),_0x3a38e1(0x1c0),'rom'),_0x2eae73['appendChild'](_0x1c3b6a);const _0x2d8b03=document[_0x3a38e1(0x1a7)](_0x3a38e1(0x1e6));_0x2d8b03[_0x3a38e1(0x1ce)]=_0x397ec4,_0x2d8b03[_0x3a38e1(0x1ca)][_0x3a38e1(0x1cb)](_0x3a38e1(0x1af)),_0x1c3b6a['appendChild'](_0x2d8b03),_0x2d8b03['onclick']=()=>{const _0x220194=_0x3a38e1,_0x38c1fb=document[_0x220194(0x1a7)](_0x220194(0x1ab));_0x38c1fb[_0x220194(0x1b8)]=()=>_0x38c1fb[_0x220194(0x1e4)](),_0x2eae73[_0x220194(0x1aa)](_0x38c1fb);const _0x29852c=document[_0x220194(0x1a7)](_0x220194(0x1e5));_0x29852c[_0x220194(0x1ca)][_0x220194(0x1cb)](_0x220194(0x1c4),_0x220194(0x1bc),_0x220194(0x1c8)),_0x38c1fb[_0x220194(0x1aa)](_0x29852c);const _0x2ded53=document[_0x220194(0x1a7)](_0x220194(0x1e5));_0x2ded53[_0x220194(0x1ca)][_0x220194(0x1cb)](_0x220194(0x1b9),'bc',_0x220194(0x1af)),_0x29852c[_0x220194(0x1aa)](_0x2ded53);const _0x4e15e6=document['createElement'](_0x220194(0x1e5));_0x4e15e6[_0x220194(0x1ca)][_0x220194(0x1cb)](_0x220194(0x1af)),_0x29852c['appendChild'](_0x4e15e6);const _0x4c490b=document['createElement']('div');_0x4c490b[_0x220194(0x1ca)][_0x220194(0x1cb)](_0x220194(0x1af)),_0x29852c[_0x220194(0x1aa)](_0x4c490b);const _0x130dc9=document['createElement'](_0x220194(0x1e5));_0x130dc9['classList']['add'](_0x220194(0x1af)),_0x29852c[_0x220194(0x1aa)](_0x130dc9),mgbaStorage[_0x220194(0x1ca)][_0x220194(0x1cb)](_0x220194(0x1d6)),_0x2ded53['onclick']=()=>{const _0x1cd09a=_0x220194;_0x38c1fb[_0x1cd09a(0x1c1)](),_0x38c1fb[_0x1cd09a(0x1e4)](),mgbaStorage[_0x1cd09a(0x1ca)][_0x1cd09a(0x1e4)](_0x1cd09a(0x1d6));};const _0x2b4a42=document[_0x220194(0x1a7)]('div');_0x2b4a42[_0x220194(0x1ca)][_0x220194(0x1cb)](_0x220194(0x1af),_0x220194(0x1c0),'hw','cw'),_0x2b4a42[_0x220194(0x1ce)]=_0x397ec4,_0x38c1fb['appendChild'](_0x2b4a42);const _0x2f12c9=document[_0x220194(0x1a7)](_0x220194(0x1e5));_0x2f12c9[_0x220194(0x1ca)]['add']('actionDiv','hw','cw',_0x220194(0x1ae)),_0x38c1fb[_0x220194(0x1aa)](_0x2f12c9);const _0x595dbe=document[_0x220194(0x1a7)](_0x220194(0x1e5));_0x595dbe[_0x220194(0x1ca)][_0x220194(0x1cb)](_0x220194(0x1ad),'bc'),_0x2f12c9[_0x220194(0x1aa)](_0x595dbe),_0x595dbe['onclick']=()=>{const _0x3576d2=_0x220194;a0_0x53d6d1[_0x3576d2(0x1be)](_0x162e4f,_0x397ec4);};const _0x25d69a=document[_0x220194(0x1a7)](_0x220194(0x1e5));_0x25d69a[_0x220194(0x1ca)]['add']('delete','bc'),_0x2f12c9['appendChild'](_0x25d69a),_0x25d69a[_0x220194(0x1cc)]=async()=>{const _0x2844f1=_0x220194;if(window[_0x2844f1(0x1e3)]('Delete\x20this\x20file?'+_0x397ec4)){const _0x1f824d=_0x397ec4[_0x2844f1(0x1bd)](/\....$/,_0x2844f1(0x1d3));a0_0x53d6d1[_0x2844f1(0x1a5)](_0x162e4f),localStorage[_0x2844f1(0x1b5)](_0x1f824d+'_dateState'+_0x397ec4[_0x2844f1(0x1b3)](-0x1)),localStorage[_0x2844f1(0x1b5)](_0x1f824d+_0x2844f1(0x1d9)+_0x397ec4[_0x2844f1(0x1b3)](-0x1)),localStorageFile(),_0x38c1fb[_0x2844f1(0x1c1)](),_0x38c1fb['remove'](),mgbaStorage['classList']['remove']('opacity0');}};const _0x534c68=document[_0x220194(0x1a7)]('div');_0x534c68[_0x220194(0x1ca)][_0x220194(0x1cb)](_0x220194(0x1bf),'bc'),_0x2f12c9['appendChild'](_0x534c68),_0x534c68['onclick']=async()=>{const _0x5b5b2b=_0x220194,_0x54e7d8=window[_0x5b5b2b(0x1d8)]('Edit\x20filename',_0x397ec4);_0x54e7d8!==null&&(a0_0x53d6d1[_0x5b5b2b(0x1c2)](_0x162e4f,_0x397ec4,_0x54e7d8),localStorageFile(),_0x38c1fb[_0x5b5b2b(0x1c1)](),_0x38c1fb[_0x5b5b2b(0x1e4)](),mgbaStorage[_0x5b5b2b(0x1ca)][_0x5b5b2b(0x1e4)](_0x5b5b2b(0x1d6)));},_0x38c1fb[_0x220194(0x1df)]();};const _0x5b08ae=document[_0x3a38e1(0x1a7)]('span');_0x5b08ae[_0x3a38e1(0x1ce)]=humanFileSize(a0_0x53d6d1[_0x3a38e1(0x1a8)](_0x162e4f)),_0x5b08ae[_0x3a38e1(0x1ca)][_0x3a38e1(0x1cb)]('mib'),_0x1c3b6a[_0x3a38e1(0x1aa)](_0x5b08ae);}export function localStorageFile(){const _0x2e60d6=a0_0x316196,_0x4f6f58=a0_0x53d6d1[_0x2e60d6(0x1b4)]('games'),_0x4afc8b=a0_0x53d6d1[_0x2e60d6(0x1b4)](_0x2e60d6(0x1e7)),_0x55105f=a0_0x53d6d1[_0x2e60d6(0x1b4)](_0x2e60d6(0x1ac)),_0x4fed83=a0_0x53d6d1['listFiles']('cheats'),_0x200d89=a0_0x53d6d1[_0x2e60d6(0x1b4)](_0x2e60d6(0x1db)),_0x291fb8=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x43165e of _0x291fb8){while(_0x43165e[_0x2e60d6(0x1e1)]){_0x43165e[_0x2e60d6(0x1cd)][_0x2e60d6(0x1e4)]();}}for(const _0xee485e of _0x4f6f58){createElementStorage(romsFile,_0xee485e,'/data/games/'+_0xee485e);}for(const _0x1ccfd5 of _0x55105f){createElementStorage(statesFile,_0x1ccfd5,_0x2e60d6(0x1b2)+_0x1ccfd5);}for(const _0x5caa20 of _0x4afc8b){createElementStorage(savesFile,_0x5caa20,_0x2e60d6(0x1d7)+_0x5caa20);}for(const _0x54712b of _0x4fed83){createElementStorage(cheatsFile,_0x54712b,_0x2e60d6(0x1de)+_0x54712b);}for(const _0x2fb6b6 of _0x200d89){createElementStorage(screenshotsFile,_0x2fb6b6,'/data/screenshots/'+_0x2fb6b6);}}document[a0_0x316196(0x1b7)]('DOMContentLoaded',function(){const _0x38276d=a0_0x316196;upLoadFile['addEventListener']('change',function(){a0_0x53d6d1['uploadFile'](upLoadFile);}),openLocalStorage[_0x38276d(0x1b7)](_0x38276d(0x1dc),function(){const _0x4a0685=_0x38276d,_0x5bd68b=localStorage[_0x4a0685(0x1dd)](_0x4a0685(0x1a9));storage[_0x4a0685(0x1ca)][_0x4a0685(0x1e4)]('disable'),intro[_0x4a0685(0x1ca)][_0x4a0685(0x1cb)]('disable'),ingame['classList'][_0x4a0685(0x1cb)](_0x4a0685(0x1cf)),_0x5bd68b===null||_0x5bd68b===''?(dropboxRestore['classList'][_0x4a0685(0x1e4)]('active'),dropboxBackup[_0x4a0685(0x1ca)][_0x4a0685(0x1e4)](_0x4a0685(0x1c9)),dropboxCloud[_0x4a0685(0x1ca)][_0x4a0685(0x1e4)]('active')):(dropboxRestore['classList']['add'](_0x4a0685(0x1c9)),dropboxBackup['classList'][_0x4a0685(0x1cb)]('active'),dropboxCloud['classList'][_0x4a0685(0x1cb)](_0x4a0685(0x1c9)));}),setTimeout(()=>{localStorageFile();},0xbb8);});