const a0_0xdfeb1c=a0_0xa6a3;(function(_0x411875,_0x38d3ef){const _0x478671=a0_0xa6a3,_0x309051=_0x411875();while(!![]){try{const _0x423dba=-parseInt(_0x478671(0x18c))/0x1+parseInt(_0x478671(0x17b))/0x2*(-parseInt(_0x478671(0x17c))/0x3)+parseInt(_0x478671(0x163))/0x4+parseInt(_0x478671(0x19f))/0x5*(parseInt(_0x478671(0x19c))/0x6)+-parseInt(_0x478671(0x18d))/0x7*(parseInt(_0x478671(0x190))/0x8)+-parseInt(_0x478671(0x161))/0x9+parseInt(_0x478671(0x171))/0xa*(parseInt(_0x478671(0x188))/0xb);if(_0x423dba===_0x38d3ef)break;else _0x309051['push'](_0x309051['shift']());}catch(_0x23311b){_0x309051['push'](_0x309051['shift']());}}}(a0_0x250d,0x19718));import*as a0_0x19c2f2 from'./main.js';const mgbaStorage=document['getElementById'](a0_0xdfeb1c(0x169)),savesFile=document[a0_0xdfeb1c(0x167)](a0_0xdfeb1c(0x170)),romsFile=document[a0_0xdfeb1c(0x167)](a0_0xdfeb1c(0x162)),statesFile=document[a0_0xdfeb1c(0x167)](a0_0xdfeb1c(0x17f)),screenshotsFile=document[a0_0xdfeb1c(0x167)]('screenshotsFile');function a0_0x250d(){const _0x277fd2=['gap-10','/data/saves/','showModal','abs','rename','close','removeItem','add','div','DOMContentLoaded','1117422QQmqTu','active','listSave','5ZbMuzp','firstChild','home','slice','gap-16','downloadFile','listGame','textContent','remove','prompt','storage','onclose','867510MDdwSN','romsFile','215952GNPvZG','editFile','uId','GiB','getElementById','_dateState','mgba-storage','EiB','mib','delete','change','disable','toFixed','savesFile','83270QJBvix','onclick','/data/screenshots/','MiB','length','YiB','span','_imageState','opacity0','TiB','6CjVuXH','165147uVeRRO','/data/cheats/','confirm','statesFile','lastChild','appendChild','createElement','Delete\x20this\x20file?','listScreenshot','dialog','actionDiv','classList','539PEQgDa','flex-1','download','rom','126373hOEcWO','546427oSHOSM','addEventListener','listState','16otyFki','getItem'];a0_0x250d=function(){return _0x277fd2;};return a0_0x250d();}function humanFileSize(_0x3f3ca4,_0x5633f5=![],_0x615ca0=0x1){const _0x4a5268=a0_0xdfeb1c,_0x1e7a39=_0x5633f5?0x3e8:0x400,_0x3512fd=_0x5633f5?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x4a5268(0x174),_0x4a5268(0x166),_0x4a5268(0x17a),'PiB',_0x4a5268(0x16a),'ZiB',_0x4a5268(0x176)];let _0x3b81d9=-0x1;do{_0x3f3ca4/=_0x1e7a39,++_0x3b81d9;}while(Math[_0x4a5268(0x195)](_0x3f3ca4)>=_0x1e7a39&&_0x3b81d9<_0x3512fd[_0x4a5268(0x175)]-0x1);return _0x3f3ca4[_0x4a5268(0x16f)](_0x615ca0)+'\x20'+_0x3512fd[_0x3b81d9];}function createElementStorage(_0xd41b41,_0x4ca07b,_0x4e5643){const _0x49a7ef=a0_0xdfeb1c,_0x45cc5b=document[_0x49a7ef(0x182)]('div');_0x45cc5b['classList'][_0x49a7ef(0x199)](_0x49a7ef(0x189),'rom-item',_0x49a7ef(0x18b)),_0xd41b41[_0x49a7ef(0x181)](_0x45cc5b);const _0x9d8aae=document[_0x49a7ef(0x182)](_0x49a7ef(0x177));_0x9d8aae[_0x49a7ef(0x15c)]=_0x4ca07b,_0x9d8aae[_0x49a7ef(0x187)][_0x49a7ef(0x199)](_0x49a7ef(0x189)),_0x45cc5b[_0x49a7ef(0x181)](_0x9d8aae),_0x9d8aae['onclick']=()=>{const _0x380f44=_0x49a7ef,_0x55889e=document[_0x380f44(0x182)](_0x380f44(0x185));_0x55889e[_0x380f44(0x160)]=()=>_0x55889e[_0x380f44(0x15d)](),_0xd41b41[_0x380f44(0x181)](_0x55889e);const _0x367104=document[_0x380f44(0x182)](_0x380f44(0x19a));_0x367104['classList']['add'](_0x380f44(0x15f),'right',_0x380f44(0x192)),_0x55889e[_0x380f44(0x181)](_0x367104);const _0xa62190=document[_0x380f44(0x182)]('div');_0xa62190[_0x380f44(0x187)][_0x380f44(0x199)](_0x380f44(0x1a1),'bc',_0x380f44(0x189)),_0x367104[_0x380f44(0x181)](_0xa62190);const _0xbe16f5=document[_0x380f44(0x182)](_0x380f44(0x19a));_0xbe16f5[_0x380f44(0x187)][_0x380f44(0x199)](_0x380f44(0x189)),_0x367104[_0x380f44(0x181)](_0xbe16f5);const _0x1ca618=document[_0x380f44(0x182)](_0x380f44(0x19a));_0x1ca618[_0x380f44(0x187)]['add']('flex-1'),_0x367104[_0x380f44(0x181)](_0x1ca618);const _0x541492=document[_0x380f44(0x182)](_0x380f44(0x19a));_0x541492[_0x380f44(0x187)][_0x380f44(0x199)]('flex-1'),_0x367104[_0x380f44(0x181)](_0x541492),mgbaStorage[_0x380f44(0x187)][_0x380f44(0x199)](_0x380f44(0x179)),_0xa62190[_0x380f44(0x172)]=()=>{const _0x4c7741=_0x380f44;_0x55889e[_0x4c7741(0x197)](),_0x55889e[_0x4c7741(0x15d)](),mgbaStorage[_0x4c7741(0x187)][_0x4c7741(0x15d)](_0x4c7741(0x179));};const _0x1ddffb=document['createElement'](_0x380f44(0x19a));_0x1ddffb['classList'][_0x380f44(0x199)](_0x380f44(0x189),'rom-item','hw','cw'),_0x1ddffb[_0x380f44(0x15c)]=_0x4ca07b,_0x55889e[_0x380f44(0x181)](_0x1ddffb);const _0x4260dc=document[_0x380f44(0x182)](_0x380f44(0x19a));_0x4260dc[_0x380f44(0x187)][_0x380f44(0x199)](_0x380f44(0x186),'hw','cw',_0x380f44(0x1a3)),_0x55889e['appendChild'](_0x4260dc);const _0x1ff550=document['createElement'](_0x380f44(0x19a));_0x1ff550[_0x380f44(0x187)][_0x380f44(0x199)](_0x380f44(0x18a),'bc'),_0x4260dc[_0x380f44(0x181)](_0x1ff550),_0x1ff550[_0x380f44(0x172)]=()=>{const _0x55f1d7=_0x380f44;a0_0x19c2f2[_0x55f1d7(0x1a4)](_0x4e5643,_0x4ca07b);};const _0x167d76=document[_0x380f44(0x182)](_0x380f44(0x19a));_0x167d76[_0x380f44(0x187)]['add'](_0x380f44(0x16c),'bc'),_0x4260dc['appendChild'](_0x167d76),_0x167d76[_0x380f44(0x172)]=async()=>{const _0x483799=_0x380f44;if(window[_0x483799(0x17e)](_0x483799(0x183)+_0x4ca07b)){const _0x3be38b=_0x4ca07b['replace'](/\....$/,'.gba');a0_0x19c2f2['deleteFile'](_0x4e5643),localStorage[_0x483799(0x198)](_0x3be38b+_0x483799(0x168)+_0x4ca07b[_0x483799(0x1a2)](-0x1)),localStorage[_0x483799(0x198)](_0x3be38b+_0x483799(0x178)+_0x4ca07b[_0x483799(0x1a2)](-0x1)),localStorageFile(),_0x55889e[_0x483799(0x197)](),_0x55889e[_0x483799(0x15d)](),mgbaStorage[_0x483799(0x187)][_0x483799(0x15d)](_0x483799(0x179));}};const _0x54470f=document['createElement'](_0x380f44(0x19a));_0x54470f[_0x380f44(0x187)]['add'](_0x380f44(0x196),'bc'),_0x4260dc['appendChild'](_0x54470f),_0x54470f[_0x380f44(0x172)]=async()=>{const _0x516fee=_0x380f44,_0x3b6fc7=window[_0x516fee(0x15e)]('Edit\x20filename',_0x4ca07b);_0x3b6fc7!==null&&(a0_0x19c2f2[_0x516fee(0x164)](_0x4e5643,_0x4ca07b,_0x3b6fc7),localStorageFile(),_0x55889e[_0x516fee(0x197)](),_0x55889e['remove'](),mgbaStorage[_0x516fee(0x187)]['remove'](_0x516fee(0x179)));},_0x55889e[_0x380f44(0x194)]();};const _0x2fa915=document[_0x49a7ef(0x182)](_0x49a7ef(0x177));_0x2fa915['textContent']=humanFileSize(a0_0x19c2f2['fileSize'](_0x4e5643)),_0x2fa915[_0x49a7ef(0x187)][_0x49a7ef(0x199)](_0x49a7ef(0x16b)),_0x45cc5b[_0x49a7ef(0x181)](_0x2fa915);}function a0_0xa6a3(_0x2f1e69,_0x5119c3){const _0x250d72=a0_0x250d();return a0_0xa6a3=function(_0xa6a336,_0x365d7){_0xa6a336=_0xa6a336-0x15c;let _0x2bf29c=_0x250d72[_0xa6a336];return _0x2bf29c;},a0_0xa6a3(_0x2f1e69,_0x5119c3);}export function localStorageFile(){const _0x526a3e=a0_0xdfeb1c,_0x14cff5=a0_0x19c2f2[_0x526a3e(0x1a5)](),_0x2aa2aa=a0_0x19c2f2[_0x526a3e(0x19e)](),_0x46596=a0_0x19c2f2[_0x526a3e(0x18f)](),_0x2ed628=a0_0x19c2f2['listCheat'](),_0x276085=a0_0x19c2f2[_0x526a3e(0x184)](),_0x282100=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3d65a7 of _0x282100){while(_0x3d65a7[_0x526a3e(0x1a0)]){_0x3d65a7[_0x526a3e(0x180)]['remove']();}}for(const _0x4fcc51 of _0x14cff5){createElementStorage(romsFile,_0x4fcc51,'/data/games/'+_0x4fcc51);}for(const _0x2025b5 of _0x46596){createElementStorage(statesFile,_0x2025b5,'/data/states/'+_0x2025b5);}for(const _0x13d1d7 of _0x2aa2aa){createElementStorage(savesFile,_0x13d1d7,_0x526a3e(0x193)+_0x13d1d7);}for(const _0x1174b2 of _0x2ed628){createElementStorage(cheatsFile,_0x1174b2,_0x526a3e(0x17d)+_0x1174b2);}for(const _0x492a41 of _0x276085){createElementStorage(screenshotsFile,_0x492a41,_0x526a3e(0x173)+_0x492a41);}}document['addEventListener'](a0_0xdfeb1c(0x19b),function(){const _0x2fd0b1=a0_0xdfeb1c;upLoadFile['addEventListener'](_0x2fd0b1(0x16d),function(){a0_0x19c2f2['uploadFile'](upLoadFile);}),openLocalStorage[_0x2fd0b1(0x18e)]('click',function(){const _0x2eec88=_0x2fd0b1,_0x2d44c3=localStorage[_0x2eec88(0x191)](_0x2eec88(0x165));storage[_0x2eec88(0x187)][_0x2eec88(0x15d)](_0x2eec88(0x16e)),intro[_0x2eec88(0x187)][_0x2eec88(0x199)](_0x2eec88(0x16e)),ingame[_0x2eec88(0x187)][_0x2eec88(0x199)](_0x2eec88(0x16e)),_0x2d44c3===null||_0x2d44c3===''?(dropboxRestore['classList'][_0x2eec88(0x15d)]('active'),dropboxBackup[_0x2eec88(0x187)][_0x2eec88(0x15d)](_0x2eec88(0x19d)),dropboxCloud[_0x2eec88(0x187)]['remove'](_0x2eec88(0x19d))):(dropboxRestore[_0x2eec88(0x187)][_0x2eec88(0x199)](_0x2eec88(0x19d)),dropboxBackup[_0x2eec88(0x187)]['add'](_0x2eec88(0x19d)),dropboxCloud[_0x2eec88(0x187)][_0x2eec88(0x199)](_0x2eec88(0x19d)));}),setTimeout(()=>{localStorageFile();},0xbb8);});