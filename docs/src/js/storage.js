function a0_0x1e79(_0x2e3a52,_0x44747c){const _0x2a41fb=a0_0x2a41();return a0_0x1e79=function(_0x1e797b,_0x10ac45){_0x1e797b=_0x1e797b-0x6f;let _0x50bf1f=_0x2a41fb[_0x1e797b];return _0x50bf1f;},a0_0x1e79(_0x2e3a52,_0x44747c);}const a0_0x4cc3e2=a0_0x1e79;function a0_0x2a41(){const _0x294ca4=['447783WHBsKA','.cheats','toFixed','uploadGame','prompt','29747980DIIFBe','_dateState','endsWith','length','remove','disable','mib','createElement','appendChild','addEventListener','Edit\x20filename','uId','slice','/data/states/','_imageState','onclick','4954624FimRFm','home','right','PiB','change','2608185QJXGMf','getElementById','5477931ZkOlbS','lastChild','flex-1','343czNCXD','5850131iBSEtU','screenshotsFile','getItem','mgba-storage','GiB','downloadFile','span','/data/screenshots/','deleteFile','YiB','click','romsFile','MiB','1148SRMGnW','.gba','replace','classList','div','savesFile','showModal','removeItem','textContent','add','8LCnyzq','.bc','rename','DOMContentLoaded','listGame','delete','KiB','editFile','TiB','close','listScreenshot','rom-item','name','active','listSave','opacity0','gap-16','uploadCheat','6vjLMGi','gap-10','setItem'];a0_0x2a41=function(){return _0x294ca4;};return a0_0x2a41();}(function(_0x6b27dc,_0x72ccf7){const _0x297994=a0_0x1e79,_0x4677dc=_0x6b27dc();while(!![]){try{const _0x141637=parseInt(_0x297994(0x87))/0x1*(-parseInt(_0x297994(0x95))/0x2)+-parseInt(_0x297994(0xb4))/0x3+-parseInt(_0x297994(0x7d))/0x4+-parseInt(_0x297994(0x82))/0x5+-parseInt(_0x297994(0xb1))/0x6*(parseInt(_0x297994(0x88))/0x7)+parseInt(_0x297994(0x9f))/0x8*(parseInt(_0x297994(0x84))/0x9)+parseInt(_0x297994(0xb9))/0xa;if(_0x141637===_0x72ccf7)break;else _0x4677dc['push'](_0x4677dc['shift']());}catch(_0x54b7f3){_0x4677dc['push'](_0x4677dc['shift']());}}}(a0_0x2a41,0x9c908));import*as a0_0x3ae3b1 from'./main.js';const mgbaStorage=document[a0_0x4cc3e2(0x83)](a0_0x4cc3e2(0x8b)),savesFile=document['getElementById'](a0_0x4cc3e2(0x9a)),romsFile=document[a0_0x4cc3e2(0x83)](a0_0x4cc3e2(0x93)),statesFile=document[a0_0x4cc3e2(0x83)]('statesFile'),screenshotsFile=document[a0_0x4cc3e2(0x83)](a0_0x4cc3e2(0x89));function humanFileSize(_0x28eead,_0x3c34e3=![],_0x4f078f=0x1){const _0x578652=a0_0x4cc3e2,_0x50e7a4=_0x3c34e3?0x3e8:0x400,_0x229523=_0x3c34e3?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x578652(0xa5),_0x578652(0x94),_0x578652(0x8c),_0x578652(0xa7),_0x578652(0x80),'EiB','ZiB',_0x578652(0x91)];let _0x33d24c=-0x1;do{_0x28eead/=_0x50e7a4,++_0x33d24c;}while(Math['abs'](_0x28eead)>=_0x50e7a4&&_0x33d24c<_0x229523[_0x578652(0x70)]-0x1);return _0x28eead[_0x578652(0xb6)](_0x4f078f)+'\x20'+_0x229523[_0x33d24c];}function createElementStorage(_0xc718a5,_0x4433e5,_0x55aed0){const _0x1997b8=a0_0x4cc3e2,_0x47e47d=document[_0x1997b8(0x74)]('div');_0x47e47d['classList'][_0x1997b8(0x9e)](_0x1997b8(0x86),'rom-item','rom'),_0xc718a5[_0x1997b8(0x75)](_0x47e47d);const _0x2666c1=document[_0x1997b8(0x74)](_0x1997b8(0x8e));_0x2666c1[_0x1997b8(0x9d)]=_0x4433e5,_0x2666c1[_0x1997b8(0x98)][_0x1997b8(0x9e)](_0x1997b8(0x86)),_0x47e47d[_0x1997b8(0x75)](_0x2666c1),_0x2666c1[_0x1997b8(0x7c)]=()=>{const _0x3aa04c=_0x1997b8,_0x5d0225=document[_0x3aa04c(0x74)]('dialog');_0x5d0225['onclose']=()=>_0x5d0225['remove'](),_0xc718a5[_0x3aa04c(0x75)](_0x5d0225);const _0x53017f=document[_0x3aa04c(0x74)](_0x3aa04c(0x99));_0x53017f[_0x3aa04c(0x98)][_0x3aa04c(0x9e)]('storage',_0x3aa04c(0x7f),_0x3aa04c(0xb2)),_0x5d0225[_0x3aa04c(0x75)](_0x53017f);const _0x4dcecf=document[_0x3aa04c(0x74)](_0x3aa04c(0x99));_0x4dcecf[_0x3aa04c(0x98)][_0x3aa04c(0x9e)](_0x3aa04c(0x7e),'bc',_0x3aa04c(0x86)),_0x53017f['appendChild'](_0x4dcecf);const _0x43efe5=document['createElement']('div');_0x43efe5[_0x3aa04c(0x98)][_0x3aa04c(0x9e)]('flex-1'),_0x53017f[_0x3aa04c(0x75)](_0x43efe5);const _0x38048f=document[_0x3aa04c(0x74)]('div');_0x38048f['classList'][_0x3aa04c(0x9e)]('flex-1'),_0x53017f[_0x3aa04c(0x75)](_0x38048f);const _0x39370e=document['createElement'](_0x3aa04c(0x99));_0x39370e['classList'][_0x3aa04c(0x9e)](_0x3aa04c(0x86)),_0x53017f[_0x3aa04c(0x75)](_0x39370e),mgbaStorage[_0x3aa04c(0x98)][_0x3aa04c(0x9e)]('opacity0'),_0x4dcecf[_0x3aa04c(0x7c)]=()=>{const _0x3c03b8=_0x3aa04c;_0x5d0225['close'](),_0x5d0225[_0x3c03b8(0x71)](),mgbaStorage[_0x3c03b8(0x98)][_0x3c03b8(0x71)](_0x3c03b8(0xae));};const _0x1019c8=document[_0x3aa04c(0x74)](_0x3aa04c(0x99));_0x1019c8[_0x3aa04c(0x98)]['add']('flex-1',_0x3aa04c(0xaa),'hw','cw'),_0x1019c8['textContent']=_0x4433e5,_0x5d0225[_0x3aa04c(0x75)](_0x1019c8);const _0x527087=document[_0x3aa04c(0x74)](_0x3aa04c(0x99));_0x527087['classList'][_0x3aa04c(0x9e)]('actionDiv','hw','cw',_0x3aa04c(0xaf)),_0x5d0225[_0x3aa04c(0x75)](_0x527087);const _0x295fd1=document[_0x3aa04c(0x74)](_0x3aa04c(0x99));_0x295fd1['classList'][_0x3aa04c(0x9e)]('download','bc'),_0x527087[_0x3aa04c(0x75)](_0x295fd1),_0x295fd1[_0x3aa04c(0x7c)]=()=>{const _0x29d0ca=_0x3aa04c;a0_0x3ae3b1[_0x29d0ca(0x8d)](_0x55aed0,_0x4433e5);};const _0x216045=document[_0x3aa04c(0x74)](_0x3aa04c(0x99));_0x216045[_0x3aa04c(0x98)][_0x3aa04c(0x9e)](_0x3aa04c(0xa4),'bc'),_0x527087[_0x3aa04c(0x75)](_0x216045),_0x216045[_0x3aa04c(0x7c)]=async()=>{const _0x2304c7=_0x3aa04c;if(window['confirm']('Delete\x20this\x20file?'+_0x4433e5)){const _0x12ca0e=_0x4433e5['replace'](/\....$/,'.gba');a0_0x3ae3b1[_0x2304c7(0x90)](_0x55aed0),localStorage[_0x2304c7(0x9c)](_0x12ca0e+_0x2304c7(0xba)+_0x4433e5[_0x2304c7(0x79)](-0x1)),localStorage[_0x2304c7(0x9c)](_0x12ca0e+_0x2304c7(0x7b)+_0x4433e5['slice'](-0x1)),localStorageFile(),_0x5d0225[_0x2304c7(0xa8)](),_0x5d0225[_0x2304c7(0x71)](),mgbaStorage[_0x2304c7(0x98)][_0x2304c7(0x71)](_0x2304c7(0xae));}};const _0x571091=document['createElement'](_0x3aa04c(0x99));_0x571091['classList']['add'](_0x3aa04c(0xa1),'bc'),_0x527087['appendChild'](_0x571091),_0x571091[_0x3aa04c(0x7c)]=async()=>{const _0x3a9df4=_0x3aa04c,_0x586c50=window[_0x3a9df4(0xb8)](_0x3a9df4(0x77),_0x4433e5);if(_0x586c50!==null){const _0x13a639=_0x4433e5[_0x3a9df4(0x97)](/\....$/,'.gba'),_0x1ac8be=_0x586c50[_0x3a9df4(0x97)](/\....$/,_0x3a9df4(0x96)),_0x49ea08=_0x13a639+_0x3a9df4(0xba)+_0x4433e5[_0x3a9df4(0x79)](-0x1),_0xa3c443=_0x13a639+_0x3a9df4(0x7b)+_0x4433e5['slice'](-0x1),_0x2b2034=_0x1ac8be+'_dateState'+_0x586c50['slice'](-0x1),_0x3f0f40=_0x1ac8be+'_imageState'+_0x586c50['slice'](-0x1),_0x50b589=localStorage['getItem'](_0x49ea08),_0x1e16f7=localStorage[_0x3a9df4(0x8a)](_0xa3c443);_0x50b589!==null&&(localStorage['setItem'](_0x2b2034,_0x50b589),localStorage[_0x3a9df4(0x9c)](_0x49ea08)),_0x1e16f7!==null&&(localStorage[_0x3a9df4(0xb3)](_0x3f0f40,_0x1e16f7),localStorage[_0x3a9df4(0x9c)](_0xa3c443)),a0_0x3ae3b1[_0x3a9df4(0xa6)](_0x55aed0,_0x4433e5,_0x586c50),localStorageFile(),_0x5d0225[_0x3a9df4(0xa8)](),_0x5d0225['remove'](),mgbaStorage['classList'][_0x3a9df4(0x71)]('opacity0');}},_0x5d0225[_0x3aa04c(0x9b)]();};const _0x216653=document[_0x1997b8(0x74)]('span');_0x216653['textContent']=humanFileSize(a0_0x3ae3b1['fileSize'](_0x55aed0)),_0x216653[_0x1997b8(0x98)][_0x1997b8(0x9e)](_0x1997b8(0x73)),_0x47e47d[_0x1997b8(0x75)](_0x216653);}export function localStorageFile(){const _0x5a1d44=a0_0x4cc3e2,_0x556a8b=a0_0x3ae3b1[_0x5a1d44(0xa3)](),_0x50dcdf=a0_0x3ae3b1[_0x5a1d44(0xad)](),_0x472d5a=a0_0x3ae3b1['listState'](),_0x332fde=a0_0x3ae3b1['listCheat'](),_0x10940d=a0_0x3ae3b1[_0x5a1d44(0xa9)](),_0x520292=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x114c57 of _0x520292){while(_0x114c57['firstChild']){_0x114c57[_0x5a1d44(0x85)][_0x5a1d44(0x71)]();}}for(const _0x22d694 of _0x556a8b){createElementStorage(romsFile,_0x22d694,'/data/games/'+_0x22d694);}for(const _0x22430d of _0x472d5a){createElementStorage(statesFile,_0x22430d,_0x5a1d44(0x7a)+_0x22430d);}for(const _0x455194 of _0x50dcdf){createElementStorage(savesFile,_0x455194,'/data/saves/'+_0x455194);}for(const _0xf1f280 of _0x332fde){createElementStorage(cheatsFile,_0xf1f280,'/data/cheats/'+_0xf1f280);}for(const _0x27b36e of _0x10940d){createElementStorage(screenshotsFile,_0x27b36e,_0x5a1d44(0x8f)+_0x27b36e);}}document[a0_0x4cc3e2(0x76)](a0_0x4cc3e2(0xa2),function(){const _0x440291=a0_0x4cc3e2;upLoadFile['addEventListener'](_0x440291(0x81),function(){const _0x1185dd=_0x440291,_0x812492=upLoadFile['files'][0x0][_0x1185dd(0xab)];if(_0x812492[_0x1185dd(0x6f)](_0x1185dd(0xb5)))a0_0x3ae3b1[_0x1185dd(0xb0)](upLoadFile);else _0x812492[_0x1185dd(0x6f)](_0x1185dd(0x96))||_0x812492['endsWith']('.gbc')||_0x812492[_0x1185dd(0x6f)](_0x1185dd(0xa0))?a0_0x3ae3b1[_0x1185dd(0xb7)](upLoadFile):a0_0x3ae3b1['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x440291(0x76)](_0x440291(0x92),function(){const _0x306ed4=_0x440291,_0x3c45db=localStorage[_0x306ed4(0x8a)](_0x306ed4(0x78));storage[_0x306ed4(0x98)][_0x306ed4(0x71)](_0x306ed4(0x72)),intro[_0x306ed4(0x98)][_0x306ed4(0x9e)](_0x306ed4(0x72)),ingame[_0x306ed4(0x98)][_0x306ed4(0x9e)](_0x306ed4(0x72)),_0x3c45db===null||_0x3c45db===''?(dropboxRestore['classList']['remove'](_0x306ed4(0xac)),dropboxBackup[_0x306ed4(0x98)]['remove']('active'),dropboxCloud[_0x306ed4(0x98)][_0x306ed4(0x71)](_0x306ed4(0xac))):(dropboxRestore[_0x306ed4(0x98)][_0x306ed4(0x9e)](_0x306ed4(0xac)),dropboxBackup[_0x306ed4(0x98)][_0x306ed4(0x9e)](_0x306ed4(0xac)),dropboxCloud[_0x306ed4(0x98)]['add'](_0x306ed4(0xac)));}),setTimeout(()=>{localStorageFile();},0xbb8);});