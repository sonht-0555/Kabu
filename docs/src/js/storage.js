const a0_0x1a2561=a0_0x3958;(function(_0x3a9794,_0x27b7a1){const _0x5132ee=a0_0x3958,_0x3060a2=_0x3a9794();while(!![]){try{const _0x11af0a=-parseInt(_0x5132ee(0x137))/0x1+-parseInt(_0x5132ee(0x13c))/0x2+-parseInt(_0x5132ee(0x139))/0x3+parseInt(_0x5132ee(0x14a))/0x4+-parseInt(_0x5132ee(0x13f))/0x5+-parseInt(_0x5132ee(0x100))/0x6+-parseInt(_0x5132ee(0x115))/0x7*(-parseInt(_0x5132ee(0x12c))/0x8);if(_0x11af0a===_0x27b7a1)break;else _0x3060a2['push'](_0x3060a2['shift']());}catch(_0x3e1217){_0x3060a2['push'](_0x3060a2['shift']());}}}(a0_0x3ca5,0xb6ff4));import*as a0_0x162209 from'./main.js';const mgbaStorage=document[a0_0x1a2561(0x120)](a0_0x1a2561(0x11e)),savesFile=document['getElementById'](a0_0x1a2561(0x12b)),romsFile=document[a0_0x1a2561(0x120)](a0_0x1a2561(0x13b)),statesFile=document[a0_0x1a2561(0x120)](a0_0x1a2561(0x11b)),screenshotsFile=document[a0_0x1a2561(0x120)](a0_0x1a2561(0x10f));function humanFileSize(_0x4a1939,_0x158f66=![],_0x38de31=0x1){const _0x333253=a0_0x1a2561,_0x274685=_0x158f66?0x3e8:0x400,_0x2775f0=_0x158f66?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB','GiB',_0x333253(0x13a),_0x333253(0x11d),'EiB',_0x333253(0x10a),_0x333253(0x118)];let _0x119ff5=-0x1;do{_0x4a1939/=_0x274685,++_0x119ff5;}while(Math[_0x333253(0x132)](_0x4a1939)>=_0x274685&&_0x119ff5<_0x2775f0[_0x333253(0x143)]-0x1);return _0x4a1939[_0x333253(0x131)](_0x38de31)+'\x20'+_0x2775f0[_0x119ff5];}function createElementStorage(_0x520d9,_0x42405c,_0x341ba3){const _0x2da045=a0_0x1a2561,_0x3cde59=document[_0x2da045(0x101)](_0x2da045(0x145));_0x3cde59[_0x2da045(0x10c)][_0x2da045(0x106)](_0x2da045(0x147),_0x2da045(0x142),_0x2da045(0x112)),_0x520d9[_0x2da045(0x105)](_0x3cde59);const _0x142c2b=document[_0x2da045(0x101)](_0x2da045(0x10e));_0x142c2b[_0x2da045(0x130)]=_0x42405c,_0x142c2b[_0x2da045(0x10c)][_0x2da045(0x106)](_0x2da045(0x147)),_0x3cde59[_0x2da045(0x105)](_0x142c2b),_0x142c2b['onclick']=()=>{const _0x394b56=_0x2da045,_0x35c658=document[_0x394b56(0x101)](_0x394b56(0x125));_0x35c658[_0x394b56(0x149)]=()=>_0x35c658[_0x394b56(0x10b)](),_0x520d9[_0x394b56(0x105)](_0x35c658);const _0x39a8c1=document[_0x394b56(0x101)](_0x394b56(0x145));_0x39a8c1[_0x394b56(0x10c)][_0x394b56(0x106)](_0x394b56(0x103),_0x394b56(0x12d),_0x394b56(0x126)),_0x35c658[_0x394b56(0x105)](_0x39a8c1);const _0x128934=document[_0x394b56(0x101)]('div');_0x128934[_0x394b56(0x10c)][_0x394b56(0x106)](_0x394b56(0x107),'bc','flex-1'),_0x39a8c1[_0x394b56(0x105)](_0x128934);const _0x57c97c=document[_0x394b56(0x101)](_0x394b56(0x145));_0x57c97c['classList'][_0x394b56(0x106)](_0x394b56(0x147)),_0x39a8c1[_0x394b56(0x105)](_0x57c97c);const _0x26c747=document[_0x394b56(0x101)](_0x394b56(0x145));_0x26c747[_0x394b56(0x10c)][_0x394b56(0x106)](_0x394b56(0x147)),_0x39a8c1['appendChild'](_0x26c747);const _0x1dd2ae=document['createElement'](_0x394b56(0x145));_0x1dd2ae['classList'][_0x394b56(0x106)]('flex-1'),_0x39a8c1[_0x394b56(0x105)](_0x1dd2ae),mgbaStorage[_0x394b56(0x10c)][_0x394b56(0x106)](_0x394b56(0x123)),_0x128934[_0x394b56(0x134)]=()=>{const _0x261c4d=_0x394b56;_0x35c658[_0x261c4d(0x144)](),_0x35c658[_0x261c4d(0x10b)](),mgbaStorage[_0x261c4d(0x10c)][_0x261c4d(0x10b)](_0x261c4d(0x123));};const _0x12bda8=document[_0x394b56(0x101)](_0x394b56(0x145));_0x12bda8['classList'][_0x394b56(0x106)](_0x394b56(0x147),_0x394b56(0x142),'hw','cw'),_0x12bda8[_0x394b56(0x130)]=_0x42405c,_0x35c658[_0x394b56(0x105)](_0x12bda8);const _0x4f0e1d=document['createElement']('div');_0x4f0e1d[_0x394b56(0x10c)]['add'](_0x394b56(0x113),'hw','cw',_0x394b56(0x111)),_0x35c658[_0x394b56(0x105)](_0x4f0e1d);const _0x4e0a23=document[_0x394b56(0x101)](_0x394b56(0x145));_0x4e0a23[_0x394b56(0x10c)]['add'](_0x394b56(0x129),'bc'),_0x4f0e1d[_0x394b56(0x105)](_0x4e0a23),_0x4e0a23[_0x394b56(0x134)]=()=>{a0_0x162209['downloadFile'](_0x341ba3,_0x42405c);};const _0x376c8d=document[_0x394b56(0x101)]('div');_0x376c8d[_0x394b56(0x10c)]['add'](_0x394b56(0x140),'bc'),_0x4f0e1d[_0x394b56(0x105)](_0x376c8d),_0x376c8d['onclick']=async()=>{const _0x5a94fc=_0x394b56;if(window[_0x5a94fc(0x146)](_0x5a94fc(0x110)+_0x42405c)){const _0x398d94=_0x42405c[_0x5a94fc(0x104)](/\....$/,_0x5a94fc(0x14b));a0_0x162209[_0x5a94fc(0x148)](_0x341ba3),localStorage[_0x5a94fc(0x11a)](_0x398d94+_0x5a94fc(0x119)+_0x42405c[_0x5a94fc(0x141)](-0x1)),localStorage[_0x5a94fc(0x11a)](_0x398d94+_0x5a94fc(0x136)+_0x42405c['slice'](-0x1)),localStorageFile(),_0x35c658['close'](),_0x35c658['remove'](),mgbaStorage['classList'][_0x5a94fc(0x10b)](_0x5a94fc(0x123));}};const _0x281e78=document[_0x394b56(0x101)](_0x394b56(0x145));_0x281e78[_0x394b56(0x10c)][_0x394b56(0x106)](_0x394b56(0x138),'bc'),_0x4f0e1d['appendChild'](_0x281e78),_0x281e78[_0x394b56(0x134)]=async()=>{const _0xe984d8=_0x394b56,_0xf905f=window[_0xe984d8(0x128)](_0xe984d8(0x12f),_0x42405c);_0xf905f!==null&&(a0_0x162209[_0xe984d8(0x124)](_0x341ba3,_0x42405c,_0xf905f),localStorageFile(),_0x35c658[_0xe984d8(0x144)](),_0x35c658[_0xe984d8(0x10b)](),mgbaStorage['classList'][_0xe984d8(0x10b)](_0xe984d8(0x123)));},_0x35c658[_0x394b56(0x108)]();};const _0x50cf04=document[_0x2da045(0x101)](_0x2da045(0x10e));_0x50cf04[_0x2da045(0x130)]=humanFileSize(a0_0x162209['fileSize'](_0x341ba3)),_0x50cf04['classList'][_0x2da045(0x106)](_0x2da045(0x13d)),_0x3cde59[_0x2da045(0x105)](_0x50cf04);}function a0_0x3958(_0x47e418,_0x55aab1){const _0x3ca5ff=a0_0x3ca5();return a0_0x3958=function(_0x395808,_0x309280){_0x395808=_0x395808-0x100;let _0x364d2d=_0x3ca5ff[_0x395808];return _0x364d2d;},a0_0x3958(_0x47e418,_0x55aab1);}export function localStorageFile(){const _0x5cdfff=a0_0x1a2561,_0x2cb7a0=a0_0x162209[_0x5cdfff(0x13e)](_0x5cdfff(0x102)),_0x2936cf=a0_0x162209['listFiles']('saves'),_0x3f94b5=a0_0x162209[_0x5cdfff(0x13e)]('states'),_0x3ac550=a0_0x162209['listFiles'](_0x5cdfff(0x11c)),_0x1c22e6=a0_0x162209[_0x5cdfff(0x13e)](_0x5cdfff(0x135)),_0x277b96=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x2e3115 of _0x277b96){while(_0x2e3115[_0x5cdfff(0x10d)]){_0x2e3115[_0x5cdfff(0x12a)][_0x5cdfff(0x10b)]();}}for(const _0x1b58bd of _0x2cb7a0){createElementStorage(romsFile,_0x1b58bd,_0x5cdfff(0x117)+_0x1b58bd);}for(const _0x575f45 of _0x3f94b5){createElementStorage(statesFile,_0x575f45,_0x5cdfff(0x11f)+_0x575f45);}for(const _0x4c08e5 of _0x2936cf){createElementStorage(savesFile,_0x4c08e5,'/data/saves/'+_0x4c08e5);}for(const _0x166f4c of _0x3ac550){createElementStorage(cheatsFile,_0x166f4c,'/data/cheats/'+_0x166f4c);}for(const _0x11cf2d of _0x1c22e6){createElementStorage(screenshotsFile,_0x11cf2d,_0x5cdfff(0x133)+_0x11cf2d);}}document[a0_0x1a2561(0x12e)](a0_0x1a2561(0x109),function(){const _0x589084=a0_0x1a2561;upLoadFile[_0x589084(0x12e)](_0x589084(0x121),function(){a0_0x162209['uploadFile'](upLoadFile);}),openLocalStorage[_0x589084(0x12e)]('click',function(){const _0x6d3bd7=_0x589084,_0x2a0530=localStorage[_0x6d3bd7(0x116)](_0x6d3bd7(0x122));storage[_0x6d3bd7(0x10c)][_0x6d3bd7(0x10b)](_0x6d3bd7(0x114)),intro[_0x6d3bd7(0x10c)][_0x6d3bd7(0x106)](_0x6d3bd7(0x114)),ingame[_0x6d3bd7(0x10c)][_0x6d3bd7(0x106)](_0x6d3bd7(0x114)),_0x2a0530===null||_0x2a0530===''?(dropboxRestore[_0x6d3bd7(0x10c)][_0x6d3bd7(0x10b)]('active'),dropboxBackup[_0x6d3bd7(0x10c)][_0x6d3bd7(0x10b)]('active'),dropboxCloud[_0x6d3bd7(0x10c)][_0x6d3bd7(0x10b)](_0x6d3bd7(0x127))):(dropboxRestore['classList'][_0x6d3bd7(0x106)](_0x6d3bd7(0x127)),dropboxBackup[_0x6d3bd7(0x10c)]['add'](_0x6d3bd7(0x127)),dropboxCloud[_0x6d3bd7(0x10c)][_0x6d3bd7(0x106)](_0x6d3bd7(0x127)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x3ca5(){const _0x148e55=['addEventListener','Edit\x20filename','textContent','toFixed','abs','/data/screenshots/','onclick','screenshots','_imageState','361996HNlrHc','rename','3988134VpHMrS','TiB','romsFile','1654470ppHkkQ','mib','listFiles','6573230sAOvVA','delete','slice','rom-item','length','close','div','confirm','flex-1','deleteFile','onclose','3377344Bmnrlt','.gba','5038224dSAlyT','createElement','games','storage','replace','appendChild','add','home','showModal','DOMContentLoaded','ZiB','remove','classList','firstChild','span','screenshotsFile','Delete\x20this\x20file?','gap-16','rom','actionDiv','disable','7ZopWfo','getItem','/data/games/','YiB','_dateState','removeItem','statesFile','cheats','PiB','mgba-storage','/data/states/','getElementById','change','uId','opacity0','editFile','dialog','gap-10','active','prompt','download','lastChild','savesFile','36625432YpjHzw','right'];a0_0x3ca5=function(){return _0x148e55;};return a0_0x3ca5();}