const a0_0x296ddf=a0_0x2c4a;(function(_0x2d102c,_0x25eae1){const _0x1c66bf=a0_0x2c4a,_0x15b2be=_0x2d102c();while(!![]){try{const _0x1deb69=-parseInt(_0x1c66bf(0xfc))/0x1+parseInt(_0x1c66bf(0x110))/0x2+parseInt(_0x1c66bf(0xdb))/0x3*(-parseInt(_0x1c66bf(0xea))/0x4)+-parseInt(_0x1c66bf(0xf1))/0x5+-parseInt(_0x1c66bf(0x11f))/0x6*(parseInt(_0x1c66bf(0xe1))/0x7)+-parseInt(_0x1c66bf(0xf0))/0x8*(-parseInt(_0x1c66bf(0xf2))/0x9)+parseInt(_0x1c66bf(0x11b))/0xa;if(_0x1deb69===_0x25eae1)break;else _0x15b2be['push'](_0x15b2be['shift']());}catch(_0x87c5b9){_0x15b2be['push'](_0x15b2be['shift']());}}}(a0_0x56b6,0xbc24e));import*as a0_0x3bc5f6 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x296ddf(0x10b)),savesFile=document['getElementById'](a0_0x296ddf(0x113)),romsFile=document[a0_0x296ddf(0xd7)](a0_0x296ddf(0xf3)),statesFile=document[a0_0x296ddf(0xd7)](a0_0x296ddf(0xf7)),screenshotsFile=document[a0_0x296ddf(0xd7)](a0_0x296ddf(0xfe));function a0_0x2c4a(_0x564673,_0xd7d8f){const _0x56b680=a0_0x56b6();return a0_0x2c4a=function(_0x2c4af4,_0x4547ae){_0x2c4af4=_0x2c4af4-0xd7;let _0x5e9eb6=_0x56b680[_0x2c4af4];return _0x5e9eb6;},a0_0x2c4a(_0x564673,_0xd7d8f);}function a0_0x56b6(){const _0x5e04cb=['2136rWUCOl','6683915rhsKgf','621dydsHp','romsFile','/data/cheats/','/data/states/','dialog','statesFile','prompt','onclick','slice','/data/saves/','116600hhuwlH','home','screenshotsFile','replace','remove','deleteFile','_dateState','appendChild','delete','textContent','fileSize','setItem','GiB','uploadFile','removeItem','mgba-storage','Edit\x20filename','addEventListener','listGame','disable','1567438yHUTaA','firstChild','listCheat','savesFile','showModal','click','uId','_imageState','YiB','opacity0','flex-1','37293830lSPaoa','createElement','close','DOMContentLoaded','541362zQSLhF','getElementById','downloadFile','gap-10','div','3ToqUYB','abs','toFixed','rom','lastChild','add','98MEBxBe','editFile','getItem','active','MiB','PiB','/data/games/','mib','right','4177304JfvONJ','classList','confirm','span','.gba','rom-item'];a0_0x56b6=function(){return _0x5e04cb;};return a0_0x56b6();}function humanFileSize(_0x18464e,_0x1dfe6a=![],_0x525457=0x1){const _0x549ef7=a0_0x296ddf,_0x44b3a0=_0x1dfe6a?0x3e8:0x400,_0xc6fc6d=_0x1dfe6a?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x549ef7(0xe5),_0x549ef7(0x108),'TiB',_0x549ef7(0xe6),'EiB','ZiB',_0x549ef7(0x118)];let _0xee01ac=-0x1;do{_0x18464e/=_0x44b3a0,++_0xee01ac;}while(Math[_0x549ef7(0xdc)](_0x18464e)>=_0x44b3a0&&_0xee01ac<_0xc6fc6d['length']-0x1);return _0x18464e[_0x549ef7(0xdd)](_0x525457)+'\x20'+_0xc6fc6d[_0xee01ac];}function createElementStorage(_0x29b030,_0x131637,_0x48dfb5){const _0x3dc4f1=a0_0x296ddf,_0x5f4153=document[_0x3dc4f1(0x11c)](_0x3dc4f1(0xda));_0x5f4153[_0x3dc4f1(0xeb)]['add'](_0x3dc4f1(0x11a),_0x3dc4f1(0xef),_0x3dc4f1(0xde)),_0x29b030[_0x3dc4f1(0x103)](_0x5f4153);const _0x40fdd3=document['createElement'](_0x3dc4f1(0xed));_0x40fdd3['textContent']=_0x131637,_0x40fdd3[_0x3dc4f1(0xeb)][_0x3dc4f1(0xe0)](_0x3dc4f1(0x11a)),_0x5f4153['appendChild'](_0x40fdd3),_0x40fdd3[_0x3dc4f1(0xf9)]=()=>{const _0xe7f2ad=_0x3dc4f1,_0xb308e9=document[_0xe7f2ad(0x11c)](_0xe7f2ad(0xf6));_0xb308e9['onclose']=()=>_0xb308e9[_0xe7f2ad(0x100)](),_0x29b030[_0xe7f2ad(0x103)](_0xb308e9);const _0x46b747=document['createElement'](_0xe7f2ad(0xda));_0x46b747[_0xe7f2ad(0xeb)][_0xe7f2ad(0xe0)]('storage',_0xe7f2ad(0xe9),_0xe7f2ad(0xd9)),_0xb308e9[_0xe7f2ad(0x103)](_0x46b747);const _0x298df4=document[_0xe7f2ad(0x11c)]('div');_0x298df4[_0xe7f2ad(0xeb)][_0xe7f2ad(0xe0)](_0xe7f2ad(0xfd),'bc',_0xe7f2ad(0x11a)),_0x46b747[_0xe7f2ad(0x103)](_0x298df4);const _0x57e3b8=document[_0xe7f2ad(0x11c)]('div');_0x57e3b8[_0xe7f2ad(0xeb)][_0xe7f2ad(0xe0)](_0xe7f2ad(0x11a)),_0x46b747['appendChild'](_0x57e3b8);const _0x546970=document[_0xe7f2ad(0x11c)](_0xe7f2ad(0xda));_0x546970['classList'][_0xe7f2ad(0xe0)]('flex-1'),_0x46b747[_0xe7f2ad(0x103)](_0x546970);const _0x4cc54d=document[_0xe7f2ad(0x11c)](_0xe7f2ad(0xda));_0x4cc54d[_0xe7f2ad(0xeb)][_0xe7f2ad(0xe0)]('flex-1'),_0x46b747[_0xe7f2ad(0x103)](_0x4cc54d),mgbaStorage[_0xe7f2ad(0xeb)][_0xe7f2ad(0xe0)](_0xe7f2ad(0x119)),_0x298df4['onclick']=()=>{const _0x5b26ec=_0xe7f2ad;_0xb308e9['close'](),_0xb308e9[_0x5b26ec(0x100)](),mgbaStorage[_0x5b26ec(0xeb)][_0x5b26ec(0x100)]('opacity0');};const _0x26624c=document[_0xe7f2ad(0x11c)]('div');_0x26624c[_0xe7f2ad(0xeb)][_0xe7f2ad(0xe0)](_0xe7f2ad(0x11a),'rom-item','hw','cw'),_0x26624c[_0xe7f2ad(0x105)]=_0x131637,_0xb308e9[_0xe7f2ad(0x103)](_0x26624c);const _0x371058=document[_0xe7f2ad(0x11c)]('div');_0x371058[_0xe7f2ad(0xeb)]['add']('actionDiv','hw','cw','gap-16'),_0xb308e9['appendChild'](_0x371058);const _0x173d20=document[_0xe7f2ad(0x11c)](_0xe7f2ad(0xda));_0x173d20[_0xe7f2ad(0xeb)]['add']('download','bc'),_0x371058['appendChild'](_0x173d20),_0x173d20[_0xe7f2ad(0xf9)]=()=>{const _0x43f535=_0xe7f2ad;a0_0x3bc5f6[_0x43f535(0xd8)](_0x48dfb5,_0x131637);};const _0x38c2f0=document[_0xe7f2ad(0x11c)](_0xe7f2ad(0xda));_0x38c2f0[_0xe7f2ad(0xeb)][_0xe7f2ad(0xe0)](_0xe7f2ad(0x104),'bc'),_0x371058[_0xe7f2ad(0x103)](_0x38c2f0),_0x38c2f0[_0xe7f2ad(0xf9)]=async()=>{const _0x596df0=_0xe7f2ad;if(window[_0x596df0(0xec)]('Delete\x20this\x20file?'+_0x131637)){const _0x541a87=_0x131637[_0x596df0(0xff)](/\....$/,_0x596df0(0xee));a0_0x3bc5f6[_0x596df0(0x101)](_0x48dfb5),localStorage[_0x596df0(0x10a)](_0x541a87+_0x596df0(0x102)+_0x131637[_0x596df0(0xfa)](-0x1)),localStorage[_0x596df0(0x10a)](_0x541a87+_0x596df0(0x117)+_0x131637[_0x596df0(0xfa)](-0x1)),localStorageFile(),_0xb308e9[_0x596df0(0x11d)](),_0xb308e9['remove'](),mgbaStorage[_0x596df0(0xeb)][_0x596df0(0x100)]('opacity0');}};const _0x3c5c7a=document['createElement']('div');_0x3c5c7a[_0xe7f2ad(0xeb)][_0xe7f2ad(0xe0)]('rename','bc'),_0x371058[_0xe7f2ad(0x103)](_0x3c5c7a),_0x3c5c7a[_0xe7f2ad(0xf9)]=async()=>{const _0x2ac3c3=_0xe7f2ad,_0x3081a2=window[_0x2ac3c3(0xf8)](_0x2ac3c3(0x10c),_0x131637);if(_0x3081a2!==null){const _0x1e2770=_0x131637[_0x2ac3c3(0xff)](/\....$/,_0x2ac3c3(0xee)),_0x1962f1=_0x3081a2['replace'](/\....$/,_0x2ac3c3(0xee)),_0x510338=_0x1e2770+'_dateState'+_0x131637['slice'](-0x1),_0x5e6ce7=_0x1e2770+'_imageState'+_0x131637[_0x2ac3c3(0xfa)](-0x1),_0x4417df=_0x1962f1+_0x2ac3c3(0x102)+_0x3081a2[_0x2ac3c3(0xfa)](-0x1),_0x210acf=_0x1962f1+'_imageState'+_0x3081a2[_0x2ac3c3(0xfa)](-0x1),_0x72001e=localStorage[_0x2ac3c3(0xe3)](_0x510338),_0x93f95e=localStorage[_0x2ac3c3(0xe3)](_0x5e6ce7);_0x72001e!==null&&(localStorage[_0x2ac3c3(0x107)](_0x4417df,_0x72001e),localStorage[_0x2ac3c3(0x10a)](_0x510338)),_0x93f95e!==null&&(localStorage[_0x2ac3c3(0x107)](_0x210acf,_0x93f95e),localStorage[_0x2ac3c3(0x10a)](_0x5e6ce7)),a0_0x3bc5f6[_0x2ac3c3(0xe2)](_0x48dfb5,_0x131637,_0x3081a2),localStorageFile(),_0xb308e9['close'](),_0xb308e9['remove'](),mgbaStorage['classList'][_0x2ac3c3(0x100)](_0x2ac3c3(0x119));}},_0xb308e9[_0xe7f2ad(0x114)]();};const _0x4b2471=document[_0x3dc4f1(0x11c)]('span');_0x4b2471[_0x3dc4f1(0x105)]=humanFileSize(a0_0x3bc5f6[_0x3dc4f1(0x106)](_0x48dfb5)),_0x4b2471[_0x3dc4f1(0xeb)][_0x3dc4f1(0xe0)](_0x3dc4f1(0xe8)),_0x5f4153[_0x3dc4f1(0x103)](_0x4b2471);}export function localStorageFile(){const _0x29ad64=a0_0x296ddf,_0x91874b=a0_0x3bc5f6[_0x29ad64(0x10e)](),_0x531a7d=a0_0x3bc5f6['listSave'](),_0x122204=a0_0x3bc5f6['listState'](),_0x2f6698=a0_0x3bc5f6[_0x29ad64(0x112)](),_0xb512e7=a0_0x3bc5f6['listScreenshot'](),_0x1071bb=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3e8bfe of _0x1071bb){while(_0x3e8bfe[_0x29ad64(0x111)]){_0x3e8bfe[_0x29ad64(0xdf)]['remove']();}}for(const _0x53ccf9 of _0x91874b){createElementStorage(romsFile,_0x53ccf9,_0x29ad64(0xe7)+_0x53ccf9);}for(const _0x30b18e of _0x122204){createElementStorage(statesFile,_0x30b18e,_0x29ad64(0xf5)+_0x30b18e);}for(const _0x3e1774 of _0x531a7d){createElementStorage(savesFile,_0x3e1774,_0x29ad64(0xfb)+_0x3e1774);}for(const _0x208165 of _0x2f6698){createElementStorage(cheatsFile,_0x208165,_0x29ad64(0xf4)+_0x208165);}for(const _0x261d45 of _0xb512e7){createElementStorage(screenshotsFile,_0x261d45,'/data/screenshots/'+_0x261d45);}}document[a0_0x296ddf(0x10d)](a0_0x296ddf(0x11e),function(){const _0x4bb333=a0_0x296ddf;upLoadFile[_0x4bb333(0x10d)]('change',function(){const _0x10c3c8=_0x4bb333;a0_0x3bc5f6[_0x10c3c8(0x109)](upLoadFile);}),openLocalStorage[_0x4bb333(0x10d)](_0x4bb333(0x115),function(){const _0x2862c7=_0x4bb333,_0x594a16=localStorage['getItem'](_0x2862c7(0x116));storage[_0x2862c7(0xeb)][_0x2862c7(0x100)](_0x2862c7(0x10f)),intro[_0x2862c7(0xeb)][_0x2862c7(0xe0)]('disable'),ingame['classList'][_0x2862c7(0xe0)](_0x2862c7(0x10f)),_0x594a16===null||_0x594a16===''?(dropboxRestore[_0x2862c7(0xeb)][_0x2862c7(0x100)]('active'),dropboxBackup[_0x2862c7(0xeb)][_0x2862c7(0x100)](_0x2862c7(0xe4)),dropboxCloud[_0x2862c7(0xeb)][_0x2862c7(0x100)]('active')):(dropboxRestore[_0x2862c7(0xeb)][_0x2862c7(0xe0)](_0x2862c7(0xe4)),dropboxBackup[_0x2862c7(0xeb)][_0x2862c7(0xe0)](_0x2862c7(0xe4)),dropboxCloud[_0x2862c7(0xeb)][_0x2862c7(0xe0)](_0x2862c7(0xe4)));}),setTimeout(()=>{localStorageFile();},0xbb8);});