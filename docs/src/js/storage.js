const a0_0xb5449d=a0_0x306b;function a0_0x221c(){const _0x561a56=['showModal','getElementById','rename','PiB','/data/cheats/','statesFile','classList','home','prompt','div','rom-item','onclose','confirm','dialog','lastChild','games','slice','disable','4rQuFsw','right','KiB','abs','_dateState','374VfwGFV','screenshots','click','remove','/data/screenshots/','EiB','romsFile','58202KsgRTz','appendChild','length','span','DOMContentLoaded','screenshotsFile','toFixed','485394IsJIii','ZiB','listFiles','close','Delete\x20this\x20file?','Edit\x20filename','gap-10','createElement','add','102430qOgcHy','mib','active','removeItem','gap-16','/data/games/','7yPCRvW','/data/states/','delete','firstChild','downloadFile','flex-1','uId','rom','cheats','replace','saves','500622sYKosO','textContent','YiB','5vkzQku','editFile','addEventListener','973494Sdisur','1262120qCRokZ','getItem','_imageState','change','mgba-storage','onclick','/data/saves/','storage','906985FULpIs','download','uploadFile','GiB','savesFile','opacity0'];a0_0x221c=function(){return _0x561a56;};return a0_0x221c();}(function(_0xf5ca70,_0x19e067){const _0x1911ca=a0_0x306b,_0x331a16=_0xf5ca70();while(!![]){try{const _0x1439f9=parseInt(_0x1911ca(0x197))/0x1*(parseInt(_0x1911ca(0x173))/0x2)+parseInt(_0x1911ca(0x17a))/0x3+-parseInt(_0x1911ca(0x167))/0x4*(-parseInt(_0x1911ca(0x14f))/0x5)+parseInt(_0x1911ca(0x194))/0x6*(-parseInt(_0x1911ca(0x189))/0x7)+parseInt(_0x1911ca(0x19b))/0x8+-parseInt(_0x1911ca(0x19a))/0x9+parseInt(_0x1911ca(0x183))/0xa*(-parseInt(_0x1911ca(0x16c))/0xb);if(_0x1439f9===_0x19e067)break;else _0x331a16['push'](_0x331a16['shift']());}catch(_0x30a50e){_0x331a16['push'](_0x331a16['shift']());}}}(a0_0x221c,0x1a068));import*as a0_0x16b3b4 from'./main.js';const mgbaStorage=document[a0_0xb5449d(0x156)](a0_0xb5449d(0x19f)),savesFile=document['getElementById'](a0_0xb5449d(0x153)),romsFile=document['getElementById'](a0_0xb5449d(0x172)),statesFile=document[a0_0xb5449d(0x156)](a0_0xb5449d(0x15a)),screenshotsFile=document[a0_0xb5449d(0x156)](a0_0xb5449d(0x178));function humanFileSize(_0x5b9870,_0x5656e9=![],_0x34a3b0=0x1){const _0x347f7a=a0_0xb5449d,_0x50356e=_0x5656e9?0x3e8:0x400,_0x59bec5=_0x5656e9?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x347f7a(0x169),'MiB',_0x347f7a(0x152),'TiB',_0x347f7a(0x158),_0x347f7a(0x171),_0x347f7a(0x17b),_0x347f7a(0x196)];let _0x50c87a=-0x1;do{_0x5b9870/=_0x50356e,++_0x50c87a;}while(Math[_0x347f7a(0x16a)](_0x5b9870)>=_0x50356e&&_0x50c87a<_0x59bec5[_0x347f7a(0x175)]-0x1);return _0x5b9870[_0x347f7a(0x179)](_0x34a3b0)+'\x20'+_0x59bec5[_0x50c87a];}function a0_0x306b(_0x8f0b9a,_0x665a0){const _0x221c3b=a0_0x221c();return a0_0x306b=function(_0x306b04,_0x3c5f7b){_0x306b04=_0x306b04-0x14c;let _0x56ef95=_0x221c3b[_0x306b04];return _0x56ef95;},a0_0x306b(_0x8f0b9a,_0x665a0);}function createElementStorage(_0x35bda3,_0x3594d4,_0xf81fdd){const _0x4c4df1=a0_0xb5449d,_0x2de9a2=document[_0x4c4df1(0x181)]('div');_0x2de9a2['classList'][_0x4c4df1(0x182)](_0x4c4df1(0x18e),'rom-item',_0x4c4df1(0x190)),_0x35bda3[_0x4c4df1(0x174)](_0x2de9a2);const _0x2ed00a=document['createElement'](_0x4c4df1(0x176));_0x2ed00a[_0x4c4df1(0x195)]=_0x3594d4,_0x2ed00a[_0x4c4df1(0x15b)][_0x4c4df1(0x182)](_0x4c4df1(0x18e)),_0x2de9a2[_0x4c4df1(0x174)](_0x2ed00a),_0x2ed00a[_0x4c4df1(0x14c)]=()=>{const _0x25570b=_0x4c4df1,_0x536ccb=document['createElement'](_0x25570b(0x162));_0x536ccb[_0x25570b(0x160)]=()=>_0x536ccb[_0x25570b(0x16f)](),_0x35bda3[_0x25570b(0x174)](_0x536ccb);const _0x198fbb=document['createElement'](_0x25570b(0x15e));_0x198fbb[_0x25570b(0x15b)][_0x25570b(0x182)](_0x25570b(0x14e),_0x25570b(0x168),_0x25570b(0x180)),_0x536ccb[_0x25570b(0x174)](_0x198fbb);const _0x212757=document['createElement']('div');_0x212757['classList']['add'](_0x25570b(0x15c),'bc','flex-1'),_0x198fbb[_0x25570b(0x174)](_0x212757);const _0x1eb1a9=document[_0x25570b(0x181)](_0x25570b(0x15e));_0x1eb1a9[_0x25570b(0x15b)][_0x25570b(0x182)](_0x25570b(0x18e)),_0x198fbb[_0x25570b(0x174)](_0x1eb1a9);const _0x4b5d4a=document[_0x25570b(0x181)]('div');_0x4b5d4a['classList']['add']('flex-1'),_0x198fbb[_0x25570b(0x174)](_0x4b5d4a);const _0x470671=document[_0x25570b(0x181)]('div');_0x470671['classList'][_0x25570b(0x182)]('flex-1'),_0x198fbb['appendChild'](_0x470671),mgbaStorage['classList']['add']('opacity0'),_0x212757[_0x25570b(0x14c)]=()=>{const _0x11ab08=_0x25570b;_0x536ccb[_0x11ab08(0x17d)](),_0x536ccb[_0x11ab08(0x16f)](),mgbaStorage[_0x11ab08(0x15b)]['remove'](_0x11ab08(0x154));};const _0x3dee74=document[_0x25570b(0x181)](_0x25570b(0x15e));_0x3dee74['classList'][_0x25570b(0x182)](_0x25570b(0x18e),_0x25570b(0x15f),'hw','cw'),_0x3dee74[_0x25570b(0x195)]=_0x3594d4,_0x536ccb[_0x25570b(0x174)](_0x3dee74);const _0x262988=document[_0x25570b(0x181)](_0x25570b(0x15e));_0x262988[_0x25570b(0x15b)][_0x25570b(0x182)]('actionDiv','hw','cw',_0x25570b(0x187)),_0x536ccb[_0x25570b(0x174)](_0x262988);const _0xc3f0df=document[_0x25570b(0x181)]('div');_0xc3f0df[_0x25570b(0x15b)][_0x25570b(0x182)](_0x25570b(0x150),'bc'),_0x262988[_0x25570b(0x174)](_0xc3f0df),_0xc3f0df[_0x25570b(0x14c)]=()=>{const _0x5d9dcc=_0x25570b;a0_0x16b3b4[_0x5d9dcc(0x18d)](_0xf81fdd,_0x3594d4);};const _0x14709f=document['createElement'](_0x25570b(0x15e));_0x14709f[_0x25570b(0x15b)]['add'](_0x25570b(0x18b),'bc'),_0x262988[_0x25570b(0x174)](_0x14709f),_0x14709f[_0x25570b(0x14c)]=async()=>{const _0x45c917=_0x25570b;if(window[_0x45c917(0x161)](_0x45c917(0x17e)+_0x3594d4)){const _0x10426d=_0x3594d4[_0x45c917(0x192)](/\....$/,'.gba');a0_0x16b3b4['deleteFile'](_0xf81fdd),localStorage[_0x45c917(0x186)](_0x10426d+_0x45c917(0x16b)+_0x3594d4[_0x45c917(0x165)](-0x1)),localStorage['removeItem'](_0x10426d+_0x45c917(0x19d)+_0x3594d4[_0x45c917(0x165)](-0x1)),localStorageFile(),_0x536ccb['close'](),_0x536ccb['remove'](),mgbaStorage[_0x45c917(0x15b)][_0x45c917(0x16f)]('opacity0');}};const _0x465b8d=document[_0x25570b(0x181)](_0x25570b(0x15e));_0x465b8d[_0x25570b(0x15b)][_0x25570b(0x182)](_0x25570b(0x157),'bc'),_0x262988[_0x25570b(0x174)](_0x465b8d),_0x465b8d[_0x25570b(0x14c)]=async()=>{const _0x2d81f9=_0x25570b,_0x53af75=window[_0x2d81f9(0x15d)](_0x2d81f9(0x17f),_0x3594d4);_0x53af75!==null&&(a0_0x16b3b4[_0x2d81f9(0x198)](_0xf81fdd,_0x3594d4,_0x53af75),localStorageFile(),_0x536ccb[_0x2d81f9(0x17d)](),_0x536ccb[_0x2d81f9(0x16f)](),mgbaStorage[_0x2d81f9(0x15b)][_0x2d81f9(0x16f)](_0x2d81f9(0x154)));},_0x536ccb[_0x25570b(0x155)]();};const _0x554f10=document[_0x4c4df1(0x181)](_0x4c4df1(0x176));_0x554f10[_0x4c4df1(0x195)]=humanFileSize(a0_0x16b3b4['fileSize'](_0xf81fdd)),_0x554f10[_0x4c4df1(0x15b)][_0x4c4df1(0x182)](_0x4c4df1(0x184)),_0x2de9a2[_0x4c4df1(0x174)](_0x554f10);}export function localStorageFile(){const _0x3d2873=a0_0xb5449d,_0x50f2a8=a0_0x16b3b4[_0x3d2873(0x17c)](_0x3d2873(0x164)),_0x2054e9=a0_0x16b3b4[_0x3d2873(0x17c)](_0x3d2873(0x193)),_0x190e6c=a0_0x16b3b4[_0x3d2873(0x17c)]('states'),_0x5d2ed8=a0_0x16b3b4[_0x3d2873(0x17c)](_0x3d2873(0x191)),_0x291652=a0_0x16b3b4[_0x3d2873(0x17c)](_0x3d2873(0x16d)),_0x3221e8=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4b3446 of _0x3221e8){while(_0x4b3446[_0x3d2873(0x18c)]){_0x4b3446[_0x3d2873(0x163)][_0x3d2873(0x16f)]();}}for(const _0x313519 of _0x50f2a8){createElementStorage(romsFile,_0x313519,_0x3d2873(0x188)+_0x313519);}for(const _0x2beffd of _0x190e6c){createElementStorage(statesFile,_0x2beffd,_0x3d2873(0x18a)+_0x2beffd);}for(const _0x28f3d8 of _0x2054e9){createElementStorage(savesFile,_0x28f3d8,_0x3d2873(0x14d)+_0x28f3d8);}for(const _0x7ca2e7 of _0x5d2ed8){createElementStorage(cheatsFile,_0x7ca2e7,_0x3d2873(0x159)+_0x7ca2e7);}for(const _0x140d10 of _0x291652){createElementStorage(screenshotsFile,_0x140d10,_0x3d2873(0x170)+_0x140d10);}}document[a0_0xb5449d(0x199)](a0_0xb5449d(0x177),function(){const _0x3be24b=a0_0xb5449d;upLoadFile[_0x3be24b(0x199)](_0x3be24b(0x19e),function(){const _0x27ae42=_0x3be24b;a0_0x16b3b4[_0x27ae42(0x151)](upLoadFile);}),openLocalStorage['addEventListener'](_0x3be24b(0x16e),function(){const _0x8d4f47=_0x3be24b,_0x4a57f6=localStorage[_0x8d4f47(0x19c)](_0x8d4f47(0x18f));storage[_0x8d4f47(0x15b)][_0x8d4f47(0x16f)](_0x8d4f47(0x166)),intro[_0x8d4f47(0x15b)][_0x8d4f47(0x182)](_0x8d4f47(0x166)),ingame['classList']['add'](_0x8d4f47(0x166)),_0x4a57f6===null||_0x4a57f6===''?(dropboxRestore[_0x8d4f47(0x15b)][_0x8d4f47(0x16f)]('active'),dropboxBackup[_0x8d4f47(0x15b)][_0x8d4f47(0x16f)]('active'),dropboxCloud[_0x8d4f47(0x15b)]['remove']('active')):(dropboxRestore[_0x8d4f47(0x15b)][_0x8d4f47(0x182)]('active'),dropboxBackup[_0x8d4f47(0x15b)]['add'](_0x8d4f47(0x185)),dropboxCloud['classList'][_0x8d4f47(0x182)](_0x8d4f47(0x185)));}),setTimeout(()=>{localStorageFile();},0xbb8);});