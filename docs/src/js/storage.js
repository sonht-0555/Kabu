const a0_0xeb7efd=a0_0x5936;(function(_0x163f1b,_0xc54c64){const _0x483fb1=a0_0x5936,_0x10b0bf=_0x163f1b();while(!![]){try{const _0x11631b=-parseInt(_0x483fb1(0x120))/0x1+-parseInt(_0x483fb1(0x14a))/0x2+-parseInt(_0x483fb1(0x153))/0x3+parseInt(_0x483fb1(0x129))/0x4*(parseInt(_0x483fb1(0x133))/0x5)+parseInt(_0x483fb1(0x15b))/0x6*(-parseInt(_0x483fb1(0x12c))/0x7)+parseInt(_0x483fb1(0x14b))/0x8*(-parseInt(_0x483fb1(0x123))/0x9)+parseInt(_0x483fb1(0x124))/0xa*(parseInt(_0x483fb1(0x13a))/0xb);if(_0x11631b===_0xc54c64)break;else _0x10b0bf['push'](_0x10b0bf['shift']());}catch(_0x5a7140){_0x10b0bf['push'](_0x10b0bf['shift']());}}}(a0_0x2e14,0x6146f));function a0_0x5936(_0x525d1d,_0x6a00be){const _0x2e1419=a0_0x2e14();return a0_0x5936=function(_0x5936f6,_0x3ee96e){_0x5936f6=_0x5936f6-0x11f;let _0x1ccb0b=_0x2e1419[_0x5936f6];return _0x1ccb0b;},a0_0x5936(_0x525d1d,_0x6a00be);}import*as a0_0x2628a1 from'./main.js';const mgbaStorage=document[a0_0xeb7efd(0x11f)](a0_0xeb7efd(0x16a)),savesFile=document[a0_0xeb7efd(0x11f)]('savesFile'),romsFile=document['getElementById']('romsFile'),statesFile=document[a0_0xeb7efd(0x11f)](a0_0xeb7efd(0x139)),screenshotsFile=document[a0_0xeb7efd(0x11f)](a0_0xeb7efd(0x130));function humanFileSize(_0x51361c,_0x175dfc=![],_0x5ebeea=0x1){const _0x5c2bde=a0_0xeb7efd,_0x2afced=_0x175dfc?0x3e8:0x400,_0x3feef2=_0x175dfc?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5c2bde(0x144),_0x5c2bde(0x131),_0x5c2bde(0x132),_0x5c2bde(0x15e),_0x5c2bde(0x140),'EiB',_0x5c2bde(0x12d),_0x5c2bde(0x14c)];let _0x44d97b=-0x1;do{_0x51361c/=_0x2afced,++_0x44d97b;}while(Math[_0x5c2bde(0x161)](_0x51361c)>=_0x2afced&&_0x44d97b<_0x3feef2['length']-0x1);return _0x51361c[_0x5c2bde(0x148)](_0x5ebeea)+'\x20'+_0x3feef2[_0x44d97b];}function createElementStorage(_0x3f72e4,_0x2a7b80,_0x2f2d97){const _0x359a24=a0_0xeb7efd,_0x2ec0e8=document[_0x359a24(0x142)](_0x359a24(0x13d));_0x2ec0e8['classList'][_0x359a24(0x141)](_0x359a24(0x13c),'rom-item',_0x359a24(0x14e)),_0x3f72e4[_0x359a24(0x137)](_0x2ec0e8);const _0x6bc63e=document[_0x359a24(0x142)](_0x359a24(0x152));_0x6bc63e[_0x359a24(0x13b)]=_0x2a7b80,_0x6bc63e[_0x359a24(0x128)][_0x359a24(0x141)](_0x359a24(0x13c)),_0x2ec0e8[_0x359a24(0x137)](_0x6bc63e),_0x6bc63e['onclick']=()=>{const _0x89d2f0=_0x359a24,_0x372c8b=document['createElement'](_0x89d2f0(0x146));_0x372c8b[_0x89d2f0(0x168)]=()=>_0x372c8b[_0x89d2f0(0x147)](),_0x3f72e4[_0x89d2f0(0x137)](_0x372c8b);const _0x56df18=document['createElement'](_0x89d2f0(0x13d));_0x56df18['classList'][_0x89d2f0(0x141)](_0x89d2f0(0x145),_0x89d2f0(0x158),'gap-10'),_0x372c8b[_0x89d2f0(0x137)](_0x56df18);const _0x5978b3=document[_0x89d2f0(0x142)](_0x89d2f0(0x13d));_0x5978b3[_0x89d2f0(0x128)][_0x89d2f0(0x141)](_0x89d2f0(0x12a),'bc',_0x89d2f0(0x13c)),_0x56df18[_0x89d2f0(0x137)](_0x5978b3);const _0x28d4cd=document[_0x89d2f0(0x142)]('div');_0x28d4cd[_0x89d2f0(0x128)][_0x89d2f0(0x141)](_0x89d2f0(0x13c)),_0x56df18['appendChild'](_0x28d4cd);const _0x532f8e=document[_0x89d2f0(0x142)](_0x89d2f0(0x13d));_0x532f8e[_0x89d2f0(0x128)][_0x89d2f0(0x141)](_0x89d2f0(0x13c)),_0x56df18[_0x89d2f0(0x137)](_0x532f8e);const _0x2342f5=document[_0x89d2f0(0x142)](_0x89d2f0(0x13d));_0x2342f5[_0x89d2f0(0x128)][_0x89d2f0(0x141)](_0x89d2f0(0x13c)),_0x56df18[_0x89d2f0(0x137)](_0x2342f5),mgbaStorage[_0x89d2f0(0x128)][_0x89d2f0(0x141)](_0x89d2f0(0x15a)),_0x5978b3[_0x89d2f0(0x16b)]=()=>{const _0x7a807e=_0x89d2f0;_0x372c8b[_0x7a807e(0x157)](),_0x372c8b[_0x7a807e(0x147)](),mgbaStorage[_0x7a807e(0x128)]['remove'](_0x7a807e(0x15a));};const _0x580903=document[_0x89d2f0(0x142)](_0x89d2f0(0x13d));_0x580903[_0x89d2f0(0x128)]['add']('flex-1',_0x89d2f0(0x143),'hw','cw'),_0x580903[_0x89d2f0(0x13b)]=_0x2a7b80,_0x372c8b[_0x89d2f0(0x137)](_0x580903);const _0x14e2a0=document[_0x89d2f0(0x142)](_0x89d2f0(0x13d));_0x14e2a0[_0x89d2f0(0x128)]['add'](_0x89d2f0(0x15d),'hw','cw',_0x89d2f0(0x163)),_0x372c8b['appendChild'](_0x14e2a0);const _0x306178=document[_0x89d2f0(0x142)]('div');_0x306178['classList']['add'](_0x89d2f0(0x149),'bc'),_0x14e2a0['appendChild'](_0x306178),_0x306178[_0x89d2f0(0x16b)]=()=>{const _0x15b264=_0x89d2f0;a0_0x2628a1[_0x15b264(0x135)](_0x2f2d97,_0x2a7b80);};const _0x254f8f=document['createElement'](_0x89d2f0(0x13d));_0x254f8f[_0x89d2f0(0x128)]['add'](_0x89d2f0(0x15c),'bc'),_0x14e2a0[_0x89d2f0(0x137)](_0x254f8f),_0x254f8f[_0x89d2f0(0x16b)]=async()=>{const _0x56761d=_0x89d2f0;if(window[_0x56761d(0x127)](_0x56761d(0x138)+_0x2a7b80)){const _0x4c4b56=_0x2a7b80[_0x56761d(0x12b)](/\....$/,_0x56761d(0x167));a0_0x2628a1[_0x56761d(0x169)](_0x2f2d97),localStorage[_0x56761d(0x159)](_0x4c4b56+'_dateState'+_0x2a7b80['slice'](-0x1)),localStorage[_0x56761d(0x159)](_0x4c4b56+_0x56761d(0x155)+_0x2a7b80[_0x56761d(0x12e)](-0x1)),localStorageFile(),_0x372c8b[_0x56761d(0x157)](),_0x372c8b[_0x56761d(0x147)](),mgbaStorage[_0x56761d(0x128)][_0x56761d(0x147)](_0x56761d(0x15a));}};const _0x15bb4b=document[_0x89d2f0(0x142)](_0x89d2f0(0x13d));_0x15bb4b['classList']['add'](_0x89d2f0(0x14f),'bc'),_0x14e2a0[_0x89d2f0(0x137)](_0x15bb4b),_0x15bb4b[_0x89d2f0(0x16b)]=async()=>{const _0x436cfc=_0x89d2f0,_0x354ba8=window['prompt']('Edit\x20filename',_0x2a7b80);_0x354ba8!==null&&(a0_0x2628a1[_0x436cfc(0x156)](_0x2f2d97,_0x2a7b80,_0x354ba8),localStorageFile(),_0x372c8b[_0x436cfc(0x157)](),_0x372c8b[_0x436cfc(0x147)](),mgbaStorage['classList'][_0x436cfc(0x147)](_0x436cfc(0x15a)));},_0x372c8b[_0x89d2f0(0x166)]();};const _0x303c8c=document['createElement'](_0x359a24(0x152));_0x303c8c[_0x359a24(0x13b)]=humanFileSize(a0_0x2628a1[_0x359a24(0x125)](_0x2f2d97)),_0x303c8c['classList'][_0x359a24(0x141)](_0x359a24(0x122)),_0x2ec0e8['appendChild'](_0x303c8c);}export function localStorageFile(){const _0xceb5fc=a0_0xeb7efd,_0x15d304=a0_0x2628a1[_0xceb5fc(0x151)](_0xceb5fc(0x13e)),_0x74cad7=a0_0x2628a1[_0xceb5fc(0x151)](_0xceb5fc(0x12f)),_0x228110=a0_0x2628a1[_0xceb5fc(0x151)](_0xceb5fc(0x14d)),_0x531ffa=a0_0x2628a1[_0xceb5fc(0x151)](_0xceb5fc(0x134)),_0x363b43=a0_0x2628a1[_0xceb5fc(0x151)](_0xceb5fc(0x164)),_0x29c5b0=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3c6af5 of _0x29c5b0){while(_0x3c6af5['firstChild']){_0x3c6af5['lastChild'][_0xceb5fc(0x147)]();}}for(const _0x43d768 of _0x15d304){createElementStorage(romsFile,_0x43d768,'/data/games/'+_0x43d768);}for(const _0x5605ed of _0x228110){createElementStorage(statesFile,_0x5605ed,_0xceb5fc(0x165)+_0x5605ed);}for(const _0x16324e of _0x74cad7){createElementStorage(savesFile,_0x16324e,_0xceb5fc(0x136)+_0x16324e);}for(const _0x12450b of _0x531ffa){createElementStorage(cheatsFile,_0x12450b,'/data/cheats/'+_0x12450b);}for(const _0x1115c3 of _0x363b43){createElementStorage(screenshotsFile,_0x1115c3,'/data/screenshots/'+_0x1115c3);}}function a0_0x2e14(){const _0x4bb477=['mgba-storage','onclick','getElementById','103984AhjCEX','uploadFile','mib','711uUWQAF','46390puEBqo','fileSize','click','confirm','classList','508ruUjgX','home','replace','19411PYDjZc','ZiB','slice','saves','screenshotsFile','MiB','GiB','10345myuZUx','cheats','downloadFile','/data/saves/','appendChild','Delete\x20this\x20file?','statesFile','2849XvyQKG','textContent','flex-1','div','games','addEventListener','PiB','add','createElement','rom-item','KiB','storage','dialog','remove','toFixed','download','364138ptZMZX','8040xiWMkU','YiB','states','rom','rename','uId','listFiles','span','395712ClwDZs','change','_imageState','editFile','close','right','removeItem','opacity0','1230dQfVxl','delete','actionDiv','TiB','disable','active','abs','DOMContentLoaded','gap-16','screenshots','/data/states/','showModal','.gba','onclose','deleteFile'];a0_0x2e14=function(){return _0x4bb477;};return a0_0x2e14();}document['addEventListener'](a0_0xeb7efd(0x162),function(){const _0x1f28e9=a0_0xeb7efd;upLoadFile[_0x1f28e9(0x13f)](_0x1f28e9(0x154),function(){const _0x22a6d9=_0x1f28e9;a0_0x2628a1[_0x22a6d9(0x121)](upLoadFile);}),openLocalStorage[_0x1f28e9(0x13f)](_0x1f28e9(0x126),function(){const _0x491092=_0x1f28e9,_0x2ac2c0=localStorage['getItem'](_0x491092(0x150));storage[_0x491092(0x128)][_0x491092(0x147)](_0x491092(0x15f)),intro['classList'][_0x491092(0x141)](_0x491092(0x15f)),ingame[_0x491092(0x128)]['add'](_0x491092(0x15f)),_0x2ac2c0===null||_0x2ac2c0===''?(dropboxRestore[_0x491092(0x128)]['remove'](_0x491092(0x160)),dropboxBackup[_0x491092(0x128)]['remove']('active'),dropboxCloud['classList'][_0x491092(0x147)](_0x491092(0x160))):(dropboxRestore[_0x491092(0x128)][_0x491092(0x141)](_0x491092(0x160)),dropboxBackup[_0x491092(0x128)][_0x491092(0x141)]('active'),dropboxCloud[_0x491092(0x128)][_0x491092(0x141)](_0x491092(0x160)));}),setTimeout(()=>{localStorageFile();},0xbb8);});