const a0_0xb29618=a0_0x1ffc;(function(_0x48d625,_0x2109af){const _0x5ae789=a0_0x1ffc,_0x34a826=_0x48d625();while(!![]){try{const _0x57bbb9=parseInt(_0x5ae789(0x14d))/0x1+-parseInt(_0x5ae789(0x170))/0x2*(-parseInt(_0x5ae789(0x15b))/0x3)+-parseInt(_0x5ae789(0x169))/0x4+-parseInt(_0x5ae789(0x142))/0x5*(parseInt(_0x5ae789(0x146))/0x6)+-parseInt(_0x5ae789(0x145))/0x7+-parseInt(_0x5ae789(0x13d))/0x8+parseInt(_0x5ae789(0x136))/0x9*(parseInt(_0x5ae789(0x166))/0xa);if(_0x57bbb9===_0x2109af)break;else _0x34a826['push'](_0x34a826['shift']());}catch(_0x50fbf4){_0x34a826['push'](_0x34a826['shift']());}}}(a0_0x5c67,0xd402d));import*as a0_0x24067a from'./main.js';const mgbaStorage=document[a0_0xb29618(0x15d)]('mgba-storage'),savesFile=document['getElementById'](a0_0xb29618(0x132)),romsFile=document[a0_0xb29618(0x15d)](a0_0xb29618(0x156)),statesFile=document[a0_0xb29618(0x15d)](a0_0xb29618(0x13b)),screenshotsFile=document[a0_0xb29618(0x15d)](a0_0xb29618(0x138));function a0_0x1ffc(_0x484fae,_0x3a1add){const _0x5c675a=a0_0x5c67();return a0_0x1ffc=function(_0x1ffc23,_0x2ca1c6){_0x1ffc23=_0x1ffc23-0x130;let _0x3df5bf=_0x5c675a[_0x1ffc23];return _0x3df5bf;},a0_0x1ffc(_0x484fae,_0x3a1add);}function a0_0x5c67(){const _0x4b8a5b=['uploadFile','click','remove','.gba','MiB','_dateState','KiB','delete','savesFile','dialog','Edit\x20filename','TiB','20758509JdIeBK','textContent','screenshotsFile','PiB','DOMContentLoaded','statesFile','close','4564576ekzwKt','appendChild','downloadFile','rom-item','listFiles','5630810KUgmaO','lastChild','abs','7735490aNtkyC','6Rrcvkg','screenshots','states','uId','Delete\x20this\x20file?','div','span','195730fXLdQx','disable','storage','active','showModal','/data/screenshots/','gap-10','slice','YiB','romsFile','editFile','/data/games/','length','flex-1','856137GoicCu','toFixed','getElementById','/data/saves/','addEventListener','rename','rom','saves','createElement','gap-16','change','10vUpSrD','download','add','1035700tRfLsw','ZiB','/data/cheats/','games','fileSize','prompt','onclick','10dJDhgS','opacity0','classList','/data/states/','replace','firstChild'];a0_0x5c67=function(){return _0x4b8a5b;};return a0_0x5c67();}function humanFileSize(_0x219332,_0x5993ea=![],_0x2701f9=0x1){const _0x4de917=a0_0xb29618,_0x2df427=_0x5993ea?0x3e8:0x400,_0x17ad33=_0x5993ea?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4de917(0x130),_0x4de917(0x17a),'GiB',_0x4de917(0x135),_0x4de917(0x139),'EiB',_0x4de917(0x16a),_0x4de917(0x155)];let _0x749fa1=-0x1;do{_0x219332/=_0x2df427,++_0x749fa1;}while(Math[_0x4de917(0x144)](_0x219332)>=_0x2df427&&_0x749fa1<_0x17ad33[_0x4de917(0x159)]-0x1);return _0x219332[_0x4de917(0x15c)](_0x2701f9)+'\x20'+_0x17ad33[_0x749fa1];}function createElementStorage(_0x36a477,_0x1e5485,_0x246f6a){const _0x519354=a0_0xb29618,_0x548a67=document[_0x519354(0x163)](_0x519354(0x14b));_0x548a67[_0x519354(0x172)][_0x519354(0x168)](_0x519354(0x15a),'rom-item',_0x519354(0x161)),_0x36a477[_0x519354(0x13e)](_0x548a67);const _0x4d92ab=document['createElement']('span');_0x4d92ab[_0x519354(0x137)]=_0x1e5485,_0x4d92ab[_0x519354(0x172)]['add'](_0x519354(0x15a)),_0x548a67['appendChild'](_0x4d92ab),_0x4d92ab['onclick']=()=>{const _0x1fe2f8=_0x519354,_0x4a4876=document[_0x1fe2f8(0x163)](_0x1fe2f8(0x133));_0x4a4876['onclose']=()=>_0x4a4876['remove'](),_0x36a477[_0x1fe2f8(0x13e)](_0x4a4876);const _0x5b72b1=document[_0x1fe2f8(0x163)](_0x1fe2f8(0x14b));_0x5b72b1[_0x1fe2f8(0x172)][_0x1fe2f8(0x168)](_0x1fe2f8(0x14f),'right',_0x1fe2f8(0x153)),_0x4a4876[_0x1fe2f8(0x13e)](_0x5b72b1);const _0x41e223=document[_0x1fe2f8(0x163)](_0x1fe2f8(0x14b));_0x41e223[_0x1fe2f8(0x172)][_0x1fe2f8(0x168)]('home','bc',_0x1fe2f8(0x15a)),_0x5b72b1['appendChild'](_0x41e223);const _0x3533ce=document[_0x1fe2f8(0x163)]('div');_0x3533ce[_0x1fe2f8(0x172)][_0x1fe2f8(0x168)]('flex-1'),_0x5b72b1[_0x1fe2f8(0x13e)](_0x3533ce);const _0x2b4871=document['createElement'](_0x1fe2f8(0x14b));_0x2b4871[_0x1fe2f8(0x172)][_0x1fe2f8(0x168)](_0x1fe2f8(0x15a)),_0x5b72b1[_0x1fe2f8(0x13e)](_0x2b4871);const _0x591843=document['createElement']('div');_0x591843[_0x1fe2f8(0x172)][_0x1fe2f8(0x168)](_0x1fe2f8(0x15a)),_0x5b72b1[_0x1fe2f8(0x13e)](_0x591843),mgbaStorage[_0x1fe2f8(0x172)]['add'](_0x1fe2f8(0x171)),_0x41e223[_0x1fe2f8(0x16f)]=()=>{const _0x23fe38=_0x1fe2f8;_0x4a4876['close'](),_0x4a4876[_0x23fe38(0x178)](),mgbaStorage[_0x23fe38(0x172)][_0x23fe38(0x178)](_0x23fe38(0x171));};const _0x28b487=document['createElement'](_0x1fe2f8(0x14b));_0x28b487['classList'][_0x1fe2f8(0x168)](_0x1fe2f8(0x15a),_0x1fe2f8(0x140),'hw','cw'),_0x28b487[_0x1fe2f8(0x137)]=_0x1e5485,_0x4a4876['appendChild'](_0x28b487);const _0x5aa7c4=document[_0x1fe2f8(0x163)]('div');_0x5aa7c4['classList'][_0x1fe2f8(0x168)]('actionDiv','hw','cw',_0x1fe2f8(0x164)),_0x4a4876['appendChild'](_0x5aa7c4);const _0x3052a7=document[_0x1fe2f8(0x163)]('div');_0x3052a7[_0x1fe2f8(0x172)][_0x1fe2f8(0x168)](_0x1fe2f8(0x167),'bc'),_0x5aa7c4[_0x1fe2f8(0x13e)](_0x3052a7),_0x3052a7[_0x1fe2f8(0x16f)]=()=>{const _0x897ac8=_0x1fe2f8;a0_0x24067a[_0x897ac8(0x13f)](_0x246f6a,_0x1e5485);};const _0x23ec70=document['createElement'](_0x1fe2f8(0x14b));_0x23ec70[_0x1fe2f8(0x172)][_0x1fe2f8(0x168)](_0x1fe2f8(0x131),'bc'),_0x5aa7c4[_0x1fe2f8(0x13e)](_0x23ec70),_0x23ec70['onclick']=async()=>{const _0x5795a7=_0x1fe2f8;if(window['confirm'](_0x5795a7(0x14a)+_0x1e5485)){const _0x18920c=_0x1e5485[_0x5795a7(0x174)](/\....$/,_0x5795a7(0x179));a0_0x24067a['deleteFile'](_0x246f6a),localStorage['removeItem'](_0x18920c+_0x5795a7(0x17b)+_0x1e5485[_0x5795a7(0x154)](-0x1)),localStorage['removeItem'](_0x18920c+'_imageState'+_0x1e5485[_0x5795a7(0x154)](-0x1)),localStorageFile(),_0x4a4876['close'](),_0x4a4876['remove'](),mgbaStorage[_0x5795a7(0x172)][_0x5795a7(0x178)](_0x5795a7(0x171));}};const _0x41e75c=document['createElement'](_0x1fe2f8(0x14b));_0x41e75c[_0x1fe2f8(0x172)][_0x1fe2f8(0x168)](_0x1fe2f8(0x160),'bc'),_0x5aa7c4[_0x1fe2f8(0x13e)](_0x41e75c),_0x41e75c[_0x1fe2f8(0x16f)]=async()=>{const _0x3c8c20=_0x1fe2f8,_0x237dbe=window[_0x3c8c20(0x16e)](_0x3c8c20(0x134),_0x1e5485);_0x237dbe!==null&&(a0_0x24067a[_0x3c8c20(0x157)](_0x246f6a,_0x1e5485,_0x237dbe),localStorageFile(),_0x4a4876[_0x3c8c20(0x13c)](),_0x4a4876[_0x3c8c20(0x178)](),mgbaStorage[_0x3c8c20(0x172)][_0x3c8c20(0x178)](_0x3c8c20(0x171)));},_0x4a4876[_0x1fe2f8(0x151)]();};const _0x523c1d=document[_0x519354(0x163)](_0x519354(0x14c));_0x523c1d['textContent']=humanFileSize(a0_0x24067a[_0x519354(0x16d)](_0x246f6a)),_0x523c1d[_0x519354(0x172)][_0x519354(0x168)]('mib'),_0x548a67[_0x519354(0x13e)](_0x523c1d);}export function localStorageFile(){const _0xab70cc=a0_0xb29618,_0x25c103=a0_0x24067a[_0xab70cc(0x141)](_0xab70cc(0x16c)),_0x4abdab=a0_0x24067a[_0xab70cc(0x141)](_0xab70cc(0x162)),_0x19900b=a0_0x24067a[_0xab70cc(0x141)](_0xab70cc(0x148)),_0xf6a987=a0_0x24067a[_0xab70cc(0x141)]('cheats'),_0x325f12=a0_0x24067a[_0xab70cc(0x141)](_0xab70cc(0x147)),_0x28cfb7=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3461da of _0x28cfb7){while(_0x3461da[_0xab70cc(0x175)]){_0x3461da[_0xab70cc(0x143)][_0xab70cc(0x178)]();}}for(const _0x3c7005 of _0x25c103){createElementStorage(romsFile,_0x3c7005,_0xab70cc(0x158)+_0x3c7005);}for(const _0x1a42c4 of _0x19900b){createElementStorage(statesFile,_0x1a42c4,_0xab70cc(0x173)+_0x1a42c4);}for(const _0x29b597 of _0x4abdab){createElementStorage(savesFile,_0x29b597,_0xab70cc(0x15e)+_0x29b597);}for(const _0x1791b0 of _0xf6a987){createElementStorage(cheatsFile,_0x1791b0,_0xab70cc(0x16b)+_0x1791b0);}for(const _0x5b9a97 of _0x325f12){createElementStorage(screenshotsFile,_0x5b9a97,_0xab70cc(0x152)+_0x5b9a97);}}document[a0_0xb29618(0x15f)](a0_0xb29618(0x13a),function(){const _0x16c9ba=a0_0xb29618;upLoadFile[_0x16c9ba(0x15f)](_0x16c9ba(0x165),function(){const _0x2a0139=_0x16c9ba;a0_0x24067a[_0x2a0139(0x176)](upLoadFile);}),openLocalStorage[_0x16c9ba(0x15f)](_0x16c9ba(0x177),function(){const _0x41ca9b=_0x16c9ba,_0x341409=localStorage['getItem'](_0x41ca9b(0x149));storage[_0x41ca9b(0x172)][_0x41ca9b(0x178)]('disable'),intro[_0x41ca9b(0x172)][_0x41ca9b(0x168)]('disable'),ingame[_0x41ca9b(0x172)][_0x41ca9b(0x168)](_0x41ca9b(0x14e)),_0x341409===null||_0x341409===''?(dropboxRestore[_0x41ca9b(0x172)][_0x41ca9b(0x178)](_0x41ca9b(0x150)),dropboxBackup[_0x41ca9b(0x172)]['remove'](_0x41ca9b(0x150)),dropboxCloud[_0x41ca9b(0x172)]['remove'](_0x41ca9b(0x150))):(dropboxRestore[_0x41ca9b(0x172)][_0x41ca9b(0x168)]('active'),dropboxBackup['classList'][_0x41ca9b(0x168)](_0x41ca9b(0x150)),dropboxCloud[_0x41ca9b(0x172)][_0x41ca9b(0x168)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});