const a0_0x5f02f3=a0_0x43d3;(function(_0x20b151,_0x52b6af){const _0x520d57=a0_0x43d3,_0x428f3b=_0x20b151();while(!![]){try{const _0x31dc0e=-parseInt(_0x520d57(0x206))/0x1*(-parseInt(_0x520d57(0x1c4))/0x2)+-parseInt(_0x520d57(0x1f3))/0x3*(-parseInt(_0x520d57(0x1c7))/0x4)+-parseInt(_0x520d57(0x204))/0x5+parseInt(_0x520d57(0x203))/0x6+-parseInt(_0x520d57(0x1c9))/0x7+parseInt(_0x520d57(0x1d8))/0x8*(-parseInt(_0x520d57(0x1c8))/0x9)+parseInt(_0x520d57(0x1f5))/0xa;if(_0x31dc0e===_0x52b6af)break;else _0x428f3b['push'](_0x428f3b['shift']());}catch(_0x3d01f3){_0x428f3b['push'](_0x428f3b['shift']());}}}(a0_0x3649,0xee8b1));import*as a0_0x5ec42d from'./main.js';const mgbaStorage=document['getElementById'](a0_0x5f02f3(0x1d0)),savesFile=document[a0_0x5f02f3(0x1f1)]('savesFile'),romsFile=document[a0_0x5f02f3(0x1f1)](a0_0x5f02f3(0x205)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document[a0_0x5f02f3(0x1f1)]('screenshotsFile');function humanFileSize(_0x2ba124,_0x1413f6=![],_0x394da0=0x1){const _0x43bc16=a0_0x5f02f3,_0x4d3b06=_0x1413f6?0x3e8:0x400,_0x2c7f71=_0x1413f6?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x43bc16(0x1e8),_0x43bc16(0x1cd),'GiB',_0x43bc16(0x1e0),_0x43bc16(0x1d1),_0x43bc16(0x1f9),_0x43bc16(0x1ef),_0x43bc16(0x1f0)];let _0x22d7c4=-0x1;do{_0x2ba124/=_0x4d3b06,++_0x22d7c4;}while(Math[_0x43bc16(0x1de)](_0x2ba124)>=_0x4d3b06&&_0x22d7c4<_0x2c7f71['length']-0x1);return _0x2ba124['toFixed'](_0x394da0)+'\x20'+_0x2c7f71[_0x22d7c4];}function createElementStorage(_0x1cdae2,_0x32360a,_0x28a075){const _0x39027c=a0_0x5f02f3,_0x52d034=document[_0x39027c(0x1fe)](_0x39027c(0x1d3));_0x52d034[_0x39027c(0x207)][_0x39027c(0x1df)](_0x39027c(0x1ce),_0x39027c(0x1d4),_0x39027c(0x1e9)),_0x1cdae2[_0x39027c(0x1e1)](_0x52d034);const _0x2f81a6=document[_0x39027c(0x1fe)](_0x39027c(0x1d6));_0x2f81a6['textContent']=_0x32360a,_0x2f81a6[_0x39027c(0x207)][_0x39027c(0x1df)](_0x39027c(0x1ce)),_0x52d034[_0x39027c(0x1e1)](_0x2f81a6),_0x2f81a6[_0x39027c(0x1f7)]=()=>{const _0x9bf6f9=_0x39027c,_0x4c601e=document['createElement'](_0x9bf6f9(0x1e4));_0x4c601e[_0x9bf6f9(0x1d2)]=()=>_0x4c601e[_0x9bf6f9(0x1fa)](),_0x1cdae2[_0x9bf6f9(0x1e1)](_0x4c601e);const _0x49f5e0=document[_0x9bf6f9(0x1fe)](_0x9bf6f9(0x1d3));_0x49f5e0[_0x9bf6f9(0x207)][_0x9bf6f9(0x1df)](_0x9bf6f9(0x1cc),_0x9bf6f9(0x1c3),_0x9bf6f9(0x1ee)),_0x4c601e['appendChild'](_0x49f5e0);const _0x324fc8=document[_0x9bf6f9(0x1fe)](_0x9bf6f9(0x1d3));_0x324fc8[_0x9bf6f9(0x207)][_0x9bf6f9(0x1df)]('home','bc',_0x9bf6f9(0x1ce)),_0x49f5e0[_0x9bf6f9(0x1e1)](_0x324fc8);const _0xad4473=document['createElement'](_0x9bf6f9(0x1d3));_0xad4473[_0x9bf6f9(0x207)][_0x9bf6f9(0x1df)]('flex-1'),_0x49f5e0['appendChild'](_0xad4473);const _0x3da05b=document[_0x9bf6f9(0x1fe)]('div');_0x3da05b[_0x9bf6f9(0x207)][_0x9bf6f9(0x1df)](_0x9bf6f9(0x1ce)),_0x49f5e0['appendChild'](_0x3da05b);const _0x202c64=document['createElement']('div');_0x202c64[_0x9bf6f9(0x207)]['add'](_0x9bf6f9(0x1ce)),_0x49f5e0['appendChild'](_0x202c64),mgbaStorage[_0x9bf6f9(0x207)][_0x9bf6f9(0x1df)](_0x9bf6f9(0x208)),_0x324fc8[_0x9bf6f9(0x1f7)]=()=>{const _0x1eb83c=_0x9bf6f9;_0x4c601e[_0x1eb83c(0x1da)](),_0x4c601e[_0x1eb83c(0x1fa)](),mgbaStorage[_0x1eb83c(0x207)][_0x1eb83c(0x1fa)]('opacity0');};const _0x443528=document[_0x9bf6f9(0x1fe)]('div');_0x443528[_0x9bf6f9(0x207)][_0x9bf6f9(0x1df)](_0x9bf6f9(0x1ce),_0x9bf6f9(0x1d4),'hw','cw'),_0x443528[_0x9bf6f9(0x1d7)]=_0x32360a,_0x4c601e[_0x9bf6f9(0x1e1)](_0x443528);const _0x1531fe=document[_0x9bf6f9(0x1fe)](_0x9bf6f9(0x1d3));_0x1531fe[_0x9bf6f9(0x207)][_0x9bf6f9(0x1df)]('actionDiv','hw','cw','gap-16'),_0x4c601e[_0x9bf6f9(0x1e1)](_0x1531fe);const _0x517f78=document[_0x9bf6f9(0x1fe)]('div');_0x517f78[_0x9bf6f9(0x207)][_0x9bf6f9(0x1df)](_0x9bf6f9(0x1e2),'bc'),_0x1531fe[_0x9bf6f9(0x1e1)](_0x517f78),_0x517f78[_0x9bf6f9(0x1f7)]=()=>{const _0x42a066=_0x9bf6f9;a0_0x5ec42d[_0x42a066(0x1cb)](_0x28a075,_0x32360a);};const _0x35102f=document[_0x9bf6f9(0x1fe)](_0x9bf6f9(0x1d3));_0x35102f[_0x9bf6f9(0x207)][_0x9bf6f9(0x1df)]('delete','bc'),_0x1531fe[_0x9bf6f9(0x1e1)](_0x35102f),_0x35102f['onclick']=async()=>{const _0x118320=_0x9bf6f9;if(window[_0x118320(0x1fd)](_0x118320(0x1d9)+_0x32360a)){const _0x5a33f1=_0x32360a['replace'](/\....$/,_0x118320(0x1db));a0_0x5ec42d[_0x118320(0x1fb)](_0x28a075),localStorage[_0x118320(0x1cf)](_0x5a33f1+_0x118320(0x1dd)+_0x32360a[_0x118320(0x1ea)](-0x1)),localStorage[_0x118320(0x1cf)](_0x5a33f1+'_imageState'+_0x32360a[_0x118320(0x1ea)](-0x1)),localStorageFile(),_0x4c601e[_0x118320(0x1da)](),_0x4c601e['remove'](),mgbaStorage[_0x118320(0x207)][_0x118320(0x1fa)](_0x118320(0x208));}};const _0x55a7a2=document['createElement'](_0x9bf6f9(0x1d3));_0x55a7a2[_0x9bf6f9(0x207)]['add']('rename','bc'),_0x1531fe[_0x9bf6f9(0x1e1)](_0x55a7a2),_0x55a7a2[_0x9bf6f9(0x1f7)]=async()=>{const _0x49a4be=_0x9bf6f9,_0x1e9dda=window['prompt'](_0x49a4be(0x1f8),_0x32360a);if(_0x1e9dda!==null){const _0x59e056=_0x32360a['replace'](/\....$/,_0x49a4be(0x1db)),_0x80c1c6=_0x1e9dda[_0x49a4be(0x1ca)](/\....$/,_0x49a4be(0x1db)),_0x3457f1=_0x59e056+_0x49a4be(0x1dd)+_0x32360a['slice'](-0x1),_0x5b43c4=_0x59e056+_0x49a4be(0x1e7)+_0x32360a[_0x49a4be(0x1ea)](-0x1),_0x14c376=_0x80c1c6+_0x49a4be(0x1dd)+_0x1e9dda['slice'](-0x1),_0x8cfcf9=_0x80c1c6+_0x49a4be(0x1e7)+_0x1e9dda[_0x49a4be(0x1ea)](-0x1),_0x581943=localStorage['getItem'](_0x3457f1),_0x58d8d9=localStorage[_0x49a4be(0x1dc)](_0x5b43c4);_0x581943!==null&&(localStorage[_0x49a4be(0x1e6)](_0x14c376,_0x581943),localStorage[_0x49a4be(0x1cf)](_0x3457f1)),_0x58d8d9!==null&&(localStorage[_0x49a4be(0x1e6)](_0x8cfcf9,_0x58d8d9),localStorage[_0x49a4be(0x1cf)](_0x5b43c4)),a0_0x5ec42d[_0x49a4be(0x1ed)](_0x28a075,_0x32360a,_0x1e9dda),localStorageFile(),_0x4c601e[_0x49a4be(0x1da)](),_0x4c601e[_0x49a4be(0x1fa)](),mgbaStorage[_0x49a4be(0x207)]['remove']('opacity0');}},_0x4c601e[_0x9bf6f9(0x1c5)]();};const _0xbf1324=document[_0x39027c(0x1fe)](_0x39027c(0x1d6));_0xbf1324[_0x39027c(0x1d7)]=humanFileSize(a0_0x5ec42d[_0x39027c(0x1e3)](_0x28a075)),_0xbf1324[_0x39027c(0x207)][_0x39027c(0x1df)]('mib'),_0x52d034['appendChild'](_0xbf1324);}function a0_0x3649(){const _0xed48e1=['/data/screenshots/','change','active','7262508NzvgFE','3198215MifPMc','romsFile','6DvcgUK','classList','opacity0','right','34654IIrPaL','showModal','disable','723716JhxesA','6493077VMRVOg','10255021ZfmHzx','replace','downloadFile','storage','MiB','flex-1','removeItem','mgba-storage','PiB','onclose','div','rom-item','firstChild','span','textContent','8NNcmkx','Delete\x20this\x20file?','close','.gba','getItem','_dateState','abs','add','TiB','appendChild','download','fileSize','dialog','listState','setItem','_imageState','KiB','rom','slice','lastChild','addEventListener','editFile','gap-10','ZiB','YiB','getElementById','click','18TtYsSG','/data/cheats/','14032180BosSBA','listGame','onclick','Edit\x20filename','EiB','remove','deleteFile','/data/saves/','confirm','createElement','uploadFile'];a0_0x3649=function(){return _0xed48e1;};return a0_0x3649();}export function localStorageFile(){const _0x19dfd4=a0_0x5f02f3,_0x16000d=a0_0x5ec42d[_0x19dfd4(0x1f6)](),_0x4af68b=a0_0x5ec42d['listSave'](),_0x3e329d=a0_0x5ec42d[_0x19dfd4(0x1e5)](),_0x5de080=a0_0x5ec42d['listCheat'](),_0x40f3e4=a0_0x5ec42d['listScreenshot'](),_0xe85f2c=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x53fe1e of _0xe85f2c){while(_0x53fe1e[_0x19dfd4(0x1d5)]){_0x53fe1e[_0x19dfd4(0x1eb)][_0x19dfd4(0x1fa)]();}}for(const _0xbe9397 of _0x16000d){createElementStorage(romsFile,_0xbe9397,'/data/games/'+_0xbe9397);}for(const _0x25901a of _0x3e329d){createElementStorage(statesFile,_0x25901a,'/data/states/'+_0x25901a);}for(const _0x431a50 of _0x4af68b){createElementStorage(savesFile,_0x431a50,_0x19dfd4(0x1fc)+_0x431a50);}for(const _0x40800e of _0x5de080){createElementStorage(cheatsFile,_0x40800e,_0x19dfd4(0x1f4)+_0x40800e);}for(const _0x3fa406 of _0x40f3e4){createElementStorage(screenshotsFile,_0x3fa406,_0x19dfd4(0x200)+_0x3fa406);}}function a0_0x43d3(_0x1f9a9b,_0x1d82ee){const _0x3649d4=a0_0x3649();return a0_0x43d3=function(_0x43d3d7,_0x169b52){_0x43d3d7=_0x43d3d7-0x1c3;let _0x54d366=_0x3649d4[_0x43d3d7];return _0x54d366;},a0_0x43d3(_0x1f9a9b,_0x1d82ee);}document[a0_0x5f02f3(0x1ec)]('DOMContentLoaded',function(){const _0x5bc8e5=a0_0x5f02f3;upLoadFile[_0x5bc8e5(0x1ec)](_0x5bc8e5(0x201),function(){const _0x32bc83=_0x5bc8e5;a0_0x5ec42d[_0x32bc83(0x1ff)](upLoadFile);}),openLocalStorage[_0x5bc8e5(0x1ec)](_0x5bc8e5(0x1f2),function(){const _0x1b00ba=_0x5bc8e5,_0x347efa=localStorage[_0x1b00ba(0x1dc)]('uId');storage['classList']['remove'](_0x1b00ba(0x1c6)),intro['classList'][_0x1b00ba(0x1df)](_0x1b00ba(0x1c6)),ingame[_0x1b00ba(0x207)]['add'](_0x1b00ba(0x1c6)),_0x347efa===null||_0x347efa===''?(dropboxRestore[_0x1b00ba(0x207)][_0x1b00ba(0x1fa)](_0x1b00ba(0x202)),dropboxBackup[_0x1b00ba(0x207)][_0x1b00ba(0x1fa)](_0x1b00ba(0x202)),dropboxCloud[_0x1b00ba(0x207)]['remove'](_0x1b00ba(0x202))):(dropboxRestore[_0x1b00ba(0x207)]['add']('active'),dropboxBackup[_0x1b00ba(0x207)]['add']('active'),dropboxCloud['classList']['add'](_0x1b00ba(0x202)));}),setTimeout(()=>{localStorageFile();},0xbb8);});