const a0_0x452561=a0_0x4957;(function(_0x1409e5,_0x56d750){const _0x9e02b2=a0_0x4957,_0x2cfc2d=_0x1409e5();while(!![]){try{const _0xdef0db=parseInt(_0x9e02b2(0x1c0))/0x1+-parseInt(_0x9e02b2(0x1a9))/0x2*(-parseInt(_0x9e02b2(0x1af))/0x3)+-parseInt(_0x9e02b2(0x1bc))/0x4*(-parseInt(_0x9e02b2(0x1d6))/0x5)+-parseInt(_0x9e02b2(0x1c1))/0x6*(parseInt(_0x9e02b2(0x1a5))/0x7)+parseInt(_0x9e02b2(0x1d7))/0x8*(-parseInt(_0x9e02b2(0x19b))/0x9)+-parseInt(_0x9e02b2(0x1ba))/0xa*(-parseInt(_0x9e02b2(0x1b6))/0xb)+-parseInt(_0x9e02b2(0x1b5))/0xc*(parseInt(_0x9e02b2(0x196))/0xd);if(_0xdef0db===_0x56d750)break;else _0x2cfc2d['push'](_0x2cfc2d['shift']());}catch(_0x5a5d75){_0x2cfc2d['push'](_0x2cfc2d['shift']());}}}(a0_0x248d,0xba9f8));import*as a0_0x464d4e from'./main.js';const mgbaStorage=document[a0_0x452561(0x1ad)](a0_0x452561(0x1a0)),savesFile=document['getElementById'](a0_0x452561(0x199)),romsFile=document[a0_0x452561(0x1ad)](a0_0x452561(0x197)),statesFile=document[a0_0x452561(0x1ad)]('statesFile'),screenshotsFile=document['getElementById'](a0_0x452561(0x1b7));function a0_0x248d(){const _0x1b396c=['screenshotsFile','EiB','/data/saves/','380tjVAzg','toFixed','2105368HYStal','_dateState','length','rom-item','669307WGKLkA','1482XpuMnn','MiB','KiB','gap-16','deleteFile','abs','change','TiB','close','mib','DOMContentLoaded','opacity0','addEventListener','textContent','actionDiv','appendChild','onclose','prompt','click','download','delete','5IDFuSM','56bSAkgm','home','active','createElement','getItem','span','removeItem','2145WuEAwn','romsFile','listFiles','savesFile','storage','1432098TngDcl','rename','_imageState','add','fileSize','mgba-storage','disable','slice','right','saves','903EsxcwU','.gba','downloadFile','screenshots','6rAsvuV','remove','div','games','getElementById','classList','53835oqNFgP','lastChild','onclick','editFile','states','flex-1','37452LqjNcq','340307figaRe'];a0_0x248d=function(){return _0x1b396c;};return a0_0x248d();}function humanFileSize(_0x11a8c6,_0x5e4315=![],_0x26c68f=0x1){const _0x1084f5=a0_0x452561,_0x4c5698=_0x5e4315?0x3e8:0x400,_0x559589=_0x5e4315?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1084f5(0x1c3),_0x1084f5(0x1c2),'GiB',_0x1084f5(0x1c8),'PiB',_0x1084f5(0x1b8),'ZiB','YiB'];let _0xa24fd0=-0x1;do{_0x11a8c6/=_0x4c5698,++_0xa24fd0;}while(Math[_0x1084f5(0x1c6)](_0x11a8c6)>=_0x4c5698&&_0xa24fd0<_0x559589[_0x1084f5(0x1be)]-0x1);return _0x11a8c6[_0x1084f5(0x1bb)](_0x26c68f)+'\x20'+_0x559589[_0xa24fd0];}function createElementStorage(_0x31c607,_0x13c2b2,_0x25bf70){const _0x14ee37=a0_0x452561,_0x1016da=document[_0x14ee37(0x1da)](_0x14ee37(0x1ab));_0x1016da[_0x14ee37(0x1ae)][_0x14ee37(0x19e)](_0x14ee37(0x1b4),_0x14ee37(0x1bf),'rom'),_0x31c607['appendChild'](_0x1016da);const _0x31c83e=document['createElement'](_0x14ee37(0x194));_0x31c83e[_0x14ee37(0x1ce)]=_0x13c2b2,_0x31c83e[_0x14ee37(0x1ae)][_0x14ee37(0x19e)](_0x14ee37(0x1b4)),_0x1016da[_0x14ee37(0x1d0)](_0x31c83e),_0x31c83e[_0x14ee37(0x1b1)]=()=>{const _0x3e8f16=_0x14ee37,_0x4f2b8d=document[_0x3e8f16(0x1da)]('dialog');_0x4f2b8d[_0x3e8f16(0x1d1)]=()=>_0x4f2b8d[_0x3e8f16(0x1aa)](),_0x31c607['appendChild'](_0x4f2b8d);const _0x343ad5=document['createElement'](_0x3e8f16(0x1ab));_0x343ad5[_0x3e8f16(0x1ae)][_0x3e8f16(0x19e)](_0x3e8f16(0x19a),_0x3e8f16(0x1a3),'gap-10'),_0x4f2b8d[_0x3e8f16(0x1d0)](_0x343ad5);const _0x1ffcd3=document[_0x3e8f16(0x1da)](_0x3e8f16(0x1ab));_0x1ffcd3[_0x3e8f16(0x1ae)][_0x3e8f16(0x19e)](_0x3e8f16(0x1d8),'bc',_0x3e8f16(0x1b4)),_0x343ad5[_0x3e8f16(0x1d0)](_0x1ffcd3);const _0x64c4f5=document[_0x3e8f16(0x1da)](_0x3e8f16(0x1ab));_0x64c4f5[_0x3e8f16(0x1ae)][_0x3e8f16(0x19e)](_0x3e8f16(0x1b4)),_0x343ad5[_0x3e8f16(0x1d0)](_0x64c4f5);const _0x1b986e=document[_0x3e8f16(0x1da)](_0x3e8f16(0x1ab));_0x1b986e['classList'][_0x3e8f16(0x19e)](_0x3e8f16(0x1b4)),_0x343ad5['appendChild'](_0x1b986e);const _0x5e964e=document[_0x3e8f16(0x1da)](_0x3e8f16(0x1ab));_0x5e964e[_0x3e8f16(0x1ae)]['add']('flex-1'),_0x343ad5['appendChild'](_0x5e964e),mgbaStorage['classList']['add'](_0x3e8f16(0x1cc)),_0x1ffcd3[_0x3e8f16(0x1b1)]=()=>{const _0x228d1e=_0x3e8f16;_0x4f2b8d[_0x228d1e(0x1c9)](),_0x4f2b8d['remove'](),mgbaStorage[_0x228d1e(0x1ae)][_0x228d1e(0x1aa)](_0x228d1e(0x1cc));};const _0x4e309b=document[_0x3e8f16(0x1da)](_0x3e8f16(0x1ab));_0x4e309b[_0x3e8f16(0x1ae)][_0x3e8f16(0x19e)](_0x3e8f16(0x1b4),_0x3e8f16(0x1bf),'hw','cw'),_0x4e309b[_0x3e8f16(0x1ce)]=_0x13c2b2,_0x4f2b8d['appendChild'](_0x4e309b);const _0x1b928a=document[_0x3e8f16(0x1da)]('div');_0x1b928a[_0x3e8f16(0x1ae)][_0x3e8f16(0x19e)](_0x3e8f16(0x1cf),'hw','cw',_0x3e8f16(0x1c4)),_0x4f2b8d['appendChild'](_0x1b928a);const _0x481b68=document[_0x3e8f16(0x1da)](_0x3e8f16(0x1ab));_0x481b68[_0x3e8f16(0x1ae)][_0x3e8f16(0x19e)](_0x3e8f16(0x1d4),'bc'),_0x1b928a['appendChild'](_0x481b68),_0x481b68['onclick']=()=>{const _0xa2943e=_0x3e8f16;a0_0x464d4e[_0xa2943e(0x1a7)](_0x25bf70,_0x13c2b2);};const _0x1a2729=document[_0x3e8f16(0x1da)](_0x3e8f16(0x1ab));_0x1a2729[_0x3e8f16(0x1ae)][_0x3e8f16(0x19e)](_0x3e8f16(0x1d5),'bc'),_0x1b928a[_0x3e8f16(0x1d0)](_0x1a2729),_0x1a2729['onclick']=async()=>{const _0x1de5ea=_0x3e8f16;if(window['confirm']('Delete\x20this\x20file?'+_0x13c2b2)){const _0x4ff7bb=_0x13c2b2['replace'](/\....$/,_0x1de5ea(0x1a6));a0_0x464d4e[_0x1de5ea(0x1c5)](_0x25bf70),localStorage[_0x1de5ea(0x195)](_0x4ff7bb+_0x1de5ea(0x1bd)+_0x13c2b2[_0x1de5ea(0x1a2)](-0x1)),localStorage[_0x1de5ea(0x195)](_0x4ff7bb+_0x1de5ea(0x19d)+_0x13c2b2['slice'](-0x1)),localStorageFile(),_0x4f2b8d[_0x1de5ea(0x1c9)](),_0x4f2b8d[_0x1de5ea(0x1aa)](),mgbaStorage['classList']['remove'](_0x1de5ea(0x1cc));}};const _0x54b781=document[_0x3e8f16(0x1da)](_0x3e8f16(0x1ab));_0x54b781[_0x3e8f16(0x1ae)][_0x3e8f16(0x19e)](_0x3e8f16(0x19c),'bc'),_0x1b928a[_0x3e8f16(0x1d0)](_0x54b781),_0x54b781[_0x3e8f16(0x1b1)]=async()=>{const _0x514677=_0x3e8f16,_0x412b20=window[_0x514677(0x1d2)]('Edit\x20filename',_0x13c2b2);_0x412b20!==null&&(a0_0x464d4e[_0x514677(0x1b2)](_0x25bf70,_0x13c2b2,_0x412b20),localStorageFile(),_0x4f2b8d[_0x514677(0x1c9)](),_0x4f2b8d[_0x514677(0x1aa)](),mgbaStorage['classList'][_0x514677(0x1aa)](_0x514677(0x1cc)));},_0x4f2b8d['showModal']();};const _0x3f0424=document[_0x14ee37(0x1da)]('span');_0x3f0424[_0x14ee37(0x1ce)]=humanFileSize(a0_0x464d4e[_0x14ee37(0x19f)](_0x25bf70)),_0x3f0424['classList'][_0x14ee37(0x19e)](_0x14ee37(0x1ca)),_0x1016da[_0x14ee37(0x1d0)](_0x3f0424);}function a0_0x4957(_0x4c7eb9,_0x3130b2){const _0x248d65=a0_0x248d();return a0_0x4957=function(_0x4957a3,_0x48dc07){_0x4957a3=_0x4957a3-0x194;let _0x409890=_0x248d65[_0x4957a3];return _0x409890;},a0_0x4957(_0x4c7eb9,_0x3130b2);}export function localStorageFile(){const _0x51e332=a0_0x452561,_0x147911=a0_0x464d4e[_0x51e332(0x198)](_0x51e332(0x1ac)),_0x201c1e=a0_0x464d4e['listFiles'](_0x51e332(0x1a4)),_0xfd6a23=a0_0x464d4e[_0x51e332(0x198)](_0x51e332(0x1b3)),_0x238917=a0_0x464d4e[_0x51e332(0x198)]('cheats'),_0x5b8453=a0_0x464d4e[_0x51e332(0x198)](_0x51e332(0x1a8)),_0x40f43f=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4e8133 of _0x40f43f){while(_0x4e8133['firstChild']){_0x4e8133[_0x51e332(0x1b0)]['remove']();}}for(const _0x340d6a of _0x147911){createElementStorage(romsFile,_0x340d6a,'/data/games/'+_0x340d6a);}for(const _0x282f23 of _0xfd6a23){createElementStorage(statesFile,_0x282f23,'/data/states/'+_0x282f23);}for(const _0x52faaa of _0x201c1e){createElementStorage(savesFile,_0x52faaa,_0x51e332(0x1b9)+_0x52faaa);}for(const _0x12cc61 of _0x238917){createElementStorage(cheatsFile,_0x12cc61,'/data/cheats/'+_0x12cc61);}for(const _0x562661 of _0x5b8453){createElementStorage(screenshotsFile,_0x562661,'/data/screenshots/'+_0x562661);}}document[a0_0x452561(0x1cd)](a0_0x452561(0x1cb),function(){const _0x13d446=a0_0x452561;upLoadFile[_0x13d446(0x1cd)](_0x13d446(0x1c7),function(){a0_0x464d4e['uploadFile'](upLoadFile);}),openLocalStorage[_0x13d446(0x1cd)](_0x13d446(0x1d3),function(){const _0x3c3bb8=_0x13d446,_0xb0d792=localStorage[_0x3c3bb8(0x1db)]('uId');storage[_0x3c3bb8(0x1ae)][_0x3c3bb8(0x1aa)](_0x3c3bb8(0x1a1)),intro[_0x3c3bb8(0x1ae)][_0x3c3bb8(0x19e)]('disable'),ingame[_0x3c3bb8(0x1ae)][_0x3c3bb8(0x19e)](_0x3c3bb8(0x1a1)),_0xb0d792===null||_0xb0d792===''?(dropboxRestore['classList'][_0x3c3bb8(0x1aa)](_0x3c3bb8(0x1d9)),dropboxBackup[_0x3c3bb8(0x1ae)][_0x3c3bb8(0x1aa)](_0x3c3bb8(0x1d9)),dropboxCloud[_0x3c3bb8(0x1ae)]['remove'](_0x3c3bb8(0x1d9))):(dropboxRestore[_0x3c3bb8(0x1ae)][_0x3c3bb8(0x19e)](_0x3c3bb8(0x1d9)),dropboxBackup[_0x3c3bb8(0x1ae)][_0x3c3bb8(0x19e)](_0x3c3bb8(0x1d9)),dropboxCloud[_0x3c3bb8(0x1ae)][_0x3c3bb8(0x19e)](_0x3c3bb8(0x1d9)));}),setTimeout(()=>{localStorageFile();},0xbb8);});