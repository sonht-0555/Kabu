const a0_0x257ac2=a0_0x5035;(function(_0x48faf7,_0x175034){const _0x561758=a0_0x5035,_0x1c9198=_0x48faf7();while(!![]){try{const _0x200a68=parseInt(_0x561758(0x165))/0x1*(-parseInt(_0x561758(0x15b))/0x2)+-parseInt(_0x561758(0x17b))/0x3*(-parseInt(_0x561758(0x182))/0x4)+parseInt(_0x561758(0x16b))/0x5*(parseInt(_0x561758(0x184))/0x6)+parseInt(_0x561758(0x155))/0x7*(-parseInt(_0x561758(0x158))/0x8)+-parseInt(_0x561758(0x1a4))/0x9+parseInt(_0x561758(0x160))/0xa*(-parseInt(_0x561758(0x16e))/0xb)+parseInt(_0x561758(0x159))/0xc;if(_0x200a68===_0x175034)break;else _0x1c9198['push'](_0x1c9198['shift']());}catch(_0x40c7ab){_0x1c9198['push'](_0x1c9198['shift']());}}}(a0_0x9300,0x53688));function a0_0x5035(_0x40e74b,_0x4056db){const _0x9300f3=a0_0x9300();return a0_0x5035=function(_0x50355c,_0xa73c0b){_0x50355c=_0x50355c-0x154;let _0xb9a1b4=_0x9300f3[_0x50355c];return _0xb9a1b4;},a0_0x5035(_0x40e74b,_0x4056db);}import*as a0_0x20e30b from'./main.js';const mgbaStorage=document['getElementById'](a0_0x257ac2(0x199)),savesFile=document[a0_0x257ac2(0x175)](a0_0x257ac2(0x18d)),romsFile=document[a0_0x257ac2(0x175)](a0_0x257ac2(0x168)),statesFile=document[a0_0x257ac2(0x175)](a0_0x257ac2(0x1a3)),screenshotsFile=document['getElementById'](a0_0x257ac2(0x197));function humanFileSize(_0x134669,_0x62d8ba=![],_0x1dd1e0=0x1){const _0x52ad00=a0_0x257ac2,_0x3d10de=_0x62d8ba?0x3e8:0x400,_0x4650ac=_0x62d8ba?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x52ad00(0x18e),_0x52ad00(0x192),_0x52ad00(0x1a2),_0x52ad00(0x15e),_0x52ad00(0x178),_0x52ad00(0x194),'ZiB',_0x52ad00(0x176)];let _0x535777=-0x1;do{_0x134669/=_0x3d10de,++_0x535777;}while(Math[_0x52ad00(0x18c)](_0x134669)>=_0x3d10de&&_0x535777<_0x4650ac[_0x52ad00(0x18a)]-0x1);return _0x134669[_0x52ad00(0x180)](_0x1dd1e0)+'\x20'+_0x4650ac[_0x535777];}function createElementStorage(_0x35256c,_0x4cade0,_0x4352e7){const _0x59d149=a0_0x257ac2,_0x3ccc24=document[_0x59d149(0x19a)](_0x59d149(0x16f));_0x3ccc24[_0x59d149(0x1a0)]['add'](_0x59d149(0x15f),_0x59d149(0x19d),_0x59d149(0x15a)),_0x35256c[_0x59d149(0x15d)](_0x3ccc24);const _0x4f962c=document[_0x59d149(0x19a)](_0x59d149(0x17f));_0x4f962c[_0x59d149(0x190)]=_0x4cade0,_0x4f962c['classList'][_0x59d149(0x154)]('flex-1'),_0x3ccc24[_0x59d149(0x15d)](_0x4f962c),_0x4f962c[_0x59d149(0x179)]=()=>{const _0x1160a9=_0x59d149,_0x76c03a=document[_0x1160a9(0x19a)]('dialog');_0x76c03a[_0x1160a9(0x185)]=()=>_0x76c03a['remove'](),_0x35256c['appendChild'](_0x76c03a);const _0x3ec22d=document[_0x1160a9(0x19a)](_0x1160a9(0x16f));_0x3ec22d[_0x1160a9(0x1a0)][_0x1160a9(0x154)](_0x1160a9(0x163),_0x1160a9(0x172),_0x1160a9(0x195)),_0x76c03a['appendChild'](_0x3ec22d);const _0x3d2111=document[_0x1160a9(0x19a)](_0x1160a9(0x16f));_0x3d2111[_0x1160a9(0x1a0)]['add']('home','bc',_0x1160a9(0x15f)),_0x3ec22d[_0x1160a9(0x15d)](_0x3d2111);const _0x13c693=document['createElement'](_0x1160a9(0x16f));_0x13c693[_0x1160a9(0x1a0)][_0x1160a9(0x154)](_0x1160a9(0x15f)),_0x3ec22d[_0x1160a9(0x15d)](_0x13c693);const _0x8072be=document[_0x1160a9(0x19a)](_0x1160a9(0x16f));_0x8072be[_0x1160a9(0x1a0)][_0x1160a9(0x154)]('flex-1'),_0x3ec22d['appendChild'](_0x8072be);const _0x4251fb=document[_0x1160a9(0x19a)](_0x1160a9(0x16f));_0x4251fb[_0x1160a9(0x1a0)]['add'](_0x1160a9(0x15f)),_0x3ec22d[_0x1160a9(0x15d)](_0x4251fb),mgbaStorage[_0x1160a9(0x1a0)]['add'](_0x1160a9(0x19f)),_0x3d2111[_0x1160a9(0x179)]=()=>{const _0x58be22=_0x1160a9;_0x76c03a['close'](),_0x76c03a[_0x58be22(0x181)](),mgbaStorage['classList'][_0x58be22(0x181)](_0x58be22(0x19f));};const _0xdfb5b9=document[_0x1160a9(0x19a)](_0x1160a9(0x16f));_0xdfb5b9['classList'][_0x1160a9(0x154)](_0x1160a9(0x15f),'rom-item','hw','cw'),_0xdfb5b9[_0x1160a9(0x190)]=_0x4cade0,_0x76c03a['appendChild'](_0xdfb5b9);const _0x1cd41d=document['createElement'](_0x1160a9(0x16f));_0x1cd41d[_0x1160a9(0x1a0)][_0x1160a9(0x154)](_0x1160a9(0x16a),'hw','cw',_0x1160a9(0x18b)),_0x76c03a[_0x1160a9(0x15d)](_0x1cd41d);const _0x3ba243=document[_0x1160a9(0x19a)]('div');_0x3ba243[_0x1160a9(0x1a0)]['add'](_0x1160a9(0x193),'bc'),_0x1cd41d[_0x1160a9(0x15d)](_0x3ba243),_0x3ba243[_0x1160a9(0x179)]=()=>{const _0x4e1a46=_0x1160a9;a0_0x20e30b[_0x4e1a46(0x170)](_0x4352e7,_0x4cade0);};const _0x14cf45=document['createElement'](_0x1160a9(0x16f));_0x14cf45[_0x1160a9(0x1a0)][_0x1160a9(0x154)](_0x1160a9(0x164),'bc'),_0x1cd41d['appendChild'](_0x14cf45),_0x14cf45[_0x1160a9(0x179)]=async()=>{const _0x45156d=_0x1160a9;if(window['confirm'](_0x45156d(0x187)+_0x4cade0)){const _0x252f45=_0x4cade0[_0x45156d(0x17c)](/\....$/,_0x45156d(0x177));a0_0x20e30b[_0x45156d(0x183)](_0x4352e7),localStorage[_0x45156d(0x16c)](_0x252f45+'_dateState'+_0x4cade0[_0x45156d(0x173)](-0x1)),localStorage[_0x45156d(0x16c)](_0x252f45+'_imageState'+_0x4cade0[_0x45156d(0x173)](-0x1)),localStorageFile(),_0x76c03a['close'](),_0x76c03a[_0x45156d(0x181)](),mgbaStorage[_0x45156d(0x1a0)][_0x45156d(0x181)](_0x45156d(0x19f));}};const _0x10c7da=document['createElement'](_0x1160a9(0x16f));_0x10c7da[_0x1160a9(0x1a0)][_0x1160a9(0x154)]('rename','bc'),_0x1cd41d[_0x1160a9(0x15d)](_0x10c7da),_0x10c7da[_0x1160a9(0x179)]=async()=>{const _0x12647e=_0x1160a9,_0x1c2c35=window[_0x12647e(0x17a)]('Edit\x20filename',_0x4cade0);if(_0x1c2c35!==null){const _0x4c6189=_0x4cade0[_0x12647e(0x17c)](/\....$/,_0x12647e(0x177)),_0x5c4653=_0x1c2c35[_0x12647e(0x17c)](/\....$/,'.gba'),_0x5034f8=_0x4c6189+'_dateState'+_0x4cade0[_0x12647e(0x173)](-0x1),_0x53494b=_0x4c6189+_0x12647e(0x18f)+_0x4cade0['slice'](-0x1),_0x1f073a=_0x5c4653+_0x12647e(0x15c)+_0x1c2c35[_0x12647e(0x173)](-0x1),_0x32cba7=_0x5c4653+_0x12647e(0x18f)+_0x1c2c35[_0x12647e(0x173)](-0x1),_0x15c503=localStorage[_0x12647e(0x19c)](_0x5034f8),_0x4ea261=localStorage['getItem'](_0x53494b);_0x15c503!==null&&(localStorage[_0x12647e(0x196)](_0x1f073a,_0x15c503),localStorage[_0x12647e(0x16c)](_0x5034f8)),_0x4ea261!==null&&(localStorage['setItem'](_0x32cba7,_0x4ea261),localStorage[_0x12647e(0x16c)](_0x53494b)),a0_0x20e30b[_0x12647e(0x157)](_0x4352e7,_0x4cade0,_0x1c2c35),localStorageFile(),_0x76c03a['close'](),_0x76c03a[_0x12647e(0x181)](),mgbaStorage['classList']['remove'](_0x12647e(0x19f));}},_0x76c03a[_0x1160a9(0x188)]();};const _0x281c90=document[_0x59d149(0x19a)](_0x59d149(0x17f));_0x281c90['textContent']=humanFileSize(a0_0x20e30b[_0x59d149(0x19b)](_0x4352e7)),_0x281c90[_0x59d149(0x1a0)][_0x59d149(0x154)](_0x59d149(0x17d)),_0x3ccc24['appendChild'](_0x281c90);}function a0_0x9300(){const _0x2a709e=['/data/games/','right','slice','disable','getElementById','YiB','.gba','PiB','onclick','prompt','341148sZFUzi','replace','mib','change','span','toFixed','remove','16UHqgji','deleteFile','102TsylvB','onclose','listCheat','Delete\x20this\x20file?','showModal','uploadFile','length','gap-16','abs','savesFile','KiB','_imageState','textContent','/data/states/','MiB','download','EiB','gap-10','setItem','screenshotsFile','/data/cheats/','mgba-storage','createElement','fileSize','getItem','rom-item','listScreenshot','opacity0','classList','uId','GiB','statesFile','3725298BNDntE','add','105MtHZXq','addEventListener','editFile','361208EZbOpl','14655432AZDzhK','rom','7142Aktpkd','_dateState','appendChild','TiB','flex-1','10ATrEGm','active','listSave','storage','delete','47iRdIkY','/data/screenshots/','listGame','romsFile','firstChild','actionDiv','800uZTSkt','removeItem','DOMContentLoaded','860266YAVydk','div','downloadFile'];a0_0x9300=function(){return _0x2a709e;};return a0_0x9300();}export function localStorageFile(){const _0x5c33b0=a0_0x257ac2,_0x4e1078=a0_0x20e30b[_0x5c33b0(0x167)](),_0x3d2068=a0_0x20e30b[_0x5c33b0(0x162)](),_0xc10d55=a0_0x20e30b['listState'](),_0x540b31=a0_0x20e30b[_0x5c33b0(0x186)](),_0x4b2e52=a0_0x20e30b[_0x5c33b0(0x19e)](),_0x193d57=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x447bac of _0x193d57){while(_0x447bac[_0x5c33b0(0x169)]){_0x447bac['lastChild'][_0x5c33b0(0x181)]();}}for(const _0x57efdb of _0x4e1078){createElementStorage(romsFile,_0x57efdb,_0x5c33b0(0x171)+_0x57efdb);}for(const _0x1cbc43 of _0xc10d55){createElementStorage(statesFile,_0x1cbc43,_0x5c33b0(0x191)+_0x1cbc43);}for(const _0x4747a1 of _0x3d2068){createElementStorage(savesFile,_0x4747a1,'/data/saves/'+_0x4747a1);}for(const _0x2ef72b of _0x540b31){createElementStorage(cheatsFile,_0x2ef72b,_0x5c33b0(0x198)+_0x2ef72b);}for(const _0x5ec2b5 of _0x4b2e52){createElementStorage(screenshotsFile,_0x5ec2b5,_0x5c33b0(0x166)+_0x5ec2b5);}}document[a0_0x257ac2(0x156)](a0_0x257ac2(0x16d),function(){const _0x2f5988=a0_0x257ac2;upLoadFile[_0x2f5988(0x156)](_0x2f5988(0x17e),function(){const _0x8fd2e7=_0x2f5988;a0_0x20e30b[_0x8fd2e7(0x189)](upLoadFile);}),openLocalStorage['addEventListener']('click',function(){const _0x41cb88=_0x2f5988,_0x3f82bb=localStorage[_0x41cb88(0x19c)](_0x41cb88(0x1a1));storage[_0x41cb88(0x1a0)][_0x41cb88(0x181)]('disable'),intro['classList'][_0x41cb88(0x154)](_0x41cb88(0x174)),ingame['classList']['add'](_0x41cb88(0x174)),_0x3f82bb===null||_0x3f82bb===''?(dropboxRestore[_0x41cb88(0x1a0)]['remove'](_0x41cb88(0x161)),dropboxBackup[_0x41cb88(0x1a0)][_0x41cb88(0x181)](_0x41cb88(0x161)),dropboxCloud[_0x41cb88(0x1a0)][_0x41cb88(0x181)](_0x41cb88(0x161))):(dropboxRestore[_0x41cb88(0x1a0)]['add'](_0x41cb88(0x161)),dropboxBackup[_0x41cb88(0x1a0)][_0x41cb88(0x154)]('active'),dropboxCloud[_0x41cb88(0x1a0)][_0x41cb88(0x154)](_0x41cb88(0x161)));}),setTimeout(()=>{localStorageFile();},0xbb8);});