const a0_0x3b318b=a0_0x585f;function a0_0x585f(_0x9311d,_0x4ca3c6){const _0xe402ea=a0_0xe402();return a0_0x585f=function(_0x585fd3,_0x324b60){_0x585fd3=_0x585fd3-0x1e3;let _0x4aa6fa=_0xe402ea[_0x585fd3];return _0x4aa6fa;},a0_0x585f(_0x9311d,_0x4ca3c6);}(function(_0x31f6ce,_0x24db14){const _0x44ce64=a0_0x585f,_0x573208=_0x31f6ce();while(!![]){try{const _0x18fd80=parseInt(_0x44ce64(0x1f4))/0x1*(-parseInt(_0x44ce64(0x1f9))/0x2)+-parseInt(_0x44ce64(0x1ea))/0x3*(parseInt(_0x44ce64(0x219))/0x4)+parseInt(_0x44ce64(0x21e))/0x5+parseInt(_0x44ce64(0x1fb))/0x6+parseInt(_0x44ce64(0x1e4))/0x7+-parseInt(_0x44ce64(0x220))/0x8+parseInt(_0x44ce64(0x203))/0x9;if(_0x18fd80===_0x24db14)break;else _0x573208['push'](_0x573208['shift']());}catch(_0xdfacea){_0x573208['push'](_0x573208['shift']());}}}(a0_0xe402,0xd2be6));import*as a0_0x53e4c6 from'./main.js';const mgbaStorage=document[a0_0x3b318b(0x1e8)](a0_0x3b318b(0x212)),savesFile=document[a0_0x3b318b(0x1e8)](a0_0x3b318b(0x1f3)),romsFile=document[a0_0x3b318b(0x1e8)]('romsFile'),statesFile=document[a0_0x3b318b(0x1e8)](a0_0x3b318b(0x1f8)),screenshotsFile=document[a0_0x3b318b(0x1e8)](a0_0x3b318b(0x227));function humanFileSize(_0x595c79,_0x3162a2=![],_0x5b9e65=0x1){const _0x889699=a0_0x3b318b,_0x383329=_0x3162a2?0x3e8:0x400,_0x2f1335=_0x3162a2?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x889699(0x224),_0x889699(0x1ec),_0x889699(0x202),_0x889699(0x1f1),_0x889699(0x21a),_0x889699(0x20a),_0x889699(0x22c),_0x889699(0x205)];let _0x5f40ac=-0x1;do{_0x595c79/=_0x383329,++_0x5f40ac;}while(Math[_0x889699(0x222)](_0x595c79)>=_0x383329&&_0x5f40ac<_0x2f1335[_0x889699(0x210)]-0x1);return _0x595c79[_0x889699(0x200)](_0x5b9e65)+'\x20'+_0x2f1335[_0x5f40ac];}function createElementStorage(_0x535769,_0x415469,_0x109a90){const _0x46e4f6=a0_0x3b318b,_0x5b280b=document[_0x46e4f6(0x1e7)](_0x46e4f6(0x1ee));_0x5b280b['classList'][_0x46e4f6(0x226)](_0x46e4f6(0x206),'rom-item',_0x46e4f6(0x213)),_0x535769[_0x46e4f6(0x1f2)](_0x5b280b);const _0x57e030=document[_0x46e4f6(0x1e7)](_0x46e4f6(0x218));_0x57e030[_0x46e4f6(0x22b)]=_0x415469,_0x57e030['classList'][_0x46e4f6(0x226)](_0x46e4f6(0x206)),_0x5b280b[_0x46e4f6(0x1f2)](_0x57e030),_0x57e030[_0x46e4f6(0x1e9)]=()=>{const _0xd44a22=_0x46e4f6,_0x4eb941=document[_0xd44a22(0x1e7)]('dialog');_0x4eb941[_0xd44a22(0x1fc)]=()=>_0x4eb941[_0xd44a22(0x229)](),_0x535769[_0xd44a22(0x1f2)](_0x4eb941);const _0x1dd321=document[_0xd44a22(0x1e7)]('div');_0x1dd321['classList'][_0xd44a22(0x226)]('storage',_0xd44a22(0x1f7),'gap-10'),_0x4eb941[_0xd44a22(0x1f2)](_0x1dd321);const _0x308651=document['createElement']('div');_0x308651[_0xd44a22(0x1ff)]['add']('home','bc','flex-1'),_0x1dd321[_0xd44a22(0x1f2)](_0x308651);const _0x533fc8=document[_0xd44a22(0x1e7)](_0xd44a22(0x1ee));_0x533fc8['classList'][_0xd44a22(0x226)](_0xd44a22(0x206)),_0x1dd321['appendChild'](_0x533fc8);const _0x591f09=document[_0xd44a22(0x1e7)](_0xd44a22(0x1ee));_0x591f09[_0xd44a22(0x1ff)]['add']('flex-1'),_0x1dd321['appendChild'](_0x591f09);const _0x856e3e=document[_0xd44a22(0x1e7)]('div');_0x856e3e['classList'][_0xd44a22(0x226)](_0xd44a22(0x206)),_0x1dd321[_0xd44a22(0x1f2)](_0x856e3e),mgbaStorage[_0xd44a22(0x1ff)][_0xd44a22(0x226)](_0xd44a22(0x211)),_0x308651[_0xd44a22(0x1e9)]=()=>{const _0x558449=_0xd44a22;_0x4eb941[_0x558449(0x1e3)](),_0x4eb941[_0x558449(0x229)](),mgbaStorage[_0x558449(0x1ff)][_0x558449(0x229)](_0x558449(0x211));};const _0x3b2cb4=document[_0xd44a22(0x1e7)]('div');_0x3b2cb4[_0xd44a22(0x1ff)][_0xd44a22(0x226)]('flex-1',_0xd44a22(0x217),'hw','cw'),_0x3b2cb4[_0xd44a22(0x22b)]=_0x415469,_0x4eb941[_0xd44a22(0x1f2)](_0x3b2cb4);const _0x5351fb=document[_0xd44a22(0x1e7)](_0xd44a22(0x1ee));_0x5351fb[_0xd44a22(0x1ff)]['add'](_0xd44a22(0x214),'hw','cw','gap-16'),_0x4eb941['appendChild'](_0x5351fb);const _0x24d9a4=document[_0xd44a22(0x1e7)]('div');_0x24d9a4[_0xd44a22(0x1ff)][_0xd44a22(0x226)](_0xd44a22(0x1ef),'bc'),_0x5351fb['appendChild'](_0x24d9a4),_0x24d9a4[_0xd44a22(0x1e9)]=()=>{const _0x4f08d8=_0xd44a22;a0_0x53e4c6[_0x4f08d8(0x215)](_0x109a90,_0x415469);};const _0x277477=document['createElement'](_0xd44a22(0x1ee));_0x277477[_0xd44a22(0x1ff)]['add'](_0xd44a22(0x216),'bc'),_0x5351fb[_0xd44a22(0x1f2)](_0x277477),_0x277477[_0xd44a22(0x1e9)]=async()=>{const _0xe1a3c9=_0xd44a22;if(window[_0xe1a3c9(0x1fd)](_0xe1a3c9(0x1e6)+_0x415469)){const _0x223208=_0x415469[_0xe1a3c9(0x20e)](/\....$/,'.gba');a0_0x53e4c6[_0xe1a3c9(0x20d)](_0x109a90),localStorage[_0xe1a3c9(0x20b)](_0x223208+_0xe1a3c9(0x228)+_0x415469[_0xe1a3c9(0x221)](-0x1)),localStorage['removeItem'](_0x223208+_0xe1a3c9(0x1eb)+_0x415469[_0xe1a3c9(0x221)](-0x1)),localStorageFile(),_0x4eb941[_0xe1a3c9(0x1e3)](),_0x4eb941[_0xe1a3c9(0x229)](),mgbaStorage[_0xe1a3c9(0x1ff)]['remove'](_0xe1a3c9(0x211));}};const _0x2a7e90=document[_0xd44a22(0x1e7)](_0xd44a22(0x1ee));_0x2a7e90[_0xd44a22(0x1ff)][_0xd44a22(0x226)](_0xd44a22(0x21d),'bc'),_0x5351fb[_0xd44a22(0x1f2)](_0x2a7e90),_0x2a7e90[_0xd44a22(0x1e9)]=async()=>{const _0x473cd2=_0xd44a22,_0x58d953=window[_0x473cd2(0x21c)](_0x473cd2(0x21b),_0x415469);_0x58d953!==null&&(a0_0x53e4c6[_0x473cd2(0x207)](_0x109a90,_0x415469,_0x58d953),localStorageFile(),_0x4eb941['close'](),_0x4eb941['remove'](),mgbaStorage[_0x473cd2(0x1ff)][_0x473cd2(0x229)]('opacity0'));},_0x4eb941['showModal']();};const _0xae0324=document[_0x46e4f6(0x1e7)](_0x46e4f6(0x218));_0xae0324[_0x46e4f6(0x22b)]=humanFileSize(a0_0x53e4c6[_0x46e4f6(0x1e5)](_0x109a90)),_0xae0324[_0x46e4f6(0x1ff)]['add']('mib'),_0x5b280b['appendChild'](_0xae0324);}export function localStorageFile(){const _0x52e61e=a0_0x3b318b,_0x5642d9=a0_0x53e4c6['listGame'](),_0x5d1e20=a0_0x53e4c6[_0x52e61e(0x1f0)](),_0x5de7db=a0_0x53e4c6[_0x52e61e(0x1fe)](),_0x4424d5=a0_0x53e4c6['listCheat'](),_0x5d34da=a0_0x53e4c6[_0x52e61e(0x204)](),_0x310906=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x192a42 of _0x310906){while(_0x192a42[_0x52e61e(0x1f6)]){_0x192a42['lastChild'][_0x52e61e(0x229)]();}}for(const _0x40a806 of _0x5642d9){createElementStorage(romsFile,_0x40a806,_0x52e61e(0x223)+_0x40a806);}for(const _0x151bf2 of _0x5de7db){createElementStorage(statesFile,_0x151bf2,_0x52e61e(0x21f)+_0x151bf2);}for(const _0xb44199 of _0x5d1e20){createElementStorage(savesFile,_0xb44199,_0x52e61e(0x20f)+_0xb44199);}for(const _0x3d6e76 of _0x4424d5){createElementStorage(cheatsFile,_0x3d6e76,'/data/cheats/'+_0x3d6e76);}for(const _0x2ad93f of _0x5d34da){createElementStorage(screenshotsFile,_0x2ad93f,_0x52e61e(0x208)+_0x2ad93f);}}document[a0_0x3b318b(0x1ed)](a0_0x3b318b(0x209),function(){const _0x1b2c10=a0_0x3b318b;upLoadFile[_0x1b2c10(0x1ed)](_0x1b2c10(0x201),function(){a0_0x53e4c6['uploadFile'](upLoadFile);}),openLocalStorage[_0x1b2c10(0x1ed)](_0x1b2c10(0x225),function(){const _0x5c29e9=_0x1b2c10,_0x1e755d=localStorage[_0x5c29e9(0x20c)](_0x5c29e9(0x1f5));storage[_0x5c29e9(0x1ff)][_0x5c29e9(0x229)]('disable'),intro[_0x5c29e9(0x1ff)][_0x5c29e9(0x226)]('disable'),ingame[_0x5c29e9(0x1ff)]['add'](_0x5c29e9(0x1fa)),_0x1e755d===null||_0x1e755d===''?(dropboxRestore[_0x5c29e9(0x1ff)][_0x5c29e9(0x229)](_0x5c29e9(0x22a)),dropboxBackup['classList'][_0x5c29e9(0x229)](_0x5c29e9(0x22a)),dropboxCloud['classList'][_0x5c29e9(0x229)](_0x5c29e9(0x22a))):(dropboxRestore[_0x5c29e9(0x1ff)][_0x5c29e9(0x226)]('active'),dropboxBackup[_0x5c29e9(0x1ff)][_0x5c29e9(0x226)](_0x5c29e9(0x22a)),dropboxCloud[_0x5c29e9(0x1ff)][_0x5c29e9(0x226)](_0x5c29e9(0x22a)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0xe402(){const _0x135572=['right','statesFile','360PiDuSn','disable','118062LxFqzf','onclose','confirm','listState','classList','toFixed','change','GiB','24004170JIMjlS','listScreenshot','YiB','flex-1','editFile','/data/screenshots/','DOMContentLoaded','EiB','removeItem','getItem','deleteFile','replace','/data/saves/','length','opacity0','mgba-storage','rom','actionDiv','downloadFile','delete','rom-item','span','2028jZyWIA','PiB','Edit\x20filename','prompt','rename','2614810wSIaXf','/data/states/','6382896YpoCbE','slice','abs','/data/games/','KiB','click','add','screenshotsFile','_dateState','remove','active','textContent','ZiB','close','8832145upQfMf','fileSize','Delete\x20this\x20file?','createElement','getElementById','onclick','10104iYUEHY','_imageState','MiB','addEventListener','div','download','listSave','TiB','appendChild','savesFile','6127vqgEjN','uId','firstChild'];a0_0xe402=function(){return _0x135572;};return a0_0xe402();}