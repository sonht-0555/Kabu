const a0_0x5650fe=a0_0x3cc8;(function(_0x54c8ca,_0x1c43a8){const _0x3195cf=a0_0x3cc8,_0x4ecc17=_0x54c8ca();while(!![]){try{const _0x21b8d6=-parseInt(_0x3195cf(0xfe))/0x1*(parseInt(_0x3195cf(0xe9))/0x2)+parseInt(_0x3195cf(0x10f))/0x3+parseInt(_0x3195cf(0xcf))/0x4*(-parseInt(_0x3195cf(0xdd))/0x5)+-parseInt(_0x3195cf(0xe6))/0x6*(-parseInt(_0x3195cf(0xf7))/0x7)+-parseInt(_0x3195cf(0xfb))/0x8*(parseInt(_0x3195cf(0xe2))/0x9)+-parseInt(_0x3195cf(0xe3))/0xa*(parseInt(_0x3195cf(0xea))/0xb)+parseInt(_0x3195cf(0xda))/0xc;if(_0x21b8d6===_0x1c43a8)break;else _0x4ecc17['push'](_0x4ecc17['shift']());}catch(_0x4c319a){_0x4ecc17['push'](_0x4ecc17['shift']());}}}(a0_0x58b2,0xbab3a));import*as a0_0x320052 from'./main.js';const mgbaStorage=document[a0_0x5650fe(0x10b)](a0_0x5650fe(0xd2)),savesFile=document[a0_0x5650fe(0x10b)]('savesFile'),romsFile=document['getElementById']('romsFile'),statesFile=document[a0_0x5650fe(0x10b)](a0_0x5650fe(0xeb)),screenshotsFile=document[a0_0x5650fe(0x10b)](a0_0x5650fe(0x112));function humanFileSize(_0x4e5f80,_0x9fb0cb=![],_0x2399c4=0x1){const _0x3f4504=a0_0x5650fe,_0x32f131=_0x9fb0cb?0x3e8:0x400,_0x527cf5=_0x9fb0cb?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB',_0x3f4504(0xef),'TiB','PiB','EiB',_0x3f4504(0xd4),_0x3f4504(0x107)];let _0x4aeac3=-0x1;do{_0x4e5f80/=_0x32f131,++_0x4aeac3;}while(Math[_0x3f4504(0xd6)](_0x4e5f80)>=_0x32f131&&_0x4aeac3<_0x527cf5[_0x3f4504(0x10a)]-0x1);return _0x4e5f80[_0x3f4504(0xd8)](_0x2399c4)+'\x20'+_0x527cf5[_0x4aeac3];}function a0_0x58b2(){const _0x5b1d57=['35kBteUf','delete','firstChild','classList','652808HIgejL','screenshots','prompt','1NPbtJQ','/data/states/','flex-1','downloadFile','_imageState','addEventListener','Edit\x20filename','listFiles','add','YiB','confirm','games','length','getElementById','uploadFile','storage','deleteFile','2629530pKMIYK','download','gap-10','screenshotsFile','textContent','gap-16','dialog','editFile','div','showModal','244EhzvFr','onclose','states','mgba-storage','cheats','ZiB','getItem','abs','_dateState','toFixed','/data/cheats/','18150036PvwsBy','close','appendChild','29960qYgHkE','remove','opacity0','fileSize','uId','9uZmgpo','4687820XrYWLw','rom-item','slice','930438rghWUe','active','onclick','2967506uLsyOn','11emsSaE','statesFile','DOMContentLoaded','.gba','createElement','GiB','replace','removeItem','home','right','span','/data/screenshots/','disable'];a0_0x58b2=function(){return _0x5b1d57;};return a0_0x58b2();}function a0_0x3cc8(_0xc254fc,_0x51f56d){const _0x58b27b=a0_0x58b2();return a0_0x3cc8=function(_0x3cc87b,_0x8e7138){_0x3cc87b=_0x3cc87b-0xcc;let _0x2ab2a2=_0x58b27b[_0x3cc87b];return _0x2ab2a2;},a0_0x3cc8(_0xc254fc,_0x51f56d);}function createElementStorage(_0x2199d5,_0x20a719,_0x37c728){const _0x40ccea=a0_0x5650fe,_0x3e3ef8=document[_0x40ccea(0xee)](_0x40ccea(0xcd));_0x3e3ef8[_0x40ccea(0xfa)]['add'](_0x40ccea(0x100),_0x40ccea(0xe4),'rom'),_0x2199d5[_0x40ccea(0xdc)](_0x3e3ef8);const _0x5eae4b=document[_0x40ccea(0xee)](_0x40ccea(0xf4));_0x5eae4b[_0x40ccea(0x113)]=_0x20a719,_0x5eae4b[_0x40ccea(0xfa)]['add'](_0x40ccea(0x100)),_0x3e3ef8[_0x40ccea(0xdc)](_0x5eae4b),_0x5eae4b[_0x40ccea(0xe8)]=()=>{const _0x1d6a7b=_0x40ccea,_0x3cef15=document[_0x1d6a7b(0xee)](_0x1d6a7b(0x115));_0x3cef15[_0x1d6a7b(0xd0)]=()=>_0x3cef15['remove'](),_0x2199d5['appendChild'](_0x3cef15);const _0x3a6ed0=document['createElement'](_0x1d6a7b(0xcd));_0x3a6ed0[_0x1d6a7b(0xfa)][_0x1d6a7b(0x106)](_0x1d6a7b(0x10d),_0x1d6a7b(0xf3),_0x1d6a7b(0x111)),_0x3cef15['appendChild'](_0x3a6ed0);const _0x4f448a=document[_0x1d6a7b(0xee)]('div');_0x4f448a[_0x1d6a7b(0xfa)][_0x1d6a7b(0x106)](_0x1d6a7b(0xf2),'bc','flex-1'),_0x3a6ed0[_0x1d6a7b(0xdc)](_0x4f448a);const _0x2d2675=document[_0x1d6a7b(0xee)]('div');_0x2d2675[_0x1d6a7b(0xfa)][_0x1d6a7b(0x106)]('flex-1'),_0x3a6ed0['appendChild'](_0x2d2675);const _0x32d6fa=document['createElement'](_0x1d6a7b(0xcd));_0x32d6fa[_0x1d6a7b(0xfa)][_0x1d6a7b(0x106)](_0x1d6a7b(0x100)),_0x3a6ed0[_0x1d6a7b(0xdc)](_0x32d6fa);const _0x360dab=document[_0x1d6a7b(0xee)](_0x1d6a7b(0xcd));_0x360dab[_0x1d6a7b(0xfa)][_0x1d6a7b(0x106)](_0x1d6a7b(0x100)),_0x3a6ed0[_0x1d6a7b(0xdc)](_0x360dab),mgbaStorage[_0x1d6a7b(0xfa)][_0x1d6a7b(0x106)]('opacity0'),_0x4f448a['onclick']=()=>{const _0x43481e=_0x1d6a7b;_0x3cef15['close'](),_0x3cef15['remove'](),mgbaStorage['classList'][_0x43481e(0xde)](_0x43481e(0xdf));};const _0x3003f0=document[_0x1d6a7b(0xee)](_0x1d6a7b(0xcd));_0x3003f0['classList'][_0x1d6a7b(0x106)]('flex-1','rom-item','hw','cw'),_0x3003f0[_0x1d6a7b(0x113)]=_0x20a719,_0x3cef15['appendChild'](_0x3003f0);const _0x1f1c44=document['createElement'](_0x1d6a7b(0xcd));_0x1f1c44[_0x1d6a7b(0xfa)][_0x1d6a7b(0x106)]('actionDiv','hw','cw',_0x1d6a7b(0x114)),_0x3cef15[_0x1d6a7b(0xdc)](_0x1f1c44);const _0x274b85=document[_0x1d6a7b(0xee)](_0x1d6a7b(0xcd));_0x274b85[_0x1d6a7b(0xfa)]['add'](_0x1d6a7b(0x110),'bc'),_0x1f1c44[_0x1d6a7b(0xdc)](_0x274b85),_0x274b85['onclick']=()=>{const _0x2c34ae=_0x1d6a7b;a0_0x320052[_0x2c34ae(0x101)](_0x37c728,_0x20a719);};const _0x50d7d9=document['createElement'](_0x1d6a7b(0xcd));_0x50d7d9[_0x1d6a7b(0xfa)]['add'](_0x1d6a7b(0xf8),'bc'),_0x1f1c44['appendChild'](_0x50d7d9),_0x50d7d9['onclick']=async()=>{const _0x55e0b3=_0x1d6a7b;if(window[_0x55e0b3(0x108)]('Delete\x20this\x20file?'+_0x20a719)){const _0x2ee519=_0x20a719[_0x55e0b3(0xf0)](/\....$/,_0x55e0b3(0xed));a0_0x320052[_0x55e0b3(0x10e)](_0x37c728),localStorage[_0x55e0b3(0xf1)](_0x2ee519+_0x55e0b3(0xd7)+_0x20a719['slice'](-0x1)),localStorage[_0x55e0b3(0xf1)](_0x2ee519+_0x55e0b3(0x102)+_0x20a719[_0x55e0b3(0xe5)](-0x1)),localStorageFile(),_0x3cef15[_0x55e0b3(0xdb)](),_0x3cef15[_0x55e0b3(0xde)](),mgbaStorage[_0x55e0b3(0xfa)]['remove'](_0x55e0b3(0xdf));}};const _0x2c1e2a=document[_0x1d6a7b(0xee)](_0x1d6a7b(0xcd));_0x2c1e2a[_0x1d6a7b(0xfa)][_0x1d6a7b(0x106)]('rename','bc'),_0x1f1c44[_0x1d6a7b(0xdc)](_0x2c1e2a),_0x2c1e2a[_0x1d6a7b(0xe8)]=async()=>{const _0x58d1b9=_0x1d6a7b,_0xf84a3c=window[_0x58d1b9(0xfd)](_0x58d1b9(0x104),_0x20a719);_0xf84a3c!==null&&(a0_0x320052[_0x58d1b9(0xcc)](_0x37c728,_0x20a719,_0xf84a3c),localStorageFile(),_0x3cef15[_0x58d1b9(0xdb)](),_0x3cef15[_0x58d1b9(0xde)](),mgbaStorage[_0x58d1b9(0xfa)][_0x58d1b9(0xde)](_0x58d1b9(0xdf)));},_0x3cef15[_0x1d6a7b(0xce)]();};const _0x57d3ad=document[_0x40ccea(0xee)]('span');_0x57d3ad[_0x40ccea(0x113)]=humanFileSize(a0_0x320052[_0x40ccea(0xe0)](_0x37c728)),_0x57d3ad[_0x40ccea(0xfa)][_0x40ccea(0x106)]('mib'),_0x3e3ef8[_0x40ccea(0xdc)](_0x57d3ad);}export function localStorageFile(){const _0x4f6b55=a0_0x5650fe,_0x43f7dc=a0_0x320052[_0x4f6b55(0x105)](_0x4f6b55(0x109)),_0x29fe4c=a0_0x320052[_0x4f6b55(0x105)]('saves'),_0x4c8ef2=a0_0x320052[_0x4f6b55(0x105)](_0x4f6b55(0xd1)),_0x5c7b6d=a0_0x320052[_0x4f6b55(0x105)](_0x4f6b55(0xd3)),_0x4448d5=a0_0x320052[_0x4f6b55(0x105)](_0x4f6b55(0xfc)),_0x125291=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xe4ecdc of _0x125291){while(_0xe4ecdc[_0x4f6b55(0xf9)]){_0xe4ecdc['lastChild']['remove']();}}for(const _0xb2ff14 of _0x43f7dc){createElementStorage(romsFile,_0xb2ff14,'/data/games/'+_0xb2ff14);}for(const _0x489858 of _0x4c8ef2){createElementStorage(statesFile,_0x489858,_0x4f6b55(0xff)+_0x489858);}for(const _0x587bde of _0x29fe4c){createElementStorage(savesFile,_0x587bde,'/data/saves/'+_0x587bde);}for(const _0x422c8b of _0x5c7b6d){createElementStorage(cheatsFile,_0x422c8b,_0x4f6b55(0xd9)+_0x422c8b);}for(const _0xc55a16 of _0x4448d5){createElementStorage(screenshotsFile,_0xc55a16,_0x4f6b55(0xf5)+_0xc55a16);}}document[a0_0x5650fe(0x103)](a0_0x5650fe(0xec),function(){const _0x336012=a0_0x5650fe;upLoadFile[_0x336012(0x103)]('change',function(){const _0x172802=_0x336012;a0_0x320052[_0x172802(0x10c)](upLoadFile);}),openLocalStorage[_0x336012(0x103)]('click',function(){const _0x58a517=_0x336012,_0x17680a=localStorage[_0x58a517(0xd5)](_0x58a517(0xe1));storage['classList'][_0x58a517(0xde)](_0x58a517(0xf6)),intro[_0x58a517(0xfa)]['add'](_0x58a517(0xf6)),ingame[_0x58a517(0xfa)][_0x58a517(0x106)](_0x58a517(0xf6)),_0x17680a===null||_0x17680a===''?(dropboxRestore[_0x58a517(0xfa)][_0x58a517(0xde)]('active'),dropboxBackup[_0x58a517(0xfa)][_0x58a517(0xde)](_0x58a517(0xe7)),dropboxCloud[_0x58a517(0xfa)][_0x58a517(0xde)](_0x58a517(0xe7))):(dropboxRestore['classList'][_0x58a517(0x106)](_0x58a517(0xe7)),dropboxBackup['classList'][_0x58a517(0x106)](_0x58a517(0xe7)),dropboxCloud[_0x58a517(0xfa)]['add'](_0x58a517(0xe7)));}),setTimeout(()=>{localStorageFile();},0xbb8);});