const a0_0x526daa=a0_0x886c;(function(_0x5db14e,_0x5280e8){const _0x9a8ffc=a0_0x886c,_0x31e733=_0x5db14e();while(!![]){try{const _0x160fe1=parseInt(_0x9a8ffc(0x107))/0x1+parseInt(_0x9a8ffc(0xe9))/0x2*(parseInt(_0x9a8ffc(0xf0))/0x3)+parseInt(_0x9a8ffc(0x108))/0x4+parseInt(_0x9a8ffc(0xf1))/0x5+parseInt(_0x9a8ffc(0xc5))/0x6+-parseInt(_0x9a8ffc(0xdc))/0x7+parseInt(_0x9a8ffc(0xea))/0x8*(-parseInt(_0x9a8ffc(0xdb))/0x9);if(_0x160fe1===_0x5280e8)break;else _0x31e733['push'](_0x31e733['shift']());}catch(_0x332082){_0x31e733['push'](_0x31e733['shift']());}}}(a0_0x3a8d,0x50d26));function a0_0x886c(_0x520aad,_0x2d4c6d){const _0x3a8dd8=a0_0x3a8d();return a0_0x886c=function(_0x886cab,_0x52aa71){_0x886cab=_0x886cab-0xc3;let _0x102568=_0x3a8dd8[_0x886cab];return _0x102568;},a0_0x886c(_0x520aad,_0x2d4c6d);}import*as a0_0x31bf86 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x526daa(0xeb)),savesFile=document[a0_0x526daa(0xd6)]('savesFile'),romsFile=document['getElementById'](a0_0x526daa(0xdf)),statesFile=document['getElementById'](a0_0x526daa(0xe1)),screenshotsFile=document[a0_0x526daa(0xd6)](a0_0x526daa(0xe7));function a0_0x3a8d(){const _0x4691de=['addEventListener','span','/data/states/','3gEVnJy','243555HzFyxl','add','uId','PiB','gap-10','/data/games/','downloadFile','Delete\x20this\x20file?','listFiles','deleteFile','textContent','slice','rename','Edit\x20filename','mib','onclick','confirm','div','uploadFile','appendChild','YiB','flex-1','383938cUcBaw','298120sgGsDw','change','actionDiv','createElement','/data/cheats/','1122930acxdDB','home','TiB','lastChild','fileSize','remove','storage','cheats','rom','prompt','toFixed','opacity0','states','active','click','EiB','ZiB','getElementById','replace','rom-item','close','showModal','99PydqfP','4124834mQInuU','DOMContentLoaded','/data/saves/','romsFile','abs','statesFile','classList','disable','/data/screenshots/','delete','length','screenshotsFile','dialog','637782DbrJjg','67576naLjrz','mgba-storage','onclose'];a0_0x3a8d=function(){return _0x4691de;};return a0_0x3a8d();}function humanFileSize(_0x5583c6,_0x5b69cb=![],_0x1956db=0x1){const _0x37c956=a0_0x526daa,_0x819cd9=_0x5b69cb?0x3e8:0x400,_0xb7882=_0x5b69cb?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB','GiB',_0x37c956(0xc7),_0x37c956(0xf4),_0x37c956(0xd4),_0x37c956(0xd5),_0x37c956(0x105)];let _0x428199=-0x1;do{_0x5583c6/=_0x819cd9,++_0x428199;}while(Math[_0x37c956(0xe0)](_0x5583c6)>=_0x819cd9&&_0x428199<_0xb7882[_0x37c956(0xe6)]-0x1);return _0x5583c6[_0x37c956(0xcf)](_0x1956db)+'\x20'+_0xb7882[_0x428199];}function createElementStorage(_0x6bc7ea,_0x1fb6c3,_0x51c4d5){const _0x4d597c=a0_0x526daa,_0x29d011=document[_0x4d597c(0xc3)]('div');_0x29d011[_0x4d597c(0xe2)][_0x4d597c(0xf2)](_0x4d597c(0x106),_0x4d597c(0xd8),_0x4d597c(0xcd)),_0x6bc7ea['appendChild'](_0x29d011);const _0x5ac5d0=document[_0x4d597c(0xc3)](_0x4d597c(0xee));_0x5ac5d0[_0x4d597c(0xfb)]=_0x1fb6c3,_0x5ac5d0[_0x4d597c(0xe2)][_0x4d597c(0xf2)]('flex-1'),_0x29d011['appendChild'](_0x5ac5d0),_0x5ac5d0[_0x4d597c(0x100)]=()=>{const _0x22d408=_0x4d597c,_0x3b30a5=document[_0x22d408(0xc3)](_0x22d408(0xe8));_0x3b30a5[_0x22d408(0xec)]=()=>_0x3b30a5[_0x22d408(0xca)](),_0x6bc7ea[_0x22d408(0x104)](_0x3b30a5);const _0x3e747f=document[_0x22d408(0xc3)](_0x22d408(0x102));_0x3e747f['classList'][_0x22d408(0xf2)](_0x22d408(0xcb),'right',_0x22d408(0xf5)),_0x3b30a5[_0x22d408(0x104)](_0x3e747f);const _0x9ee0ac=document['createElement'](_0x22d408(0x102));_0x9ee0ac['classList'][_0x22d408(0xf2)](_0x22d408(0xc6),'bc','flex-1'),_0x3e747f[_0x22d408(0x104)](_0x9ee0ac);const _0x26376c=document[_0x22d408(0xc3)](_0x22d408(0x102));_0x26376c[_0x22d408(0xe2)][_0x22d408(0xf2)](_0x22d408(0x106)),_0x3e747f[_0x22d408(0x104)](_0x26376c);const _0x46fcd6=document[_0x22d408(0xc3)](_0x22d408(0x102));_0x46fcd6[_0x22d408(0xe2)]['add'](_0x22d408(0x106)),_0x3e747f[_0x22d408(0x104)](_0x46fcd6);const _0x174096=document[_0x22d408(0xc3)](_0x22d408(0x102));_0x174096[_0x22d408(0xe2)][_0x22d408(0xf2)](_0x22d408(0x106)),_0x3e747f['appendChild'](_0x174096),mgbaStorage[_0x22d408(0xe2)][_0x22d408(0xf2)](_0x22d408(0xd0)),_0x9ee0ac[_0x22d408(0x100)]=()=>{const _0x5d6393=_0x22d408;_0x3b30a5[_0x5d6393(0xd9)](),_0x3b30a5[_0x5d6393(0xca)](),mgbaStorage[_0x5d6393(0xe2)]['remove']('opacity0');};const _0x631054=document['createElement'](_0x22d408(0x102));_0x631054[_0x22d408(0xe2)][_0x22d408(0xf2)](_0x22d408(0x106),_0x22d408(0xd8),'hw','cw'),_0x631054[_0x22d408(0xfb)]=_0x1fb6c3,_0x3b30a5['appendChild'](_0x631054);const _0x546aa5=document[_0x22d408(0xc3)](_0x22d408(0x102));_0x546aa5[_0x22d408(0xe2)][_0x22d408(0xf2)](_0x22d408(0x10a),'hw','cw','gap-16'),_0x3b30a5[_0x22d408(0x104)](_0x546aa5);const _0x5e6921=document[_0x22d408(0xc3)](_0x22d408(0x102));_0x5e6921[_0x22d408(0xe2)][_0x22d408(0xf2)]('download','bc'),_0x546aa5[_0x22d408(0x104)](_0x5e6921),_0x5e6921[_0x22d408(0x100)]=()=>{const _0x5206ad=_0x22d408;a0_0x31bf86[_0x5206ad(0xf7)](_0x51c4d5,_0x1fb6c3);};const _0x8ee0a8=document[_0x22d408(0xc3)](_0x22d408(0x102));_0x8ee0a8['classList'][_0x22d408(0xf2)](_0x22d408(0xe5),'bc'),_0x546aa5[_0x22d408(0x104)](_0x8ee0a8),_0x8ee0a8[_0x22d408(0x100)]=async()=>{const _0x3cdb25=_0x22d408;if(window[_0x3cdb25(0x101)](_0x3cdb25(0xf8)+_0x1fb6c3)){const _0x4364a1=_0x1fb6c3[_0x3cdb25(0xd7)](/\....$/,'.gba');a0_0x31bf86[_0x3cdb25(0xfa)](_0x51c4d5),localStorage['removeItem'](_0x4364a1+'_dateState'+_0x1fb6c3['slice'](-0x1)),localStorage['removeItem'](_0x4364a1+'_imageState'+_0x1fb6c3[_0x3cdb25(0xfc)](-0x1)),localStorageFile(),_0x3b30a5[_0x3cdb25(0xd9)](),_0x3b30a5[_0x3cdb25(0xca)](),mgbaStorage[_0x3cdb25(0xe2)][_0x3cdb25(0xca)]('opacity0');}};const _0x16bff5=document['createElement']('div');_0x16bff5[_0x22d408(0xe2)][_0x22d408(0xf2)](_0x22d408(0xfd),'bc'),_0x546aa5['appendChild'](_0x16bff5),_0x16bff5[_0x22d408(0x100)]=async()=>{const _0x1a465a=_0x22d408,_0x2b68a7=window[_0x1a465a(0xce)](_0x1a465a(0xfe),_0x1fb6c3);_0x2b68a7!==null&&(a0_0x31bf86['editFile'](_0x51c4d5,_0x1fb6c3,_0x2b68a7),localStorageFile(),_0x3b30a5[_0x1a465a(0xd9)](),_0x3b30a5[_0x1a465a(0xca)](),mgbaStorage[_0x1a465a(0xe2)]['remove'](_0x1a465a(0xd0)));},_0x3b30a5[_0x22d408(0xda)]();};const _0x4cb506=document[_0x4d597c(0xc3)]('span');_0x4cb506[_0x4d597c(0xfb)]=humanFileSize(a0_0x31bf86[_0x4d597c(0xc9)](_0x51c4d5)),_0x4cb506['classList']['add'](_0x4d597c(0xff)),_0x29d011['appendChild'](_0x4cb506);}export function localStorageFile(){const _0x16e147=a0_0x526daa,_0x8d3008=a0_0x31bf86[_0x16e147(0xf9)]('games'),_0x583d4a=a0_0x31bf86['listFiles']('saves'),_0xa7bbfd=a0_0x31bf86[_0x16e147(0xf9)](_0x16e147(0xd1)),_0xb27713=a0_0x31bf86[_0x16e147(0xf9)](_0x16e147(0xcc)),_0xa1ac05=a0_0x31bf86[_0x16e147(0xf9)]('screenshots'),_0x22523e=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xcaf1ff of _0x22523e){while(_0xcaf1ff['firstChild']){_0xcaf1ff[_0x16e147(0xc8)][_0x16e147(0xca)]();}}for(const _0x1457a4 of _0x8d3008){createElementStorage(romsFile,_0x1457a4,_0x16e147(0xf6)+_0x1457a4);}for(const _0x327b1c of _0xa7bbfd){createElementStorage(statesFile,_0x327b1c,_0x16e147(0xef)+_0x327b1c);}for(const _0x4417cd of _0x583d4a){createElementStorage(savesFile,_0x4417cd,_0x16e147(0xde)+_0x4417cd);}for(const _0x42e966 of _0xb27713){createElementStorage(cheatsFile,_0x42e966,_0x16e147(0xc4)+_0x42e966);}for(const _0x337469 of _0xa1ac05){createElementStorage(screenshotsFile,_0x337469,_0x16e147(0xe4)+_0x337469);}}document[a0_0x526daa(0xed)](a0_0x526daa(0xdd),function(){const _0x48e41c=a0_0x526daa;upLoadFile['addEventListener'](_0x48e41c(0x109),function(){const _0x11e8b6=_0x48e41c;a0_0x31bf86[_0x11e8b6(0x103)](upLoadFile);}),openLocalStorage[_0x48e41c(0xed)](_0x48e41c(0xd3),function(){const _0x30e026=_0x48e41c,_0x5200ed=localStorage['getItem'](_0x30e026(0xf3));storage[_0x30e026(0xe2)][_0x30e026(0xca)](_0x30e026(0xe3)),intro[_0x30e026(0xe2)][_0x30e026(0xf2)](_0x30e026(0xe3)),ingame[_0x30e026(0xe2)][_0x30e026(0xf2)](_0x30e026(0xe3)),_0x5200ed===null||_0x5200ed===''?(dropboxRestore['classList']['remove'](_0x30e026(0xd2)),dropboxBackup[_0x30e026(0xe2)][_0x30e026(0xca)](_0x30e026(0xd2)),dropboxCloud[_0x30e026(0xe2)]['remove'](_0x30e026(0xd2))):(dropboxRestore[_0x30e026(0xe2)][_0x30e026(0xf2)](_0x30e026(0xd2)),dropboxBackup[_0x30e026(0xe2)][_0x30e026(0xf2)](_0x30e026(0xd2)),dropboxCloud[_0x30e026(0xe2)][_0x30e026(0xf2)](_0x30e026(0xd2)));}),setTimeout(()=>{localStorageFile();},0xbb8);});