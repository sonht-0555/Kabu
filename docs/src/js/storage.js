const a0_0x5b7199=a0_0x51a7;function a0_0x51a7(_0x4efb6b,_0x8eab0f){const _0x587ed6=a0_0x587e();return a0_0x51a7=function(_0x51a7a8,_0x1b8f51){_0x51a7a8=_0x51a7a8-0x111;let _0x141ff5=_0x587ed6[_0x51a7a8];return _0x141ff5;},a0_0x51a7(_0x4efb6b,_0x8eab0f);}(function(_0x1f3b80,_0x106915){const _0x36eb10=a0_0x51a7,_0xd5b883=_0x1f3b80();while(!![]){try{const _0x54ee08=parseInt(_0x36eb10(0x122))/0x1+parseInt(_0x36eb10(0x11a))/0x2*(parseInt(_0x36eb10(0x141))/0x3)+parseInt(_0x36eb10(0x136))/0x4+-parseInt(_0x36eb10(0x13a))/0x5+-parseInt(_0x36eb10(0x13d))/0x6*(-parseInt(_0x36eb10(0x14d))/0x7)+parseInt(_0x36eb10(0x14a))/0x8*(-parseInt(_0x36eb10(0x159))/0x9)+parseInt(_0x36eb10(0x132))/0xa*(-parseInt(_0x36eb10(0x150))/0xb);if(_0x54ee08===_0x106915)break;else _0xd5b883['push'](_0xd5b883['shift']());}catch(_0x48c8c1){_0xd5b883['push'](_0xd5b883['shift']());}}}(a0_0x587e,0x2527c));import*as a0_0x576333 from'./main.js';function a0_0x587e(){const _0x283355=['GiB','firstChild','classList','storage','onclick','/data/cheats/','520IYxMEf','/data/saves/','EiB','10129YMzkWW','editFile','gap-16','1017808PeaGOd','cheats','download','length','close','romsFile','abs','slice','TiB','15777mSkDoX','mgba-storage','textContent','div','appendChild','lastChild','uploadFile','delete','Delete\x20this\x20file?','rom','remove','confirm','76BBFdZM','YiB','games','span','KiB','removeItem','active','PiB','302627bgjOGK','createElement','addEventListener','ZiB','savesFile','listFiles','statesFile','downloadFile','flex-1','home','toFixed','screenshotsFile','MiB','Edit\x20filename','gap-10','add','40gwrdoR','rom-item','getItem','dialog','992384aPLmcU','opacity0','.gba','_dateState','367785WiSWKH','/data/states/','uId','174IzydGQ','right','states','getElementById','9246ZprEmi','_imageState','disable'];a0_0x587e=function(){return _0x283355;};return a0_0x587e();}const mgbaStorage=document[a0_0x5b7199(0x140)](a0_0x5b7199(0x15a)),savesFile=document[a0_0x5b7199(0x140)](a0_0x5b7199(0x126)),romsFile=document['getElementById'](a0_0x5b7199(0x155)),statesFile=document['getElementById'](a0_0x5b7199(0x128)),screenshotsFile=document[a0_0x5b7199(0x140)](a0_0x5b7199(0x12d));function humanFileSize(_0x51d06a,_0x8dd71e=![],_0x437a71=0x1){const _0x3c735b=a0_0x5b7199,_0x25b8f8=_0x8dd71e?0x3e8:0x400,_0x22fa53=_0x8dd71e?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x3c735b(0x11e),_0x3c735b(0x12e),_0x3c735b(0x144),_0x3c735b(0x158),_0x3c735b(0x121),_0x3c735b(0x14c),_0x3c735b(0x125),_0x3c735b(0x11b)];let _0x2a997d=-0x1;do{_0x51d06a/=_0x25b8f8,++_0x2a997d;}while(Math[_0x3c735b(0x156)](_0x51d06a)>=_0x25b8f8&&_0x2a997d<_0x22fa53[_0x3c735b(0x153)]-0x1);return _0x51d06a[_0x3c735b(0x12c)](_0x437a71)+'\x20'+_0x22fa53[_0x2a997d];}function createElementStorage(_0x4c5c8b,_0x30c615,_0x216146){const _0x28a585=a0_0x5b7199,_0x4bb66f=document[_0x28a585(0x123)](_0x28a585(0x111));_0x4bb66f['classList'][_0x28a585(0x131)]('flex-1',_0x28a585(0x133),_0x28a585(0x117)),_0x4c5c8b[_0x28a585(0x112)](_0x4bb66f);const _0x1887a9=document[_0x28a585(0x123)](_0x28a585(0x11d));_0x1887a9['textContent']=_0x30c615,_0x1887a9['classList'][_0x28a585(0x131)](_0x28a585(0x12a)),_0x4bb66f['appendChild'](_0x1887a9),_0x1887a9['onclick']=()=>{const _0x4ef7d5=_0x28a585,_0x43f580=document[_0x4ef7d5(0x123)](_0x4ef7d5(0x135));_0x43f580['onclose']=()=>_0x43f580['remove'](),_0x4c5c8b[_0x4ef7d5(0x112)](_0x43f580);const _0x371c0f=document[_0x4ef7d5(0x123)]('div');_0x371c0f[_0x4ef7d5(0x146)][_0x4ef7d5(0x131)](_0x4ef7d5(0x147),_0x4ef7d5(0x13e),_0x4ef7d5(0x130)),_0x43f580[_0x4ef7d5(0x112)](_0x371c0f);const _0x355e41=document[_0x4ef7d5(0x123)]('div');_0x355e41[_0x4ef7d5(0x146)][_0x4ef7d5(0x131)](_0x4ef7d5(0x12b),'bc',_0x4ef7d5(0x12a)),_0x371c0f['appendChild'](_0x355e41);const _0x382ebf=document['createElement'](_0x4ef7d5(0x111));_0x382ebf[_0x4ef7d5(0x146)][_0x4ef7d5(0x131)](_0x4ef7d5(0x12a)),_0x371c0f[_0x4ef7d5(0x112)](_0x382ebf);const _0x11c5da=document[_0x4ef7d5(0x123)](_0x4ef7d5(0x111));_0x11c5da[_0x4ef7d5(0x146)][_0x4ef7d5(0x131)](_0x4ef7d5(0x12a)),_0x371c0f[_0x4ef7d5(0x112)](_0x11c5da);const _0x4fc200=document[_0x4ef7d5(0x123)](_0x4ef7d5(0x111));_0x4fc200[_0x4ef7d5(0x146)][_0x4ef7d5(0x131)](_0x4ef7d5(0x12a)),_0x371c0f['appendChild'](_0x4fc200),mgbaStorage['classList']['add'](_0x4ef7d5(0x137)),_0x355e41['onclick']=()=>{const _0x530e45=_0x4ef7d5;_0x43f580[_0x530e45(0x154)](),_0x43f580[_0x530e45(0x118)](),mgbaStorage[_0x530e45(0x146)][_0x530e45(0x118)](_0x530e45(0x137));};const _0xf39334=document[_0x4ef7d5(0x123)](_0x4ef7d5(0x111));_0xf39334['classList'][_0x4ef7d5(0x131)]('flex-1','rom-item','hw','cw'),_0xf39334[_0x4ef7d5(0x15b)]=_0x30c615,_0x43f580[_0x4ef7d5(0x112)](_0xf39334);const _0x25e7be=document[_0x4ef7d5(0x123)](_0x4ef7d5(0x111));_0x25e7be['classList']['add']('actionDiv','hw','cw',_0x4ef7d5(0x14f)),_0x43f580[_0x4ef7d5(0x112)](_0x25e7be);const _0xb5e3a8=document[_0x4ef7d5(0x123)](_0x4ef7d5(0x111));_0xb5e3a8[_0x4ef7d5(0x146)][_0x4ef7d5(0x131)](_0x4ef7d5(0x152),'bc'),_0x25e7be[_0x4ef7d5(0x112)](_0xb5e3a8),_0xb5e3a8[_0x4ef7d5(0x148)]=()=>{const _0x47164c=_0x4ef7d5;a0_0x576333[_0x47164c(0x129)](_0x216146,_0x30c615);};const _0x182b0d=document[_0x4ef7d5(0x123)](_0x4ef7d5(0x111));_0x182b0d[_0x4ef7d5(0x146)][_0x4ef7d5(0x131)](_0x4ef7d5(0x115),'bc'),_0x25e7be[_0x4ef7d5(0x112)](_0x182b0d),_0x182b0d[_0x4ef7d5(0x148)]=async()=>{const _0x59e868=_0x4ef7d5;if(window[_0x59e868(0x119)](_0x59e868(0x116)+_0x30c615)){const _0x21f985=_0x30c615['replace'](/\....$/,_0x59e868(0x138));a0_0x576333['deleteFile'](_0x216146),localStorage[_0x59e868(0x11f)](_0x21f985+_0x59e868(0x139)+_0x30c615[_0x59e868(0x157)](-0x1)),localStorage[_0x59e868(0x11f)](_0x21f985+_0x59e868(0x142)+_0x30c615[_0x59e868(0x157)](-0x1)),localStorageFile(),_0x43f580[_0x59e868(0x154)](),_0x43f580[_0x59e868(0x118)](),mgbaStorage[_0x59e868(0x146)][_0x59e868(0x118)](_0x59e868(0x137));}};const _0x446471=document[_0x4ef7d5(0x123)](_0x4ef7d5(0x111));_0x446471['classList']['add']('rename','bc'),_0x25e7be[_0x4ef7d5(0x112)](_0x446471),_0x446471[_0x4ef7d5(0x148)]=async()=>{const _0x1b1422=_0x4ef7d5,_0x4e7d62=window['prompt'](_0x1b1422(0x12f),_0x30c615);_0x4e7d62!==null&&(a0_0x576333[_0x1b1422(0x14e)](_0x216146,_0x30c615,_0x4e7d62),localStorageFile(),_0x43f580[_0x1b1422(0x154)](),_0x43f580[_0x1b1422(0x118)](),mgbaStorage[_0x1b1422(0x146)][_0x1b1422(0x118)](_0x1b1422(0x137)));},_0x43f580['showModal']();};const _0x4dd385=document[_0x28a585(0x123)]('span');_0x4dd385[_0x28a585(0x15b)]=humanFileSize(a0_0x576333['fileSize'](_0x216146)),_0x4dd385['classList'][_0x28a585(0x131)]('mib'),_0x4bb66f[_0x28a585(0x112)](_0x4dd385);}export function localStorageFile(){const _0x3245cd=a0_0x5b7199,_0x3594be=a0_0x576333['listFiles'](_0x3245cd(0x11c)),_0x26649a=a0_0x576333[_0x3245cd(0x127)]('saves'),_0x594861=a0_0x576333['listFiles'](_0x3245cd(0x13f)),_0x5622bb=a0_0x576333[_0x3245cd(0x127)](_0x3245cd(0x151)),_0x1d7aff=a0_0x576333[_0x3245cd(0x127)]('screenshots'),_0x9dda25=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x109764 of _0x9dda25){while(_0x109764[_0x3245cd(0x145)]){_0x109764[_0x3245cd(0x113)][_0x3245cd(0x118)]();}}for(const _0x170517 of _0x3594be){createElementStorage(romsFile,_0x170517,'/data/games/'+_0x170517);}for(const _0x3417d9 of _0x594861){createElementStorage(statesFile,_0x3417d9,_0x3245cd(0x13b)+_0x3417d9);}for(const _0x3c0b7b of _0x26649a){createElementStorage(savesFile,_0x3c0b7b,_0x3245cd(0x14b)+_0x3c0b7b);}for(const _0x47f8da of _0x5622bb){createElementStorage(cheatsFile,_0x47f8da,_0x3245cd(0x149)+_0x47f8da);}for(const _0x5b61bc of _0x1d7aff){createElementStorage(screenshotsFile,_0x5b61bc,'/data/screenshots/'+_0x5b61bc);}}document[a0_0x5b7199(0x124)]('DOMContentLoaded',function(){const _0xeff91=a0_0x5b7199;upLoadFile[_0xeff91(0x124)]('change',function(){const _0xbb9491=_0xeff91;a0_0x576333[_0xbb9491(0x114)](upLoadFile);}),openLocalStorage[_0xeff91(0x124)]('click',function(){const _0x263938=_0xeff91,_0x37721f=localStorage[_0x263938(0x134)](_0x263938(0x13c));storage['classList'][_0x263938(0x118)]('disable'),intro['classList']['add']('disable'),ingame[_0x263938(0x146)]['add'](_0x263938(0x143)),_0x37721f===null||_0x37721f===''?(dropboxRestore[_0x263938(0x146)][_0x263938(0x118)](_0x263938(0x120)),dropboxBackup['classList'][_0x263938(0x118)]('active'),dropboxCloud[_0x263938(0x146)]['remove']('active')):(dropboxRestore[_0x263938(0x146)][_0x263938(0x131)](_0x263938(0x120)),dropboxBackup[_0x263938(0x146)][_0x263938(0x131)](_0x263938(0x120)),dropboxCloud[_0x263938(0x146)][_0x263938(0x131)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});