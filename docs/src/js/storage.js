const a0_0x15cdfa=a0_0x934c;(function(_0x240a79,_0x28836e){const _0x1c9e61=a0_0x934c,_0x29b0fa=_0x240a79();while(!![]){try{const _0x487974=-parseInt(_0x1c9e61(0x204))/0x1*(-parseInt(_0x1c9e61(0x200))/0x2)+parseInt(_0x1c9e61(0x1f2))/0x3*(parseInt(_0x1c9e61(0x1f4))/0x4)+parseInt(_0x1c9e61(0x225))/0x5*(parseInt(_0x1c9e61(0x22f))/0x6)+-parseInt(_0x1c9e61(0x20f))/0x7+parseInt(_0x1c9e61(0x1fc))/0x8*(-parseInt(_0x1c9e61(0x236))/0x9)+-parseInt(_0x1c9e61(0x215))/0xa+-parseInt(_0x1c9e61(0x1fe))/0xb*(-parseInt(_0x1c9e61(0x1ed))/0xc);if(_0x487974===_0x28836e)break;else _0x29b0fa['push'](_0x29b0fa['shift']());}catch(_0x2721f1){_0x29b0fa['push'](_0x29b0fa['shift']());}}}(a0_0x275d,0xcb4ee));import*as a0_0x529a13 from'./main.js';function a0_0x275d(){const _0x2fb53b=['7234388oMhCuh','/data/screenshots/','MiB','onclick','editFile','right','11021050VNkYxY','Edit\x20filename','romsFile','getItem','opacity0','removeItem','deleteFile','uploadFile','addEventListener','rom-item','remove','appendChild','active','/data/saves/','abs','screenshotsFile','244905VfOEoS','savesFile','home','EiB','click','span','flex-1','slice','storage','setItem','120ikeyvE','prompt','ZiB','listState','downloadFile','DOMContentLoaded','disable','1629GfwkVz','div','onclose','_imageState','PiB','KiB','createElement','getElementById','_dateState','216tduoKp','close','change','listSave','download','202314NZkjli','GiB','44iRlBoT','rename','TiB','showModal','/data/games/','lastChild','listGame','delete','24904xqmBsg','listScreenshot','376431FVipMa','dialog','2hpoWZf','.gba','firstChild','add','1194376ZxMrIU','classList','uId','length','textContent','toFixed','mib','gap-16','rom','replace','gap-10'];a0_0x275d=function(){return _0x2fb53b;};return a0_0x275d();}const mgbaStorage=document['getElementById']('mgba-storage'),savesFile=document[a0_0x15cdfa(0x1eb)](a0_0x15cdfa(0x226)),romsFile=document['getElementById'](a0_0x15cdfa(0x217)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document['getElementById'](a0_0x15cdfa(0x224));function a0_0x934c(_0x5ceed6,_0x45f510){const _0x275d69=a0_0x275d();return a0_0x934c=function(_0x934cb5,_0x57c899){_0x934cb5=_0x934cb5-0x1e5;let _0x5c31e=_0x275d69[_0x934cb5];return _0x5c31e;},a0_0x934c(_0x5ceed6,_0x45f510);}function humanFileSize(_0x4818ce,_0x4d7635=![],_0xdd9bfd=0x1){const _0x231e60=a0_0x15cdfa,_0x4fb18b=_0x4d7635?0x3e8:0x400,_0x15a686=_0x4d7635?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x231e60(0x1e9),_0x231e60(0x211),_0x231e60(0x1f3),_0x231e60(0x1f6),_0x231e60(0x1e8),_0x231e60(0x228),_0x231e60(0x231),'YiB'];let _0x8379b2=-0x1;do{_0x4818ce/=_0x4fb18b,++_0x8379b2;}while(Math[_0x231e60(0x223)](_0x4818ce)>=_0x4fb18b&&_0x8379b2<_0x15a686[_0x231e60(0x207)]-0x1);return _0x4818ce[_0x231e60(0x209)](_0xdd9bfd)+'\x20'+_0x15a686[_0x8379b2];}function createElementStorage(_0x4d9a80,_0x44b636,_0x4361ea){const _0x3043f8=a0_0x15cdfa,_0x348c92=document['createElement'](_0x3043f8(0x1e5));_0x348c92[_0x3043f8(0x205)][_0x3043f8(0x203)](_0x3043f8(0x22b),'rom-item',_0x3043f8(0x20c)),_0x4d9a80[_0x3043f8(0x220)](_0x348c92);const _0x2d89db=document['createElement'](_0x3043f8(0x22a));_0x2d89db[_0x3043f8(0x208)]=_0x44b636,_0x2d89db[_0x3043f8(0x205)][_0x3043f8(0x203)](_0x3043f8(0x22b)),_0x348c92[_0x3043f8(0x220)](_0x2d89db),_0x2d89db[_0x3043f8(0x212)]=()=>{const _0x54ce38=_0x3043f8,_0x56c3e1=document['createElement'](_0x54ce38(0x1ff));_0x56c3e1[_0x54ce38(0x1e6)]=()=>_0x56c3e1[_0x54ce38(0x21f)](),_0x4d9a80[_0x54ce38(0x220)](_0x56c3e1);const _0x244554=document[_0x54ce38(0x1ea)]('div');_0x244554[_0x54ce38(0x205)]['add'](_0x54ce38(0x22d),_0x54ce38(0x214),_0x54ce38(0x20e)),_0x56c3e1['appendChild'](_0x244554);const _0x7b4594=document[_0x54ce38(0x1ea)](_0x54ce38(0x1e5));_0x7b4594[_0x54ce38(0x205)][_0x54ce38(0x203)](_0x54ce38(0x227),'bc',_0x54ce38(0x22b)),_0x244554[_0x54ce38(0x220)](_0x7b4594);const _0x6379fa=document[_0x54ce38(0x1ea)]('div');_0x6379fa[_0x54ce38(0x205)]['add'](_0x54ce38(0x22b)),_0x244554[_0x54ce38(0x220)](_0x6379fa);const _0x5a3415=document['createElement']('div');_0x5a3415['classList'][_0x54ce38(0x203)](_0x54ce38(0x22b)),_0x244554[_0x54ce38(0x220)](_0x5a3415);const _0x58ad30=document[_0x54ce38(0x1ea)](_0x54ce38(0x1e5));_0x58ad30[_0x54ce38(0x205)][_0x54ce38(0x203)](_0x54ce38(0x22b)),_0x244554[_0x54ce38(0x220)](_0x58ad30),mgbaStorage[_0x54ce38(0x205)][_0x54ce38(0x203)](_0x54ce38(0x219)),_0x7b4594[_0x54ce38(0x212)]=()=>{const _0x23e355=_0x54ce38;_0x56c3e1[_0x23e355(0x1ee)](),_0x56c3e1[_0x23e355(0x21f)](),mgbaStorage[_0x23e355(0x205)]['remove']('opacity0');};const _0x30fdfb=document['createElement'](_0x54ce38(0x1e5));_0x30fdfb[_0x54ce38(0x205)]['add']('flex-1',_0x54ce38(0x21e),'hw','cw'),_0x30fdfb[_0x54ce38(0x208)]=_0x44b636,_0x56c3e1[_0x54ce38(0x220)](_0x30fdfb);const _0x584b42=document['createElement'](_0x54ce38(0x1e5));_0x584b42[_0x54ce38(0x205)][_0x54ce38(0x203)]('actionDiv','hw','cw',_0x54ce38(0x20b)),_0x56c3e1[_0x54ce38(0x220)](_0x584b42);const _0x351cf8=document[_0x54ce38(0x1ea)](_0x54ce38(0x1e5));_0x351cf8[_0x54ce38(0x205)][_0x54ce38(0x203)](_0x54ce38(0x1f1),'bc'),_0x584b42[_0x54ce38(0x220)](_0x351cf8),_0x351cf8[_0x54ce38(0x212)]=()=>{const _0x116cd2=_0x54ce38;a0_0x529a13[_0x116cd2(0x233)](_0x4361ea,_0x44b636);};const _0x7a7582=document[_0x54ce38(0x1ea)](_0x54ce38(0x1e5));_0x7a7582[_0x54ce38(0x205)][_0x54ce38(0x203)](_0x54ce38(0x1fb),'bc'),_0x584b42[_0x54ce38(0x220)](_0x7a7582),_0x7a7582['onclick']=async()=>{const _0x5a0c7d=_0x54ce38;if(window['confirm']('Delete\x20this\x20file?'+_0x44b636)){const _0x582c3a=_0x44b636[_0x5a0c7d(0x20d)](/\....$/,_0x5a0c7d(0x201));a0_0x529a13[_0x5a0c7d(0x21b)](_0x4361ea),localStorage[_0x5a0c7d(0x21a)](_0x582c3a+'_dateState'+_0x44b636[_0x5a0c7d(0x22c)](-0x1)),localStorage[_0x5a0c7d(0x21a)](_0x582c3a+_0x5a0c7d(0x1e7)+_0x44b636[_0x5a0c7d(0x22c)](-0x1)),localStorageFile(),_0x56c3e1['close'](),_0x56c3e1[_0x5a0c7d(0x21f)](),mgbaStorage[_0x5a0c7d(0x205)][_0x5a0c7d(0x21f)](_0x5a0c7d(0x219));}};const _0x54854a=document[_0x54ce38(0x1ea)](_0x54ce38(0x1e5));_0x54854a['classList'][_0x54ce38(0x203)](_0x54ce38(0x1f5),'bc'),_0x584b42[_0x54ce38(0x220)](_0x54854a),_0x54854a[_0x54ce38(0x212)]=async()=>{const _0x5d30a2=_0x54ce38,_0x74e42c=window[_0x5d30a2(0x230)](_0x5d30a2(0x216),_0x44b636);if(_0x74e42c!==null){const _0x496f94=_0x44b636['replace'](/\....$/,_0x5d30a2(0x201)),_0x414076=_0x74e42c[_0x5d30a2(0x20d)](/\....$/,_0x5d30a2(0x201)),_0x38cee3=_0x496f94+_0x5d30a2(0x1ec)+_0x44b636['slice'](-0x1),_0x1963ca=_0x496f94+_0x5d30a2(0x1e7)+_0x44b636['slice'](-0x1),_0x29ab0e=_0x414076+_0x5d30a2(0x1ec)+_0x74e42c[_0x5d30a2(0x22c)](-0x1),_0x5caed5=_0x414076+_0x5d30a2(0x1e7)+_0x74e42c[_0x5d30a2(0x22c)](-0x1),_0xe5adac=localStorage['getItem'](_0x38cee3),_0x1441c6=localStorage[_0x5d30a2(0x218)](_0x1963ca);_0xe5adac!==null&&(localStorage[_0x5d30a2(0x22e)](_0x29ab0e,_0xe5adac),localStorage[_0x5d30a2(0x21a)](_0x38cee3)),_0x1441c6!==null&&(localStorage[_0x5d30a2(0x22e)](_0x5caed5,_0x1441c6),localStorage['removeItem'](_0x1963ca)),a0_0x529a13[_0x5d30a2(0x213)](_0x4361ea,_0x44b636,_0x74e42c),localStorageFile(),_0x56c3e1['close'](),_0x56c3e1[_0x5d30a2(0x21f)](),mgbaStorage[_0x5d30a2(0x205)]['remove'](_0x5d30a2(0x219));}},_0x56c3e1[_0x54ce38(0x1f7)]();};const _0x44d670=document[_0x3043f8(0x1ea)]('span');_0x44d670['textContent']=humanFileSize(a0_0x529a13['fileSize'](_0x4361ea)),_0x44d670[_0x3043f8(0x205)][_0x3043f8(0x203)](_0x3043f8(0x20a)),_0x348c92[_0x3043f8(0x220)](_0x44d670);}export function localStorageFile(){const _0x119417=a0_0x15cdfa,_0x27b431=a0_0x529a13[_0x119417(0x1fa)](),_0x134674=a0_0x529a13[_0x119417(0x1f0)](),_0x11b478=a0_0x529a13[_0x119417(0x232)](),_0x1b7b7c=a0_0x529a13['listCheat'](),_0x18bb36=a0_0x529a13[_0x119417(0x1fd)](),_0x94c50a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x165da0 of _0x94c50a){while(_0x165da0[_0x119417(0x202)]){_0x165da0[_0x119417(0x1f9)][_0x119417(0x21f)]();}}for(const _0x5ba7e8 of _0x27b431){createElementStorage(romsFile,_0x5ba7e8,_0x119417(0x1f8)+_0x5ba7e8);}for(const _0x379a0 of _0x11b478){createElementStorage(statesFile,_0x379a0,'/data/states/'+_0x379a0);}for(const _0x455773 of _0x134674){createElementStorage(savesFile,_0x455773,_0x119417(0x222)+_0x455773);}for(const _0x1c1ac3 of _0x1b7b7c){createElementStorage(cheatsFile,_0x1c1ac3,'/data/cheats/'+_0x1c1ac3);}for(const _0x2ebc47 of _0x18bb36){createElementStorage(screenshotsFile,_0x2ebc47,_0x119417(0x210)+_0x2ebc47);}}document[a0_0x15cdfa(0x21d)](a0_0x15cdfa(0x234),function(){const _0x33f85c=a0_0x15cdfa;upLoadFile[_0x33f85c(0x21d)](_0x33f85c(0x1ef),function(){const _0x170da4=_0x33f85c;a0_0x529a13[_0x170da4(0x21c)](upLoadFile);}),openLocalStorage['addEventListener'](_0x33f85c(0x229),function(){const _0xe4f243=_0x33f85c,_0x3fb4db=localStorage[_0xe4f243(0x218)](_0xe4f243(0x206));storage[_0xe4f243(0x205)][_0xe4f243(0x21f)]('disable'),intro['classList'][_0xe4f243(0x203)](_0xe4f243(0x235)),ingame[_0xe4f243(0x205)][_0xe4f243(0x203)]('disable'),_0x3fb4db===null||_0x3fb4db===''?(dropboxRestore['classList']['remove'](_0xe4f243(0x221)),dropboxBackup[_0xe4f243(0x205)][_0xe4f243(0x21f)](_0xe4f243(0x221)),dropboxCloud[_0xe4f243(0x205)][_0xe4f243(0x21f)](_0xe4f243(0x221))):(dropboxRestore[_0xe4f243(0x205)][_0xe4f243(0x203)]('active'),dropboxBackup[_0xe4f243(0x205)][_0xe4f243(0x203)]('active'),dropboxCloud[_0xe4f243(0x205)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});