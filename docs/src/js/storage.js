const a0_0x2957f3=a0_0x267b;(function(_0x3087a7,_0x32be41){const _0x39db77=a0_0x267b,_0x4c6592=_0x3087a7();while(!![]){try{const _0x1a614b=-parseInt(_0x39db77(0x17c))/0x1*(-parseInt(_0x39db77(0x188))/0x2)+-parseInt(_0x39db77(0x19f))/0x3*(parseInt(_0x39db77(0x1a5))/0x4)+parseInt(_0x39db77(0x177))/0x5+parseInt(_0x39db77(0x1b0))/0x6+parseInt(_0x39db77(0x180))/0x7+parseInt(_0x39db77(0x190))/0x8*(-parseInt(_0x39db77(0x1a4))/0x9)+parseInt(_0x39db77(0x176))/0xa;if(_0x1a614b===_0x32be41)break;else _0x4c6592['push'](_0x4c6592['shift']());}catch(_0x4c122a){_0x4c6592['push'](_0x4c6592['shift']());}}}(a0_0x3c3f,0xf41c9));import*as a0_0x2c4aa4 from'./main.js';const mgbaStorage=document[a0_0x2957f3(0x1b8)](a0_0x2957f3(0x185)),savesFile=document[a0_0x2957f3(0x1b8)](a0_0x2957f3(0x18f)),romsFile=document['getElementById']('romsFile'),statesFile=document[a0_0x2957f3(0x1b8)](a0_0x2957f3(0x196)),screenshotsFile=document[a0_0x2957f3(0x1b8)](a0_0x2957f3(0x195));function humanFileSize(_0xf29045,_0x41773b=![],_0x22f371=0x1){const _0x49d12b=a0_0x2957f3,_0x30b837=_0x41773b?0x3e8:0x400,_0x524f5d=_0x41773b?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x49d12b(0x1a6),_0x49d12b(0x193),_0x49d12b(0x17f),_0x49d12b(0x1b6),_0x49d12b(0x19e),_0x49d12b(0x1a3),_0x49d12b(0x198),'YiB'];let _0x490491=-0x1;do{_0xf29045/=_0x30b837,++_0x490491;}while(Math[_0x49d12b(0x178)](_0xf29045)>=_0x30b837&&_0x490491<_0x524f5d[_0x49d12b(0x174)]-0x1);return _0xf29045[_0x49d12b(0x16f)](_0x22f371)+'\x20'+_0x524f5d[_0x490491];}function createElementStorage(_0x18b196,_0x5683b0,_0x56518f){const _0x3ac5bd=a0_0x2957f3,_0x142cfb=document[_0x3ac5bd(0x1b3)](_0x3ac5bd(0x19a));_0x142cfb[_0x3ac5bd(0x1ab)][_0x3ac5bd(0x186)]('flex-1','rom-item',_0x3ac5bd(0x181)),_0x18b196[_0x3ac5bd(0x17e)](_0x142cfb);const _0x5d9644=document[_0x3ac5bd(0x1b3)](_0x3ac5bd(0x182));_0x5d9644['textContent']=_0x5683b0,_0x5d9644[_0x3ac5bd(0x1ab)]['add'](_0x3ac5bd(0x172)),_0x142cfb[_0x3ac5bd(0x17e)](_0x5d9644),_0x5d9644[_0x3ac5bd(0x197)]=()=>{const _0xf352a6=_0x3ac5bd,_0xcdfa90=document['createElement']('dialog');_0xcdfa90['onclose']=()=>_0xcdfa90[_0xf352a6(0x1b9)](),_0x18b196[_0xf352a6(0x17e)](_0xcdfa90);const _0x4b2600=document[_0xf352a6(0x1b3)](_0xf352a6(0x19a));_0x4b2600[_0xf352a6(0x1ab)]['add'](_0xf352a6(0x16e),_0xf352a6(0x1ae),_0xf352a6(0x171)),_0xcdfa90['appendChild'](_0x4b2600);const _0x28e1ec=document[_0xf352a6(0x1b3)](_0xf352a6(0x19a));_0x28e1ec[_0xf352a6(0x1ab)][_0xf352a6(0x186)](_0xf352a6(0x184),'bc','flex-1'),_0x4b2600['appendChild'](_0x28e1ec);const _0x2ba2c8=document[_0xf352a6(0x1b3)](_0xf352a6(0x19a));_0x2ba2c8[_0xf352a6(0x1ab)][_0xf352a6(0x186)]('flex-1'),_0x4b2600[_0xf352a6(0x17e)](_0x2ba2c8);const _0x2a9bb4=document[_0xf352a6(0x1b3)](_0xf352a6(0x19a));_0x2a9bb4['classList'][_0xf352a6(0x186)]('flex-1'),_0x4b2600['appendChild'](_0x2a9bb4);const _0xb9827=document[_0xf352a6(0x1b3)](_0xf352a6(0x19a));_0xb9827[_0xf352a6(0x1ab)][_0xf352a6(0x186)]('flex-1'),_0x4b2600[_0xf352a6(0x17e)](_0xb9827),mgbaStorage[_0xf352a6(0x1ab)][_0xf352a6(0x186)]('opacity0'),_0x28e1ec['onclick']=()=>{const _0x51c182=_0xf352a6;_0xcdfa90['close'](),_0xcdfa90[_0x51c182(0x1b9)](),mgbaStorage[_0x51c182(0x1ab)][_0x51c182(0x1b9)](_0x51c182(0x18c));};const _0x4b6994=document[_0xf352a6(0x1b3)](_0xf352a6(0x19a));_0x4b6994[_0xf352a6(0x1ab)][_0xf352a6(0x186)](_0xf352a6(0x172),_0xf352a6(0x17b),'hw','cw'),_0x4b6994['textContent']=_0x5683b0,_0xcdfa90[_0xf352a6(0x17e)](_0x4b6994);const _0x5156f3=document[_0xf352a6(0x1b3)]('div');_0x5156f3[_0xf352a6(0x1ab)]['add'](_0xf352a6(0x191),'hw','cw','gap-16'),_0xcdfa90[_0xf352a6(0x17e)](_0x5156f3);const _0x13f2ba=document[_0xf352a6(0x1b3)](_0xf352a6(0x19a));_0x13f2ba[_0xf352a6(0x1ab)]['add'](_0xf352a6(0x1b5),'bc'),_0x5156f3[_0xf352a6(0x17e)](_0x13f2ba),_0x13f2ba[_0xf352a6(0x197)]=()=>{a0_0x2c4aa4['downloadFile'](_0x56518f,_0x5683b0);};const _0x1d5dee=document['createElement'](_0xf352a6(0x19a));_0x1d5dee['classList']['add'](_0xf352a6(0x18e),'bc'),_0x5156f3['appendChild'](_0x1d5dee),_0x1d5dee[_0xf352a6(0x197)]=async()=>{const _0x37ce2c=_0xf352a6;if(window[_0x37ce2c(0x19b)](_0x37ce2c(0x1b2)+_0x5683b0)){const _0xf7dc95=_0x5683b0[_0x37ce2c(0x1a9)](/\....$/,_0x37ce2c(0x1a8));a0_0x2c4aa4[_0x37ce2c(0x17d)](_0x56518f),localStorage[_0x37ce2c(0x18d)](_0xf7dc95+_0x37ce2c(0x1ac)+_0x5683b0[_0x37ce2c(0x179)](-0x1)),localStorage[_0x37ce2c(0x18d)](_0xf7dc95+_0x37ce2c(0x187)+_0x5683b0[_0x37ce2c(0x179)](-0x1)),localStorageFile(),_0xcdfa90[_0x37ce2c(0x1a0)](),_0xcdfa90[_0x37ce2c(0x1b9)](),mgbaStorage[_0x37ce2c(0x1ab)][_0x37ce2c(0x1b9)](_0x37ce2c(0x18c));}};const _0x33304d=document[_0xf352a6(0x1b3)](_0xf352a6(0x19a));_0x33304d[_0xf352a6(0x1ab)][_0xf352a6(0x186)]('rename','bc'),_0x5156f3['appendChild'](_0x33304d),_0x33304d[_0xf352a6(0x197)]=async()=>{const _0x2e0147=_0xf352a6,_0x10cdc4=window[_0x2e0147(0x17a)](_0x2e0147(0x1af),_0x5683b0);_0x10cdc4!==null&&(a0_0x2c4aa4[_0x2e0147(0x194)](_0x56518f,_0x5683b0,_0x10cdc4),localStorageFile(),_0xcdfa90['close'](),_0xcdfa90[_0x2e0147(0x1b9)](),mgbaStorage[_0x2e0147(0x1ab)][_0x2e0147(0x1b9)](_0x2e0147(0x18c)));},_0xcdfa90[_0xf352a6(0x173)]();};const _0x44ca69=document[_0x3ac5bd(0x1b3)](_0x3ac5bd(0x182));_0x44ca69['textContent']=humanFileSize(a0_0x2c4aa4[_0x3ac5bd(0x1b7)](_0x56518f)),_0x44ca69['classList'][_0x3ac5bd(0x186)]('mib'),_0x142cfb[_0x3ac5bd(0x17e)](_0x44ca69);}function a0_0x267b(_0x365c2c,_0x40055e){const _0x3c3f03=a0_0x3c3f();return a0_0x267b=function(_0x267bd2,_0x4b353a){_0x267bd2=_0x267bd2-0x16e;let _0x1f2494=_0x3c3f03[_0x267bd2];return _0x1f2494;},a0_0x267b(_0x365c2c,_0x40055e);}function a0_0x3c3f(){const _0x1f7806=['delete','savesFile','15643624fzgeYb','actionDiv','uploadFile','MiB','editFile','screenshotsFile','statesFile','onclick','ZiB','listState','div','confirm','addEventListener','/data/cheats/','PiB','33HRxXPK','close','disable','uId','EiB','9znXkCb','619768JoHOcO','KiB','DOMContentLoaded','.gba','replace','lastChild','classList','_dateState','change','right','Edit\x20filename','8272884SMenGH','listGame','Delete\x20this\x20file?','createElement','listSave','download','TiB','fileSize','getElementById','remove','storage','toFixed','active','gap-10','flex-1','showModal','length','/data/saves/','21243090XTpZqG','5430tRrIAS','abs','slice','prompt','rom-item','217729pAfDeF','deleteFile','appendChild','GiB','1991997jeIgWe','rom','span','/data/states/','home','mgba-storage','add','_imageState','8xOjqvv','getItem','firstChild','/data/games/','opacity0','removeItem'];a0_0x3c3f=function(){return _0x1f7806;};return a0_0x3c3f();}export function localStorageFile(){const _0x2fe2cd=a0_0x2957f3,_0x7d278f=a0_0x2c4aa4[_0x2fe2cd(0x1b1)](),_0x2f05d0=a0_0x2c4aa4[_0x2fe2cd(0x1b4)](),_0x49378e=a0_0x2c4aa4[_0x2fe2cd(0x199)](),_0x46ac7c=a0_0x2c4aa4['listCheat'](),_0x3dd473=a0_0x2c4aa4['listScreenshot'](),_0x1e5e71=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x1dcb13 of _0x1e5e71){while(_0x1dcb13[_0x2fe2cd(0x18a)]){_0x1dcb13[_0x2fe2cd(0x1aa)]['remove']();}}for(const _0x520ca1 of _0x7d278f){createElementStorage(romsFile,_0x520ca1,_0x2fe2cd(0x18b)+_0x520ca1);}for(const _0x2a6d07 of _0x49378e){createElementStorage(statesFile,_0x2a6d07,_0x2fe2cd(0x183)+_0x2a6d07);}for(const _0x2a5a8a of _0x2f05d0){createElementStorage(savesFile,_0x2a5a8a,_0x2fe2cd(0x175)+_0x2a5a8a);}for(const _0x527503 of _0x46ac7c){createElementStorage(cheatsFile,_0x527503,_0x2fe2cd(0x19d)+_0x527503);}for(const _0x23004d of _0x3dd473){createElementStorage(screenshotsFile,_0x23004d,'/data/screenshots/'+_0x23004d);}}document['addEventListener'](a0_0x2957f3(0x1a7),function(){const _0x4fbb7e=a0_0x2957f3;upLoadFile[_0x4fbb7e(0x19c)](_0x4fbb7e(0x1ad),function(){const _0x36b4ff=_0x4fbb7e;a0_0x2c4aa4[_0x36b4ff(0x192)](upLoadFile);}),openLocalStorage[_0x4fbb7e(0x19c)]('click',function(){const _0x428554=_0x4fbb7e,_0x13e058=localStorage[_0x428554(0x189)](_0x428554(0x1a2));storage[_0x428554(0x1ab)][_0x428554(0x1b9)]('disable'),intro['classList'][_0x428554(0x186)](_0x428554(0x1a1)),ingame[_0x428554(0x1ab)][_0x428554(0x186)](_0x428554(0x1a1)),_0x13e058===null||_0x13e058===''?(dropboxRestore[_0x428554(0x1ab)][_0x428554(0x1b9)](_0x428554(0x170)),dropboxBackup[_0x428554(0x1ab)][_0x428554(0x1b9)]('active'),dropboxCloud['classList'][_0x428554(0x1b9)](_0x428554(0x170))):(dropboxRestore[_0x428554(0x1ab)]['add'](_0x428554(0x170)),dropboxBackup[_0x428554(0x1ab)][_0x428554(0x186)]('active'),dropboxCloud[_0x428554(0x1ab)][_0x428554(0x186)](_0x428554(0x170)));}),setTimeout(()=>{localStorageFile();},0xbb8);});