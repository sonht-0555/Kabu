const a0_0x4f1e2c=a0_0x55ee;(function(_0x467c49,_0xc66af8){const _0xdc2107=a0_0x55ee,_0x304867=_0x467c49();while(!![]){try{const _0x450e6d=-parseInt(_0xdc2107(0x1ec))/0x1+parseInt(_0xdc2107(0x206))/0x2+-parseInt(_0xdc2107(0x1d0))/0x3*(parseInt(_0xdc2107(0x1fb))/0x4)+-parseInt(_0xdc2107(0x209))/0x5*(-parseInt(_0xdc2107(0x1ed))/0x6)+-parseInt(_0xdc2107(0x1ff))/0x7+-parseInt(_0xdc2107(0x1d6))/0x8+parseInt(_0xdc2107(0x1cd))/0x9*(parseInt(_0xdc2107(0x208))/0xa);if(_0x450e6d===_0xc66af8)break;else _0x304867['push'](_0x304867['shift']());}catch(_0x3dbdc1){_0x304867['push'](_0x304867['shift']());}}}(a0_0x33d8,0xa160a));import*as a0_0x139543 from'./main.js';const mgbaStorage=document[a0_0x4f1e2c(0x1e2)]('mgba-storage'),savesFile=document[a0_0x4f1e2c(0x1e2)]('savesFile'),romsFile=document[a0_0x4f1e2c(0x1e2)]('romsFile'),statesFile=document[a0_0x4f1e2c(0x1e2)](a0_0x4f1e2c(0x1da)),screenshotsFile=document[a0_0x4f1e2c(0x1e2)]('screenshotsFile');function a0_0x33d8(){const _0x492bdc=['flex-1','getItem','textContent','statesFile','dialog','replace','change','games','PiB','onclose','appendChild','getElementById','firstChild','cheats','rename','classList','/data/screenshots/','opacity0','GiB','.gba','remove','780876sJUxxd','12SHhgsZ','lastChild','removeItem','add','Delete\x20this\x20file?','active','YiB','gap-10','addEventListener','_dateState','prompt','deleteFile','close','disable','102756ZHhKWE','rom-item','download','click','8936711EqhmxU','storage','/data/saves/','length','states','uId','MiB','1964756hMafZd','delete','2539220FoXgxR','1357130pmtyMs','slice','div','DOMContentLoaded','81UqkMMu','/data/states/','span','87rdGaLd','listFiles','editFile','createElement','showModal','onclick','2775968PePnNj'];a0_0x33d8=function(){return _0x492bdc;};return a0_0x33d8();}function humanFileSize(_0x3e9bcc,_0x56f87f=![],_0xfba238=0x1){const _0x1b0083=a0_0x4f1e2c,_0x25c9ee=_0x56f87f?0x3e8:0x400,_0x15c1f5=_0x56f87f?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x1b0083(0x205),_0x1b0083(0x1e9),'TiB',_0x1b0083(0x1df),'EiB','ZiB',_0x1b0083(0x1f3)];let _0x5cd2dc=-0x1;do{_0x3e9bcc/=_0x25c9ee,++_0x5cd2dc;}while(Math['abs'](_0x3e9bcc)>=_0x25c9ee&&_0x5cd2dc<_0x15c1f5[_0x1b0083(0x202)]-0x1);return _0x3e9bcc['toFixed'](_0xfba238)+'\x20'+_0x15c1f5[_0x5cd2dc];}function createElementStorage(_0x395276,_0x2d2dc3,_0x4885b8){const _0x5d0ffe=a0_0x4f1e2c,_0x388b7a=document['createElement'](_0x5d0ffe(0x1cb));_0x388b7a[_0x5d0ffe(0x1e6)]['add'](_0x5d0ffe(0x1d7),_0x5d0ffe(0x1fc),'rom'),_0x395276[_0x5d0ffe(0x1e1)](_0x388b7a);const _0x58730e=document['createElement']('span');_0x58730e[_0x5d0ffe(0x1d9)]=_0x2d2dc3,_0x58730e['classList'][_0x5d0ffe(0x1f0)](_0x5d0ffe(0x1d7)),_0x388b7a['appendChild'](_0x58730e),_0x58730e[_0x5d0ffe(0x1d5)]=()=>{const _0x15f434=_0x5d0ffe,_0x51fd6d=document['createElement'](_0x15f434(0x1db));_0x51fd6d[_0x15f434(0x1e0)]=()=>_0x51fd6d[_0x15f434(0x1eb)](),_0x395276[_0x15f434(0x1e1)](_0x51fd6d);const _0xfe513c=document[_0x15f434(0x1d3)]('div');_0xfe513c['classList']['add'](_0x15f434(0x200),'right',_0x15f434(0x1f4)),_0x51fd6d[_0x15f434(0x1e1)](_0xfe513c);const _0x29e94b=document[_0x15f434(0x1d3)](_0x15f434(0x1cb));_0x29e94b[_0x15f434(0x1e6)][_0x15f434(0x1f0)]('home','bc','flex-1'),_0xfe513c['appendChild'](_0x29e94b);const _0x163f1e=document[_0x15f434(0x1d3)](_0x15f434(0x1cb));_0x163f1e[_0x15f434(0x1e6)]['add'](_0x15f434(0x1d7)),_0xfe513c['appendChild'](_0x163f1e);const _0x23a2cf=document[_0x15f434(0x1d3)](_0x15f434(0x1cb));_0x23a2cf[_0x15f434(0x1e6)][_0x15f434(0x1f0)](_0x15f434(0x1d7)),_0xfe513c['appendChild'](_0x23a2cf);const _0x130ac6=document[_0x15f434(0x1d3)](_0x15f434(0x1cb));_0x130ac6['classList'][_0x15f434(0x1f0)](_0x15f434(0x1d7)),_0xfe513c[_0x15f434(0x1e1)](_0x130ac6),mgbaStorage[_0x15f434(0x1e6)][_0x15f434(0x1f0)]('opacity0'),_0x29e94b[_0x15f434(0x1d5)]=()=>{const _0x5ba2c7=_0x15f434;_0x51fd6d[_0x5ba2c7(0x1f9)](),_0x51fd6d[_0x5ba2c7(0x1eb)](),mgbaStorage['classList']['remove'](_0x5ba2c7(0x1e8));};const _0x49f8f8=document[_0x15f434(0x1d3)]('div');_0x49f8f8[_0x15f434(0x1e6)]['add'](_0x15f434(0x1d7),_0x15f434(0x1fc),'hw','cw'),_0x49f8f8[_0x15f434(0x1d9)]=_0x2d2dc3,_0x51fd6d[_0x15f434(0x1e1)](_0x49f8f8);const _0x5a4ef4=document['createElement']('div');_0x5a4ef4[_0x15f434(0x1e6)][_0x15f434(0x1f0)]('actionDiv','hw','cw','gap-16'),_0x51fd6d[_0x15f434(0x1e1)](_0x5a4ef4);const _0x3d17c7=document[_0x15f434(0x1d3)]('div');_0x3d17c7['classList'][_0x15f434(0x1f0)](_0x15f434(0x1fd),'bc'),_0x5a4ef4['appendChild'](_0x3d17c7),_0x3d17c7['onclick']=()=>{a0_0x139543['downloadFile'](_0x4885b8,_0x2d2dc3);};const _0x26a484=document[_0x15f434(0x1d3)]('div');_0x26a484[_0x15f434(0x1e6)][_0x15f434(0x1f0)](_0x15f434(0x207),'bc'),_0x5a4ef4[_0x15f434(0x1e1)](_0x26a484),_0x26a484['onclick']=async()=>{const _0x28b396=_0x15f434;if(window['confirm'](_0x28b396(0x1f1)+_0x2d2dc3)){const _0x375cef=_0x2d2dc3[_0x28b396(0x1dc)](/\....$/,_0x28b396(0x1ea));a0_0x139543[_0x28b396(0x1f8)](_0x4885b8),localStorage['removeItem'](_0x375cef+_0x28b396(0x1f6)+_0x2d2dc3[_0x28b396(0x20a)](-0x1)),localStorage[_0x28b396(0x1ef)](_0x375cef+'_imageState'+_0x2d2dc3[_0x28b396(0x20a)](-0x1)),localStorageFile(),_0x51fd6d['close'](),_0x51fd6d[_0x28b396(0x1eb)](),mgbaStorage[_0x28b396(0x1e6)][_0x28b396(0x1eb)](_0x28b396(0x1e8));}};const _0x15c0b6=document['createElement']('div');_0x15c0b6[_0x15f434(0x1e6)]['add'](_0x15f434(0x1e5),'bc'),_0x5a4ef4[_0x15f434(0x1e1)](_0x15c0b6),_0x15c0b6['onclick']=async()=>{const _0x7b126c=_0x15f434,_0x195951=window[_0x7b126c(0x1f7)]('Edit\x20filename',_0x2d2dc3);_0x195951!==null&&(a0_0x139543[_0x7b126c(0x1d2)](_0x4885b8,_0x2d2dc3,_0x195951),localStorageFile(),_0x51fd6d[_0x7b126c(0x1f9)](),_0x51fd6d[_0x7b126c(0x1eb)](),mgbaStorage[_0x7b126c(0x1e6)]['remove'](_0x7b126c(0x1e8)));},_0x51fd6d[_0x15f434(0x1d4)]();};const _0x28f82a=document['createElement'](_0x5d0ffe(0x1cf));_0x28f82a['textContent']=humanFileSize(a0_0x139543['fileSize'](_0x4885b8)),_0x28f82a[_0x5d0ffe(0x1e6)][_0x5d0ffe(0x1f0)]('mib'),_0x388b7a[_0x5d0ffe(0x1e1)](_0x28f82a);}export function localStorageFile(){const _0x41cfd9=a0_0x4f1e2c,_0xdc306f=a0_0x139543[_0x41cfd9(0x1d1)](_0x41cfd9(0x1de)),_0x405b90=a0_0x139543[_0x41cfd9(0x1d1)]('saves'),_0x3a2d96=a0_0x139543[_0x41cfd9(0x1d1)](_0x41cfd9(0x203)),_0x2b3810=a0_0x139543[_0x41cfd9(0x1d1)](_0x41cfd9(0x1e4)),_0x467ea5=a0_0x139543[_0x41cfd9(0x1d1)]('screenshots'),_0x2ae747=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x46a7b0 of _0x2ae747){while(_0x46a7b0[_0x41cfd9(0x1e3)]){_0x46a7b0[_0x41cfd9(0x1ee)]['remove']();}}for(const _0x148815 of _0xdc306f){createElementStorage(romsFile,_0x148815,'/data/games/'+_0x148815);}for(const _0x5efe92 of _0x3a2d96){createElementStorage(statesFile,_0x5efe92,_0x41cfd9(0x1ce)+_0x5efe92);}for(const _0x54b27b of _0x405b90){createElementStorage(savesFile,_0x54b27b,_0x41cfd9(0x201)+_0x54b27b);}for(const _0x518339 of _0x2b3810){createElementStorage(cheatsFile,_0x518339,'/data/cheats/'+_0x518339);}for(const _0x392575 of _0x467ea5){createElementStorage(screenshotsFile,_0x392575,_0x41cfd9(0x1e7)+_0x392575);}}function a0_0x55ee(_0x4a176d,_0x14ed9d){const _0x33d818=a0_0x33d8();return a0_0x55ee=function(_0x55ee4f,_0x2eccd4){_0x55ee4f=_0x55ee4f-0x1cb;let _0x5bec86=_0x33d818[_0x55ee4f];return _0x5bec86;},a0_0x55ee(_0x4a176d,_0x14ed9d);}document[a0_0x4f1e2c(0x1f5)](a0_0x4f1e2c(0x1cc),function(){const _0xa226f8=a0_0x4f1e2c;upLoadFile[_0xa226f8(0x1f5)](_0xa226f8(0x1dd),function(){a0_0x139543['uploadFile'](upLoadFile);}),openLocalStorage[_0xa226f8(0x1f5)](_0xa226f8(0x1fe),function(){const _0x3422e8=_0xa226f8,_0x5d4bac=localStorage[_0x3422e8(0x1d8)](_0x3422e8(0x204));storage[_0x3422e8(0x1e6)][_0x3422e8(0x1eb)](_0x3422e8(0x1fa)),intro[_0x3422e8(0x1e6)][_0x3422e8(0x1f0)](_0x3422e8(0x1fa)),ingame[_0x3422e8(0x1e6)][_0x3422e8(0x1f0)](_0x3422e8(0x1fa)),_0x5d4bac===null||_0x5d4bac===''?(dropboxRestore[_0x3422e8(0x1e6)][_0x3422e8(0x1eb)](_0x3422e8(0x1f2)),dropboxBackup[_0x3422e8(0x1e6)][_0x3422e8(0x1eb)](_0x3422e8(0x1f2)),dropboxCloud[_0x3422e8(0x1e6)][_0x3422e8(0x1eb)](_0x3422e8(0x1f2))):(dropboxRestore[_0x3422e8(0x1e6)][_0x3422e8(0x1f0)]('active'),dropboxBackup[_0x3422e8(0x1e6)][_0x3422e8(0x1f0)](_0x3422e8(0x1f2)),dropboxCloud['classList'][_0x3422e8(0x1f0)](_0x3422e8(0x1f2)));}),setTimeout(()=>{localStorageFile();},0xbb8);});