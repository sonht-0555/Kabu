const a0_0x165470=a0_0x1503;(function(_0x4bd563,_0x354e60){const _0x2acd52=a0_0x1503,_0x4e3ff1=_0x4bd563();while(!![]){try{const _0x3a1157=parseInt(_0x2acd52(0x172))/0x1+parseInt(_0x2acd52(0x181))/0x2+-parseInt(_0x2acd52(0x13a))/0x3*(-parseInt(_0x2acd52(0x166))/0x4)+-parseInt(_0x2acd52(0x17d))/0x5+parseInt(_0x2acd52(0x157))/0x6*(-parseInt(_0x2acd52(0x13d))/0x7)+-parseInt(_0x2acd52(0x16f))/0x8+parseInt(_0x2acd52(0x140))/0x9*(parseInt(_0x2acd52(0x155))/0xa);if(_0x3a1157===_0x354e60)break;else _0x4e3ff1['push'](_0x4e3ff1['shift']());}catch(_0x219758){_0x4e3ff1['push'](_0x4e3ff1['shift']());}}}(a0_0x29a8,0x5b328));import*as a0_0xff45ea from'./main.js';function a0_0x29a8(){const _0x27609e=['firstChild','rom-item','1872glzlbv','downloadFile','lastChild','893543oXWUOq','rom','storage','1119789NXDHdv','close','remove','uploadSavSta','flex-1','editFile','slice','textContent','PiB','replace','_dateState','mib','TiB','fileSize','right','disable','removeItem','classList','appendChild','mgba-storage','/data/screenshots/','20BnySaG','deleteFile','30wJBUOq','DOMContentLoaded','statesFile','active','download','/data/saves/','ZiB','listScreenshot','.bc','uId','createElement','listCheat','onclose','click','/data/games/','3492WIjlMl','div','change','/data/states/','onclick','gap-16','add','rename','EiB','585904MUZlRv','setItem','uploadGame','475464cFHvah','/data/cheats/','getItem','home','YiB','Edit\x20filename','span','endsWith','length','KiB','listState','2503445bXAWbw','addEventListener','files','.gba','633316nhAooT','_imageState','GiB','opacity0','abs','getElementById','actionDiv','uploadCheat'];a0_0x29a8=function(){return _0x27609e;};return a0_0x29a8();}const mgbaStorage=document[a0_0x165470(0x186)](a0_0x165470(0x153)),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x165470(0x186)]('romsFile'),statesFile=document['getElementById'](a0_0x165470(0x159)),screenshotsFile=document[a0_0x165470(0x186)]('screenshotsFile');function a0_0x1503(_0xe546ec,_0x3b979f){const _0x29a816=a0_0x29a8();return a0_0x1503=function(_0x15038d,_0x5b80d1){_0x15038d=_0x15038d-0x13a;let _0x2b64c5=_0x29a816[_0x15038d];return _0x2b64c5;},a0_0x1503(_0xe546ec,_0x3b979f);}function humanFileSize(_0x52bb1f,_0x30c4aa=![],_0x582066=0x1){const _0x5618dd=a0_0x165470,_0xa3bcd7=_0x30c4aa?0x3e8:0x400,_0x3443b8=_0x30c4aa?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5618dd(0x17b),'MiB',_0x5618dd(0x183),_0x5618dd(0x14c),_0x5618dd(0x148),_0x5618dd(0x16e),_0x5618dd(0x15d),_0x5618dd(0x176)];let _0x112f16=-0x1;do{_0x52bb1f/=_0xa3bcd7,++_0x112f16;}while(Math[_0x5618dd(0x185)](_0x52bb1f)>=_0xa3bcd7&&_0x112f16<_0x3443b8[_0x5618dd(0x17a)]-0x1);return _0x52bb1f['toFixed'](_0x582066)+'\x20'+_0x3443b8[_0x112f16];}function createElementStorage(_0x2f5687,_0x4fcc32,_0x929078){const _0x45bd62=a0_0x165470,_0x57f14=document[_0x45bd62(0x161)](_0x45bd62(0x167));_0x57f14[_0x45bd62(0x151)][_0x45bd62(0x16c)](_0x45bd62(0x144),'rom-item',_0x45bd62(0x13e)),_0x2f5687[_0x45bd62(0x152)](_0x57f14);const _0x49a134=document[_0x45bd62(0x161)](_0x45bd62(0x178));_0x49a134['textContent']=_0x4fcc32,_0x49a134[_0x45bd62(0x151)][_0x45bd62(0x16c)]('flex-1'),_0x57f14['appendChild'](_0x49a134),_0x49a134[_0x45bd62(0x16a)]=()=>{const _0x43d2b5=_0x45bd62,_0x58de31=document[_0x43d2b5(0x161)]('dialog');_0x58de31[_0x43d2b5(0x163)]=()=>_0x58de31[_0x43d2b5(0x142)](),_0x2f5687[_0x43d2b5(0x152)](_0x58de31);const _0x5927f1=document[_0x43d2b5(0x161)](_0x43d2b5(0x167));_0x5927f1[_0x43d2b5(0x151)]['add'](_0x43d2b5(0x13f),_0x43d2b5(0x14e),'gap-10'),_0x58de31[_0x43d2b5(0x152)](_0x5927f1);const _0x50c4ea=document[_0x43d2b5(0x161)]('div');_0x50c4ea['classList'][_0x43d2b5(0x16c)](_0x43d2b5(0x175),'bc',_0x43d2b5(0x144)),_0x5927f1[_0x43d2b5(0x152)](_0x50c4ea);const _0x3c4416=document[_0x43d2b5(0x161)](_0x43d2b5(0x167));_0x3c4416[_0x43d2b5(0x151)][_0x43d2b5(0x16c)](_0x43d2b5(0x144)),_0x5927f1[_0x43d2b5(0x152)](_0x3c4416);const _0x3384cf=document['createElement'](_0x43d2b5(0x167));_0x3384cf['classList'][_0x43d2b5(0x16c)](_0x43d2b5(0x144)),_0x5927f1['appendChild'](_0x3384cf);const _0x16af19=document[_0x43d2b5(0x161)](_0x43d2b5(0x167));_0x16af19[_0x43d2b5(0x151)][_0x43d2b5(0x16c)](_0x43d2b5(0x144)),_0x5927f1[_0x43d2b5(0x152)](_0x16af19),mgbaStorage[_0x43d2b5(0x151)]['add'](_0x43d2b5(0x184)),_0x50c4ea[_0x43d2b5(0x16a)]=()=>{const _0x40040=_0x43d2b5;_0x58de31[_0x40040(0x141)](),_0x58de31[_0x40040(0x142)](),mgbaStorage[_0x40040(0x151)][_0x40040(0x142)]('opacity0');};const _0x3c34f5=document[_0x43d2b5(0x161)]('div');_0x3c34f5[_0x43d2b5(0x151)][_0x43d2b5(0x16c)]('flex-1',_0x43d2b5(0x18a),'hw','cw'),_0x3c34f5[_0x43d2b5(0x147)]=_0x4fcc32,_0x58de31[_0x43d2b5(0x152)](_0x3c34f5);const _0x4043d2=document[_0x43d2b5(0x161)](_0x43d2b5(0x167));_0x4043d2['classList'][_0x43d2b5(0x16c)](_0x43d2b5(0x187),'hw','cw',_0x43d2b5(0x16b)),_0x58de31[_0x43d2b5(0x152)](_0x4043d2);const _0x37ae49=document['createElement'](_0x43d2b5(0x167));_0x37ae49[_0x43d2b5(0x151)]['add'](_0x43d2b5(0x15b),'bc'),_0x4043d2[_0x43d2b5(0x152)](_0x37ae49),_0x37ae49[_0x43d2b5(0x16a)]=()=>{const _0x1fd98e=_0x43d2b5;a0_0xff45ea[_0x1fd98e(0x13b)](_0x929078,_0x4fcc32);};const _0x203743=document['createElement'](_0x43d2b5(0x167));_0x203743['classList']['add']('delete','bc'),_0x4043d2['appendChild'](_0x203743),_0x203743[_0x43d2b5(0x16a)]=async()=>{const _0x24c2bc=_0x43d2b5;if(window['confirm']('Delete\x20this\x20file?'+_0x4fcc32)){const _0x35b1a4=_0x4fcc32[_0x24c2bc(0x149)](/\....$/,_0x24c2bc(0x180));a0_0xff45ea[_0x24c2bc(0x156)](_0x929078),localStorage['removeItem'](_0x35b1a4+_0x24c2bc(0x14a)+_0x4fcc32[_0x24c2bc(0x146)](-0x1)),localStorage[_0x24c2bc(0x150)](_0x35b1a4+'_imageState'+_0x4fcc32[_0x24c2bc(0x146)](-0x1)),localStorageFile(),_0x58de31[_0x24c2bc(0x141)](),_0x58de31[_0x24c2bc(0x142)](),mgbaStorage['classList']['remove'](_0x24c2bc(0x184));}};const _0x3329bb=document['createElement'](_0x43d2b5(0x167));_0x3329bb[_0x43d2b5(0x151)][_0x43d2b5(0x16c)](_0x43d2b5(0x16d),'bc'),_0x4043d2[_0x43d2b5(0x152)](_0x3329bb),_0x3329bb[_0x43d2b5(0x16a)]=async()=>{const _0x18a88f=_0x43d2b5,_0x5db58f=window['prompt'](_0x18a88f(0x177),_0x4fcc32);if(_0x5db58f!==null){const _0x2eb5e8=_0x4fcc32['replace'](/\....$/,_0x18a88f(0x180)),_0x18b211=_0x5db58f['replace'](/\....$/,_0x18a88f(0x180)),_0x27ec26=_0x2eb5e8+_0x18a88f(0x14a)+_0x4fcc32[_0x18a88f(0x146)](-0x1),_0x32033b=_0x2eb5e8+_0x18a88f(0x182)+_0x4fcc32['slice'](-0x1),_0x590f91=_0x18b211+_0x18a88f(0x14a)+_0x5db58f['slice'](-0x1),_0x4ad59a=_0x18b211+_0x18a88f(0x182)+_0x5db58f['slice'](-0x1),_0x165989=localStorage[_0x18a88f(0x174)](_0x27ec26),_0x2b72b9=localStorage['getItem'](_0x32033b);_0x165989!==null&&(localStorage['setItem'](_0x590f91,_0x165989),localStorage[_0x18a88f(0x150)](_0x27ec26)),_0x2b72b9!==null&&(localStorage[_0x18a88f(0x170)](_0x4ad59a,_0x2b72b9),localStorage[_0x18a88f(0x150)](_0x32033b)),a0_0xff45ea[_0x18a88f(0x145)](_0x929078,_0x4fcc32,_0x5db58f),localStorageFile(),_0x58de31[_0x18a88f(0x141)](),_0x58de31[_0x18a88f(0x142)](),mgbaStorage[_0x18a88f(0x151)][_0x18a88f(0x142)](_0x18a88f(0x184));}},_0x58de31['showModal']();};const _0x49a341=document[_0x45bd62(0x161)]('span');_0x49a341[_0x45bd62(0x147)]=humanFileSize(a0_0xff45ea[_0x45bd62(0x14d)](_0x929078)),_0x49a341[_0x45bd62(0x151)][_0x45bd62(0x16c)](_0x45bd62(0x14b)),_0x57f14[_0x45bd62(0x152)](_0x49a341);}export function localStorageFile(){const _0x41e397=a0_0x165470,_0x4fd371=a0_0xff45ea['listGame'](),_0x30ad0f=a0_0xff45ea['listSave'](),_0x588050=a0_0xff45ea[_0x41e397(0x17c)](),_0x141ca3=a0_0xff45ea[_0x41e397(0x162)](),_0x4811d6=a0_0xff45ea[_0x41e397(0x15e)](),_0x1f63de=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x105f82 of _0x1f63de){while(_0x105f82[_0x41e397(0x189)]){_0x105f82[_0x41e397(0x13c)][_0x41e397(0x142)]();}}for(const _0x1127c9 of _0x4fd371){createElementStorage(romsFile,_0x1127c9,_0x41e397(0x165)+_0x1127c9);}for(const _0x4d832d of _0x588050){createElementStorage(statesFile,_0x4d832d,_0x41e397(0x169)+_0x4d832d);}for(const _0x3aecae of _0x30ad0f){createElementStorage(savesFile,_0x3aecae,_0x41e397(0x15c)+_0x3aecae);}for(const _0x5da0ff of _0x141ca3){createElementStorage(cheatsFile,_0x5da0ff,_0x41e397(0x173)+_0x5da0ff);}for(const _0x11c09b of _0x4811d6){createElementStorage(screenshotsFile,_0x11c09b,_0x41e397(0x154)+_0x11c09b);}}document['addEventListener'](a0_0x165470(0x158),function(){const _0x4202cb=a0_0x165470;upLoadFile[_0x4202cb(0x17e)](_0x4202cb(0x168),function(){const _0x3f7b65=_0x4202cb,_0x5e0f9c=upLoadFile[_0x3f7b65(0x17f)][0x0]['name'];if(_0x5e0f9c[_0x3f7b65(0x179)]('.cheats'))a0_0xff45ea[_0x3f7b65(0x188)](upLoadFile);else _0x5e0f9c['endsWith'](_0x3f7b65(0x180))||_0x5e0f9c[_0x3f7b65(0x179)]('.gbc')||_0x5e0f9c[_0x3f7b65(0x179)](_0x3f7b65(0x15f))?a0_0xff45ea[_0x3f7b65(0x171)](upLoadFile):a0_0xff45ea[_0x3f7b65(0x143)](upLoadFile);}),openLocalStorage[_0x4202cb(0x17e)](_0x4202cb(0x164),function(){const _0x425c55=_0x4202cb,_0x3d0f13=localStorage[_0x425c55(0x174)](_0x425c55(0x160));storage[_0x425c55(0x151)][_0x425c55(0x142)](_0x425c55(0x14f)),intro[_0x425c55(0x151)][_0x425c55(0x16c)]('disable'),ingame[_0x425c55(0x151)]['add'](_0x425c55(0x14f)),_0x3d0f13===null||_0x3d0f13===''?(dropboxRestore['classList'][_0x425c55(0x142)](_0x425c55(0x15a)),dropboxBackup[_0x425c55(0x151)]['remove']('active'),dropboxCloud[_0x425c55(0x151)]['remove'](_0x425c55(0x15a))):(dropboxRestore[_0x425c55(0x151)][_0x425c55(0x16c)]('active'),dropboxBackup['classList']['add'](_0x425c55(0x15a)),dropboxCloud[_0x425c55(0x151)]['add'](_0x425c55(0x15a)));}),setTimeout(()=>{localStorageFile();},0xbb8);});