const a0_0x3b7d4e=a0_0x1436;function a0_0x9e16(){const _0x2aeefa=['confirm','9xTTWXs','close','onclick','rom','11aHcRYA','firstChild','span','appendChild','317900aXKXBj','.gba','romsFile','textContent','abs','78SEdfXy','lastChild','games','Edit\x20filename','_imageState','add','actionDiv','slice','statesFile','ZiB','108oYcWMq','uploadFile','cheats','14712pcIDQb','/data/saves/','flex-1','prompt','DOMContentLoaded','home','getElementById','KiB','opacity0','TiB','/data/cheats/','onclose','1861454uiXEZV','disable','/data/states/','downloadFile','createElement','storage','rename','delete','2040696wpjglF','click','addEventListener','279367meGZQF','active','listFiles','GiB','mib','EiB','screenshots','rom-item','screenshotsFile','removeItem','93410CQroBd','/data/games/','MiB','div','change','remove','fileSize','showModal','getItem','Delete\x20this\x20file?','download','classList','gap-16','mgba-storage','8488550haAjVW'];a0_0x9e16=function(){return _0x2aeefa;};return a0_0x9e16();}function a0_0x1436(_0x3c894a,_0x1a5b73){const _0x9e16b1=a0_0x9e16();return a0_0x1436=function(_0x1436bb,_0x29b26b){_0x1436bb=_0x1436bb-0x7e;let _0x2d8e17=_0x9e16b1[_0x1436bb];return _0x2d8e17;},a0_0x1436(_0x3c894a,_0x1a5b73);}(function(_0x34f1cb,_0x22345b){const _0x458ea9=a0_0x1436,_0x390141=_0x34f1cb();while(!![]){try{const _0x36f621=parseInt(_0x458ea9(0x90))/0x1+-parseInt(_0x458ea9(0xc1))/0x2*(parseInt(_0x458ea9(0xc4))/0x3)+parseInt(_0x458ea9(0xb2))/0x4+-parseInt(_0x458ea9(0x9a))/0x5*(parseInt(_0x458ea9(0xb7))/0x6)+-parseInt(_0x458ea9(0x85))/0x7+-parseInt(_0x458ea9(0x8d))/0x8*(parseInt(_0x458ea9(0xaa))/0x9)+parseInt(_0x458ea9(0xa8))/0xa*(parseInt(_0x458ea9(0xae))/0xb);if(_0x36f621===_0x22345b)break;else _0x390141['push'](_0x390141['shift']());}catch(_0x4d026b){_0x390141['push'](_0x390141['shift']());}}}(a0_0x9e16,0x2bb3e));import*as a0_0x447cf5 from'./main.js';const mgbaStorage=document[a0_0x3b7d4e(0x7f)](a0_0x3b7d4e(0xa7)),savesFile=document[a0_0x3b7d4e(0x7f)]('savesFile'),romsFile=document[a0_0x3b7d4e(0x7f)](a0_0x3b7d4e(0xb4)),statesFile=document[a0_0x3b7d4e(0x7f)](a0_0x3b7d4e(0xbf)),screenshotsFile=document['getElementById'](a0_0x3b7d4e(0x98));function humanFileSize(_0x49e445,_0x1e5a73=![],_0x3f9cc6=0x1){const _0x52e61c=a0_0x3b7d4e,_0x3e61b1=_0x1e5a73?0x3e8:0x400,_0x31b551=_0x1e5a73?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x52e61c(0x80),_0x52e61c(0x9c),_0x52e61c(0x93),_0x52e61c(0x82),'PiB',_0x52e61c(0x95),_0x52e61c(0xc0),'YiB'];let _0xa1619f=-0x1;do{_0x49e445/=_0x3e61b1,++_0xa1619f;}while(Math[_0x52e61c(0xb6)](_0x49e445)>=_0x3e61b1&&_0xa1619f<_0x31b551['length']-0x1);return _0x49e445['toFixed'](_0x3f9cc6)+'\x20'+_0x31b551[_0xa1619f];}function createElementStorage(_0x134053,_0x2fe449,_0x476c57){const _0x51ef3e=a0_0x3b7d4e,_0x13ed03=document['createElement'](_0x51ef3e(0x9d));_0x13ed03['classList']['add'](_0x51ef3e(0xc6),_0x51ef3e(0x97),_0x51ef3e(0xad)),_0x134053['appendChild'](_0x13ed03);const _0x246715=document[_0x51ef3e(0x89)]('span');_0x246715[_0x51ef3e(0xb5)]=_0x2fe449,_0x246715[_0x51ef3e(0xa5)]['add'](_0x51ef3e(0xc6)),_0x13ed03['appendChild'](_0x246715),_0x246715[_0x51ef3e(0xac)]=()=>{const _0x18ee65=_0x51ef3e,_0xee241e=document[_0x18ee65(0x89)]('dialog');_0xee241e[_0x18ee65(0x84)]=()=>_0xee241e['remove'](),_0x134053[_0x18ee65(0xb1)](_0xee241e);const _0x1bd885=document[_0x18ee65(0x89)](_0x18ee65(0x9d));_0x1bd885[_0x18ee65(0xa5)]['add'](_0x18ee65(0x8a),'right','gap-10'),_0xee241e[_0x18ee65(0xb1)](_0x1bd885);const _0x1a2d2e=document[_0x18ee65(0x89)](_0x18ee65(0x9d));_0x1a2d2e[_0x18ee65(0xa5)][_0x18ee65(0xbc)](_0x18ee65(0x7e),'bc',_0x18ee65(0xc6)),_0x1bd885['appendChild'](_0x1a2d2e);const _0x255edc=document['createElement']('div');_0x255edc[_0x18ee65(0xa5)]['add'](_0x18ee65(0xc6)),_0x1bd885[_0x18ee65(0xb1)](_0x255edc);const _0x186177=document[_0x18ee65(0x89)](_0x18ee65(0x9d));_0x186177[_0x18ee65(0xa5)]['add']('flex-1'),_0x1bd885[_0x18ee65(0xb1)](_0x186177);const _0x2b821=document[_0x18ee65(0x89)](_0x18ee65(0x9d));_0x2b821[_0x18ee65(0xa5)][_0x18ee65(0xbc)](_0x18ee65(0xc6)),_0x1bd885[_0x18ee65(0xb1)](_0x2b821),mgbaStorage['classList'][_0x18ee65(0xbc)](_0x18ee65(0x81)),_0x1a2d2e[_0x18ee65(0xac)]=()=>{const _0x38eb90=_0x18ee65;_0xee241e[_0x38eb90(0xab)](),_0xee241e[_0x38eb90(0x9f)](),mgbaStorage[_0x38eb90(0xa5)][_0x38eb90(0x9f)](_0x38eb90(0x81));};const _0x37df52=document[_0x18ee65(0x89)](_0x18ee65(0x9d));_0x37df52[_0x18ee65(0xa5)][_0x18ee65(0xbc)]('flex-1','rom-item','hw','cw'),_0x37df52[_0x18ee65(0xb5)]=_0x2fe449,_0xee241e['appendChild'](_0x37df52);const _0x273771=document[_0x18ee65(0x89)](_0x18ee65(0x9d));_0x273771[_0x18ee65(0xa5)][_0x18ee65(0xbc)](_0x18ee65(0xbd),'hw','cw',_0x18ee65(0xa6)),_0xee241e['appendChild'](_0x273771);const _0x26af01=document[_0x18ee65(0x89)](_0x18ee65(0x9d));_0x26af01['classList'][_0x18ee65(0xbc)](_0x18ee65(0xa4),'bc'),_0x273771['appendChild'](_0x26af01),_0x26af01[_0x18ee65(0xac)]=()=>{const _0x3bc2ed=_0x18ee65;a0_0x447cf5[_0x3bc2ed(0x88)](_0x476c57,_0x2fe449);};const _0x1e03e6=document[_0x18ee65(0x89)](_0x18ee65(0x9d));_0x1e03e6[_0x18ee65(0xa5)][_0x18ee65(0xbc)](_0x18ee65(0x8c),'bc'),_0x273771['appendChild'](_0x1e03e6),_0x1e03e6['onclick']=async()=>{const _0x343c52=_0x18ee65;if(window[_0x343c52(0xa9)](_0x343c52(0xa3)+_0x2fe449)){const _0x4f28ee=_0x2fe449['replace'](/\....$/,_0x343c52(0xb3));a0_0x447cf5['deleteFile'](_0x476c57),localStorage['removeItem'](_0x4f28ee+'_dateState'+_0x2fe449['slice'](-0x1)),localStorage[_0x343c52(0x99)](_0x4f28ee+_0x343c52(0xbb)+_0x2fe449[_0x343c52(0xbe)](-0x1)),localStorageFile(),_0xee241e['close'](),_0xee241e[_0x343c52(0x9f)](),mgbaStorage['classList'][_0x343c52(0x9f)](_0x343c52(0x81));}};const _0x29c22e=document['createElement'](_0x18ee65(0x9d));_0x29c22e[_0x18ee65(0xa5)][_0x18ee65(0xbc)](_0x18ee65(0x8b),'bc'),_0x273771[_0x18ee65(0xb1)](_0x29c22e),_0x29c22e['onclick']=async()=>{const _0x4bed4f=_0x18ee65,_0x1560d2=window[_0x4bed4f(0xc7)](_0x4bed4f(0xba),_0x2fe449);_0x1560d2!==null&&(a0_0x447cf5['editFile'](_0x476c57,_0x2fe449,_0x1560d2),localStorageFile(),_0xee241e['close'](),_0xee241e[_0x4bed4f(0x9f)](),mgbaStorage[_0x4bed4f(0xa5)]['remove'](_0x4bed4f(0x81)));},_0xee241e[_0x18ee65(0xa1)]();};const _0x1625ae=document[_0x51ef3e(0x89)](_0x51ef3e(0xb0));_0x1625ae['textContent']=humanFileSize(a0_0x447cf5[_0x51ef3e(0xa0)](_0x476c57)),_0x1625ae[_0x51ef3e(0xa5)][_0x51ef3e(0xbc)](_0x51ef3e(0x94)),_0x13ed03[_0x51ef3e(0xb1)](_0x1625ae);}export function localStorageFile(){const _0xdfbca7=a0_0x3b7d4e,_0x2fb996=a0_0x447cf5[_0xdfbca7(0x92)](_0xdfbca7(0xb9)),_0x31e996=a0_0x447cf5[_0xdfbca7(0x92)]('saves'),_0xe5e32f=a0_0x447cf5[_0xdfbca7(0x92)]('states'),_0xfe7aa0=a0_0x447cf5[_0xdfbca7(0x92)](_0xdfbca7(0xc3)),_0x25d5e3=a0_0x447cf5[_0xdfbca7(0x92)](_0xdfbca7(0x96)),_0x20304a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x23df4e of _0x20304a){while(_0x23df4e[_0xdfbca7(0xaf)]){_0x23df4e[_0xdfbca7(0xb8)][_0xdfbca7(0x9f)]();}}for(const _0x5b6ff2 of _0x2fb996){createElementStorage(romsFile,_0x5b6ff2,_0xdfbca7(0x9b)+_0x5b6ff2);}for(const _0x176d9b of _0xe5e32f){createElementStorage(statesFile,_0x176d9b,_0xdfbca7(0x87)+_0x176d9b);}for(const _0x1e3a33 of _0x31e996){createElementStorage(savesFile,_0x1e3a33,_0xdfbca7(0xc5)+_0x1e3a33);}for(const _0x562505 of _0xfe7aa0){createElementStorage(cheatsFile,_0x562505,_0xdfbca7(0x83)+_0x562505);}for(const _0x179db5 of _0x25d5e3){createElementStorage(screenshotsFile,_0x179db5,'/data/screenshots/'+_0x179db5);}}document[a0_0x3b7d4e(0x8f)](a0_0x3b7d4e(0xc8),function(){const _0x46a84f=a0_0x3b7d4e;upLoadFile[_0x46a84f(0x8f)](_0x46a84f(0x9e),function(){const _0x186087=_0x46a84f;a0_0x447cf5[_0x186087(0xc2)](upLoadFile);}),openLocalStorage[_0x46a84f(0x8f)](_0x46a84f(0x8e),function(){const _0x1c14cb=_0x46a84f,_0x400d4b=localStorage[_0x1c14cb(0xa2)]('uId');storage['classList']['remove']('disable'),intro[_0x1c14cb(0xa5)][_0x1c14cb(0xbc)]('disable'),ingame[_0x1c14cb(0xa5)][_0x1c14cb(0xbc)](_0x1c14cb(0x86)),_0x400d4b===null||_0x400d4b===''?(dropboxRestore[_0x1c14cb(0xa5)][_0x1c14cb(0x9f)](_0x1c14cb(0x91)),dropboxBackup[_0x1c14cb(0xa5)][_0x1c14cb(0x9f)](_0x1c14cb(0x91)),dropboxCloud[_0x1c14cb(0xa5)]['remove'](_0x1c14cb(0x91))):(dropboxRestore[_0x1c14cb(0xa5)][_0x1c14cb(0xbc)](_0x1c14cb(0x91)),dropboxBackup[_0x1c14cb(0xa5)][_0x1c14cb(0xbc)]('active'),dropboxCloud[_0x1c14cb(0xa5)][_0x1c14cb(0xbc)](_0x1c14cb(0x91)));}),setTimeout(()=>{localStorageFile();},0xbb8);});