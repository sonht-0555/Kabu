const a0_0x27bd16=a0_0x81ec;(function(_0x1c9d24,_0x24ef9e){const _0x221dcf=a0_0x81ec,_0x2b8706=_0x1c9d24();while(!![]){try{const _0x50e287=-parseInt(_0x221dcf(0xd9))/0x1+parseInt(_0x221dcf(0xbc))/0x2+parseInt(_0x221dcf(0xa8))/0x3*(-parseInt(_0x221dcf(0xb4))/0x4)+parseInt(_0x221dcf(0xbf))/0x5+parseInt(_0x221dcf(0xc2))/0x6*(-parseInt(_0x221dcf(0xc7))/0x7)+-parseInt(_0x221dcf(0xb7))/0x8*(parseInt(_0x221dcf(0xb2))/0x9)+-parseInt(_0x221dcf(0xcb))/0xa*(-parseInt(_0x221dcf(0xaf))/0xb);if(_0x50e287===_0x24ef9e)break;else _0x2b8706['push'](_0x2b8706['shift']());}catch(_0x5a9b7e){_0x2b8706['push'](_0x2b8706['shift']());}}}(a0_0x4ef4,0x2aae3));import*as a0_0x4b598e from'./main.js';const mgbaStorage=document['getElementById'](a0_0x27bd16(0xa7)),savesFile=document[a0_0x27bd16(0x9f)]('savesFile'),romsFile=document[a0_0x27bd16(0x9f)](a0_0x27bd16(0xd3)),statesFile=document[a0_0x27bd16(0x9f)](a0_0x27bd16(0xc8)),screenshotsFile=document[a0_0x27bd16(0x9f)](a0_0x27bd16(0xaa));function humanFileSize(_0x8e7a1a,_0x7bf67c=![],_0xebfc01=0x1){const _0x2590ef=a0_0x27bd16,_0x1c60b7=_0x7bf67c?0x3e8:0x400,_0x5456f2=_0x7bf67c?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2590ef(0xc3),_0x2590ef(0xc1),_0x2590ef(0x93),_0x2590ef(0x96),_0x2590ef(0xa4),_0x2590ef(0xdb),_0x2590ef(0xd1),'YiB'];let _0x1f16e3=-0x1;do{_0x8e7a1a/=_0x1c60b7,++_0x1f16e3;}while(Math[_0x2590ef(0xcf)](_0x8e7a1a)>=_0x1c60b7&&_0x1f16e3<_0x5456f2[_0x2590ef(0xb5)]-0x1);return _0x8e7a1a['toFixed'](_0xebfc01)+'\x20'+_0x5456f2[_0x1f16e3];}function a0_0x81ec(_0x64aa99,_0x767ee1){const _0x4ef460=a0_0x4ef4();return a0_0x81ec=function(_0x81eca2,_0x1621b0){_0x81eca2=_0x81eca2-0x8f;let _0x1248f3=_0x4ef460[_0x81eca2];return _0x1248f3;},a0_0x81ec(_0x64aa99,_0x767ee1);}function createElementStorage(_0x46d9df,_0x5c09c1,_0x222786){const _0x27bc07=a0_0x27bd16,_0x2e5175=document[_0x27bc07(0xd5)](_0x27bc07(0x94));_0x2e5175[_0x27bc07(0xce)][_0x27bc07(0xae)]('flex-1',_0x27bc07(0xb0),'rom'),_0x46d9df[_0x27bc07(0xb1)](_0x2e5175);const _0x473e4a=document['createElement'](_0x27bc07(0xd8));_0x473e4a[_0x27bc07(0x91)]=_0x5c09c1,_0x473e4a[_0x27bc07(0xce)][_0x27bc07(0xae)](_0x27bc07(0xc6)),_0x2e5175[_0x27bc07(0xb1)](_0x473e4a),_0x473e4a[_0x27bc07(0x9b)]=()=>{const _0x950722=_0x27bc07,_0x3b529f=document[_0x950722(0xd5)]('dialog');_0x3b529f['onclose']=()=>_0x3b529f[_0x950722(0xcc)](),_0x46d9df[_0x950722(0xb1)](_0x3b529f);const _0x14c291=document[_0x950722(0xd5)](_0x950722(0x94));_0x14c291[_0x950722(0xce)][_0x950722(0xae)](_0x950722(0xbd),_0x950722(0xad),'gap-10'),_0x3b529f[_0x950722(0xb1)](_0x14c291);const _0x250db3=document[_0x950722(0xd5)](_0x950722(0x94));_0x250db3[_0x950722(0xce)]['add'](_0x950722(0xa0),'bc','flex-1'),_0x14c291['appendChild'](_0x250db3);const _0x4ad094=document[_0x950722(0xd5)](_0x950722(0x94));_0x4ad094[_0x950722(0xce)][_0x950722(0xae)](_0x950722(0xc6)),_0x14c291[_0x950722(0xb1)](_0x4ad094);const _0x20a68d=document[_0x950722(0xd5)](_0x950722(0x94));_0x20a68d['classList']['add'](_0x950722(0xc6)),_0x14c291[_0x950722(0xb1)](_0x20a68d);const _0x132267=document[_0x950722(0xd5)](_0x950722(0x94));_0x132267[_0x950722(0xce)][_0x950722(0xae)](_0x950722(0xc6)),_0x14c291[_0x950722(0xb1)](_0x132267),mgbaStorage[_0x950722(0xce)]['add'](_0x950722(0xbe)),_0x250db3[_0x950722(0x9b)]=()=>{const _0x1a4fdf=_0x950722;_0x3b529f[_0x1a4fdf(0xcd)](),_0x3b529f[_0x1a4fdf(0xcc)](),mgbaStorage['classList'][_0x1a4fdf(0xcc)](_0x1a4fdf(0xbe));};const _0x34c516=document[_0x950722(0xd5)](_0x950722(0x94));_0x34c516[_0x950722(0xce)][_0x950722(0xae)]('flex-1','rom-item','hw','cw'),_0x34c516[_0x950722(0x91)]=_0x5c09c1,_0x3b529f[_0x950722(0xb1)](_0x34c516);const _0x5b5365=document[_0x950722(0xd5)](_0x950722(0x94));_0x5b5365[_0x950722(0xce)][_0x950722(0xae)](_0x950722(0xbb),'hw','cw',_0x950722(0xca)),_0x3b529f[_0x950722(0xb1)](_0x5b5365);const _0x470d1f=document[_0x950722(0xd5)](_0x950722(0x94));_0x470d1f['classList']['add'](_0x950722(0x97),'bc'),_0x5b5365['appendChild'](_0x470d1f),_0x470d1f[_0x950722(0x9b)]=()=>{const _0x8ae23d=_0x950722;a0_0x4b598e[_0x8ae23d(0xc5)](_0x222786,_0x5c09c1);};const _0x29da9e=document[_0x950722(0xd5)]('div');_0x29da9e[_0x950722(0xce)][_0x950722(0xae)](_0x950722(0xb9),'bc'),_0x5b5365[_0x950722(0xb1)](_0x29da9e),_0x29da9e[_0x950722(0x9b)]=async()=>{const _0xbdd62c=_0x950722;if(window[_0xbdd62c(0xc9)](_0xbdd62c(0xd4)+_0x5c09c1)){const _0x9578eb=_0x5c09c1[_0xbdd62c(0x8f)](/\....$/,_0xbdd62c(0xb3));a0_0x4b598e[_0xbdd62c(0xd0)](_0x222786),localStorage[_0xbdd62c(0xb8)](_0x9578eb+_0xbdd62c(0xba)+_0x5c09c1[_0xbdd62c(0xd2)](-0x1)),localStorage[_0xbdd62c(0xb8)](_0x9578eb+_0xbdd62c(0x99)+_0x5c09c1[_0xbdd62c(0xd2)](-0x1)),localStorageFile(),_0x3b529f[_0xbdd62c(0xcd)](),_0x3b529f[_0xbdd62c(0xcc)](),mgbaStorage[_0xbdd62c(0xce)]['remove'](_0xbdd62c(0xbe));}};const _0x473d37=document[_0x950722(0xd5)](_0x950722(0x94));_0x473d37[_0x950722(0xce)]['add'](_0x950722(0xa9),'bc'),_0x5b5365[_0x950722(0xb1)](_0x473d37),_0x473d37['onclick']=async()=>{const _0x3d510b=_0x950722,_0x35925b=window[_0x3d510b(0xa1)]('Edit\x20filename',_0x5c09c1);_0x35925b!==null&&(a0_0x4b598e[_0x3d510b(0xc4)](_0x222786,_0x5c09c1,_0x35925b),localStorageFile(),_0x3b529f[_0x3d510b(0xcd)](),_0x3b529f[_0x3d510b(0xcc)](),mgbaStorage['classList'][_0x3d510b(0xcc)](_0x3d510b(0xbe)));},_0x3b529f[_0x950722(0xa2)]();};const _0x4b2ae6=document[_0x27bc07(0xd5)](_0x27bc07(0xd8));_0x4b2ae6[_0x27bc07(0x91)]=humanFileSize(a0_0x4b598e[_0x27bc07(0xab)](_0x222786)),_0x4b2ae6[_0x27bc07(0xce)][_0x27bc07(0xae)](_0x27bc07(0xd6)),_0x2e5175[_0x27bc07(0xb1)](_0x4b2ae6);}export function localStorageFile(){const _0x2a54fe=a0_0x27bd16,_0x595388=a0_0x4b598e[_0x2a54fe(0xc0)](_0x2a54fe(0xac)),_0xf54dfc=a0_0x4b598e[_0x2a54fe(0xc0)]('saves'),_0x5a7aa1=a0_0x4b598e[_0x2a54fe(0xc0)](_0x2a54fe(0xda)),_0x358588=a0_0x4b598e[_0x2a54fe(0xc0)](_0x2a54fe(0x95)),_0x282d5c=a0_0x4b598e[_0x2a54fe(0xc0)](_0x2a54fe(0xd7)),_0x2f1f98=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x1ebe73 of _0x2f1f98){while(_0x1ebe73['firstChild']){_0x1ebe73[_0x2a54fe(0x92)][_0x2a54fe(0xcc)]();}}for(const _0x56f309 of _0x595388){createElementStorage(romsFile,_0x56f309,'/data/games/'+_0x56f309);}for(const _0x12814e of _0x5a7aa1){createElementStorage(statesFile,_0x12814e,'/data/states/'+_0x12814e);}for(const _0xa549e4 of _0xf54dfc){createElementStorage(savesFile,_0xa549e4,_0x2a54fe(0x9d)+_0xa549e4);}for(const _0x13b5ca of _0x358588){createElementStorage(cheatsFile,_0x13b5ca,_0x2a54fe(0xa3)+_0x13b5ca);}for(const _0x464adf of _0x282d5c){createElementStorage(screenshotsFile,_0x464adf,_0x2a54fe(0x9c)+_0x464adf);}}document[a0_0x27bd16(0xa5)]('DOMContentLoaded',function(){const _0x4ce5e0=a0_0x27bd16;upLoadFile[_0x4ce5e0(0xa5)](_0x4ce5e0(0xa6),function(){const _0x2e01ad=_0x4ce5e0;a0_0x4b598e[_0x2e01ad(0xb6)](upLoadFile);}),openLocalStorage['addEventListener'](_0x4ce5e0(0x90),function(){const _0x26ee9b=_0x4ce5e0,_0x247942=localStorage['getItem'](_0x26ee9b(0x9a));storage['classList'][_0x26ee9b(0xcc)](_0x26ee9b(0x98)),intro['classList'][_0x26ee9b(0xae)](_0x26ee9b(0x98)),ingame[_0x26ee9b(0xce)][_0x26ee9b(0xae)](_0x26ee9b(0x98)),_0x247942===null||_0x247942===''?(dropboxRestore[_0x26ee9b(0xce)][_0x26ee9b(0xcc)](_0x26ee9b(0x9e)),dropboxBackup[_0x26ee9b(0xce)][_0x26ee9b(0xcc)](_0x26ee9b(0x9e)),dropboxCloud[_0x26ee9b(0xce)]['remove']('active')):(dropboxRestore[_0x26ee9b(0xce)][_0x26ee9b(0xae)](_0x26ee9b(0x9e)),dropboxBackup['classList']['add'](_0x26ee9b(0x9e)),dropboxCloud['classList'][_0x26ee9b(0xae)](_0x26ee9b(0x9e)));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x4ef4(){const _0x32b08a=['storage','opacity0','336375arlmoV','listFiles','MiB','133698zMmpwF','KiB','editFile','downloadFile','flex-1','70pZbJtt','statesFile','confirm','gap-16','10JcelcL','remove','close','classList','abs','deleteFile','ZiB','slice','romsFile','Delete\x20this\x20file?','createElement','mib','screenshots','span','246792kLtYHe','states','EiB','replace','click','textContent','lastChild','GiB','div','cheats','TiB','download','disable','_imageState','uId','onclick','/data/screenshots/','/data/saves/','active','getElementById','home','prompt','showModal','/data/cheats/','PiB','addEventListener','change','mgba-storage','3bkSrrX','rename','screenshotsFile','fileSize','games','right','add','5327971pmBfFP','rom-item','appendChild','9ctFbPO','.gba','134936mjwhLg','length','uploadFile','1197776mmNfFe','removeItem','delete','_dateState','actionDiv','552522kPahTw'];a0_0x4ef4=function(){return _0x32b08a;};return a0_0x4ef4();}