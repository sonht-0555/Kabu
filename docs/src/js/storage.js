const a0_0x423cb0=a0_0x58eb;(function(_0x1003ba,_0x16e7d1){const _0x6ed06e=a0_0x58eb,_0x1f473b=_0x1003ba();while(!![]){try{const _0x67b33d=-parseInt(_0x6ed06e(0x121))/0x1*(-parseInt(_0x6ed06e(0xdf))/0x2)+parseInt(_0x6ed06e(0xeb))/0x3*(-parseInt(_0x6ed06e(0xf8))/0x4)+parseInt(_0x6ed06e(0xe2))/0x5*(parseInt(_0x6ed06e(0x11c))/0x6)+parseInt(_0x6ed06e(0x10a))/0x7+parseInt(_0x6ed06e(0xe1))/0x8*(parseInt(_0x6ed06e(0xe5))/0x9)+parseInt(_0x6ed06e(0xea))/0xa*(parseInt(_0x6ed06e(0xf6))/0xb)+-parseInt(_0x6ed06e(0xd6))/0xc;if(_0x67b33d===_0x16e7d1)break;else _0x1f473b['push'](_0x1f473b['shift']());}catch(_0x24d5c8){_0x1f473b['push'](_0x1f473b['shift']());}}}(a0_0x5c8b,0xb4f94));import*as a0_0x555fc1 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x423cb0(0x106)),savesFile=document['getElementById'](a0_0x423cb0(0x116)),romsFile=document[a0_0x423cb0(0x118)](a0_0x423cb0(0x10f)),statesFile=document['getElementById'](a0_0x423cb0(0xf5)),screenshotsFile=document[a0_0x423cb0(0x118)]('screenshotsFile');function humanFileSize(_0x53019b,_0x9e4a90=![],_0x538961=0x1){const _0x1a6809=a0_0x423cb0,_0x2b033e=_0x9e4a90?0x3e8:0x400,_0x59043b=_0x9e4a90?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1a6809(0x102),_0x1a6809(0xda),'GiB','TiB',_0x1a6809(0xd5),'EiB',_0x1a6809(0xe9),'YiB'];let _0x568f66=-0x1;do{_0x53019b/=_0x2b033e,++_0x568f66;}while(Math[_0x1a6809(0xf3)](_0x53019b)>=_0x2b033e&&_0x568f66<_0x59043b[_0x1a6809(0xf2)]-0x1);return _0x53019b['toFixed'](_0x538961)+'\x20'+_0x59043b[_0x568f66];}function createElementStorage(_0xa99bf4,_0x45933c,_0x1897be){const _0x131f56=a0_0x423cb0,_0x52ba31=document[_0x131f56(0x11f)](_0x131f56(0x114));_0x52ba31['classList'][_0x131f56(0xe6)](_0x131f56(0x10e),_0x131f56(0xdc),_0x131f56(0x11a)),_0xa99bf4[_0x131f56(0xe8)](_0x52ba31);const _0x57716f=document[_0x131f56(0x11f)](_0x131f56(0xff));_0x57716f[_0x131f56(0xfc)]=_0x45933c,_0x57716f['classList'][_0x131f56(0xe6)](_0x131f56(0x10e)),_0x52ba31[_0x131f56(0xe8)](_0x57716f),_0x57716f[_0x131f56(0x111)]=()=>{const _0x45ea21=_0x131f56,_0x193326=document[_0x45ea21(0x11f)](_0x45ea21(0x11b));_0x193326[_0x45ea21(0xfe)]=()=>_0x193326[_0x45ea21(0xe3)](),_0xa99bf4[_0x45ea21(0xe8)](_0x193326);const _0x454e05=document[_0x45ea21(0x11f)]('div');_0x454e05[_0x45ea21(0xd9)][_0x45ea21(0xe6)](_0x45ea21(0xdb),_0x45ea21(0x11d),_0x45ea21(0x110)),_0x193326[_0x45ea21(0xe8)](_0x454e05);const _0xefc61f=document[_0x45ea21(0x11f)](_0x45ea21(0x114));_0xefc61f[_0x45ea21(0xd9)]['add'](_0x45ea21(0x119),'bc',_0x45ea21(0x10e)),_0x454e05['appendChild'](_0xefc61f);const _0x2dc0f6=document[_0x45ea21(0x11f)]('div');_0x2dc0f6[_0x45ea21(0xd9)][_0x45ea21(0xe6)]('flex-1'),_0x454e05['appendChild'](_0x2dc0f6);const _0x49625e=document[_0x45ea21(0x11f)]('div');_0x49625e[_0x45ea21(0xd9)][_0x45ea21(0xe6)](_0x45ea21(0x10e)),_0x454e05['appendChild'](_0x49625e);const _0x4166bd=document[_0x45ea21(0x11f)](_0x45ea21(0x114));_0x4166bd[_0x45ea21(0xd9)][_0x45ea21(0xe6)](_0x45ea21(0x10e)),_0x454e05[_0x45ea21(0xe8)](_0x4166bd),mgbaStorage[_0x45ea21(0xd9)]['add'](_0x45ea21(0xdd)),_0xefc61f[_0x45ea21(0x111)]=()=>{const _0x21f521=_0x45ea21;_0x193326['close'](),_0x193326['remove'](),mgbaStorage[_0x21f521(0xd9)]['remove']('opacity0');};const _0x2a6d77=document[_0x45ea21(0x11f)](_0x45ea21(0x114));_0x2a6d77[_0x45ea21(0xd9)][_0x45ea21(0xe6)](_0x45ea21(0x10e),_0x45ea21(0xdc),'hw','cw'),_0x2a6d77[_0x45ea21(0xfc)]=_0x45933c,_0x193326[_0x45ea21(0xe8)](_0x2a6d77);const _0x3d6d71=document['createElement']('div');_0x3d6d71[_0x45ea21(0xd9)][_0x45ea21(0xe6)]('actionDiv','hw','cw',_0x45ea21(0xf7)),_0x193326[_0x45ea21(0xe8)](_0x3d6d71);const _0x4457f8=document[_0x45ea21(0x11f)](_0x45ea21(0x114));_0x4457f8[_0x45ea21(0xd9)][_0x45ea21(0xe6)]('download','bc'),_0x3d6d71['appendChild'](_0x4457f8),_0x4457f8['onclick']=()=>{const _0x28ef60=_0x45ea21;a0_0x555fc1[_0x28ef60(0x10b)](_0x1897be,_0x45933c);};const _0x140ae8=document[_0x45ea21(0x11f)](_0x45ea21(0x114));_0x140ae8[_0x45ea21(0xd9)][_0x45ea21(0xe6)](_0x45ea21(0x120),'bc'),_0x3d6d71['appendChild'](_0x140ae8),_0x140ae8['onclick']=async()=>{const _0x3f0ae0=_0x45ea21;if(window['confirm'](_0x3f0ae0(0xe0)+_0x45933c)){const _0x43dda7=_0x45933c[_0x3f0ae0(0xd8)](/\....$/,_0x3f0ae0(0x104));a0_0x555fc1['deleteFile'](_0x1897be),localStorage['removeItem'](_0x43dda7+_0x3f0ae0(0xf1)+_0x45933c[_0x3f0ae0(0x10c)](-0x1)),localStorage['removeItem'](_0x43dda7+_0x3f0ae0(0xfa)+_0x45933c[_0x3f0ae0(0x10c)](-0x1)),localStorageFile(),_0x193326[_0x3f0ae0(0xe7)](),_0x193326['remove'](),mgbaStorage[_0x3f0ae0(0xd9)][_0x3f0ae0(0xe3)](_0x3f0ae0(0xdd));}};const _0x42ddd0=document[_0x45ea21(0x11f)](_0x45ea21(0x114));_0x42ddd0[_0x45ea21(0xd9)][_0x45ea21(0xe6)]('rename','bc'),_0x3d6d71['appendChild'](_0x42ddd0),_0x42ddd0[_0x45ea21(0x111)]=async()=>{const _0x2304d8=_0x45ea21,_0x273cba=window['prompt'](_0x2304d8(0xee),_0x45933c);if(_0x273cba!==null){const _0x1116fd=_0x45933c[_0x2304d8(0xd8)](/\....$/,'.gba'),_0x5f0381=_0x273cba[_0x2304d8(0xd8)](/\....$/,_0x2304d8(0x104)),_0x560a70=_0x1116fd+_0x2304d8(0xf1)+_0x45933c[_0x2304d8(0x10c)](-0x1),_0x3e7983=_0x1116fd+'_imageState'+_0x45933c[_0x2304d8(0x10c)](-0x1),_0x3ceebe=_0x5f0381+'_dateState'+_0x273cba[_0x2304d8(0x10c)](-0x1),_0x831e2e=_0x5f0381+_0x2304d8(0xfa)+_0x273cba[_0x2304d8(0x10c)](-0x1),_0x4fea0d=localStorage[_0x2304d8(0x107)](_0x560a70),_0x12f269=localStorage[_0x2304d8(0x107)](_0x3e7983);_0x4fea0d!==null&&(localStorage[_0x2304d8(0xfb)](_0x3ceebe,_0x4fea0d),localStorage[_0x2304d8(0xed)](_0x560a70)),_0x12f269!==null&&(localStorage[_0x2304d8(0xfb)](_0x831e2e,_0x12f269),localStorage[_0x2304d8(0xed)](_0x3e7983)),a0_0x555fc1[_0x2304d8(0x117)](_0x1897be,_0x45933c,_0x273cba),localStorageFile(),_0x193326['close'](),_0x193326['remove'](),mgbaStorage[_0x2304d8(0xd9)][_0x2304d8(0xe3)](_0x2304d8(0xdd));}},_0x193326[_0x45ea21(0x101)]();};const _0x32e9fa=document['createElement'](_0x131f56(0xff));_0x32e9fa['textContent']=humanFileSize(a0_0x555fc1['fileSize'](_0x1897be)),_0x32e9fa[_0x131f56(0xd9)][_0x131f56(0xe6)](_0x131f56(0x11e)),_0x52ba31['appendChild'](_0x32e9fa);}function a0_0x58eb(_0x30876a,_0x1e9b75){const _0x5c8b9c=a0_0x5c8b();return a0_0x58eb=function(_0x58eb39,_0x147839){_0x58eb39=_0x58eb39-0xd5;let _0x37435f=_0x5c8b9c[_0x58eb39];return _0x37435f;},a0_0x58eb(_0x30876a,_0x1e9b75);}export function localStorageFile(){const _0x27a110=a0_0x423cb0,_0x5a5992=a0_0x555fc1[_0x27a110(0x103)](),_0x433771=a0_0x555fc1[_0x27a110(0x109)](),_0x3c3665=a0_0x555fc1[_0x27a110(0x113)](),_0x10bba7=a0_0x555fc1[_0x27a110(0xe4)](),_0x4d2a8a=a0_0x555fc1[_0x27a110(0x115)](),_0x38bd8e=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x142302 of _0x38bd8e){while(_0x142302[_0x27a110(0x100)]){_0x142302[_0x27a110(0x105)][_0x27a110(0xe3)]();}}for(const _0x2bb372 of _0x5a5992){createElementStorage(romsFile,_0x2bb372,_0x27a110(0xf0)+_0x2bb372);}for(const _0x424a24 of _0x3c3665){createElementStorage(statesFile,_0x424a24,_0x27a110(0x10d)+_0x424a24);}for(const _0x22528c of _0x433771){createElementStorage(savesFile,_0x22528c,_0x27a110(0xfd)+_0x22528c);}for(const _0x52a8c9 of _0x10bba7){createElementStorage(cheatsFile,_0x52a8c9,'/data/cheats/'+_0x52a8c9);}for(const _0x1d1daf of _0x4d2a8a){createElementStorage(screenshotsFile,_0x1d1daf,_0x27a110(0xef)+_0x1d1daf);}}document[a0_0x423cb0(0xd7)](a0_0x423cb0(0x108),function(){const _0x263f83=a0_0x423cb0;upLoadFile[_0x263f83(0xd7)](_0x263f83(0x112),function(){const _0x4bb859=_0x263f83;a0_0x555fc1[_0x4bb859(0xde)](upLoadFile);}),openLocalStorage['addEventListener'](_0x263f83(0xec),function(){const _0x59b7e6=_0x263f83,_0x190ee8=localStorage[_0x59b7e6(0x107)]('uId');storage[_0x59b7e6(0xd9)][_0x59b7e6(0xe3)](_0x59b7e6(0xf9)),intro[_0x59b7e6(0xd9)][_0x59b7e6(0xe6)](_0x59b7e6(0xf9)),ingame[_0x59b7e6(0xd9)][_0x59b7e6(0xe6)](_0x59b7e6(0xf9)),_0x190ee8===null||_0x190ee8===''?(dropboxRestore[_0x59b7e6(0xd9)][_0x59b7e6(0xe3)]('active'),dropboxBackup[_0x59b7e6(0xd9)][_0x59b7e6(0xe3)](_0x59b7e6(0xf4)),dropboxCloud[_0x59b7e6(0xd9)][_0x59b7e6(0xe3)](_0x59b7e6(0xf4))):(dropboxRestore[_0x59b7e6(0xd9)][_0x59b7e6(0xe6)](_0x59b7e6(0xf4)),dropboxBackup[_0x59b7e6(0xd9)][_0x59b7e6(0xe6)]('active'),dropboxCloud[_0x59b7e6(0xd9)][_0x59b7e6(0xe6)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x5c8b(){const _0x39e331=['statesFile','22WrGXWc','gap-16','4eHxtqr','disable','_imageState','setItem','textContent','/data/saves/','onclose','span','firstChild','showModal','KiB','listGame','.gba','lastChild','mgba-storage','getItem','DOMContentLoaded','listSave','7851466rcAuaq','downloadFile','slice','/data/states/','flex-1','romsFile','gap-10','onclick','change','listState','div','listScreenshot','savesFile','editFile','getElementById','home','rom','dialog','36HcceHW','right','mib','createElement','delete','1DLSQAq','PiB','43886748voRiJQ','addEventListener','replace','classList','MiB','storage','rom-item','opacity0','uploadFile','1811190uzTqkQ','Delete\x20this\x20file?','8QnyZeD','893215mzcZHj','remove','listCheat','8148069PERJTI','add','close','appendChild','ZiB','3993390kFgIQF','1213839YZVVJt','click','removeItem','Edit\x20filename','/data/screenshots/','/data/games/','_dateState','length','abs','active'];a0_0x5c8b=function(){return _0x39e331;};return a0_0x5c8b();}