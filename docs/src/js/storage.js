const a0_0x2f5be4=a0_0x3618;(function(_0x173519,_0x52ec5d){const _0x17f326=a0_0x3618,_0x37df10=_0x173519();while(!![]){try{const _0x541425=parseInt(_0x17f326(0xfc))/0x1*(parseInt(_0x17f326(0xe9))/0x2)+parseInt(_0x17f326(0xd9))/0x3*(-parseInt(_0x17f326(0xc1))/0x4)+parseInt(_0x17f326(0xe5))/0x5+-parseInt(_0x17f326(0xdf))/0x6+parseInt(_0x17f326(0xe2))/0x7+-parseInt(_0x17f326(0xf0))/0x8+parseInt(_0x17f326(0xdc))/0x9;if(_0x541425===_0x52ec5d)break;else _0x37df10['push'](_0x37df10['shift']());}catch(_0xb59f79){_0x37df10['push'](_0x37df10['shift']());}}}(a0_0x5e4b,0x2d689));import*as a0_0x2cdaa5 from'./main.js';const mgbaStorage=document[a0_0x2f5be4(0xc3)](a0_0x2f5be4(0xe6)),savesFile=document['getElementById'](a0_0x2f5be4(0xe0)),romsFile=document[a0_0x2f5be4(0xc3)]('romsFile'),statesFile=document[a0_0x2f5be4(0xc3)](a0_0x2f5be4(0xbe)),screenshotsFile=document[a0_0x2f5be4(0xc3)](a0_0x2f5be4(0xb8));function humanFileSize(_0x526b19,_0x4801ec=![],_0x2aa839=0x1){const _0x5805e3=a0_0x2f5be4,_0x207a44=_0x4801ec?0x3e8:0x400,_0xdee9bd=_0x4801ec?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5805e3(0xcf),_0x5805e3(0xd7),_0x5805e3(0xca),'TiB','PiB',_0x5805e3(0xe7),_0x5805e3(0xbc),_0x5805e3(0xd1)];let _0x3523ab=-0x1;do{_0x526b19/=_0x207a44,++_0x3523ab;}while(Math['abs'](_0x526b19)>=_0x207a44&&_0x3523ab<_0xdee9bd[_0x5805e3(0xd4)]-0x1);return _0x526b19[_0x5805e3(0xd2)](_0x2aa839)+'\x20'+_0xdee9bd[_0x3523ab];}function createElementStorage(_0x14ff68,_0x5bada7,_0xc159ed){const _0x47df17=a0_0x2f5be4,_0x3f0fca=document[_0x47df17(0xcd)](_0x47df17(0xe3));_0x3f0fca[_0x47df17(0x100)][_0x47df17(0xf1)]('flex-1','rom-item',_0x47df17(0xf2)),_0x14ff68[_0x47df17(0xc2)](_0x3f0fca);const _0x3b2363=document[_0x47df17(0xcd)]('span');_0x3b2363[_0x47df17(0xfa)]=_0x5bada7,_0x3b2363[_0x47df17(0x100)][_0x47df17(0xf1)]('flex-1'),_0x3f0fca[_0x47df17(0xc2)](_0x3b2363),_0x3b2363[_0x47df17(0xb7)]=()=>{const _0x292f9b=_0x47df17,_0x5bd7db=document[_0x292f9b(0xcd)](_0x292f9b(0xfd));_0x5bd7db[_0x292f9b(0xee)]=()=>_0x5bd7db['remove'](),_0x14ff68[_0x292f9b(0xc2)](_0x5bd7db);const _0x1428d4=document[_0x292f9b(0xcd)](_0x292f9b(0xe3));_0x1428d4[_0x292f9b(0x100)][_0x292f9b(0xf1)]('storage',_0x292f9b(0xea),_0x292f9b(0xdd)),_0x5bd7db['appendChild'](_0x1428d4);const _0x1a7002=document[_0x292f9b(0xcd)](_0x292f9b(0xe3));_0x1a7002['classList']['add'](_0x292f9b(0xc5),'bc','flex-1'),_0x1428d4[_0x292f9b(0xc2)](_0x1a7002);const _0x443c53=document[_0x292f9b(0xcd)](_0x292f9b(0xe3));_0x443c53['classList'][_0x292f9b(0xf1)](_0x292f9b(0xef)),_0x1428d4[_0x292f9b(0xc2)](_0x443c53);const _0x461794=document[_0x292f9b(0xcd)](_0x292f9b(0xe3));_0x461794['classList']['add'](_0x292f9b(0xef)),_0x1428d4['appendChild'](_0x461794);const _0x3d16bd=document['createElement']('div');_0x3d16bd[_0x292f9b(0x100)]['add'](_0x292f9b(0xef)),_0x1428d4[_0x292f9b(0xc2)](_0x3d16bd),mgbaStorage[_0x292f9b(0x100)][_0x292f9b(0xf1)](_0x292f9b(0xda)),_0x1a7002[_0x292f9b(0xb7)]=()=>{const _0x52b4de=_0x292f9b;_0x5bd7db[_0x52b4de(0xfe)](),_0x5bd7db['remove'](),mgbaStorage[_0x52b4de(0x100)]['remove'](_0x52b4de(0xda));};const _0x255073=document[_0x292f9b(0xcd)](_0x292f9b(0xe3));_0x255073[_0x292f9b(0x100)][_0x292f9b(0xf1)](_0x292f9b(0xef),_0x292f9b(0xf8),'hw','cw'),_0x255073['textContent']=_0x5bada7,_0x5bd7db[_0x292f9b(0xc2)](_0x255073);const _0x30191b=document['createElement']('div');_0x30191b[_0x292f9b(0x100)][_0x292f9b(0xf1)](_0x292f9b(0xcc),'hw','cw','gap-16'),_0x5bd7db[_0x292f9b(0xc2)](_0x30191b);const _0x40cd7c=document[_0x292f9b(0xcd)](_0x292f9b(0xe3));_0x40cd7c[_0x292f9b(0x100)][_0x292f9b(0xf1)](_0x292f9b(0xf4),'bc'),_0x30191b[_0x292f9b(0xc2)](_0x40cd7c),_0x40cd7c[_0x292f9b(0xb7)]=()=>{const _0x1e693b=_0x292f9b;a0_0x2cdaa5[_0x1e693b(0xc0)](_0xc159ed,_0x5bada7);};const _0x3eed6f=document[_0x292f9b(0xcd)](_0x292f9b(0xe3));_0x3eed6f['classList'][_0x292f9b(0xf1)]('delete','bc'),_0x30191b['appendChild'](_0x3eed6f),_0x3eed6f[_0x292f9b(0xb7)]=async()=>{const _0x4353aa=_0x292f9b;if(window['confirm'](_0x4353aa(0xf6)+_0x5bada7)){const _0x58f3bc=_0x5bada7[_0x4353aa(0xbf)](/\....$/,_0x4353aa(0xd5));a0_0x2cdaa5[_0x4353aa(0xce)](_0xc159ed),localStorage[_0x4353aa(0xff)](_0x58f3bc+_0x4353aa(0xf9)+_0x5bada7[_0x4353aa(0xd6)](-0x1)),localStorage[_0x4353aa(0xff)](_0x58f3bc+'_imageState'+_0x5bada7['slice'](-0x1)),localStorageFile(),_0x5bd7db[_0x4353aa(0xfe)](),_0x5bd7db[_0x4353aa(0xba)](),mgbaStorage[_0x4353aa(0x100)]['remove']('opacity0');}};const _0xf202b7=document[_0x292f9b(0xcd)](_0x292f9b(0xe3));_0xf202b7['classList'][_0x292f9b(0xf1)]('rename','bc'),_0x30191b['appendChild'](_0xf202b7),_0xf202b7[_0x292f9b(0xb7)]=async()=>{const _0x73afe4=_0x292f9b,_0xb3a224=window[_0x73afe4(0xc9)]('Edit\x20filename',_0x5bada7);_0xb3a224!==null&&(a0_0x2cdaa5[_0x73afe4(0xe8)](_0xc159ed,_0x5bada7,_0xb3a224),localStorageFile(),_0x5bd7db[_0x73afe4(0xfe)](),_0x5bd7db[_0x73afe4(0xba)](),mgbaStorage[_0x73afe4(0x100)][_0x73afe4(0xba)]('opacity0'));},_0x5bd7db[_0x292f9b(0xd0)]();};const _0x4fda20=document[_0x47df17(0xcd)](_0x47df17(0xfb));_0x4fda20[_0x47df17(0xfa)]=humanFileSize(a0_0x2cdaa5[_0x47df17(0xf5)](_0xc159ed)),_0x4fda20['classList'][_0x47df17(0xf1)](_0x47df17(0xb9)),_0x3f0fca['appendChild'](_0x4fda20);}function a0_0x3618(_0x492040,_0x3417dd){const _0x5e4b75=a0_0x5e4b();return a0_0x3618=function(_0x361837,_0xcecbc1){_0x361837=_0x361837-0xb7;let _0x3b2941=_0x5e4b75[_0x361837];return _0x3b2941;},a0_0x3618(_0x492040,_0x3417dd);}function a0_0x5e4b(){const _0x3716ae=['/data/screenshots/','prompt','GiB','/data/saves/','actionDiv','createElement','deleteFile','KiB','showModal','YiB','toFixed','getItem','length','.gba','slice','MiB','active','6267gwokih','opacity0','/data/states/','2347398xOoJQq','gap-10','listFiles','1174848ylmxCP','savesFile','lastChild','1064161TLRYtG','div','DOMContentLoaded','63360NYecUn','mgba-storage','EiB','editFile','8DzbAkw','right','uId','/data/cheats/','firstChild','onclose','flex-1','743984TSJasV','add','rom','addEventListener','download','fileSize','Delete\x20this\x20file?','games','rom-item','_dateState','textContent','span','42611sDUWoI','dialog','close','removeItem','classList','onclick','screenshotsFile','mib','remove','change','ZiB','saves','statesFile','replace','downloadFile','232wgwAQa','appendChild','getElementById','click','home','screenshots','states'];a0_0x5e4b=function(){return _0x3716ae;};return a0_0x5e4b();}export function localStorageFile(){const _0x250e41=a0_0x2f5be4,_0x452131=a0_0x2cdaa5[_0x250e41(0xde)](_0x250e41(0xf7)),_0x4773b6=a0_0x2cdaa5['listFiles'](_0x250e41(0xbd)),_0x1cb2cb=a0_0x2cdaa5[_0x250e41(0xde)](_0x250e41(0xc7)),_0x235eed=a0_0x2cdaa5['listFiles']('cheats'),_0x39ea91=a0_0x2cdaa5['listFiles'](_0x250e41(0xc6)),_0x2440dc=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x24dc04 of _0x2440dc){while(_0x24dc04[_0x250e41(0xed)]){_0x24dc04[_0x250e41(0xe1)][_0x250e41(0xba)]();}}for(const _0x5ca7e1 of _0x452131){createElementStorage(romsFile,_0x5ca7e1,'/data/games/'+_0x5ca7e1);}for(const _0x3795c5 of _0x1cb2cb){createElementStorage(statesFile,_0x3795c5,_0x250e41(0xdb)+_0x3795c5);}for(const _0x902f3b of _0x4773b6){createElementStorage(savesFile,_0x902f3b,_0x250e41(0xcb)+_0x902f3b);}for(const _0x356590 of _0x235eed){createElementStorage(cheatsFile,_0x356590,_0x250e41(0xec)+_0x356590);}for(const _0x5acdc1 of _0x39ea91){createElementStorage(screenshotsFile,_0x5acdc1,_0x250e41(0xc8)+_0x5acdc1);}}document[a0_0x2f5be4(0xf3)](a0_0x2f5be4(0xe4),function(){const _0x52a9b1=a0_0x2f5be4;upLoadFile[_0x52a9b1(0xf3)](_0x52a9b1(0xbb),function(){a0_0x2cdaa5['uploadFile'](upLoadFile);}),openLocalStorage[_0x52a9b1(0xf3)](_0x52a9b1(0xc4),function(){const _0x5be93e=_0x52a9b1,_0x2d908e=localStorage[_0x5be93e(0xd3)](_0x5be93e(0xeb));storage['classList'][_0x5be93e(0xba)]('disable'),intro[_0x5be93e(0x100)][_0x5be93e(0xf1)]('disable'),ingame['classList'][_0x5be93e(0xf1)]('disable'),_0x2d908e===null||_0x2d908e===''?(dropboxRestore[_0x5be93e(0x100)][_0x5be93e(0xba)](_0x5be93e(0xd8)),dropboxBackup[_0x5be93e(0x100)]['remove'](_0x5be93e(0xd8)),dropboxCloud['classList'][_0x5be93e(0xba)]('active')):(dropboxRestore[_0x5be93e(0x100)][_0x5be93e(0xf1)](_0x5be93e(0xd8)),dropboxBackup[_0x5be93e(0x100)][_0x5be93e(0xf1)](_0x5be93e(0xd8)),dropboxCloud[_0x5be93e(0x100)]['add'](_0x5be93e(0xd8)));}),setTimeout(()=>{localStorageFile();},0xbb8);});