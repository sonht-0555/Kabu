const a0_0x56b9b1=a0_0x3d44;(function(_0x77209d,_0x318332){const _0x206c0d=a0_0x3d44,_0x585509=_0x77209d();while(!![]){try{const _0x4886ae=-parseInt(_0x206c0d(0xd1))/0x1+-parseInt(_0x206c0d(0xe5))/0x2*(parseInt(_0x206c0d(0xe2))/0x3)+parseInt(_0x206c0d(0xe8))/0x4+-parseInt(_0x206c0d(0xd0))/0x5+-parseInt(_0x206c0d(0xfb))/0x6*(parseInt(_0x206c0d(0xf1))/0x7)+parseInt(_0x206c0d(0x10c))/0x8*(parseInt(_0x206c0d(0xf6))/0x9)+parseInt(_0x206c0d(0xf3))/0xa*(parseInt(_0x206c0d(0x10e))/0xb);if(_0x4886ae===_0x318332)break;else _0x585509['push'](_0x585509['shift']());}catch(_0x3b369c){_0x585509['push'](_0x585509['shift']());}}}(a0_0x4e0a,0xd8869));import*as a0_0x2b5798 from'./main.js';const mgbaStorage=document[a0_0x56b9b1(0x102)](a0_0x56b9b1(0x109)),savesFile=document[a0_0x56b9b1(0x102)](a0_0x56b9b1(0xe6)),romsFile=document[a0_0x56b9b1(0x102)](a0_0x56b9b1(0xfa)),statesFile=document[a0_0x56b9b1(0x102)]('statesFile'),screenshotsFile=document[a0_0x56b9b1(0x102)](a0_0x56b9b1(0xf8));function a0_0x4e0a(){const _0x384c18=['rename','2222StEUaR','createElement','addEventListener','span','GiB','/data/cheats/','appendChild','gap-10','PiB','classList','2889985IYbXEa','692652xhunnU','listFiles','.gba','replace','disable','removeItem','Edit\x20filename','MiB','lastChild','abs','right','onclick','states','change','delete','fileSize','prompt','6yTZuKW','uploadFile','deleteFile','514158vScGez','savesFile','getItem','5672284ytRSKQ','opacity0','close','DOMContentLoaded','uId','toFixed','downloadFile','click','/data/states/','1309LklHSt','actionDiv','31990OPnBvZ','textContent','home','12393rQMcsw','rom-item','screenshotsFile','div','romsFile','27564ZMTSQo','remove','active','cheats','flex-1','slice','length','getElementById','download','dialog','/data/screenshots/','ZiB','_dateState','add','mgba-storage','screenshots','TiB','8520hZCpfM'];a0_0x4e0a=function(){return _0x384c18;};return a0_0x4e0a();}function a0_0x3d44(_0x15d545,_0x35e6fe){const _0x4e0a75=a0_0x4e0a();return a0_0x3d44=function(_0x3d44f0,_0x4a6016){_0x3d44f0=_0x3d44f0-0xcf;let _0x12474b=_0x4e0a75[_0x3d44f0];return _0x12474b;},a0_0x3d44(_0x15d545,_0x35e6fe);}function humanFileSize(_0x2959d4,_0x2d9106=![],_0x3a8fe6=0x1){const _0x4d5325=a0_0x56b9b1,_0x44c198=_0x2d9106?0x3e8:0x400,_0x451346=_0x2d9106?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x4d5325(0xd8),_0x4d5325(0x112),_0x4d5325(0x10b),_0x4d5325(0x116),'EiB',_0x4d5325(0x106),'YiB'];let _0x32ea45=-0x1;do{_0x2959d4/=_0x44c198,++_0x32ea45;}while(Math[_0x4d5325(0xda)](_0x2959d4)>=_0x44c198&&_0x32ea45<_0x451346[_0x4d5325(0x101)]-0x1);return _0x2959d4[_0x4d5325(0xed)](_0x3a8fe6)+'\x20'+_0x451346[_0x32ea45];}function createElementStorage(_0x256875,_0x3667cf,_0x440443){const _0x1bf1ef=a0_0x56b9b1,_0x155a0d=document['createElement'](_0x1bf1ef(0xf9));_0x155a0d['classList']['add']('flex-1',_0x1bf1ef(0xf7),'rom'),_0x256875[_0x1bf1ef(0x114)](_0x155a0d);const _0x4b2627=document[_0x1bf1ef(0x10f)](_0x1bf1ef(0x111));_0x4b2627[_0x1bf1ef(0xf4)]=_0x3667cf,_0x4b2627['classList'][_0x1bf1ef(0x108)]('flex-1'),_0x155a0d[_0x1bf1ef(0x114)](_0x4b2627),_0x4b2627[_0x1bf1ef(0xdc)]=()=>{const _0x253aac=_0x1bf1ef,_0x154729=document[_0x253aac(0x10f)](_0x253aac(0x104));_0x154729['onclose']=()=>_0x154729[_0x253aac(0xfc)](),_0x256875[_0x253aac(0x114)](_0x154729);const _0x3fa870=document[_0x253aac(0x10f)]('div');_0x3fa870[_0x253aac(0xcf)][_0x253aac(0x108)]('storage',_0x253aac(0xdb),_0x253aac(0x115)),_0x154729['appendChild'](_0x3fa870);const _0x103346=document[_0x253aac(0x10f)](_0x253aac(0xf9));_0x103346[_0x253aac(0xcf)]['add'](_0x253aac(0xf5),'bc',_0x253aac(0xff)),_0x3fa870[_0x253aac(0x114)](_0x103346);const _0x59d838=document['createElement'](_0x253aac(0xf9));_0x59d838[_0x253aac(0xcf)][_0x253aac(0x108)](_0x253aac(0xff)),_0x3fa870[_0x253aac(0x114)](_0x59d838);const _0x3e21ff=document[_0x253aac(0x10f)](_0x253aac(0xf9));_0x3e21ff['classList']['add'](_0x253aac(0xff)),_0x3fa870[_0x253aac(0x114)](_0x3e21ff);const _0x2bdedf=document[_0x253aac(0x10f)](_0x253aac(0xf9));_0x2bdedf['classList'][_0x253aac(0x108)](_0x253aac(0xff)),_0x3fa870[_0x253aac(0x114)](_0x2bdedf),mgbaStorage[_0x253aac(0xcf)][_0x253aac(0x108)](_0x253aac(0xe9)),_0x103346[_0x253aac(0xdc)]=()=>{const _0x2f58bc=_0x253aac;_0x154729['close'](),_0x154729[_0x2f58bc(0xfc)](),mgbaStorage[_0x2f58bc(0xcf)][_0x2f58bc(0xfc)](_0x2f58bc(0xe9));};const _0x1286f2=document[_0x253aac(0x10f)](_0x253aac(0xf9));_0x1286f2['classList']['add'](_0x253aac(0xff),_0x253aac(0xf7),'hw','cw'),_0x1286f2[_0x253aac(0xf4)]=_0x3667cf,_0x154729[_0x253aac(0x114)](_0x1286f2);const _0x7fc34c=document[_0x253aac(0x10f)]('div');_0x7fc34c[_0x253aac(0xcf)][_0x253aac(0x108)](_0x253aac(0xf2),'hw','cw','gap-16'),_0x154729[_0x253aac(0x114)](_0x7fc34c);const _0x3bc4b8=document[_0x253aac(0x10f)](_0x253aac(0xf9));_0x3bc4b8['classList'][_0x253aac(0x108)](_0x253aac(0x103),'bc'),_0x7fc34c[_0x253aac(0x114)](_0x3bc4b8),_0x3bc4b8[_0x253aac(0xdc)]=()=>{const _0x4a04bc=_0x253aac;a0_0x2b5798[_0x4a04bc(0xee)](_0x440443,_0x3667cf);};const _0x1fc5ae=document['createElement'](_0x253aac(0xf9));_0x1fc5ae[_0x253aac(0xcf)][_0x253aac(0x108)](_0x253aac(0xdf),'bc'),_0x7fc34c['appendChild'](_0x1fc5ae),_0x1fc5ae[_0x253aac(0xdc)]=async()=>{const _0x2f44b4=_0x253aac;if(window['confirm']('Delete\x20this\x20file?'+_0x3667cf)){const _0x5cde51=_0x3667cf[_0x2f44b4(0xd4)](/\....$/,_0x2f44b4(0xd3));a0_0x2b5798[_0x2f44b4(0xe4)](_0x440443),localStorage[_0x2f44b4(0xd6)](_0x5cde51+_0x2f44b4(0x107)+_0x3667cf[_0x2f44b4(0x100)](-0x1)),localStorage[_0x2f44b4(0xd6)](_0x5cde51+'_imageState'+_0x3667cf[_0x2f44b4(0x100)](-0x1)),localStorageFile(),_0x154729[_0x2f44b4(0xea)](),_0x154729[_0x2f44b4(0xfc)](),mgbaStorage[_0x2f44b4(0xcf)]['remove']('opacity0');}};const _0x5e1efd=document[_0x253aac(0x10f)](_0x253aac(0xf9));_0x5e1efd['classList'][_0x253aac(0x108)](_0x253aac(0x10d),'bc'),_0x7fc34c[_0x253aac(0x114)](_0x5e1efd),_0x5e1efd[_0x253aac(0xdc)]=async()=>{const _0x520aca=_0x253aac,_0xce988a=window[_0x520aca(0xe1)](_0x520aca(0xd7),_0x3667cf);_0xce988a!==null&&(a0_0x2b5798['editFile'](_0x440443,_0x3667cf,_0xce988a),localStorageFile(),_0x154729['close'](),_0x154729[_0x520aca(0xfc)](),mgbaStorage[_0x520aca(0xcf)]['remove']('opacity0'));},_0x154729['showModal']();};const _0x26fbcd=document[_0x1bf1ef(0x10f)](_0x1bf1ef(0x111));_0x26fbcd['textContent']=humanFileSize(a0_0x2b5798[_0x1bf1ef(0xe0)](_0x440443)),_0x26fbcd[_0x1bf1ef(0xcf)]['add']('mib'),_0x155a0d['appendChild'](_0x26fbcd);}export function localStorageFile(){const _0x6a4c1a=a0_0x56b9b1,_0x3917f4=a0_0x2b5798[_0x6a4c1a(0xd2)]('games'),_0xf232ea=a0_0x2b5798['listFiles']('saves'),_0x5e6280=a0_0x2b5798['listFiles'](_0x6a4c1a(0xdd)),_0x3f717a=a0_0x2b5798[_0x6a4c1a(0xd2)](_0x6a4c1a(0xfe)),_0x5ca3d4=a0_0x2b5798[_0x6a4c1a(0xd2)](_0x6a4c1a(0x10a)),_0xcb1eea=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x1a5f1d of _0xcb1eea){while(_0x1a5f1d['firstChild']){_0x1a5f1d[_0x6a4c1a(0xd9)][_0x6a4c1a(0xfc)]();}}for(const _0x245767 of _0x3917f4){createElementStorage(romsFile,_0x245767,'/data/games/'+_0x245767);}for(const _0x33b2e6 of _0x5e6280){createElementStorage(statesFile,_0x33b2e6,_0x6a4c1a(0xf0)+_0x33b2e6);}for(const _0x36040c of _0xf232ea){createElementStorage(savesFile,_0x36040c,'/data/saves/'+_0x36040c);}for(const _0x3867c1 of _0x3f717a){createElementStorage(cheatsFile,_0x3867c1,_0x6a4c1a(0x113)+_0x3867c1);}for(const _0x1d89d6 of _0x5ca3d4){createElementStorage(screenshotsFile,_0x1d89d6,_0x6a4c1a(0x105)+_0x1d89d6);}}document[a0_0x56b9b1(0x110)](a0_0x56b9b1(0xeb),function(){const _0x338273=a0_0x56b9b1;upLoadFile[_0x338273(0x110)](_0x338273(0xde),function(){const _0x2e2225=_0x338273;a0_0x2b5798[_0x2e2225(0xe3)](upLoadFile);}),openLocalStorage[_0x338273(0x110)](_0x338273(0xef),function(){const _0x13ea18=_0x338273,_0x589869=localStorage[_0x13ea18(0xe7)](_0x13ea18(0xec));storage['classList'][_0x13ea18(0xfc)](_0x13ea18(0xd5)),intro['classList'][_0x13ea18(0x108)](_0x13ea18(0xd5)),ingame[_0x13ea18(0xcf)][_0x13ea18(0x108)](_0x13ea18(0xd5)),_0x589869===null||_0x589869===''?(dropboxRestore[_0x13ea18(0xcf)]['remove'](_0x13ea18(0xfd)),dropboxBackup[_0x13ea18(0xcf)][_0x13ea18(0xfc)]('active'),dropboxCloud['classList'][_0x13ea18(0xfc)](_0x13ea18(0xfd))):(dropboxRestore[_0x13ea18(0xcf)][_0x13ea18(0x108)](_0x13ea18(0xfd)),dropboxBackup[_0x13ea18(0xcf)][_0x13ea18(0x108)]('active'),dropboxCloud[_0x13ea18(0xcf)][_0x13ea18(0x108)](_0x13ea18(0xfd)));}),setTimeout(()=>{localStorageFile();},0xbb8);});