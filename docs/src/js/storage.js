const a0_0x4c72e=a0_0xdd89;(function(_0x161d1c,_0x2def43){const _0x1c5fae=a0_0xdd89,_0x4c5873=_0x161d1c();while(!![]){try{const _0x36dff6=-parseInt(_0x1c5fae(0x209))/0x1+parseInt(_0x1c5fae(0x219))/0x2*(-parseInt(_0x1c5fae(0x224))/0x3)+-parseInt(_0x1c5fae(0x217))/0x4+parseInt(_0x1c5fae(0x225))/0x5+parseInt(_0x1c5fae(0x1f5))/0x6+-parseInt(_0x1c5fae(0x21b))/0x7+parseInt(_0x1c5fae(0x20d))/0x8;if(_0x36dff6===_0x2def43)break;else _0x4c5873['push'](_0x4c5873['shift']());}catch(_0x5df6cd){_0x4c5873['push'](_0x4c5873['shift']());}}}(a0_0x4ca5,0xcff82));function a0_0x4ca5(){const _0x388035=['disable','PiB','rom-item','appendChild','opacity0','71200DKuHhq','createElement','2139744xzypqo','screenshotsFile','11663155scXDLJ','download','gap-10','games','TiB','removeItem','confirm','/data/saves/','downloadFile','3yazUhe','1995070GqGfCy','getElementById','click','classList','deleteFile','active','Delete\x20this\x20file?','uId','/data/games/','close','_imageState','onclick','showModal','uploadFile','addEventListener','romsFile','lastChild','DOMContentLoaded','/data/screenshots/','.gba','firstChild','rom','toFixed','screenshots','3597420dNoxcs','replace','length','span','textContent','EiB','editFile','MiB','states','/data/states/','rename','slice','add','GiB','saves','/data/cheats/','flex-1','mib','listFiles','cheats','979486TwdTdF','statesFile','getItem','savesFile','28692648SSmTYg','_dateState','div','remove','ZiB'];a0_0x4ca5=function(){return _0x388035;};return a0_0x4ca5();}import*as a0_0x4fc4ec from'./main.js';const mgbaStorage=document['getElementById']('mgba-storage'),savesFile=document[a0_0x4c72e(0x226)](a0_0x4c72e(0x20c)),romsFile=document[a0_0x4c72e(0x226)](a0_0x4c72e(0x1ec)),statesFile=document[a0_0x4c72e(0x226)](a0_0x4c72e(0x20a)),screenshotsFile=document['getElementById'](a0_0x4c72e(0x21a));function humanFileSize(_0x39d65d,_0x2b5174=![],_0x531b82=0x1){const _0x298686=a0_0x4c72e,_0xebfbbd=_0x2b5174?0x3e8:0x400,_0x1a78c8=_0x2b5174?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x298686(0x1fc),_0x298686(0x202),_0x298686(0x21f),_0x298686(0x213),_0x298686(0x1fa),_0x298686(0x211),'YiB'];let _0x27fca8=-0x1;do{_0x39d65d/=_0xebfbbd,++_0x27fca8;}while(Math['abs'](_0x39d65d)>=_0xebfbbd&&_0x27fca8<_0x1a78c8[_0x298686(0x1f7)]-0x1);return _0x39d65d[_0x298686(0x1f3)](_0x531b82)+'\x20'+_0x1a78c8[_0x27fca8];}function createElementStorage(_0x67bf79,_0x5f34ca,_0x3c12ed){const _0x2defb3=a0_0x4c72e,_0x52039a=document['createElement'](_0x2defb3(0x20f));_0x52039a['classList']['add']('flex-1',_0x2defb3(0x214),_0x2defb3(0x1f2)),_0x67bf79[_0x2defb3(0x215)](_0x52039a);const _0x5dbbfd=document[_0x2defb3(0x218)](_0x2defb3(0x1f8));_0x5dbbfd['textContent']=_0x5f34ca,_0x5dbbfd[_0x2defb3(0x1e0)][_0x2defb3(0x201)](_0x2defb3(0x205)),_0x52039a[_0x2defb3(0x215)](_0x5dbbfd),_0x5dbbfd[_0x2defb3(0x1e8)]=()=>{const _0x3253c8=_0x2defb3,_0x199d11=document['createElement']('dialog');_0x199d11['onclose']=()=>_0x199d11[_0x3253c8(0x210)](),_0x67bf79['appendChild'](_0x199d11);const _0x562069=document[_0x3253c8(0x218)](_0x3253c8(0x20f));_0x562069[_0x3253c8(0x1e0)][_0x3253c8(0x201)]('storage','right',_0x3253c8(0x21d)),_0x199d11[_0x3253c8(0x215)](_0x562069);const _0x5444b1=document[_0x3253c8(0x218)](_0x3253c8(0x20f));_0x5444b1[_0x3253c8(0x1e0)][_0x3253c8(0x201)]('home','bc','flex-1'),_0x562069[_0x3253c8(0x215)](_0x5444b1);const _0x2680fa=document['createElement'](_0x3253c8(0x20f));_0x2680fa[_0x3253c8(0x1e0)][_0x3253c8(0x201)](_0x3253c8(0x205)),_0x562069['appendChild'](_0x2680fa);const _0x2451b4=document[_0x3253c8(0x218)](_0x3253c8(0x20f));_0x2451b4[_0x3253c8(0x1e0)][_0x3253c8(0x201)]('flex-1'),_0x562069[_0x3253c8(0x215)](_0x2451b4);const _0x18a0ba=document[_0x3253c8(0x218)](_0x3253c8(0x20f));_0x18a0ba[_0x3253c8(0x1e0)]['add'](_0x3253c8(0x205)),_0x562069[_0x3253c8(0x215)](_0x18a0ba),mgbaStorage[_0x3253c8(0x1e0)][_0x3253c8(0x201)]('opacity0'),_0x5444b1['onclick']=()=>{const _0x265e50=_0x3253c8;_0x199d11[_0x265e50(0x1e6)](),_0x199d11[_0x265e50(0x210)](),mgbaStorage[_0x265e50(0x1e0)][_0x265e50(0x210)](_0x265e50(0x216));};const _0x3a173c=document['createElement']('div');_0x3a173c[_0x3253c8(0x1e0)][_0x3253c8(0x201)](_0x3253c8(0x205),_0x3253c8(0x214),'hw','cw'),_0x3a173c[_0x3253c8(0x1f9)]=_0x5f34ca,_0x199d11[_0x3253c8(0x215)](_0x3a173c);const _0x5d2ab2=document[_0x3253c8(0x218)]('div');_0x5d2ab2[_0x3253c8(0x1e0)][_0x3253c8(0x201)]('actionDiv','hw','cw','gap-16'),_0x199d11[_0x3253c8(0x215)](_0x5d2ab2);const _0xf1b517=document['createElement']('div');_0xf1b517['classList']['add'](_0x3253c8(0x21c),'bc'),_0x5d2ab2[_0x3253c8(0x215)](_0xf1b517),_0xf1b517[_0x3253c8(0x1e8)]=()=>{const _0x47f8da=_0x3253c8;a0_0x4fc4ec[_0x47f8da(0x223)](_0x3c12ed,_0x5f34ca);};const _0x550ae5=document[_0x3253c8(0x218)](_0x3253c8(0x20f));_0x550ae5[_0x3253c8(0x1e0)][_0x3253c8(0x201)]('delete','bc'),_0x5d2ab2[_0x3253c8(0x215)](_0x550ae5),_0x550ae5[_0x3253c8(0x1e8)]=async()=>{const _0x471cd4=_0x3253c8;if(window[_0x471cd4(0x221)](_0x471cd4(0x1e3)+_0x5f34ca)){const _0x13b4d1=_0x5f34ca[_0x471cd4(0x1f6)](/\....$/,_0x471cd4(0x1f0));a0_0x4fc4ec[_0x471cd4(0x1e1)](_0x3c12ed),localStorage[_0x471cd4(0x220)](_0x13b4d1+_0x471cd4(0x20e)+_0x5f34ca[_0x471cd4(0x200)](-0x1)),localStorage[_0x471cd4(0x220)](_0x13b4d1+_0x471cd4(0x1e7)+_0x5f34ca['slice'](-0x1)),localStorageFile(),_0x199d11[_0x471cd4(0x1e6)](),_0x199d11[_0x471cd4(0x210)](),mgbaStorage[_0x471cd4(0x1e0)][_0x471cd4(0x210)](_0x471cd4(0x216));}};const _0x1d42a4=document[_0x3253c8(0x218)](_0x3253c8(0x20f));_0x1d42a4[_0x3253c8(0x1e0)][_0x3253c8(0x201)](_0x3253c8(0x1ff),'bc'),_0x5d2ab2['appendChild'](_0x1d42a4),_0x1d42a4[_0x3253c8(0x1e8)]=async()=>{const _0x1c21a2=_0x3253c8,_0x53e448=window['prompt']('Edit\x20filename',_0x5f34ca);_0x53e448!==null&&(a0_0x4fc4ec[_0x1c21a2(0x1fb)](_0x3c12ed,_0x5f34ca,_0x53e448),localStorageFile(),_0x199d11[_0x1c21a2(0x1e6)](),_0x199d11['remove'](),mgbaStorage['classList'][_0x1c21a2(0x210)](_0x1c21a2(0x216)));},_0x199d11[_0x3253c8(0x1e9)]();};const _0x2c6a9d=document['createElement']('span');_0x2c6a9d[_0x2defb3(0x1f9)]=humanFileSize(a0_0x4fc4ec['fileSize'](_0x3c12ed)),_0x2c6a9d[_0x2defb3(0x1e0)][_0x2defb3(0x201)](_0x2defb3(0x206)),_0x52039a[_0x2defb3(0x215)](_0x2c6a9d);}export function localStorageFile(){const _0x323e27=a0_0x4c72e,_0x36b4bc=a0_0x4fc4ec[_0x323e27(0x207)](_0x323e27(0x21e)),_0x28ef8a=a0_0x4fc4ec[_0x323e27(0x207)](_0x323e27(0x203)),_0x25ba5a=a0_0x4fc4ec[_0x323e27(0x207)](_0x323e27(0x1fd)),_0x20dc04=a0_0x4fc4ec[_0x323e27(0x207)](_0x323e27(0x208)),_0x2fe682=a0_0x4fc4ec['listFiles'](_0x323e27(0x1f4)),_0xe4227d=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x32ea1f of _0xe4227d){while(_0x32ea1f[_0x323e27(0x1f1)]){_0x32ea1f[_0x323e27(0x1ed)][_0x323e27(0x210)]();}}for(const _0x4aaee6 of _0x36b4bc){createElementStorage(romsFile,_0x4aaee6,_0x323e27(0x1e5)+_0x4aaee6);}for(const _0x2c6aae of _0x25ba5a){createElementStorage(statesFile,_0x2c6aae,_0x323e27(0x1fe)+_0x2c6aae);}for(const _0x3a961e of _0x28ef8a){createElementStorage(savesFile,_0x3a961e,_0x323e27(0x222)+_0x3a961e);}for(const _0x477d0d of _0x20dc04){createElementStorage(cheatsFile,_0x477d0d,_0x323e27(0x204)+_0x477d0d);}for(const _0x591c36 of _0x2fe682){createElementStorage(screenshotsFile,_0x591c36,_0x323e27(0x1ef)+_0x591c36);}}function a0_0xdd89(_0x48c4ab,_0x1848b){const _0x4ca5b7=a0_0x4ca5();return a0_0xdd89=function(_0xdd8945,_0x18f4b2){_0xdd8945=_0xdd8945-0x1e0;let _0x901bd0=_0x4ca5b7[_0xdd8945];return _0x901bd0;},a0_0xdd89(_0x48c4ab,_0x1848b);}document[a0_0x4c72e(0x1eb)](a0_0x4c72e(0x1ee),function(){const _0x71681c=a0_0x4c72e;upLoadFile[_0x71681c(0x1eb)]('change',function(){const _0x294782=_0x71681c;a0_0x4fc4ec[_0x294782(0x1ea)](upLoadFile);}),openLocalStorage['addEventListener'](_0x71681c(0x227),function(){const _0x5e5fda=_0x71681c,_0x5a6177=localStorage[_0x5e5fda(0x20b)](_0x5e5fda(0x1e4));storage['classList'][_0x5e5fda(0x210)]('disable'),intro[_0x5e5fda(0x1e0)][_0x5e5fda(0x201)](_0x5e5fda(0x212)),ingame[_0x5e5fda(0x1e0)][_0x5e5fda(0x201)](_0x5e5fda(0x212)),_0x5a6177===null||_0x5a6177===''?(dropboxRestore[_0x5e5fda(0x1e0)]['remove']('active'),dropboxBackup['classList'][_0x5e5fda(0x210)](_0x5e5fda(0x1e2)),dropboxCloud[_0x5e5fda(0x1e0)][_0x5e5fda(0x210)]('active')):(dropboxRestore['classList'][_0x5e5fda(0x201)](_0x5e5fda(0x1e2)),dropboxBackup[_0x5e5fda(0x1e0)][_0x5e5fda(0x201)](_0x5e5fda(0x1e2)),dropboxCloud[_0x5e5fda(0x1e0)][_0x5e5fda(0x201)](_0x5e5fda(0x1e2)));}),setTimeout(()=>{localStorageFile();},0xbb8);});