const a0_0x5ce745=a0_0x1102;(function(_0x2a8841,_0x58c39d){const _0x41494f=a0_0x1102,_0x1bdd29=_0x2a8841();while(!![]){try{const _0x5c5bf1=parseInt(_0x41494f(0xb9))/0x1+-parseInt(_0x41494f(0x8c))/0x2+parseInt(_0x41494f(0xbe))/0x3*(-parseInt(_0x41494f(0x90))/0x4)+parseInt(_0x41494f(0x83))/0x5+-parseInt(_0x41494f(0xc2))/0x6+parseInt(_0x41494f(0xa7))/0x7+parseInt(_0x41494f(0xb2))/0x8*(parseInt(_0x41494f(0x9d))/0x9);if(_0x5c5bf1===_0x58c39d)break;else _0x1bdd29['push'](_0x1bdd29['shift']());}catch(_0x227135){_0x1bdd29['push'](_0x1bdd29['shift']());}}}(a0_0x5403,0x62ea3));import*as a0_0x1753e3 from'./main.js';const mgbaStorage=document[a0_0x5ce745(0xa2)](a0_0x5ce745(0xaa)),savesFile=document[a0_0x5ce745(0xa2)](a0_0x5ce745(0xa3)),romsFile=document[a0_0x5ce745(0xa2)](a0_0x5ce745(0x88)),statesFile=document[a0_0x5ce745(0xa2)](a0_0x5ce745(0x8a)),screenshotsFile=document[a0_0x5ce745(0xa2)](a0_0x5ce745(0x84));function humanFileSize(_0x10a9aa,_0x30d96e=![],_0x55c5cb=0x1){const _0x5087b8=a0_0x5ce745,_0x710536=_0x30d96e?0x3e8:0x400,_0x5b2b09=_0x30d96e?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5087b8(0xa9),_0x5087b8(0xc6),'GiB','TiB',_0x5087b8(0x80),'EiB','ZiB',_0x5087b8(0x9f)];let _0x26494d=-0x1;do{_0x10a9aa/=_0x710536,++_0x26494d;}while(Math[_0x5087b8(0x8d)](_0x10a9aa)>=_0x710536&&_0x26494d<_0x5b2b09[_0x5087b8(0xac)]-0x1);return _0x10a9aa[_0x5087b8(0x82)](_0x55c5cb)+'\x20'+_0x5b2b09[_0x26494d];}function a0_0x5403(){const _0x137a98=['listState','onclick','275087MiNCBS','disable','.bc','name','click','30vRgKxd','textContent','prompt','listScreenshot','2828688kHgJEJ','appendChild','downloadFile','uId','MiB','editFile','slice','opacity0','lastChild','mib','classList','rom','right','onclose','PiB','_dateState','toFixed','656555jJXHCZ','screenshotsFile','/data/games/','.cheats','span','romsFile','change','statesFile','/data/saves/','295724PROLWx','abs','close','rom-item','178576tgdaeX','remove','flex-1','active','setItem','addEventListener','fileSize','listGame','deleteFile','/data/states/','createElement','uploadCheat','Delete\x20this\x20file?','1512EGXleq','uploadSavSta','YiB','gap-16','.gba','getElementById','savesFile','files','gap-10','endsWith','748349LSPDNn','replace','KiB','mgba-storage','Edit\x20filename','length','showModal','_imageState','removeItem','getItem','/data/screenshots/','45600IptpAH','firstChild','listSave','add','div'];a0_0x5403=function(){return _0x137a98;};return a0_0x5403();}function a0_0x1102(_0x195198,_0x5e643e){const _0x540386=a0_0x5403();return a0_0x1102=function(_0x1102c4,_0x33c2fb){_0x1102c4=_0x1102c4-0x7c;let _0x4af35b=_0x540386[_0x1102c4];return _0x4af35b;},a0_0x1102(_0x195198,_0x5e643e);}function createElementStorage(_0x1d0105,_0x3f088c,_0x5479ff){const _0x3b566b=a0_0x5ce745,_0x3d9b34=document[_0x3b566b(0x9a)]('div');_0x3d9b34[_0x3b566b(0x7c)]['add'](_0x3b566b(0x92),_0x3b566b(0x8f),_0x3b566b(0x7d)),_0x1d0105[_0x3b566b(0xc3)](_0x3d9b34);const _0x1ce3c2=document[_0x3b566b(0x9a)](_0x3b566b(0x87));_0x1ce3c2[_0x3b566b(0xbf)]=_0x3f088c,_0x1ce3c2['classList'][_0x3b566b(0xb5)](_0x3b566b(0x92)),_0x3d9b34[_0x3b566b(0xc3)](_0x1ce3c2),_0x1ce3c2[_0x3b566b(0xb8)]=()=>{const _0x1fd16b=_0x3b566b,_0x168fc9=document[_0x1fd16b(0x9a)]('dialog');_0x168fc9[_0x1fd16b(0x7f)]=()=>_0x168fc9[_0x1fd16b(0x91)](),_0x1d0105[_0x1fd16b(0xc3)](_0x168fc9);const _0x1e51ad=document[_0x1fd16b(0x9a)]('div');_0x1e51ad[_0x1fd16b(0x7c)][_0x1fd16b(0xb5)]('storage',_0x1fd16b(0x7e),_0x1fd16b(0xa5)),_0x168fc9[_0x1fd16b(0xc3)](_0x1e51ad);const _0x2b5899=document[_0x1fd16b(0x9a)](_0x1fd16b(0xb6));_0x2b5899['classList']['add']('home','bc',_0x1fd16b(0x92)),_0x1e51ad[_0x1fd16b(0xc3)](_0x2b5899);const _0x5f3f58=document[_0x1fd16b(0x9a)](_0x1fd16b(0xb6));_0x5f3f58['classList']['add']('flex-1'),_0x1e51ad[_0x1fd16b(0xc3)](_0x5f3f58);const _0x2bf7f7=document[_0x1fd16b(0x9a)](_0x1fd16b(0xb6));_0x2bf7f7['classList'][_0x1fd16b(0xb5)]('flex-1'),_0x1e51ad['appendChild'](_0x2bf7f7);const _0x2caf73=document[_0x1fd16b(0x9a)]('div');_0x2caf73['classList'][_0x1fd16b(0xb5)]('flex-1'),_0x1e51ad[_0x1fd16b(0xc3)](_0x2caf73),mgbaStorage[_0x1fd16b(0x7c)][_0x1fd16b(0xb5)](_0x1fd16b(0xc9)),_0x2b5899[_0x1fd16b(0xb8)]=()=>{const _0x902735=_0x1fd16b;_0x168fc9[_0x902735(0x8e)](),_0x168fc9[_0x902735(0x91)](),mgbaStorage[_0x902735(0x7c)][_0x902735(0x91)](_0x902735(0xc9));};const _0x4edd5d=document[_0x1fd16b(0x9a)](_0x1fd16b(0xb6));_0x4edd5d[_0x1fd16b(0x7c)][_0x1fd16b(0xb5)](_0x1fd16b(0x92),_0x1fd16b(0x8f),'hw','cw'),_0x4edd5d[_0x1fd16b(0xbf)]=_0x3f088c,_0x168fc9[_0x1fd16b(0xc3)](_0x4edd5d);const _0x3f7856=document[_0x1fd16b(0x9a)]('div');_0x3f7856[_0x1fd16b(0x7c)]['add']('actionDiv','hw','cw',_0x1fd16b(0xa0)),_0x168fc9[_0x1fd16b(0xc3)](_0x3f7856);const _0x2883b7=document[_0x1fd16b(0x9a)]('div');_0x2883b7[_0x1fd16b(0x7c)]['add']('download','bc'),_0x3f7856[_0x1fd16b(0xc3)](_0x2883b7),_0x2883b7['onclick']=()=>{const _0x35cc5d=_0x1fd16b;a0_0x1753e3[_0x35cc5d(0xc4)](_0x5479ff,_0x3f088c);};const _0x3aa71e=document['createElement'](_0x1fd16b(0xb6));_0x3aa71e[_0x1fd16b(0x7c)][_0x1fd16b(0xb5)]('delete','bc'),_0x3f7856['appendChild'](_0x3aa71e),_0x3aa71e[_0x1fd16b(0xb8)]=async()=>{const _0x56db11=_0x1fd16b;if(window['confirm'](_0x56db11(0x9c)+_0x3f088c)){const _0x43c562=_0x3f088c['replace'](/\....$/,_0x56db11(0xa1));a0_0x1753e3[_0x56db11(0x98)](_0x5479ff),localStorage['removeItem'](_0x43c562+_0x56db11(0x81)+_0x3f088c['slice'](-0x1)),localStorage[_0x56db11(0xaf)](_0x43c562+_0x56db11(0xae)+_0x3f088c[_0x56db11(0xc8)](-0x1)),localStorageFile(),_0x168fc9['close'](),_0x168fc9[_0x56db11(0x91)](),mgbaStorage['classList'][_0x56db11(0x91)](_0x56db11(0xc9));}};const _0x40f7f1=document[_0x1fd16b(0x9a)]('div');_0x40f7f1[_0x1fd16b(0x7c)]['add']('rename','bc'),_0x3f7856[_0x1fd16b(0xc3)](_0x40f7f1),_0x40f7f1[_0x1fd16b(0xb8)]=async()=>{const _0x22f8c4=_0x1fd16b,_0x41b0af=window[_0x22f8c4(0xc0)](_0x22f8c4(0xab),_0x3f088c);if(_0x41b0af!==null){const _0x5b6c04=_0x3f088c[_0x22f8c4(0xa8)](/\....$/,_0x22f8c4(0xa1)),_0x2d29ed=_0x41b0af[_0x22f8c4(0xa8)](/\....$/,_0x22f8c4(0xa1)),_0x426aaa=_0x5b6c04+_0x22f8c4(0x81)+_0x3f088c[_0x22f8c4(0xc8)](-0x1),_0x4426dd=_0x5b6c04+_0x22f8c4(0xae)+_0x3f088c[_0x22f8c4(0xc8)](-0x1),_0x32f677=_0x2d29ed+'_dateState'+_0x41b0af[_0x22f8c4(0xc8)](-0x1),_0x308659=_0x2d29ed+_0x22f8c4(0xae)+_0x41b0af[_0x22f8c4(0xc8)](-0x1),_0x2cb37b=localStorage['getItem'](_0x426aaa),_0x1eed7b=localStorage[_0x22f8c4(0xb0)](_0x4426dd);_0x2cb37b!==null&&(localStorage[_0x22f8c4(0x94)](_0x32f677,_0x2cb37b),localStorage[_0x22f8c4(0xaf)](_0x426aaa)),_0x1eed7b!==null&&(localStorage['setItem'](_0x308659,_0x1eed7b),localStorage['removeItem'](_0x4426dd)),a0_0x1753e3[_0x22f8c4(0xc7)](_0x5479ff,_0x3f088c,_0x41b0af),localStorageFile(),_0x168fc9[_0x22f8c4(0x8e)](),_0x168fc9[_0x22f8c4(0x91)](),mgbaStorage['classList'][_0x22f8c4(0x91)]('opacity0');}},_0x168fc9[_0x1fd16b(0xad)]();};const _0x2b9616=document[_0x3b566b(0x9a)](_0x3b566b(0x87));_0x2b9616[_0x3b566b(0xbf)]=humanFileSize(a0_0x1753e3[_0x3b566b(0x96)](_0x5479ff)),_0x2b9616['classList']['add'](_0x3b566b(0xcb)),_0x3d9b34[_0x3b566b(0xc3)](_0x2b9616);}export function localStorageFile(){const _0x38b723=a0_0x5ce745,_0x39e02b=a0_0x1753e3[_0x38b723(0x97)](),_0x155753=a0_0x1753e3[_0x38b723(0xb4)](),_0x298a3d=a0_0x1753e3[_0x38b723(0xb7)](),_0x5c7d94=a0_0x1753e3['listCheat'](),_0xe74d19=a0_0x1753e3[_0x38b723(0xc1)](),_0x541248=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x19e0be of _0x541248){while(_0x19e0be[_0x38b723(0xb3)]){_0x19e0be[_0x38b723(0xca)]['remove']();}}for(const _0x276acb of _0x39e02b){createElementStorage(romsFile,_0x276acb,_0x38b723(0x85)+_0x276acb);}for(const _0x3474da of _0x298a3d){createElementStorage(statesFile,_0x3474da,_0x38b723(0x99)+_0x3474da);}for(const _0x510748 of _0x155753){createElementStorage(savesFile,_0x510748,_0x38b723(0x8b)+_0x510748);}for(const _0x9986cd of _0x5c7d94){createElementStorage(cheatsFile,_0x9986cd,'/data/cheats/'+_0x9986cd);}for(const _0x13d8e4 of _0xe74d19){createElementStorage(screenshotsFile,_0x13d8e4,_0x38b723(0xb1)+_0x13d8e4);}}document[a0_0x5ce745(0x95)]('DOMContentLoaded',function(){const _0x3bd1f3=a0_0x5ce745;upLoadFile['addEventListener'](_0x3bd1f3(0x89),function(){const _0x59c2de=_0x3bd1f3,_0x4ed12b=upLoadFile[_0x59c2de(0xa4)][0x0][_0x59c2de(0xbc)];if(_0x4ed12b['endsWith'](_0x59c2de(0x86)))a0_0x1753e3[_0x59c2de(0x9b)](upLoadFile);else _0x4ed12b[_0x59c2de(0xa6)](_0x59c2de(0xa1))||_0x4ed12b['endsWith']('.gbc')||_0x4ed12b[_0x59c2de(0xa6)](_0x59c2de(0xbb))?a0_0x1753e3['uploadGame'](upLoadFile):a0_0x1753e3[_0x59c2de(0x9e)](upLoadFile);}),openLocalStorage[_0x3bd1f3(0x95)](_0x3bd1f3(0xbd),function(){const _0x1ec04a=_0x3bd1f3,_0x588a80=localStorage[_0x1ec04a(0xb0)](_0x1ec04a(0xc5));storage[_0x1ec04a(0x7c)][_0x1ec04a(0x91)](_0x1ec04a(0xba)),intro[_0x1ec04a(0x7c)][_0x1ec04a(0xb5)](_0x1ec04a(0xba)),ingame['classList'][_0x1ec04a(0xb5)](_0x1ec04a(0xba)),_0x588a80===null||_0x588a80===''?(dropboxRestore[_0x1ec04a(0x7c)][_0x1ec04a(0x91)](_0x1ec04a(0x93)),dropboxBackup[_0x1ec04a(0x7c)]['remove']('active'),dropboxCloud['classList']['remove']('active')):(dropboxRestore['classList'][_0x1ec04a(0xb5)](_0x1ec04a(0x93)),dropboxBackup[_0x1ec04a(0x7c)][_0x1ec04a(0xb5)](_0x1ec04a(0x93)),dropboxCloud[_0x1ec04a(0x7c)][_0x1ec04a(0xb5)](_0x1ec04a(0x93)));}),setTimeout(()=>{localStorageFile();},0xbb8);});