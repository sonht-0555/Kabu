const a0_0x2042de=a0_0x41f4;(function(_0x1ee79e,_0x346e1d){const _0x3be16b=a0_0x41f4,_0x40608e=_0x1ee79e();while(!![]){try{const _0x217fbd=-parseInt(_0x3be16b(0x1b1))/0x1+parseInt(_0x3be16b(0x1da))/0x2*(parseInt(_0x3be16b(0x1f2))/0x3)+-parseInt(_0x3be16b(0x1ba))/0x4+-parseInt(_0x3be16b(0x1bb))/0x5*(-parseInt(_0x3be16b(0x1b5))/0x6)+parseInt(_0x3be16b(0x1bf))/0x7+parseInt(_0x3be16b(0x1ce))/0x8+-parseInt(_0x3be16b(0x1d4))/0x9;if(_0x217fbd===_0x346e1d)break;else _0x40608e['push'](_0x40608e['shift']());}catch(_0x176ae6){_0x40608e['push'](_0x40608e['shift']());}}}(a0_0x1455,0x3d2e4));import*as a0_0x161352 from'./main.js';function a0_0x1455(){const _0xf2f71c=['rom','GiB','statesFile','storage','KiB','1680651JfFYHW','dialog','prompt','downloadFile','_imageState','classList','900WpHNEz','appendChild','firstChild','mib','addEventListener','uploadFile','/data/screenshots/','length','showModal','rename','/data/games/','slice','onclose','textContent','uId','active','/data/saves/','home','Delete\x20this\x20file?','listGame','close','remove','disable','ZiB','3327JmbHQu','createElement','DOMContentLoaded','YiB','flex-1','add','getElementById','listScreenshot','.gba','290898KGQmnv','div','span','change','18kEKrYd','rom-item','abs','onclick','mgba-storage','1155668fZaoOO','389275yHgUUA','download','screenshotsFile','gap-10','404845PpsMeD','actionDiv','savesFile','right','lastChild','setItem','/data/states/','_dateState','opacity0','PiB','replace','romsFile','listCheat','removeItem','getItem','1813600UVPvce'];a0_0x1455=function(){return _0xf2f71c;};return a0_0x1455();}const mgbaStorage=document[a0_0x2042de(0x1ae)](a0_0x2042de(0x1b9)),savesFile=document[a0_0x2042de(0x1ae)](a0_0x2042de(0x1c1)),romsFile=document[a0_0x2042de(0x1ae)](a0_0x2042de(0x1ca)),statesFile=document[a0_0x2042de(0x1ae)](a0_0x2042de(0x1d1)),screenshotsFile=document[a0_0x2042de(0x1ae)](a0_0x2042de(0x1bd));function a0_0x41f4(_0x32d7cc,_0x467eaf){const _0x145547=a0_0x1455();return a0_0x41f4=function(_0x41f4f0,_0x22bd5e){_0x41f4f0=_0x41f4f0-0x1ae;let _0x4c8444=_0x145547[_0x41f4f0];return _0x4c8444;},a0_0x41f4(_0x32d7cc,_0x467eaf);}function humanFileSize(_0x30ebe0,_0x41199b=![],_0x119e71=0x1){const _0x123930=a0_0x2042de,_0x4346cb=_0x41199b?0x3e8:0x400,_0x3be56d=_0x41199b?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x123930(0x1d3),'MiB',_0x123930(0x1d0),'TiB',_0x123930(0x1c8),'EiB',_0x123930(0x1f1),_0x123930(0x1f5)];let _0x447d15=-0x1;do{_0x30ebe0/=_0x4346cb,++_0x447d15;}while(Math[_0x123930(0x1b7)](_0x30ebe0)>=_0x4346cb&&_0x447d15<_0x3be56d[_0x123930(0x1e1)]-0x1);return _0x30ebe0['toFixed'](_0x119e71)+'\x20'+_0x3be56d[_0x447d15];}function createElementStorage(_0x458549,_0x119dcd,_0x233b6d){const _0x5dfb11=a0_0x2042de,_0x466f64=document[_0x5dfb11(0x1f3)](_0x5dfb11(0x1b2));_0x466f64['classList'][_0x5dfb11(0x1f7)](_0x5dfb11(0x1f6),_0x5dfb11(0x1b6),_0x5dfb11(0x1cf)),_0x458549[_0x5dfb11(0x1db)](_0x466f64);const _0x43382b=document['createElement'](_0x5dfb11(0x1b3));_0x43382b[_0x5dfb11(0x1e7)]=_0x119dcd,_0x43382b[_0x5dfb11(0x1d9)][_0x5dfb11(0x1f7)]('flex-1'),_0x466f64[_0x5dfb11(0x1db)](_0x43382b),_0x43382b[_0x5dfb11(0x1b8)]=()=>{const _0x39f93a=_0x5dfb11,_0x3cfd54=document[_0x39f93a(0x1f3)](_0x39f93a(0x1d5));_0x3cfd54[_0x39f93a(0x1e6)]=()=>_0x3cfd54[_0x39f93a(0x1ef)](),_0x458549[_0x39f93a(0x1db)](_0x3cfd54);const _0x90ada6=document[_0x39f93a(0x1f3)](_0x39f93a(0x1b2));_0x90ada6[_0x39f93a(0x1d9)][_0x39f93a(0x1f7)](_0x39f93a(0x1d2),_0x39f93a(0x1c2),_0x39f93a(0x1be)),_0x3cfd54['appendChild'](_0x90ada6);const _0x418863=document['createElement'](_0x39f93a(0x1b2));_0x418863[_0x39f93a(0x1d9)]['add'](_0x39f93a(0x1eb),'bc',_0x39f93a(0x1f6)),_0x90ada6[_0x39f93a(0x1db)](_0x418863);const _0x493621=document[_0x39f93a(0x1f3)](_0x39f93a(0x1b2));_0x493621[_0x39f93a(0x1d9)][_0x39f93a(0x1f7)](_0x39f93a(0x1f6)),_0x90ada6[_0x39f93a(0x1db)](_0x493621);const _0x458440=document[_0x39f93a(0x1f3)](_0x39f93a(0x1b2));_0x458440[_0x39f93a(0x1d9)]['add'](_0x39f93a(0x1f6)),_0x90ada6['appendChild'](_0x458440);const _0x3f18e7=document[_0x39f93a(0x1f3)](_0x39f93a(0x1b2));_0x3f18e7[_0x39f93a(0x1d9)][_0x39f93a(0x1f7)](_0x39f93a(0x1f6)),_0x90ada6['appendChild'](_0x3f18e7),mgbaStorage['classList'][_0x39f93a(0x1f7)](_0x39f93a(0x1c7)),_0x418863[_0x39f93a(0x1b8)]=()=>{const _0x44cc03=_0x39f93a;_0x3cfd54['close'](),_0x3cfd54[_0x44cc03(0x1ef)](),mgbaStorage[_0x44cc03(0x1d9)][_0x44cc03(0x1ef)]('opacity0');};const _0x33c092=document[_0x39f93a(0x1f3)](_0x39f93a(0x1b2));_0x33c092['classList'][_0x39f93a(0x1f7)](_0x39f93a(0x1f6),_0x39f93a(0x1b6),'hw','cw'),_0x33c092[_0x39f93a(0x1e7)]=_0x119dcd,_0x3cfd54['appendChild'](_0x33c092);const _0x2fcc3d=document[_0x39f93a(0x1f3)]('div');_0x2fcc3d[_0x39f93a(0x1d9)]['add'](_0x39f93a(0x1c0),'hw','cw','gap-16'),_0x3cfd54[_0x39f93a(0x1db)](_0x2fcc3d);const _0x5ef348=document[_0x39f93a(0x1f3)](_0x39f93a(0x1b2));_0x5ef348[_0x39f93a(0x1d9)]['add'](_0x39f93a(0x1bc),'bc'),_0x2fcc3d['appendChild'](_0x5ef348),_0x5ef348[_0x39f93a(0x1b8)]=()=>{const _0x3da33d=_0x39f93a;a0_0x161352[_0x3da33d(0x1d7)](_0x233b6d,_0x119dcd);};const _0x1bf9e6=document[_0x39f93a(0x1f3)](_0x39f93a(0x1b2));_0x1bf9e6[_0x39f93a(0x1d9)][_0x39f93a(0x1f7)]('delete','bc'),_0x2fcc3d[_0x39f93a(0x1db)](_0x1bf9e6),_0x1bf9e6['onclick']=async()=>{const _0x53851b=_0x39f93a;if(window['confirm'](_0x53851b(0x1ec)+_0x119dcd)){const _0x746a46=_0x119dcd['replace'](/\....$/,_0x53851b(0x1b0));a0_0x161352['deleteFile'](_0x233b6d),localStorage[_0x53851b(0x1cc)](_0x746a46+_0x53851b(0x1c6)+_0x119dcd[_0x53851b(0x1e5)](-0x1)),localStorage['removeItem'](_0x746a46+'_imageState'+_0x119dcd[_0x53851b(0x1e5)](-0x1)),localStorageFile(),_0x3cfd54[_0x53851b(0x1ee)](),_0x3cfd54[_0x53851b(0x1ef)](),mgbaStorage[_0x53851b(0x1d9)][_0x53851b(0x1ef)](_0x53851b(0x1c7));}};const _0x28629c=document[_0x39f93a(0x1f3)]('div');_0x28629c['classList']['add'](_0x39f93a(0x1e3),'bc'),_0x2fcc3d['appendChild'](_0x28629c),_0x28629c[_0x39f93a(0x1b8)]=async()=>{const _0x467c7f=_0x39f93a,_0x44670b=window[_0x467c7f(0x1d6)]('Edit\x20filename',_0x119dcd);if(_0x44670b!==null){const _0x394852=_0x119dcd['replace'](/\....$/,_0x467c7f(0x1b0)),_0x5d90d1=_0x44670b[_0x467c7f(0x1c9)](/\....$/,_0x467c7f(0x1b0)),_0x5c8452=_0x394852+'_dateState'+_0x119dcd['slice'](-0x1),_0x5b5723=_0x394852+_0x467c7f(0x1d8)+_0x119dcd[_0x467c7f(0x1e5)](-0x1),_0x40c038=_0x5d90d1+_0x467c7f(0x1c6)+_0x44670b[_0x467c7f(0x1e5)](-0x1),_0x47a31d=_0x5d90d1+_0x467c7f(0x1d8)+_0x44670b[_0x467c7f(0x1e5)](-0x1),_0x327521=localStorage['getItem'](_0x5c8452),_0x323ecb=localStorage[_0x467c7f(0x1cd)](_0x5b5723);_0x327521!==null&&(localStorage[_0x467c7f(0x1c4)](_0x40c038,_0x327521),localStorage['removeItem'](_0x5c8452)),_0x323ecb!==null&&(localStorage[_0x467c7f(0x1c4)](_0x47a31d,_0x323ecb),localStorage[_0x467c7f(0x1cc)](_0x5b5723)),a0_0x161352['editFile'](_0x233b6d,_0x119dcd,_0x44670b),localStorageFile(),_0x3cfd54[_0x467c7f(0x1ee)](),_0x3cfd54[_0x467c7f(0x1ef)](),mgbaStorage[_0x467c7f(0x1d9)]['remove'](_0x467c7f(0x1c7));}},_0x3cfd54[_0x39f93a(0x1e2)]();};const _0x5c7250=document[_0x5dfb11(0x1f3)](_0x5dfb11(0x1b3));_0x5c7250[_0x5dfb11(0x1e7)]=humanFileSize(a0_0x161352['fileSize'](_0x233b6d)),_0x5c7250[_0x5dfb11(0x1d9)][_0x5dfb11(0x1f7)](_0x5dfb11(0x1dd)),_0x466f64[_0x5dfb11(0x1db)](_0x5c7250);}export function localStorageFile(){const _0x1efa30=a0_0x2042de,_0x471380=a0_0x161352[_0x1efa30(0x1ed)](),_0x48d24c=a0_0x161352['listSave'](),_0x28cc10=a0_0x161352['listState'](),_0x33683e=a0_0x161352[_0x1efa30(0x1cb)](),_0x2bc73c=a0_0x161352[_0x1efa30(0x1af)](),_0x458f91=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x28d96e of _0x458f91){while(_0x28d96e[_0x1efa30(0x1dc)]){_0x28d96e[_0x1efa30(0x1c3)][_0x1efa30(0x1ef)]();}}for(const _0x58ac6e of _0x471380){createElementStorage(romsFile,_0x58ac6e,_0x1efa30(0x1e4)+_0x58ac6e);}for(const _0x558d13 of _0x28cc10){createElementStorage(statesFile,_0x558d13,_0x1efa30(0x1c5)+_0x558d13);}for(const _0x447856 of _0x48d24c){createElementStorage(savesFile,_0x447856,_0x1efa30(0x1ea)+_0x447856);}for(const _0x236bea of _0x33683e){createElementStorage(cheatsFile,_0x236bea,'/data/cheats/'+_0x236bea);}for(const _0x5dd51 of _0x2bc73c){createElementStorage(screenshotsFile,_0x5dd51,_0x1efa30(0x1e0)+_0x5dd51);}}document['addEventListener'](a0_0x2042de(0x1f4),function(){const _0x135613=a0_0x2042de;upLoadFile[_0x135613(0x1de)](_0x135613(0x1b4),function(){const _0x119cfe=_0x135613;a0_0x161352[_0x119cfe(0x1df)](upLoadFile);}),openLocalStorage['addEventListener']('click',function(){const _0x4c76b4=_0x135613,_0x338a2a=localStorage[_0x4c76b4(0x1cd)](_0x4c76b4(0x1e8));storage[_0x4c76b4(0x1d9)][_0x4c76b4(0x1ef)](_0x4c76b4(0x1f0)),intro['classList'][_0x4c76b4(0x1f7)]('disable'),ingame[_0x4c76b4(0x1d9)][_0x4c76b4(0x1f7)](_0x4c76b4(0x1f0)),_0x338a2a===null||_0x338a2a===''?(dropboxRestore[_0x4c76b4(0x1d9)][_0x4c76b4(0x1ef)](_0x4c76b4(0x1e9)),dropboxBackup['classList'][_0x4c76b4(0x1ef)](_0x4c76b4(0x1e9)),dropboxCloud[_0x4c76b4(0x1d9)]['remove'](_0x4c76b4(0x1e9))):(dropboxRestore[_0x4c76b4(0x1d9)][_0x4c76b4(0x1f7)](_0x4c76b4(0x1e9)),dropboxBackup[_0x4c76b4(0x1d9)][_0x4c76b4(0x1f7)]('active'),dropboxCloud[_0x4c76b4(0x1d9)][_0x4c76b4(0x1f7)](_0x4c76b4(0x1e9)));}),setTimeout(()=>{localStorageFile();},0xbb8);});