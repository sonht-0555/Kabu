const a0_0x3aab3d=a0_0x2f7b;function a0_0x3507(){const _0x38f0d7=['_imageState','/data/states/','rename','5694597bHWadf','7960568WRnzWv','TiB','/data/screenshots/','onclick','states','close','getItem','statesFile','ZiB','_dateState','YiB','362082sCIiyZ','GiB','replace','active','listFiles','click','home','change','appendChild','slice','opacity0','savesFile','actionDiv','textContent','4SXefhl','36BxJLJJ','1417335qDQUPG','right','rom','878130PgxwLW','EiB','rom-item','abs','classList','Edit\x20filename','toFixed','games','260343rlPZmj','7922215ZgYUmd','/data/saves/','div','uId','Delete\x20this\x20file?','2CFrXBQ','length','uploadFile','romsFile','screenshotsFile','removeItem','delete','saves','20btBEgf','8oIICsP','flex-1','createElement','mgba-storage','/data/cheats/','dialog','span','downloadFile','lastChild','add','remove','gap-10','MiB','getElementById','addEventListener','showModal','fileSize','disable','gap-16','.gba'];a0_0x3507=function(){return _0x38f0d7;};return a0_0x3507();}(function(_0x42338f,_0x5d8258){const _0xb85ab9=a0_0x2f7b,_0x360795=_0x42338f();while(!![]){try{const _0x53a3a8=-parseInt(_0xb85ab9(0x1bc))/0x1*(-parseInt(_0xb85ab9(0x1c2))/0x2)+-parseInt(_0xb85ab9(0x1a1))/0x3+-parseInt(_0xb85ab9(0x1af))/0x4*(-parseInt(_0xb85ab9(0x1b1))/0x5)+parseInt(_0xb85ab9(0x1b4))/0x6+-parseInt(_0xb85ab9(0x1bd))/0x7*(-parseInt(_0xb85ab9(0x1cb))/0x8)+-parseInt(_0xb85ab9(0x195))/0x9*(-parseInt(_0xb85ab9(0x1ca))/0xa)+parseInt(_0xb85ab9(0x196))/0xb*(-parseInt(_0xb85ab9(0x1b0))/0xc);if(_0x53a3a8===_0x5d8258)break;else _0x360795['push'](_0x360795['shift']());}catch(_0x2dca27){_0x360795['push'](_0x360795['shift']());}}}(a0_0x3507,0xc23e2));import*as a0_0xb6510e from'./main.js';function a0_0x2f7b(_0x17c196,_0x4f3bfb){const _0x350772=a0_0x3507();return a0_0x2f7b=function(_0x2f7b3e,_0x2123da){_0x2f7b3e=_0x2f7b3e-0x181;let _0x165563=_0x350772[_0x2f7b3e];return _0x165563;},a0_0x2f7b(_0x17c196,_0x4f3bfb);}const mgbaStorage=document[a0_0x3aab3d(0x18b)](a0_0x3aab3d(0x181)),savesFile=document[a0_0x3aab3d(0x18b)](a0_0x3aab3d(0x1ac)),romsFile=document['getElementById'](a0_0x3aab3d(0x1c5)),statesFile=document[a0_0x3aab3d(0x18b)](a0_0x3aab3d(0x19d)),screenshotsFile=document[a0_0x3aab3d(0x18b)](a0_0x3aab3d(0x1c6));function humanFileSize(_0x175962,_0x1e71bb=![],_0x1f6f30=0x1){const _0x58f18c=a0_0x3aab3d,_0x3de1ca=_0x1e71bb?0x3e8:0x400,_0x1eec05=_0x1e71bb?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x58f18c(0x18a),_0x58f18c(0x1a2),_0x58f18c(0x197),'PiB',_0x58f18c(0x1b5),_0x58f18c(0x19e),_0x58f18c(0x1a0)];let _0x1c6255=-0x1;do{_0x175962/=_0x3de1ca,++_0x1c6255;}while(Math[_0x58f18c(0x1b7)](_0x175962)>=_0x3de1ca&&_0x1c6255<_0x1eec05[_0x58f18c(0x1c3)]-0x1);return _0x175962[_0x58f18c(0x1ba)](_0x1f6f30)+'\x20'+_0x1eec05[_0x1c6255];}function createElementStorage(_0x47e2ae,_0x54170e,_0x1be72c){const _0x4d39fb=a0_0x3aab3d,_0x75df63=document[_0x4d39fb(0x1cd)]('div');_0x75df63[_0x4d39fb(0x1b8)]['add'](_0x4d39fb(0x1cc),_0x4d39fb(0x1b6),_0x4d39fb(0x1b3)),_0x47e2ae[_0x4d39fb(0x1a9)](_0x75df63);const _0x37170d=document['createElement'](_0x4d39fb(0x184));_0x37170d[_0x4d39fb(0x1ae)]=_0x54170e,_0x37170d[_0x4d39fb(0x1b8)][_0x4d39fb(0x187)]('flex-1'),_0x75df63['appendChild'](_0x37170d),_0x37170d['onclick']=()=>{const _0x34c9a1=_0x4d39fb,_0x5a6745=document[_0x34c9a1(0x1cd)](_0x34c9a1(0x183));_0x5a6745['onclose']=()=>_0x5a6745[_0x34c9a1(0x188)](),_0x47e2ae['appendChild'](_0x5a6745);const _0x4b16c2=document[_0x34c9a1(0x1cd)](_0x34c9a1(0x1bf));_0x4b16c2[_0x34c9a1(0x1b8)]['add']('storage',_0x34c9a1(0x1b2),_0x34c9a1(0x189)),_0x5a6745[_0x34c9a1(0x1a9)](_0x4b16c2);const _0x4dabbf=document[_0x34c9a1(0x1cd)](_0x34c9a1(0x1bf));_0x4dabbf['classList'][_0x34c9a1(0x187)](_0x34c9a1(0x1a7),'bc',_0x34c9a1(0x1cc)),_0x4b16c2[_0x34c9a1(0x1a9)](_0x4dabbf);const _0x585c6f=document[_0x34c9a1(0x1cd)]('div');_0x585c6f[_0x34c9a1(0x1b8)][_0x34c9a1(0x187)]('flex-1'),_0x4b16c2[_0x34c9a1(0x1a9)](_0x585c6f);const _0x21fae3=document[_0x34c9a1(0x1cd)]('div');_0x21fae3[_0x34c9a1(0x1b8)][_0x34c9a1(0x187)](_0x34c9a1(0x1cc)),_0x4b16c2['appendChild'](_0x21fae3);const _0xfda3c2=document[_0x34c9a1(0x1cd)](_0x34c9a1(0x1bf));_0xfda3c2['classList']['add'](_0x34c9a1(0x1cc)),_0x4b16c2['appendChild'](_0xfda3c2),mgbaStorage[_0x34c9a1(0x1b8)][_0x34c9a1(0x187)](_0x34c9a1(0x1ab)),_0x4dabbf['onclick']=()=>{const _0x51d888=_0x34c9a1;_0x5a6745['close'](),_0x5a6745['remove'](),mgbaStorage[_0x51d888(0x1b8)][_0x51d888(0x188)](_0x51d888(0x1ab));};const _0x466644=document[_0x34c9a1(0x1cd)]('div');_0x466644['classList'][_0x34c9a1(0x187)](_0x34c9a1(0x1cc),_0x34c9a1(0x1b6),'hw','cw'),_0x466644[_0x34c9a1(0x1ae)]=_0x54170e,_0x5a6745[_0x34c9a1(0x1a9)](_0x466644);const _0x5a96e5=document[_0x34c9a1(0x1cd)](_0x34c9a1(0x1bf));_0x5a96e5['classList'][_0x34c9a1(0x187)](_0x34c9a1(0x1ad),'hw','cw',_0x34c9a1(0x190)),_0x5a6745[_0x34c9a1(0x1a9)](_0x5a96e5);const _0x2fec25=document[_0x34c9a1(0x1cd)](_0x34c9a1(0x1bf));_0x2fec25['classList'][_0x34c9a1(0x187)]('download','bc'),_0x5a96e5['appendChild'](_0x2fec25),_0x2fec25['onclick']=()=>{const _0x4dd7c7=_0x34c9a1;a0_0xb6510e[_0x4dd7c7(0x185)](_0x1be72c,_0x54170e);};const _0x4f3938=document['createElement'](_0x34c9a1(0x1bf));_0x4f3938[_0x34c9a1(0x1b8)]['add'](_0x34c9a1(0x1c8),'bc'),_0x5a96e5[_0x34c9a1(0x1a9)](_0x4f3938),_0x4f3938['onclick']=async()=>{const _0x2b2ffb=_0x34c9a1;if(window['confirm'](_0x2b2ffb(0x1c1)+_0x54170e)){const _0x54f030=_0x54170e[_0x2b2ffb(0x1a3)](/\....$/,_0x2b2ffb(0x191));a0_0xb6510e['deleteFile'](_0x1be72c),localStorage['removeItem'](_0x54f030+_0x2b2ffb(0x19f)+_0x54170e['slice'](-0x1)),localStorage[_0x2b2ffb(0x1c7)](_0x54f030+_0x2b2ffb(0x192)+_0x54170e[_0x2b2ffb(0x1aa)](-0x1)),localStorageFile(),_0x5a6745[_0x2b2ffb(0x19b)](),_0x5a6745[_0x2b2ffb(0x188)](),mgbaStorage[_0x2b2ffb(0x1b8)][_0x2b2ffb(0x188)]('opacity0');}};const _0xd4fa56=document[_0x34c9a1(0x1cd)](_0x34c9a1(0x1bf));_0xd4fa56[_0x34c9a1(0x1b8)][_0x34c9a1(0x187)](_0x34c9a1(0x194),'bc'),_0x5a96e5[_0x34c9a1(0x1a9)](_0xd4fa56),_0xd4fa56[_0x34c9a1(0x199)]=async()=>{const _0x5a4c07=_0x34c9a1,_0x34f65c=window['prompt'](_0x5a4c07(0x1b9),_0x54170e);_0x34f65c!==null&&(a0_0xb6510e['editFile'](_0x1be72c,_0x54170e,_0x34f65c),localStorageFile(),_0x5a6745[_0x5a4c07(0x19b)](),_0x5a6745['remove'](),mgbaStorage[_0x5a4c07(0x1b8)][_0x5a4c07(0x188)](_0x5a4c07(0x1ab)));},_0x5a6745[_0x34c9a1(0x18d)]();};const _0x201887=document['createElement']('span');_0x201887['textContent']=humanFileSize(a0_0xb6510e[_0x4d39fb(0x18e)](_0x1be72c)),_0x201887[_0x4d39fb(0x1b8)][_0x4d39fb(0x187)]('mib'),_0x75df63['appendChild'](_0x201887);}export function localStorageFile(){const _0x52d679=a0_0x3aab3d,_0x2e0ec5=a0_0xb6510e[_0x52d679(0x1a5)](_0x52d679(0x1bb)),_0x5414b9=a0_0xb6510e[_0x52d679(0x1a5)](_0x52d679(0x1c9)),_0x4d37b2=a0_0xb6510e[_0x52d679(0x1a5)](_0x52d679(0x19a)),_0x1316f8=a0_0xb6510e['listFiles']('cheats'),_0x53d512=a0_0xb6510e[_0x52d679(0x1a5)]('screenshots'),_0x3a201e=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x272625 of _0x3a201e){while(_0x272625['firstChild']){_0x272625[_0x52d679(0x186)]['remove']();}}for(const _0x2330d4 of _0x2e0ec5){createElementStorage(romsFile,_0x2330d4,'/data/games/'+_0x2330d4);}for(const _0x447efb of _0x4d37b2){createElementStorage(statesFile,_0x447efb,_0x52d679(0x193)+_0x447efb);}for(const _0x7edc0 of _0x5414b9){createElementStorage(savesFile,_0x7edc0,_0x52d679(0x1be)+_0x7edc0);}for(const _0x4031ee of _0x1316f8){createElementStorage(cheatsFile,_0x4031ee,_0x52d679(0x182)+_0x4031ee);}for(const _0x4328f1 of _0x53d512){createElementStorage(screenshotsFile,_0x4328f1,_0x52d679(0x198)+_0x4328f1);}}document[a0_0x3aab3d(0x18c)]('DOMContentLoaded',function(){const _0x409fa5=a0_0x3aab3d;upLoadFile['addEventListener'](_0x409fa5(0x1a8),function(){const _0x41db45=_0x409fa5;a0_0xb6510e[_0x41db45(0x1c4)](upLoadFile);}),openLocalStorage[_0x409fa5(0x18c)](_0x409fa5(0x1a6),function(){const _0x2fe42a=_0x409fa5,_0xe2b7ee=localStorage[_0x2fe42a(0x19c)](_0x2fe42a(0x1c0));storage[_0x2fe42a(0x1b8)][_0x2fe42a(0x188)](_0x2fe42a(0x18f)),intro[_0x2fe42a(0x1b8)][_0x2fe42a(0x187)]('disable'),ingame[_0x2fe42a(0x1b8)][_0x2fe42a(0x187)](_0x2fe42a(0x18f)),_0xe2b7ee===null||_0xe2b7ee===''?(dropboxRestore[_0x2fe42a(0x1b8)][_0x2fe42a(0x188)](_0x2fe42a(0x1a4)),dropboxBackup[_0x2fe42a(0x1b8)]['remove'](_0x2fe42a(0x1a4)),dropboxCloud[_0x2fe42a(0x1b8)][_0x2fe42a(0x188)](_0x2fe42a(0x1a4))):(dropboxRestore['classList']['add'](_0x2fe42a(0x1a4)),dropboxBackup['classList'][_0x2fe42a(0x187)](_0x2fe42a(0x1a4)),dropboxCloud['classList'][_0x2fe42a(0x187)](_0x2fe42a(0x1a4)));}),setTimeout(()=>{localStorageFile();},0xbb8);});