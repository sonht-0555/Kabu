const a0_0x212fea=a0_0x35bb;(function(_0x1b867c,_0x1f8116){const _0x4483d4=a0_0x35bb,_0x58b0c7=_0x1b867c();while(!![]){try{const _0x1f3ece=parseInt(_0x4483d4(0x193))/0x1+parseInt(_0x4483d4(0x170))/0x2*(-parseInt(_0x4483d4(0x1ac))/0x3)+-parseInt(_0x4483d4(0x174))/0x4*(parseInt(_0x4483d4(0x19e))/0x5)+-parseInt(_0x4483d4(0x17c))/0x6+-parseInt(_0x4483d4(0x19f))/0x7+parseInt(_0x4483d4(0x18d))/0x8*(-parseInt(_0x4483d4(0x17d))/0x9)+parseInt(_0x4483d4(0x179))/0xa;if(_0x1f3ece===_0x1f8116)break;else _0x58b0c7['push'](_0x58b0c7['shift']());}catch(_0x46bc0c){_0x58b0c7['push'](_0x58b0c7['shift']());}}}(a0_0x4e37,0x69f29));import*as a0_0x3720c7 from'./main.js';const mgbaStorage=document[a0_0x212fea(0x171)](a0_0x212fea(0x172)),savesFile=document[a0_0x212fea(0x171)]('savesFile'),romsFile=document[a0_0x212fea(0x171)](a0_0x212fea(0x169)),statesFile=document[a0_0x212fea(0x171)](a0_0x212fea(0x1a9)),screenshotsFile=document[a0_0x212fea(0x171)](a0_0x212fea(0x19a));function humanFileSize(_0x1759fe,_0x3e67de=![],_0x31f942=0x1){const _0x409eb4=a0_0x212fea,_0x557d2d=_0x3e67de?0x3e8:0x400,_0x4fd9ed=_0x3e67de?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x409eb4(0x196),_0x409eb4(0x199),_0x409eb4(0x195),_0x409eb4(0x1ab),_0x409eb4(0x16c),'EiB',_0x409eb4(0x164),'YiB'];let _0x4f0f84=-0x1;do{_0x1759fe/=_0x557d2d,++_0x4f0f84;}while(Math['abs'](_0x1759fe)>=_0x557d2d&&_0x4f0f84<_0x4fd9ed[_0x409eb4(0x1a2)]-0x1);return _0x1759fe[_0x409eb4(0x188)](_0x31f942)+'\x20'+_0x4fd9ed[_0x4f0f84];}function createElementStorage(_0x27fb18,_0x3172af,_0x46da11){const _0x57f042=a0_0x212fea,_0x5b81e5=document[_0x57f042(0x186)](_0x57f042(0x192));_0x5b81e5[_0x57f042(0x1a0)][_0x57f042(0x194)](_0x57f042(0x19d),_0x57f042(0x175),_0x57f042(0x18b)),_0x27fb18['appendChild'](_0x5b81e5);const _0x465b83=document[_0x57f042(0x186)](_0x57f042(0x173));_0x465b83[_0x57f042(0x177)]=_0x3172af,_0x465b83[_0x57f042(0x1a0)]['add'](_0x57f042(0x19d)),_0x5b81e5['appendChild'](_0x465b83),_0x465b83[_0x57f042(0x1a3)]=()=>{const _0x5bdb76=_0x57f042,_0x30849f=document['createElement'](_0x5bdb76(0x1aa));_0x30849f['onclose']=()=>_0x30849f[_0x5bdb76(0x180)](),_0x27fb18[_0x5bdb76(0x1b3)](_0x30849f);const _0x5d0129=document[_0x5bdb76(0x186)](_0x5bdb76(0x192));_0x5d0129[_0x5bdb76(0x1a0)][_0x5bdb76(0x194)](_0x5bdb76(0x17f),_0x5bdb76(0x1b6),_0x5bdb76(0x18a)),_0x30849f[_0x5bdb76(0x1b3)](_0x5d0129);const _0x166a8f=document[_0x5bdb76(0x186)](_0x5bdb76(0x192));_0x166a8f[_0x5bdb76(0x1a0)][_0x5bdb76(0x194)](_0x5bdb76(0x183),'bc','flex-1'),_0x5d0129['appendChild'](_0x166a8f);const _0x3a27e6=document[_0x5bdb76(0x186)](_0x5bdb76(0x192));_0x3a27e6['classList'][_0x5bdb76(0x194)]('flex-1'),_0x5d0129[_0x5bdb76(0x1b3)](_0x3a27e6);const _0x23afd6=document[_0x5bdb76(0x186)](_0x5bdb76(0x192));_0x23afd6[_0x5bdb76(0x1a0)][_0x5bdb76(0x194)](_0x5bdb76(0x19d)),_0x5d0129['appendChild'](_0x23afd6);const _0x3a9a25=document[_0x5bdb76(0x186)]('div');_0x3a9a25[_0x5bdb76(0x1a0)][_0x5bdb76(0x194)](_0x5bdb76(0x19d)),_0x5d0129['appendChild'](_0x3a9a25),mgbaStorage['classList'][_0x5bdb76(0x194)](_0x5bdb76(0x1a6)),_0x166a8f[_0x5bdb76(0x1a3)]=()=>{const _0x38ef01=_0x5bdb76;_0x30849f[_0x38ef01(0x17a)](),_0x30849f[_0x38ef01(0x180)](),mgbaStorage[_0x38ef01(0x1a0)]['remove']('opacity0');};const _0x36bce0=document['createElement']('div');_0x36bce0['classList'][_0x5bdb76(0x194)]('flex-1','rom-item','hw','cw'),_0x36bce0[_0x5bdb76(0x177)]=_0x3172af,_0x30849f[_0x5bdb76(0x1b3)](_0x36bce0);const _0x42bbac=document[_0x5bdb76(0x186)](_0x5bdb76(0x192));_0x42bbac[_0x5bdb76(0x1a0)][_0x5bdb76(0x194)](_0x5bdb76(0x185),'hw','cw','gap-16'),_0x30849f[_0x5bdb76(0x1b3)](_0x42bbac);const _0xd58a6b=document['createElement'](_0x5bdb76(0x192));_0xd58a6b[_0x5bdb76(0x1a0)][_0x5bdb76(0x194)]('download','bc'),_0x42bbac[_0x5bdb76(0x1b3)](_0xd58a6b),_0xd58a6b[_0x5bdb76(0x1a3)]=()=>{const _0x51d9a5=_0x5bdb76;a0_0x3720c7[_0x51d9a5(0x1b0)](_0x46da11,_0x3172af);};const _0x187c78=document[_0x5bdb76(0x186)]('div');_0x187c78[_0x5bdb76(0x1a0)][_0x5bdb76(0x194)](_0x5bdb76(0x16f),'bc'),_0x42bbac[_0x5bdb76(0x1b3)](_0x187c78),_0x187c78[_0x5bdb76(0x1a3)]=async()=>{const _0x22f42a=_0x5bdb76;if(window[_0x22f42a(0x18c)]('Delete\x20this\x20file?'+_0x3172af)){const _0x48d6a4=_0x3172af['replace'](/\....$/,_0x22f42a(0x1a4));a0_0x3720c7[_0x22f42a(0x1ae)](_0x46da11),localStorage['removeItem'](_0x48d6a4+'_dateState'+_0x3172af['slice'](-0x1)),localStorage[_0x22f42a(0x18f)](_0x48d6a4+_0x22f42a(0x176)+_0x3172af[_0x22f42a(0x178)](-0x1)),localStorageFile(),_0x30849f[_0x22f42a(0x17a)](),_0x30849f[_0x22f42a(0x180)](),mgbaStorage['classList'][_0x22f42a(0x180)](_0x22f42a(0x1a6));}};const _0x720034=document[_0x5bdb76(0x186)](_0x5bdb76(0x192));_0x720034['classList']['add'](_0x5bdb76(0x184),'bc'),_0x42bbac[_0x5bdb76(0x1b3)](_0x720034),_0x720034['onclick']=async()=>{const _0x1f9dde=_0x5bdb76,_0x4350e9=window[_0x1f9dde(0x166)](_0x1f9dde(0x187),_0x3172af);if(_0x4350e9!==null){const _0x40084a=_0x3172af[_0x1f9dde(0x19b)](/\....$/,_0x1f9dde(0x1a4)),_0x39bfc0=_0x4350e9['replace'](/\....$/,_0x1f9dde(0x1a4)),_0x128c00=_0x40084a+'_dateState'+_0x3172af[_0x1f9dde(0x178)](-0x1),_0x5f0b4b=_0x40084a+_0x1f9dde(0x176)+_0x3172af[_0x1f9dde(0x178)](-0x1),_0xf08c82=_0x39bfc0+_0x1f9dde(0x19c)+_0x4350e9['slice'](-0x1),_0x85adb9=_0x39bfc0+_0x1f9dde(0x176)+_0x4350e9[_0x1f9dde(0x178)](-0x1),_0x546246=localStorage[_0x1f9dde(0x16e)](_0x128c00),_0x5ccaf6=localStorage[_0x1f9dde(0x16e)](_0x5f0b4b);_0x546246!==null&&(localStorage['setItem'](_0xf08c82,_0x546246),localStorage[_0x1f9dde(0x18f)](_0x128c00)),_0x5ccaf6!==null&&(localStorage[_0x1f9dde(0x16d)](_0x85adb9,_0x5ccaf6),localStorage[_0x1f9dde(0x18f)](_0x5f0b4b)),a0_0x3720c7[_0x1f9dde(0x168)](_0x46da11,_0x3172af,_0x4350e9),localStorageFile(),_0x30849f[_0x1f9dde(0x17a)](),_0x30849f[_0x1f9dde(0x180)](),mgbaStorage[_0x1f9dde(0x1a0)][_0x1f9dde(0x180)](_0x1f9dde(0x1a6));}},_0x30849f['showModal']();};const _0x54e688=document[_0x57f042(0x186)](_0x57f042(0x173));_0x54e688[_0x57f042(0x177)]=humanFileSize(a0_0x3720c7[_0x57f042(0x167)](_0x46da11)),_0x54e688[_0x57f042(0x1a0)]['add']('mib'),_0x5b81e5[_0x57f042(0x1b3)](_0x54e688);}function a0_0x4e37(){const _0x3b3513=['listCheat','name','home','rename','actionDiv','createElement','Edit\x20filename','toFixed','addEventListener','gap-10','rom','confirm','72UFhDld','endsWith','removeItem','.cheats','/data/saves/','div','388628AQzfEA','add','GiB','KiB','/data/cheats/','listState','MiB','screenshotsFile','replace','_dateState','flex-1','15SajFQV','830851iTLIep','classList','active','length','onclick','.gba','firstChild','opacity0','/data/states/','files','statesFile','dialog','TiB','1300845zopPWI','/data/games/','deleteFile','change','downloadFile','listSave','uploadGame','appendChild','DOMContentLoaded','.gbc','right','uploadSavSta','ZiB','uId','prompt','fileSize','editFile','romsFile','listGame','disable','PiB','setItem','getItem','delete','4QHodVS','getElementById','mgba-storage','span','235444awINBR','rom-item','_imageState','textContent','slice','23311660wvPyYW','close','/data/screenshots/','5031186mhRLic','284796uJfUTr','.bc','storage','remove'];a0_0x4e37=function(){return _0x3b3513;};return a0_0x4e37();}function a0_0x35bb(_0x10517f,_0x48e0bb){const _0x4e3704=a0_0x4e37();return a0_0x35bb=function(_0x35bbff,_0x50b744){_0x35bbff=_0x35bbff-0x164;let _0x17158d=_0x4e3704[_0x35bbff];return _0x17158d;},a0_0x35bb(_0x10517f,_0x48e0bb);}export function localStorageFile(){const _0x432b02=a0_0x212fea,_0x4166de=a0_0x3720c7[_0x432b02(0x16a)](),_0x5f1988=a0_0x3720c7[_0x432b02(0x1b1)](),_0x10b8bf=a0_0x3720c7[_0x432b02(0x198)](),_0x3b7388=a0_0x3720c7[_0x432b02(0x181)](),_0x190384=a0_0x3720c7['listScreenshot'](),_0x406d67=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x2e934a of _0x406d67){while(_0x2e934a[_0x432b02(0x1a5)]){_0x2e934a['lastChild'][_0x432b02(0x180)]();}}for(const _0x3009aa of _0x4166de){createElementStorage(romsFile,_0x3009aa,_0x432b02(0x1ad)+_0x3009aa);}for(const _0x121e2a of _0x10b8bf){createElementStorage(statesFile,_0x121e2a,_0x432b02(0x1a7)+_0x121e2a);}for(const _0x2c7b52 of _0x5f1988){createElementStorage(savesFile,_0x2c7b52,_0x432b02(0x191)+_0x2c7b52);}for(const _0x5ed570 of _0x3b7388){createElementStorage(cheatsFile,_0x5ed570,_0x432b02(0x197)+_0x5ed570);}for(const _0x2ec221 of _0x190384){createElementStorage(screenshotsFile,_0x2ec221,_0x432b02(0x17b)+_0x2ec221);}}document['addEventListener'](a0_0x212fea(0x1b4),function(){const _0xdfa479=a0_0x212fea;upLoadFile['addEventListener'](_0xdfa479(0x1af),function(){const _0x100048=_0xdfa479,_0x5582b4=upLoadFile[_0x100048(0x1a8)][0x0][_0x100048(0x182)];if(_0x5582b4[_0x100048(0x18e)](_0x100048(0x190)))a0_0x3720c7['uploadCheat'](upLoadFile);else _0x5582b4[_0x100048(0x18e)](_0x100048(0x1a4))||_0x5582b4[_0x100048(0x18e)](_0x100048(0x1b5))||_0x5582b4[_0x100048(0x18e)](_0x100048(0x17e))?a0_0x3720c7[_0x100048(0x1b2)](upLoadFile):a0_0x3720c7[_0x100048(0x1b7)](upLoadFile);}),openLocalStorage[_0xdfa479(0x189)]('click',function(){const _0x3d51a5=_0xdfa479,_0x5f5291=localStorage['getItem'](_0x3d51a5(0x165));storage['classList'][_0x3d51a5(0x180)](_0x3d51a5(0x16b)),intro[_0x3d51a5(0x1a0)]['add'](_0x3d51a5(0x16b)),ingame['classList'][_0x3d51a5(0x194)](_0x3d51a5(0x16b)),_0x5f5291===null||_0x5f5291===''?(dropboxRestore['classList'][_0x3d51a5(0x180)](_0x3d51a5(0x1a1)),dropboxBackup[_0x3d51a5(0x1a0)][_0x3d51a5(0x180)](_0x3d51a5(0x1a1)),dropboxCloud[_0x3d51a5(0x1a0)][_0x3d51a5(0x180)](_0x3d51a5(0x1a1))):(dropboxRestore[_0x3d51a5(0x1a0)][_0x3d51a5(0x194)](_0x3d51a5(0x1a1)),dropboxBackup[_0x3d51a5(0x1a0)][_0x3d51a5(0x194)](_0x3d51a5(0x1a1)),dropboxCloud[_0x3d51a5(0x1a0)][_0x3d51a5(0x194)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});