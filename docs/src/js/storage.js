const a0_0x291546=a0_0x4e4b;(function(_0x18070c,_0x379c4b){const _0x36b342=a0_0x4e4b,_0x1c72a0=_0x18070c();while(!![]){try{const _0x22a2fe=parseInt(_0x36b342(0x10b))/0x1+parseInt(_0x36b342(0xf8))/0x2+-parseInt(_0x36b342(0xe6))/0x3*(-parseInt(_0x36b342(0x110))/0x4)+-parseInt(_0x36b342(0xfc))/0x5*(parseInt(_0x36b342(0x10d))/0x6)+-parseInt(_0x36b342(0xe2))/0x7+parseInt(_0x36b342(0xe3))/0x8+-parseInt(_0x36b342(0x103))/0x9;if(_0x22a2fe===_0x379c4b)break;else _0x1c72a0['push'](_0x1c72a0['shift']());}catch(_0x2a989b){_0x1c72a0['push'](_0x1c72a0['shift']());}}}(a0_0x3c1d,0xbaa78));function a0_0x4e4b(_0x26911b,_0x1ed302){const _0x3c1dac=a0_0x3c1d();return a0_0x4e4b=function(_0x4e4b1e,_0x40b015){_0x4e4b1e=_0x4e4b1e-0xde;let _0x2001b8=_0x3c1dac[_0x4e4b1e];return _0x2001b8;},a0_0x4e4b(_0x26911b,_0x1ed302);}import*as a0_0x266b1b from'./main.js';const mgbaStorage=document[a0_0x291546(0xff)]('mgba-storage'),savesFile=document[a0_0x291546(0xff)](a0_0x291546(0x11a)),romsFile=document[a0_0x291546(0xff)](a0_0x291546(0x122)),statesFile=document[a0_0x291546(0xff)](a0_0x291546(0x118)),screenshotsFile=document[a0_0x291546(0xff)](a0_0x291546(0xf4));function humanFileSize(_0x37159f,_0x109851=![],_0x3f651e=0x1){const _0x18f637=a0_0x291546,_0x24576b=_0x109851?0x3e8:0x400,_0x123d6a=_0x109851?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x18f637(0x116),_0x18f637(0x107),_0x18f637(0xfa),_0x18f637(0xeb),_0x18f637(0xec),_0x18f637(0x104),_0x18f637(0xf1),_0x18f637(0x117)];let _0x139212=-0x1;do{_0x37159f/=_0x24576b,++_0x139212;}while(Math[_0x18f637(0x127)](_0x37159f)>=_0x24576b&&_0x139212<_0x123d6a[_0x18f637(0x124)]-0x1);return _0x37159f['toFixed'](_0x3f651e)+'\x20'+_0x123d6a[_0x139212];}function a0_0x3c1d(){const _0x3df175=['getItem','disable','slice','11835288bjLmhj','EiB','prompt','div','MiB','rename','rom','/data/saves/','530665qAnlDb','rom-item','12102CfHTHO','flex-1','onclick','233704oJUUkT','replace','/data/cheats/','download','.gba','right','KiB','YiB','statesFile','appendChild','savesFile','listState','showModal','listCheat','fileSize','home','span','close','romsFile','add','length','lastChild','downloadFile','abs','change','listGame','uploadFile','textContent','editFile','remove','active','opacity0','listSave','4601205PjjGDK','5034512irAjAm','firstChild','gap-10','39CtRXHr','classList','gap-16','removeItem','mib','TiB','PiB','click','createElement','/data/screenshots/','addEventListener','ZiB','DOMContentLoaded','_dateState','screenshotsFile','dialog','/data/states/','actionDiv','1667004XbFhyp','Delete\x20this\x20file?','GiB','listScreenshot','40sXGWsN','confirm','uId','getElementById'];a0_0x3c1d=function(){return _0x3df175;};return a0_0x3c1d();}function createElementStorage(_0x221c28,_0x5685b4,_0x1712c1){const _0x158efc=a0_0x291546,_0x55e218=document[_0x158efc(0xee)](_0x158efc(0x106));_0x55e218[_0x158efc(0xe7)][_0x158efc(0x123)](_0x158efc(0x10e),_0x158efc(0x10c),_0x158efc(0x109)),_0x221c28[_0x158efc(0x119)](_0x55e218);const _0x1fa33f=document['createElement']('span');_0x1fa33f[_0x158efc(0x12b)]=_0x5685b4,_0x1fa33f[_0x158efc(0xe7)][_0x158efc(0x123)](_0x158efc(0x10e)),_0x55e218[_0x158efc(0x119)](_0x1fa33f),_0x1fa33f[_0x158efc(0x10f)]=()=>{const _0x2e4fdf=_0x158efc,_0x884510=document['createElement'](_0x2e4fdf(0xf5));_0x884510['onclose']=()=>_0x884510[_0x2e4fdf(0xde)](),_0x221c28[_0x2e4fdf(0x119)](_0x884510);const _0x301cd9=document['createElement'](_0x2e4fdf(0x106));_0x301cd9[_0x2e4fdf(0xe7)][_0x2e4fdf(0x123)]('storage',_0x2e4fdf(0x115),_0x2e4fdf(0xe5)),_0x884510[_0x2e4fdf(0x119)](_0x301cd9);const _0x3b413c=document['createElement'](_0x2e4fdf(0x106));_0x3b413c[_0x2e4fdf(0xe7)][_0x2e4fdf(0x123)](_0x2e4fdf(0x11f),'bc',_0x2e4fdf(0x10e)),_0x301cd9['appendChild'](_0x3b413c);const _0x3ee492=document[_0x2e4fdf(0xee)](_0x2e4fdf(0x106));_0x3ee492[_0x2e4fdf(0xe7)][_0x2e4fdf(0x123)]('flex-1'),_0x301cd9[_0x2e4fdf(0x119)](_0x3ee492);const _0xf987d0=document[_0x2e4fdf(0xee)]('div');_0xf987d0[_0x2e4fdf(0xe7)][_0x2e4fdf(0x123)](_0x2e4fdf(0x10e)),_0x301cd9[_0x2e4fdf(0x119)](_0xf987d0);const _0x5d757a=document[_0x2e4fdf(0xee)](_0x2e4fdf(0x106));_0x5d757a[_0x2e4fdf(0xe7)][_0x2e4fdf(0x123)](_0x2e4fdf(0x10e)),_0x301cd9[_0x2e4fdf(0x119)](_0x5d757a),mgbaStorage[_0x2e4fdf(0xe7)]['add']('opacity0'),_0x3b413c[_0x2e4fdf(0x10f)]=()=>{const _0x4a1a73=_0x2e4fdf;_0x884510[_0x4a1a73(0x121)](),_0x884510[_0x4a1a73(0xde)](),mgbaStorage[_0x4a1a73(0xe7)][_0x4a1a73(0xde)]('opacity0');};const _0x1de6cc=document[_0x2e4fdf(0xee)](_0x2e4fdf(0x106));_0x1de6cc[_0x2e4fdf(0xe7)][_0x2e4fdf(0x123)](_0x2e4fdf(0x10e),'rom-item','hw','cw'),_0x1de6cc[_0x2e4fdf(0x12b)]=_0x5685b4,_0x884510[_0x2e4fdf(0x119)](_0x1de6cc);const _0x4b53ae=document['createElement']('div');_0x4b53ae[_0x2e4fdf(0xe7)]['add'](_0x2e4fdf(0xf7),'hw','cw',_0x2e4fdf(0xe8)),_0x884510['appendChild'](_0x4b53ae);const _0x31d0d5=document[_0x2e4fdf(0xee)](_0x2e4fdf(0x106));_0x31d0d5[_0x2e4fdf(0xe7)][_0x2e4fdf(0x123)](_0x2e4fdf(0x113),'bc'),_0x4b53ae[_0x2e4fdf(0x119)](_0x31d0d5),_0x31d0d5[_0x2e4fdf(0x10f)]=()=>{const _0x57aafd=_0x2e4fdf;a0_0x266b1b[_0x57aafd(0x126)](_0x1712c1,_0x5685b4);};const _0x2b59e8=document[_0x2e4fdf(0xee)]('div');_0x2b59e8[_0x2e4fdf(0xe7)][_0x2e4fdf(0x123)]('delete','bc'),_0x4b53ae[_0x2e4fdf(0x119)](_0x2b59e8),_0x2b59e8['onclick']=async()=>{const _0x562fab=_0x2e4fdf;if(window[_0x562fab(0xfd)](_0x562fab(0xf9)+_0x5685b4)){const _0x26853e=_0x5685b4[_0x562fab(0x111)](/\....$/,_0x562fab(0x114));a0_0x266b1b['deleteFile'](_0x1712c1),localStorage[_0x562fab(0xe9)](_0x26853e+_0x562fab(0xf3)+_0x5685b4[_0x562fab(0x102)](-0x1)),localStorage[_0x562fab(0xe9)](_0x26853e+'_imageState'+_0x5685b4[_0x562fab(0x102)](-0x1)),localStorageFile(),_0x884510[_0x562fab(0x121)](),_0x884510['remove'](),mgbaStorage[_0x562fab(0xe7)]['remove'](_0x562fab(0xe0));}};const _0x20f079=document[_0x2e4fdf(0xee)]('div');_0x20f079[_0x2e4fdf(0xe7)][_0x2e4fdf(0x123)](_0x2e4fdf(0x108),'bc'),_0x4b53ae['appendChild'](_0x20f079),_0x20f079['onclick']=async()=>{const _0x10376d=_0x2e4fdf,_0x396ff1=window[_0x10376d(0x105)]('Edit\x20filename',_0x5685b4);_0x396ff1!==null&&(a0_0x266b1b[_0x10376d(0x12c)](_0x1712c1,_0x5685b4,_0x396ff1),localStorageFile(),_0x884510['close'](),_0x884510[_0x10376d(0xde)](),mgbaStorage[_0x10376d(0xe7)][_0x10376d(0xde)](_0x10376d(0xe0)));},_0x884510[_0x2e4fdf(0x11c)]();};const _0x3015c6=document[_0x158efc(0xee)](_0x158efc(0x120));_0x3015c6[_0x158efc(0x12b)]=humanFileSize(a0_0x266b1b[_0x158efc(0x11e)](_0x1712c1)),_0x3015c6[_0x158efc(0xe7)][_0x158efc(0x123)](_0x158efc(0xea)),_0x55e218['appendChild'](_0x3015c6);}export function localStorageFile(){const _0x1e42c8=a0_0x291546,_0x51e960=a0_0x266b1b[_0x1e42c8(0x129)](),_0x2a7515=a0_0x266b1b[_0x1e42c8(0xe1)](),_0x598ae5=a0_0x266b1b[_0x1e42c8(0x11b)](),_0x1cbc21=a0_0x266b1b[_0x1e42c8(0x11d)](),_0x5c6757=a0_0x266b1b[_0x1e42c8(0xfb)](),_0x4972ac=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x482146 of _0x4972ac){while(_0x482146[_0x1e42c8(0xe4)]){_0x482146[_0x1e42c8(0x125)]['remove']();}}for(const _0x22fff6 of _0x51e960){createElementStorage(romsFile,_0x22fff6,'/data/games/'+_0x22fff6);}for(const _0x5c6816 of _0x598ae5){createElementStorage(statesFile,_0x5c6816,_0x1e42c8(0xf6)+_0x5c6816);}for(const _0x423718 of _0x2a7515){createElementStorage(savesFile,_0x423718,_0x1e42c8(0x10a)+_0x423718);}for(const _0x5938e3 of _0x1cbc21){createElementStorage(cheatsFile,_0x5938e3,_0x1e42c8(0x112)+_0x5938e3);}for(const _0x260260 of _0x5c6757){createElementStorage(screenshotsFile,_0x260260,_0x1e42c8(0xef)+_0x260260);}}document[a0_0x291546(0xf0)](a0_0x291546(0xf2),function(){const _0x255e28=a0_0x291546;upLoadFile[_0x255e28(0xf0)](_0x255e28(0x128),function(){const _0x36f3b7=_0x255e28;a0_0x266b1b[_0x36f3b7(0x12a)](upLoadFile);}),openLocalStorage[_0x255e28(0xf0)](_0x255e28(0xed),function(){const _0x2a0fbc=_0x255e28,_0x17c2f4=localStorage[_0x2a0fbc(0x100)](_0x2a0fbc(0xfe));storage[_0x2a0fbc(0xe7)][_0x2a0fbc(0xde)](_0x2a0fbc(0x101)),intro[_0x2a0fbc(0xe7)][_0x2a0fbc(0x123)](_0x2a0fbc(0x101)),ingame[_0x2a0fbc(0xe7)][_0x2a0fbc(0x123)](_0x2a0fbc(0x101)),_0x17c2f4===null||_0x17c2f4===''?(dropboxRestore['classList']['remove']('active'),dropboxBackup['classList'][_0x2a0fbc(0xde)](_0x2a0fbc(0xdf)),dropboxCloud['classList'][_0x2a0fbc(0xde)](_0x2a0fbc(0xdf))):(dropboxRestore[_0x2a0fbc(0xe7)][_0x2a0fbc(0x123)]('active'),dropboxBackup[_0x2a0fbc(0xe7)][_0x2a0fbc(0x123)](_0x2a0fbc(0xdf)),dropboxCloud[_0x2a0fbc(0xe7)]['add'](_0x2a0fbc(0xdf)));}),setTimeout(()=>{localStorageFile();},0xbb8);});