const a0_0x33c0bd=a0_0x5c8a;(function(_0x455bdd,_0x4f07f1){const _0x44dddb=a0_0x5c8a,_0x166e51=_0x455bdd();while(!![]){try{const _0x555c24=parseInt(_0x44dddb(0x1bd))/0x1+-parseInt(_0x44dddb(0x185))/0x2*(-parseInt(_0x44dddb(0x1a1))/0x3)+parseInt(_0x44dddb(0x1c8))/0x4+parseInt(_0x44dddb(0x1ac))/0x5+parseInt(_0x44dddb(0x189))/0x6*(parseInt(_0x44dddb(0x1c1))/0x7)+parseInt(_0x44dddb(0x194))/0x8*(parseInt(_0x44dddb(0x1a5))/0x9)+-parseInt(_0x44dddb(0x1ba))/0xa;if(_0x555c24===_0x4f07f1)break;else _0x166e51['push'](_0x166e51['shift']());}catch(_0x1a8153){_0x166e51['push'](_0x166e51['shift']());}}}(a0_0x1817,0xaf80d));function a0_0x1817(){const _0x404fd5=['mgba-storage','screenshotsFile','close','click','onclose','MiB','EiB','removeItem','states','disable','/data/saves/','showModal','45435uSVcnh','_imageState','confirm','getElementById','433467orkrXF','add','active','savesFile','prompt','opacity0','/data/states/','2701595FKhDVD','span','toFixed','delete','abs','onclick','dialog','ZiB','statesFile','/data/games/','PiB','YiB','fileSize','DOMContentLoaded','23191420klLtvC','rename','classList','1238396EIraOf','listFiles','createElement','cheats','7EdVqeP','Edit\x20filename','/data/cheats/','change','games','download','textContent','1723840IHRGXr','downloadFile','saves','lastChild','replace','rom-item','firstChild','66iQKIZl','appendChild','uId','remove','1104324YRDvFn','flex-1','div','right','GiB','uploadFile','romsFile','addEventListener','/data/screenshots/','actionDiv','slice','24ugEYEl'];a0_0x1817=function(){return _0x404fd5;};return a0_0x1817();}import*as a0_0x313e12 from'./main.js';const mgbaStorage=document[a0_0x33c0bd(0x1a4)](a0_0x33c0bd(0x195)),savesFile=document[a0_0x33c0bd(0x1a4)](a0_0x33c0bd(0x1a8)),romsFile=document[a0_0x33c0bd(0x1a4)](a0_0x33c0bd(0x18f)),statesFile=document[a0_0x33c0bd(0x1a4)](a0_0x33c0bd(0x1b4)),screenshotsFile=document[a0_0x33c0bd(0x1a4)](a0_0x33c0bd(0x196));function humanFileSize(_0x47cc6d,_0x411d6c=![],_0x5b04e2=0x1){const _0x72eec5=a0_0x33c0bd,_0x154256=_0x411d6c?0x3e8:0x400,_0x5890f8=_0x411d6c?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x72eec5(0x19a),_0x72eec5(0x18d),'TiB',_0x72eec5(0x1b6),_0x72eec5(0x19b),_0x72eec5(0x1b3),_0x72eec5(0x1b7)];let _0x5d9df8=-0x1;do{_0x47cc6d/=_0x154256,++_0x5d9df8;}while(Math[_0x72eec5(0x1b0)](_0x47cc6d)>=_0x154256&&_0x5d9df8<_0x5890f8['length']-0x1);return _0x47cc6d[_0x72eec5(0x1ae)](_0x5b04e2)+'\x20'+_0x5890f8[_0x5d9df8];}function createElementStorage(_0x45cb4a,_0x389226,_0x333ccc){const _0x513c9d=a0_0x33c0bd,_0x301965=document[_0x513c9d(0x1bf)](_0x513c9d(0x18b));_0x301965[_0x513c9d(0x1bc)][_0x513c9d(0x1a6)](_0x513c9d(0x18a),_0x513c9d(0x183),'rom'),_0x45cb4a[_0x513c9d(0x186)](_0x301965);const _0x5415bd=document[_0x513c9d(0x1bf)](_0x513c9d(0x1ad));_0x5415bd['textContent']=_0x389226,_0x5415bd[_0x513c9d(0x1bc)][_0x513c9d(0x1a6)](_0x513c9d(0x18a)),_0x301965['appendChild'](_0x5415bd),_0x5415bd[_0x513c9d(0x1b1)]=()=>{const _0x5608f5=_0x513c9d,_0x22830c=document['createElement'](_0x5608f5(0x1b2));_0x22830c[_0x5608f5(0x199)]=()=>_0x22830c[_0x5608f5(0x188)](),_0x45cb4a['appendChild'](_0x22830c);const _0xb36b8e=document[_0x5608f5(0x1bf)](_0x5608f5(0x18b));_0xb36b8e[_0x5608f5(0x1bc)][_0x5608f5(0x1a6)]('storage',_0x5608f5(0x18c),'gap-10'),_0x22830c['appendChild'](_0xb36b8e);const _0x4d59cb=document[_0x5608f5(0x1bf)]('div');_0x4d59cb[_0x5608f5(0x1bc)][_0x5608f5(0x1a6)]('home','bc','flex-1'),_0xb36b8e['appendChild'](_0x4d59cb);const _0xf7348b=document[_0x5608f5(0x1bf)](_0x5608f5(0x18b));_0xf7348b['classList'][_0x5608f5(0x1a6)]('flex-1'),_0xb36b8e['appendChild'](_0xf7348b);const _0x57f7e4=document[_0x5608f5(0x1bf)](_0x5608f5(0x18b));_0x57f7e4['classList'][_0x5608f5(0x1a6)](_0x5608f5(0x18a)),_0xb36b8e['appendChild'](_0x57f7e4);const _0x63b6db=document['createElement'](_0x5608f5(0x18b));_0x63b6db[_0x5608f5(0x1bc)][_0x5608f5(0x1a6)]('flex-1'),_0xb36b8e[_0x5608f5(0x186)](_0x63b6db),mgbaStorage[_0x5608f5(0x1bc)]['add'](_0x5608f5(0x1aa)),_0x4d59cb[_0x5608f5(0x1b1)]=()=>{const _0x363a83=_0x5608f5;_0x22830c['close'](),_0x22830c['remove'](),mgbaStorage[_0x363a83(0x1bc)][_0x363a83(0x188)](_0x363a83(0x1aa));};const _0x2278f3=document[_0x5608f5(0x1bf)]('div');_0x2278f3['classList']['add'](_0x5608f5(0x18a),_0x5608f5(0x183),'hw','cw'),_0x2278f3[_0x5608f5(0x1c7)]=_0x389226,_0x22830c[_0x5608f5(0x186)](_0x2278f3);const _0x46d63d=document['createElement'](_0x5608f5(0x18b));_0x46d63d[_0x5608f5(0x1bc)]['add'](_0x5608f5(0x192),'hw','cw','gap-16'),_0x22830c[_0x5608f5(0x186)](_0x46d63d);const _0x39269a=document[_0x5608f5(0x1bf)](_0x5608f5(0x18b));_0x39269a[_0x5608f5(0x1bc)][_0x5608f5(0x1a6)](_0x5608f5(0x1c6),'bc'),_0x46d63d[_0x5608f5(0x186)](_0x39269a),_0x39269a[_0x5608f5(0x1b1)]=()=>{const _0x436359=_0x5608f5;a0_0x313e12[_0x436359(0x1c9)](_0x333ccc,_0x389226);};const _0x112c7e=document[_0x5608f5(0x1bf)]('div');_0x112c7e[_0x5608f5(0x1bc)]['add'](_0x5608f5(0x1af),'bc'),_0x46d63d[_0x5608f5(0x186)](_0x112c7e),_0x112c7e[_0x5608f5(0x1b1)]=async()=>{const _0x46feef=_0x5608f5;if(window[_0x46feef(0x1a3)]('Delete\x20this\x20file?'+_0x389226)){const _0x5a73c5=_0x389226[_0x46feef(0x182)](/\....$/,'.gba');a0_0x313e12['deleteFile'](_0x333ccc),localStorage['removeItem'](_0x5a73c5+'_dateState'+_0x389226[_0x46feef(0x193)](-0x1)),localStorage[_0x46feef(0x19c)](_0x5a73c5+_0x46feef(0x1a2)+_0x389226[_0x46feef(0x193)](-0x1)),localStorageFile(),_0x22830c[_0x46feef(0x197)](),_0x22830c['remove'](),mgbaStorage['classList'][_0x46feef(0x188)]('opacity0');}};const _0x149b85=document[_0x5608f5(0x1bf)]('div');_0x149b85[_0x5608f5(0x1bc)][_0x5608f5(0x1a6)](_0x5608f5(0x1bb),'bc'),_0x46d63d[_0x5608f5(0x186)](_0x149b85),_0x149b85[_0x5608f5(0x1b1)]=async()=>{const _0x27b44d=_0x5608f5,_0x5f4d93=window[_0x27b44d(0x1a9)](_0x27b44d(0x1c2),_0x389226);_0x5f4d93!==null&&(a0_0x313e12['editFile'](_0x333ccc,_0x389226,_0x5f4d93),localStorageFile(),_0x22830c[_0x27b44d(0x197)](),_0x22830c[_0x27b44d(0x188)](),mgbaStorage[_0x27b44d(0x1bc)][_0x27b44d(0x188)](_0x27b44d(0x1aa)));},_0x22830c[_0x5608f5(0x1a0)]();};const _0x47cb94=document['createElement'](_0x513c9d(0x1ad));_0x47cb94[_0x513c9d(0x1c7)]=humanFileSize(a0_0x313e12[_0x513c9d(0x1b8)](_0x333ccc)),_0x47cb94[_0x513c9d(0x1bc)][_0x513c9d(0x1a6)]('mib'),_0x301965[_0x513c9d(0x186)](_0x47cb94);}function a0_0x5c8a(_0x313c57,_0x175b1e){const _0x181737=a0_0x1817();return a0_0x5c8a=function(_0x5c8a74,_0x4652b3){_0x5c8a74=_0x5c8a74-0x181;let _0x127955=_0x181737[_0x5c8a74];return _0x127955;},a0_0x5c8a(_0x313c57,_0x175b1e);}export function localStorageFile(){const _0x550a68=a0_0x33c0bd,_0xed1c6f=a0_0x313e12[_0x550a68(0x1be)](_0x550a68(0x1c5)),_0x220093=a0_0x313e12[_0x550a68(0x1be)](_0x550a68(0x1ca)),_0x493cfb=a0_0x313e12[_0x550a68(0x1be)](_0x550a68(0x19d)),_0x3fef83=a0_0x313e12['listFiles'](_0x550a68(0x1c0)),_0x418ae9=a0_0x313e12[_0x550a68(0x1be)]('screenshots'),_0x18a19a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x456346 of _0x18a19a){while(_0x456346[_0x550a68(0x184)]){_0x456346[_0x550a68(0x181)][_0x550a68(0x188)]();}}for(const _0x5ad00d of _0xed1c6f){createElementStorage(romsFile,_0x5ad00d,_0x550a68(0x1b5)+_0x5ad00d);}for(const _0x391ed2 of _0x493cfb){createElementStorage(statesFile,_0x391ed2,_0x550a68(0x1ab)+_0x391ed2);}for(const _0x44ecc4 of _0x220093){createElementStorage(savesFile,_0x44ecc4,_0x550a68(0x19f)+_0x44ecc4);}for(const _0x5aa444 of _0x3fef83){createElementStorage(cheatsFile,_0x5aa444,_0x550a68(0x1c3)+_0x5aa444);}for(const _0x210a36 of _0x418ae9){createElementStorage(screenshotsFile,_0x210a36,_0x550a68(0x191)+_0x210a36);}}document['addEventListener'](a0_0x33c0bd(0x1b9),function(){const _0x197cc5=a0_0x33c0bd;upLoadFile[_0x197cc5(0x190)](_0x197cc5(0x1c4),function(){const _0x34bdae=_0x197cc5;a0_0x313e12[_0x34bdae(0x18e)](upLoadFile);}),openLocalStorage[_0x197cc5(0x190)](_0x197cc5(0x198),function(){const _0x55822c=_0x197cc5,_0x5bfc8a=localStorage['getItem'](_0x55822c(0x187));storage[_0x55822c(0x1bc)][_0x55822c(0x188)](_0x55822c(0x19e)),intro[_0x55822c(0x1bc)]['add'](_0x55822c(0x19e)),ingame[_0x55822c(0x1bc)][_0x55822c(0x1a6)](_0x55822c(0x19e)),_0x5bfc8a===null||_0x5bfc8a===''?(dropboxRestore[_0x55822c(0x1bc)][_0x55822c(0x188)](_0x55822c(0x1a7)),dropboxBackup[_0x55822c(0x1bc)][_0x55822c(0x188)](_0x55822c(0x1a7)),dropboxCloud[_0x55822c(0x1bc)][_0x55822c(0x188)](_0x55822c(0x1a7))):(dropboxRestore[_0x55822c(0x1bc)][_0x55822c(0x1a6)](_0x55822c(0x1a7)),dropboxBackup[_0x55822c(0x1bc)][_0x55822c(0x1a6)](_0x55822c(0x1a7)),dropboxCloud[_0x55822c(0x1bc)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});