const a0_0x52f224=a0_0x4290;(function(_0x12420e,_0x1b6e09){const _0x2d3c7e=a0_0x4290,_0x5aac1d=_0x12420e();while(!![]){try{const _0x13aab9=-parseInt(_0x2d3c7e(0x115))/0x1*(parseInt(_0x2d3c7e(0x119))/0x2)+-parseInt(_0x2d3c7e(0x105))/0x3*(parseInt(_0x2d3c7e(0xfb))/0x4)+parseInt(_0x2d3c7e(0xf7))/0x5*(parseInt(_0x2d3c7e(0xe7))/0x6)+parseInt(_0x2d3c7e(0xf4))/0x7+parseInt(_0x2d3c7e(0x11c))/0x8*(-parseInt(_0x2d3c7e(0x106))/0x9)+parseInt(_0x2d3c7e(0xea))/0xa*(-parseInt(_0x2d3c7e(0x107))/0xb)+parseInt(_0x2d3c7e(0xf9))/0xc;if(_0x13aab9===_0x1b6e09)break;else _0x5aac1d['push'](_0x5aac1d['shift']());}catch(_0x5b258f){_0x5aac1d['push'](_0x5aac1d['shift']());}}}(a0_0x39f3,0x4317c));import*as a0_0x3b18bd from'./main.js';const mgbaStorage=document[a0_0x52f224(0xe8)](a0_0x52f224(0x126)),savesFile=document[a0_0x52f224(0xe8)]('savesFile'),romsFile=document['getElementById'](a0_0x52f224(0x111)),statesFile=document[a0_0x52f224(0xe8)](a0_0x52f224(0xf1)),screenshotsFile=document[a0_0x52f224(0xe8)](a0_0x52f224(0x109));function a0_0x4290(_0x4be581,_0x2cc568){const _0x39f322=a0_0x39f3();return a0_0x4290=function(_0x42906e,_0xc23316){_0x42906e=_0x42906e-0xe7;let _0x85a708=_0x39f322[_0x42906e];return _0x85a708;},a0_0x4290(_0x4be581,_0x2cc568);}function humanFileSize(_0x3dca95,_0x3945a8=![],_0x2d79a3=0x1){const _0x301865=a0_0x52f224,_0x4ef012=_0x3945a8?0x3e8:0x400,_0x419fc9=_0x3945a8?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x301865(0x112),_0x301865(0x12b),_0x301865(0xf2),_0x301865(0x116),_0x301865(0xed),_0x301865(0x110),'ZiB',_0x301865(0x11b)];let _0x1b89fb=-0x1;do{_0x3dca95/=_0x4ef012,++_0x1b89fb;}while(Math[_0x301865(0x129)](_0x3dca95)>=_0x4ef012&&_0x1b89fb<_0x419fc9[_0x301865(0xfe)]-0x1);return _0x3dca95['toFixed'](_0x2d79a3)+'\x20'+_0x419fc9[_0x1b89fb];}function createElementStorage(_0x2b2e84,_0x357fdf,_0x53e28f){const _0x7b33f4=a0_0x52f224,_0x2f9764=document[_0x7b33f4(0xef)](_0x7b33f4(0xfc));_0x2f9764[_0x7b33f4(0x12d)][_0x7b33f4(0x117)](_0x7b33f4(0xeb),_0x7b33f4(0x127),_0x7b33f4(0x122)),_0x2b2e84[_0x7b33f4(0x12a)](_0x2f9764);const _0x501eac=document[_0x7b33f4(0xef)](_0x7b33f4(0x125));_0x501eac[_0x7b33f4(0xfd)]=_0x357fdf,_0x501eac[_0x7b33f4(0x12d)][_0x7b33f4(0x117)](_0x7b33f4(0xeb)),_0x2f9764[_0x7b33f4(0x12a)](_0x501eac),_0x501eac[_0x7b33f4(0x104)]=()=>{const _0x2e95d0=_0x7b33f4,_0x59bf3a=document[_0x2e95d0(0xef)]('dialog');_0x59bf3a['onclose']=()=>_0x59bf3a[_0x2e95d0(0x10d)](),_0x2b2e84[_0x2e95d0(0x12a)](_0x59bf3a);const _0x4c3dd8=document[_0x2e95d0(0xef)](_0x2e95d0(0xfc));_0x4c3dd8['classList'][_0x2e95d0(0x117)](_0x2e95d0(0x121),'right',_0x2e95d0(0xec)),_0x59bf3a[_0x2e95d0(0x12a)](_0x4c3dd8);const _0x3fb51a=document[_0x2e95d0(0xef)](_0x2e95d0(0xfc));_0x3fb51a[_0x2e95d0(0x12d)][_0x2e95d0(0x117)](_0x2e95d0(0x108),'bc',_0x2e95d0(0xeb)),_0x4c3dd8[_0x2e95d0(0x12a)](_0x3fb51a);const _0x5d0101=document[_0x2e95d0(0xef)](_0x2e95d0(0xfc));_0x5d0101[_0x2e95d0(0x12d)][_0x2e95d0(0x117)](_0x2e95d0(0xeb)),_0x4c3dd8[_0x2e95d0(0x12a)](_0x5d0101);const _0x33e513=document[_0x2e95d0(0xef)](_0x2e95d0(0xfc));_0x33e513[_0x2e95d0(0x12d)]['add'](_0x2e95d0(0xeb)),_0x4c3dd8[_0x2e95d0(0x12a)](_0x33e513);const _0x3015fe=document[_0x2e95d0(0xef)](_0x2e95d0(0xfc));_0x3015fe[_0x2e95d0(0x12d)][_0x2e95d0(0x117)](_0x2e95d0(0xeb)),_0x4c3dd8['appendChild'](_0x3015fe),mgbaStorage[_0x2e95d0(0x12d)][_0x2e95d0(0x117)](_0x2e95d0(0x11f)),_0x3fb51a[_0x2e95d0(0x104)]=()=>{const _0x4dab25=_0x2e95d0;_0x59bf3a['close'](),_0x59bf3a[_0x4dab25(0x10d)](),mgbaStorage[_0x4dab25(0x12d)]['remove'](_0x4dab25(0x11f));};const _0x174a42=document[_0x2e95d0(0xef)]('div');_0x174a42[_0x2e95d0(0x12d)]['add'](_0x2e95d0(0xeb),_0x2e95d0(0x127),'hw','cw'),_0x174a42[_0x2e95d0(0xfd)]=_0x357fdf,_0x59bf3a[_0x2e95d0(0x12a)](_0x174a42);const _0x1f41b4=document[_0x2e95d0(0xef)](_0x2e95d0(0xfc));_0x1f41b4[_0x2e95d0(0x12d)][_0x2e95d0(0x117)]('actionDiv','hw','cw','gap-16'),_0x59bf3a[_0x2e95d0(0x12a)](_0x1f41b4);const _0x2f9616=document[_0x2e95d0(0xef)](_0x2e95d0(0xfc));_0x2f9616['classList']['add'](_0x2e95d0(0x120),'bc'),_0x1f41b4[_0x2e95d0(0x12a)](_0x2f9616),_0x2f9616['onclick']=()=>{const _0x2b26a4=_0x2e95d0;a0_0x3b18bd[_0x2b26a4(0x128)](_0x53e28f,_0x357fdf);};const _0x5cfdf9=document['createElement']('div');_0x5cfdf9[_0x2e95d0(0x12d)][_0x2e95d0(0x117)](_0x2e95d0(0x10a),'bc'),_0x1f41b4[_0x2e95d0(0x12a)](_0x5cfdf9),_0x5cfdf9[_0x2e95d0(0x104)]=async()=>{const _0x3cef3f=_0x2e95d0;if(window[_0x3cef3f(0x12c)]('Delete\x20this\x20file?'+_0x357fdf)){const _0x496d91=_0x357fdf[_0x3cef3f(0x100)](/\....$/,_0x3cef3f(0x124));a0_0x3b18bd[_0x3cef3f(0x10c)](_0x53e28f),localStorage[_0x3cef3f(0x12e)](_0x496d91+_0x3cef3f(0x11d)+_0x357fdf[_0x3cef3f(0xfa)](-0x1)),localStorage[_0x3cef3f(0x12e)](_0x496d91+'_imageState'+_0x357fdf[_0x3cef3f(0xfa)](-0x1)),localStorageFile(),_0x59bf3a[_0x3cef3f(0x10e)](),_0x59bf3a[_0x3cef3f(0x10d)](),mgbaStorage[_0x3cef3f(0x12d)][_0x3cef3f(0x10d)](_0x3cef3f(0x11f));}};const _0x58d18b=document['createElement'](_0x2e95d0(0xfc));_0x58d18b[_0x2e95d0(0x12d)][_0x2e95d0(0x117)]('rename','bc'),_0x1f41b4['appendChild'](_0x58d18b),_0x58d18b['onclick']=async()=>{const _0x138535=_0x2e95d0,_0x3131d6=window[_0x138535(0xf0)](_0x138535(0x101),_0x357fdf);if(_0x3131d6!==null){const _0x5091d6=_0x357fdf['replace'](/\....$/,'.gba'),_0x260aaa=_0x3131d6['replace'](/\....$/,'.gba'),_0x2b640a=_0x5091d6+'_dateState'+_0x357fdf[_0x138535(0xfa)](-0x1),_0x1c9b70=_0x5091d6+_0x138535(0xf6)+_0x357fdf['slice'](-0x1),_0x2340f7=_0x260aaa+'_dateState'+_0x3131d6[_0x138535(0xfa)](-0x1),_0x142df1=_0x260aaa+'_imageState'+_0x3131d6[_0x138535(0xfa)](-0x1),_0x1e15b9=localStorage[_0x138535(0xe9)](_0x2b640a),_0x291f63=localStorage[_0x138535(0xe9)](_0x1c9b70);_0x1e15b9!==null&&(localStorage['setItem'](_0x2340f7,_0x1e15b9),localStorage[_0x138535(0x12e)](_0x2b640a)),_0x291f63!==null&&(localStorage[_0x138535(0x102)](_0x142df1,_0x291f63),localStorage['removeItem'](_0x1c9b70)),a0_0x3b18bd[_0x138535(0x11e)](_0x53e28f,_0x357fdf,_0x3131d6),localStorageFile(),_0x59bf3a['close'](),_0x59bf3a[_0x138535(0x10d)](),mgbaStorage[_0x138535(0x12d)][_0x138535(0x10d)](_0x138535(0x11f));}},_0x59bf3a[_0x2e95d0(0xf5)]();};const _0x571033=document[_0x7b33f4(0xef)](_0x7b33f4(0x125));_0x571033[_0x7b33f4(0xfd)]=humanFileSize(a0_0x3b18bd[_0x7b33f4(0xf3)](_0x53e28f)),_0x571033['classList'][_0x7b33f4(0x117)](_0x7b33f4(0x113)),_0x2f9764['appendChild'](_0x571033);}export function localStorageFile(){const _0x561c66=a0_0x52f224,_0x17d9be=a0_0x3b18bd[_0x561c66(0xf8)](),_0x3c8c25=a0_0x3b18bd['listSave'](),_0x34a1b3=a0_0x3b18bd['listState'](),_0xb98217=a0_0x3b18bd['listCheat'](),_0x258318=a0_0x3b18bd[_0x561c66(0x123)](),_0x318cfc=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x370960 of _0x318cfc){while(_0x370960['firstChild']){_0x370960['lastChild'][_0x561c66(0x10d)]();}}for(const _0xa98c8e of _0x17d9be){createElementStorage(romsFile,_0xa98c8e,'/data/games/'+_0xa98c8e);}for(const _0x1bd956 of _0x34a1b3){createElementStorage(statesFile,_0x1bd956,'/data/states/'+_0x1bd956);}for(const _0x48449a of _0x3c8c25){createElementStorage(savesFile,_0x48449a,_0x561c66(0xee)+_0x48449a);}for(const _0xc39394 of _0xb98217){createElementStorage(cheatsFile,_0xc39394,_0x561c66(0x11a)+_0xc39394);}for(const _0x33afc0 of _0x258318){createElementStorage(screenshotsFile,_0x33afc0,_0x561c66(0x118)+_0x33afc0);}}function a0_0x39f3(){const _0x25fa4f=['active','deleteFile','remove','close','addEventListener','EiB','romsFile','KiB','mib','uId','2cVONsP','TiB','add','/data/screenshots/','24188apRQQD','/data/cheats/','YiB','48MoWtAT','_dateState','editFile','opacity0','download','storage','rom','listScreenshot','.gba','span','mgba-storage','rom-item','downloadFile','abs','appendChild','MiB','confirm','classList','removeItem','906hdAYwb','getElementById','getItem','20sKfnov','flex-1','gap-10','PiB','/data/saves/','createElement','prompt','statesFile','GiB','fileSize','3404205dsUgUP','showModal','_imageState','17145ePtblt','listGame','3612996aGGMGJ','slice','44jXldqE','div','textContent','length','disable','replace','Edit\x20filename','setItem','click','onclick','33483WBjxyT','713772AsgJfB','2241569jCsLQc','home','screenshotsFile','delete'];a0_0x39f3=function(){return _0x25fa4f;};return a0_0x39f3();}document['addEventListener']('DOMContentLoaded',function(){const _0x455292=a0_0x52f224;upLoadFile[_0x455292(0x10f)]('change',function(){a0_0x3b18bd['uploadFile'](upLoadFile);}),openLocalStorage[_0x455292(0x10f)](_0x455292(0x103),function(){const _0x29f716=_0x455292,_0x586836=localStorage[_0x29f716(0xe9)](_0x29f716(0x114));storage[_0x29f716(0x12d)][_0x29f716(0x10d)]('disable'),intro[_0x29f716(0x12d)][_0x29f716(0x117)](_0x29f716(0xff)),ingame[_0x29f716(0x12d)][_0x29f716(0x117)](_0x29f716(0xff)),_0x586836===null||_0x586836===''?(dropboxRestore[_0x29f716(0x12d)][_0x29f716(0x10d)](_0x29f716(0x10b)),dropboxBackup['classList'][_0x29f716(0x10d)](_0x29f716(0x10b)),dropboxCloud[_0x29f716(0x12d)][_0x29f716(0x10d)](_0x29f716(0x10b))):(dropboxRestore[_0x29f716(0x12d)][_0x29f716(0x117)](_0x29f716(0x10b)),dropboxBackup[_0x29f716(0x12d)][_0x29f716(0x117)]('active'),dropboxCloud['classList'][_0x29f716(0x117)](_0x29f716(0x10b)));}),setTimeout(()=>{localStorageFile();},0xbb8);});