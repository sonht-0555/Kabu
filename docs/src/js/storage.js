const a0_0x5a5b2f=a0_0x1d4e;(function(_0x20962d,_0xc8ae4b){const _0x492633=a0_0x1d4e,_0x4e310a=_0x20962d();while(!![]){try{const _0x23d197=-parseInt(_0x492633(0xe4))/0x1+parseInt(_0x492633(0xd2))/0x2*(parseInt(_0x492633(0xb3))/0x3)+parseInt(_0x492633(0xdb))/0x4+parseInt(_0x492633(0xa6))/0x5*(parseInt(_0x492633(0xab))/0x6)+-parseInt(_0x492633(0xbe))/0x7*(-parseInt(_0x492633(0xdc))/0x8)+parseInt(_0x492633(0xc7))/0x9*(parseInt(_0x492633(0xbc))/0xa)+-parseInt(_0x492633(0xe6))/0xb;if(_0x23d197===_0xc8ae4b)break;else _0x4e310a['push'](_0x4e310a['shift']());}catch(_0x18748d){_0x4e310a['push'](_0x4e310a['shift']());}}}(a0_0x5e8d,0x83978));import*as a0_0x218b2 from'./main.js';const mgbaStorage=document[a0_0x5a5b2f(0xd8)]('mgba-storage'),savesFile=document[a0_0x5a5b2f(0xd8)](a0_0x5a5b2f(0xed)),romsFile=document[a0_0x5a5b2f(0xd8)](a0_0x5a5b2f(0xe3)),statesFile=document[a0_0x5a5b2f(0xd8)](a0_0x5a5b2f(0xa4)),screenshotsFile=document[a0_0x5a5b2f(0xd8)](a0_0x5a5b2f(0xdd));function humanFileSize(_0x300919,_0x156bef=![],_0x3f5b77=0x1){const _0x35a285=a0_0x5a5b2f,_0x5c0aaa=_0x156bef?0x3e8:0x400,_0x12b3ee=_0x156bef?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x35a285(0xd5),_0x35a285(0xef),_0x35a285(0xe0),_0x35a285(0xc9),_0x35a285(0xb9),_0x35a285(0xa7),_0x35a285(0xb6),_0x35a285(0xcb)];let _0x37fd66=-0x1;do{_0x300919/=_0x5c0aaa,++_0x37fd66;}while(Math['abs'](_0x300919)>=_0x5c0aaa&&_0x37fd66<_0x12b3ee[_0x35a285(0xb1)]-0x1);return _0x300919[_0x35a285(0xa8)](_0x3f5b77)+'\x20'+_0x12b3ee[_0x37fd66];}function createElementStorage(_0x42b14c,_0x1530fe,_0x4024a4){const _0x14aad2=a0_0x5a5b2f,_0x32bc95=document[_0x14aad2(0xcc)](_0x14aad2(0xda));_0x32bc95[_0x14aad2(0xbf)][_0x14aad2(0xe5)](_0x14aad2(0xf1),'rom-item',_0x14aad2(0xd3)),_0x42b14c[_0x14aad2(0xb7)](_0x32bc95);const _0xddc320=document[_0x14aad2(0xcc)](_0x14aad2(0xd7));_0xddc320['textContent']=_0x1530fe,_0xddc320['classList']['add']('flex-1'),_0x32bc95[_0x14aad2(0xb7)](_0xddc320),_0xddc320[_0x14aad2(0xa9)]=()=>{const _0x3811cb=_0x14aad2,_0x36cde0=document['createElement']('dialog');_0x36cde0[_0x3811cb(0xe1)]=()=>_0x36cde0[_0x3811cb(0xb4)](),_0x42b14c[_0x3811cb(0xb7)](_0x36cde0);const _0xb53baf=document[_0x3811cb(0xcc)](_0x3811cb(0xda));_0xb53baf['classList'][_0x3811cb(0xe5)](_0x3811cb(0xe9),_0x3811cb(0xb8),_0x3811cb(0xc3)),_0x36cde0[_0x3811cb(0xb7)](_0xb53baf);const _0x13fa21=document[_0x3811cb(0xcc)](_0x3811cb(0xda));_0x13fa21[_0x3811cb(0xbf)][_0x3811cb(0xe5)](_0x3811cb(0xeb),'bc',_0x3811cb(0xf1)),_0xb53baf[_0x3811cb(0xb7)](_0x13fa21);const _0x411cea=document[_0x3811cb(0xcc)](_0x3811cb(0xda));_0x411cea[_0x3811cb(0xbf)][_0x3811cb(0xe5)](_0x3811cb(0xf1)),_0xb53baf[_0x3811cb(0xb7)](_0x411cea);const _0x22e992=document[_0x3811cb(0xcc)](_0x3811cb(0xda));_0x22e992[_0x3811cb(0xbf)][_0x3811cb(0xe5)]('flex-1'),_0xb53baf[_0x3811cb(0xb7)](_0x22e992);const _0xbb01df=document[_0x3811cb(0xcc)](_0x3811cb(0xda));_0xbb01df[_0x3811cb(0xbf)][_0x3811cb(0xe5)](_0x3811cb(0xf1)),_0xb53baf[_0x3811cb(0xb7)](_0xbb01df),mgbaStorage[_0x3811cb(0xbf)][_0x3811cb(0xe5)](_0x3811cb(0xd0)),_0x13fa21[_0x3811cb(0xa9)]=()=>{const _0x4b4889=_0x3811cb;_0x36cde0[_0x4b4889(0xaa)](),_0x36cde0[_0x4b4889(0xb4)](),mgbaStorage[_0x4b4889(0xbf)][_0x4b4889(0xb4)](_0x4b4889(0xd0));};const _0x135fd3=document[_0x3811cb(0xcc)](_0x3811cb(0xda));_0x135fd3[_0x3811cb(0xbf)][_0x3811cb(0xe5)]('flex-1',_0x3811cb(0xf0),'hw','cw'),_0x135fd3[_0x3811cb(0xa5)]=_0x1530fe,_0x36cde0[_0x3811cb(0xb7)](_0x135fd3);const _0x4c6b03=document[_0x3811cb(0xcc)]('div');_0x4c6b03['classList']['add'](_0x3811cb(0xaf),'hw','cw',_0x3811cb(0xac)),_0x36cde0['appendChild'](_0x4c6b03);const _0x530acc=document[_0x3811cb(0xcc)](_0x3811cb(0xda));_0x530acc[_0x3811cb(0xbf)][_0x3811cb(0xe5)](_0x3811cb(0xce),'bc'),_0x4c6b03[_0x3811cb(0xb7)](_0x530acc),_0x530acc[_0x3811cb(0xa9)]=()=>{const _0xeb6993=_0x3811cb;a0_0x218b2[_0xeb6993(0xc4)](_0x4024a4,_0x1530fe);};const _0x46229b=document[_0x3811cb(0xcc)]('div');_0x46229b[_0x3811cb(0xbf)][_0x3811cb(0xe5)](_0x3811cb(0xdf),'bc'),_0x4c6b03[_0x3811cb(0xb7)](_0x46229b),_0x46229b[_0x3811cb(0xa9)]=async()=>{const _0x1b24c4=_0x3811cb;if(window[_0x1b24c4(0xcd)](_0x1b24c4(0xcf)+_0x1530fe)){const _0x3caa0d=_0x1530fe[_0x1b24c4(0xc2)](/\....$/,_0x1b24c4(0xe7));a0_0x218b2[_0x1b24c4(0xb2)](_0x4024a4),localStorage['removeItem'](_0x3caa0d+_0x1b24c4(0xc1)+_0x1530fe['slice'](-0x1)),localStorage[_0x1b24c4(0xca)](_0x3caa0d+_0x1b24c4(0xad)+_0x1530fe['slice'](-0x1)),localStorageFile(),_0x36cde0[_0x1b24c4(0xaa)](),_0x36cde0['remove'](),mgbaStorage[_0x1b24c4(0xbf)][_0x1b24c4(0xb4)](_0x1b24c4(0xd0));}};const _0x4c3dce=document[_0x3811cb(0xcc)](_0x3811cb(0xda));_0x4c3dce['classList']['add'](_0x3811cb(0xae),'bc'),_0x4c6b03[_0x3811cb(0xb7)](_0x4c3dce),_0x4c3dce['onclick']=async()=>{const _0x4988c8=_0x3811cb,_0x577eef=window[_0x4988c8(0xc5)]('Edit\x20filename',_0x1530fe);if(_0x577eef!==null){const _0x5f5431=_0x1530fe[_0x4988c8(0xc2)](/\....$/,_0x4988c8(0xe7)),_0x52745f=_0x577eef[_0x4988c8(0xc2)](/\....$/,_0x4988c8(0xe7)),_0x4d6b44=_0x5f5431+'_dateState'+_0x1530fe[_0x4988c8(0xd9)](-0x1),_0x380213=_0x5f5431+_0x4988c8(0xad)+_0x1530fe[_0x4988c8(0xd9)](-0x1),_0x1b160d=_0x52745f+_0x4988c8(0xc1)+_0x577eef['slice'](-0x1),_0x1f25ea=_0x52745f+_0x4988c8(0xad)+_0x577eef[_0x4988c8(0xd9)](-0x1),_0xf747e0=localStorage[_0x4988c8(0xc8)](_0x4d6b44),_0x2e92cf=localStorage[_0x4988c8(0xc8)](_0x380213);_0xf747e0!==null&&(localStorage['setItem'](_0x1b160d,_0xf747e0),localStorage[_0x4988c8(0xca)](_0x4d6b44)),_0x2e92cf!==null&&(localStorage[_0x4988c8(0xec)](_0x1f25ea,_0x2e92cf),localStorage[_0x4988c8(0xca)](_0x380213)),a0_0x218b2[_0x4988c8(0xba)](_0x4024a4,_0x1530fe,_0x577eef),localStorageFile(),_0x36cde0[_0x4988c8(0xaa)](),_0x36cde0[_0x4988c8(0xb4)](),mgbaStorage[_0x4988c8(0xbf)]['remove'](_0x4988c8(0xd0));}},_0x36cde0['showModal']();};const _0x1ceb9b=document[_0x14aad2(0xcc)](_0x14aad2(0xd7));_0x1ceb9b[_0x14aad2(0xa5)]=humanFileSize(a0_0x218b2['fileSize'](_0x4024a4)),_0x1ceb9b['classList'][_0x14aad2(0xe5)]('mib'),_0x32bc95[_0x14aad2(0xb7)](_0x1ceb9b);}function a0_0x1d4e(_0x43c7a0,_0x42436b){const _0x5e8dee=a0_0x5e8d();return a0_0x1d4e=function(_0x1d4ef7,_0x1a537b){_0x1d4ef7=_0x1d4ef7-0xa4;let _0x156441=_0x5e8dee[_0x1d4ef7];return _0x156441;},a0_0x1d4e(_0x43c7a0,_0x42436b);}export function localStorageFile(){const _0x8588c0=a0_0x5a5b2f,_0x4bf5c9=a0_0x218b2[_0x8588c0(0xe2)](),_0x5b1a8e=a0_0x218b2['listSave'](),_0x1d8169=a0_0x218b2[_0x8588c0(0xea)](),_0x3e9955=a0_0x218b2[_0x8588c0(0xde)](),_0x3b011a=a0_0x218b2[_0x8588c0(0xc6)](),_0x364138=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xf73917 of _0x364138){while(_0xf73917[_0x8588c0(0xb5)]){_0xf73917[_0x8588c0(0xb0)][_0x8588c0(0xb4)]();}}for(const _0x41aa4b of _0x4bf5c9){createElementStorage(romsFile,_0x41aa4b,_0x8588c0(0xe8)+_0x41aa4b);}for(const _0x331a56 of _0x1d8169){createElementStorage(statesFile,_0x331a56,_0x8588c0(0xd1)+_0x331a56);}for(const _0x566fef of _0x5b1a8e){createElementStorage(savesFile,_0x566fef,'/data/saves/'+_0x566fef);}for(const _0x4840a3 of _0x3e9955){createElementStorage(cheatsFile,_0x4840a3,'/data/cheats/'+_0x4840a3);}for(const _0x54345b of _0x3b011a){createElementStorage(screenshotsFile,_0x54345b,_0x8588c0(0xbd)+_0x54345b);}}document[a0_0x5a5b2f(0xd6)]('DOMContentLoaded',function(){const _0x1cf2ed=a0_0x5a5b2f;upLoadFile[_0x1cf2ed(0xd6)](_0x1cf2ed(0xbb),function(){a0_0x218b2['uploadFile'](upLoadFile);}),openLocalStorage[_0x1cf2ed(0xd6)](_0x1cf2ed(0xee),function(){const _0x55770e=_0x1cf2ed,_0x1106f9=localStorage[_0x55770e(0xc8)]('uId');storage[_0x55770e(0xbf)]['remove'](_0x55770e(0xc0)),intro[_0x55770e(0xbf)]['add'](_0x55770e(0xc0)),ingame['classList']['add'](_0x55770e(0xc0)),_0x1106f9===null||_0x1106f9===''?(dropboxRestore[_0x55770e(0xbf)][_0x55770e(0xb4)]('active'),dropboxBackup['classList']['remove'](_0x55770e(0xd4)),dropboxCloud[_0x55770e(0xbf)][_0x55770e(0xb4)](_0x55770e(0xd4))):(dropboxRestore['classList'][_0x55770e(0xe5)](_0x55770e(0xd4)),dropboxBackup[_0x55770e(0xbf)][_0x55770e(0xe5)]('active'),dropboxCloud[_0x55770e(0xbf)][_0x55770e(0xe5)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x5e8d(){const _0x3fffac=['ZiB','appendChild','right','PiB','editFile','change','749240qJtAiV','/data/screenshots/','8071AjExzX','classList','disable','_dateState','replace','gap-10','downloadFile','prompt','listScreenshot','54FUgpwv','getItem','TiB','removeItem','YiB','createElement','confirm','download','Delete\x20this\x20file?','opacity0','/data/states/','346406tqidFf','rom','active','KiB','addEventListener','span','getElementById','slice','div','2648652ErAHES','2432XxnSXj','screenshotsFile','listCheat','delete','GiB','onclose','listGame','romsFile','1804KtJIPq','add','22671473oKlzzD','.gba','/data/games/','storage','listState','home','setItem','savesFile','click','MiB','rom-item','flex-1','statesFile','textContent','3100095jvPyoo','EiB','toFixed','onclick','close','6kUoRoU','gap-16','_imageState','rename','actionDiv','lastChild','length','deleteFile','9DdJKba','remove','firstChild'];a0_0x5e8d=function(){return _0x3fffac;};return a0_0x5e8d();}