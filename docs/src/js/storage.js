const a0_0x427188=a0_0x2f90;(function(_0x9daad6,_0x151545){const _0x48e8e4=a0_0x2f90,_0x1b2952=_0x9daad6();while(!![]){try{const _0x4732a5=-parseInt(_0x48e8e4(0x100))/0x1+parseInt(_0x48e8e4(0x114))/0x2*(-parseInt(_0x48e8e4(0x127))/0x3)+parseInt(_0x48e8e4(0x11f))/0x4+parseInt(_0x48e8e4(0x143))/0x5+-parseInt(_0x48e8e4(0x14a))/0x6*(-parseInt(_0x48e8e4(0x11d))/0x7)+parseInt(_0x48e8e4(0x129))/0x8+-parseInt(_0x48e8e4(0x12c))/0x9;if(_0x4732a5===_0x151545)break;else _0x1b2952['push'](_0x1b2952['shift']());}catch(_0xa30701){_0x1b2952['push'](_0x1b2952['shift']());}}}(a0_0x2d02,0x761a8));import*as a0_0x5d06e6 from'./main.js';function a0_0x2f90(_0x19b95c,_0x5364b4){const _0x2d0268=a0_0x2d02();return a0_0x2f90=function(_0x2f9037,_0x1205c5){_0x2f9037=_0x2f9037-0x100;let _0x44b4c7=_0x2d0268[_0x2f9037];return _0x44b4c7;},a0_0x2f90(_0x19b95c,_0x5364b4);}function a0_0x2d02(){const _0x4179a1=['lastChild','/data/screenshots/','download','2422595lfHQmE','close','storage','KiB','YiB','mgba-storage','slice','37140oOfDVE','_dateState','/data/cheats/','length','274378YKEuZM','downloadFile','deleteFile','removeItem','screenshotsFile','gap-16','savesFile','screenshots','delete','active','rom','TiB','PiB','showModal','games','romsFile','createElement','appendChild','onclick','firstChild','481790ceMLLM','div','prompt','getElementById','onclose','remove','mib','fileSize','opacity0','322NOKkxu','saves','1332976ibksqe','rom-item','cheats','span','/data/games/','toFixed','editFile','getItem','3vyOuDi','Delete\x20this\x20file?','1948472mEKHeO','rename','/data/states/','3123333EOKfpQ','states','/data/saves/','ZiB','confirm','actionDiv','add','Edit\x20filename','replace','GiB','textContent','classList','DOMContentLoaded','home','dialog','addEventListener','uploadFile','click','flex-1','listFiles'];a0_0x2d02=function(){return _0x4179a1;};return a0_0x2d02();}const mgbaStorage=document[a0_0x427188(0x117)](a0_0x427188(0x148)),savesFile=document['getElementById'](a0_0x427188(0x106)),romsFile=document[a0_0x427188(0x117)](a0_0x427188(0x10f)),statesFile=document[a0_0x427188(0x117)]('statesFile'),screenshotsFile=document[a0_0x427188(0x117)](a0_0x427188(0x104));function humanFileSize(_0x5b59b8,_0x4fafde=![],_0x3feacd=0x1){const _0x514881=a0_0x427188,_0x1b5a9c=_0x4fafde?0x3e8:0x400,_0x45e557=_0x4fafde?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x514881(0x146),'MiB',_0x514881(0x135),_0x514881(0x10b),_0x514881(0x10c),'EiB',_0x514881(0x12f),_0x514881(0x147)];let _0x3c37ad=-0x1;do{_0x5b59b8/=_0x1b5a9c,++_0x3c37ad;}while(Math['abs'](_0x5b59b8)>=_0x1b5a9c&&_0x3c37ad<_0x45e557[_0x514881(0x14d)]-0x1);return _0x5b59b8[_0x514881(0x124)](_0x3feacd)+'\x20'+_0x45e557[_0x3c37ad];}function createElementStorage(_0x19ff6e,_0x423875,_0x3b5d47){const _0x2592e2=a0_0x427188,_0x37f4ce=document['createElement'](_0x2592e2(0x115));_0x37f4ce[_0x2592e2(0x137)][_0x2592e2(0x132)](_0x2592e2(0x13e),_0x2592e2(0x120),_0x2592e2(0x10a)),_0x19ff6e[_0x2592e2(0x111)](_0x37f4ce);const _0x8a94cf=document[_0x2592e2(0x110)](_0x2592e2(0x122));_0x8a94cf[_0x2592e2(0x136)]=_0x423875,_0x8a94cf['classList'][_0x2592e2(0x132)](_0x2592e2(0x13e)),_0x37f4ce['appendChild'](_0x8a94cf),_0x8a94cf[_0x2592e2(0x112)]=()=>{const _0x44f821=_0x2592e2,_0x2cdd59=document['createElement'](_0x44f821(0x13a));_0x2cdd59[_0x44f821(0x118)]=()=>_0x2cdd59[_0x44f821(0x119)](),_0x19ff6e['appendChild'](_0x2cdd59);const _0xe0dc81=document[_0x44f821(0x110)](_0x44f821(0x115));_0xe0dc81[_0x44f821(0x137)][_0x44f821(0x132)](_0x44f821(0x145),'right','gap-10'),_0x2cdd59[_0x44f821(0x111)](_0xe0dc81);const _0x35a7b6=document['createElement'](_0x44f821(0x115));_0x35a7b6[_0x44f821(0x137)][_0x44f821(0x132)](_0x44f821(0x139),'bc',_0x44f821(0x13e)),_0xe0dc81['appendChild'](_0x35a7b6);const _0x3dcf29=document['createElement']('div');_0x3dcf29[_0x44f821(0x137)][_0x44f821(0x132)](_0x44f821(0x13e)),_0xe0dc81['appendChild'](_0x3dcf29);const _0x9cc3d8=document['createElement'](_0x44f821(0x115));_0x9cc3d8[_0x44f821(0x137)]['add']('flex-1'),_0xe0dc81[_0x44f821(0x111)](_0x9cc3d8);const _0x44236e=document[_0x44f821(0x110)](_0x44f821(0x115));_0x44236e['classList'][_0x44f821(0x132)]('flex-1'),_0xe0dc81[_0x44f821(0x111)](_0x44236e),mgbaStorage[_0x44f821(0x137)][_0x44f821(0x132)](_0x44f821(0x11c)),_0x35a7b6[_0x44f821(0x112)]=()=>{const _0x2600d8=_0x44f821;_0x2cdd59['close'](),_0x2cdd59[_0x2600d8(0x119)](),mgbaStorage[_0x2600d8(0x137)][_0x2600d8(0x119)](_0x2600d8(0x11c));};const _0x940af3=document[_0x44f821(0x110)]('div');_0x940af3[_0x44f821(0x137)][_0x44f821(0x132)](_0x44f821(0x13e),_0x44f821(0x120),'hw','cw'),_0x940af3['textContent']=_0x423875,_0x2cdd59[_0x44f821(0x111)](_0x940af3);const _0x467fe9=document[_0x44f821(0x110)]('div');_0x467fe9[_0x44f821(0x137)][_0x44f821(0x132)](_0x44f821(0x131),'hw','cw',_0x44f821(0x105)),_0x2cdd59[_0x44f821(0x111)](_0x467fe9);const _0x564fa6=document['createElement'](_0x44f821(0x115));_0x564fa6[_0x44f821(0x137)][_0x44f821(0x132)](_0x44f821(0x142),'bc'),_0x467fe9[_0x44f821(0x111)](_0x564fa6),_0x564fa6[_0x44f821(0x112)]=()=>{const _0x4bf5fc=_0x44f821;a0_0x5d06e6[_0x4bf5fc(0x101)](_0x3b5d47,_0x423875);};const _0x4f1741=document[_0x44f821(0x110)](_0x44f821(0x115));_0x4f1741[_0x44f821(0x137)]['add'](_0x44f821(0x108),'bc'),_0x467fe9[_0x44f821(0x111)](_0x4f1741),_0x4f1741[_0x44f821(0x112)]=async()=>{const _0x503dc6=_0x44f821;if(window[_0x503dc6(0x130)](_0x503dc6(0x128)+_0x423875)){const _0x3be06e=_0x423875[_0x503dc6(0x134)](/\....$/,'.gba');a0_0x5d06e6[_0x503dc6(0x102)](_0x3b5d47),localStorage[_0x503dc6(0x103)](_0x3be06e+_0x503dc6(0x14b)+_0x423875[_0x503dc6(0x149)](-0x1)),localStorage[_0x503dc6(0x103)](_0x3be06e+'_imageState'+_0x423875[_0x503dc6(0x149)](-0x1)),localStorageFile(),_0x2cdd59[_0x503dc6(0x144)](),_0x2cdd59['remove'](),mgbaStorage[_0x503dc6(0x137)]['remove'](_0x503dc6(0x11c));}};const _0x4464a2=document[_0x44f821(0x110)]('div');_0x4464a2[_0x44f821(0x137)][_0x44f821(0x132)](_0x44f821(0x12a),'bc'),_0x467fe9[_0x44f821(0x111)](_0x4464a2),_0x4464a2[_0x44f821(0x112)]=async()=>{const _0x3a53d3=_0x44f821,_0x202ee7=window[_0x3a53d3(0x116)](_0x3a53d3(0x133),_0x423875);_0x202ee7!==null&&(a0_0x5d06e6[_0x3a53d3(0x125)](_0x3b5d47,_0x423875,_0x202ee7),localStorageFile(),_0x2cdd59[_0x3a53d3(0x144)](),_0x2cdd59[_0x3a53d3(0x119)](),mgbaStorage[_0x3a53d3(0x137)]['remove']('opacity0'));},_0x2cdd59[_0x44f821(0x10d)]();};const _0x4b2276=document['createElement'](_0x2592e2(0x122));_0x4b2276['textContent']=humanFileSize(a0_0x5d06e6[_0x2592e2(0x11b)](_0x3b5d47)),_0x4b2276[_0x2592e2(0x137)]['add'](_0x2592e2(0x11a)),_0x37f4ce[_0x2592e2(0x111)](_0x4b2276);}export function localStorageFile(){const _0x35dfb4=a0_0x427188,_0x3968be=a0_0x5d06e6['listFiles'](_0x35dfb4(0x10e)),_0x16dcf7=a0_0x5d06e6[_0x35dfb4(0x13f)](_0x35dfb4(0x11e)),_0x489803=a0_0x5d06e6[_0x35dfb4(0x13f)](_0x35dfb4(0x12d)),_0x69225b=a0_0x5d06e6[_0x35dfb4(0x13f)](_0x35dfb4(0x121)),_0xc7ca78=a0_0x5d06e6[_0x35dfb4(0x13f)](_0x35dfb4(0x107)),_0x434c1c=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4d4e91 of _0x434c1c){while(_0x4d4e91[_0x35dfb4(0x113)]){_0x4d4e91[_0x35dfb4(0x140)]['remove']();}}for(const _0x11bfb5 of _0x3968be){createElementStorage(romsFile,_0x11bfb5,_0x35dfb4(0x123)+_0x11bfb5);}for(const _0xa9b0f0 of _0x489803){createElementStorage(statesFile,_0xa9b0f0,_0x35dfb4(0x12b)+_0xa9b0f0);}for(const _0x5104a7 of _0x16dcf7){createElementStorage(savesFile,_0x5104a7,_0x35dfb4(0x12e)+_0x5104a7);}for(const _0x3adc29 of _0x69225b){createElementStorage(cheatsFile,_0x3adc29,_0x35dfb4(0x14c)+_0x3adc29);}for(const _0x24e839 of _0xc7ca78){createElementStorage(screenshotsFile,_0x24e839,_0x35dfb4(0x141)+_0x24e839);}}document[a0_0x427188(0x13b)](a0_0x427188(0x138),function(){const _0x261d7a=a0_0x427188;upLoadFile['addEventListener']('change',function(){const _0xd83760=a0_0x2f90;a0_0x5d06e6[_0xd83760(0x13c)](upLoadFile);}),openLocalStorage['addEventListener'](_0x261d7a(0x13d),function(){const _0x497f60=_0x261d7a,_0x113872=localStorage[_0x497f60(0x126)]('uId');storage[_0x497f60(0x137)][_0x497f60(0x119)]('disable'),intro['classList']['add']('disable'),ingame[_0x497f60(0x137)]['add']('disable'),_0x113872===null||_0x113872===''?(dropboxRestore[_0x497f60(0x137)][_0x497f60(0x119)]('active'),dropboxBackup[_0x497f60(0x137)][_0x497f60(0x119)](_0x497f60(0x109)),dropboxCloud[_0x497f60(0x137)][_0x497f60(0x119)](_0x497f60(0x109))):(dropboxRestore[_0x497f60(0x137)][_0x497f60(0x132)](_0x497f60(0x109)),dropboxBackup['classList'][_0x497f60(0x132)](_0x497f60(0x109)),dropboxCloud[_0x497f60(0x137)][_0x497f60(0x132)](_0x497f60(0x109)));}),setTimeout(()=>{localStorageFile();},0xbb8);});