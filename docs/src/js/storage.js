const a0_0x9853f6=a0_0x1c55;(function(_0x10edc2,_0xf6635b){const _0x34e652=a0_0x1c55,_0x10672d=_0x10edc2();while(!![]){try{const _0x44fb3a=parseInt(_0x34e652(0x124))/0x1*(parseInt(_0x34e652(0x138))/0x2)+-parseInt(_0x34e652(0x115))/0x3*(parseInt(_0x34e652(0x136))/0x4)+parseInt(_0x34e652(0x126))/0x5*(-parseInt(_0x34e652(0x11f))/0x6)+-parseInt(_0x34e652(0x157))/0x7*(parseInt(_0x34e652(0x13d))/0x8)+parseInt(_0x34e652(0x12f))/0x9*(-parseInt(_0x34e652(0x14c))/0xa)+-parseInt(_0x34e652(0x127))/0xb+-parseInt(_0x34e652(0x137))/0xc*(-parseInt(_0x34e652(0x135))/0xd);if(_0x44fb3a===_0xf6635b)break;else _0x10672d['push'](_0x10672d['shift']());}catch(_0x3f21c4){_0x10672d['push'](_0x10672d['shift']());}}}(a0_0x4083,0x64f9f));import*as a0_0x5a849e from'./main.js';const mgbaStorage=document['getElementById'](a0_0x9853f6(0x121)),savesFile=document[a0_0x9853f6(0x13e)]('savesFile'),romsFile=document[a0_0x9853f6(0x13e)]('romsFile'),statesFile=document[a0_0x9853f6(0x13e)]('statesFile'),screenshotsFile=document[a0_0x9853f6(0x13e)](a0_0x9853f6(0x158));function humanFileSize(_0x1ac418,_0x2f9d57=![],_0x58f8f3=0x1){const _0xf0d5d9=a0_0x9853f6,_0x2820a8=_0x2f9d57?0x3e8:0x400,_0x168a83=_0x2f9d57?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0xf0d5d9(0x117),'GiB',_0xf0d5d9(0x116),_0xf0d5d9(0x11c),_0xf0d5d9(0x144),_0xf0d5d9(0x12d),_0xf0d5d9(0x11b)];let _0x182fd6=-0x1;do{_0x1ac418/=_0x2820a8,++_0x182fd6;}while(Math[_0xf0d5d9(0x156)](_0x1ac418)>=_0x2820a8&&_0x182fd6<_0x168a83[_0xf0d5d9(0x12b)]-0x1);return _0x1ac418['toFixed'](_0x58f8f3)+'\x20'+_0x168a83[_0x182fd6];}function a0_0x4083(){const _0x19b0ee=['confirm','remove','Edit\x20filename','gap-10','477339IkBGAy','TiB','MiB','/data/states/','rom-item','classList','YiB','PiB','home','getItem','12156evoquH','prompt','mgba-storage','firstChild','createElement','134227BmIYMA','saves','1450rWbChP','7332985IKArqj','right','active','click','length','games','ZiB','slice','236916LAjSMw','DOMContentLoaded','addEventListener','textContent','showModal','disable','3938961iZUKXe','4RSgqwJ','84slyfhN','2flZhMl','fileSize','storage','appendChild','downloadFile','81848FZoDhi','getElementById','span','actionDiv','div','flex-1','removeItem','EiB','onclick','lastChild','/data/games/','download','screenshots','rename','listFiles','50jQjjKm','change','opacity0','gap-16','uploadFile','add','editFile','.gba','uId','cheats','abs','203nxzSuC','screenshotsFile'];a0_0x4083=function(){return _0x19b0ee;};return a0_0x4083();}function a0_0x1c55(_0x1295bd,_0x2a5722){const _0x408361=a0_0x4083();return a0_0x1c55=function(_0x1c557c,_0x85d0dd){_0x1c557c=_0x1c557c-0x111;let _0x57a36e=_0x408361[_0x1c557c];return _0x57a36e;},a0_0x1c55(_0x1295bd,_0x2a5722);}function createElementStorage(_0x2672e6,_0x51d5c2,_0x20daca){const _0x5447bb=a0_0x9853f6,_0x10174d=document[_0x5447bb(0x123)]('div');_0x10174d['classList'][_0x5447bb(0x151)](_0x5447bb(0x142),_0x5447bb(0x119),'rom'),_0x2672e6[_0x5447bb(0x13b)](_0x10174d);const _0x5b90eb=document[_0x5447bb(0x123)](_0x5447bb(0x13f));_0x5b90eb['textContent']=_0x51d5c2,_0x5b90eb[_0x5447bb(0x11a)][_0x5447bb(0x151)]('flex-1'),_0x10174d['appendChild'](_0x5b90eb),_0x5b90eb[_0x5447bb(0x145)]=()=>{const _0x1b0f23=_0x5447bb,_0x42a83e=document['createElement']('dialog');_0x42a83e['onclose']=()=>_0x42a83e[_0x1b0f23(0x112)](),_0x2672e6[_0x1b0f23(0x13b)](_0x42a83e);const _0x5b83cb=document['createElement']('div');_0x5b83cb[_0x1b0f23(0x11a)][_0x1b0f23(0x151)](_0x1b0f23(0x13a),_0x1b0f23(0x128),_0x1b0f23(0x114)),_0x42a83e['appendChild'](_0x5b83cb);const _0x59a59d=document[_0x1b0f23(0x123)]('div');_0x59a59d[_0x1b0f23(0x11a)][_0x1b0f23(0x151)](_0x1b0f23(0x11d),'bc','flex-1'),_0x5b83cb[_0x1b0f23(0x13b)](_0x59a59d);const _0x444265=document['createElement']('div');_0x444265[_0x1b0f23(0x11a)][_0x1b0f23(0x151)](_0x1b0f23(0x142)),_0x5b83cb[_0x1b0f23(0x13b)](_0x444265);const _0x35bf2a=document[_0x1b0f23(0x123)]('div');_0x35bf2a[_0x1b0f23(0x11a)][_0x1b0f23(0x151)]('flex-1'),_0x5b83cb[_0x1b0f23(0x13b)](_0x35bf2a);const _0x232d9f=document['createElement'](_0x1b0f23(0x141));_0x232d9f['classList'][_0x1b0f23(0x151)](_0x1b0f23(0x142)),_0x5b83cb[_0x1b0f23(0x13b)](_0x232d9f),mgbaStorage[_0x1b0f23(0x11a)]['add'](_0x1b0f23(0x14e)),_0x59a59d[_0x1b0f23(0x145)]=()=>{const _0x21bffe=_0x1b0f23;_0x42a83e['close'](),_0x42a83e[_0x21bffe(0x112)](),mgbaStorage[_0x21bffe(0x11a)]['remove'](_0x21bffe(0x14e));};const _0x8547c4=document[_0x1b0f23(0x123)]('div');_0x8547c4[_0x1b0f23(0x11a)][_0x1b0f23(0x151)](_0x1b0f23(0x142),_0x1b0f23(0x119),'hw','cw'),_0x8547c4[_0x1b0f23(0x132)]=_0x51d5c2,_0x42a83e[_0x1b0f23(0x13b)](_0x8547c4);const _0x4f5bd7=document[_0x1b0f23(0x123)]('div');_0x4f5bd7['classList'][_0x1b0f23(0x151)](_0x1b0f23(0x140),'hw','cw',_0x1b0f23(0x14f)),_0x42a83e[_0x1b0f23(0x13b)](_0x4f5bd7);const _0x11b905=document[_0x1b0f23(0x123)](_0x1b0f23(0x141));_0x11b905[_0x1b0f23(0x11a)][_0x1b0f23(0x151)](_0x1b0f23(0x148),'bc'),_0x4f5bd7[_0x1b0f23(0x13b)](_0x11b905),_0x11b905[_0x1b0f23(0x145)]=()=>{const _0x5e0d76=_0x1b0f23;a0_0x5a849e[_0x5e0d76(0x13c)](_0x20daca,_0x51d5c2);};const _0x3e321a=document[_0x1b0f23(0x123)](_0x1b0f23(0x141));_0x3e321a['classList'][_0x1b0f23(0x151)]('delete','bc'),_0x4f5bd7[_0x1b0f23(0x13b)](_0x3e321a),_0x3e321a[_0x1b0f23(0x145)]=async()=>{const _0x1f3ed0=_0x1b0f23;if(window[_0x1f3ed0(0x111)]('Delete\x20this\x20file?'+_0x51d5c2)){const _0x33013b=_0x51d5c2['replace'](/\....$/,_0x1f3ed0(0x153));a0_0x5a849e['deleteFile'](_0x20daca),localStorage[_0x1f3ed0(0x143)](_0x33013b+'_dateState'+_0x51d5c2[_0x1f3ed0(0x12e)](-0x1)),localStorage[_0x1f3ed0(0x143)](_0x33013b+'_imageState'+_0x51d5c2['slice'](-0x1)),localStorageFile(),_0x42a83e['close'](),_0x42a83e['remove'](),mgbaStorage[_0x1f3ed0(0x11a)][_0x1f3ed0(0x112)](_0x1f3ed0(0x14e));}};const _0x3c9066=document[_0x1b0f23(0x123)](_0x1b0f23(0x141));_0x3c9066[_0x1b0f23(0x11a)][_0x1b0f23(0x151)](_0x1b0f23(0x14a),'bc'),_0x4f5bd7[_0x1b0f23(0x13b)](_0x3c9066),_0x3c9066[_0x1b0f23(0x145)]=async()=>{const _0x58ef12=_0x1b0f23,_0x51f256=window[_0x58ef12(0x120)](_0x58ef12(0x113),_0x51d5c2);_0x51f256!==null&&(a0_0x5a849e[_0x58ef12(0x152)](_0x20daca,_0x51d5c2,_0x51f256),localStorageFile(),_0x42a83e['close'](),_0x42a83e['remove'](),mgbaStorage['classList'][_0x58ef12(0x112)]('opacity0'));},_0x42a83e[_0x1b0f23(0x133)]();};const _0x376c29=document[_0x5447bb(0x123)](_0x5447bb(0x13f));_0x376c29['textContent']=humanFileSize(a0_0x5a849e[_0x5447bb(0x139)](_0x20daca)),_0x376c29[_0x5447bb(0x11a)][_0x5447bb(0x151)]('mib'),_0x10174d[_0x5447bb(0x13b)](_0x376c29);}export function localStorageFile(){const _0x93b30=a0_0x9853f6,_0x453bb8=a0_0x5a849e['listFiles'](_0x93b30(0x12c)),_0x408458=a0_0x5a849e[_0x93b30(0x14b)](_0x93b30(0x125)),_0x10c06a=a0_0x5a849e[_0x93b30(0x14b)]('states'),_0x356911=a0_0x5a849e['listFiles'](_0x93b30(0x155)),_0x45fa4a=a0_0x5a849e[_0x93b30(0x14b)](_0x93b30(0x149)),_0x10674c=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3a6c1a of _0x10674c){while(_0x3a6c1a[_0x93b30(0x122)]){_0x3a6c1a[_0x93b30(0x146)][_0x93b30(0x112)]();}}for(const _0x40c0b8 of _0x453bb8){createElementStorage(romsFile,_0x40c0b8,_0x93b30(0x147)+_0x40c0b8);}for(const _0x3a4eae of _0x10c06a){createElementStorage(statesFile,_0x3a4eae,_0x93b30(0x118)+_0x3a4eae);}for(const _0x52640a of _0x408458){createElementStorage(savesFile,_0x52640a,'/data/saves/'+_0x52640a);}for(const _0x1ff465 of _0x356911){createElementStorage(cheatsFile,_0x1ff465,'/data/cheats/'+_0x1ff465);}for(const _0x28c91c of _0x45fa4a){createElementStorage(screenshotsFile,_0x28c91c,'/data/screenshots/'+_0x28c91c);}}document['addEventListener'](a0_0x9853f6(0x130),function(){const _0x4562e1=a0_0x9853f6;upLoadFile[_0x4562e1(0x131)](_0x4562e1(0x14d),function(){const _0x59f8ef=_0x4562e1;a0_0x5a849e[_0x59f8ef(0x150)](upLoadFile);}),openLocalStorage[_0x4562e1(0x131)](_0x4562e1(0x12a),function(){const _0x23ec1b=_0x4562e1,_0x1b3c52=localStorage[_0x23ec1b(0x11e)](_0x23ec1b(0x154));storage[_0x23ec1b(0x11a)][_0x23ec1b(0x112)](_0x23ec1b(0x134)),intro['classList'][_0x23ec1b(0x151)]('disable'),ingame['classList'][_0x23ec1b(0x151)](_0x23ec1b(0x134)),_0x1b3c52===null||_0x1b3c52===''?(dropboxRestore[_0x23ec1b(0x11a)][_0x23ec1b(0x112)]('active'),dropboxBackup[_0x23ec1b(0x11a)]['remove']('active'),dropboxCloud[_0x23ec1b(0x11a)][_0x23ec1b(0x112)](_0x23ec1b(0x129))):(dropboxRestore[_0x23ec1b(0x11a)][_0x23ec1b(0x151)](_0x23ec1b(0x129)),dropboxBackup['classList'][_0x23ec1b(0x151)](_0x23ec1b(0x129)),dropboxCloud[_0x23ec1b(0x11a)][_0x23ec1b(0x151)](_0x23ec1b(0x129)));}),setTimeout(()=>{localStorageFile();},0xbb8);});