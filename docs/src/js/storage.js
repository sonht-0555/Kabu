const a0_0x11695e=a0_0x49c2;(function(_0xb7a0c0,_0x55c7a1){const _0x7f1e64=a0_0x49c2,_0x4cc6e8=_0xb7a0c0();while(!![]){try{const _0x2a6660=parseInt(_0x7f1e64(0x1e4))/0x1*(-parseInt(_0x7f1e64(0x21f))/0x2)+-parseInt(_0x7f1e64(0x1e8))/0x3*(parseInt(_0x7f1e64(0x218))/0x4)+-parseInt(_0x7f1e64(0x207))/0x5*(parseInt(_0x7f1e64(0x1ec))/0x6)+parseInt(_0x7f1e64(0x206))/0x7+parseInt(_0x7f1e64(0x21b))/0x8+parseInt(_0x7f1e64(0x204))/0x9+parseInt(_0x7f1e64(0x1fa))/0xa*(parseInt(_0x7f1e64(0x1e2))/0xb);if(_0x2a6660===_0x55c7a1)break;else _0x4cc6e8['push'](_0x4cc6e8['shift']());}catch(_0x31de85){_0x4cc6e8['push'](_0x4cc6e8['shift']());}}}(a0_0x56eb,0xb25cd));import*as a0_0x587293 from'./main.js';const mgbaStorage=document[a0_0x11695e(0x222)](a0_0x11695e(0x1e3)),savesFile=document['getElementById'](a0_0x11695e(0x21d)),romsFile=document[a0_0x11695e(0x222)]('romsFile'),statesFile=document[a0_0x11695e(0x222)]('statesFile'),screenshotsFile=document['getElementById'](a0_0x11695e(0x1e7));function humanFileSize(_0x151c69,_0x5e28ba=![],_0x47f0d2=0x1){const _0x1db94c=a0_0x11695e,_0x54fe12=_0x5e28ba?0x3e8:0x400,_0x28409d=_0x5e28ba?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1db94c(0x210),_0x1db94c(0x219),'GiB',_0x1db94c(0x220),_0x1db94c(0x214),_0x1db94c(0x226),'ZiB',_0x1db94c(0x1db)];let _0x45957a=-0x1;do{_0x151c69/=_0x54fe12,++_0x45957a;}while(Math[_0x1db94c(0x1f5)](_0x151c69)>=_0x54fe12&&_0x45957a<_0x28409d[_0x1db94c(0x203)]-0x1);return _0x151c69[_0x1db94c(0x215)](_0x47f0d2)+'\x20'+_0x28409d[_0x45957a];}function a0_0x49c2(_0x19050f,_0x10592a){const _0x56eb9a=a0_0x56eb();return a0_0x49c2=function(_0x49c2a4,_0x5ba682){_0x49c2a4=_0x49c2a4-0x1db;let _0xbf168b=_0x56eb9a[_0x49c2a4];return _0xbf168b;},a0_0x49c2(_0x19050f,_0x10592a);}function a0_0x56eb(){const _0x517a7f=['rename','download','firstChild','textContent','KiB','uId','listFiles','getItem','PiB','toFixed','/data/games/','removeItem','1278600yoifyq','MiB','right','7587520kUILGB','div','savesFile','active','1627732KasMIR','TiB','Delete\x20this\x20file?','getElementById','saves','classList','addEventListener','EiB','lastChild','editFile','rom-item','YiB','replace','_imageState','states','change','DOMContentLoaded','onclose','11nqPWgK','mgba-storage','1pgRWxi','gap-16','home','screenshotsFile','6ZbkrPy','showModal','flex-1','remove','12MFQNPw','createElement','span','add','prompt','games','close','/data/screenshots/','opacity0','abs','fileSize','rom','actionDiv','onclick','4958170mEuqqQ','slice','appendChild','storage','gap-10','dialog','/data/cheats/','mib','screenshots','length','9206604owOYUC','uploadFile','4856320NjoAFa','2443085YnSoFN','Edit\x20filename','disable','_dateState','.gba'];a0_0x56eb=function(){return _0x517a7f;};return a0_0x56eb();}function createElementStorage(_0x34834a,_0x5d2254,_0x39d508){const _0x23ee65=a0_0x11695e,_0x4f7237=document[_0x23ee65(0x1ed)](_0x23ee65(0x21c));_0x4f7237[_0x23ee65(0x224)][_0x23ee65(0x1ef)](_0x23ee65(0x1ea),_0x23ee65(0x229),_0x23ee65(0x1f7)),_0x34834a[_0x23ee65(0x1fc)](_0x4f7237);const _0x5c9189=document[_0x23ee65(0x1ed)]('span');_0x5c9189['textContent']=_0x5d2254,_0x5c9189[_0x23ee65(0x224)][_0x23ee65(0x1ef)](_0x23ee65(0x1ea)),_0x4f7237['appendChild'](_0x5c9189),_0x5c9189['onclick']=()=>{const _0xe405cf=_0x23ee65,_0x3bb80c=document[_0xe405cf(0x1ed)](_0xe405cf(0x1ff));_0x3bb80c[_0xe405cf(0x1e1)]=()=>_0x3bb80c[_0xe405cf(0x1eb)](),_0x34834a[_0xe405cf(0x1fc)](_0x3bb80c);const _0x4111df=document[_0xe405cf(0x1ed)]('div');_0x4111df[_0xe405cf(0x224)]['add'](_0xe405cf(0x1fd),_0xe405cf(0x21a),_0xe405cf(0x1fe)),_0x3bb80c[_0xe405cf(0x1fc)](_0x4111df);const _0x4b6054=document[_0xe405cf(0x1ed)](_0xe405cf(0x21c));_0x4b6054[_0xe405cf(0x224)]['add'](_0xe405cf(0x1e6),'bc',_0xe405cf(0x1ea)),_0x4111df['appendChild'](_0x4b6054);const _0x29412b=document[_0xe405cf(0x1ed)](_0xe405cf(0x21c));_0x29412b[_0xe405cf(0x224)][_0xe405cf(0x1ef)]('flex-1'),_0x4111df[_0xe405cf(0x1fc)](_0x29412b);const _0x264eee=document[_0xe405cf(0x1ed)](_0xe405cf(0x21c));_0x264eee[_0xe405cf(0x224)][_0xe405cf(0x1ef)](_0xe405cf(0x1ea)),_0x4111df[_0xe405cf(0x1fc)](_0x264eee);const _0x4b901f=document[_0xe405cf(0x1ed)](_0xe405cf(0x21c));_0x4b901f[_0xe405cf(0x224)][_0xe405cf(0x1ef)]('flex-1'),_0x4111df[_0xe405cf(0x1fc)](_0x4b901f),mgbaStorage[_0xe405cf(0x224)]['add']('opacity0'),_0x4b6054[_0xe405cf(0x1f9)]=()=>{const _0x735102=_0xe405cf;_0x3bb80c['close'](),_0x3bb80c[_0x735102(0x1eb)](),mgbaStorage[_0x735102(0x224)][_0x735102(0x1eb)]('opacity0');};const _0x154970=document['createElement'](_0xe405cf(0x21c));_0x154970[_0xe405cf(0x224)][_0xe405cf(0x1ef)]('flex-1',_0xe405cf(0x229),'hw','cw'),_0x154970[_0xe405cf(0x20f)]=_0x5d2254,_0x3bb80c['appendChild'](_0x154970);const _0x32f519=document[_0xe405cf(0x1ed)](_0xe405cf(0x21c));_0x32f519[_0xe405cf(0x224)][_0xe405cf(0x1ef)](_0xe405cf(0x1f8),'hw','cw',_0xe405cf(0x1e5)),_0x3bb80c[_0xe405cf(0x1fc)](_0x32f519);const _0x2903d3=document[_0xe405cf(0x1ed)](_0xe405cf(0x21c));_0x2903d3[_0xe405cf(0x224)][_0xe405cf(0x1ef)](_0xe405cf(0x20d),'bc'),_0x32f519['appendChild'](_0x2903d3),_0x2903d3[_0xe405cf(0x1f9)]=()=>{a0_0x587293['downloadFile'](_0x39d508,_0x5d2254);};const _0x1ecd76=document[_0xe405cf(0x1ed)]('div');_0x1ecd76[_0xe405cf(0x224)][_0xe405cf(0x1ef)]('delete','bc'),_0x32f519[_0xe405cf(0x1fc)](_0x1ecd76),_0x1ecd76['onclick']=async()=>{const _0x126862=_0xe405cf;if(window['confirm'](_0x126862(0x221)+_0x5d2254)){const _0x4907f9=_0x5d2254[_0x126862(0x1dc)](/\....$/,_0x126862(0x20b));a0_0x587293['deleteFile'](_0x39d508),localStorage[_0x126862(0x217)](_0x4907f9+_0x126862(0x20a)+_0x5d2254[_0x126862(0x1fb)](-0x1)),localStorage[_0x126862(0x217)](_0x4907f9+_0x126862(0x1dd)+_0x5d2254[_0x126862(0x1fb)](-0x1)),localStorageFile(),_0x3bb80c[_0x126862(0x1f2)](),_0x3bb80c['remove'](),mgbaStorage['classList'][_0x126862(0x1eb)](_0x126862(0x1f4));}};const _0x3032df=document['createElement']('div');_0x3032df[_0xe405cf(0x224)]['add'](_0xe405cf(0x20c),'bc'),_0x32f519['appendChild'](_0x3032df),_0x3032df[_0xe405cf(0x1f9)]=async()=>{const _0x53607d=_0xe405cf,_0x294e05=window[_0x53607d(0x1f0)](_0x53607d(0x208),_0x5d2254);_0x294e05!==null&&(a0_0x587293[_0x53607d(0x228)](_0x39d508,_0x5d2254,_0x294e05),localStorageFile(),_0x3bb80c[_0x53607d(0x1f2)](),_0x3bb80c[_0x53607d(0x1eb)](),mgbaStorage[_0x53607d(0x224)][_0x53607d(0x1eb)](_0x53607d(0x1f4)));},_0x3bb80c[_0xe405cf(0x1e9)]();};const _0x527023=document['createElement'](_0x23ee65(0x1ee));_0x527023[_0x23ee65(0x20f)]=humanFileSize(a0_0x587293[_0x23ee65(0x1f6)](_0x39d508)),_0x527023['classList'][_0x23ee65(0x1ef)](_0x23ee65(0x201)),_0x4f7237[_0x23ee65(0x1fc)](_0x527023);}export function localStorageFile(){const _0x12b2e3=a0_0x11695e,_0x5776b7=a0_0x587293[_0x12b2e3(0x212)](_0x12b2e3(0x1f1)),_0xafa9b1=a0_0x587293[_0x12b2e3(0x212)](_0x12b2e3(0x223)),_0x30a763=a0_0x587293['listFiles'](_0x12b2e3(0x1de)),_0x435065=a0_0x587293[_0x12b2e3(0x212)]('cheats'),_0x47208a=a0_0x587293[_0x12b2e3(0x212)](_0x12b2e3(0x202)),_0x47b6ce=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0xb951cb of _0x47b6ce){while(_0xb951cb[_0x12b2e3(0x20e)]){_0xb951cb[_0x12b2e3(0x227)][_0x12b2e3(0x1eb)]();}}for(const _0x5f1573 of _0x5776b7){createElementStorage(romsFile,_0x5f1573,_0x12b2e3(0x216)+_0x5f1573);}for(const _0x53e95e of _0x30a763){createElementStorage(statesFile,_0x53e95e,'/data/states/'+_0x53e95e);}for(const _0x3737fd of _0xafa9b1){createElementStorage(savesFile,_0x3737fd,'/data/saves/'+_0x3737fd);}for(const _0x2c2cfe of _0x435065){createElementStorage(cheatsFile,_0x2c2cfe,_0x12b2e3(0x200)+_0x2c2cfe);}for(const _0x5cfa0b of _0x47208a){createElementStorage(screenshotsFile,_0x5cfa0b,_0x12b2e3(0x1f3)+_0x5cfa0b);}}document['addEventListener'](a0_0x11695e(0x1e0),function(){const _0xa5c27f=a0_0x11695e;upLoadFile[_0xa5c27f(0x225)](_0xa5c27f(0x1df),function(){const _0x3574e6=_0xa5c27f;a0_0x587293[_0x3574e6(0x205)](upLoadFile);}),openLocalStorage[_0xa5c27f(0x225)]('click',function(){const _0x3ffae7=_0xa5c27f,_0x501758=localStorage[_0x3ffae7(0x213)](_0x3ffae7(0x211));storage['classList']['remove']('disable'),intro[_0x3ffae7(0x224)][_0x3ffae7(0x1ef)](_0x3ffae7(0x209)),ingame[_0x3ffae7(0x224)][_0x3ffae7(0x1ef)]('disable'),_0x501758===null||_0x501758===''?(dropboxRestore[_0x3ffae7(0x224)][_0x3ffae7(0x1eb)]('active'),dropboxBackup[_0x3ffae7(0x224)][_0x3ffae7(0x1eb)](_0x3ffae7(0x21e)),dropboxCloud[_0x3ffae7(0x224)][_0x3ffae7(0x1eb)](_0x3ffae7(0x21e))):(dropboxRestore[_0x3ffae7(0x224)][_0x3ffae7(0x1ef)]('active'),dropboxBackup[_0x3ffae7(0x224)][_0x3ffae7(0x1ef)](_0x3ffae7(0x21e)),dropboxCloud['classList'][_0x3ffae7(0x1ef)](_0x3ffae7(0x21e)));}),setTimeout(()=>{localStorageFile();},0xbb8);});