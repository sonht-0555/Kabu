function a0_0x3ee8(){const _0x19e6c9=['GiB','300423OiHwNR','getItem','createElement','rom-item','toFixed','div','setItem','uploadFile','statesFile','203100chXxzt','DOMContentLoaded','length','listScreenshot','confirm','KiB','active','.gba','click','YiB','getElementById','classList','textContent','firstChild','showModal','4201662BgnHWi','addEventListener','dialog','6654051RDMhgu','appendChild','span','remove','home','TiB','close','flex-1','5riNUxP','onclick','424noXDlz','opacity0','rom','add','/data/cheats/','_dateState','downloadFile','disable','removeItem','mgba-storage','slice','screenshotsFile','replace','abs','uId','mib','onclose','607294cbimwp','storage','listCheat','lastChild','MiB','fileSize','EiB','12644550MhioLk','2hDatBt','_imageState','/data/screenshots/','PiB','2338NHeMGd','actionDiv','listSave'];a0_0x3ee8=function(){return _0x19e6c9;};return a0_0x3ee8();}function a0_0x2151(_0x13fc9a,_0x20887e){const _0x3ee89e=a0_0x3ee8();return a0_0x2151=function(_0x21514d,_0x3bb21e){_0x21514d=_0x21514d-0xf6;let _0x3e198f=_0x3ee89e[_0x21514d];return _0x3e198f;},a0_0x2151(_0x13fc9a,_0x20887e);}const a0_0x39e172=a0_0x2151;(function(_0x23bfa1,_0x2c84bd){const _0x217564=a0_0x2151,_0x355309=_0x23bfa1();while(!![]){try{const _0x5b0459=parseInt(_0x217564(0x10f))/0x1*(parseInt(_0x217564(0x117))/0x2)+-parseInt(_0x217564(0x11f))/0x3+parseInt(_0x217564(0x128))/0x4+parseInt(_0x217564(0xfc))/0x5*(-parseInt(_0x217564(0x137))/0x6)+parseInt(_0x217564(0x11b))/0x7*(parseInt(_0x217564(0xfe))/0x8)+-parseInt(_0x217564(0x13a))/0x9+parseInt(_0x217564(0x116))/0xa;if(_0x5b0459===_0x2c84bd)break;else _0x355309['push'](_0x355309['shift']());}catch(_0x496e4e){_0x355309['push'](_0x355309['shift']());}}}(a0_0x3ee8,0x61c55));import*as a0_0x52c9e1 from'./main.js';const mgbaStorage=document[a0_0x39e172(0x132)](a0_0x39e172(0x107)),savesFile=document[a0_0x39e172(0x132)]('savesFile'),romsFile=document['getElementById']('romsFile'),statesFile=document[a0_0x39e172(0x132)](a0_0x39e172(0x127)),screenshotsFile=document[a0_0x39e172(0x132)](a0_0x39e172(0x109));function humanFileSize(_0x59cf6e,_0x7e6c3=![],_0x5c9c49=0x1){const _0x1e5158=a0_0x39e172,_0x2cceaa=_0x7e6c3?0x3e8:0x400,_0x1a8722=_0x7e6c3?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1e5158(0x12d),_0x1e5158(0x113),_0x1e5158(0x11e),_0x1e5158(0xf9),_0x1e5158(0x11a),_0x1e5158(0x115),'ZiB',_0x1e5158(0x131)];let _0x36def4=-0x1;do{_0x59cf6e/=_0x2cceaa,++_0x36def4;}while(Math[_0x1e5158(0x10b)](_0x59cf6e)>=_0x2cceaa&&_0x36def4<_0x1a8722[_0x1e5158(0x12a)]-0x1);return _0x59cf6e[_0x1e5158(0x123)](_0x5c9c49)+'\x20'+_0x1a8722[_0x36def4];}function createElementStorage(_0x1636c2,_0x5b6475,_0xb879ef){const _0x346fe9=a0_0x39e172,_0x4c259a=document[_0x346fe9(0x121)](_0x346fe9(0x124));_0x4c259a['classList'][_0x346fe9(0x101)](_0x346fe9(0xfb),_0x346fe9(0x122),_0x346fe9(0x100)),_0x1636c2[_0x346fe9(0x13b)](_0x4c259a);const _0x43b44a=document[_0x346fe9(0x121)]('span');_0x43b44a[_0x346fe9(0x134)]=_0x5b6475,_0x43b44a[_0x346fe9(0x133)][_0x346fe9(0x101)](_0x346fe9(0xfb)),_0x4c259a[_0x346fe9(0x13b)](_0x43b44a),_0x43b44a[_0x346fe9(0xfd)]=()=>{const _0x5a924d=_0x346fe9,_0x2b4f39=document[_0x5a924d(0x121)](_0x5a924d(0x139));_0x2b4f39[_0x5a924d(0x10e)]=()=>_0x2b4f39['remove'](),_0x1636c2['appendChild'](_0x2b4f39);const _0x4b51cd=document['createElement'](_0x5a924d(0x124));_0x4b51cd[_0x5a924d(0x133)][_0x5a924d(0x101)](_0x5a924d(0x110),'right','gap-10'),_0x2b4f39[_0x5a924d(0x13b)](_0x4b51cd);const _0x256403=document[_0x5a924d(0x121)](_0x5a924d(0x124));_0x256403[_0x5a924d(0x133)][_0x5a924d(0x101)](_0x5a924d(0xf8),'bc',_0x5a924d(0xfb)),_0x4b51cd[_0x5a924d(0x13b)](_0x256403);const _0x3e4ecb=document[_0x5a924d(0x121)](_0x5a924d(0x124));_0x3e4ecb[_0x5a924d(0x133)][_0x5a924d(0x101)](_0x5a924d(0xfb)),_0x4b51cd['appendChild'](_0x3e4ecb);const _0x3d77c5=document[_0x5a924d(0x121)](_0x5a924d(0x124));_0x3d77c5[_0x5a924d(0x133)][_0x5a924d(0x101)](_0x5a924d(0xfb)),_0x4b51cd[_0x5a924d(0x13b)](_0x3d77c5);const _0x582e1b=document[_0x5a924d(0x121)](_0x5a924d(0x124));_0x582e1b[_0x5a924d(0x133)]['add'](_0x5a924d(0xfb)),_0x4b51cd[_0x5a924d(0x13b)](_0x582e1b),mgbaStorage[_0x5a924d(0x133)][_0x5a924d(0x101)](_0x5a924d(0xff)),_0x256403[_0x5a924d(0xfd)]=()=>{const _0x25552b=_0x5a924d;_0x2b4f39['close'](),_0x2b4f39['remove'](),mgbaStorage['classList']['remove'](_0x25552b(0xff));};const _0x543a64=document[_0x5a924d(0x121)](_0x5a924d(0x124));_0x543a64[_0x5a924d(0x133)]['add'](_0x5a924d(0xfb),'rom-item','hw','cw'),_0x543a64[_0x5a924d(0x134)]=_0x5b6475,_0x2b4f39[_0x5a924d(0x13b)](_0x543a64);const _0x29b82b=document[_0x5a924d(0x121)](_0x5a924d(0x124));_0x29b82b[_0x5a924d(0x133)]['add'](_0x5a924d(0x11c),'hw','cw','gap-16'),_0x2b4f39['appendChild'](_0x29b82b);const _0x44f2fa=document['createElement'](_0x5a924d(0x124));_0x44f2fa[_0x5a924d(0x133)][_0x5a924d(0x101)]('download','bc'),_0x29b82b['appendChild'](_0x44f2fa),_0x44f2fa[_0x5a924d(0xfd)]=()=>{const _0x7fe09a=_0x5a924d;a0_0x52c9e1[_0x7fe09a(0x104)](_0xb879ef,_0x5b6475);};const _0xc20aa=document[_0x5a924d(0x121)](_0x5a924d(0x124));_0xc20aa[_0x5a924d(0x133)]['add']('delete','bc'),_0x29b82b[_0x5a924d(0x13b)](_0xc20aa),_0xc20aa[_0x5a924d(0xfd)]=async()=>{const _0x3ae858=_0x5a924d;if(window[_0x3ae858(0x12c)]('Delete\x20this\x20file?'+_0x5b6475)){const _0x2a9a09=_0x5b6475[_0x3ae858(0x10a)](/\....$/,_0x3ae858(0x12f));a0_0x52c9e1['deleteFile'](_0xb879ef),localStorage['removeItem'](_0x2a9a09+_0x3ae858(0x103)+_0x5b6475[_0x3ae858(0x108)](-0x1)),localStorage[_0x3ae858(0x106)](_0x2a9a09+'_imageState'+_0x5b6475[_0x3ae858(0x108)](-0x1)),localStorageFile(),_0x2b4f39[_0x3ae858(0xfa)](),_0x2b4f39[_0x3ae858(0xf7)](),mgbaStorage[_0x3ae858(0x133)][_0x3ae858(0xf7)]('opacity0');}};const _0x588e1b=document[_0x5a924d(0x121)](_0x5a924d(0x124));_0x588e1b[_0x5a924d(0x133)][_0x5a924d(0x101)]('rename','bc'),_0x29b82b[_0x5a924d(0x13b)](_0x588e1b),_0x588e1b[_0x5a924d(0xfd)]=async()=>{const _0x22ba81=_0x5a924d,_0x1bf838=window['prompt']('Edit\x20filename',_0x5b6475);if(_0x1bf838!==null){const _0xe2e65=_0x5b6475[_0x22ba81(0x10a)](/\....$/,_0x22ba81(0x12f)),_0x21a984=_0x1bf838[_0x22ba81(0x10a)](/\....$/,'.gba'),_0x522c8f=_0xe2e65+_0x22ba81(0x103)+_0x5b6475[_0x22ba81(0x108)](-0x1),_0x16f323=_0xe2e65+'_imageState'+_0x5b6475[_0x22ba81(0x108)](-0x1),_0x4fe886=_0x21a984+_0x22ba81(0x103)+_0x1bf838[_0x22ba81(0x108)](-0x1),_0x5f235f=_0x21a984+_0x22ba81(0x118)+_0x1bf838[_0x22ba81(0x108)](-0x1),_0x41012b=localStorage[_0x22ba81(0x120)](_0x522c8f),_0x2a9cc7=localStorage[_0x22ba81(0x120)](_0x16f323);_0x41012b!==null&&(localStorage[_0x22ba81(0x125)](_0x4fe886,_0x41012b),localStorage[_0x22ba81(0x106)](_0x522c8f)),_0x2a9cc7!==null&&(localStorage[_0x22ba81(0x125)](_0x5f235f,_0x2a9cc7),localStorage[_0x22ba81(0x106)](_0x16f323)),a0_0x52c9e1['editFile'](_0xb879ef,_0x5b6475,_0x1bf838),localStorageFile(),_0x2b4f39[_0x22ba81(0xfa)](),_0x2b4f39[_0x22ba81(0xf7)](),mgbaStorage[_0x22ba81(0x133)][_0x22ba81(0xf7)](_0x22ba81(0xff));}},_0x2b4f39[_0x5a924d(0x136)]();};const _0x2bf28b=document[_0x346fe9(0x121)](_0x346fe9(0xf6));_0x2bf28b[_0x346fe9(0x134)]=humanFileSize(a0_0x52c9e1[_0x346fe9(0x114)](_0xb879ef)),_0x2bf28b[_0x346fe9(0x133)]['add'](_0x346fe9(0x10d)),_0x4c259a[_0x346fe9(0x13b)](_0x2bf28b);}export function localStorageFile(){const _0x4e8206=a0_0x39e172,_0x275c0d=a0_0x52c9e1['listGame'](),_0x176f1e=a0_0x52c9e1[_0x4e8206(0x11d)](),_0xecf76a=a0_0x52c9e1['listState'](),_0x176392=a0_0x52c9e1[_0x4e8206(0x111)](),_0x2a4688=a0_0x52c9e1[_0x4e8206(0x12b)](),_0x48e262=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4cc634 of _0x48e262){while(_0x4cc634[_0x4e8206(0x135)]){_0x4cc634[_0x4e8206(0x112)][_0x4e8206(0xf7)]();}}for(const _0x56748d of _0x275c0d){createElementStorage(romsFile,_0x56748d,'/data/games/'+_0x56748d);}for(const _0x57f206 of _0xecf76a){createElementStorage(statesFile,_0x57f206,'/data/states/'+_0x57f206);}for(const _0x139fed of _0x176f1e){createElementStorage(savesFile,_0x139fed,'/data/saves/'+_0x139fed);}for(const _0x2839b9 of _0x176392){createElementStorage(cheatsFile,_0x2839b9,_0x4e8206(0x102)+_0x2839b9);}for(const _0x1307e6 of _0x2a4688){createElementStorage(screenshotsFile,_0x1307e6,_0x4e8206(0x119)+_0x1307e6);}}document[a0_0x39e172(0x138)](a0_0x39e172(0x129),function(){const _0x429ff9=a0_0x39e172;upLoadFile[_0x429ff9(0x138)]('change',function(){const _0x3111c3=_0x429ff9;a0_0x52c9e1[_0x3111c3(0x126)](upLoadFile);}),openLocalStorage[_0x429ff9(0x138)](_0x429ff9(0x130),function(){const _0x19446c=_0x429ff9,_0x49b2c0=localStorage[_0x19446c(0x120)](_0x19446c(0x10c));storage[_0x19446c(0x133)]['remove'](_0x19446c(0x105)),intro['classList'][_0x19446c(0x101)](_0x19446c(0x105)),ingame[_0x19446c(0x133)]['add'](_0x19446c(0x105)),_0x49b2c0===null||_0x49b2c0===''?(dropboxRestore['classList'][_0x19446c(0xf7)]('active'),dropboxBackup[_0x19446c(0x133)]['remove'](_0x19446c(0x12e)),dropboxCloud[_0x19446c(0x133)][_0x19446c(0xf7)](_0x19446c(0x12e))):(dropboxRestore[_0x19446c(0x133)][_0x19446c(0x101)](_0x19446c(0x12e)),dropboxBackup[_0x19446c(0x133)]['add']('active'),dropboxCloud[_0x19446c(0x133)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});