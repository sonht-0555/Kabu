const a0_0x556ffd=a0_0x2793;(function(_0x520dce,_0x45656f){const _0x1f6e5d=a0_0x2793,_0x498062=_0x520dce();while(!![]){try{const _0x47e1aa=-parseInt(_0x1f6e5d(0x1be))/0x1*(-parseInt(_0x1f6e5d(0x1a5))/0x2)+parseInt(_0x1f6e5d(0x1bf))/0x3+parseInt(_0x1f6e5d(0x1aa))/0x4*(-parseInt(_0x1f6e5d(0x1e4))/0x5)+-parseInt(_0x1f6e5d(0x1ce))/0x6*(parseInt(_0x1f6e5d(0x1a9))/0x7)+-parseInt(_0x1f6e5d(0x1b9))/0x8*(-parseInt(_0x1f6e5d(0x1e6))/0x9)+-parseInt(_0x1f6e5d(0x1e5))/0xa*(-parseInt(_0x1f6e5d(0x1b2))/0xb)+parseInt(_0x1f6e5d(0x1b4))/0xc*(parseInt(_0x1f6e5d(0x1ae))/0xd);if(_0x47e1aa===_0x45656f)break;else _0x498062['push'](_0x498062['shift']());}catch(_0x18cb0d){_0x498062['push'](_0x498062['shift']());}}}(a0_0x5e0f,0x5408c));import*as a0_0x54bf35 from'./main.js';const mgbaStorage=document[a0_0x556ffd(0x1e8)]('mgba-storage'),savesFile=document[a0_0x556ffd(0x1e8)]('savesFile'),romsFile=document['getElementById'](a0_0x556ffd(0x1e2)),statesFile=document[a0_0x556ffd(0x1e8)](a0_0x556ffd(0x1e1)),screenshotsFile=document[a0_0x556ffd(0x1e8)](a0_0x556ffd(0x1d0));function a0_0x5e0f(){const _0x2b020f=['rom','active','flex-1','883854EHkYPX','TiB','screenshotsFile','uploadFile','opacity0','appendChild','gap-10','uId','div','MiB','disable','prompt','PiB','fileSize','actionDiv','span','screenshots','_imageState','showModal','statesFile','romsFile','lastChild','25HbzZzh','810lFjlsb','90LJPGEh','states','getElementById','gap-16','Delete\x20this\x20file?','add','22290kOCaMl','downloadFile','remove','close','28UpOASS','164660MxjVoX','slice','editFile','storage','676srKAvr','onclick','textContent','getItem','92059ZsxzfZ','change','35016OoSpOZ','/data/saves/','mib','createElement','replace','13984NKGGNr','/data/states/','addEventListener','delete','rename','9PKiHvn','575565eXZhiV','EiB','removeItem','GiB','saves','classList','right','listFiles','length','rom-item','/data/screenshots/','cheats'];a0_0x5e0f=function(){return _0x2b020f;};return a0_0x5e0f();}function humanFileSize(_0x4573cc,_0xd45b87=![],_0x53fa28=0x1){const _0x5a3845=a0_0x556ffd,_0x147f3e=_0xd45b87?0x3e8:0x400,_0x557d40=_0xd45b87?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x5a3845(0x1d7),_0x5a3845(0x1c2),_0x5a3845(0x1cf),_0x5a3845(0x1da),_0x5a3845(0x1c0),'ZiB','YiB'];let _0x6e97df=-0x1;do{_0x4573cc/=_0x147f3e,++_0x6e97df;}while(Math['abs'](_0x4573cc)>=_0x147f3e&&_0x6e97df<_0x557d40[_0x5a3845(0x1c7)]-0x1);return _0x4573cc['toFixed'](_0x53fa28)+'\x20'+_0x557d40[_0x6e97df];}function a0_0x2793(_0x3f520a,_0x455644){const _0x5e0f4f=a0_0x5e0f();return a0_0x2793=function(_0x279364,_0x3f8360){_0x279364=_0x279364-0x1a2;let _0x1d635c=_0x5e0f4f[_0x279364];return _0x1d635c;},a0_0x2793(_0x3f520a,_0x455644);}function createElementStorage(_0x44c27b,_0x493f42,_0x2f304f){const _0x246c7c=a0_0x556ffd,_0x2ebdfa=document[_0x246c7c(0x1b7)](_0x246c7c(0x1d6));_0x2ebdfa['classList']['add']('flex-1',_0x246c7c(0x1c8),_0x246c7c(0x1cb)),_0x44c27b[_0x246c7c(0x1d3)](_0x2ebdfa);const _0x17a911=document[_0x246c7c(0x1b7)](_0x246c7c(0x1dd));_0x17a911[_0x246c7c(0x1b0)]=_0x493f42,_0x17a911[_0x246c7c(0x1c4)][_0x246c7c(0x1a4)](_0x246c7c(0x1cd)),_0x2ebdfa[_0x246c7c(0x1d3)](_0x17a911),_0x17a911[_0x246c7c(0x1af)]=()=>{const _0x349aea=_0x246c7c,_0x155437=document[_0x349aea(0x1b7)]('dialog');_0x155437['onclose']=()=>_0x155437['remove'](),_0x44c27b[_0x349aea(0x1d3)](_0x155437);const _0x570967=document[_0x349aea(0x1b7)](_0x349aea(0x1d6));_0x570967['classList'][_0x349aea(0x1a4)](_0x349aea(0x1ad),_0x349aea(0x1c5),_0x349aea(0x1d4)),_0x155437[_0x349aea(0x1d3)](_0x570967);const _0x257244=document[_0x349aea(0x1b7)]('div');_0x257244[_0x349aea(0x1c4)][_0x349aea(0x1a4)]('home','bc','flex-1'),_0x570967[_0x349aea(0x1d3)](_0x257244);const _0x1ea7f0=document[_0x349aea(0x1b7)](_0x349aea(0x1d6));_0x1ea7f0[_0x349aea(0x1c4)]['add'](_0x349aea(0x1cd)),_0x570967[_0x349aea(0x1d3)](_0x1ea7f0);const _0x20ffd4=document['createElement'](_0x349aea(0x1d6));_0x20ffd4[_0x349aea(0x1c4)]['add'](_0x349aea(0x1cd)),_0x570967[_0x349aea(0x1d3)](_0x20ffd4);const _0x83347=document[_0x349aea(0x1b7)]('div');_0x83347[_0x349aea(0x1c4)]['add'](_0x349aea(0x1cd)),_0x570967[_0x349aea(0x1d3)](_0x83347),mgbaStorage[_0x349aea(0x1c4)]['add'](_0x349aea(0x1d2)),_0x257244[_0x349aea(0x1af)]=()=>{const _0x50282=_0x349aea;_0x155437['close'](),_0x155437[_0x50282(0x1a7)](),mgbaStorage[_0x50282(0x1c4)]['remove'](_0x50282(0x1d2));};const _0x438e3c=document[_0x349aea(0x1b7)](_0x349aea(0x1d6));_0x438e3c['classList'][_0x349aea(0x1a4)](_0x349aea(0x1cd),_0x349aea(0x1c8),'hw','cw'),_0x438e3c['textContent']=_0x493f42,_0x155437[_0x349aea(0x1d3)](_0x438e3c);const _0x4287de=document[_0x349aea(0x1b7)](_0x349aea(0x1d6));_0x4287de[_0x349aea(0x1c4)][_0x349aea(0x1a4)](_0x349aea(0x1dc),'hw','cw',_0x349aea(0x1a2)),_0x155437[_0x349aea(0x1d3)](_0x4287de);const _0x1c4fc5=document[_0x349aea(0x1b7)](_0x349aea(0x1d6));_0x1c4fc5[_0x349aea(0x1c4)][_0x349aea(0x1a4)]('download','bc'),_0x4287de['appendChild'](_0x1c4fc5),_0x1c4fc5['onclick']=()=>{const _0x2eeb46=_0x349aea;a0_0x54bf35[_0x2eeb46(0x1a6)](_0x2f304f,_0x493f42);};const _0x3e7c2d=document[_0x349aea(0x1b7)]('div');_0x3e7c2d[_0x349aea(0x1c4)][_0x349aea(0x1a4)](_0x349aea(0x1bc),'bc'),_0x4287de[_0x349aea(0x1d3)](_0x3e7c2d),_0x3e7c2d['onclick']=async()=>{const _0x5b4505=_0x349aea;if(window['confirm'](_0x5b4505(0x1a3)+_0x493f42)){const _0x4fce98=_0x493f42[_0x5b4505(0x1b8)](/\....$/,'.gba');a0_0x54bf35['deleteFile'](_0x2f304f),localStorage['removeItem'](_0x4fce98+'_dateState'+_0x493f42[_0x5b4505(0x1ab)](-0x1)),localStorage[_0x5b4505(0x1c1)](_0x4fce98+_0x5b4505(0x1df)+_0x493f42[_0x5b4505(0x1ab)](-0x1)),localStorageFile(),_0x155437['close'](),_0x155437[_0x5b4505(0x1a7)](),mgbaStorage[_0x5b4505(0x1c4)][_0x5b4505(0x1a7)](_0x5b4505(0x1d2));}};const _0x27bfee=document[_0x349aea(0x1b7)]('div');_0x27bfee[_0x349aea(0x1c4)]['add'](_0x349aea(0x1bd),'bc'),_0x4287de[_0x349aea(0x1d3)](_0x27bfee),_0x27bfee[_0x349aea(0x1af)]=async()=>{const _0x1fe06c=_0x349aea,_0x585255=window[_0x1fe06c(0x1d9)]('Edit\x20filename',_0x493f42);_0x585255!==null&&(a0_0x54bf35[_0x1fe06c(0x1ac)](_0x2f304f,_0x493f42,_0x585255),localStorageFile(),_0x155437[_0x1fe06c(0x1a8)](),_0x155437['remove'](),mgbaStorage[_0x1fe06c(0x1c4)]['remove'](_0x1fe06c(0x1d2)));},_0x155437[_0x349aea(0x1e0)]();};const _0x37a53a=document[_0x246c7c(0x1b7)]('span');_0x37a53a[_0x246c7c(0x1b0)]=humanFileSize(a0_0x54bf35[_0x246c7c(0x1db)](_0x2f304f)),_0x37a53a['classList'][_0x246c7c(0x1a4)](_0x246c7c(0x1b6)),_0x2ebdfa[_0x246c7c(0x1d3)](_0x37a53a);}export function localStorageFile(){const _0x5226d5=a0_0x556ffd,_0x3e3f55=a0_0x54bf35['listFiles']('games'),_0x3e192a=a0_0x54bf35[_0x5226d5(0x1c6)](_0x5226d5(0x1c3)),_0x2a2d03=a0_0x54bf35['listFiles'](_0x5226d5(0x1e7)),_0xda7471=a0_0x54bf35[_0x5226d5(0x1c6)](_0x5226d5(0x1ca)),_0x137045=a0_0x54bf35[_0x5226d5(0x1c6)](_0x5226d5(0x1de)),_0x3a9e64=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x10ff2a of _0x3a9e64){while(_0x10ff2a['firstChild']){_0x10ff2a[_0x5226d5(0x1e3)][_0x5226d5(0x1a7)]();}}for(const _0x50ff61 of _0x3e3f55){createElementStorage(romsFile,_0x50ff61,'/data/games/'+_0x50ff61);}for(const _0x40ef7f of _0x2a2d03){createElementStorage(statesFile,_0x40ef7f,_0x5226d5(0x1ba)+_0x40ef7f);}for(const _0x1347e8 of _0x3e192a){createElementStorage(savesFile,_0x1347e8,_0x5226d5(0x1b5)+_0x1347e8);}for(const _0x21b007 of _0xda7471){createElementStorage(cheatsFile,_0x21b007,'/data/cheats/'+_0x21b007);}for(const _0x1ea879 of _0x137045){createElementStorage(screenshotsFile,_0x1ea879,_0x5226d5(0x1c9)+_0x1ea879);}}document[a0_0x556ffd(0x1bb)]('DOMContentLoaded',function(){const _0x1826f8=a0_0x556ffd;upLoadFile[_0x1826f8(0x1bb)](_0x1826f8(0x1b3),function(){const _0x3cf756=_0x1826f8;a0_0x54bf35[_0x3cf756(0x1d1)](upLoadFile);}),openLocalStorage[_0x1826f8(0x1bb)]('click',function(){const _0x52191e=_0x1826f8,_0x2b6b70=localStorage[_0x52191e(0x1b1)](_0x52191e(0x1d5));storage['classList']['remove'](_0x52191e(0x1d8)),intro['classList'][_0x52191e(0x1a4)](_0x52191e(0x1d8)),ingame[_0x52191e(0x1c4)]['add'](_0x52191e(0x1d8)),_0x2b6b70===null||_0x2b6b70===''?(dropboxRestore[_0x52191e(0x1c4)][_0x52191e(0x1a7)](_0x52191e(0x1cc)),dropboxBackup['classList']['remove'](_0x52191e(0x1cc)),dropboxCloud['classList'][_0x52191e(0x1a7)]('active')):(dropboxRestore[_0x52191e(0x1c4)][_0x52191e(0x1a4)](_0x52191e(0x1cc)),dropboxBackup[_0x52191e(0x1c4)]['add']('active'),dropboxCloud['classList'][_0x52191e(0x1a4)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});