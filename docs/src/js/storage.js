const a0_0x38e734=a0_0x3260;(function(_0x338568,_0xcb383){const _0x2ac132=a0_0x3260,_0xd82f91=_0x338568();while(!![]){try{const _0x45298e=parseInt(_0x2ac132(0x1a5))/0x1*(-parseInt(_0x2ac132(0x1c0))/0x2)+parseInt(_0x2ac132(0x1d2))/0x3*(parseInt(_0x2ac132(0x1a7))/0x4)+-parseInt(_0x2ac132(0x1ca))/0x5*(-parseInt(_0x2ac132(0x1cf))/0x6)+-parseInt(_0x2ac132(0x1e6))/0x7*(-parseInt(_0x2ac132(0x1c2))/0x8)+parseInt(_0x2ac132(0x1a3))/0x9*(parseInt(_0x2ac132(0x1be))/0xa)+-parseInt(_0x2ac132(0x1d7))/0xb+-parseInt(_0x2ac132(0x1dd))/0xc*(parseInt(_0x2ac132(0x1e5))/0xd);if(_0x45298e===_0xcb383)break;else _0xd82f91['push'](_0xd82f91['shift']());}catch(_0x24e493){_0xd82f91['push'](_0xd82f91['shift']());}}}(a0_0x43b1,0x80185));import*as a0_0x2a87d1 from'./main.js';const mgbaStorage=document[a0_0x38e734(0x1a0)](a0_0x38e734(0x1c5)),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x38e734(0x1a0)](a0_0x38e734(0x1e3)),statesFile=document[a0_0x38e734(0x1a0)](a0_0x38e734(0x1d1)),screenshotsFile=document[a0_0x38e734(0x1a0)](a0_0x38e734(0x1d5));function a0_0x43b1(){const _0xb35366=['close','104WmNjxG','7KPRFCL','/data/saves/','games','abs','getItem','gap-10','getElementById','uploadFile','textContent','261ImIpQD','onclick','625EJTWWt','TiB','4tVIRXe','slice','span','saves','Delete\x20this\x20file?','rom-item','remove','dialog','length','storage','ZiB','home','flex-1','createElement','deleteFile','prompt','YiB','gap-16','change','add','_dateState','onclose','/data/cheats/','343370xOBKoJ','right','1370VwIoMJ','delete','6419832TisNkx','KiB','replace','mgba-storage','uId','active','DOMContentLoaded','opacity0','51895RCJbOx','removeItem','downloadFile','PiB','/data/screenshots/','6pQxcrY','disable','statesFile','308031dDRcSA','fileSize','Edit\x20filename','screenshotsFile','GiB','4994110lWkcZv','classList','addEventListener','appendChild','rom','div','756744lpIeGQ','listFiles','download','/data/states/','firstChild','cheats','romsFile'];a0_0x43b1=function(){return _0xb35366;};return a0_0x43b1();}function humanFileSize(_0x49e3fb,_0x263505=![],_0x2218ee=0x1){const _0xae31fc=a0_0x38e734,_0x168406=_0x263505?0x3e8:0x400,_0x58ce01=_0x263505?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0xae31fc(0x1c3),'MiB',_0xae31fc(0x1d6),_0xae31fc(0x1a6),_0xae31fc(0x1cd),'EiB',_0xae31fc(0x1b1),_0xae31fc(0x1b7)];let _0x12e143=-0x1;do{_0x49e3fb/=_0x168406,++_0x12e143;}while(Math[_0xae31fc(0x1e9)](_0x49e3fb)>=_0x168406&&_0x12e143<_0x58ce01[_0xae31fc(0x1af)]-0x1);return _0x49e3fb['toFixed'](_0x2218ee)+'\x20'+_0x58ce01[_0x12e143];}function createElementStorage(_0xb14e32,_0x344e0f,_0x1adb60){const _0x1e33a9=a0_0x38e734,_0x15c5be=document[_0x1e33a9(0x1b4)]('div');_0x15c5be['classList'][_0x1e33a9(0x1ba)](_0x1e33a9(0x1b3),_0x1e33a9(0x1ac),_0x1e33a9(0x1db)),_0xb14e32[_0x1e33a9(0x1da)](_0x15c5be);const _0x3252f7=document[_0x1e33a9(0x1b4)]('span');_0x3252f7['textContent']=_0x344e0f,_0x3252f7[_0x1e33a9(0x1d8)][_0x1e33a9(0x1ba)](_0x1e33a9(0x1b3)),_0x15c5be[_0x1e33a9(0x1da)](_0x3252f7),_0x3252f7[_0x1e33a9(0x1a4)]=()=>{const _0x34d6fc=_0x1e33a9,_0x41393f=document['createElement'](_0x34d6fc(0x1ae));_0x41393f[_0x34d6fc(0x1bc)]=()=>_0x41393f['remove'](),_0xb14e32[_0x34d6fc(0x1da)](_0x41393f);const _0x70f2df=document['createElement'](_0x34d6fc(0x1dc));_0x70f2df[_0x34d6fc(0x1d8)][_0x34d6fc(0x1ba)](_0x34d6fc(0x1b0),_0x34d6fc(0x1bf),_0x34d6fc(0x1eb)),_0x41393f[_0x34d6fc(0x1da)](_0x70f2df);const _0x9b5950=document['createElement'](_0x34d6fc(0x1dc));_0x9b5950['classList'][_0x34d6fc(0x1ba)](_0x34d6fc(0x1b2),'bc','flex-1'),_0x70f2df['appendChild'](_0x9b5950);const _0x4665dc=document[_0x34d6fc(0x1b4)](_0x34d6fc(0x1dc));_0x4665dc[_0x34d6fc(0x1d8)][_0x34d6fc(0x1ba)](_0x34d6fc(0x1b3)),_0x70f2df[_0x34d6fc(0x1da)](_0x4665dc);const _0x2e8cf8=document[_0x34d6fc(0x1b4)](_0x34d6fc(0x1dc));_0x2e8cf8['classList'][_0x34d6fc(0x1ba)](_0x34d6fc(0x1b3)),_0x70f2df['appendChild'](_0x2e8cf8);const _0x302574=document['createElement'](_0x34d6fc(0x1dc));_0x302574['classList'][_0x34d6fc(0x1ba)](_0x34d6fc(0x1b3)),_0x70f2df[_0x34d6fc(0x1da)](_0x302574),mgbaStorage['classList']['add']('opacity0'),_0x9b5950['onclick']=()=>{const _0x49d5c9=_0x34d6fc;_0x41393f[_0x49d5c9(0x1e4)](),_0x41393f[_0x49d5c9(0x1ad)](),mgbaStorage['classList'][_0x49d5c9(0x1ad)](_0x49d5c9(0x1c9));};const _0x41f873=document['createElement'](_0x34d6fc(0x1dc));_0x41f873['classList'][_0x34d6fc(0x1ba)](_0x34d6fc(0x1b3),_0x34d6fc(0x1ac),'hw','cw'),_0x41f873[_0x34d6fc(0x1a2)]=_0x344e0f,_0x41393f[_0x34d6fc(0x1da)](_0x41f873);const _0x1f0a91=document['createElement']('div');_0x1f0a91['classList']['add']('actionDiv','hw','cw',_0x34d6fc(0x1b8)),_0x41393f[_0x34d6fc(0x1da)](_0x1f0a91);const _0x20bac6=document['createElement'](_0x34d6fc(0x1dc));_0x20bac6[_0x34d6fc(0x1d8)][_0x34d6fc(0x1ba)](_0x34d6fc(0x1df),'bc'),_0x1f0a91[_0x34d6fc(0x1da)](_0x20bac6),_0x20bac6[_0x34d6fc(0x1a4)]=()=>{const _0xfb8f94=_0x34d6fc;a0_0x2a87d1[_0xfb8f94(0x1cc)](_0x1adb60,_0x344e0f);};const _0x35f275=document[_0x34d6fc(0x1b4)](_0x34d6fc(0x1dc));_0x35f275[_0x34d6fc(0x1d8)][_0x34d6fc(0x1ba)](_0x34d6fc(0x1c1),'bc'),_0x1f0a91[_0x34d6fc(0x1da)](_0x35f275),_0x35f275[_0x34d6fc(0x1a4)]=async()=>{const _0xeeff64=_0x34d6fc;if(window['confirm'](_0xeeff64(0x1ab)+_0x344e0f)){const _0x553049=_0x344e0f[_0xeeff64(0x1c4)](/\....$/,'.gba');a0_0x2a87d1[_0xeeff64(0x1b5)](_0x1adb60),localStorage[_0xeeff64(0x1cb)](_0x553049+_0xeeff64(0x1bb)+_0x344e0f[_0xeeff64(0x1a8)](-0x1)),localStorage['removeItem'](_0x553049+'_imageState'+_0x344e0f[_0xeeff64(0x1a8)](-0x1)),localStorageFile(),_0x41393f[_0xeeff64(0x1e4)](),_0x41393f[_0xeeff64(0x1ad)](),mgbaStorage[_0xeeff64(0x1d8)][_0xeeff64(0x1ad)](_0xeeff64(0x1c9));}};const _0x5f0c2d=document[_0x34d6fc(0x1b4)](_0x34d6fc(0x1dc));_0x5f0c2d['classList'][_0x34d6fc(0x1ba)]('rename','bc'),_0x1f0a91['appendChild'](_0x5f0c2d),_0x5f0c2d[_0x34d6fc(0x1a4)]=async()=>{const _0x40fd2b=_0x34d6fc,_0x56ef9d=window[_0x40fd2b(0x1b6)](_0x40fd2b(0x1d4),_0x344e0f);_0x56ef9d!==null&&(a0_0x2a87d1['editFile'](_0x1adb60,_0x344e0f,_0x56ef9d),localStorageFile(),_0x41393f[_0x40fd2b(0x1e4)](),_0x41393f[_0x40fd2b(0x1ad)](),mgbaStorage[_0x40fd2b(0x1d8)]['remove'](_0x40fd2b(0x1c9)));},_0x41393f['showModal']();};const _0x34b089=document['createElement'](_0x1e33a9(0x1a9));_0x34b089[_0x1e33a9(0x1a2)]=humanFileSize(a0_0x2a87d1[_0x1e33a9(0x1d3)](_0x1adb60)),_0x34b089['classList'][_0x1e33a9(0x1ba)]('mib'),_0x15c5be[_0x1e33a9(0x1da)](_0x34b089);}function a0_0x3260(_0x37831a,_0x28d03f){const _0x43b15f=a0_0x43b1();return a0_0x3260=function(_0x3260c4,_0x555ed1){_0x3260c4=_0x3260c4-0x1a0;let _0x3a1eac=_0x43b15f[_0x3260c4];return _0x3a1eac;},a0_0x3260(_0x37831a,_0x28d03f);}export function localStorageFile(){const _0x5512d6=a0_0x38e734,_0x3713b3=a0_0x2a87d1[_0x5512d6(0x1de)](_0x5512d6(0x1e8)),_0x622072=a0_0x2a87d1[_0x5512d6(0x1de)](_0x5512d6(0x1aa)),_0x19c2c2=a0_0x2a87d1[_0x5512d6(0x1de)]('states'),_0x1d06cf=a0_0x2a87d1['listFiles'](_0x5512d6(0x1e2)),_0x2b1610=a0_0x2a87d1[_0x5512d6(0x1de)]('screenshots'),_0x4c9b73=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x32a2bf of _0x4c9b73){while(_0x32a2bf[_0x5512d6(0x1e1)]){_0x32a2bf['lastChild']['remove']();}}for(const _0x599927 of _0x3713b3){createElementStorage(romsFile,_0x599927,'/data/games/'+_0x599927);}for(const _0x29353c of _0x19c2c2){createElementStorage(statesFile,_0x29353c,_0x5512d6(0x1e0)+_0x29353c);}for(const _0x281dd9 of _0x622072){createElementStorage(savesFile,_0x281dd9,_0x5512d6(0x1e7)+_0x281dd9);}for(const _0x229eed of _0x1d06cf){createElementStorage(cheatsFile,_0x229eed,_0x5512d6(0x1bd)+_0x229eed);}for(const _0x2b1a72 of _0x2b1610){createElementStorage(screenshotsFile,_0x2b1a72,_0x5512d6(0x1ce)+_0x2b1a72);}}document[a0_0x38e734(0x1d9)](a0_0x38e734(0x1c8),function(){const _0x1d2732=a0_0x38e734;upLoadFile[_0x1d2732(0x1d9)](_0x1d2732(0x1b9),function(){const _0x452fa7=_0x1d2732;a0_0x2a87d1[_0x452fa7(0x1a1)](upLoadFile);}),openLocalStorage[_0x1d2732(0x1d9)]('click',function(){const _0x4beabe=_0x1d2732,_0xef5152=localStorage[_0x4beabe(0x1ea)](_0x4beabe(0x1c6));storage[_0x4beabe(0x1d8)][_0x4beabe(0x1ad)](_0x4beabe(0x1d0)),intro[_0x4beabe(0x1d8)][_0x4beabe(0x1ba)](_0x4beabe(0x1d0)),ingame[_0x4beabe(0x1d8)][_0x4beabe(0x1ba)]('disable'),_0xef5152===null||_0xef5152===''?(dropboxRestore[_0x4beabe(0x1d8)][_0x4beabe(0x1ad)]('active'),dropboxBackup[_0x4beabe(0x1d8)][_0x4beabe(0x1ad)](_0x4beabe(0x1c7)),dropboxCloud[_0x4beabe(0x1d8)]['remove'](_0x4beabe(0x1c7))):(dropboxRestore['classList'][_0x4beabe(0x1ba)](_0x4beabe(0x1c7)),dropboxBackup[_0x4beabe(0x1d8)]['add'](_0x4beabe(0x1c7)),dropboxCloud['classList'][_0x4beabe(0x1ba)](_0x4beabe(0x1c7)));}),setTimeout(()=>{localStorageFile();},0xbb8);});