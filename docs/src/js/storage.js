const a0_0x3fcd56=a0_0x2ed4;(function(_0x357fa8,_0x130c6d){const _0x19798a=a0_0x2ed4,_0x74e47e=_0x357fa8();while(!![]){try{const _0x27788c=-parseInt(_0x19798a(0xbd))/0x1*(-parseInt(_0x19798a(0x90))/0x2)+parseInt(_0x19798a(0xa9))/0x3+-parseInt(_0x19798a(0xb2))/0x4+parseInt(_0x19798a(0x8e))/0x5*(-parseInt(_0x19798a(0xc1))/0x6)+parseInt(_0x19798a(0xb4))/0x7*(-parseInt(_0x19798a(0xa4))/0x8)+parseInt(_0x19798a(0x82))/0x9*(parseInt(_0x19798a(0x85))/0xa)+-parseInt(_0x19798a(0xa1))/0xb*(-parseInt(_0x19798a(0xba))/0xc);if(_0x27788c===_0x130c6d)break;else _0x74e47e['push'](_0x74e47e['shift']());}catch(_0x5abc7c){_0x74e47e['push'](_0x74e47e['shift']());}}}(a0_0x4f1d,0x677ed));function a0_0x2ed4(_0x85626f,_0x309df5){const _0x4f1d63=a0_0x4f1d();return a0_0x2ed4=function(_0x2ed4e2,_0x38a287){_0x2ed4e2=_0x2ed4e2-0x7c;let _0x172406=_0x4f1d63[_0x2ed4e2];return _0x172406;},a0_0x2ed4(_0x85626f,_0x309df5);}import*as a0_0x3cd474 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x3fcd56(0xcc)),savesFile=document[a0_0x3fcd56(0x9d)]('savesFile'),romsFile=document[a0_0x3fcd56(0x9d)](a0_0x3fcd56(0xb6)),statesFile=document['getElementById'](a0_0x3fcd56(0x9a)),screenshotsFile=document[a0_0x3fcd56(0x9d)](a0_0x3fcd56(0xc6));function a0_0x4f1d(){const _0x3e983d=['classList','removeItem','getItem','2728979UrjCBz','addEventListener','files','16SOqDuc','DOMContentLoaded','uploadGame','YiB','span','779145iHZaVv','gap-10','uploadSavSta','/data/games/','/data/saves/','disable','listScreenshot','active','_imageState','1540496OGbjQP','Delete\x20this\x20file?','1713068uYnjsS','home','romsFile','length','Edit\x20filename','EiB','24EMmqff','rename','change','1XApnew','abs','onclick','.gba','132XkrlQn','createElement','remove','delete','storage','screenshotsFile','lastChild','GiB','click','firstChild','download','mgba-storage','slice','.bc','showModal','listCheat','div','_dateState','flex-1','onclose','opacity0','appendChild','confirm','261027aGryjP','listState','PiB','180QmpQDq','MiB','rom','textContent','fileSize','/data/screenshots/','close','replace','right','100235nEFfLg','uId','923152aPrRNL','editFile','setItem','rom-item','add','downloadFile','.gbc','gap-16','endsWith','dialog','statesFile','actionDiv','/data/cheats/','getElementById'];a0_0x4f1d=function(){return _0x3e983d;};return a0_0x4f1d();}function humanFileSize(_0x5a0e8c,_0x2aa47f=![],_0x24994d=0x1){const _0x3a40e1=a0_0x3fcd56,_0x191140=_0x2aa47f?0x3e8:0x400,_0x63ccba=_0x2aa47f?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x3a40e1(0x86),_0x3a40e1(0xc8),'TiB',_0x3a40e1(0x84),_0x3a40e1(0xb9),'ZiB',_0x3a40e1(0xa7)];let _0x24be83=-0x1;do{_0x5a0e8c/=_0x191140,++_0x24be83;}while(Math[_0x3a40e1(0xbe)](_0x5a0e8c)>=_0x191140&&_0x24be83<_0x63ccba[_0x3a40e1(0xb7)]-0x1);return _0x5a0e8c['toFixed'](_0x24994d)+'\x20'+_0x63ccba[_0x24be83];}function createElementStorage(_0x1606e1,_0x1bacdb,_0x27759c){const _0x44afd3=a0_0x3fcd56,_0xe77c64=document[_0x44afd3(0xc2)](_0x44afd3(0xd1));_0xe77c64[_0x44afd3(0x9e)][_0x44afd3(0x94)](_0x44afd3(0x7d),'rom-item',_0x44afd3(0x87)),_0x1606e1[_0x44afd3(0x80)](_0xe77c64);const _0x4b354e=document[_0x44afd3(0xc2)](_0x44afd3(0xa8));_0x4b354e[_0x44afd3(0x88)]=_0x1bacdb,_0x4b354e[_0x44afd3(0x9e)][_0x44afd3(0x94)]('flex-1'),_0xe77c64[_0x44afd3(0x80)](_0x4b354e),_0x4b354e[_0x44afd3(0xbf)]=()=>{const _0x3be4bf=_0x44afd3,_0x54690c=document['createElement'](_0x3be4bf(0x99));_0x54690c[_0x3be4bf(0x7e)]=()=>_0x54690c['remove'](),_0x1606e1[_0x3be4bf(0x80)](_0x54690c);const _0x4e9b70=document['createElement']('div');_0x4e9b70[_0x3be4bf(0x9e)][_0x3be4bf(0x94)](_0x3be4bf(0xc5),_0x3be4bf(0x8d),_0x3be4bf(0xaa)),_0x54690c['appendChild'](_0x4e9b70);const _0x569266=document[_0x3be4bf(0xc2)]('div');_0x569266[_0x3be4bf(0x9e)]['add'](_0x3be4bf(0xb5),'bc',_0x3be4bf(0x7d)),_0x4e9b70['appendChild'](_0x569266);const _0x1f4f88=document[_0x3be4bf(0xc2)]('div');_0x1f4f88[_0x3be4bf(0x9e)][_0x3be4bf(0x94)](_0x3be4bf(0x7d)),_0x4e9b70['appendChild'](_0x1f4f88);const _0x337826=document[_0x3be4bf(0xc2)]('div');_0x337826[_0x3be4bf(0x9e)]['add'](_0x3be4bf(0x7d)),_0x4e9b70[_0x3be4bf(0x80)](_0x337826);const _0x3a78b5=document['createElement'](_0x3be4bf(0xd1));_0x3a78b5[_0x3be4bf(0x9e)]['add'](_0x3be4bf(0x7d)),_0x4e9b70[_0x3be4bf(0x80)](_0x3a78b5),mgbaStorage[_0x3be4bf(0x9e)][_0x3be4bf(0x94)](_0x3be4bf(0x7f)),_0x569266[_0x3be4bf(0xbf)]=()=>{const _0x2bdb58=_0x3be4bf;_0x54690c[_0x2bdb58(0x8b)](),_0x54690c['remove'](),mgbaStorage[_0x2bdb58(0x9e)][_0x2bdb58(0xc3)](_0x2bdb58(0x7f));};const _0x19419d=document[_0x3be4bf(0xc2)](_0x3be4bf(0xd1));_0x19419d[_0x3be4bf(0x9e)][_0x3be4bf(0x94)]('flex-1',_0x3be4bf(0x93),'hw','cw'),_0x19419d[_0x3be4bf(0x88)]=_0x1bacdb,_0x54690c[_0x3be4bf(0x80)](_0x19419d);const _0x500518=document[_0x3be4bf(0xc2)](_0x3be4bf(0xd1));_0x500518[_0x3be4bf(0x9e)][_0x3be4bf(0x94)](_0x3be4bf(0x9b),'hw','cw',_0x3be4bf(0x97)),_0x54690c[_0x3be4bf(0x80)](_0x500518);const _0x3c61b0=document[_0x3be4bf(0xc2)](_0x3be4bf(0xd1));_0x3c61b0[_0x3be4bf(0x9e)]['add'](_0x3be4bf(0xcb),'bc'),_0x500518[_0x3be4bf(0x80)](_0x3c61b0),_0x3c61b0[_0x3be4bf(0xbf)]=()=>{const _0x39f68e=_0x3be4bf;a0_0x3cd474[_0x39f68e(0x95)](_0x27759c,_0x1bacdb);};const _0x2d19c4=document[_0x3be4bf(0xc2)](_0x3be4bf(0xd1));_0x2d19c4[_0x3be4bf(0x9e)][_0x3be4bf(0x94)](_0x3be4bf(0xc4),'bc'),_0x500518[_0x3be4bf(0x80)](_0x2d19c4),_0x2d19c4[_0x3be4bf(0xbf)]=async()=>{const _0x58f855=_0x3be4bf;if(window[_0x58f855(0x81)](_0x58f855(0xb3)+_0x1bacdb)){const _0x6ccf52=_0x1bacdb[_0x58f855(0x8c)](/\....$/,_0x58f855(0xc0));a0_0x3cd474['deleteFile'](_0x27759c),localStorage[_0x58f855(0x9f)](_0x6ccf52+_0x58f855(0x7c)+_0x1bacdb[_0x58f855(0xcd)](-0x1)),localStorage[_0x58f855(0x9f)](_0x6ccf52+'_imageState'+_0x1bacdb[_0x58f855(0xcd)](-0x1)),localStorageFile(),_0x54690c['close'](),_0x54690c[_0x58f855(0xc3)](),mgbaStorage['classList'][_0x58f855(0xc3)](_0x58f855(0x7f));}};const _0x10dc50=document[_0x3be4bf(0xc2)](_0x3be4bf(0xd1));_0x10dc50['classList'][_0x3be4bf(0x94)](_0x3be4bf(0xbb),'bc'),_0x500518[_0x3be4bf(0x80)](_0x10dc50),_0x10dc50[_0x3be4bf(0xbf)]=async()=>{const _0xf5d79d=_0x3be4bf,_0xc2ce5e=window['prompt'](_0xf5d79d(0xb8),_0x1bacdb);if(_0xc2ce5e!==null){const _0x950cb=_0x1bacdb[_0xf5d79d(0x8c)](/\....$/,_0xf5d79d(0xc0)),_0x493e9e=_0xc2ce5e[_0xf5d79d(0x8c)](/\....$/,_0xf5d79d(0xc0)),_0x2f00d4=_0x950cb+'_dateState'+_0x1bacdb[_0xf5d79d(0xcd)](-0x1),_0x4abf63=_0x950cb+_0xf5d79d(0xb1)+_0x1bacdb[_0xf5d79d(0xcd)](-0x1),_0x522e26=_0x493e9e+'_dateState'+_0xc2ce5e['slice'](-0x1),_0x5bd1aa=_0x493e9e+_0xf5d79d(0xb1)+_0xc2ce5e[_0xf5d79d(0xcd)](-0x1),_0x517865=localStorage[_0xf5d79d(0xa0)](_0x2f00d4),_0x24470a=localStorage['getItem'](_0x4abf63);_0x517865!==null&&(localStorage[_0xf5d79d(0x92)](_0x522e26,_0x517865),localStorage[_0xf5d79d(0x9f)](_0x2f00d4)),_0x24470a!==null&&(localStorage[_0xf5d79d(0x92)](_0x5bd1aa,_0x24470a),localStorage[_0xf5d79d(0x9f)](_0x4abf63)),a0_0x3cd474[_0xf5d79d(0x91)](_0x27759c,_0x1bacdb,_0xc2ce5e),localStorageFile(),_0x54690c[_0xf5d79d(0x8b)](),_0x54690c['remove'](),mgbaStorage[_0xf5d79d(0x9e)][_0xf5d79d(0xc3)](_0xf5d79d(0x7f));}},_0x54690c[_0x3be4bf(0xcf)]();};const _0x349ebc=document[_0x44afd3(0xc2)](_0x44afd3(0xa8));_0x349ebc[_0x44afd3(0x88)]=humanFileSize(a0_0x3cd474[_0x44afd3(0x89)](_0x27759c)),_0x349ebc[_0x44afd3(0x9e)][_0x44afd3(0x94)]('mib'),_0xe77c64['appendChild'](_0x349ebc);}export function localStorageFile(){const _0x2f0b2f=a0_0x3fcd56,_0x27012e=a0_0x3cd474['listGame'](),_0x30b919=a0_0x3cd474['listSave'](),_0x2d0168=a0_0x3cd474[_0x2f0b2f(0x83)](),_0x109013=a0_0x3cd474[_0x2f0b2f(0xd0)](),_0x40c28e=a0_0x3cd474[_0x2f0b2f(0xaf)](),_0x610660=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x6d326b of _0x610660){while(_0x6d326b[_0x2f0b2f(0xca)]){_0x6d326b[_0x2f0b2f(0xc7)][_0x2f0b2f(0xc3)]();}}for(const _0x3aca61 of _0x27012e){createElementStorage(romsFile,_0x3aca61,_0x2f0b2f(0xac)+_0x3aca61);}for(const _0x3fd8c6 of _0x2d0168){createElementStorage(statesFile,_0x3fd8c6,'/data/states/'+_0x3fd8c6);}for(const _0x1cdcce of _0x30b919){createElementStorage(savesFile,_0x1cdcce,_0x2f0b2f(0xad)+_0x1cdcce);}for(const _0x2f7dbb of _0x109013){createElementStorage(cheatsFile,_0x2f7dbb,_0x2f0b2f(0x9c)+_0x2f7dbb);}for(const _0x4e0ec2 of _0x40c28e){createElementStorage(screenshotsFile,_0x4e0ec2,_0x2f0b2f(0x8a)+_0x4e0ec2);}}document[a0_0x3fcd56(0xa2)](a0_0x3fcd56(0xa5),function(){const _0x1e54c4=a0_0x3fcd56;upLoadFile[_0x1e54c4(0xa2)](_0x1e54c4(0xbc),function(){const _0xa1812a=_0x1e54c4,_0x27015f=upLoadFile[_0xa1812a(0xa3)][0x0]['name'];if(_0x27015f[_0xa1812a(0x98)]('.cheats'))a0_0x3cd474['uploadCheat'](upLoadFile);else _0x27015f[_0xa1812a(0x98)](_0xa1812a(0xc0))||_0x27015f[_0xa1812a(0x98)](_0xa1812a(0x96))||_0x27015f[_0xa1812a(0x98)](_0xa1812a(0xce))?a0_0x3cd474[_0xa1812a(0xa6)](upLoadFile):a0_0x3cd474[_0xa1812a(0xab)](upLoadFile);}),openLocalStorage[_0x1e54c4(0xa2)](_0x1e54c4(0xc9),function(){const _0x3abc18=_0x1e54c4,_0x3db6fc=localStorage[_0x3abc18(0xa0)](_0x3abc18(0x8f));storage[_0x3abc18(0x9e)][_0x3abc18(0xc3)](_0x3abc18(0xae)),intro[_0x3abc18(0x9e)]['add'](_0x3abc18(0xae)),ingame[_0x3abc18(0x9e)][_0x3abc18(0x94)](_0x3abc18(0xae)),_0x3db6fc===null||_0x3db6fc===''?(dropboxRestore[_0x3abc18(0x9e)][_0x3abc18(0xc3)]('active'),dropboxBackup[_0x3abc18(0x9e)][_0x3abc18(0xc3)]('active'),dropboxCloud[_0x3abc18(0x9e)]['remove'](_0x3abc18(0xb0))):(dropboxRestore[_0x3abc18(0x9e)][_0x3abc18(0x94)](_0x3abc18(0xb0)),dropboxBackup['classList'][_0x3abc18(0x94)](_0x3abc18(0xb0)),dropboxCloud[_0x3abc18(0x9e)][_0x3abc18(0x94)](_0x3abc18(0xb0)));}),setTimeout(()=>{localStorageFile();},0xbb8);});