const a0_0x4c66b9=a0_0x45f2;(function(_0xabfc6c,_0xcfd5d1){const _0x123469=a0_0x45f2,_0x442952=_0xabfc6c();while(!![]){try{const _0x42213=-parseInt(_0x123469(0xc4))/0x1+parseInt(_0x123469(0x9d))/0x2*(parseInt(_0x123469(0xaa))/0x3)+-parseInt(_0x123469(0xac))/0x4+parseInt(_0x123469(0x94))/0x5+parseInt(_0x123469(0xba))/0x6*(parseInt(_0x123469(0xa0))/0x7)+parseInt(_0x123469(0x96))/0x8+parseInt(_0x123469(0xa5))/0x9;if(_0x42213===_0xcfd5d1)break;else _0x442952['push'](_0x442952['shift']());}catch(_0x3ba0bd){_0x442952['push'](_0x442952['shift']());}}}(a0_0x2297,0xa1a57));function a0_0x2297(){const _0x30343d=['uId','listSave','div','gap-16','fileSize','change','deleteFile','span','/data/saves/','_dateState','statesFile','1662jpLSPu','addEventListener','createElement','delete','prompt','actionDiv','getElementById','PiB','KiB','editFile','1246079WvjBBe','listCheat','classList','storage','/data/games/','EiB','Edit\x20filename','YiB','remove','screenshotsFile','gap-10','MiB','listState','rom-item','right','opacity0','active','textContent','lastChild','close','removeItem','romsFile','3567220uufuYf','TiB','2674264bYpihO','toFixed','confirm','/data/cheats/','onclose','DOMContentLoaded','_imageState','548pegdpO','appendChild','slice','23443mROJZf','onclick','rom','add','flex-1','1153872cOjhkB','mib','Delete\x20this\x20file?','showModal','.gba','5847EjjkIV','download','2917808MLTame','disable','listScreenshot'];a0_0x2297=function(){return _0x30343d;};return a0_0x2297();}import*as a0_0x4bb3a1 from'./main.js';const mgbaStorage=document['getElementById']('mgba-storage'),savesFile=document[a0_0x4c66b9(0xc0)]('savesFile'),romsFile=document[a0_0x4c66b9(0xc0)](a0_0x4c66b9(0x93)),statesFile=document[a0_0x4c66b9(0xc0)](a0_0x4c66b9(0xb9)),screenshotsFile=document[a0_0x4c66b9(0xc0)](a0_0x4c66b9(0xcd));function a0_0x45f2(_0x276e9a,_0x2a6afe){const _0x2297a9=a0_0x2297();return a0_0x45f2=function(_0x45f2ee,_0x56ef64){_0x45f2ee=_0x45f2ee-0x8d;let _0x56e74b=_0x2297a9[_0x45f2ee];return _0x56e74b;},a0_0x45f2(_0x276e9a,_0x2a6afe);}function humanFileSize(_0x578667,_0x34a7aa=![],_0x3492d5=0x1){const _0xa61ef1=a0_0x4c66b9,_0x10c3df=_0x34a7aa?0x3e8:0x400,_0x7ec53a=_0x34a7aa?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0xa61ef1(0xc2),_0xa61ef1(0xcf),'GiB',_0xa61ef1(0x95),_0xa61ef1(0xc1),_0xa61ef1(0xc9),'ZiB',_0xa61ef1(0xcb)];let _0x3f441b=-0x1;do{_0x578667/=_0x10c3df,++_0x3f441b;}while(Math['abs'](_0x578667)>=_0x10c3df&&_0x3f441b<_0x7ec53a['length']-0x1);return _0x578667[_0xa61ef1(0x97)](_0x3492d5)+'\x20'+_0x7ec53a[_0x3f441b];}function createElementStorage(_0xa53e5c,_0x4d5943,_0x4fdf4b){const _0x30b8bc=a0_0x4c66b9,_0x18f307=document['createElement'](_0x30b8bc(0xb1));_0x18f307['classList'][_0x30b8bc(0xa3)](_0x30b8bc(0xa4),_0x30b8bc(0xd1),_0x30b8bc(0xa2)),_0xa53e5c[_0x30b8bc(0x9e)](_0x18f307);const _0x45b039=document[_0x30b8bc(0xbc)](_0x30b8bc(0xb6));_0x45b039[_0x30b8bc(0x8f)]=_0x4d5943,_0x45b039[_0x30b8bc(0xc6)][_0x30b8bc(0xa3)]('flex-1'),_0x18f307[_0x30b8bc(0x9e)](_0x45b039),_0x45b039[_0x30b8bc(0xa1)]=()=>{const _0x18a22c=_0x30b8bc,_0x25bff5=document[_0x18a22c(0xbc)]('dialog');_0x25bff5[_0x18a22c(0x9a)]=()=>_0x25bff5[_0x18a22c(0xcc)](),_0xa53e5c[_0x18a22c(0x9e)](_0x25bff5);const _0x516397=document[_0x18a22c(0xbc)](_0x18a22c(0xb1));_0x516397[_0x18a22c(0xc6)][_0x18a22c(0xa3)](_0x18a22c(0xc7),_0x18a22c(0xd2),_0x18a22c(0xce)),_0x25bff5[_0x18a22c(0x9e)](_0x516397);const _0x119cac=document['createElement'](_0x18a22c(0xb1));_0x119cac[_0x18a22c(0xc6)][_0x18a22c(0xa3)]('home','bc',_0x18a22c(0xa4)),_0x516397[_0x18a22c(0x9e)](_0x119cac);const _0x130bda=document['createElement'](_0x18a22c(0xb1));_0x130bda['classList'][_0x18a22c(0xa3)]('flex-1'),_0x516397[_0x18a22c(0x9e)](_0x130bda);const _0x25ad8d=document[_0x18a22c(0xbc)](_0x18a22c(0xb1));_0x25ad8d[_0x18a22c(0xc6)]['add'](_0x18a22c(0xa4)),_0x516397['appendChild'](_0x25ad8d);const _0x45ed84=document[_0x18a22c(0xbc)](_0x18a22c(0xb1));_0x45ed84[_0x18a22c(0xc6)][_0x18a22c(0xa3)](_0x18a22c(0xa4)),_0x516397[_0x18a22c(0x9e)](_0x45ed84),mgbaStorage['classList'][_0x18a22c(0xa3)](_0x18a22c(0x8d)),_0x119cac[_0x18a22c(0xa1)]=()=>{const _0xff5e65=_0x18a22c;_0x25bff5[_0xff5e65(0x91)](),_0x25bff5[_0xff5e65(0xcc)](),mgbaStorage[_0xff5e65(0xc6)][_0xff5e65(0xcc)]('opacity0');};const _0x11ee09=document['createElement']('div');_0x11ee09['classList'][_0x18a22c(0xa3)](_0x18a22c(0xa4),_0x18a22c(0xd1),'hw','cw'),_0x11ee09['textContent']=_0x4d5943,_0x25bff5[_0x18a22c(0x9e)](_0x11ee09);const _0x39afa5=document[_0x18a22c(0xbc)](_0x18a22c(0xb1));_0x39afa5[_0x18a22c(0xc6)]['add'](_0x18a22c(0xbf),'hw','cw',_0x18a22c(0xb2)),_0x25bff5['appendChild'](_0x39afa5);const _0x21662f=document['createElement']('div');_0x21662f[_0x18a22c(0xc6)][_0x18a22c(0xa3)](_0x18a22c(0xab),'bc'),_0x39afa5[_0x18a22c(0x9e)](_0x21662f),_0x21662f[_0x18a22c(0xa1)]=()=>{a0_0x4bb3a1['downloadFile'](_0x4fdf4b,_0x4d5943);};const _0x37aff6=document[_0x18a22c(0xbc)](_0x18a22c(0xb1));_0x37aff6['classList']['add'](_0x18a22c(0xbd),'bc'),_0x39afa5[_0x18a22c(0x9e)](_0x37aff6),_0x37aff6['onclick']=async()=>{const _0x522c0f=_0x18a22c;if(window[_0x522c0f(0x98)](_0x522c0f(0xa7)+_0x4d5943)){const _0x30f5b9=_0x4d5943['replace'](/\....$/,_0x522c0f(0xa9));a0_0x4bb3a1[_0x522c0f(0xb5)](_0x4fdf4b),localStorage[_0x522c0f(0x92)](_0x30f5b9+_0x522c0f(0xb8)+_0x4d5943['slice'](-0x1)),localStorage['removeItem'](_0x30f5b9+_0x522c0f(0x9c)+_0x4d5943[_0x522c0f(0x9f)](-0x1)),localStorageFile(),_0x25bff5[_0x522c0f(0x91)](),_0x25bff5['remove'](),mgbaStorage[_0x522c0f(0xc6)][_0x522c0f(0xcc)](_0x522c0f(0x8d));}};const _0x5410a7=document[_0x18a22c(0xbc)](_0x18a22c(0xb1));_0x5410a7[_0x18a22c(0xc6)][_0x18a22c(0xa3)]('rename','bc'),_0x39afa5[_0x18a22c(0x9e)](_0x5410a7),_0x5410a7[_0x18a22c(0xa1)]=async()=>{const _0x162782=_0x18a22c,_0x40cdbb=window[_0x162782(0xbe)](_0x162782(0xca),_0x4d5943);_0x40cdbb!==null&&(a0_0x4bb3a1[_0x162782(0xc3)](_0x4fdf4b,_0x4d5943,_0x40cdbb),localStorageFile(),_0x25bff5['close'](),_0x25bff5['remove'](),mgbaStorage[_0x162782(0xc6)][_0x162782(0xcc)](_0x162782(0x8d)));},_0x25bff5[_0x18a22c(0xa8)]();};const _0x5d2158=document[_0x30b8bc(0xbc)]('span');_0x5d2158['textContent']=humanFileSize(a0_0x4bb3a1[_0x30b8bc(0xb3)](_0x4fdf4b)),_0x5d2158[_0x30b8bc(0xc6)][_0x30b8bc(0xa3)](_0x30b8bc(0xa6)),_0x18f307[_0x30b8bc(0x9e)](_0x5d2158);}export function localStorageFile(){const _0xbcded6=a0_0x4c66b9,_0x55b57a=a0_0x4bb3a1['listGame'](),_0x48c0f8=a0_0x4bb3a1[_0xbcded6(0xb0)](),_0x521d9a=a0_0x4bb3a1[_0xbcded6(0xd0)](),_0x5c0d85=a0_0x4bb3a1[_0xbcded6(0xc5)](),_0x2cd55f=a0_0x4bb3a1[_0xbcded6(0xae)](),_0x27840b=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x37029a of _0x27840b){while(_0x37029a['firstChild']){_0x37029a[_0xbcded6(0x90)][_0xbcded6(0xcc)]();}}for(const _0x7a5857 of _0x55b57a){createElementStorage(romsFile,_0x7a5857,_0xbcded6(0xc8)+_0x7a5857);}for(const _0x45c3d2 of _0x521d9a){createElementStorage(statesFile,_0x45c3d2,'/data/states/'+_0x45c3d2);}for(const _0x40a963 of _0x48c0f8){createElementStorage(savesFile,_0x40a963,_0xbcded6(0xb7)+_0x40a963);}for(const _0x155ff9 of _0x5c0d85){createElementStorage(cheatsFile,_0x155ff9,_0xbcded6(0x99)+_0x155ff9);}for(const _0x28cf25 of _0x2cd55f){createElementStorage(screenshotsFile,_0x28cf25,'/data/screenshots/'+_0x28cf25);}}document[a0_0x4c66b9(0xbb)](a0_0x4c66b9(0x9b),function(){const _0x1677b4=a0_0x4c66b9;upLoadFile['addEventListener'](_0x1677b4(0xb4),function(){a0_0x4bb3a1['uploadFile'](upLoadFile);}),openLocalStorage[_0x1677b4(0xbb)]('click',function(){const _0x1eb0d6=_0x1677b4,_0x51a370=localStorage['getItem'](_0x1eb0d6(0xaf));storage[_0x1eb0d6(0xc6)][_0x1eb0d6(0xcc)](_0x1eb0d6(0xad)),intro[_0x1eb0d6(0xc6)][_0x1eb0d6(0xa3)](_0x1eb0d6(0xad)),ingame['classList'][_0x1eb0d6(0xa3)](_0x1eb0d6(0xad)),_0x51a370===null||_0x51a370===''?(dropboxRestore[_0x1eb0d6(0xc6)][_0x1eb0d6(0xcc)](_0x1eb0d6(0x8e)),dropboxBackup['classList']['remove'](_0x1eb0d6(0x8e)),dropboxCloud['classList'][_0x1eb0d6(0xcc)]('active')):(dropboxRestore[_0x1eb0d6(0xc6)][_0x1eb0d6(0xa3)]('active'),dropboxBackup[_0x1eb0d6(0xc6)][_0x1eb0d6(0xa3)](_0x1eb0d6(0x8e)),dropboxCloud[_0x1eb0d6(0xc6)][_0x1eb0d6(0xa3)](_0x1eb0d6(0x8e)));}),setTimeout(()=>{localStorageFile();},0xbb8);});