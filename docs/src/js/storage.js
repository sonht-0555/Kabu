const a0_0x2e2626=a0_0x1aca;(function(_0x3d8eeb,_0x430bbb){const _0x9f8b2b=a0_0x1aca,_0x5a1f2b=_0x3d8eeb();while(!![]){try{const _0x35ee9d=-parseInt(_0x9f8b2b(0xe3))/0x1+-parseInt(_0x9f8b2b(0xe7))/0x2+-parseInt(_0x9f8b2b(0xcd))/0x3*(parseInt(_0x9f8b2b(0xd3))/0x4)+parseInt(_0x9f8b2b(0xed))/0x5+-parseInt(_0x9f8b2b(0x104))/0x6*(parseInt(_0x9f8b2b(0x10a))/0x7)+parseInt(_0x9f8b2b(0xd8))/0x8*(parseInt(_0x9f8b2b(0xff))/0x9)+parseInt(_0x9f8b2b(0x10b))/0xa;if(_0x35ee9d===_0x430bbb)break;else _0x5a1f2b['push'](_0x5a1f2b['shift']());}catch(_0x5743a1){_0x5a1f2b['push'](_0x5a1f2b['shift']());}}}(a0_0x4651,0xc4899));function a0_0x4651(){const _0x144fba=['showModal','home','rom-item','abs','removeItem','YiB','endsWith','delete','.bc','fileSize','gap-16','GiB','KiB','name','active','3033432HNGqXq','onclick','.gba','confirm','addEventListener','6594acNGbF','textContent','prompt','/data/screenshots/','listCheat','rename','2422CiHmYK','24861160ZPTtnR','disable','close','add','appendChild','.gbc','_imageState','storage','setItem','opacity0','uId','length','/data/states/','createElement','uploadSavSta','slice','classList','MiB','listGame','uploadCheat','remove','1921572dpDZlA','mgba-storage','dialog','Delete\x20this\x20file?','span','div','8NrfGzk','uploadGame','firstChild','listSave','/data/saves/','24ejbeJe','lastChild','getItem','onclose','files','deleteFile','downloadFile','TiB','/data/cheats/','toFixed','replace','741363QKuzsn','_dateState','actionDiv','savesFile','2720314wmfeXT','change','listScreenshot','rom','romsFile','EiB','5352895YOhrsA','flex-1','getElementById'];a0_0x4651=function(){return _0x144fba;};return a0_0x4651();}import*as a0_0x4d175a from'./main.js';const mgbaStorage=document['getElementById'](a0_0x2e2626(0xce)),savesFile=document[a0_0x2e2626(0xef)](a0_0x2e2626(0xe6)),romsFile=document[a0_0x2e2626(0xef)](a0_0x2e2626(0xeb)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document[a0_0x2e2626(0xef)]('screenshotsFile');function humanFileSize(_0x3c5f64,_0x54566f=![],_0x11115a=0x1){const _0x46687e=a0_0x2e2626,_0x1f7625=_0x54566f?0x3e8:0x400,_0x324b32=_0x54566f?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x46687e(0xfc),_0x46687e(0xc9),_0x46687e(0xfb),_0x46687e(0xdf),'PiB',_0x46687e(0xec),'ZiB',_0x46687e(0xf5)];let _0x3dca04=-0x1;do{_0x3c5f64/=_0x1f7625,++_0x3dca04;}while(Math[_0x46687e(0xf3)](_0x3c5f64)>=_0x1f7625&&_0x3dca04<_0x324b32[_0x46687e(0xc3)]-0x1);return _0x3c5f64[_0x46687e(0xe1)](_0x11115a)+'\x20'+_0x324b32[_0x3dca04];}function createElementStorage(_0x43157d,_0x302b62,_0x57a1ec){const _0x48adfd=a0_0x2e2626,_0x3f9440=document['createElement'](_0x48adfd(0xd2));_0x3f9440[_0x48adfd(0xc8)]['add'](_0x48adfd(0xee),_0x48adfd(0xf2),_0x48adfd(0xea)),_0x43157d[_0x48adfd(0x10f)](_0x3f9440);const _0x653470=document['createElement'](_0x48adfd(0xd1));_0x653470[_0x48adfd(0x105)]=_0x302b62,_0x653470[_0x48adfd(0xc8)][_0x48adfd(0x10e)](_0x48adfd(0xee)),_0x3f9440[_0x48adfd(0x10f)](_0x653470),_0x653470['onclick']=()=>{const _0x174373=_0x48adfd,_0x315a65=document['createElement'](_0x174373(0xcf));_0x315a65[_0x174373(0xdb)]=()=>_0x315a65[_0x174373(0xcc)](),_0x43157d[_0x174373(0x10f)](_0x315a65);const _0x3b46e3=document[_0x174373(0xc5)](_0x174373(0xd2));_0x3b46e3[_0x174373(0xc8)][_0x174373(0x10e)](_0x174373(0xbf),'right','gap-10'),_0x315a65[_0x174373(0x10f)](_0x3b46e3);const _0x1507f0=document[_0x174373(0xc5)](_0x174373(0xd2));_0x1507f0[_0x174373(0xc8)][_0x174373(0x10e)](_0x174373(0xf1),'bc',_0x174373(0xee)),_0x3b46e3[_0x174373(0x10f)](_0x1507f0);const _0x45ab36=document['createElement'](_0x174373(0xd2));_0x45ab36[_0x174373(0xc8)][_0x174373(0x10e)](_0x174373(0xee)),_0x3b46e3[_0x174373(0x10f)](_0x45ab36);const _0x18b0eb=document['createElement'](_0x174373(0xd2));_0x18b0eb[_0x174373(0xc8)][_0x174373(0x10e)](_0x174373(0xee)),_0x3b46e3[_0x174373(0x10f)](_0x18b0eb);const _0x317973=document['createElement'](_0x174373(0xd2));_0x317973['classList'][_0x174373(0x10e)](_0x174373(0xee)),_0x3b46e3['appendChild'](_0x317973),mgbaStorage[_0x174373(0xc8)][_0x174373(0x10e)](_0x174373(0xc1)),_0x1507f0['onclick']=()=>{const _0x1c3afc=_0x174373;_0x315a65[_0x1c3afc(0x10d)](),_0x315a65['remove'](),mgbaStorage[_0x1c3afc(0xc8)][_0x1c3afc(0xcc)](_0x1c3afc(0xc1));};const _0x7fb369=document[_0x174373(0xc5)](_0x174373(0xd2));_0x7fb369['classList'][_0x174373(0x10e)](_0x174373(0xee),'rom-item','hw','cw'),_0x7fb369[_0x174373(0x105)]=_0x302b62,_0x315a65[_0x174373(0x10f)](_0x7fb369);const _0x2a4715=document['createElement']('div');_0x2a4715[_0x174373(0xc8)]['add'](_0x174373(0xe5),'hw','cw',_0x174373(0xfa)),_0x315a65[_0x174373(0x10f)](_0x2a4715);const _0x5606ab=document[_0x174373(0xc5)](_0x174373(0xd2));_0x5606ab['classList']['add']('download','bc'),_0x2a4715[_0x174373(0x10f)](_0x5606ab),_0x5606ab[_0x174373(0x100)]=()=>{const _0x103d0e=_0x174373;a0_0x4d175a[_0x103d0e(0xde)](_0x57a1ec,_0x302b62);};const _0x29f3c5=document[_0x174373(0xc5)](_0x174373(0xd2));_0x29f3c5[_0x174373(0xc8)]['add'](_0x174373(0xf7),'bc'),_0x2a4715[_0x174373(0x10f)](_0x29f3c5),_0x29f3c5['onclick']=async()=>{const _0xd4bf67=_0x174373;if(window[_0xd4bf67(0x102)](_0xd4bf67(0xd0)+_0x302b62)){const _0x32f51c=_0x302b62[_0xd4bf67(0xe2)](/\....$/,_0xd4bf67(0x101));a0_0x4d175a[_0xd4bf67(0xdd)](_0x57a1ec),localStorage[_0xd4bf67(0xf4)](_0x32f51c+'_dateState'+_0x302b62[_0xd4bf67(0xc7)](-0x1)),localStorage[_0xd4bf67(0xf4)](_0x32f51c+_0xd4bf67(0xbe)+_0x302b62[_0xd4bf67(0xc7)](-0x1)),localStorageFile(),_0x315a65[_0xd4bf67(0x10d)](),_0x315a65[_0xd4bf67(0xcc)](),mgbaStorage[_0xd4bf67(0xc8)][_0xd4bf67(0xcc)](_0xd4bf67(0xc1));}};const _0x4b16d6=document[_0x174373(0xc5)](_0x174373(0xd2));_0x4b16d6[_0x174373(0xc8)][_0x174373(0x10e)](_0x174373(0x109),'bc'),_0x2a4715['appendChild'](_0x4b16d6),_0x4b16d6[_0x174373(0x100)]=async()=>{const _0x4a082e=_0x174373,_0x4bd452=window[_0x4a082e(0x106)]('Edit\x20filename',_0x302b62);if(_0x4bd452!==null){const _0x1b8fae=_0x302b62[_0x4a082e(0xe2)](/\....$/,_0x4a082e(0x101)),_0x1ccd78=_0x4bd452[_0x4a082e(0xe2)](/\....$/,_0x4a082e(0x101)),_0x187a28=_0x1b8fae+_0x4a082e(0xe4)+_0x302b62[_0x4a082e(0xc7)](-0x1),_0x11c052=_0x1b8fae+_0x4a082e(0xbe)+_0x302b62['slice'](-0x1),_0x56cb08=_0x1ccd78+_0x4a082e(0xe4)+_0x4bd452['slice'](-0x1),_0x4e5035=_0x1ccd78+_0x4a082e(0xbe)+_0x4bd452[_0x4a082e(0xc7)](-0x1),_0x10baf6=localStorage[_0x4a082e(0xda)](_0x187a28),_0x3db6a7=localStorage[_0x4a082e(0xda)](_0x11c052);_0x10baf6!==null&&(localStorage[_0x4a082e(0xc0)](_0x56cb08,_0x10baf6),localStorage['removeItem'](_0x187a28)),_0x3db6a7!==null&&(localStorage[_0x4a082e(0xc0)](_0x4e5035,_0x3db6a7),localStorage[_0x4a082e(0xf4)](_0x11c052)),a0_0x4d175a['editFile'](_0x57a1ec,_0x302b62,_0x4bd452),localStorageFile(),_0x315a65[_0x4a082e(0x10d)](),_0x315a65[_0x4a082e(0xcc)](),mgbaStorage[_0x4a082e(0xc8)]['remove'](_0x4a082e(0xc1));}},_0x315a65[_0x174373(0xf0)]();};const _0x189782=document[_0x48adfd(0xc5)](_0x48adfd(0xd1));_0x189782[_0x48adfd(0x105)]=humanFileSize(a0_0x4d175a[_0x48adfd(0xf9)](_0x57a1ec)),_0x189782[_0x48adfd(0xc8)]['add']('mib'),_0x3f9440[_0x48adfd(0x10f)](_0x189782);}export function localStorageFile(){const _0x4149ac=a0_0x2e2626,_0x21ac46=a0_0x4d175a[_0x4149ac(0xca)](),_0x300eb7=a0_0x4d175a[_0x4149ac(0xd6)](),_0x2427d3=a0_0x4d175a['listState'](),_0x1cb1ac=a0_0x4d175a[_0x4149ac(0x108)](),_0x55caa6=a0_0x4d175a[_0x4149ac(0xe9)](),_0x189deb=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x2db3f4 of _0x189deb){while(_0x2db3f4[_0x4149ac(0xd5)]){_0x2db3f4[_0x4149ac(0xd9)][_0x4149ac(0xcc)]();}}for(const _0x118ac6 of _0x21ac46){createElementStorage(romsFile,_0x118ac6,'/data/games/'+_0x118ac6);}for(const _0x9a3bca of _0x2427d3){createElementStorage(statesFile,_0x9a3bca,_0x4149ac(0xc4)+_0x9a3bca);}for(const _0x48f91e of _0x300eb7){createElementStorage(savesFile,_0x48f91e,_0x4149ac(0xd7)+_0x48f91e);}for(const _0x525caf of _0x1cb1ac){createElementStorage(cheatsFile,_0x525caf,_0x4149ac(0xe0)+_0x525caf);}for(const _0x273ab5 of _0x55caa6){createElementStorage(screenshotsFile,_0x273ab5,_0x4149ac(0x107)+_0x273ab5);}}function a0_0x1aca(_0x3c50fa,_0x321583){const _0x465147=a0_0x4651();return a0_0x1aca=function(_0x1acab6,_0x25d25d){_0x1acab6=_0x1acab6-0xbe;let _0x4a0a98=_0x465147[_0x1acab6];return _0x4a0a98;},a0_0x1aca(_0x3c50fa,_0x321583);}document[a0_0x2e2626(0x103)]('DOMContentLoaded',function(){const _0x3da840=a0_0x2e2626;upLoadFile[_0x3da840(0x103)](_0x3da840(0xe8),function(){const _0x42c014=_0x3da840,_0x4c7ba2=upLoadFile[_0x42c014(0xdc)][0x0][_0x42c014(0xfd)];if(_0x4c7ba2[_0x42c014(0xf6)]('.cheats'))a0_0x4d175a[_0x42c014(0xcb)](upLoadFile);else _0x4c7ba2[_0x42c014(0xf6)]('.gba')||_0x4c7ba2[_0x42c014(0xf6)](_0x42c014(0x110))||_0x4c7ba2['endsWith'](_0x42c014(0xf8))?a0_0x4d175a[_0x42c014(0xd4)](upLoadFile):a0_0x4d175a[_0x42c014(0xc6)](upLoadFile);}),openLocalStorage[_0x3da840(0x103)]('click',function(){const _0x2d6628=_0x3da840,_0x224602=localStorage[_0x2d6628(0xda)](_0x2d6628(0xc2));storage[_0x2d6628(0xc8)][_0x2d6628(0xcc)](_0x2d6628(0x10c)),intro['classList'][_0x2d6628(0x10e)](_0x2d6628(0x10c)),ingame['classList']['add']('disable'),_0x224602===null||_0x224602===''?(dropboxRestore['classList']['remove'](_0x2d6628(0xfe)),dropboxBackup[_0x2d6628(0xc8)]['remove'](_0x2d6628(0xfe)),dropboxCloud[_0x2d6628(0xc8)][_0x2d6628(0xcc)]('active')):(dropboxRestore[_0x2d6628(0xc8)][_0x2d6628(0x10e)]('active'),dropboxBackup[_0x2d6628(0xc8)][_0x2d6628(0x10e)](_0x2d6628(0xfe)),dropboxCloud[_0x2d6628(0xc8)][_0x2d6628(0x10e)](_0x2d6628(0xfe)));}),setTimeout(()=>{localStorageFile();},0xbb8);});