const a0_0x3c7c8f=a0_0x5b2c;(function(_0x70f9d5,_0xc38453){const _0x334ddc=a0_0x5b2c,_0x212fdf=_0x70f9d5();while(!![]){try{const _0x118477=parseInt(_0x334ddc(0x22b))/0x1+-parseInt(_0x334ddc(0x224))/0x2+parseInt(_0x334ddc(0x1ea))/0x3*(-parseInt(_0x334ddc(0x226))/0x4)+-parseInt(_0x334ddc(0x1e4))/0x5*(-parseInt(_0x334ddc(0x225))/0x6)+-parseInt(_0x334ddc(0x213))/0x7*(-parseInt(_0x334ddc(0x1e1))/0x8)+parseInt(_0x334ddc(0x1e3))/0x9*(-parseInt(_0x334ddc(0x219))/0xa)+parseInt(_0x334ddc(0x1eb))/0xb*(parseInt(_0x334ddc(0x207))/0xc);if(_0x118477===_0xc38453)break;else _0x212fdf['push'](_0x212fdf['shift']());}catch(_0x2b6d8f){_0x212fdf['push'](_0x212fdf['shift']());}}}(a0_0x2446,0xe71ee));import*as a0_0x347000 from'./main.js';function a0_0x5b2c(_0x4558bc,_0x35c516){const _0x2446a6=a0_0x2446();return a0_0x5b2c=function(_0x5b2ccf,_0x2cb4ac){_0x5b2ccf=_0x5b2ccf-0x1df;let _0x398ccf=_0x2446a6[_0x5b2ccf];return _0x398ccf;},a0_0x5b2c(_0x4558bc,_0x35c516);}const mgbaStorage=document[a0_0x3c7c8f(0x1e9)]('mgba-storage'),savesFile=document[a0_0x3c7c8f(0x1e9)]('savesFile'),romsFile=document['getElementById'](a0_0x3c7c8f(0x1f4)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document['getElementById'](a0_0x3c7c8f(0x1f7));function humanFileSize(_0x44eb34,_0x58662a=![],_0x575fd8=0x1){const _0x1c1bc1=a0_0x3c7c8f,_0x43c75d=_0x58662a?0x3e8:0x400,_0x4ba14c=_0x58662a?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1c1bc1(0x1f9),_0x1c1bc1(0x212),_0x1c1bc1(0x1ee),_0x1c1bc1(0x1ff),_0x1c1bc1(0x1ed),_0x1c1bc1(0x208),_0x1c1bc1(0x20d),_0x1c1bc1(0x1e6)];let _0x22b762=-0x1;do{_0x44eb34/=_0x43c75d,++_0x22b762;}while(Math[_0x1c1bc1(0x229)](_0x44eb34)>=_0x43c75d&&_0x22b762<_0x4ba14c[_0x1c1bc1(0x20a)]-0x1);return _0x44eb34[_0x1c1bc1(0x1f3)](_0x575fd8)+'\x20'+_0x4ba14c[_0x22b762];}function a0_0x2446(){const _0x244c90=['states','textContent','slice','MiB','175hVSTYx','div','change','lastChild','/data/saves/','replace','89330YHNVJF','download','/data/cheats/','confirm','Edit\x20filename','click','close','saves','removeItem','onclose','gap-16','2851402qPcBON','654fyOeUj','1494748AmYzNA','firstChild','delete','abs','DOMContentLoaded','309135PxhnpV','uId','.gba','opacity0','387832zUKDDw','listFiles','1449bugyOI','16370gUwVii','mib','YiB','deleteFile','flex-1','getElementById','12DspuSx','12566972xDzakL','cheats','PiB','GiB','editFile','add','showModal','right','toFixed','romsFile','remove','_imageState','screenshotsFile','Delete\x20this\x20file?','KiB','onclick','_dateState','classList','actionDiv','createElement','TiB','/data/states/','rom','span','downloadFile','appendChild','storage','active','36NjbJtL','EiB','disable','length','addEventListener','fileSize','ZiB','screenshots'];a0_0x2446=function(){return _0x244c90;};return a0_0x2446();}function createElementStorage(_0x3ce907,_0x56cb2b,_0x2a53a0){const _0x39da35=a0_0x3c7c8f,_0x58034f=document[_0x39da35(0x1fe)](_0x39da35(0x214));_0x58034f['classList'][_0x39da35(0x1f0)](_0x39da35(0x1e8),'rom-item',_0x39da35(0x201)),_0x3ce907[_0x39da35(0x204)](_0x58034f);const _0x371dd7=document['createElement'](_0x39da35(0x202));_0x371dd7[_0x39da35(0x210)]=_0x56cb2b,_0x371dd7[_0x39da35(0x1fc)][_0x39da35(0x1f0)]('flex-1'),_0x58034f[_0x39da35(0x204)](_0x371dd7),_0x371dd7[_0x39da35(0x1fa)]=()=>{const _0x29a7a8=_0x39da35,_0x26f48a=document[_0x29a7a8(0x1fe)]('dialog');_0x26f48a[_0x29a7a8(0x222)]=()=>_0x26f48a['remove'](),_0x3ce907[_0x29a7a8(0x204)](_0x26f48a);const _0x1f4eb3=document['createElement'](_0x29a7a8(0x214));_0x1f4eb3[_0x29a7a8(0x1fc)][_0x29a7a8(0x1f0)](_0x29a7a8(0x205),_0x29a7a8(0x1f2),'gap-10'),_0x26f48a['appendChild'](_0x1f4eb3);const _0x31c8fd=document[_0x29a7a8(0x1fe)](_0x29a7a8(0x214));_0x31c8fd[_0x29a7a8(0x1fc)]['add']('home','bc',_0x29a7a8(0x1e8)),_0x1f4eb3['appendChild'](_0x31c8fd);const _0x36f2cb=document[_0x29a7a8(0x1fe)](_0x29a7a8(0x214));_0x36f2cb[_0x29a7a8(0x1fc)][_0x29a7a8(0x1f0)]('flex-1'),_0x1f4eb3[_0x29a7a8(0x204)](_0x36f2cb);const _0x5d66a7=document[_0x29a7a8(0x1fe)](_0x29a7a8(0x214));_0x5d66a7[_0x29a7a8(0x1fc)][_0x29a7a8(0x1f0)]('flex-1'),_0x1f4eb3['appendChild'](_0x5d66a7);const _0x2fd924=document[_0x29a7a8(0x1fe)]('div');_0x2fd924['classList'][_0x29a7a8(0x1f0)]('flex-1'),_0x1f4eb3[_0x29a7a8(0x204)](_0x2fd924),mgbaStorage[_0x29a7a8(0x1fc)][_0x29a7a8(0x1f0)](_0x29a7a8(0x1e0)),_0x31c8fd[_0x29a7a8(0x1fa)]=()=>{const _0x25912e=_0x29a7a8;_0x26f48a['close'](),_0x26f48a['remove'](),mgbaStorage['classList'][_0x25912e(0x1f5)](_0x25912e(0x1e0));};const _0x4efffe=document[_0x29a7a8(0x1fe)]('div');_0x4efffe[_0x29a7a8(0x1fc)][_0x29a7a8(0x1f0)](_0x29a7a8(0x1e8),'rom-item','hw','cw'),_0x4efffe['textContent']=_0x56cb2b,_0x26f48a[_0x29a7a8(0x204)](_0x4efffe);const _0x12d6fa=document[_0x29a7a8(0x1fe)]('div');_0x12d6fa['classList'][_0x29a7a8(0x1f0)](_0x29a7a8(0x1fd),'hw','cw',_0x29a7a8(0x223)),_0x26f48a[_0x29a7a8(0x204)](_0x12d6fa);const _0x57e517=document['createElement']('div');_0x57e517[_0x29a7a8(0x1fc)][_0x29a7a8(0x1f0)](_0x29a7a8(0x21a),'bc'),_0x12d6fa[_0x29a7a8(0x204)](_0x57e517),_0x57e517[_0x29a7a8(0x1fa)]=()=>{const _0xbdff8c=_0x29a7a8;a0_0x347000[_0xbdff8c(0x203)](_0x2a53a0,_0x56cb2b);};const _0x9acc5=document['createElement']('div');_0x9acc5[_0x29a7a8(0x1fc)]['add'](_0x29a7a8(0x228),'bc'),_0x12d6fa['appendChild'](_0x9acc5),_0x9acc5['onclick']=async()=>{const _0x1820cf=_0x29a7a8;if(window[_0x1820cf(0x21c)](_0x1820cf(0x1f8)+_0x56cb2b)){const _0x46c2d7=_0x56cb2b[_0x1820cf(0x218)](/\....$/,_0x1820cf(0x1df));a0_0x347000[_0x1820cf(0x1e7)](_0x2a53a0),localStorage[_0x1820cf(0x221)](_0x46c2d7+_0x1820cf(0x1fb)+_0x56cb2b[_0x1820cf(0x211)](-0x1)),localStorage['removeItem'](_0x46c2d7+_0x1820cf(0x1f6)+_0x56cb2b['slice'](-0x1)),localStorageFile(),_0x26f48a[_0x1820cf(0x21f)](),_0x26f48a[_0x1820cf(0x1f5)](),mgbaStorage[_0x1820cf(0x1fc)][_0x1820cf(0x1f5)](_0x1820cf(0x1e0));}};const _0x4b512c=document[_0x29a7a8(0x1fe)](_0x29a7a8(0x214));_0x4b512c['classList']['add']('rename','bc'),_0x12d6fa[_0x29a7a8(0x204)](_0x4b512c),_0x4b512c[_0x29a7a8(0x1fa)]=async()=>{const _0x4c61d2=_0x29a7a8,_0x5b4870=window['prompt'](_0x4c61d2(0x21d),_0x56cb2b);_0x5b4870!==null&&(a0_0x347000[_0x4c61d2(0x1ef)](_0x2a53a0,_0x56cb2b,_0x5b4870),localStorageFile(),_0x26f48a[_0x4c61d2(0x21f)](),_0x26f48a[_0x4c61d2(0x1f5)](),mgbaStorage['classList'][_0x4c61d2(0x1f5)]('opacity0'));},_0x26f48a[_0x29a7a8(0x1f1)]();};const _0x73d484=document[_0x39da35(0x1fe)](_0x39da35(0x202));_0x73d484[_0x39da35(0x210)]=humanFileSize(a0_0x347000[_0x39da35(0x20c)](_0x2a53a0)),_0x73d484[_0x39da35(0x1fc)][_0x39da35(0x1f0)](_0x39da35(0x1e5)),_0x58034f[_0x39da35(0x204)](_0x73d484);}export function localStorageFile(){const _0x1348f3=a0_0x3c7c8f,_0x43f5bd=a0_0x347000['listFiles']('games'),_0x370fe2=a0_0x347000[_0x1348f3(0x1e2)](_0x1348f3(0x220)),_0x3c4d09=a0_0x347000[_0x1348f3(0x1e2)](_0x1348f3(0x20f)),_0x312373=a0_0x347000[_0x1348f3(0x1e2)](_0x1348f3(0x1ec)),_0x5cdcf4=a0_0x347000[_0x1348f3(0x1e2)](_0x1348f3(0x20e)),_0x190d25=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x32e5ea of _0x190d25){while(_0x32e5ea[_0x1348f3(0x227)]){_0x32e5ea[_0x1348f3(0x216)][_0x1348f3(0x1f5)]();}}for(const _0x32828f of _0x43f5bd){createElementStorage(romsFile,_0x32828f,'/data/games/'+_0x32828f);}for(const _0xee3d48 of _0x3c4d09){createElementStorage(statesFile,_0xee3d48,_0x1348f3(0x200)+_0xee3d48);}for(const _0xff498e of _0x370fe2){createElementStorage(savesFile,_0xff498e,_0x1348f3(0x217)+_0xff498e);}for(const _0x298c08 of _0x312373){createElementStorage(cheatsFile,_0x298c08,_0x1348f3(0x21b)+_0x298c08);}for(const _0x328186 of _0x5cdcf4){createElementStorage(screenshotsFile,_0x328186,'/data/screenshots/'+_0x328186);}}document[a0_0x3c7c8f(0x20b)](a0_0x3c7c8f(0x22a),function(){const _0x2fa2c2=a0_0x3c7c8f;upLoadFile[_0x2fa2c2(0x20b)](_0x2fa2c2(0x215),function(){a0_0x347000['uploadFile'](upLoadFile);}),openLocalStorage[_0x2fa2c2(0x20b)](_0x2fa2c2(0x21e),function(){const _0xe6d3e1=_0x2fa2c2,_0x3c8167=localStorage['getItem'](_0xe6d3e1(0x22c));storage[_0xe6d3e1(0x1fc)][_0xe6d3e1(0x1f5)](_0xe6d3e1(0x209)),intro[_0xe6d3e1(0x1fc)][_0xe6d3e1(0x1f0)]('disable'),ingame['classList']['add']('disable'),_0x3c8167===null||_0x3c8167===''?(dropboxRestore[_0xe6d3e1(0x1fc)][_0xe6d3e1(0x1f5)](_0xe6d3e1(0x206)),dropboxBackup[_0xe6d3e1(0x1fc)][_0xe6d3e1(0x1f5)](_0xe6d3e1(0x206)),dropboxCloud[_0xe6d3e1(0x1fc)][_0xe6d3e1(0x1f5)](_0xe6d3e1(0x206))):(dropboxRestore['classList'][_0xe6d3e1(0x1f0)](_0xe6d3e1(0x206)),dropboxBackup['classList'][_0xe6d3e1(0x1f0)](_0xe6d3e1(0x206)),dropboxCloud[_0xe6d3e1(0x1fc)][_0xe6d3e1(0x1f0)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});