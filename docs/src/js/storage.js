const a0_0x3fe275=a0_0x1457;(function(_0x2b7cea,_0x44a1f0){const _0x4dfb18=a0_0x1457,_0x97d9b7=_0x2b7cea();while(!![]){try{const _0xc0252=-parseInt(_0x4dfb18(0x1f4))/0x1*(parseInt(_0x4dfb18(0x1e9))/0x2)+parseInt(_0x4dfb18(0x208))/0x3*(parseInt(_0x4dfb18(0x1db))/0x4)+-parseInt(_0x4dfb18(0x20e))/0x5*(parseInt(_0x4dfb18(0x1f2))/0x6)+parseInt(_0x4dfb18(0x210))/0x7+parseInt(_0x4dfb18(0x1e2))/0x8+-parseInt(_0x4dfb18(0x1fa))/0x9+parseInt(_0x4dfb18(0x1f6))/0xa;if(_0xc0252===_0x44a1f0)break;else _0x97d9b7['push'](_0x97d9b7['shift']());}catch(_0x3bb843){_0x97d9b7['push'](_0x97d9b7['shift']());}}}(a0_0x2786,0xe4695));import*as a0_0x64002e from'./main.js';const mgbaStorage=document[a0_0x3fe275(0x1d4)]('mgba-storage'),savesFile=document[a0_0x3fe275(0x1d4)]('savesFile'),romsFile=document[a0_0x3fe275(0x1d4)](a0_0x3fe275(0x20d)),statesFile=document[a0_0x3fe275(0x1d4)]('statesFile'),screenshotsFile=document['getElementById'](a0_0x3fe275(0x1d3));function humanFileSize(_0x5ac7d2,_0x2033fe=![],_0x275060=0x1){const _0x4714d1=a0_0x3fe275,_0xe248c6=_0x2033fe?0x3e8:0x400,_0x1fc04c=_0x2033fe?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4714d1(0x1d6),_0x4714d1(0x1ea),_0x4714d1(0x1f0),_0x4714d1(0x1fd),_0x4714d1(0x213),_0x4714d1(0x1f3),'ZiB',_0x4714d1(0x1d9)];let _0x25466b=-0x1;do{_0x5ac7d2/=_0xe248c6,++_0x25466b;}while(Math['abs'](_0x5ac7d2)>=_0xe248c6&&_0x25466b<_0x1fc04c['length']-0x1);return _0x5ac7d2[_0x4714d1(0x212)](_0x275060)+'\x20'+_0x1fc04c[_0x25466b];}function createElementStorage(_0x21659f,_0x257b11,_0x45865d){const _0x475c12=a0_0x3fe275,_0x4157f9=document[_0x475c12(0x1e3)](_0x475c12(0x1e5));_0x4157f9['classList'][_0x475c12(0x1d7)]('flex-1',_0x475c12(0x1fc),_0x475c12(0x207)),_0x21659f['appendChild'](_0x4157f9);const _0x14f78a=document[_0x475c12(0x1e3)](_0x475c12(0x20a));_0x14f78a['textContent']=_0x257b11,_0x14f78a[_0x475c12(0x1ff)][_0x475c12(0x1d7)](_0x475c12(0x1dd)),_0x4157f9[_0x475c12(0x1eb)](_0x14f78a),_0x14f78a[_0x475c12(0x1ef)]=()=>{const _0x121a0c=_0x475c12,_0x289a52=document[_0x121a0c(0x1e3)]('dialog');_0x289a52[_0x121a0c(0x20f)]=()=>_0x289a52[_0x121a0c(0x1f8)](),_0x21659f[_0x121a0c(0x1eb)](_0x289a52);const _0x3c8f01=document[_0x121a0c(0x1e3)](_0x121a0c(0x1e5));_0x3c8f01[_0x121a0c(0x1ff)][_0x121a0c(0x1d7)](_0x121a0c(0x1f7),_0x121a0c(0x20b),_0x121a0c(0x20c)),_0x289a52[_0x121a0c(0x1eb)](_0x3c8f01);const _0x349457=document[_0x121a0c(0x1e3)](_0x121a0c(0x1e5));_0x349457[_0x121a0c(0x1ff)]['add'](_0x121a0c(0x1e0),'bc',_0x121a0c(0x1dd)),_0x3c8f01['appendChild'](_0x349457);const _0x329813=document[_0x121a0c(0x1e3)](_0x121a0c(0x1e5));_0x329813[_0x121a0c(0x1ff)][_0x121a0c(0x1d7)]('flex-1'),_0x3c8f01[_0x121a0c(0x1eb)](_0x329813);const _0x274de3=document[_0x121a0c(0x1e3)]('div');_0x274de3[_0x121a0c(0x1ff)][_0x121a0c(0x1d7)](_0x121a0c(0x1dd)),_0x3c8f01[_0x121a0c(0x1eb)](_0x274de3);const _0x27be07=document[_0x121a0c(0x1e3)](_0x121a0c(0x1e5));_0x27be07['classList']['add'](_0x121a0c(0x1dd)),_0x3c8f01[_0x121a0c(0x1eb)](_0x27be07),mgbaStorage[_0x121a0c(0x1ff)][_0x121a0c(0x1d7)]('opacity0'),_0x349457[_0x121a0c(0x1ef)]=()=>{const _0x1499b6=_0x121a0c;_0x289a52[_0x1499b6(0x1fb)](),_0x289a52['remove'](),mgbaStorage['classList']['remove'](_0x1499b6(0x1d8));};const _0x17c1a7=document[_0x121a0c(0x1e3)](_0x121a0c(0x1e5));_0x17c1a7[_0x121a0c(0x1ff)][_0x121a0c(0x1d7)](_0x121a0c(0x1dd),_0x121a0c(0x1fc),'hw','cw'),_0x17c1a7[_0x121a0c(0x1ed)]=_0x257b11,_0x289a52[_0x121a0c(0x1eb)](_0x17c1a7);const _0x491574=document['createElement'](_0x121a0c(0x1e5));_0x491574['classList']['add'](_0x121a0c(0x1d5),'hw','cw',_0x121a0c(0x1d2)),_0x289a52[_0x121a0c(0x1eb)](_0x491574);const _0x186359=document[_0x121a0c(0x1e3)](_0x121a0c(0x1e5));_0x186359[_0x121a0c(0x1ff)][_0x121a0c(0x1d7)](_0x121a0c(0x1ee),'bc'),_0x491574[_0x121a0c(0x1eb)](_0x186359),_0x186359[_0x121a0c(0x1ef)]=()=>{const _0x1cc896=_0x121a0c;a0_0x64002e[_0x1cc896(0x1e8)](_0x45865d,_0x257b11);};const _0x19a1d8=document['createElement'](_0x121a0c(0x1e5));_0x19a1d8[_0x121a0c(0x1ff)][_0x121a0c(0x1d7)](_0x121a0c(0x1ec),'bc'),_0x491574[_0x121a0c(0x1eb)](_0x19a1d8),_0x19a1d8[_0x121a0c(0x1ef)]=async()=>{const _0x4ab394=_0x121a0c;if(window['confirm'](_0x4ab394(0x206)+_0x257b11)){const _0x5bff8a=_0x257b11['replace'](/\....$/,_0x4ab394(0x1f5));a0_0x64002e['deleteFile'](_0x45865d),localStorage[_0x4ab394(0x1f9)](_0x5bff8a+_0x4ab394(0x200)+_0x257b11[_0x4ab394(0x1df)](-0x1)),localStorage[_0x4ab394(0x1f9)](_0x5bff8a+_0x4ab394(0x211)+_0x257b11[_0x4ab394(0x1df)](-0x1)),localStorageFile(),_0x289a52[_0x4ab394(0x1fb)](),_0x289a52[_0x4ab394(0x1f8)](),mgbaStorage[_0x4ab394(0x1ff)][_0x4ab394(0x1f8)](_0x4ab394(0x1d8));}};const _0x399a41=document[_0x121a0c(0x1e3)](_0x121a0c(0x1e5));_0x399a41[_0x121a0c(0x1ff)]['add'](_0x121a0c(0x1dc),'bc'),_0x491574[_0x121a0c(0x1eb)](_0x399a41),_0x399a41[_0x121a0c(0x1ef)]=async()=>{const _0x3f359c=_0x121a0c,_0x37adad=window[_0x3f359c(0x1e7)]('Edit\x20filename',_0x257b11);_0x37adad!==null&&(a0_0x64002e['editFile'](_0x45865d,_0x257b11,_0x37adad),localStorageFile(),_0x289a52[_0x3f359c(0x1fb)](),_0x289a52['remove'](),mgbaStorage[_0x3f359c(0x1ff)][_0x3f359c(0x1f8)](_0x3f359c(0x1d8)));},_0x289a52['showModal']();};const _0x4e026b=document[_0x475c12(0x1e3)]('span');_0x4e026b[_0x475c12(0x1ed)]=humanFileSize(a0_0x64002e['fileSize'](_0x45865d)),_0x4e026b[_0x475c12(0x1ff)][_0x475c12(0x1d7)]('mib'),_0x4157f9[_0x475c12(0x1eb)](_0x4e026b);}function a0_0x1457(_0x445374,_0xbabe26){const _0x278665=a0_0x2786();return a0_0x1457=function(_0x1457b5,_0x4af755){_0x1457b5=_0x1457b5-0x1d2;let _0x5147ec=_0x278665[_0x1457b5];return _0x5147ec;},a0_0x1457(_0x445374,_0xbabe26);}function a0_0x2786(){const _0x436406=['close','rom-item','TiB','states','classList','_dateState','/data/screenshots/','active','uploadFile','lastChild','click','Delete\x20this\x20file?','rom','4407609vjqjWs','/data/cheats/','span','right','gap-10','romsFile','85DktlAE','onclose','11490353CMmuzS','_imageState','toFixed','PiB','listFiles','firstChild','addEventListener','uId','gap-16','screenshotsFile','getElementById','actionDiv','KiB','add','opacity0','YiB','disable','4VwLobt','rename','flex-1','/data/states/','slice','home','screenshots','3064240bhdtuD','createElement','saves','div','cheats','prompt','downloadFile','4PMZIWj','MiB','appendChild','delete','textContent','download','onclick','GiB','DOMContentLoaded','250674rwdhHP','EiB','377126ZsJkWY','.gba','363710sbptCa','storage','remove','removeItem','10170135AXTRAh'];a0_0x2786=function(){return _0x436406;};return a0_0x2786();}export function localStorageFile(){const _0x2e286b=a0_0x3fe275,_0x587aa4=a0_0x64002e[_0x2e286b(0x214)]('games'),_0xd1bbb6=a0_0x64002e[_0x2e286b(0x214)](_0x2e286b(0x1e4)),_0x4b32f2=a0_0x64002e['listFiles'](_0x2e286b(0x1fe)),_0x22cde3=a0_0x64002e[_0x2e286b(0x214)](_0x2e286b(0x1e6)),_0x1e92a6=a0_0x64002e[_0x2e286b(0x214)](_0x2e286b(0x1e1)),_0x5e4055=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x2a7df5 of _0x5e4055){while(_0x2a7df5[_0x2e286b(0x215)]){_0x2a7df5[_0x2e286b(0x204)][_0x2e286b(0x1f8)]();}}for(const _0xdb31c9 of _0x587aa4){createElementStorage(romsFile,_0xdb31c9,'/data/games/'+_0xdb31c9);}for(const _0xd179fb of _0x4b32f2){createElementStorage(statesFile,_0xd179fb,_0x2e286b(0x1de)+_0xd179fb);}for(const _0x264970 of _0xd1bbb6){createElementStorage(savesFile,_0x264970,'/data/saves/'+_0x264970);}for(const _0x1c55db of _0x22cde3){createElementStorage(cheatsFile,_0x1c55db,_0x2e286b(0x209)+_0x1c55db);}for(const _0x1679ee of _0x1e92a6){createElementStorage(screenshotsFile,_0x1679ee,_0x2e286b(0x201)+_0x1679ee);}}document[a0_0x3fe275(0x216)](a0_0x3fe275(0x1f1),function(){const _0x550dd0=a0_0x3fe275;upLoadFile['addEventListener']('change',function(){const _0x4040ec=a0_0x1457;a0_0x64002e[_0x4040ec(0x203)](upLoadFile);}),openLocalStorage[_0x550dd0(0x216)](_0x550dd0(0x205),function(){const _0x21734b=_0x550dd0,_0xdbcfe1=localStorage['getItem'](_0x21734b(0x217));storage[_0x21734b(0x1ff)][_0x21734b(0x1f8)]('disable'),intro[_0x21734b(0x1ff)]['add'](_0x21734b(0x1da)),ingame[_0x21734b(0x1ff)][_0x21734b(0x1d7)](_0x21734b(0x1da)),_0xdbcfe1===null||_0xdbcfe1===''?(dropboxRestore[_0x21734b(0x1ff)][_0x21734b(0x1f8)](_0x21734b(0x202)),dropboxBackup[_0x21734b(0x1ff)][_0x21734b(0x1f8)](_0x21734b(0x202)),dropboxCloud[_0x21734b(0x1ff)][_0x21734b(0x1f8)](_0x21734b(0x202))):(dropboxRestore['classList'][_0x21734b(0x1d7)](_0x21734b(0x202)),dropboxBackup[_0x21734b(0x1ff)][_0x21734b(0x1d7)]('active'),dropboxCloud[_0x21734b(0x1ff)]['add'](_0x21734b(0x202)));}),setTimeout(()=>{localStorageFile();},0xbb8);});