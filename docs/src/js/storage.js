const a0_0x4602f1=a0_0x1894;(function(_0x3deeeb,_0x35ce97){const _0x2e0258=a0_0x1894,_0x504417=_0x3deeeb();while(!![]){try{const _0x1a12d5=parseInt(_0x2e0258(0xe4))/0x1+-parseInt(_0x2e0258(0xdf))/0x2*(-parseInt(_0x2e0258(0xcf))/0x3)+-parseInt(_0x2e0258(0xde))/0x4+parseInt(_0x2e0258(0xc3))/0x5+-parseInt(_0x2e0258(0xc7))/0x6*(-parseInt(_0x2e0258(0xd9))/0x7)+parseInt(_0x2e0258(0xba))/0x8*(-parseInt(_0x2e0258(0xbc))/0x9)+parseInt(_0x2e0258(0xd3))/0xa*(-parseInt(_0x2e0258(0xd2))/0xb);if(_0x1a12d5===_0x35ce97)break;else _0x504417['push'](_0x504417['shift']());}catch(_0x4ab005){_0x504417['push'](_0x504417['shift']());}}}(a0_0xf871,0xac8b4));import*as a0_0x455c99 from'./main.js';function a0_0xf871(){const _0x4f60e7=['691314XaLwNN','getItem','dialog','home','download','1107564oPTxSU','span','Delete\x20this\x20file?','_dateState','active','div','screenshotsFile','KiB','close','prompt','listScreenshot','onclick','storage','YiB','romsFile','disable','gap-10','showModal','right','deleteFile','setItem','/data/games/','/data/cheats/','click','opacity0','actionDiv','slice','delete','removeItem','fileSize','/data/states/','downloadFile','22888ZwHbcw','.gba','477MQhSCt','replace','rom','MiB','toFixed','listState','abs','511365UIiBOK','mgba-storage','listSave','mib','24uYBEoG','createElement','confirm','_imageState','firstChild','textContent','onclose','uId','9hbpMkC','statesFile','GiB','2075689jxxmlN','110Oftrms','remove','add','getElementById','classList','/data/saves/','2125298vacQuw','rename','addEventListener','appendChild','flex-1','2108808qVzAaV'];a0_0xf871=function(){return _0x4f60e7;};return a0_0xf871();}const mgbaStorage=document[a0_0x4602f1(0xd6)](a0_0x4602f1(0xc4)),savesFile=document[a0_0x4602f1(0xd6)]('savesFile'),romsFile=document['getElementById'](a0_0x4602f1(0xf2)),statesFile=document[a0_0x4602f1(0xd6)](a0_0x4602f1(0xd0)),screenshotsFile=document[a0_0x4602f1(0xd6)](a0_0x4602f1(0xea));function a0_0x1894(_0x140286,_0x46e4df){const _0xf871=a0_0xf871();return a0_0x1894=function(_0x1894c9,_0x197259){_0x1894c9=_0x1894c9-0xae;let _0x1d0ef3=_0xf871[_0x1894c9];return _0x1d0ef3;},a0_0x1894(_0x140286,_0x46e4df);}function humanFileSize(_0x178304,_0x6690c0=![],_0x4ab8e6=0x1){const _0x1b0723=a0_0x4602f1,_0x4cf5b5=_0x6690c0?0x3e8:0x400,_0x433206=_0x6690c0?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1b0723(0xeb),_0x1b0723(0xbf),_0x1b0723(0xd1),'TiB','PiB','EiB','ZiB',_0x1b0723(0xf1)];let _0x3f3eb9=-0x1;do{_0x178304/=_0x4cf5b5,++_0x3f3eb9;}while(Math[_0x1b0723(0xc2)](_0x178304)>=_0x4cf5b5&&_0x3f3eb9<_0x433206['length']-0x1);return _0x178304[_0x1b0723(0xc0)](_0x4ab8e6)+'\x20'+_0x433206[_0x3f3eb9];}function createElementStorage(_0x3006c3,_0x34743c,_0x5dfc30){const _0x11a722=a0_0x4602f1,_0x52c92f=document[_0x11a722(0xc8)]('div');_0x52c92f[_0x11a722(0xd7)][_0x11a722(0xd5)]('flex-1','rom-item',_0x11a722(0xbe)),_0x3006c3[_0x11a722(0xdc)](_0x52c92f);const _0x2722fd=document['createElement'](_0x11a722(0xe5));_0x2722fd[_0x11a722(0xcc)]=_0x34743c,_0x2722fd[_0x11a722(0xd7)]['add']('flex-1'),_0x52c92f['appendChild'](_0x2722fd),_0x2722fd[_0x11a722(0xef)]=()=>{const _0x22a594=_0x11a722,_0xb360ae=document['createElement'](_0x22a594(0xe1));_0xb360ae[_0x22a594(0xcd)]=()=>_0xb360ae[_0x22a594(0xd4)](),_0x3006c3[_0x22a594(0xdc)](_0xb360ae);const _0x150b9e=document['createElement']('div');_0x150b9e[_0x22a594(0xd7)][_0x22a594(0xd5)](_0x22a594(0xf0),_0x22a594(0xf6),_0x22a594(0xf4)),_0xb360ae[_0x22a594(0xdc)](_0x150b9e);const _0x5ee809=document['createElement'](_0x22a594(0xe9));_0x5ee809['classList'][_0x22a594(0xd5)](_0x22a594(0xe2),'bc',_0x22a594(0xdd)),_0x150b9e[_0x22a594(0xdc)](_0x5ee809);const _0x5ba119=document['createElement'](_0x22a594(0xe9));_0x5ba119['classList']['add'](_0x22a594(0xdd)),_0x150b9e[_0x22a594(0xdc)](_0x5ba119);const _0x323d6d=document[_0x22a594(0xc8)]('div');_0x323d6d[_0x22a594(0xd7)][_0x22a594(0xd5)]('flex-1'),_0x150b9e[_0x22a594(0xdc)](_0x323d6d);const _0x49ee87=document[_0x22a594(0xc8)](_0x22a594(0xe9));_0x49ee87[_0x22a594(0xd7)][_0x22a594(0xd5)]('flex-1'),_0x150b9e[_0x22a594(0xdc)](_0x49ee87),mgbaStorage[_0x22a594(0xd7)][_0x22a594(0xd5)](_0x22a594(0xb2)),_0x5ee809['onclick']=()=>{const _0x49299c=_0x22a594;_0xb360ae[_0x49299c(0xec)](),_0xb360ae[_0x49299c(0xd4)](),mgbaStorage[_0x49299c(0xd7)][_0x49299c(0xd4)](_0x49299c(0xb2));};const _0x27f39b=document[_0x22a594(0xc8)](_0x22a594(0xe9));_0x27f39b['classList'][_0x22a594(0xd5)]('flex-1','rom-item','hw','cw'),_0x27f39b[_0x22a594(0xcc)]=_0x34743c,_0xb360ae[_0x22a594(0xdc)](_0x27f39b);const _0x55c4f4=document[_0x22a594(0xc8)](_0x22a594(0xe9));_0x55c4f4[_0x22a594(0xd7)][_0x22a594(0xd5)](_0x22a594(0xb3),'hw','cw','gap-16'),_0xb360ae[_0x22a594(0xdc)](_0x55c4f4);const _0x1e8d05=document[_0x22a594(0xc8)](_0x22a594(0xe9));_0x1e8d05[_0x22a594(0xd7)][_0x22a594(0xd5)](_0x22a594(0xe3),'bc'),_0x55c4f4[_0x22a594(0xdc)](_0x1e8d05),_0x1e8d05['onclick']=()=>{const _0x4c6b70=_0x22a594;a0_0x455c99[_0x4c6b70(0xb9)](_0x5dfc30,_0x34743c);};const _0x4893c2=document[_0x22a594(0xc8)](_0x22a594(0xe9));_0x4893c2[_0x22a594(0xd7)]['add'](_0x22a594(0xb5),'bc'),_0x55c4f4[_0x22a594(0xdc)](_0x4893c2),_0x4893c2['onclick']=async()=>{const _0x109412=_0x22a594;if(window[_0x109412(0xc9)](_0x109412(0xe6)+_0x34743c)){const _0x47b0bd=_0x34743c[_0x109412(0xbd)](/\....$/,_0x109412(0xbb));a0_0x455c99[_0x109412(0xf7)](_0x5dfc30),localStorage[_0x109412(0xb6)](_0x47b0bd+_0x109412(0xe7)+_0x34743c[_0x109412(0xb4)](-0x1)),localStorage[_0x109412(0xb6)](_0x47b0bd+_0x109412(0xca)+_0x34743c[_0x109412(0xb4)](-0x1)),localStorageFile(),_0xb360ae[_0x109412(0xec)](),_0xb360ae[_0x109412(0xd4)](),mgbaStorage[_0x109412(0xd7)][_0x109412(0xd4)](_0x109412(0xb2));}};const _0x18e000=document['createElement'](_0x22a594(0xe9));_0x18e000[_0x22a594(0xd7)][_0x22a594(0xd5)](_0x22a594(0xda),'bc'),_0x55c4f4[_0x22a594(0xdc)](_0x18e000),_0x18e000[_0x22a594(0xef)]=async()=>{const _0x3ef346=_0x22a594,_0x17ff3e=window[_0x3ef346(0xed)]('Edit\x20filename',_0x34743c);if(_0x17ff3e!==null){const _0x3bb306=_0x34743c[_0x3ef346(0xbd)](/\....$/,'.gba'),_0x34562a=_0x17ff3e['replace'](/\....$/,_0x3ef346(0xbb)),_0x30965c=_0x3bb306+_0x3ef346(0xe7)+_0x34743c[_0x3ef346(0xb4)](-0x1),_0x2f24a1=_0x3bb306+_0x3ef346(0xca)+_0x34743c[_0x3ef346(0xb4)](-0x1),_0x3ebf1e=_0x34562a+_0x3ef346(0xe7)+_0x17ff3e['slice'](-0x1),_0x3cb006=_0x34562a+_0x3ef346(0xca)+_0x17ff3e['slice'](-0x1),_0x2aef66=localStorage[_0x3ef346(0xe0)](_0x30965c),_0x3bbbdf=localStorage[_0x3ef346(0xe0)](_0x2f24a1);_0x2aef66!==null&&(localStorage[_0x3ef346(0xae)](_0x3ebf1e,_0x2aef66),localStorage[_0x3ef346(0xb6)](_0x30965c)),_0x3bbbdf!==null&&(localStorage[_0x3ef346(0xae)](_0x3cb006,_0x3bbbdf),localStorage[_0x3ef346(0xb6)](_0x2f24a1)),a0_0x455c99['editFile'](_0x5dfc30,_0x34743c,_0x17ff3e),localStorageFile(),_0xb360ae[_0x3ef346(0xec)](),_0xb360ae['remove'](),mgbaStorage[_0x3ef346(0xd7)]['remove'](_0x3ef346(0xb2));}},_0xb360ae[_0x22a594(0xf5)]();};const _0x39b642=document[_0x11a722(0xc8)](_0x11a722(0xe5));_0x39b642[_0x11a722(0xcc)]=humanFileSize(a0_0x455c99[_0x11a722(0xb7)](_0x5dfc30)),_0x39b642[_0x11a722(0xd7)][_0x11a722(0xd5)](_0x11a722(0xc6)),_0x52c92f[_0x11a722(0xdc)](_0x39b642);}export function localStorageFile(){const _0xe29c9a=a0_0x4602f1,_0x3c0966=a0_0x455c99['listGame'](),_0xb95a71=a0_0x455c99[_0xe29c9a(0xc5)](),_0x507d93=a0_0x455c99[_0xe29c9a(0xc1)](),_0x439772=a0_0x455c99['listCheat'](),_0x13b1bf=a0_0x455c99[_0xe29c9a(0xee)](),_0x2e1104=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x310b50 of _0x2e1104){while(_0x310b50[_0xe29c9a(0xcb)]){_0x310b50['lastChild'][_0xe29c9a(0xd4)]();}}for(const _0x3ad8fe of _0x3c0966){createElementStorage(romsFile,_0x3ad8fe,_0xe29c9a(0xaf)+_0x3ad8fe);}for(const _0x34d55f of _0x507d93){createElementStorage(statesFile,_0x34d55f,_0xe29c9a(0xb8)+_0x34d55f);}for(const _0x4342e7 of _0xb95a71){createElementStorage(savesFile,_0x4342e7,_0xe29c9a(0xd8)+_0x4342e7);}for(const _0x2371fc of _0x439772){createElementStorage(cheatsFile,_0x2371fc,_0xe29c9a(0xb0)+_0x2371fc);}for(const _0x175967 of _0x13b1bf){createElementStorage(screenshotsFile,_0x175967,'/data/screenshots/'+_0x175967);}}document[a0_0x4602f1(0xdb)]('DOMContentLoaded',function(){const _0x19dada=a0_0x4602f1;upLoadFile[_0x19dada(0xdb)]('change',function(){a0_0x455c99['uploadFile'](upLoadFile);}),openLocalStorage[_0x19dada(0xdb)](_0x19dada(0xb1),function(){const _0x602a03=_0x19dada,_0x2b2cfa=localStorage[_0x602a03(0xe0)](_0x602a03(0xce));storage[_0x602a03(0xd7)][_0x602a03(0xd4)](_0x602a03(0xf3)),intro['classList'][_0x602a03(0xd5)](_0x602a03(0xf3)),ingame['classList'][_0x602a03(0xd5)](_0x602a03(0xf3)),_0x2b2cfa===null||_0x2b2cfa===''?(dropboxRestore[_0x602a03(0xd7)][_0x602a03(0xd4)]('active'),dropboxBackup[_0x602a03(0xd7)][_0x602a03(0xd4)]('active'),dropboxCloud[_0x602a03(0xd7)]['remove'](_0x602a03(0xe8))):(dropboxRestore[_0x602a03(0xd7)]['add'](_0x602a03(0xe8)),dropboxBackup[_0x602a03(0xd7)]['add']('active'),dropboxCloud[_0x602a03(0xd7)]['add'](_0x602a03(0xe8)));}),setTimeout(()=>{localStorageFile();},0xbb8);});