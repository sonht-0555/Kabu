const a0_0x1cc69f=a0_0x54e7;(function(_0xedb1d,_0x338876){const _0xed6a5b=a0_0x54e7,_0x506527=_0xedb1d();while(!![]){try{const _0x4139a6=parseInt(_0xed6a5b(0xbc))/0x1*(-parseInt(_0xed6a5b(0xe6))/0x2)+parseInt(_0xed6a5b(0xc1))/0x3+-parseInt(_0xed6a5b(0x9d))/0x4+-parseInt(_0xed6a5b(0xd2))/0x5*(parseInt(_0xed6a5b(0xbf))/0x6)+-parseInt(_0xed6a5b(0xbb))/0x7*(-parseInt(_0xed6a5b(0xb1))/0x8)+-parseInt(_0xed6a5b(0xcf))/0x9*(-parseInt(_0xed6a5b(0xb6))/0xa)+parseInt(_0xed6a5b(0xb3))/0xb*(parseInt(_0xed6a5b(0xa8))/0xc);if(_0x4139a6===_0x338876)break;else _0x506527['push'](_0x506527['shift']());}catch(_0x3d69b5){_0x506527['push'](_0x506527['shift']());}}}(a0_0x3064,0x7b8fc));import*as a0_0x94e93b from'./main.js';const mgbaStorage=document[a0_0x1cc69f(0xd3)](a0_0x1cc69f(0xcc)),savesFile=document[a0_0x1cc69f(0xd3)](a0_0x1cc69f(0xe9)),romsFile=document[a0_0x1cc69f(0xd3)](a0_0x1cc69f(0xc9)),statesFile=document['getElementById'](a0_0x1cc69f(0xaa)),screenshotsFile=document[a0_0x1cc69f(0xd3)](a0_0x1cc69f(0xc5));function humanFileSize(_0x25d05d,_0x101db0=![],_0x37c6a2=0x1){const _0x3364a9=a0_0x1cc69f,_0x4c5f4f=_0x101db0?0x3e8:0x400,_0x14a82f=_0x101db0?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x3364a9(0xb5),_0x3364a9(0xac),'TiB',_0x3364a9(0x9b),_0x3364a9(0xa5),_0x3364a9(0x9a),_0x3364a9(0xa9)];let _0x30b844=-0x1;do{_0x25d05d/=_0x4c5f4f,++_0x30b844;}while(Math[_0x3364a9(0xe8)](_0x25d05d)>=_0x4c5f4f&&_0x30b844<_0x14a82f[_0x3364a9(0xc8)]-0x1);return _0x25d05d['toFixed'](_0x37c6a2)+'\x20'+_0x14a82f[_0x30b844];}function a0_0x3064(){const _0x4ca71e=['replace','screenshotsFile','downloadFile','gap-10','length','romsFile','flex-1','rename','mgba-storage','actionDiv','close','4407093SbZvBk','confirm','listGame','4581625xnymFb','getElementById','storage','showModal','uploadCheat','firstChild','span','active','slice','click','download','_dateState','fileSize','opacity0','lastChild','.gba','appendChild','editFile','home','_imageState','2942ymXPbc','addEventListener','abs','savesFile','/data/saves/','disable','uId','/data/cheats/','createElement','ZiB','PiB','add','799732nnOzgr','uploadGame','endsWith','name','setItem','getItem','onclick','dialog','EiB','listCheat','DOMContentLoaded','9492gybknQ','YiB','statesFile','classList','GiB','rom-item','listScreenshot','rom','textContent','156792rsNxtQ','onclose','11649DTdMTb','gap-16','MiB','20bwgYRG','files','remove','listSave','removeItem','28YLSKNx','230CbQaim','Edit\x20filename','prompt','6IuMwMF','mib','195831nnQMwF','/data/screenshots/','div'];a0_0x3064=function(){return _0x4ca71e;};return a0_0x3064();}function a0_0x54e7(_0x595017,_0x4752b5){const _0x306480=a0_0x3064();return a0_0x54e7=function(_0x54e74,_0x39920d){_0x54e74=_0x54e74-0x9a;let _0x568a0f=_0x306480[_0x54e74];return _0x568a0f;},a0_0x54e7(_0x595017,_0x4752b5);}function createElementStorage(_0x1a10da,_0x1d1f69,_0xfc9729){const _0x80aacc=a0_0x1cc69f,_0x48383a=document[_0x80aacc(0xee)](_0x80aacc(0xc3));_0x48383a['classList'][_0x80aacc(0x9c)]('flex-1',_0x80aacc(0xad),_0x80aacc(0xaf)),_0x1a10da[_0x80aacc(0xe2)](_0x48383a);const _0x1f5e58=document[_0x80aacc(0xee)](_0x80aacc(0xd8));_0x1f5e58[_0x80aacc(0xb0)]=_0x1d1f69,_0x1f5e58[_0x80aacc(0xab)][_0x80aacc(0x9c)]('flex-1'),_0x48383a[_0x80aacc(0xe2)](_0x1f5e58),_0x1f5e58['onclick']=()=>{const _0x11cc24=_0x80aacc,_0x3e6a43=document[_0x11cc24(0xee)](_0x11cc24(0xa4));_0x3e6a43[_0x11cc24(0xb2)]=()=>_0x3e6a43[_0x11cc24(0xb8)](),_0x1a10da[_0x11cc24(0xe2)](_0x3e6a43);const _0x480959=document[_0x11cc24(0xee)](_0x11cc24(0xc3));_0x480959[_0x11cc24(0xab)][_0x11cc24(0x9c)](_0x11cc24(0xd4),'right',_0x11cc24(0xc7)),_0x3e6a43[_0x11cc24(0xe2)](_0x480959);const _0x2e58fe=document['createElement'](_0x11cc24(0xc3));_0x2e58fe[_0x11cc24(0xab)][_0x11cc24(0x9c)](_0x11cc24(0xe4),'bc',_0x11cc24(0xca)),_0x480959[_0x11cc24(0xe2)](_0x2e58fe);const _0x2ae7f3=document[_0x11cc24(0xee)](_0x11cc24(0xc3));_0x2ae7f3[_0x11cc24(0xab)][_0x11cc24(0x9c)]('flex-1'),_0x480959['appendChild'](_0x2ae7f3);const _0x2d8c1d=document[_0x11cc24(0xee)]('div');_0x2d8c1d[_0x11cc24(0xab)][_0x11cc24(0x9c)](_0x11cc24(0xca)),_0x480959['appendChild'](_0x2d8c1d);const _0x2df64f=document[_0x11cc24(0xee)](_0x11cc24(0xc3));_0x2df64f[_0x11cc24(0xab)][_0x11cc24(0x9c)](_0x11cc24(0xca)),_0x480959[_0x11cc24(0xe2)](_0x2df64f),mgbaStorage[_0x11cc24(0xab)][_0x11cc24(0x9c)](_0x11cc24(0xdf)),_0x2e58fe[_0x11cc24(0xa3)]=()=>{const _0x30f7f6=_0x11cc24;_0x3e6a43[_0x30f7f6(0xce)](),_0x3e6a43[_0x30f7f6(0xb8)](),mgbaStorage[_0x30f7f6(0xab)][_0x30f7f6(0xb8)](_0x30f7f6(0xdf));};const _0x5111de=document[_0x11cc24(0xee)](_0x11cc24(0xc3));_0x5111de[_0x11cc24(0xab)]['add'](_0x11cc24(0xca),_0x11cc24(0xad),'hw','cw'),_0x5111de[_0x11cc24(0xb0)]=_0x1d1f69,_0x3e6a43['appendChild'](_0x5111de);const _0x33acfc=document[_0x11cc24(0xee)](_0x11cc24(0xc3));_0x33acfc[_0x11cc24(0xab)]['add'](_0x11cc24(0xcd),'hw','cw',_0x11cc24(0xb4)),_0x3e6a43[_0x11cc24(0xe2)](_0x33acfc);const _0x257637=document['createElement'](_0x11cc24(0xc3));_0x257637[_0x11cc24(0xab)]['add'](_0x11cc24(0xdc),'bc'),_0x33acfc[_0x11cc24(0xe2)](_0x257637),_0x257637[_0x11cc24(0xa3)]=()=>{const _0x5a9185=_0x11cc24;a0_0x94e93b[_0x5a9185(0xc6)](_0xfc9729,_0x1d1f69);};const _0x2750ce=document['createElement'](_0x11cc24(0xc3));_0x2750ce[_0x11cc24(0xab)][_0x11cc24(0x9c)]('delete','bc'),_0x33acfc[_0x11cc24(0xe2)](_0x2750ce),_0x2750ce[_0x11cc24(0xa3)]=async()=>{const _0xd1fb88=_0x11cc24;if(window[_0xd1fb88(0xd0)]('Delete\x20this\x20file?'+_0x1d1f69)){const _0x16c06a=_0x1d1f69[_0xd1fb88(0xc4)](/\....$/,_0xd1fb88(0xe1));a0_0x94e93b['deleteFile'](_0xfc9729),localStorage[_0xd1fb88(0xba)](_0x16c06a+_0xd1fb88(0xdd)+_0x1d1f69[_0xd1fb88(0xda)](-0x1)),localStorage[_0xd1fb88(0xba)](_0x16c06a+_0xd1fb88(0xe5)+_0x1d1f69['slice'](-0x1)),localStorageFile(),_0x3e6a43[_0xd1fb88(0xce)](),_0x3e6a43[_0xd1fb88(0xb8)](),mgbaStorage[_0xd1fb88(0xab)][_0xd1fb88(0xb8)](_0xd1fb88(0xdf));}};const _0x28268a=document['createElement'](_0x11cc24(0xc3));_0x28268a[_0x11cc24(0xab)][_0x11cc24(0x9c)](_0x11cc24(0xcb),'bc'),_0x33acfc[_0x11cc24(0xe2)](_0x28268a),_0x28268a[_0x11cc24(0xa3)]=async()=>{const _0x4e5e62=_0x11cc24,_0x3e9dcd=window[_0x4e5e62(0xbe)](_0x4e5e62(0xbd),_0x1d1f69);if(_0x3e9dcd!==null){const _0x38886b=_0x1d1f69[_0x4e5e62(0xc4)](/\....$/,_0x4e5e62(0xe1)),_0x507448=_0x3e9dcd[_0x4e5e62(0xc4)](/\....$/,_0x4e5e62(0xe1)),_0x27caa7=_0x38886b+_0x4e5e62(0xdd)+_0x1d1f69['slice'](-0x1),_0x1dd2b7=_0x38886b+_0x4e5e62(0xe5)+_0x1d1f69[_0x4e5e62(0xda)](-0x1),_0xff021f=_0x507448+_0x4e5e62(0xdd)+_0x3e9dcd[_0x4e5e62(0xda)](-0x1),_0x1ecede=_0x507448+'_imageState'+_0x3e9dcd[_0x4e5e62(0xda)](-0x1),_0x4babf3=localStorage['getItem'](_0x27caa7),_0x3430de=localStorage[_0x4e5e62(0xa2)](_0x1dd2b7);_0x4babf3!==null&&(localStorage[_0x4e5e62(0xa1)](_0xff021f,_0x4babf3),localStorage[_0x4e5e62(0xba)](_0x27caa7)),_0x3430de!==null&&(localStorage['setItem'](_0x1ecede,_0x3430de),localStorage[_0x4e5e62(0xba)](_0x1dd2b7)),a0_0x94e93b[_0x4e5e62(0xe3)](_0xfc9729,_0x1d1f69,_0x3e9dcd),localStorageFile(),_0x3e6a43['close'](),_0x3e6a43[_0x4e5e62(0xb8)](),mgbaStorage[_0x4e5e62(0xab)]['remove']('opacity0');}},_0x3e6a43[_0x11cc24(0xd5)]();};const _0x53057a=document[_0x80aacc(0xee)](_0x80aacc(0xd8));_0x53057a[_0x80aacc(0xb0)]=humanFileSize(a0_0x94e93b[_0x80aacc(0xde)](_0xfc9729)),_0x53057a[_0x80aacc(0xab)][_0x80aacc(0x9c)](_0x80aacc(0xc0)),_0x48383a[_0x80aacc(0xe2)](_0x53057a);}export function localStorageFile(){const _0x171291=a0_0x1cc69f,_0x15098f=a0_0x94e93b[_0x171291(0xd1)](),_0x394c93=a0_0x94e93b[_0x171291(0xb9)](),_0xafbda1=a0_0x94e93b['listState'](),_0x3ae22c=a0_0x94e93b[_0x171291(0xa6)](),_0x3d0eff=a0_0x94e93b[_0x171291(0xae)](),_0x233225=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x345ccc of _0x233225){while(_0x345ccc[_0x171291(0xd7)]){_0x345ccc[_0x171291(0xe0)]['remove']();}}for(const _0x511a98 of _0x15098f){createElementStorage(romsFile,_0x511a98,'/data/games/'+_0x511a98);}for(const _0x3c8fcf of _0xafbda1){createElementStorage(statesFile,_0x3c8fcf,'/data/states/'+_0x3c8fcf);}for(const _0x285f06 of _0x394c93){createElementStorage(savesFile,_0x285f06,_0x171291(0xea)+_0x285f06);}for(const _0x42dc41 of _0x3ae22c){createElementStorage(cheatsFile,_0x42dc41,_0x171291(0xed)+_0x42dc41);}for(const _0x52aec5 of _0x3d0eff){createElementStorage(screenshotsFile,_0x52aec5,_0x171291(0xc2)+_0x52aec5);}}document[a0_0x1cc69f(0xe7)](a0_0x1cc69f(0xa7),function(){const _0x5999bb=a0_0x1cc69f;upLoadFile[_0x5999bb(0xe7)]('change',function(){const _0x5e670e=_0x5999bb,_0x1f3f4c=upLoadFile[_0x5e670e(0xb7)][0x0][_0x5e670e(0xa0)];if(_0x1f3f4c['endsWith']('.cheats'))a0_0x94e93b[_0x5e670e(0xd6)](upLoadFile);else _0x1f3f4c[_0x5e670e(0x9f)](_0x5e670e(0xe1))||_0x1f3f4c[_0x5e670e(0x9f)]('.gbc')||_0x1f3f4c['endsWith']('.bc')?a0_0x94e93b[_0x5e670e(0x9e)](upLoadFile):a0_0x94e93b['uploadSavSta'](upLoadFile);}),openLocalStorage[_0x5999bb(0xe7)](_0x5999bb(0xdb),function(){const _0x5a55ee=_0x5999bb,_0x4f8ff1=localStorage[_0x5a55ee(0xa2)](_0x5a55ee(0xec));storage['classList'][_0x5a55ee(0xb8)](_0x5a55ee(0xeb)),intro['classList'][_0x5a55ee(0x9c)]('disable'),ingame[_0x5a55ee(0xab)][_0x5a55ee(0x9c)]('disable'),_0x4f8ff1===null||_0x4f8ff1===''?(dropboxRestore[_0x5a55ee(0xab)]['remove'](_0x5a55ee(0xd9)),dropboxBackup['classList'][_0x5a55ee(0xb8)](_0x5a55ee(0xd9)),dropboxCloud['classList']['remove'](_0x5a55ee(0xd9))):(dropboxRestore['classList'][_0x5a55ee(0x9c)](_0x5a55ee(0xd9)),dropboxBackup[_0x5a55ee(0xab)][_0x5a55ee(0x9c)](_0x5a55ee(0xd9)),dropboxCloud['classList'][_0x5a55ee(0x9c)](_0x5a55ee(0xd9)));}),setTimeout(()=>{localStorageFile();},0xbb8);});