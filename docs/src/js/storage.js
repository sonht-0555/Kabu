const a0_0x1990cf=a0_0x41b9;function a0_0x41b9(_0x4077b3,_0x2818a5){const _0x3d566b=a0_0x3d56();return a0_0x41b9=function(_0x41b957,_0x4f137b){_0x41b957=_0x41b957-0x87;let _0xbeb1f1=_0x3d566b[_0x41b957];return _0xbeb1f1;},a0_0x41b9(_0x4077b3,_0x2818a5);}(function(_0x324768,_0x30c252){const _0x5893be=a0_0x41b9,_0xeced43=_0x324768();while(!![]){try{const _0x4dae92=-parseInt(_0x5893be(0x93))/0x1*(-parseInt(_0x5893be(0xb8))/0x2)+parseInt(_0x5893be(0xbf))/0x3*(-parseInt(_0x5893be(0x89))/0x4)+parseInt(_0x5893be(0xc8))/0x5+-parseInt(_0x5893be(0xbe))/0x6*(-parseInt(_0x5893be(0x87))/0x7)+-parseInt(_0x5893be(0xa5))/0x8+-parseInt(_0x5893be(0xc5))/0x9+parseInt(_0x5893be(0x9c))/0xa*(-parseInt(_0x5893be(0x94))/0xb);if(_0x4dae92===_0x30c252)break;else _0xeced43['push'](_0xeced43['shift']());}catch(_0x54e50e){_0xeced43['push'](_0xeced43['shift']());}}}(a0_0x3d56,0x2cb4d));import*as a0_0x37fe2d from'./main.js';const mgbaStorage=document['getElementById'](a0_0x1990cf(0xd0)),savesFile=document[a0_0x1990cf(0xba)](a0_0x1990cf(0xcf)),romsFile=document[a0_0x1990cf(0xba)](a0_0x1990cf(0xbb)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document['getElementById']('screenshotsFile');function humanFileSize(_0x4fd439,_0x2f3648=![],_0x249d29=0x1){const _0x515b8e=a0_0x1990cf,_0x201544=_0x2f3648?0x3e8:0x400,_0x338ac6=_0x2f3648?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x515b8e(0xa1),'MiB','GiB',_0x515b8e(0xb4),'PiB',_0x515b8e(0xd4),'ZiB','YiB'];let _0x271789=-0x1;do{_0x4fd439/=_0x201544,++_0x271789;}while(Math['abs'](_0x4fd439)>=_0x201544&&_0x271789<_0x338ac6[_0x515b8e(0xb5)]-0x1);return _0x4fd439['toFixed'](_0x249d29)+'\x20'+_0x338ac6[_0x271789];}function createElementStorage(_0x1f539f,_0x41c3be,_0x3f4d4c){const _0x2f8870=a0_0x1990cf,_0x3ab18e=document[_0x2f8870(0xa0)](_0x2f8870(0xad));_0x3ab18e[_0x2f8870(0x9e)][_0x2f8870(0xc3)]('flex-1',_0x2f8870(0xd3),_0x2f8870(0xa2)),_0x1f539f['appendChild'](_0x3ab18e);const _0x455cfd=document[_0x2f8870(0xa0)](_0x2f8870(0xb9));_0x455cfd[_0x2f8870(0x8d)]=_0x41c3be,_0x455cfd[_0x2f8870(0x9e)]['add']('flex-1'),_0x3ab18e[_0x2f8870(0x9d)](_0x455cfd),_0x455cfd[_0x2f8870(0xb1)]=()=>{const _0x3bae94=_0x2f8870,_0x50e477=document[_0x3bae94(0xa0)]('dialog');_0x50e477[_0x3bae94(0xa8)]=()=>_0x50e477['remove'](),_0x1f539f[_0x3bae94(0x9d)](_0x50e477);const _0x2175e1=document[_0x3bae94(0xa0)](_0x3bae94(0xad));_0x2175e1[_0x3bae94(0x9e)][_0x3bae94(0xc3)](_0x3bae94(0x8f),_0x3bae94(0x8b),_0x3bae94(0xa9)),_0x50e477[_0x3bae94(0x9d)](_0x2175e1);const _0x5ee9b3=document[_0x3bae94(0xa0)](_0x3bae94(0xad));_0x5ee9b3['classList'][_0x3bae94(0xc3)](_0x3bae94(0x8c),'bc',_0x3bae94(0xb2)),_0x2175e1[_0x3bae94(0x9d)](_0x5ee9b3);const _0x378770=document['createElement'](_0x3bae94(0xad));_0x378770[_0x3bae94(0x9e)][_0x3bae94(0xc3)]('flex-1'),_0x2175e1[_0x3bae94(0x9d)](_0x378770);const _0x1b9003=document[_0x3bae94(0xa0)](_0x3bae94(0xad));_0x1b9003[_0x3bae94(0x9e)][_0x3bae94(0xc3)](_0x3bae94(0xb2)),_0x2175e1[_0x3bae94(0x9d)](_0x1b9003);const _0x3adf28=document['createElement']('div');_0x3adf28['classList'][_0x3bae94(0xc3)](_0x3bae94(0xb2)),_0x2175e1[_0x3bae94(0x9d)](_0x3adf28),mgbaStorage['classList'][_0x3bae94(0xc3)](_0x3bae94(0xc1)),_0x5ee9b3['onclick']=()=>{const _0x584027=_0x3bae94;_0x50e477[_0x584027(0xaf)](),_0x50e477[_0x584027(0xd1)](),mgbaStorage[_0x584027(0x9e)][_0x584027(0xd1)](_0x584027(0xc1));};const _0x179f04=document[_0x3bae94(0xa0)](_0x3bae94(0xad));_0x179f04[_0x3bae94(0x9e)]['add']('flex-1',_0x3bae94(0xd3),'hw','cw'),_0x179f04[_0x3bae94(0x8d)]=_0x41c3be,_0x50e477['appendChild'](_0x179f04);const _0x105862=document[_0x3bae94(0xa0)]('div');_0x105862['classList'][_0x3bae94(0xc3)](_0x3bae94(0x9b),'hw','cw',_0x3bae94(0x98)),_0x50e477[_0x3bae94(0x9d)](_0x105862);const _0x5c9c4c=document['createElement'](_0x3bae94(0xad));_0x5c9c4c[_0x3bae94(0x9e)][_0x3bae94(0xc3)]('download','bc'),_0x105862[_0x3bae94(0x9d)](_0x5c9c4c),_0x5c9c4c[_0x3bae94(0xb1)]=()=>{const _0x49d021=_0x3bae94;a0_0x37fe2d[_0x49d021(0xd5)](_0x3f4d4c,_0x41c3be);};const _0x285eb3=document['createElement']('div');_0x285eb3[_0x3bae94(0x9e)][_0x3bae94(0xc3)](_0x3bae94(0xca),'bc'),_0x105862[_0x3bae94(0x9d)](_0x285eb3),_0x285eb3['onclick']=async()=>{const _0x1d13b6=_0x3bae94;if(window['confirm'](_0x1d13b6(0xb6)+_0x41c3be)){const _0x18fdc0=_0x41c3be['replace'](/\....$/,_0x1d13b6(0xb3));a0_0x37fe2d[_0x1d13b6(0xa3)](_0x3f4d4c),localStorage[_0x1d13b6(0xce)](_0x18fdc0+_0x1d13b6(0x96)+_0x41c3be[_0x1d13b6(0xae)](-0x1)),localStorage['removeItem'](_0x18fdc0+'_imageState'+_0x41c3be[_0x1d13b6(0xae)](-0x1)),localStorageFile(),_0x50e477[_0x1d13b6(0xaf)](),_0x50e477[_0x1d13b6(0xd1)](),mgbaStorage['classList'][_0x1d13b6(0xd1)](_0x1d13b6(0xc1));}};const _0x35e64d=document['createElement'](_0x3bae94(0xad));_0x35e64d['classList'][_0x3bae94(0xc3)]('rename','bc'),_0x105862['appendChild'](_0x35e64d),_0x35e64d[_0x3bae94(0xb1)]=async()=>{const _0x5bd199=_0x3bae94,_0x2e1a53=window[_0x5bd199(0x92)](_0x5bd199(0x8e),_0x41c3be);if(_0x2e1a53!==null){const _0x2ae10e=_0x41c3be[_0x5bd199(0xc2)](/\....$/,_0x5bd199(0xb3)),_0x324109=_0x2e1a53[_0x5bd199(0xc2)](/\....$/,_0x5bd199(0xb3)),_0x26b9ee=_0x2ae10e+_0x5bd199(0x96)+_0x41c3be[_0x5bd199(0xae)](-0x1),_0x211216=_0x2ae10e+'_imageState'+_0x41c3be[_0x5bd199(0xae)](-0x1),_0x467275=_0x324109+_0x5bd199(0x96)+_0x2e1a53[_0x5bd199(0xae)](-0x1),_0xad45cb=_0x324109+_0x5bd199(0x91)+_0x2e1a53['slice'](-0x1),_0x595bf5=localStorage[_0x5bd199(0xa7)](_0x26b9ee),_0x2a5590=localStorage[_0x5bd199(0xa7)](_0x211216);_0x595bf5!==null&&(localStorage['setItem'](_0x467275,_0x595bf5),localStorage[_0x5bd199(0xce)](_0x26b9ee)),_0x2a5590!==null&&(localStorage[_0x5bd199(0x90)](_0xad45cb,_0x2a5590),localStorage[_0x5bd199(0xce)](_0x211216)),a0_0x37fe2d[_0x5bd199(0xac)](_0x3f4d4c,_0x41c3be,_0x2e1a53),localStorageFile(),_0x50e477[_0x5bd199(0xaf)](),_0x50e477[_0x5bd199(0xd1)](),mgbaStorage[_0x5bd199(0x9e)]['remove'](_0x5bd199(0xc1));}},_0x50e477['showModal']();};const _0x396426=document['createElement']('span');_0x396426[_0x2f8870(0x8d)]=humanFileSize(a0_0x37fe2d[_0x2f8870(0xab)](_0x3f4d4c)),_0x396426[_0x2f8870(0x9e)][_0x2f8870(0xc3)](_0x2f8870(0xaa)),_0x3ab18e['appendChild'](_0x396426);}export function localStorageFile(){const _0x418c1b=a0_0x1990cf,_0x4c92c6=a0_0x37fe2d[_0x418c1b(0x97)](),_0x4258c9=a0_0x37fe2d['listSave'](),_0x2a8c79=a0_0x37fe2d[_0x418c1b(0x88)](),_0x124f6a=a0_0x37fe2d['listCheat'](),_0x1992ee=a0_0x37fe2d[_0x418c1b(0xd2)](),_0x51db7b=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x487ad0 of _0x51db7b){while(_0x487ad0[_0x418c1b(0xc9)]){_0x487ad0['lastChild']['remove']();}}for(const _0x5568ef of _0x4c92c6){createElementStorage(romsFile,_0x5568ef,_0x418c1b(0xb7)+_0x5568ef);}for(const _0x570329 of _0x2a8c79){createElementStorage(statesFile,_0x570329,_0x418c1b(0xa6)+_0x570329);}for(const _0x6e042e of _0x4258c9){createElementStorage(savesFile,_0x6e042e,_0x418c1b(0x9a)+_0x6e042e);}for(const _0x6be005 of _0x124f6a){createElementStorage(cheatsFile,_0x6be005,_0x418c1b(0xc4)+_0x6be005);}for(const _0x58f7fe of _0x1992ee){createElementStorage(screenshotsFile,_0x58f7fe,_0x418c1b(0xcb)+_0x58f7fe);}}function a0_0x3d56(){const _0x2842fc=['getElementById','romsFile','endsWith','name','1266SniLPE','163329MFEvww','uploadGame','opacity0','replace','add','/data/cheats/','26109dunGCK','uploadSavSta','click','1392830ZdymrQ','firstChild','delete','/data/screenshots/','DOMContentLoaded','files','removeItem','savesFile','mgba-storage','remove','listScreenshot','rom-item','EiB','downloadFile','9373PyPolc','listState','16ozdhSL','disable','right','home','textContent','Edit\x20filename','storage','setItem','_imageState','prompt','515tkRUkE','506627HWDwjY','addEventListener','_dateState','listGame','gap-16','uId','/data/saves/','actionDiv','10VRJmXJ','appendChild','classList','.gbc','createElement','KiB','rom','deleteFile','active','1454424TJjrFe','/data/states/','getItem','onclose','gap-10','mib','fileSize','editFile','div','slice','close','uploadCheat','onclick','flex-1','.gba','TiB','length','Delete\x20this\x20file?','/data/games/','274jgUjnk','span'];a0_0x3d56=function(){return _0x2842fc;};return a0_0x3d56();}document[a0_0x1990cf(0x95)](a0_0x1990cf(0xcc),function(){const _0x26bcf8=a0_0x1990cf;upLoadFile[_0x26bcf8(0x95)]('change',function(){const _0x198d6e=_0x26bcf8,_0x11b179=upLoadFile[_0x198d6e(0xcd)][0x0][_0x198d6e(0xbd)];if(_0x11b179[_0x198d6e(0xbc)]('.cheats'))a0_0x37fe2d[_0x198d6e(0xb0)](upLoadFile);else _0x11b179[_0x198d6e(0xbc)](_0x198d6e(0xb3))||_0x11b179[_0x198d6e(0xbc)](_0x198d6e(0x9f))||_0x11b179[_0x198d6e(0xbc)]('.bc')?a0_0x37fe2d[_0x198d6e(0xc0)](upLoadFile):a0_0x37fe2d[_0x198d6e(0xc6)](upLoadFile);}),openLocalStorage[_0x26bcf8(0x95)](_0x26bcf8(0xc7),function(){const _0x518585=_0x26bcf8,_0xcb6f75=localStorage[_0x518585(0xa7)](_0x518585(0x99));storage['classList']['remove'](_0x518585(0x8a)),intro['classList']['add'](_0x518585(0x8a)),ingame['classList'][_0x518585(0xc3)](_0x518585(0x8a)),_0xcb6f75===null||_0xcb6f75===''?(dropboxRestore[_0x518585(0x9e)]['remove']('active'),dropboxBackup[_0x518585(0x9e)]['remove'](_0x518585(0xa4)),dropboxCloud[_0x518585(0x9e)][_0x518585(0xd1)](_0x518585(0xa4))):(dropboxRestore[_0x518585(0x9e)][_0x518585(0xc3)]('active'),dropboxBackup['classList'][_0x518585(0xc3)](_0x518585(0xa4)),dropboxCloud['classList']['add'](_0x518585(0xa4)));}),setTimeout(()=>{localStorageFile();},0xbb8);});