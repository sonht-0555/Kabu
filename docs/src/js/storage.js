const a0_0x297777=a0_0x5dc7;(function(_0x4d1d0c,_0x40e2ab){const _0x5e0e31=a0_0x5dc7,_0x187da9=_0x4d1d0c();while(!![]){try{const _0x3122f9=-parseInt(_0x5e0e31(0x171))/0x1*(-parseInt(_0x5e0e31(0x147))/0x2)+parseInt(_0x5e0e31(0x174))/0x3*(parseInt(_0x5e0e31(0x149))/0x4)+parseInt(_0x5e0e31(0x162))/0x5+parseInt(_0x5e0e31(0x144))/0x6*(parseInt(_0x5e0e31(0x14e))/0x7)+parseInt(_0x5e0e31(0x16b))/0x8*(-parseInt(_0x5e0e31(0x137))/0x9)+-parseInt(_0x5e0e31(0x13e))/0xa+-parseInt(_0x5e0e31(0x173))/0xb;if(_0x3122f9===_0x40e2ab)break;else _0x187da9['push'](_0x187da9['shift']());}catch(_0x174494){_0x187da9['push'](_0x187da9['shift']());}}}(a0_0x5b7a,0xd0265));function a0_0x5b7a(){const _0x356072=['click','uId','change','right','5799375nhGpcY','YiB','.gba','uploadFile','screenshotsFile','EiB','getElementById','confirm','onclick','6129048mXZzvR','firstChild','getItem','delete','actionDiv','fileSize','2OVMvmd','GiB','28416289GjiBBO','631539oSQrfI','toFixed','games','download','replace','active','_imageState','removeItem','deleteFile','opacity0','classList','rom-item','disable','Edit\x20filename','18LFEXOw','/data/states/','dialog','statesFile','add','editFile','prompt','1904430ysBlCz','span','saves','remove','flex-1','onclose','1770uhHklm','Delete\x20this\x20file?','appendChild','1531798BHmRXI','PiB','16fICvLS','/data/screenshots/','createElement','/data/saves/','/data/cheats/','38556OJBLdn','screenshots','lastChild','close','savesFile','div','listFiles','KiB','mgba-storage','MiB','gap-10','slice','TiB','addEventListener','gap-16','textContent'];a0_0x5b7a=function(){return _0x356072;};return a0_0x5b7a();}import*as a0_0x25c1cd from'./main.js';const mgbaStorage=document[a0_0x297777(0x168)](a0_0x297777(0x156)),savesFile=document['getElementById'](a0_0x297777(0x152)),romsFile=document[a0_0x297777(0x168)]('romsFile'),statesFile=document[a0_0x297777(0x168)](a0_0x297777(0x13a)),screenshotsFile=document[a0_0x297777(0x168)](a0_0x297777(0x166));function a0_0x5dc7(_0x4c731b,_0x46b956){const _0x5b7afd=a0_0x5b7a();return a0_0x5dc7=function(_0x5dc7f8,_0x50f3eb){_0x5dc7f8=_0x5dc7f8-0x12c;let _0x5608ab=_0x5b7afd[_0x5dc7f8];return _0x5608ab;},a0_0x5dc7(_0x4c731b,_0x46b956);}function humanFileSize(_0x1d5cee,_0x5b3ba7=![],_0x1a905d=0x1){const _0x1c36ea=a0_0x297777,_0x3b30a0=_0x5b3ba7?0x3e8:0x400,_0x940afc=_0x5b3ba7?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1c36ea(0x155),_0x1c36ea(0x157),_0x1c36ea(0x172),_0x1c36ea(0x15a),_0x1c36ea(0x148),_0x1c36ea(0x167),'ZiB',_0x1c36ea(0x163)];let _0x5cab9f=-0x1;do{_0x1d5cee/=_0x3b30a0,++_0x5cab9f;}while(Math['abs'](_0x1d5cee)>=_0x3b30a0&&_0x5cab9f<_0x940afc['length']-0x1);return _0x1d5cee[_0x1c36ea(0x175)](_0x1a905d)+'\x20'+_0x940afc[_0x5cab9f];}function createElementStorage(_0x1a4e75,_0x2640cb,_0x2e88db){const _0x180c87=a0_0x297777,_0x4416e=document['createElement'](_0x180c87(0x153));_0x4416e[_0x180c87(0x133)]['add'](_0x180c87(0x142),'rom-item','rom'),_0x1a4e75['appendChild'](_0x4416e);const _0x49afed=document['createElement'](_0x180c87(0x13f));_0x49afed[_0x180c87(0x15d)]=_0x2640cb,_0x49afed[_0x180c87(0x133)]['add'](_0x180c87(0x142)),_0x4416e[_0x180c87(0x146)](_0x49afed),_0x49afed[_0x180c87(0x16a)]=()=>{const _0x43920d=_0x180c87,_0x1dc359=document[_0x43920d(0x14b)](_0x43920d(0x139));_0x1dc359[_0x43920d(0x143)]=()=>_0x1dc359[_0x43920d(0x141)](),_0x1a4e75[_0x43920d(0x146)](_0x1dc359);const _0x3c5387=document[_0x43920d(0x14b)]('div');_0x3c5387[_0x43920d(0x133)][_0x43920d(0x13b)]('storage',_0x43920d(0x161),_0x43920d(0x158)),_0x1dc359[_0x43920d(0x146)](_0x3c5387);const _0x4bb916=document[_0x43920d(0x14b)](_0x43920d(0x153));_0x4bb916[_0x43920d(0x133)]['add']('home','bc',_0x43920d(0x142)),_0x3c5387['appendChild'](_0x4bb916);const _0x44efa9=document['createElement'](_0x43920d(0x153));_0x44efa9[_0x43920d(0x133)][_0x43920d(0x13b)]('flex-1'),_0x3c5387[_0x43920d(0x146)](_0x44efa9);const _0x253c36=document[_0x43920d(0x14b)](_0x43920d(0x153));_0x253c36[_0x43920d(0x133)][_0x43920d(0x13b)](_0x43920d(0x142)),_0x3c5387[_0x43920d(0x146)](_0x253c36);const _0x263cdb=document[_0x43920d(0x14b)](_0x43920d(0x153));_0x263cdb['classList'][_0x43920d(0x13b)](_0x43920d(0x142)),_0x3c5387[_0x43920d(0x146)](_0x263cdb),mgbaStorage['classList'][_0x43920d(0x13b)]('opacity0'),_0x4bb916[_0x43920d(0x16a)]=()=>{const _0x5d46b7=_0x43920d;_0x1dc359[_0x5d46b7(0x151)](),_0x1dc359[_0x5d46b7(0x141)](),mgbaStorage[_0x5d46b7(0x133)][_0x5d46b7(0x141)](_0x5d46b7(0x132));};const _0xc899a2=document[_0x43920d(0x14b)](_0x43920d(0x153));_0xc899a2[_0x43920d(0x133)]['add'](_0x43920d(0x142),_0x43920d(0x134),'hw','cw'),_0xc899a2[_0x43920d(0x15d)]=_0x2640cb,_0x1dc359[_0x43920d(0x146)](_0xc899a2);const _0x51fdf8=document[_0x43920d(0x14b)](_0x43920d(0x153));_0x51fdf8[_0x43920d(0x133)][_0x43920d(0x13b)](_0x43920d(0x16f),'hw','cw',_0x43920d(0x15c)),_0x1dc359[_0x43920d(0x146)](_0x51fdf8);const _0x9bb76=document[_0x43920d(0x14b)]('div');_0x9bb76[_0x43920d(0x133)][_0x43920d(0x13b)](_0x43920d(0x12c),'bc'),_0x51fdf8['appendChild'](_0x9bb76),_0x9bb76[_0x43920d(0x16a)]=()=>{a0_0x25c1cd['downloadFile'](_0x2e88db,_0x2640cb);};const _0x4e105d=document[_0x43920d(0x14b)](_0x43920d(0x153));_0x4e105d[_0x43920d(0x133)][_0x43920d(0x13b)](_0x43920d(0x16e),'bc'),_0x51fdf8['appendChild'](_0x4e105d),_0x4e105d[_0x43920d(0x16a)]=async()=>{const _0x4950d0=_0x43920d;if(window[_0x4950d0(0x169)](_0x4950d0(0x145)+_0x2640cb)){const _0x43f726=_0x2640cb[_0x4950d0(0x12d)](/\....$/,_0x4950d0(0x164));a0_0x25c1cd[_0x4950d0(0x131)](_0x2e88db),localStorage[_0x4950d0(0x130)](_0x43f726+'_dateState'+_0x2640cb[_0x4950d0(0x159)](-0x1)),localStorage[_0x4950d0(0x130)](_0x43f726+_0x4950d0(0x12f)+_0x2640cb['slice'](-0x1)),localStorageFile(),_0x1dc359[_0x4950d0(0x151)](),_0x1dc359['remove'](),mgbaStorage[_0x4950d0(0x133)][_0x4950d0(0x141)](_0x4950d0(0x132));}};const _0x2b5c74=document[_0x43920d(0x14b)](_0x43920d(0x153));_0x2b5c74[_0x43920d(0x133)]['add']('rename','bc'),_0x51fdf8['appendChild'](_0x2b5c74),_0x2b5c74[_0x43920d(0x16a)]=async()=>{const _0x585be1=_0x43920d,_0xd768c9=window[_0x585be1(0x13d)](_0x585be1(0x136),_0x2640cb);_0xd768c9!==null&&(a0_0x25c1cd[_0x585be1(0x13c)](_0x2e88db,_0x2640cb,_0xd768c9),localStorageFile(),_0x1dc359[_0x585be1(0x151)](),_0x1dc359[_0x585be1(0x141)](),mgbaStorage[_0x585be1(0x133)]['remove']('opacity0'));},_0x1dc359['showModal']();};const _0x557289=document[_0x180c87(0x14b)](_0x180c87(0x13f));_0x557289['textContent']=humanFileSize(a0_0x25c1cd[_0x180c87(0x170)](_0x2e88db)),_0x557289['classList'][_0x180c87(0x13b)]('mib'),_0x4416e[_0x180c87(0x146)](_0x557289);}export function localStorageFile(){const _0x3abead=a0_0x297777,_0x3f71e1=a0_0x25c1cd[_0x3abead(0x154)](_0x3abead(0x176)),_0x24469c=a0_0x25c1cd[_0x3abead(0x154)](_0x3abead(0x140)),_0x44b624=a0_0x25c1cd['listFiles']('states'),_0x471e3e=a0_0x25c1cd['listFiles']('cheats'),_0x4138e7=a0_0x25c1cd[_0x3abead(0x154)](_0x3abead(0x14f)),_0x4e09c6=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x29654b of _0x4e09c6){while(_0x29654b[_0x3abead(0x16c)]){_0x29654b[_0x3abead(0x150)][_0x3abead(0x141)]();}}for(const _0x3f6de7 of _0x3f71e1){createElementStorage(romsFile,_0x3f6de7,'/data/games/'+_0x3f6de7);}for(const _0x29cc9f of _0x44b624){createElementStorage(statesFile,_0x29cc9f,_0x3abead(0x138)+_0x29cc9f);}for(const _0x447926 of _0x24469c){createElementStorage(savesFile,_0x447926,_0x3abead(0x14c)+_0x447926);}for(const _0x36a5e2 of _0x471e3e){createElementStorage(cheatsFile,_0x36a5e2,_0x3abead(0x14d)+_0x36a5e2);}for(const _0x2a82c1 of _0x4138e7){createElementStorage(screenshotsFile,_0x2a82c1,_0x3abead(0x14a)+_0x2a82c1);}}document[a0_0x297777(0x15b)]('DOMContentLoaded',function(){const _0x4e1894=a0_0x297777;upLoadFile[_0x4e1894(0x15b)](_0x4e1894(0x160),function(){const _0x4816ff=_0x4e1894;a0_0x25c1cd[_0x4816ff(0x165)](upLoadFile);}),openLocalStorage[_0x4e1894(0x15b)](_0x4e1894(0x15e),function(){const _0x1c395c=_0x4e1894,_0x4f46bb=localStorage[_0x1c395c(0x16d)](_0x1c395c(0x15f));storage[_0x1c395c(0x133)][_0x1c395c(0x141)]('disable'),intro['classList']['add'](_0x1c395c(0x135)),ingame['classList'][_0x1c395c(0x13b)](_0x1c395c(0x135)),_0x4f46bb===null||_0x4f46bb===''?(dropboxRestore['classList']['remove'](_0x1c395c(0x12e)),dropboxBackup[_0x1c395c(0x133)][_0x1c395c(0x141)](_0x1c395c(0x12e)),dropboxCloud[_0x1c395c(0x133)]['remove'](_0x1c395c(0x12e))):(dropboxRestore[_0x1c395c(0x133)][_0x1c395c(0x13b)](_0x1c395c(0x12e)),dropboxBackup['classList'][_0x1c395c(0x13b)](_0x1c395c(0x12e)),dropboxCloud[_0x1c395c(0x133)][_0x1c395c(0x13b)](_0x1c395c(0x12e)));}),setTimeout(()=>{localStorageFile();},0xbb8);});