const a0_0x9a694a=a0_0x2f51;function a0_0x34f4(){const _0x3edc6a=['actionDiv','Delete\x20this\x20file?','deleteFile','rename','remove','5884712qJWRay','onclose','10QAyoor','span','romsFile','203qQwVMu','_imageState','appendChild','.gba','fileSize','cheats','showModal','dialog','flex-1','1681707RYBUlT','194802ZJVCuO','games','PiB','addEventListener','click','mib','GiB','add','active','editFile','gap-16','abs','4589901WtwWoF','onclick','close','rom-item','DOMContentLoaded','home','EiB','Edit\x20filename','removeItem','downloadFile','length','4586103oCtMnF','delete','toFixed','download','2032076ggqfNs','/data/saves/','YiB','mgba-storage','_dateState','prompt','disable','getElementById','screenshots','ZiB','change','/data/cheats/','opacity0','5RhIjVf','/data/states/','uploadFile','getItem','div','/data/games/','gap-10','createElement','replace','classList','KiB','MiB','slice','rom','1953424tyfCyV','listFiles'];a0_0x34f4=function(){return _0x3edc6a;};return a0_0x34f4();}function a0_0x2f51(_0x19a461,_0x469b19){const _0x34f457=a0_0x34f4();return a0_0x2f51=function(_0x2f515c,_0x120f6f){_0x2f515c=_0x2f515c-0x183;let _0x3b33aa=_0x34f457[_0x2f515c];return _0x3b33aa;},a0_0x2f51(_0x19a461,_0x469b19);}(function(_0x3a084b,_0x896063){const _0x104c9b=a0_0x2f51,_0x269f63=_0x3a084b();while(!![]){try{const _0x2cab87=parseInt(_0x104c9b(0x1bf))/0x1+-parseInt(_0x104c9b(0x1aa))/0x2+-parseInt(_0x104c9b(0x18b))/0x3+parseInt(_0x104c9b(0x18f))/0x4*(parseInt(_0x104c9b(0x19c))/0x5)+parseInt(_0x104c9b(0x1c0))/0x6*(parseInt(_0x104c9b(0x1b6))/0x7)+parseInt(_0x104c9b(0x1b1))/0x8+-parseInt(_0x104c9b(0x1cc))/0x9*(parseInt(_0x104c9b(0x1b3))/0xa);if(_0x2cab87===_0x896063)break;else _0x269f63['push'](_0x269f63['shift']());}catch(_0x47b2a5){_0x269f63['push'](_0x269f63['shift']());}}}(a0_0x34f4,0xcfe00));import*as a0_0x1098be from'./main.js';const mgbaStorage=document[a0_0x9a694a(0x196)](a0_0x9a694a(0x192)),savesFile=document[a0_0x9a694a(0x196)]('savesFile'),romsFile=document[a0_0x9a694a(0x196)](a0_0x9a694a(0x1b5)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document[a0_0x9a694a(0x196)]('screenshotsFile');function humanFileSize(_0x108ef4,_0x1fcf22=![],_0x37f7b9=0x1){const _0x1e823b=a0_0x9a694a,_0x58f83d=_0x1fcf22?0x3e8:0x400,_0x4ab6e8=_0x1fcf22?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1e823b(0x1a6),_0x1e823b(0x1a7),_0x1e823b(0x1c6),'TiB',_0x1e823b(0x1c2),_0x1e823b(0x186),_0x1e823b(0x198),_0x1e823b(0x191)];let _0x4de983=-0x1;do{_0x108ef4/=_0x58f83d,++_0x4de983;}while(Math[_0x1e823b(0x1cb)](_0x108ef4)>=_0x58f83d&&_0x4de983<_0x4ab6e8[_0x1e823b(0x18a)]-0x1);return _0x108ef4[_0x1e823b(0x18d)](_0x37f7b9)+'\x20'+_0x4ab6e8[_0x4de983];}function createElementStorage(_0x475753,_0x2b3c6e,_0x297c28){const _0x4db7ef=a0_0x9a694a,_0x3004a3=document[_0x4db7ef(0x1a3)](_0x4db7ef(0x1a0));_0x3004a3[_0x4db7ef(0x1a5)][_0x4db7ef(0x1c7)](_0x4db7ef(0x1be),_0x4db7ef(0x183),_0x4db7ef(0x1a9)),_0x475753['appendChild'](_0x3004a3);const _0xfa78e6=document[_0x4db7ef(0x1a3)](_0x4db7ef(0x1b4));_0xfa78e6['textContent']=_0x2b3c6e,_0xfa78e6[_0x4db7ef(0x1a5)][_0x4db7ef(0x1c7)](_0x4db7ef(0x1be)),_0x3004a3['appendChild'](_0xfa78e6),_0xfa78e6[_0x4db7ef(0x1cd)]=()=>{const _0x1ed6ab=_0x4db7ef,_0x318d08=document[_0x1ed6ab(0x1a3)](_0x1ed6ab(0x1bd));_0x318d08[_0x1ed6ab(0x1b2)]=()=>_0x318d08['remove'](),_0x475753[_0x1ed6ab(0x1b8)](_0x318d08);const _0x53caf5=document[_0x1ed6ab(0x1a3)](_0x1ed6ab(0x1a0));_0x53caf5['classList'][_0x1ed6ab(0x1c7)]('storage','right',_0x1ed6ab(0x1a2)),_0x318d08[_0x1ed6ab(0x1b8)](_0x53caf5);const _0x3f5a26=document[_0x1ed6ab(0x1a3)](_0x1ed6ab(0x1a0));_0x3f5a26[_0x1ed6ab(0x1a5)][_0x1ed6ab(0x1c7)](_0x1ed6ab(0x185),'bc','flex-1'),_0x53caf5['appendChild'](_0x3f5a26);const _0x137512=document[_0x1ed6ab(0x1a3)]('div');_0x137512[_0x1ed6ab(0x1a5)][_0x1ed6ab(0x1c7)]('flex-1'),_0x53caf5[_0x1ed6ab(0x1b8)](_0x137512);const _0x483809=document[_0x1ed6ab(0x1a3)](_0x1ed6ab(0x1a0));_0x483809[_0x1ed6ab(0x1a5)][_0x1ed6ab(0x1c7)](_0x1ed6ab(0x1be)),_0x53caf5['appendChild'](_0x483809);const _0x514405=document['createElement'](_0x1ed6ab(0x1a0));_0x514405[_0x1ed6ab(0x1a5)]['add'](_0x1ed6ab(0x1be)),_0x53caf5['appendChild'](_0x514405),mgbaStorage['classList']['add'](_0x1ed6ab(0x19b)),_0x3f5a26[_0x1ed6ab(0x1cd)]=()=>{const _0x5f3d6e=_0x1ed6ab;_0x318d08[_0x5f3d6e(0x1ce)](),_0x318d08[_0x5f3d6e(0x1b0)](),mgbaStorage[_0x5f3d6e(0x1a5)]['remove'](_0x5f3d6e(0x19b));};const _0x2ec88f=document['createElement'](_0x1ed6ab(0x1a0));_0x2ec88f[_0x1ed6ab(0x1a5)]['add'](_0x1ed6ab(0x1be),_0x1ed6ab(0x183),'hw','cw'),_0x2ec88f['textContent']=_0x2b3c6e,_0x318d08[_0x1ed6ab(0x1b8)](_0x2ec88f);const _0xb36845=document[_0x1ed6ab(0x1a3)]('div');_0xb36845[_0x1ed6ab(0x1a5)][_0x1ed6ab(0x1c7)](_0x1ed6ab(0x1ac),'hw','cw',_0x1ed6ab(0x1ca)),_0x318d08['appendChild'](_0xb36845);const _0x17e627=document[_0x1ed6ab(0x1a3)](_0x1ed6ab(0x1a0));_0x17e627['classList'][_0x1ed6ab(0x1c7)](_0x1ed6ab(0x18e),'bc'),_0xb36845[_0x1ed6ab(0x1b8)](_0x17e627),_0x17e627[_0x1ed6ab(0x1cd)]=()=>{const _0x34c514=_0x1ed6ab;a0_0x1098be[_0x34c514(0x189)](_0x297c28,_0x2b3c6e);};const _0x4c7752=document[_0x1ed6ab(0x1a3)]('div');_0x4c7752['classList'][_0x1ed6ab(0x1c7)](_0x1ed6ab(0x18c),'bc'),_0xb36845[_0x1ed6ab(0x1b8)](_0x4c7752),_0x4c7752['onclick']=async()=>{const _0x1de54a=_0x1ed6ab;if(window['confirm'](_0x1de54a(0x1ad)+_0x2b3c6e)){const _0x27405f=_0x2b3c6e[_0x1de54a(0x1a4)](/\....$/,_0x1de54a(0x1b9));a0_0x1098be[_0x1de54a(0x1ae)](_0x297c28),localStorage[_0x1de54a(0x188)](_0x27405f+_0x1de54a(0x193)+_0x2b3c6e[_0x1de54a(0x1a8)](-0x1)),localStorage[_0x1de54a(0x188)](_0x27405f+_0x1de54a(0x1b7)+_0x2b3c6e[_0x1de54a(0x1a8)](-0x1)),localStorageFile(),_0x318d08[_0x1de54a(0x1ce)](),_0x318d08['remove'](),mgbaStorage[_0x1de54a(0x1a5)]['remove']('opacity0');}};const _0x5754cd=document[_0x1ed6ab(0x1a3)](_0x1ed6ab(0x1a0));_0x5754cd['classList'][_0x1ed6ab(0x1c7)](_0x1ed6ab(0x1af),'bc'),_0xb36845[_0x1ed6ab(0x1b8)](_0x5754cd),_0x5754cd['onclick']=async()=>{const _0x5658c7=_0x1ed6ab,_0x517d67=window[_0x5658c7(0x194)](_0x5658c7(0x187),_0x2b3c6e);_0x517d67!==null&&(a0_0x1098be[_0x5658c7(0x1c9)](_0x297c28,_0x2b3c6e,_0x517d67),localStorageFile(),_0x318d08[_0x5658c7(0x1ce)](),_0x318d08['remove'](),mgbaStorage[_0x5658c7(0x1a5)][_0x5658c7(0x1b0)](_0x5658c7(0x19b)));},_0x318d08[_0x1ed6ab(0x1bc)]();};const _0x47c8c0=document[_0x4db7ef(0x1a3)]('span');_0x47c8c0['textContent']=humanFileSize(a0_0x1098be[_0x4db7ef(0x1ba)](_0x297c28)),_0x47c8c0[_0x4db7ef(0x1a5)][_0x4db7ef(0x1c7)](_0x4db7ef(0x1c5)),_0x3004a3[_0x4db7ef(0x1b8)](_0x47c8c0);}export function localStorageFile(){const _0x112263=a0_0x9a694a,_0x2d71ee=a0_0x1098be['listFiles'](_0x112263(0x1c1)),_0x2f0421=a0_0x1098be[_0x112263(0x1ab)]('saves'),_0x3af563=a0_0x1098be[_0x112263(0x1ab)]('states'),_0x581706=a0_0x1098be['listFiles'](_0x112263(0x1bb)),_0x516fe3=a0_0x1098be[_0x112263(0x1ab)](_0x112263(0x197)),_0x27210f=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4f8c30 of _0x27210f){while(_0x4f8c30['firstChild']){_0x4f8c30['lastChild'][_0x112263(0x1b0)]();}}for(const _0x2b7da8 of _0x2d71ee){createElementStorage(romsFile,_0x2b7da8,_0x112263(0x1a1)+_0x2b7da8);}for(const _0x3b67b2 of _0x3af563){createElementStorage(statesFile,_0x3b67b2,_0x112263(0x19d)+_0x3b67b2);}for(const _0x5c804f of _0x2f0421){createElementStorage(savesFile,_0x5c804f,_0x112263(0x190)+_0x5c804f);}for(const _0x8b171b of _0x581706){createElementStorage(cheatsFile,_0x8b171b,_0x112263(0x19a)+_0x8b171b);}for(const _0x5f21db of _0x516fe3){createElementStorage(screenshotsFile,_0x5f21db,'/data/screenshots/'+_0x5f21db);}}document[a0_0x9a694a(0x1c3)](a0_0x9a694a(0x184),function(){const _0x54e5b9=a0_0x9a694a;upLoadFile['addEventListener'](_0x54e5b9(0x199),function(){const _0x8bb1d3=_0x54e5b9;a0_0x1098be[_0x8bb1d3(0x19e)](upLoadFile);}),openLocalStorage[_0x54e5b9(0x1c3)](_0x54e5b9(0x1c4),function(){const _0x42d1c4=_0x54e5b9,_0x18cfa3=localStorage[_0x42d1c4(0x19f)]('uId');storage[_0x42d1c4(0x1a5)][_0x42d1c4(0x1b0)](_0x42d1c4(0x195)),intro['classList'][_0x42d1c4(0x1c7)](_0x42d1c4(0x195)),ingame[_0x42d1c4(0x1a5)][_0x42d1c4(0x1c7)]('disable'),_0x18cfa3===null||_0x18cfa3===''?(dropboxRestore['classList']['remove'](_0x42d1c4(0x1c8)),dropboxBackup[_0x42d1c4(0x1a5)][_0x42d1c4(0x1b0)](_0x42d1c4(0x1c8)),dropboxCloud[_0x42d1c4(0x1a5)][_0x42d1c4(0x1b0)](_0x42d1c4(0x1c8))):(dropboxRestore['classList'][_0x42d1c4(0x1c7)]('active'),dropboxBackup['classList'][_0x42d1c4(0x1c7)](_0x42d1c4(0x1c8)),dropboxCloud['classList'][_0x42d1c4(0x1c7)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});