const a0_0x5b1a9e=a0_0x446b;(function(_0x26521d,_0x2ce06a){const _0x3bc24e=a0_0x446b,_0x593819=_0x26521d();while(!![]){try{const _0x55036f=-parseInt(_0x3bc24e(0x163))/0x1*(-parseInt(_0x3bc24e(0x146))/0x2)+-parseInt(_0x3bc24e(0x143))/0x3+parseInt(_0x3bc24e(0x130))/0x4+-parseInt(_0x3bc24e(0x156))/0x5+-parseInt(_0x3bc24e(0x15c))/0x6*(-parseInt(_0x3bc24e(0x154))/0x7)+parseInt(_0x3bc24e(0x159))/0x8*(parseInt(_0x3bc24e(0x16e))/0x9)+-parseInt(_0x3bc24e(0x157))/0xa;if(_0x55036f===_0x2ce06a)break;else _0x593819['push'](_0x593819['shift']());}catch(_0x3b9ef9){_0x593819['push'](_0x593819['shift']());}}}(a0_0x4181,0x76fbd));function a0_0x446b(_0x8f7157,_0x34948f){const _0x418108=a0_0x4181();return a0_0x446b=function(_0x446b46,_0x2e145b){_0x446b46=_0x446b46-0x12e;let _0x14f874=_0x418108[_0x446b46];return _0x14f874;},a0_0x446b(_0x8f7157,_0x34948f);}import*as a0_0x22ad53 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x5b1a9e(0x13c)),savesFile=document[a0_0x5b1a9e(0x176)](a0_0x5b1a9e(0x158)),romsFile=document['getElementById'](a0_0x5b1a9e(0x12f)),statesFile=document[a0_0x5b1a9e(0x176)](a0_0x5b1a9e(0x16d)),screenshotsFile=document[a0_0x5b1a9e(0x176)](a0_0x5b1a9e(0x170));function humanFileSize(_0x356908,_0x50c97e=![],_0x568557=0x1){const _0x35b881=a0_0x5b1a9e,_0x5542ab=_0x50c97e?0x3e8:0x400,_0xb57338=_0x50c97e?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x35b881(0x13d),'MiB',_0x35b881(0x137),_0x35b881(0x161),_0x35b881(0x15a),'EiB',_0x35b881(0x13a),_0x35b881(0x171)];let _0x30ee74=-0x1;do{_0x356908/=_0x5542ab,++_0x30ee74;}while(Math[_0x35b881(0x160)](_0x356908)>=_0x5542ab&&_0x30ee74<_0xb57338['length']-0x1);return _0x356908[_0x35b881(0x155)](_0x568557)+'\x20'+_0xb57338[_0x30ee74];}function a0_0x4181(){const _0x27eb63=['_imageState','488783znFUKB','onclick','span','home','actionDiv','right','storage','addEventListener','confirm','onclose','statesFile','9VXPbwp','add','screenshotsFile','YiB','downloadFile','delete','fileSize','rename','getElementById','rom','gap-10','uId','/data/states/','romsFile','2381752LNUHWy','classList','click','getItem','DOMContentLoaded','.gba','firstChild','GiB','editFile','active','ZiB','appendChild','mgba-storage','KiB','showModal','div','disable','slice','Delete\x20this\x20file?','2330046CfeloN','replace','listScreenshot','2lMxeZa','textContent','change','uploadFile','/data/cheats/','/data/screenshots/','/data/games/','listState','createElement','flex-1','removeItem','remove','close','deleteFile','7DZfvAE','toFixed','970230hMWwjK','5260270hOZsPR','savesFile','2119704LBzykX','PiB','prompt','3809568hMDigo','listGame','opacity0','lastChild','abs','TiB'];a0_0x4181=function(){return _0x27eb63;};return a0_0x4181();}function createElementStorage(_0x2eb43b,_0x342545,_0x53a790){const _0x1bcb24=a0_0x5b1a9e,_0x65efad=document[_0x1bcb24(0x14e)](_0x1bcb24(0x13f));_0x65efad[_0x1bcb24(0x131)]['add'](_0x1bcb24(0x14f),'rom-item',_0x1bcb24(0x177)),_0x2eb43b[_0x1bcb24(0x13b)](_0x65efad);const _0x15f7a6=document[_0x1bcb24(0x14e)]('span');_0x15f7a6[_0x1bcb24(0x147)]=_0x342545,_0x15f7a6[_0x1bcb24(0x131)]['add'](_0x1bcb24(0x14f)),_0x65efad[_0x1bcb24(0x13b)](_0x15f7a6),_0x15f7a6['onclick']=()=>{const _0x28a26c=_0x1bcb24,_0x61da76=document[_0x28a26c(0x14e)]('dialog');_0x61da76[_0x28a26c(0x16c)]=()=>_0x61da76[_0x28a26c(0x151)](),_0x2eb43b[_0x28a26c(0x13b)](_0x61da76);const _0x44e58e=document[_0x28a26c(0x14e)](_0x28a26c(0x13f));_0x44e58e[_0x28a26c(0x131)][_0x28a26c(0x16f)](_0x28a26c(0x169),_0x28a26c(0x168),_0x28a26c(0x178)),_0x61da76[_0x28a26c(0x13b)](_0x44e58e);const _0x2f63eb=document[_0x28a26c(0x14e)](_0x28a26c(0x13f));_0x2f63eb[_0x28a26c(0x131)][_0x28a26c(0x16f)](_0x28a26c(0x166),'bc',_0x28a26c(0x14f)),_0x44e58e[_0x28a26c(0x13b)](_0x2f63eb);const _0x3129df=document['createElement'](_0x28a26c(0x13f));_0x3129df['classList'][_0x28a26c(0x16f)]('flex-1'),_0x44e58e['appendChild'](_0x3129df);const _0x5e99f3=document[_0x28a26c(0x14e)](_0x28a26c(0x13f));_0x5e99f3['classList'][_0x28a26c(0x16f)](_0x28a26c(0x14f)),_0x44e58e['appendChild'](_0x5e99f3);const _0xcdaa32=document[_0x28a26c(0x14e)](_0x28a26c(0x13f));_0xcdaa32[_0x28a26c(0x131)][_0x28a26c(0x16f)](_0x28a26c(0x14f)),_0x44e58e[_0x28a26c(0x13b)](_0xcdaa32),mgbaStorage[_0x28a26c(0x131)][_0x28a26c(0x16f)](_0x28a26c(0x15e)),_0x2f63eb['onclick']=()=>{const _0x2ace5f=_0x28a26c;_0x61da76[_0x2ace5f(0x152)](),_0x61da76['remove'](),mgbaStorage[_0x2ace5f(0x131)]['remove'](_0x2ace5f(0x15e));};const _0x3142fc=document[_0x28a26c(0x14e)](_0x28a26c(0x13f));_0x3142fc[_0x28a26c(0x131)]['add'](_0x28a26c(0x14f),'rom-item','hw','cw'),_0x3142fc[_0x28a26c(0x147)]=_0x342545,_0x61da76['appendChild'](_0x3142fc);const _0x5e7a11=document[_0x28a26c(0x14e)](_0x28a26c(0x13f));_0x5e7a11[_0x28a26c(0x131)][_0x28a26c(0x16f)](_0x28a26c(0x167),'hw','cw','gap-16'),_0x61da76[_0x28a26c(0x13b)](_0x5e7a11);const _0x316fca=document[_0x28a26c(0x14e)](_0x28a26c(0x13f));_0x316fca[_0x28a26c(0x131)][_0x28a26c(0x16f)]('download','bc'),_0x5e7a11[_0x28a26c(0x13b)](_0x316fca),_0x316fca[_0x28a26c(0x164)]=()=>{const _0x1bc940=_0x28a26c;a0_0x22ad53[_0x1bc940(0x172)](_0x53a790,_0x342545);};const _0x1b6182=document[_0x28a26c(0x14e)]('div');_0x1b6182[_0x28a26c(0x131)][_0x28a26c(0x16f)](_0x28a26c(0x173),'bc'),_0x5e7a11[_0x28a26c(0x13b)](_0x1b6182),_0x1b6182[_0x28a26c(0x164)]=async()=>{const _0x151ea2=_0x28a26c;if(window[_0x151ea2(0x16b)](_0x151ea2(0x142)+_0x342545)){const _0x188413=_0x342545[_0x151ea2(0x144)](/\....$/,_0x151ea2(0x135));a0_0x22ad53[_0x151ea2(0x153)](_0x53a790),localStorage[_0x151ea2(0x150)](_0x188413+'_dateState'+_0x342545[_0x151ea2(0x141)](-0x1)),localStorage[_0x151ea2(0x150)](_0x188413+_0x151ea2(0x162)+_0x342545[_0x151ea2(0x141)](-0x1)),localStorageFile(),_0x61da76[_0x151ea2(0x152)](),_0x61da76[_0x151ea2(0x151)](),mgbaStorage['classList'][_0x151ea2(0x151)](_0x151ea2(0x15e));}};const _0x3b8a2b=document[_0x28a26c(0x14e)](_0x28a26c(0x13f));_0x3b8a2b['classList'][_0x28a26c(0x16f)](_0x28a26c(0x175),'bc'),_0x5e7a11[_0x28a26c(0x13b)](_0x3b8a2b),_0x3b8a2b[_0x28a26c(0x164)]=async()=>{const _0x5b0d0e=_0x28a26c,_0x541137=window[_0x5b0d0e(0x15b)]('Edit\x20filename',_0x342545);_0x541137!==null&&(a0_0x22ad53[_0x5b0d0e(0x138)](_0x53a790,_0x342545,_0x541137),localStorageFile(),_0x61da76[_0x5b0d0e(0x152)](),_0x61da76[_0x5b0d0e(0x151)](),mgbaStorage[_0x5b0d0e(0x131)]['remove'](_0x5b0d0e(0x15e)));},_0x61da76[_0x28a26c(0x13e)]();};const _0x4e8c66=document['createElement'](_0x1bcb24(0x165));_0x4e8c66['textContent']=humanFileSize(a0_0x22ad53[_0x1bcb24(0x174)](_0x53a790)),_0x4e8c66['classList'][_0x1bcb24(0x16f)]('mib'),_0x65efad[_0x1bcb24(0x13b)](_0x4e8c66);}export function localStorageFile(){const _0x45dd8b=a0_0x5b1a9e,_0x8d2a8c=a0_0x22ad53[_0x45dd8b(0x15d)](),_0x2c6911=a0_0x22ad53['listSave'](),_0x1c9e2b=a0_0x22ad53[_0x45dd8b(0x14d)](),_0x28c750=a0_0x22ad53['listCheat'](),_0x35bd13=a0_0x22ad53[_0x45dd8b(0x145)](),_0x2195b4=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x441ec2 of _0x2195b4){while(_0x441ec2[_0x45dd8b(0x136)]){_0x441ec2[_0x45dd8b(0x15f)][_0x45dd8b(0x151)]();}}for(const _0x3f7a9 of _0x8d2a8c){createElementStorage(romsFile,_0x3f7a9,_0x45dd8b(0x14c)+_0x3f7a9);}for(const _0x5505e3 of _0x1c9e2b){createElementStorage(statesFile,_0x5505e3,_0x45dd8b(0x12e)+_0x5505e3);}for(const _0xe845ad of _0x2c6911){createElementStorage(savesFile,_0xe845ad,'/data/saves/'+_0xe845ad);}for(const _0x5e2d3d of _0x28c750){createElementStorage(cheatsFile,_0x5e2d3d,_0x45dd8b(0x14a)+_0x5e2d3d);}for(const _0x4f1b63 of _0x35bd13){createElementStorage(screenshotsFile,_0x4f1b63,_0x45dd8b(0x14b)+_0x4f1b63);}}document[a0_0x5b1a9e(0x16a)](a0_0x5b1a9e(0x134),function(){const _0x5ba403=a0_0x5b1a9e;upLoadFile['addEventListener'](_0x5ba403(0x148),function(){const _0x44c77d=_0x5ba403;a0_0x22ad53[_0x44c77d(0x149)](upLoadFile);}),openLocalStorage[_0x5ba403(0x16a)](_0x5ba403(0x132),function(){const _0x4a55f5=_0x5ba403,_0xaee237=localStorage[_0x4a55f5(0x133)](_0x4a55f5(0x179));storage[_0x4a55f5(0x131)][_0x4a55f5(0x151)](_0x4a55f5(0x140)),intro[_0x4a55f5(0x131)][_0x4a55f5(0x16f)]('disable'),ingame['classList'][_0x4a55f5(0x16f)](_0x4a55f5(0x140)),_0xaee237===null||_0xaee237===''?(dropboxRestore['classList'][_0x4a55f5(0x151)](_0x4a55f5(0x139)),dropboxBackup['classList'][_0x4a55f5(0x151)]('active'),dropboxCloud[_0x4a55f5(0x131)][_0x4a55f5(0x151)](_0x4a55f5(0x139))):(dropboxRestore['classList'][_0x4a55f5(0x16f)](_0x4a55f5(0x139)),dropboxBackup[_0x4a55f5(0x131)][_0x4a55f5(0x16f)](_0x4a55f5(0x139)),dropboxCloud[_0x4a55f5(0x131)][_0x4a55f5(0x16f)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});