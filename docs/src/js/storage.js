const a0_0x2d95ee=a0_0x3c90;(function(_0x3b27d3,_0x1ae4b6){const _0x5e713f=a0_0x3c90,_0x2b5fc3=_0x3b27d3();while(!![]){try{const _0x2ef430=-parseInt(_0x5e713f(0x1a6))/0x1*(parseInt(_0x5e713f(0x197))/0x2)+parseInt(_0x5e713f(0x18c))/0x3*(parseInt(_0x5e713f(0x191))/0x4)+parseInt(_0x5e713f(0x179))/0x5+-parseInt(_0x5e713f(0x187))/0x6*(parseInt(_0x5e713f(0x1b2))/0x7)+-parseInt(_0x5e713f(0x178))/0x8+parseInt(_0x5e713f(0x1a3))/0x9+parseInt(_0x5e713f(0x17b))/0xa;if(_0x2ef430===_0x1ae4b6)break;else _0x2b5fc3['push'](_0x2b5fc3['shift']());}catch(_0x57b39d){_0x2b5fc3['push'](_0x2b5fc3['shift']());}}}(a0_0x514b,0x84a54));import*as a0_0x28c9a7 from'./main.js';const mgbaStorage=document[a0_0x2d95ee(0x1a9)](a0_0x2d95ee(0x198)),savesFile=document['getElementById'](a0_0x2d95ee(0x199)),romsFile=document[a0_0x2d95ee(0x1a9)](a0_0x2d95ee(0x177)),statesFile=document['getElementById'](a0_0x2d95ee(0x18f)),screenshotsFile=document['getElementById'](a0_0x2d95ee(0x1a0));function humanFileSize(_0x3d02fb,_0x2bf7ae=![],_0x3f67fb=0x1){const _0x3e4e94=a0_0x2d95ee,_0x21b561=_0x2bf7ae?0x3e8:0x400,_0x38a5db=_0x2bf7ae?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x3e4e94(0x186),_0x3e4e94(0x190),_0x3e4e94(0x1af),_0x3e4e94(0x1ad),'PiB',_0x3e4e94(0x188),_0x3e4e94(0x1ab),_0x3e4e94(0x172)];let _0x5a447c=-0x1;do{_0x3d02fb/=_0x21b561,++_0x5a447c;}while(Math[_0x3e4e94(0x19c)](_0x3d02fb)>=_0x21b561&&_0x5a447c<_0x38a5db[_0x3e4e94(0x185)]-0x1);return _0x3d02fb[_0x3e4e94(0x193)](_0x3f67fb)+'\x20'+_0x38a5db[_0x5a447c];}function a0_0x3c90(_0x4e5e16,_0x404f19){const _0x514b91=a0_0x514b();return a0_0x3c90=function(_0x3c9009,_0x11d888){_0x3c9009=_0x3c9009-0x16d;let _0x79a2df=_0x514b91[_0x3c9009];return _0x79a2df;},a0_0x3c90(_0x4e5e16,_0x404f19);}function a0_0x514b(){const _0xde29d2=['1094180VCgtgp','cheats','opacity0','onclick','gap-16','/data/screenshots/','download','div','editFile','prompt','length','KiB','24714hptaRh','EiB','listFiles','dialog','close','2098353GQJmRd','confirm','removeItem','statesFile','MiB','4SnZAYq','createElement','toFixed','home','deleteFile','textContent','74wEmDoW','mgba-storage','savesFile','/data/saves/','gap-10','abs','rom','rename','active','screenshotsFile','right','click','7880976QOuqkv','slice','Edit\x20filename','9970lAbcEs','uploadFile','classList','getElementById','add','ZiB','span','TiB','flex-1','GiB','rom-item','mib','1519boprdu','getItem','_imageState','appendChild','fileSize','replace','uId','screenshots','remove','disable','YiB','/data/games/','addEventListener','lastChild','saves','romsFile','3040584oMSGgn','2507845DqBdNr','storage'];a0_0x514b=function(){return _0xde29d2;};return a0_0x514b();}function createElementStorage(_0x58a842,_0x24ca73,_0x420267){const _0x35d62b=a0_0x2d95ee,_0x59da94=document[_0x35d62b(0x192)]('div');_0x59da94['classList']['add'](_0x35d62b(0x1ae),_0x35d62b(0x1b0),_0x35d62b(0x19d)),_0x58a842[_0x35d62b(0x1b5)](_0x59da94);const _0x4ab21f=document[_0x35d62b(0x192)](_0x35d62b(0x1ac));_0x4ab21f[_0x35d62b(0x196)]=_0x24ca73,_0x4ab21f[_0x35d62b(0x1a8)]['add'](_0x35d62b(0x1ae)),_0x59da94[_0x35d62b(0x1b5)](_0x4ab21f),_0x4ab21f[_0x35d62b(0x17e)]=()=>{const _0xd2c935=_0x35d62b,_0x33aa8c=document['createElement'](_0xd2c935(0x18a));_0x33aa8c['onclose']=()=>_0x33aa8c[_0xd2c935(0x170)](),_0x58a842[_0xd2c935(0x1b5)](_0x33aa8c);const _0xee923b=document[_0xd2c935(0x192)](_0xd2c935(0x182));_0xee923b['classList'][_0xd2c935(0x1aa)](_0xd2c935(0x17a),_0xd2c935(0x1a1),_0xd2c935(0x19b)),_0x33aa8c[_0xd2c935(0x1b5)](_0xee923b);const _0x277f1f=document[_0xd2c935(0x192)](_0xd2c935(0x182));_0x277f1f[_0xd2c935(0x1a8)][_0xd2c935(0x1aa)](_0xd2c935(0x194),'bc',_0xd2c935(0x1ae)),_0xee923b[_0xd2c935(0x1b5)](_0x277f1f);const _0x1a6796=document['createElement'](_0xd2c935(0x182));_0x1a6796[_0xd2c935(0x1a8)][_0xd2c935(0x1aa)](_0xd2c935(0x1ae)),_0xee923b[_0xd2c935(0x1b5)](_0x1a6796);const _0x3d9b2d=document[_0xd2c935(0x192)]('div');_0x3d9b2d[_0xd2c935(0x1a8)]['add']('flex-1'),_0xee923b['appendChild'](_0x3d9b2d);const _0x43694e=document[_0xd2c935(0x192)](_0xd2c935(0x182));_0x43694e[_0xd2c935(0x1a8)][_0xd2c935(0x1aa)](_0xd2c935(0x1ae)),_0xee923b[_0xd2c935(0x1b5)](_0x43694e),mgbaStorage[_0xd2c935(0x1a8)][_0xd2c935(0x1aa)]('opacity0'),_0x277f1f[_0xd2c935(0x17e)]=()=>{const _0xe81a70=_0xd2c935;_0x33aa8c['close'](),_0x33aa8c['remove'](),mgbaStorage[_0xe81a70(0x1a8)]['remove'](_0xe81a70(0x17d));};const _0x4d6860=document[_0xd2c935(0x192)](_0xd2c935(0x182));_0x4d6860[_0xd2c935(0x1a8)][_0xd2c935(0x1aa)](_0xd2c935(0x1ae),_0xd2c935(0x1b0),'hw','cw'),_0x4d6860[_0xd2c935(0x196)]=_0x24ca73,_0x33aa8c[_0xd2c935(0x1b5)](_0x4d6860);const _0x3178bf=document[_0xd2c935(0x192)]('div');_0x3178bf[_0xd2c935(0x1a8)][_0xd2c935(0x1aa)]('actionDiv','hw','cw',_0xd2c935(0x17f)),_0x33aa8c[_0xd2c935(0x1b5)](_0x3178bf);const _0x22f527=document[_0xd2c935(0x192)](_0xd2c935(0x182));_0x22f527[_0xd2c935(0x1a8)][_0xd2c935(0x1aa)](_0xd2c935(0x181),'bc'),_0x3178bf['appendChild'](_0x22f527),_0x22f527[_0xd2c935(0x17e)]=()=>{a0_0x28c9a7['downloadFile'](_0x420267,_0x24ca73);};const _0x4fd16a=document['createElement']('div');_0x4fd16a[_0xd2c935(0x1a8)]['add']('delete','bc'),_0x3178bf[_0xd2c935(0x1b5)](_0x4fd16a),_0x4fd16a[_0xd2c935(0x17e)]=async()=>{const _0x38ecb5=_0xd2c935;if(window[_0x38ecb5(0x18d)]('Delete\x20this\x20file?'+_0x24ca73)){const _0x105767=_0x24ca73[_0x38ecb5(0x16d)](/\....$/,'.gba');a0_0x28c9a7[_0x38ecb5(0x195)](_0x420267),localStorage[_0x38ecb5(0x18e)](_0x105767+'_dateState'+_0x24ca73[_0x38ecb5(0x1a4)](-0x1)),localStorage['removeItem'](_0x105767+_0x38ecb5(0x1b4)+_0x24ca73['slice'](-0x1)),localStorageFile(),_0x33aa8c[_0x38ecb5(0x18b)](),_0x33aa8c['remove'](),mgbaStorage[_0x38ecb5(0x1a8)][_0x38ecb5(0x170)]('opacity0');}};const _0x5729d=document[_0xd2c935(0x192)](_0xd2c935(0x182));_0x5729d[_0xd2c935(0x1a8)][_0xd2c935(0x1aa)](_0xd2c935(0x19e),'bc'),_0x3178bf[_0xd2c935(0x1b5)](_0x5729d),_0x5729d[_0xd2c935(0x17e)]=async()=>{const _0x391730=_0xd2c935,_0x469f7f=window[_0x391730(0x184)](_0x391730(0x1a5),_0x24ca73);_0x469f7f!==null&&(a0_0x28c9a7[_0x391730(0x183)](_0x420267,_0x24ca73,_0x469f7f),localStorageFile(),_0x33aa8c['close'](),_0x33aa8c[_0x391730(0x170)](),mgbaStorage[_0x391730(0x1a8)][_0x391730(0x170)]('opacity0'));},_0x33aa8c['showModal']();};const _0x535c0d=document[_0x35d62b(0x192)](_0x35d62b(0x1ac));_0x535c0d[_0x35d62b(0x196)]=humanFileSize(a0_0x28c9a7[_0x35d62b(0x1b6)](_0x420267)),_0x535c0d[_0x35d62b(0x1a8)][_0x35d62b(0x1aa)](_0x35d62b(0x1b1)),_0x59da94[_0x35d62b(0x1b5)](_0x535c0d);}export function localStorageFile(){const _0x2d7f2b=a0_0x2d95ee,_0x4f0520=a0_0x28c9a7[_0x2d7f2b(0x189)]('games'),_0x4e4fc8=a0_0x28c9a7['listFiles'](_0x2d7f2b(0x176)),_0x1c7b18=a0_0x28c9a7[_0x2d7f2b(0x189)]('states'),_0x5cc3b5=a0_0x28c9a7[_0x2d7f2b(0x189)](_0x2d7f2b(0x17c)),_0x2457da=a0_0x28c9a7[_0x2d7f2b(0x189)](_0x2d7f2b(0x16f)),_0xae34d4=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x2a361c of _0xae34d4){while(_0x2a361c['firstChild']){_0x2a361c[_0x2d7f2b(0x175)][_0x2d7f2b(0x170)]();}}for(const _0x4f6d5d of _0x4f0520){createElementStorage(romsFile,_0x4f6d5d,_0x2d7f2b(0x173)+_0x4f6d5d);}for(const _0x384f0a of _0x1c7b18){createElementStorage(statesFile,_0x384f0a,'/data/states/'+_0x384f0a);}for(const _0xfc1571 of _0x4e4fc8){createElementStorage(savesFile,_0xfc1571,_0x2d7f2b(0x19a)+_0xfc1571);}for(const _0x591bc1 of _0x5cc3b5){createElementStorage(cheatsFile,_0x591bc1,'/data/cheats/'+_0x591bc1);}for(const _0x1c63e2 of _0x2457da){createElementStorage(screenshotsFile,_0x1c63e2,_0x2d7f2b(0x180)+_0x1c63e2);}}document[a0_0x2d95ee(0x174)]('DOMContentLoaded',function(){const _0x19a2f4=a0_0x2d95ee;upLoadFile[_0x19a2f4(0x174)]('change',function(){const _0x268107=_0x19a2f4;a0_0x28c9a7[_0x268107(0x1a7)](upLoadFile);}),openLocalStorage[_0x19a2f4(0x174)](_0x19a2f4(0x1a2),function(){const _0x22dff8=_0x19a2f4,_0x59f5db=localStorage[_0x22dff8(0x1b3)](_0x22dff8(0x16e));storage[_0x22dff8(0x1a8)]['remove'](_0x22dff8(0x171)),intro[_0x22dff8(0x1a8)][_0x22dff8(0x1aa)](_0x22dff8(0x171)),ingame['classList'][_0x22dff8(0x1aa)](_0x22dff8(0x171)),_0x59f5db===null||_0x59f5db===''?(dropboxRestore[_0x22dff8(0x1a8)]['remove'](_0x22dff8(0x19f)),dropboxBackup['classList']['remove'](_0x22dff8(0x19f)),dropboxCloud[_0x22dff8(0x1a8)]['remove'](_0x22dff8(0x19f))):(dropboxRestore[_0x22dff8(0x1a8)][_0x22dff8(0x1aa)](_0x22dff8(0x19f)),dropboxBackup[_0x22dff8(0x1a8)][_0x22dff8(0x1aa)](_0x22dff8(0x19f)),dropboxCloud[_0x22dff8(0x1a8)][_0x22dff8(0x1aa)](_0x22dff8(0x19f)));}),setTimeout(()=>{localStorageFile();},0xbb8);});