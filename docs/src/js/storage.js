const a0_0x5ba8fd=a0_0x2c73;(function(_0x118ca0,_0x36f3f0){const _0xed6622=a0_0x2c73,_0x5e707a=_0x118ca0();while(!![]){try{const _0x121d51=parseInt(_0xed6622(0x153))/0x1+-parseInt(_0xed6622(0x137))/0x2+-parseInt(_0xed6622(0x124))/0x3+-parseInt(_0xed6622(0x113))/0x4+parseInt(_0xed6622(0x126))/0x5*(parseInt(_0xed6622(0x11e))/0x6)+-parseInt(_0xed6622(0x151))/0x7+parseInt(_0xed6622(0x11c))/0x8*(parseInt(_0xed6622(0x14c))/0x9);if(_0x121d51===_0x36f3f0)break;else _0x5e707a['push'](_0x5e707a['shift']());}catch(_0x420020){_0x5e707a['push'](_0x5e707a['shift']());}}}(a0_0x3651,0x8e606));import*as a0_0x4a9f9a from'./main.js';const mgbaStorage=document[a0_0x5ba8fd(0x158)](a0_0x5ba8fd(0x115)),savesFile=document[a0_0x5ba8fd(0x158)]('savesFile'),romsFile=document[a0_0x5ba8fd(0x158)](a0_0x5ba8fd(0x121)),statesFile=document[a0_0x5ba8fd(0x158)](a0_0x5ba8fd(0x10a)),screenshotsFile=document[a0_0x5ba8fd(0x158)](a0_0x5ba8fd(0x154));function a0_0x2c73(_0x515127,_0xe8bbae){const _0x365143=a0_0x3651();return a0_0x2c73=function(_0x2c7316,_0x21e98e){_0x2c7316=_0x2c7316-0x10a;let _0x27114f=_0x365143[_0x2c7316];return _0x27114f;},a0_0x2c73(_0x515127,_0xe8bbae);}function humanFileSize(_0x533778,_0x5ce203=![],_0x5cbd30=0x1){const _0x474816=a0_0x5ba8fd,_0x596cc1=_0x5ce203?0x3e8:0x400,_0x3e1097=_0x5ce203?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x474816(0x12a),_0x474816(0x150),_0x474816(0x13b),_0x474816(0x149),_0x474816(0x14a),_0x474816(0x14b),_0x474816(0x133),_0x474816(0x12e)];let _0x4360ef=-0x1;do{_0x533778/=_0x596cc1,++_0x4360ef;}while(Math[_0x474816(0x118)](_0x533778)>=_0x596cc1&&_0x4360ef<_0x3e1097[_0x474816(0x129)]-0x1);return _0x533778[_0x474816(0x10c)](_0x5cbd30)+'\x20'+_0x3e1097[_0x4360ef];}function a0_0x3651(){const _0x32c4db=['listFiles','showModal','rom-item','onclick','TiB','PiB','EiB','9Lrpgsf','Edit\x20filename','active','remove','MiB','5788496ICIhZB','addEventListener','1078262nVWVrj','screenshotsFile','onclose','saves','download','getElementById','statesFile','change','toFixed','click','removeItem','getItem','Delete\x20this\x20file?','classList','flex-1','4483992lozhfk','downloadFile','mgba-storage','/data/saves/','gap-16','abs','home','slice','DOMContentLoaded','21168432aWCwKl','_dateState','6YcUtIA','right','rom','romsFile','gap-10','dialog','3368184yxZbny','disable','660235hWiEas','delete','textContent','length','KiB','mib','_imageState','confirm','YiB','uploadFile','add','appendChild','div','ZiB','fileSize','lastChild','close','405070GUKRsS','/data/cheats/','games','editFile','GiB','screenshots','storage','span','opacity0','cheats','createElement','states','rename','uId'];a0_0x3651=function(){return _0x32c4db;};return a0_0x3651();}function createElementStorage(_0xa03b5b,_0x5e1632,_0x20eb63){const _0x19f53d=a0_0x5ba8fd,_0x44ab81=document[_0x19f53d(0x141)](_0x19f53d(0x132));_0x44ab81[_0x19f53d(0x111)][_0x19f53d(0x130)](_0x19f53d(0x112),_0x19f53d(0x147),_0x19f53d(0x120)),_0xa03b5b[_0x19f53d(0x131)](_0x44ab81);const _0x23ce53=document['createElement'](_0x19f53d(0x13e));_0x23ce53[_0x19f53d(0x128)]=_0x5e1632,_0x23ce53[_0x19f53d(0x111)][_0x19f53d(0x130)]('flex-1'),_0x44ab81[_0x19f53d(0x131)](_0x23ce53),_0x23ce53[_0x19f53d(0x148)]=()=>{const _0x5e087b=_0x19f53d,_0x25222a=document['createElement'](_0x5e087b(0x123));_0x25222a[_0x5e087b(0x155)]=()=>_0x25222a[_0x5e087b(0x14f)](),_0xa03b5b[_0x5e087b(0x131)](_0x25222a);const _0x2648df=document['createElement'](_0x5e087b(0x132));_0x2648df['classList'][_0x5e087b(0x130)](_0x5e087b(0x13d),_0x5e087b(0x11f),_0x5e087b(0x122)),_0x25222a['appendChild'](_0x2648df);const _0x301970=document['createElement']('div');_0x301970['classList'][_0x5e087b(0x130)](_0x5e087b(0x119),'bc',_0x5e087b(0x112)),_0x2648df['appendChild'](_0x301970);const _0x5d5130=document[_0x5e087b(0x141)](_0x5e087b(0x132));_0x5d5130['classList']['add'](_0x5e087b(0x112)),_0x2648df[_0x5e087b(0x131)](_0x5d5130);const _0x7ee154=document[_0x5e087b(0x141)]('div');_0x7ee154['classList'][_0x5e087b(0x130)](_0x5e087b(0x112)),_0x2648df['appendChild'](_0x7ee154);const _0x2cbbba=document[_0x5e087b(0x141)](_0x5e087b(0x132));_0x2cbbba[_0x5e087b(0x111)]['add'](_0x5e087b(0x112)),_0x2648df[_0x5e087b(0x131)](_0x2cbbba),mgbaStorage[_0x5e087b(0x111)]['add'](_0x5e087b(0x13f)),_0x301970['onclick']=()=>{const _0x19827f=_0x5e087b;_0x25222a['close'](),_0x25222a[_0x19827f(0x14f)](),mgbaStorage[_0x19827f(0x111)][_0x19827f(0x14f)]('opacity0');};const _0x36b691=document[_0x5e087b(0x141)](_0x5e087b(0x132));_0x36b691[_0x5e087b(0x111)]['add'](_0x5e087b(0x112),_0x5e087b(0x147),'hw','cw'),_0x36b691['textContent']=_0x5e1632,_0x25222a[_0x5e087b(0x131)](_0x36b691);const _0x3f172d=document[_0x5e087b(0x141)](_0x5e087b(0x132));_0x3f172d['classList']['add']('actionDiv','hw','cw',_0x5e087b(0x117)),_0x25222a[_0x5e087b(0x131)](_0x3f172d);const _0x1bc5c8=document[_0x5e087b(0x141)]('div');_0x1bc5c8[_0x5e087b(0x111)][_0x5e087b(0x130)](_0x5e087b(0x157),'bc'),_0x3f172d[_0x5e087b(0x131)](_0x1bc5c8),_0x1bc5c8['onclick']=()=>{const _0x31048c=_0x5e087b;a0_0x4a9f9a[_0x31048c(0x114)](_0x20eb63,_0x5e1632);};const _0x4dcd89=document[_0x5e087b(0x141)](_0x5e087b(0x132));_0x4dcd89[_0x5e087b(0x111)][_0x5e087b(0x130)](_0x5e087b(0x127),'bc'),_0x3f172d['appendChild'](_0x4dcd89),_0x4dcd89['onclick']=async()=>{const _0x89406e=_0x5e087b;if(window[_0x89406e(0x12d)](_0x89406e(0x110)+_0x5e1632)){const _0x4143fe=_0x5e1632['replace'](/\....$/,'.gba');a0_0x4a9f9a['deleteFile'](_0x20eb63),localStorage[_0x89406e(0x10e)](_0x4143fe+_0x89406e(0x11d)+_0x5e1632['slice'](-0x1)),localStorage[_0x89406e(0x10e)](_0x4143fe+_0x89406e(0x12c)+_0x5e1632[_0x89406e(0x11a)](-0x1)),localStorageFile(),_0x25222a['close'](),_0x25222a[_0x89406e(0x14f)](),mgbaStorage[_0x89406e(0x111)][_0x89406e(0x14f)]('opacity0');}};const _0x42c6fb=document[_0x5e087b(0x141)](_0x5e087b(0x132));_0x42c6fb['classList']['add'](_0x5e087b(0x143),'bc'),_0x3f172d['appendChild'](_0x42c6fb),_0x42c6fb[_0x5e087b(0x148)]=async()=>{const _0x5f40a0=_0x5e087b,_0x449fa8=window['prompt'](_0x5f40a0(0x14d),_0x5e1632);_0x449fa8!==null&&(a0_0x4a9f9a[_0x5f40a0(0x13a)](_0x20eb63,_0x5e1632,_0x449fa8),localStorageFile(),_0x25222a[_0x5f40a0(0x136)](),_0x25222a[_0x5f40a0(0x14f)](),mgbaStorage['classList'][_0x5f40a0(0x14f)]('opacity0'));},_0x25222a[_0x5e087b(0x146)]();};const _0x3a2f59=document['createElement'](_0x19f53d(0x13e));_0x3a2f59[_0x19f53d(0x128)]=humanFileSize(a0_0x4a9f9a[_0x19f53d(0x134)](_0x20eb63)),_0x3a2f59[_0x19f53d(0x111)]['add'](_0x19f53d(0x12b)),_0x44ab81[_0x19f53d(0x131)](_0x3a2f59);}export function localStorageFile(){const _0x3a7bc9=a0_0x5ba8fd,_0x58b5a4=a0_0x4a9f9a['listFiles'](_0x3a7bc9(0x139)),_0xcb539a=a0_0x4a9f9a[_0x3a7bc9(0x145)](_0x3a7bc9(0x156)),_0x25a13d=a0_0x4a9f9a[_0x3a7bc9(0x145)](_0x3a7bc9(0x142)),_0x246cba=a0_0x4a9f9a[_0x3a7bc9(0x145)](_0x3a7bc9(0x140)),_0x5e0395=a0_0x4a9f9a['listFiles'](_0x3a7bc9(0x13c)),_0x33c816=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3dcee5 of _0x33c816){while(_0x3dcee5['firstChild']){_0x3dcee5[_0x3a7bc9(0x135)][_0x3a7bc9(0x14f)]();}}for(const _0x16470c of _0x58b5a4){createElementStorage(romsFile,_0x16470c,'/data/games/'+_0x16470c);}for(const _0x32beec of _0x25a13d){createElementStorage(statesFile,_0x32beec,'/data/states/'+_0x32beec);}for(const _0x2ce5d3 of _0xcb539a){createElementStorage(savesFile,_0x2ce5d3,_0x3a7bc9(0x116)+_0x2ce5d3);}for(const _0x5c8ae0 of _0x246cba){createElementStorage(cheatsFile,_0x5c8ae0,_0x3a7bc9(0x138)+_0x5c8ae0);}for(const _0x37e632 of _0x5e0395){createElementStorage(screenshotsFile,_0x37e632,'/data/screenshots/'+_0x37e632);}}document[a0_0x5ba8fd(0x152)](a0_0x5ba8fd(0x11b),function(){const _0xa501fd=a0_0x5ba8fd;upLoadFile[_0xa501fd(0x152)](_0xa501fd(0x10b),function(){const _0x28864a=_0xa501fd;a0_0x4a9f9a[_0x28864a(0x12f)](upLoadFile);}),openLocalStorage[_0xa501fd(0x152)](_0xa501fd(0x10d),function(){const _0x21f58d=_0xa501fd,_0x161885=localStorage[_0x21f58d(0x10f)](_0x21f58d(0x144));storage[_0x21f58d(0x111)][_0x21f58d(0x14f)](_0x21f58d(0x125)),intro[_0x21f58d(0x111)][_0x21f58d(0x130)](_0x21f58d(0x125)),ingame[_0x21f58d(0x111)][_0x21f58d(0x130)](_0x21f58d(0x125)),_0x161885===null||_0x161885===''?(dropboxRestore[_0x21f58d(0x111)][_0x21f58d(0x14f)](_0x21f58d(0x14e)),dropboxBackup[_0x21f58d(0x111)][_0x21f58d(0x14f)](_0x21f58d(0x14e)),dropboxCloud[_0x21f58d(0x111)][_0x21f58d(0x14f)](_0x21f58d(0x14e))):(dropboxRestore[_0x21f58d(0x111)][_0x21f58d(0x130)]('active'),dropboxBackup[_0x21f58d(0x111)]['add'](_0x21f58d(0x14e)),dropboxCloud[_0x21f58d(0x111)][_0x21f58d(0x130)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});