const a0_0x2c3efc=a0_0x3b58;function a0_0x3b58(_0x4ceff6,_0x40ffe8){const _0x599dda=a0_0x599d();return a0_0x3b58=function(_0x3b5866,_0x4afe10){_0x3b5866=_0x3b5866-0x101;let _0x3a409e=_0x599dda[_0x3b5866];return _0x3a409e;},a0_0x3b58(_0x4ceff6,_0x40ffe8);}(function(_0x2caccb,_0x74e127){const _0x294132=a0_0x3b58,_0x22c8b7=_0x2caccb();while(!![]){try{const _0x2fe812=parseInt(_0x294132(0x131))/0x1+-parseInt(_0x294132(0x101))/0x2*(-parseInt(_0x294132(0x111))/0x3)+parseInt(_0x294132(0x10b))/0x4+parseInt(_0x294132(0x148))/0x5+-parseInt(_0x294132(0x12e))/0x6*(parseInt(_0x294132(0x104))/0x7)+-parseInt(_0x294132(0x12b))/0x8*(parseInt(_0x294132(0x132))/0x9)+-parseInt(_0x294132(0x144))/0xa*(parseInt(_0x294132(0x117))/0xb);if(_0x2fe812===_0x74e127)break;else _0x22c8b7['push'](_0x22c8b7['shift']());}catch(_0x72a314){_0x22c8b7['push'](_0x22c8b7['shift']());}}}(a0_0x599d,0x7fdb2));function a0_0x599d(){const _0x28c075=['classList','storage','home','8LqvzHo','opacity0','span','126LGislx','GiB','getElementById','871648aOnEAf','8426277nmmlDZ','DOMContentLoaded','downloadFile','addEventListener','rom','rom-item','/data/saves/','/data/states/','add','click','saves','lastChild','gap-16','removeItem','firstChild','flex-1','PiB','toFixed','4650890cWPkhg','_imageState','.gba','YiB','736480ICYnlR','change','uploadFile','deleteFile','/data/screenshots/','1097374eGQvRi','remove','replace','81963eYhKRl','right','TiB','onclick','close','onclose','disable','2413192hfBRlW','listFiles','fileSize','games','screenshotsFile','states','3gCMONj','KiB','textContent','abs','appendChild','gap-10','11MVqFDA','uId','createElement','screenshots','editFile','getItem','confirm','savesFile','mib','actionDiv','div','active','statesFile','delete','dialog','/data/cheats/','slice'];a0_0x599d=function(){return _0x28c075;};return a0_0x599d();}import*as a0_0x5ea1cf from'./main.js';const mgbaStorage=document['getElementById']('mgba-storage'),savesFile=document[a0_0x2c3efc(0x130)](a0_0x2c3efc(0x11e)),romsFile=document[a0_0x2c3efc(0x130)]('romsFile'),statesFile=document[a0_0x2c3efc(0x130)](a0_0x2c3efc(0x123)),screenshotsFile=document[a0_0x2c3efc(0x130)](a0_0x2c3efc(0x10f));function humanFileSize(_0x3f6f77,_0x5b4f3c=![],_0x33c2ea=0x1){const _0x3f3a2d=a0_0x2c3efc,_0x1c973b=_0x5b4f3c?0x3e8:0x400,_0x5c143f=_0x5b4f3c?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x3f3a2d(0x112),'MiB',_0x3f3a2d(0x12f),_0x3f3a2d(0x106),_0x3f3a2d(0x142),'EiB','ZiB',_0x3f3a2d(0x147)];let _0x3b9208=-0x1;do{_0x3f6f77/=_0x1c973b,++_0x3b9208;}while(Math[_0x3f3a2d(0x114)](_0x3f6f77)>=_0x1c973b&&_0x3b9208<_0x5c143f['length']-0x1);return _0x3f6f77[_0x3f3a2d(0x143)](_0x33c2ea)+'\x20'+_0x5c143f[_0x3b9208];}function createElementStorage(_0x724a51,_0x2e7e9e,_0x3c2359){const _0xb1a0d7=a0_0x2c3efc,_0x2790e6=document[_0xb1a0d7(0x119)](_0xb1a0d7(0x121));_0x2790e6[_0xb1a0d7(0x128)][_0xb1a0d7(0x13a)](_0xb1a0d7(0x141),_0xb1a0d7(0x137),_0xb1a0d7(0x136)),_0x724a51[_0xb1a0d7(0x115)](_0x2790e6);const _0x1a56e5=document[_0xb1a0d7(0x119)](_0xb1a0d7(0x12d));_0x1a56e5[_0xb1a0d7(0x113)]=_0x2e7e9e,_0x1a56e5[_0xb1a0d7(0x128)][_0xb1a0d7(0x13a)](_0xb1a0d7(0x141)),_0x2790e6[_0xb1a0d7(0x115)](_0x1a56e5),_0x1a56e5[_0xb1a0d7(0x107)]=()=>{const _0x9fc8cf=_0xb1a0d7,_0x1806a9=document[_0x9fc8cf(0x119)](_0x9fc8cf(0x125));_0x1806a9[_0x9fc8cf(0x109)]=()=>_0x1806a9[_0x9fc8cf(0x102)](),_0x724a51[_0x9fc8cf(0x115)](_0x1806a9);const _0x8d2dec=document[_0x9fc8cf(0x119)](_0x9fc8cf(0x121));_0x8d2dec[_0x9fc8cf(0x128)][_0x9fc8cf(0x13a)](_0x9fc8cf(0x129),_0x9fc8cf(0x105),_0x9fc8cf(0x116)),_0x1806a9['appendChild'](_0x8d2dec);const _0x3a8dba=document[_0x9fc8cf(0x119)](_0x9fc8cf(0x121));_0x3a8dba[_0x9fc8cf(0x128)][_0x9fc8cf(0x13a)](_0x9fc8cf(0x12a),'bc',_0x9fc8cf(0x141)),_0x8d2dec[_0x9fc8cf(0x115)](_0x3a8dba);const _0x1e4914=document[_0x9fc8cf(0x119)](_0x9fc8cf(0x121));_0x1e4914['classList'][_0x9fc8cf(0x13a)]('flex-1'),_0x8d2dec[_0x9fc8cf(0x115)](_0x1e4914);const _0x67cffc=document[_0x9fc8cf(0x119)]('div');_0x67cffc[_0x9fc8cf(0x128)][_0x9fc8cf(0x13a)](_0x9fc8cf(0x141)),_0x8d2dec[_0x9fc8cf(0x115)](_0x67cffc);const _0x4c2cc5=document[_0x9fc8cf(0x119)](_0x9fc8cf(0x121));_0x4c2cc5[_0x9fc8cf(0x128)][_0x9fc8cf(0x13a)](_0x9fc8cf(0x141)),_0x8d2dec[_0x9fc8cf(0x115)](_0x4c2cc5),mgbaStorage[_0x9fc8cf(0x128)][_0x9fc8cf(0x13a)](_0x9fc8cf(0x12c)),_0x3a8dba['onclick']=()=>{const _0xaec511=_0x9fc8cf;_0x1806a9['close'](),_0x1806a9[_0xaec511(0x102)](),mgbaStorage['classList'][_0xaec511(0x102)](_0xaec511(0x12c));};const _0x58c249=document[_0x9fc8cf(0x119)](_0x9fc8cf(0x121));_0x58c249[_0x9fc8cf(0x128)][_0x9fc8cf(0x13a)](_0x9fc8cf(0x141),_0x9fc8cf(0x137),'hw','cw'),_0x58c249['textContent']=_0x2e7e9e,_0x1806a9[_0x9fc8cf(0x115)](_0x58c249);const _0xd4f2cf=document[_0x9fc8cf(0x119)](_0x9fc8cf(0x121));_0xd4f2cf[_0x9fc8cf(0x128)][_0x9fc8cf(0x13a)](_0x9fc8cf(0x120),'hw','cw',_0x9fc8cf(0x13e)),_0x1806a9[_0x9fc8cf(0x115)](_0xd4f2cf);const _0x11a977=document[_0x9fc8cf(0x119)]('div');_0x11a977[_0x9fc8cf(0x128)][_0x9fc8cf(0x13a)]('download','bc'),_0xd4f2cf[_0x9fc8cf(0x115)](_0x11a977),_0x11a977[_0x9fc8cf(0x107)]=()=>{const _0x524405=_0x9fc8cf;a0_0x5ea1cf[_0x524405(0x134)](_0x3c2359,_0x2e7e9e);};const _0x23b046=document[_0x9fc8cf(0x119)](_0x9fc8cf(0x121));_0x23b046['classList']['add'](_0x9fc8cf(0x124),'bc'),_0xd4f2cf[_0x9fc8cf(0x115)](_0x23b046),_0x23b046[_0x9fc8cf(0x107)]=async()=>{const _0x26d4ed=_0x9fc8cf;if(window[_0x26d4ed(0x11d)]('Delete\x20this\x20file?'+_0x2e7e9e)){const _0x5d0980=_0x2e7e9e[_0x26d4ed(0x103)](/\....$/,_0x26d4ed(0x146));a0_0x5ea1cf[_0x26d4ed(0x14b)](_0x3c2359),localStorage[_0x26d4ed(0x13f)](_0x5d0980+'_dateState'+_0x2e7e9e[_0x26d4ed(0x127)](-0x1)),localStorage[_0x26d4ed(0x13f)](_0x5d0980+_0x26d4ed(0x145)+_0x2e7e9e[_0x26d4ed(0x127)](-0x1)),localStorageFile(),_0x1806a9[_0x26d4ed(0x108)](),_0x1806a9[_0x26d4ed(0x102)](),mgbaStorage['classList']['remove'](_0x26d4ed(0x12c));}};const _0x5e386b=document[_0x9fc8cf(0x119)](_0x9fc8cf(0x121));_0x5e386b[_0x9fc8cf(0x128)][_0x9fc8cf(0x13a)]('rename','bc'),_0xd4f2cf[_0x9fc8cf(0x115)](_0x5e386b),_0x5e386b['onclick']=async()=>{const _0x2efc7c=_0x9fc8cf,_0xa81a53=window['prompt']('Edit\x20filename',_0x2e7e9e);_0xa81a53!==null&&(a0_0x5ea1cf[_0x2efc7c(0x11b)](_0x3c2359,_0x2e7e9e,_0xa81a53),localStorageFile(),_0x1806a9[_0x2efc7c(0x108)](),_0x1806a9[_0x2efc7c(0x102)](),mgbaStorage[_0x2efc7c(0x128)][_0x2efc7c(0x102)](_0x2efc7c(0x12c)));},_0x1806a9['showModal']();};const _0x2634ee=document[_0xb1a0d7(0x119)](_0xb1a0d7(0x12d));_0x2634ee['textContent']=humanFileSize(a0_0x5ea1cf[_0xb1a0d7(0x10d)](_0x3c2359)),_0x2634ee[_0xb1a0d7(0x128)][_0xb1a0d7(0x13a)](_0xb1a0d7(0x11f)),_0x2790e6[_0xb1a0d7(0x115)](_0x2634ee);}export function localStorageFile(){const _0x27045b=a0_0x2c3efc,_0x26526b=a0_0x5ea1cf[_0x27045b(0x10c)](_0x27045b(0x10e)),_0x45f59a=a0_0x5ea1cf[_0x27045b(0x10c)](_0x27045b(0x13c)),_0xb23b7a=a0_0x5ea1cf['listFiles'](_0x27045b(0x110)),_0x5ba7df=a0_0x5ea1cf[_0x27045b(0x10c)]('cheats'),_0xaae236=a0_0x5ea1cf['listFiles'](_0x27045b(0x11a)),_0xcaf6fa=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x248ec7 of _0xcaf6fa){while(_0x248ec7[_0x27045b(0x140)]){_0x248ec7[_0x27045b(0x13d)]['remove']();}}for(const _0x3ea103 of _0x26526b){createElementStorage(romsFile,_0x3ea103,'/data/games/'+_0x3ea103);}for(const _0x3d5477 of _0xb23b7a){createElementStorage(statesFile,_0x3d5477,_0x27045b(0x139)+_0x3d5477);}for(const _0x1def72 of _0x45f59a){createElementStorage(savesFile,_0x1def72,_0x27045b(0x138)+_0x1def72);}for(const _0x154d72 of _0x5ba7df){createElementStorage(cheatsFile,_0x154d72,_0x27045b(0x126)+_0x154d72);}for(const _0x135051 of _0xaae236){createElementStorage(screenshotsFile,_0x135051,_0x27045b(0x14c)+_0x135051);}}document[a0_0x2c3efc(0x135)](a0_0x2c3efc(0x133),function(){const _0x4ecc23=a0_0x2c3efc;upLoadFile['addEventListener'](_0x4ecc23(0x149),function(){const _0x2dec2f=_0x4ecc23;a0_0x5ea1cf[_0x2dec2f(0x14a)](upLoadFile);}),openLocalStorage[_0x4ecc23(0x135)](_0x4ecc23(0x13b),function(){const _0x35b901=_0x4ecc23,_0x27da42=localStorage[_0x35b901(0x11c)](_0x35b901(0x118));storage[_0x35b901(0x128)][_0x35b901(0x102)](_0x35b901(0x10a)),intro['classList'][_0x35b901(0x13a)](_0x35b901(0x10a)),ingame[_0x35b901(0x128)][_0x35b901(0x13a)](_0x35b901(0x10a)),_0x27da42===null||_0x27da42===''?(dropboxRestore['classList']['remove']('active'),dropboxBackup[_0x35b901(0x128)]['remove'](_0x35b901(0x122)),dropboxCloud[_0x35b901(0x128)][_0x35b901(0x102)](_0x35b901(0x122))):(dropboxRestore[_0x35b901(0x128)][_0x35b901(0x13a)](_0x35b901(0x122)),dropboxBackup[_0x35b901(0x128)][_0x35b901(0x13a)]('active'),dropboxCloud[_0x35b901(0x128)][_0x35b901(0x13a)](_0x35b901(0x122)));}),setTimeout(()=>{localStorageFile();},0xbb8);});