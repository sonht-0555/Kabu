const a0_0x176d26=a0_0xbe43;(function(_0xdf5f4a,_0x42badd){const _0x4610cc=a0_0xbe43,_0x516c0d=_0xdf5f4a();while(!![]){try{const _0x5418e1=parseInt(_0x4610cc(0x154))/0x1+parseInt(_0x4610cc(0x173))/0x2+-parseInt(_0x4610cc(0x184))/0x3*(parseInt(_0x4610cc(0x16c))/0x4)+parseInt(_0x4610cc(0x18f))/0x5+-parseInt(_0x4610cc(0x177))/0x6*(-parseInt(_0x4610cc(0x189))/0x7)+parseInt(_0x4610cc(0x159))/0x8+-parseInt(_0x4610cc(0x187))/0x9;if(_0x5418e1===_0x42badd)break;else _0x516c0d['push'](_0x516c0d['shift']());}catch(_0x1cfc52){_0x516c0d['push'](_0x516c0d['shift']());}}}(a0_0x1225,0xe425b));import*as a0_0xa79012 from'./main.js';const mgbaStorage=document[a0_0x176d26(0x170)](a0_0x176d26(0x167)),savesFile=document[a0_0x176d26(0x170)](a0_0x176d26(0x191)),romsFile=document[a0_0x176d26(0x170)]('romsFile'),statesFile=document[a0_0x176d26(0x170)](a0_0x176d26(0x15d)),screenshotsFile=document[a0_0x176d26(0x170)]('screenshotsFile');function humanFileSize(_0x221d4e,_0x921d9f=![],_0x23a1d7=0x1){const _0x457116=a0_0x176d26,_0x40844c=_0x921d9f?0x3e8:0x400,_0x588881=_0x921d9f?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x457116(0x166),_0x457116(0x182),_0x457116(0x164),_0x457116(0x17c),_0x457116(0x161),_0x457116(0x181),'ZiB',_0x457116(0x153)];let _0x5bd485=-0x1;do{_0x221d4e/=_0x40844c,++_0x5bd485;}while(Math[_0x457116(0x172)](_0x221d4e)>=_0x40844c&&_0x5bd485<_0x588881[_0x457116(0x15e)]-0x1);return _0x221d4e[_0x457116(0x16f)](_0x23a1d7)+'\x20'+_0x588881[_0x5bd485];}function a0_0xbe43(_0x94f055,_0x158906){const _0x122576=a0_0x1225();return a0_0xbe43=function(_0xbe43b2,_0x5f3a81){_0xbe43b2=_0xbe43b2-0x152;let _0x1bc14a=_0x122576[_0xbe43b2];return _0x1bc14a;},a0_0xbe43(_0x94f055,_0x158906);}function createElementStorage(_0x365cf9,_0x222160,_0x110fae){const _0x73c503=a0_0x176d26,_0x3ddafe=document[_0x73c503(0x199)](_0x73c503(0x180));_0x3ddafe[_0x73c503(0x198)][_0x73c503(0x178)](_0x73c503(0x19a),_0x73c503(0x163),_0x73c503(0x193)),_0x365cf9['appendChild'](_0x3ddafe);const _0x575770=document['createElement']('span');_0x575770[_0x73c503(0x18e)]=_0x222160,_0x575770[_0x73c503(0x198)]['add'](_0x73c503(0x19a)),_0x3ddafe['appendChild'](_0x575770),_0x575770[_0x73c503(0x156)]=()=>{const _0x1ac460=_0x73c503,_0x5a30af=document['createElement'](_0x1ac460(0x17b));_0x5a30af['onclose']=()=>_0x5a30af[_0x1ac460(0x185)](),_0x365cf9['appendChild'](_0x5a30af);const _0x2cde91=document['createElement']('div');_0x2cde91[_0x1ac460(0x198)][_0x1ac460(0x178)](_0x1ac460(0x162),_0x1ac460(0x165),_0x1ac460(0x176)),_0x5a30af[_0x1ac460(0x16a)](_0x2cde91);const _0xbc976e=document[_0x1ac460(0x199)](_0x1ac460(0x180));_0xbc976e['classList']['add']('home','bc',_0x1ac460(0x19a)),_0x2cde91['appendChild'](_0xbc976e);const _0x4943b9=document[_0x1ac460(0x199)](_0x1ac460(0x180));_0x4943b9[_0x1ac460(0x198)]['add'](_0x1ac460(0x19a)),_0x2cde91['appendChild'](_0x4943b9);const _0x4a17ea=document[_0x1ac460(0x199)]('div');_0x4a17ea['classList'][_0x1ac460(0x178)](_0x1ac460(0x19a)),_0x2cde91[_0x1ac460(0x16a)](_0x4a17ea);const _0xa7d1ba=document['createElement'](_0x1ac460(0x180));_0xa7d1ba['classList']['add'](_0x1ac460(0x19a)),_0x2cde91[_0x1ac460(0x16a)](_0xa7d1ba),mgbaStorage[_0x1ac460(0x198)]['add'](_0x1ac460(0x195)),_0xbc976e[_0x1ac460(0x156)]=()=>{const _0x6edc77=_0x1ac460;_0x5a30af[_0x6edc77(0x192)](),_0x5a30af['remove'](),mgbaStorage[_0x6edc77(0x198)]['remove']('opacity0');};const _0x493957=document[_0x1ac460(0x199)](_0x1ac460(0x180));_0x493957[_0x1ac460(0x198)]['add'](_0x1ac460(0x19a),_0x1ac460(0x163),'hw','cw'),_0x493957[_0x1ac460(0x18e)]=_0x222160,_0x5a30af[_0x1ac460(0x16a)](_0x493957);const _0x3f3505=document[_0x1ac460(0x199)](_0x1ac460(0x180));_0x3f3505[_0x1ac460(0x198)][_0x1ac460(0x178)](_0x1ac460(0x190),'hw','cw',_0x1ac460(0x155)),_0x5a30af[_0x1ac460(0x16a)](_0x3f3505);const _0xcb7cc8=document['createElement'](_0x1ac460(0x180));_0xcb7cc8[_0x1ac460(0x198)][_0x1ac460(0x178)](_0x1ac460(0x179),'bc'),_0x3f3505[_0x1ac460(0x16a)](_0xcb7cc8),_0xcb7cc8[_0x1ac460(0x156)]=()=>{a0_0xa79012['downloadFile'](_0x110fae,_0x222160);};const _0x5f5a0f=document['createElement'](_0x1ac460(0x180));_0x5f5a0f[_0x1ac460(0x198)][_0x1ac460(0x178)]('delete','bc'),_0x3f3505['appendChild'](_0x5f5a0f),_0x5f5a0f[_0x1ac460(0x156)]=async()=>{const _0x230950=_0x1ac460;if(window[_0x230950(0x16b)](_0x230950(0x18c)+_0x222160)){const _0x2a55d3=_0x222160[_0x230950(0x175)](/\....$/,_0x230950(0x17f));a0_0xa79012['deleteFile'](_0x110fae),localStorage[_0x230950(0x171)](_0x2a55d3+_0x230950(0x18d)+_0x222160[_0x230950(0x17a)](-0x1)),localStorage['removeItem'](_0x2a55d3+_0x230950(0x152)+_0x222160[_0x230950(0x17a)](-0x1)),localStorageFile(),_0x5a30af['close'](),_0x5a30af[_0x230950(0x185)](),mgbaStorage[_0x230950(0x198)][_0x230950(0x185)](_0x230950(0x195));}};const _0x174b9e=document[_0x1ac460(0x199)](_0x1ac460(0x180));_0x174b9e[_0x1ac460(0x198)][_0x1ac460(0x178)](_0x1ac460(0x158),'bc'),_0x3f3505[_0x1ac460(0x16a)](_0x174b9e),_0x174b9e[_0x1ac460(0x156)]=async()=>{const _0x2491f7=_0x1ac460,_0x4e43b9=window[_0x2491f7(0x168)](_0x2491f7(0x16e),_0x222160);_0x4e43b9!==null&&(a0_0xa79012[_0x2491f7(0x15a)](_0x110fae,_0x222160,_0x4e43b9),localStorageFile(),_0x5a30af[_0x2491f7(0x192)](),_0x5a30af['remove'](),mgbaStorage['classList']['remove'](_0x2491f7(0x195)));},_0x5a30af['showModal']();};const _0x3db41a=document[_0x73c503(0x199)](_0x73c503(0x183));_0x3db41a['textContent']=humanFileSize(a0_0xa79012[_0x73c503(0x18b)](_0x110fae)),_0x3db41a[_0x73c503(0x198)][_0x73c503(0x178)]('mib'),_0x3ddafe['appendChild'](_0x3db41a);}export function localStorageFile(){const _0x4192b6=a0_0x176d26,_0x48b0ae=a0_0xa79012[_0x4192b6(0x15b)](_0x4192b6(0x15c)),_0x18a786=a0_0xa79012[_0x4192b6(0x15b)](_0x4192b6(0x157)),_0x35cd51=a0_0xa79012['listFiles'](_0x4192b6(0x17d)),_0x2de5b3=a0_0xa79012[_0x4192b6(0x15b)]('cheats'),_0x110b51=a0_0xa79012['listFiles'](_0x4192b6(0x169)),_0x14e929=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3a8a38 of _0x14e929){while(_0x3a8a38[_0x4192b6(0x188)]){_0x3a8a38['lastChild'][_0x4192b6(0x185)]();}}for(const _0x3edd9f of _0x48b0ae){createElementStorage(romsFile,_0x3edd9f,'/data/games/'+_0x3edd9f);}for(const _0x1e36e6 of _0x35cd51){createElementStorage(statesFile,_0x1e36e6,_0x4192b6(0x160)+_0x1e36e6);}for(const _0x2401c5 of _0x18a786){createElementStorage(savesFile,_0x2401c5,_0x4192b6(0x197)+_0x2401c5);}for(const _0x503e69 of _0x2de5b3){createElementStorage(cheatsFile,_0x503e69,'/data/cheats/'+_0x503e69);}for(const _0x4f4faa of _0x110b51){createElementStorage(screenshotsFile,_0x4f4faa,'/data/screenshots/'+_0x4f4faa);}}document[a0_0x176d26(0x174)](a0_0x176d26(0x194),function(){const _0x412b9c=a0_0x176d26;upLoadFile[_0x412b9c(0x174)](_0x412b9c(0x186),function(){a0_0xa79012['uploadFile'](upLoadFile);}),openLocalStorage[_0x412b9c(0x174)](_0x412b9c(0x17e),function(){const _0x1d819a=_0x412b9c,_0x59b58d=localStorage[_0x1d819a(0x18a)](_0x1d819a(0x15f));storage[_0x1d819a(0x198)][_0x1d819a(0x185)]('disable'),intro[_0x1d819a(0x198)][_0x1d819a(0x178)](_0x1d819a(0x196)),ingame[_0x1d819a(0x198)][_0x1d819a(0x178)](_0x1d819a(0x196)),_0x59b58d===null||_0x59b58d===''?(dropboxRestore['classList'][_0x1d819a(0x185)]('active'),dropboxBackup[_0x1d819a(0x198)][_0x1d819a(0x185)](_0x1d819a(0x16d)),dropboxCloud['classList'][_0x1d819a(0x185)]('active')):(dropboxRestore[_0x1d819a(0x198)][_0x1d819a(0x178)](_0x1d819a(0x16d)),dropboxBackup[_0x1d819a(0x198)][_0x1d819a(0x178)](_0x1d819a(0x16d)),dropboxCloud[_0x1d819a(0x198)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});function a0_0x1225(){const _0xda2b43=['getElementById','removeItem','abs','1330502BJZtPV','addEventListener','replace','gap-10','4344JrNgJd','add','download','slice','dialog','TiB','states','click','.gba','div','EiB','MiB','span','4257MPauvh','remove','change','34721010wIhlEP','firstChild','2513qBoAau','getItem','fileSize','Delete\x20this\x20file?','_dateState','textContent','6125270iMkwev','actionDiv','savesFile','close','rom','DOMContentLoaded','opacity0','disable','/data/saves/','classList','createElement','flex-1','_imageState','YiB','1847437CyHUry','gap-16','onclick','saves','rename','11329960FvfEtg','editFile','listFiles','games','statesFile','length','uId','/data/states/','PiB','storage','rom-item','GiB','right','KiB','mgba-storage','prompt','screenshots','appendChild','confirm','1752GCbBHd','active','Edit\x20filename','toFixed'];a0_0x1225=function(){return _0xda2b43;};return a0_0x1225();}