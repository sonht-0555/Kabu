const a0_0x2fb93c=a0_0x3202;function a0_0x35dc(){const _0x193732=['getElementById','right','onclick','/data/states/','close','527471hAmrOz','4OEOJpT','416986fGshtE','statesFile','549kEwJYn','gap-16','listFiles','change','mgba-storage','abs','/data/cheats/','toFixed','click','home','addEventListener','prompt','415KvVzbW','TiB','/data/games/','YiB','firstChild','rom-item','48igMaNA','KiB','div','saves','disable','lastChild','ZiB','EiB','delete','DOMContentLoaded','createElement','classList','active','_imageState','/data/saves/','2UFmVvj','uId','slice','getItem','add','fileSize','773784luuLzN','.gba','editFile','screenshotsFile','screenshots','13aOJNPO','flex-1','24972flrWNa','dialog','onclose','64800kmqBbZ','textContent','deleteFile','14598794kJDzta','remove','actionDiv','confirm','99627wEeyVc','opacity0','appendChild','states','removeItem','uploadFile','Delete\x20this\x20file?','_dateState','download','rename','16uOCOem','span'];a0_0x35dc=function(){return _0x193732;};return a0_0x35dc();}function a0_0x3202(_0x1503f4,_0x28589e){const _0x35dce6=a0_0x35dc();return a0_0x3202=function(_0x320204,_0x2a3e1b){_0x320204=_0x320204-0x1e5;let _0x10293e=_0x35dce6[_0x320204];return _0x10293e;},a0_0x3202(_0x1503f4,_0x28589e);}(function(_0x2a9fce,_0x140401){const _0x44360c=a0_0x3202,_0x5506b5=_0x2a9fce();while(!![]){try{const _0x29c722=-parseInt(_0x44360c(0x1fe))/0x1*(parseInt(_0x44360c(0x221))/0x2)+-parseInt(_0x44360c(0x1eb))/0x3*(parseInt(_0x44360c(0x1fd))/0x4)+-parseInt(_0x44360c(0x20c))/0x5*(parseInt(_0x44360c(0x22e))/0x6)+parseInt(_0x44360c(0x1fc))/0x7*(-parseInt(_0x44360c(0x1f5))/0x8)+-parseInt(_0x44360c(0x200))/0x9*(-parseInt(_0x44360c(0x231))/0xa)+parseInt(_0x44360c(0x227))/0xb*(-parseInt(_0x44360c(0x212))/0xc)+-parseInt(_0x44360c(0x22c))/0xd*(-parseInt(_0x44360c(0x1e7))/0xe);if(_0x29c722===_0x140401)break;else _0x5506b5['push'](_0x5506b5['shift']());}catch(_0x236151){_0x5506b5['push'](_0x5506b5['shift']());}}}(a0_0x35dc,0x33598));import*as a0_0x31b5b4 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x2fb93c(0x204)),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0x2fb93c(0x1f7)]('romsFile'),statesFile=document['getElementById'](a0_0x2fb93c(0x1ff)),screenshotsFile=document[a0_0x2fb93c(0x1f7)](a0_0x2fb93c(0x22a));function humanFileSize(_0x5bcc83,_0x2ea14c=![],_0x10586d=0x1){const _0x4c9997=a0_0x2fb93c,_0x4ccf1b=_0x2ea14c?0x3e8:0x400,_0x1b4f45=_0x2ea14c?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4c9997(0x213),'MiB','GiB',_0x4c9997(0x20d),'PiB',_0x4c9997(0x219),_0x4c9997(0x218),_0x4c9997(0x20f)];let _0x31dd6a=-0x1;do{_0x5bcc83/=_0x4ccf1b,++_0x31dd6a;}while(Math[_0x4c9997(0x205)](_0x5bcc83)>=_0x4ccf1b&&_0x31dd6a<_0x1b4f45['length']-0x1);return _0x5bcc83[_0x4c9997(0x207)](_0x10586d)+'\x20'+_0x1b4f45[_0x31dd6a];}function createElementStorage(_0x3a3c04,_0x5650bd,_0x100f3b){const _0x3148c9=a0_0x2fb93c,_0x44b94d=document[_0x3148c9(0x21c)](_0x3148c9(0x214));_0x44b94d[_0x3148c9(0x21d)]['add'](_0x3148c9(0x22d),_0x3148c9(0x211),'rom'),_0x3a3c04[_0x3148c9(0x1ed)](_0x44b94d);const _0x1fc2f2=document[_0x3148c9(0x21c)](_0x3148c9(0x1f6));_0x1fc2f2[_0x3148c9(0x1e5)]=_0x5650bd,_0x1fc2f2[_0x3148c9(0x21d)][_0x3148c9(0x225)](_0x3148c9(0x22d)),_0x44b94d['appendChild'](_0x1fc2f2),_0x1fc2f2[_0x3148c9(0x1f9)]=()=>{const _0x4c1b2a=_0x3148c9,_0x24cd67=document[_0x4c1b2a(0x21c)](_0x4c1b2a(0x22f));_0x24cd67[_0x4c1b2a(0x230)]=()=>_0x24cd67[_0x4c1b2a(0x1e8)](),_0x3a3c04['appendChild'](_0x24cd67);const _0x432869=document[_0x4c1b2a(0x21c)](_0x4c1b2a(0x214));_0x432869[_0x4c1b2a(0x21d)][_0x4c1b2a(0x225)]('storage',_0x4c1b2a(0x1f8),'gap-10'),_0x24cd67[_0x4c1b2a(0x1ed)](_0x432869);const _0x3483ee=document[_0x4c1b2a(0x21c)](_0x4c1b2a(0x214));_0x3483ee['classList'][_0x4c1b2a(0x225)](_0x4c1b2a(0x209),'bc',_0x4c1b2a(0x22d)),_0x432869[_0x4c1b2a(0x1ed)](_0x3483ee);const _0x40394a=document[_0x4c1b2a(0x21c)](_0x4c1b2a(0x214));_0x40394a[_0x4c1b2a(0x21d)]['add'](_0x4c1b2a(0x22d)),_0x432869[_0x4c1b2a(0x1ed)](_0x40394a);const _0x171ae6=document[_0x4c1b2a(0x21c)](_0x4c1b2a(0x214));_0x171ae6[_0x4c1b2a(0x21d)]['add'](_0x4c1b2a(0x22d)),_0x432869[_0x4c1b2a(0x1ed)](_0x171ae6);const _0x25cc95=document[_0x4c1b2a(0x21c)](_0x4c1b2a(0x214));_0x25cc95[_0x4c1b2a(0x21d)][_0x4c1b2a(0x225)](_0x4c1b2a(0x22d)),_0x432869[_0x4c1b2a(0x1ed)](_0x25cc95),mgbaStorage[_0x4c1b2a(0x21d)][_0x4c1b2a(0x225)](_0x4c1b2a(0x1ec)),_0x3483ee['onclick']=()=>{const _0x55c27f=_0x4c1b2a;_0x24cd67[_0x55c27f(0x1fb)](),_0x24cd67['remove'](),mgbaStorage[_0x55c27f(0x21d)][_0x55c27f(0x1e8)](_0x55c27f(0x1ec));};const _0x385859=document[_0x4c1b2a(0x21c)](_0x4c1b2a(0x214));_0x385859[_0x4c1b2a(0x21d)][_0x4c1b2a(0x225)](_0x4c1b2a(0x22d),_0x4c1b2a(0x211),'hw','cw'),_0x385859[_0x4c1b2a(0x1e5)]=_0x5650bd,_0x24cd67['appendChild'](_0x385859);const _0x728a73=document['createElement']('div');_0x728a73[_0x4c1b2a(0x21d)][_0x4c1b2a(0x225)](_0x4c1b2a(0x1e9),'hw','cw',_0x4c1b2a(0x201)),_0x24cd67[_0x4c1b2a(0x1ed)](_0x728a73);const _0x5552bd=document[_0x4c1b2a(0x21c)]('div');_0x5552bd[_0x4c1b2a(0x21d)]['add'](_0x4c1b2a(0x1f3),'bc'),_0x728a73[_0x4c1b2a(0x1ed)](_0x5552bd),_0x5552bd[_0x4c1b2a(0x1f9)]=()=>{a0_0x31b5b4['downloadFile'](_0x100f3b,_0x5650bd);};const _0x30d9d0=document[_0x4c1b2a(0x21c)](_0x4c1b2a(0x214));_0x30d9d0[_0x4c1b2a(0x21d)][_0x4c1b2a(0x225)](_0x4c1b2a(0x21a),'bc'),_0x728a73['appendChild'](_0x30d9d0),_0x30d9d0['onclick']=async()=>{const _0x34e59b=_0x4c1b2a;if(window[_0x34e59b(0x1ea)](_0x34e59b(0x1f1)+_0x5650bd)){const _0x1fb279=_0x5650bd['replace'](/\....$/,_0x34e59b(0x228));a0_0x31b5b4[_0x34e59b(0x1e6)](_0x100f3b),localStorage[_0x34e59b(0x1ef)](_0x1fb279+_0x34e59b(0x1f2)+_0x5650bd['slice'](-0x1)),localStorage[_0x34e59b(0x1ef)](_0x1fb279+_0x34e59b(0x21f)+_0x5650bd[_0x34e59b(0x223)](-0x1)),localStorageFile(),_0x24cd67[_0x34e59b(0x1fb)](),_0x24cd67[_0x34e59b(0x1e8)](),mgbaStorage[_0x34e59b(0x21d)][_0x34e59b(0x1e8)](_0x34e59b(0x1ec));}};const _0x435eb4=document['createElement'](_0x4c1b2a(0x214));_0x435eb4[_0x4c1b2a(0x21d)]['add'](_0x4c1b2a(0x1f4),'bc'),_0x728a73[_0x4c1b2a(0x1ed)](_0x435eb4),_0x435eb4['onclick']=async()=>{const _0x25e859=_0x4c1b2a,_0x1b7d7d=window[_0x25e859(0x20b)]('Edit\x20filename',_0x5650bd);_0x1b7d7d!==null&&(a0_0x31b5b4[_0x25e859(0x229)](_0x100f3b,_0x5650bd,_0x1b7d7d),localStorageFile(),_0x24cd67[_0x25e859(0x1fb)](),_0x24cd67[_0x25e859(0x1e8)](),mgbaStorage[_0x25e859(0x21d)][_0x25e859(0x1e8)](_0x25e859(0x1ec)));},_0x24cd67['showModal']();};const _0x1a5547=document[_0x3148c9(0x21c)]('span');_0x1a5547[_0x3148c9(0x1e5)]=humanFileSize(a0_0x31b5b4[_0x3148c9(0x226)](_0x100f3b)),_0x1a5547[_0x3148c9(0x21d)][_0x3148c9(0x225)]('mib'),_0x44b94d[_0x3148c9(0x1ed)](_0x1a5547);}export function localStorageFile(){const _0xb511e2=a0_0x2fb93c,_0x38f6f3=a0_0x31b5b4['listFiles']('games'),_0x24759b=a0_0x31b5b4['listFiles'](_0xb511e2(0x215)),_0x4b93b5=a0_0x31b5b4[_0xb511e2(0x202)](_0xb511e2(0x1ee)),_0x524a03=a0_0x31b5b4[_0xb511e2(0x202)]('cheats'),_0x543033=a0_0x31b5b4['listFiles'](_0xb511e2(0x22b)),_0x54ecd1=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x381b55 of _0x54ecd1){while(_0x381b55[_0xb511e2(0x210)]){_0x381b55[_0xb511e2(0x217)][_0xb511e2(0x1e8)]();}}for(const _0x3ab53e of _0x38f6f3){createElementStorage(romsFile,_0x3ab53e,_0xb511e2(0x20e)+_0x3ab53e);}for(const _0x9172de of _0x4b93b5){createElementStorage(statesFile,_0x9172de,_0xb511e2(0x1fa)+_0x9172de);}for(const _0x3f715c of _0x24759b){createElementStorage(savesFile,_0x3f715c,_0xb511e2(0x220)+_0x3f715c);}for(const _0x27ea37 of _0x524a03){createElementStorage(cheatsFile,_0x27ea37,_0xb511e2(0x206)+_0x27ea37);}for(const _0x412d9d of _0x543033){createElementStorage(screenshotsFile,_0x412d9d,'/data/screenshots/'+_0x412d9d);}}document[a0_0x2fb93c(0x20a)](a0_0x2fb93c(0x21b),function(){const _0x587289=a0_0x2fb93c;upLoadFile[_0x587289(0x20a)](_0x587289(0x203),function(){const _0x117617=_0x587289;a0_0x31b5b4[_0x117617(0x1f0)](upLoadFile);}),openLocalStorage[_0x587289(0x20a)](_0x587289(0x208),function(){const _0x21299a=_0x587289,_0x4e0436=localStorage[_0x21299a(0x224)](_0x21299a(0x222));storage[_0x21299a(0x21d)][_0x21299a(0x1e8)](_0x21299a(0x216)),intro[_0x21299a(0x21d)][_0x21299a(0x225)](_0x21299a(0x216)),ingame['classList'][_0x21299a(0x225)]('disable'),_0x4e0436===null||_0x4e0436===''?(dropboxRestore[_0x21299a(0x21d)][_0x21299a(0x1e8)](_0x21299a(0x21e)),dropboxBackup[_0x21299a(0x21d)]['remove'](_0x21299a(0x21e)),dropboxCloud[_0x21299a(0x21d)][_0x21299a(0x1e8)](_0x21299a(0x21e))):(dropboxRestore[_0x21299a(0x21d)][_0x21299a(0x225)]('active'),dropboxBackup[_0x21299a(0x21d)][_0x21299a(0x225)]('active'),dropboxCloud[_0x21299a(0x21d)][_0x21299a(0x225)](_0x21299a(0x21e)));}),setTimeout(()=>{localStorageFile();},0xbb8);});