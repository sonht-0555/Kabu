function a0_0x1a5f(_0x1568b9,_0x2e5aec){const _0x5b65e0=a0_0x5b65();return a0_0x1a5f=function(_0x1a5f64,_0x127099){_0x1a5f64=_0x1a5f64-0x85;let _0x2f0858=_0x5b65e0[_0x1a5f64];return _0x2f0858;},a0_0x1a5f(_0x1568b9,_0x2e5aec);}const a0_0xdaca88=a0_0x1a5f;(function(_0x2b5bc9,_0x5bfcb0){const _0x7493b1=a0_0x1a5f,_0x7be80e=_0x2b5bc9();while(!![]){try{const _0x1f44f1=parseInt(_0x7493b1(0xc8))/0x1*(parseInt(_0x7493b1(0x95))/0x2)+parseInt(_0x7493b1(0xb3))/0x3+-parseInt(_0x7493b1(0xba))/0x4*(parseInt(_0x7493b1(0x88))/0x5)+-parseInt(_0x7493b1(0x93))/0x6*(-parseInt(_0x7493b1(0x8b))/0x7)+parseInt(_0x7493b1(0xaa))/0x8*(-parseInt(_0x7493b1(0xb9))/0x9)+-parseInt(_0x7493b1(0xc4))/0xa+parseInt(_0x7493b1(0x89))/0xb;if(_0x1f44f1===_0x5bfcb0)break;else _0x7be80e['push'](_0x7be80e['shift']());}catch(_0x22a493){_0x7be80e['push'](_0x7be80e['shift']());}}}(a0_0x5b65,0x861b6));import*as a0_0x32b7ad from'./main.js';const mgbaStorage=document[a0_0xdaca88(0xc0)](a0_0xdaca88(0xa7)),savesFile=document[a0_0xdaca88(0xc0)](a0_0xdaca88(0xa0)),romsFile=document['getElementById'](a0_0xdaca88(0xc3)),statesFile=document[a0_0xdaca88(0xc0)](a0_0xdaca88(0xce)),screenshotsFile=document[a0_0xdaca88(0xc0)](a0_0xdaca88(0xd3));function a0_0x5b65(){const _0x52012c=['flex-1','KiB','actionDiv','/data/games/','mgba-storage','fileSize','div','4342568ejyKAg','appendChild','listFiles','change','delete','getItem','screenshots','replace','close','416142KwCGTl','/data/cheats/','deleteFile','addEventListener','YiB','uploadFile','9VYqzbO','108172wYbeNB','downloadFile','add','mib','Edit\x20filename','GiB','getElementById','createElement','textContent','romsFile','406200EOmBku','remove','saves','gap-16','46663GorXJj','_imageState','onclick','dialog','showModal','TiB','statesFile','span','rom','opacity0','slice','screenshotsFile','editFile','/data/screenshots/','download','145UKajnF','8915643QtZGaP','/data/states/','21CjfAvD','right','prompt','.gba','home','DOMContentLoaded','removeItem','rename','908940KiZXIJ','uId','22NzbCeC','lastChild','PiB','classList','length','rom-item','EiB','MiB','disable','click','abs','savesFile','active','cheats'];a0_0x5b65=function(){return _0x52012c;};return a0_0x5b65();}function humanFileSize(_0x52c146,_0x4c8ea6=![],_0x4ef24a=0x1){const _0xc06508=a0_0xdaca88,_0x3ab492=_0x4c8ea6?0x3e8:0x400,_0x578b26=_0x4c8ea6?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0xc06508(0xa4),_0xc06508(0x9c),_0xc06508(0xbf),_0xc06508(0xcd),_0xc06508(0x97),_0xc06508(0x9b),'ZiB',_0xc06508(0xb7)];let _0x4963d8=-0x1;do{_0x52c146/=_0x3ab492,++_0x4963d8;}while(Math[_0xc06508(0x9f)](_0x52c146)>=_0x3ab492&&_0x4963d8<_0x578b26[_0xc06508(0x99)]-0x1);return _0x52c146['toFixed'](_0x4ef24a)+'\x20'+_0x578b26[_0x4963d8];}function createElementStorage(_0x2909f8,_0x551553,_0x15d6bb){const _0x3c64dd=a0_0xdaca88,_0x3d8d33=document[_0x3c64dd(0xc1)](_0x3c64dd(0xa9));_0x3d8d33['classList'][_0x3c64dd(0xbc)]('flex-1',_0x3c64dd(0x9a),_0x3c64dd(0xd0)),_0x2909f8[_0x3c64dd(0xab)](_0x3d8d33);const _0x3e168d=document[_0x3c64dd(0xc1)](_0x3c64dd(0xcf));_0x3e168d['textContent']=_0x551553,_0x3e168d[_0x3c64dd(0x98)][_0x3c64dd(0xbc)]('flex-1'),_0x3d8d33[_0x3c64dd(0xab)](_0x3e168d),_0x3e168d['onclick']=()=>{const _0xbcb00e=_0x3c64dd,_0x5c4dcb=document[_0xbcb00e(0xc1)](_0xbcb00e(0xcb));_0x5c4dcb['onclose']=()=>_0x5c4dcb['remove'](),_0x2909f8[_0xbcb00e(0xab)](_0x5c4dcb);const _0x99dd4c=document[_0xbcb00e(0xc1)](_0xbcb00e(0xa9));_0x99dd4c[_0xbcb00e(0x98)][_0xbcb00e(0xbc)]('storage',_0xbcb00e(0x8c),'gap-10'),_0x5c4dcb[_0xbcb00e(0xab)](_0x99dd4c);const _0x2dc3b4=document['createElement'](_0xbcb00e(0xa9));_0x2dc3b4['classList']['add'](_0xbcb00e(0x8f),'bc',_0xbcb00e(0xa3)),_0x99dd4c[_0xbcb00e(0xab)](_0x2dc3b4);const _0xa03e85=document[_0xbcb00e(0xc1)](_0xbcb00e(0xa9));_0xa03e85[_0xbcb00e(0x98)][_0xbcb00e(0xbc)]('flex-1'),_0x99dd4c['appendChild'](_0xa03e85);const _0x4e3d92=document['createElement']('div');_0x4e3d92['classList'][_0xbcb00e(0xbc)](_0xbcb00e(0xa3)),_0x99dd4c['appendChild'](_0x4e3d92);const _0x4886c2=document[_0xbcb00e(0xc1)](_0xbcb00e(0xa9));_0x4886c2['classList'][_0xbcb00e(0xbc)]('flex-1'),_0x99dd4c[_0xbcb00e(0xab)](_0x4886c2),mgbaStorage[_0xbcb00e(0x98)]['add'](_0xbcb00e(0xd1)),_0x2dc3b4[_0xbcb00e(0xca)]=()=>{const _0x2355cf=_0xbcb00e;_0x5c4dcb[_0x2355cf(0xb2)](),_0x5c4dcb['remove'](),mgbaStorage[_0x2355cf(0x98)][_0x2355cf(0xc5)]('opacity0');};const _0x297b4e=document[_0xbcb00e(0xc1)](_0xbcb00e(0xa9));_0x297b4e[_0xbcb00e(0x98)][_0xbcb00e(0xbc)](_0xbcb00e(0xa3),_0xbcb00e(0x9a),'hw','cw'),_0x297b4e[_0xbcb00e(0xc2)]=_0x551553,_0x5c4dcb[_0xbcb00e(0xab)](_0x297b4e);const _0x2fec0f=document['createElement']('div');_0x2fec0f[_0xbcb00e(0x98)]['add'](_0xbcb00e(0xa5),'hw','cw',_0xbcb00e(0xc7)),_0x5c4dcb[_0xbcb00e(0xab)](_0x2fec0f);const _0x39f6ee=document[_0xbcb00e(0xc1)]('div');_0x39f6ee['classList'][_0xbcb00e(0xbc)](_0xbcb00e(0x87),'bc'),_0x2fec0f['appendChild'](_0x39f6ee),_0x39f6ee[_0xbcb00e(0xca)]=()=>{const _0x3d9713=_0xbcb00e;a0_0x32b7ad[_0x3d9713(0xbb)](_0x15d6bb,_0x551553);};const _0x27fa5e=document['createElement'](_0xbcb00e(0xa9));_0x27fa5e[_0xbcb00e(0x98)]['add'](_0xbcb00e(0xae),'bc'),_0x2fec0f[_0xbcb00e(0xab)](_0x27fa5e),_0x27fa5e[_0xbcb00e(0xca)]=async()=>{const _0x116712=_0xbcb00e;if(window['confirm']('Delete\x20this\x20file?'+_0x551553)){const _0x2585e1=_0x551553[_0x116712(0xb1)](/\....$/,_0x116712(0x8e));a0_0x32b7ad[_0x116712(0xb5)](_0x15d6bb),localStorage[_0x116712(0x91)](_0x2585e1+'_dateState'+_0x551553[_0x116712(0xd2)](-0x1)),localStorage[_0x116712(0x91)](_0x2585e1+_0x116712(0xc9)+_0x551553['slice'](-0x1)),localStorageFile(),_0x5c4dcb[_0x116712(0xb2)](),_0x5c4dcb[_0x116712(0xc5)](),mgbaStorage[_0x116712(0x98)]['remove'](_0x116712(0xd1));}};const _0x282ff3=document[_0xbcb00e(0xc1)]('div');_0x282ff3[_0xbcb00e(0x98)]['add'](_0xbcb00e(0x92),'bc'),_0x2fec0f['appendChild'](_0x282ff3),_0x282ff3[_0xbcb00e(0xca)]=async()=>{const _0xa047ef=_0xbcb00e,_0x2402df=window[_0xa047ef(0x8d)](_0xa047ef(0xbe),_0x551553);_0x2402df!==null&&(a0_0x32b7ad[_0xa047ef(0x85)](_0x15d6bb,_0x551553,_0x2402df),localStorageFile(),_0x5c4dcb[_0xa047ef(0xb2)](),_0x5c4dcb['remove'](),mgbaStorage['classList'][_0xa047ef(0xc5)](_0xa047ef(0xd1)));},_0x5c4dcb[_0xbcb00e(0xcc)]();};const _0x3c2ac9=document[_0x3c64dd(0xc1)](_0x3c64dd(0xcf));_0x3c2ac9['textContent']=humanFileSize(a0_0x32b7ad[_0x3c64dd(0xa8)](_0x15d6bb)),_0x3c2ac9[_0x3c64dd(0x98)][_0x3c64dd(0xbc)](_0x3c64dd(0xbd)),_0x3d8d33[_0x3c64dd(0xab)](_0x3c2ac9);}export function localStorageFile(){const _0x33e753=a0_0xdaca88,_0x52ea31=a0_0x32b7ad[_0x33e753(0xac)]('games'),_0x4aa884=a0_0x32b7ad[_0x33e753(0xac)](_0x33e753(0xc6)),_0x6fcebf=a0_0x32b7ad['listFiles']('states'),_0x20ae8b=a0_0x32b7ad['listFiles'](_0x33e753(0xa2)),_0x1239a7=a0_0x32b7ad[_0x33e753(0xac)](_0x33e753(0xb0)),_0x2d3940=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x31058d of _0x2d3940){while(_0x31058d['firstChild']){_0x31058d[_0x33e753(0x96)][_0x33e753(0xc5)]();}}for(const _0x284299 of _0x52ea31){createElementStorage(romsFile,_0x284299,_0x33e753(0xa6)+_0x284299);}for(const _0x4dba7e of _0x6fcebf){createElementStorage(statesFile,_0x4dba7e,_0x33e753(0x8a)+_0x4dba7e);}for(const _0x40cb2d of _0x4aa884){createElementStorage(savesFile,_0x40cb2d,'/data/saves/'+_0x40cb2d);}for(const _0x137a0f of _0x20ae8b){createElementStorage(cheatsFile,_0x137a0f,_0x33e753(0xb4)+_0x137a0f);}for(const _0x554c8a of _0x1239a7){createElementStorage(screenshotsFile,_0x554c8a,_0x33e753(0x86)+_0x554c8a);}}document[a0_0xdaca88(0xb6)](a0_0xdaca88(0x90),function(){const _0x1dc22d=a0_0xdaca88;upLoadFile[_0x1dc22d(0xb6)](_0x1dc22d(0xad),function(){const _0x5259c=_0x1dc22d;a0_0x32b7ad[_0x5259c(0xb8)](upLoadFile);}),openLocalStorage[_0x1dc22d(0xb6)](_0x1dc22d(0x9e),function(){const _0x50c947=_0x1dc22d,_0x1612be=localStorage[_0x50c947(0xaf)](_0x50c947(0x94));storage['classList'][_0x50c947(0xc5)](_0x50c947(0x9d)),intro[_0x50c947(0x98)][_0x50c947(0xbc)](_0x50c947(0x9d)),ingame[_0x50c947(0x98)][_0x50c947(0xbc)](_0x50c947(0x9d)),_0x1612be===null||_0x1612be===''?(dropboxRestore[_0x50c947(0x98)][_0x50c947(0xc5)](_0x50c947(0xa1)),dropboxBackup['classList']['remove'](_0x50c947(0xa1)),dropboxCloud[_0x50c947(0x98)][_0x50c947(0xc5)]('active')):(dropboxRestore[_0x50c947(0x98)][_0x50c947(0xbc)](_0x50c947(0xa1)),dropboxBackup[_0x50c947(0x98)][_0x50c947(0xbc)]('active'),dropboxCloud[_0x50c947(0x98)][_0x50c947(0xbc)](_0x50c947(0xa1)));}),setTimeout(()=>{localStorageFile();},0xbb8);});