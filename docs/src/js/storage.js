const a0_0x35fcd4=a0_0x429d;(function(_0x5a4ec8,_0x406e48){const _0x520ff8=a0_0x429d,_0x35117d=_0x5a4ec8();while(!![]){try{const _0x262fa3=parseInt(_0x520ff8(0xf6))/0x1*(-parseInt(_0x520ff8(0x125))/0x2)+-parseInt(_0x520ff8(0x121))/0x3+-parseInt(_0x520ff8(0x119))/0x4+-parseInt(_0x520ff8(0x10d))/0x5*(parseInt(_0x520ff8(0x11f))/0x6)+-parseInt(_0x520ff8(0xfc))/0x7*(parseInt(_0x520ff8(0x123))/0x8)+-parseInt(_0x520ff8(0x12d))/0x9*(parseInt(_0x520ff8(0x13c))/0xa)+-parseInt(_0x520ff8(0x122))/0xb*(-parseInt(_0x520ff8(0x106))/0xc);if(_0x262fa3===_0x406e48)break;else _0x35117d['push'](_0x35117d['shift']());}catch(_0x14cf93){_0x35117d['push'](_0x35117d['shift']());}}}(a0_0x21a6,0x3b939));import*as a0_0x9a68c4 from'./main.js';function a0_0x21a6(){const _0x5c44fb=['screenshotsFile','12oQMnAS','downloadFile','fileSize','abs','/data/states/','getElementById','actionDiv','46090esNWxg','savesFile','div','delete','textContent','cheats','createElement','Edit\x20filename','uploadFile','opacity0','/data/screenshots/','firstChild','1625036ynqnQx','home','storage','gap-16','lastChild','getItem','90kuUjNP','PiB','1108800UYaRid','19270669qbRHzr','8zcyyDg','rom','466dmlJoQ','games','deleteFile','add','right','classList','slice','Delete\x20this\x20file?','23733DySSYC','/data/saves/','GiB','active','onclose','gap-10','rename','toFixed','_dateState','disable','length','span','removeItem','mgba-storage','listFiles','570Nmzlzo','prompt','confirm','rom-item','addEventListener','DOMContentLoaded','1709sjoiyQ','KiB','_imageState','onclick','close','change','316533XHyXYa','flex-1','TiB','statesFile','states','saves','remove','appendChild','uId'];a0_0x21a6=function(){return _0x5c44fb;};return a0_0x21a6();}const mgbaStorage=document[a0_0x35fcd4(0x10b)](a0_0x35fcd4(0x13a)),savesFile=document[a0_0x35fcd4(0x10b)](a0_0x35fcd4(0x10e)),romsFile=document[a0_0x35fcd4(0x10b)]('romsFile'),statesFile=document['getElementById'](a0_0x35fcd4(0xff)),screenshotsFile=document[a0_0x35fcd4(0x10b)](a0_0x35fcd4(0x105));function humanFileSize(_0x2c572b,_0x5a9ac9=![],_0x359f35=0x1){const _0x1a3e40=a0_0x35fcd4,_0x49bff4=_0x5a9ac9?0x3e8:0x400,_0xec8157=_0x5a9ac9?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1a3e40(0xf7),'MiB',_0x1a3e40(0x12f),_0x1a3e40(0xfe),_0x1a3e40(0x120),'EiB','ZiB','YiB'];let _0x4df275=-0x1;do{_0x2c572b/=_0x49bff4,++_0x4df275;}while(Math[_0x1a3e40(0x109)](_0x2c572b)>=_0x49bff4&&_0x4df275<_0xec8157[_0x1a3e40(0x137)]-0x1);return _0x2c572b[_0x1a3e40(0x134)](_0x359f35)+'\x20'+_0xec8157[_0x4df275];}function createElementStorage(_0x5aee54,_0x4c584,_0x352ca2){const _0x4b23a1=a0_0x35fcd4,_0x57e99b=document[_0x4b23a1(0x113)](_0x4b23a1(0x10f));_0x57e99b[_0x4b23a1(0x12a)][_0x4b23a1(0x128)](_0x4b23a1(0xfd),_0x4b23a1(0x13f),_0x4b23a1(0x124)),_0x5aee54['appendChild'](_0x57e99b);const _0x4a5ff4=document['createElement'](_0x4b23a1(0x138));_0x4a5ff4[_0x4b23a1(0x111)]=_0x4c584,_0x4a5ff4['classList'][_0x4b23a1(0x128)](_0x4b23a1(0xfd)),_0x57e99b['appendChild'](_0x4a5ff4),_0x4a5ff4[_0x4b23a1(0xf9)]=()=>{const _0xf48a03=_0x4b23a1,_0x1c4fa2=document[_0xf48a03(0x113)]('dialog');_0x1c4fa2[_0xf48a03(0x131)]=()=>_0x1c4fa2[_0xf48a03(0x102)](),_0x5aee54[_0xf48a03(0x103)](_0x1c4fa2);const _0x86f18e=document[_0xf48a03(0x113)](_0xf48a03(0x10f));_0x86f18e[_0xf48a03(0x12a)][_0xf48a03(0x128)](_0xf48a03(0x11b),_0xf48a03(0x129),_0xf48a03(0x132)),_0x1c4fa2[_0xf48a03(0x103)](_0x86f18e);const _0x42fbfb=document[_0xf48a03(0x113)](_0xf48a03(0x10f));_0x42fbfb[_0xf48a03(0x12a)]['add'](_0xf48a03(0x11a),'bc',_0xf48a03(0xfd)),_0x86f18e[_0xf48a03(0x103)](_0x42fbfb);const _0x4cbf6c=document[_0xf48a03(0x113)](_0xf48a03(0x10f));_0x4cbf6c['classList'][_0xf48a03(0x128)](_0xf48a03(0xfd)),_0x86f18e[_0xf48a03(0x103)](_0x4cbf6c);const _0x5bdad8=document['createElement'](_0xf48a03(0x10f));_0x5bdad8['classList'][_0xf48a03(0x128)](_0xf48a03(0xfd)),_0x86f18e['appendChild'](_0x5bdad8);const _0x19e67d=document['createElement'](_0xf48a03(0x10f));_0x19e67d[_0xf48a03(0x12a)][_0xf48a03(0x128)](_0xf48a03(0xfd)),_0x86f18e[_0xf48a03(0x103)](_0x19e67d),mgbaStorage['classList'][_0xf48a03(0x128)](_0xf48a03(0x116)),_0x42fbfb[_0xf48a03(0xf9)]=()=>{const _0xb21ab6=_0xf48a03;_0x1c4fa2[_0xb21ab6(0xfa)](),_0x1c4fa2[_0xb21ab6(0x102)](),mgbaStorage['classList'][_0xb21ab6(0x102)]('opacity0');};const _0x3d1d1c=document[_0xf48a03(0x113)]('div');_0x3d1d1c[_0xf48a03(0x12a)]['add']('flex-1',_0xf48a03(0x13f),'hw','cw'),_0x3d1d1c[_0xf48a03(0x111)]=_0x4c584,_0x1c4fa2[_0xf48a03(0x103)](_0x3d1d1c);const _0x2dd797=document['createElement'](_0xf48a03(0x10f));_0x2dd797[_0xf48a03(0x12a)][_0xf48a03(0x128)](_0xf48a03(0x10c),'hw','cw',_0xf48a03(0x11c)),_0x1c4fa2[_0xf48a03(0x103)](_0x2dd797);const _0x2594d6=document['createElement'](_0xf48a03(0x10f));_0x2594d6['classList']['add']('download','bc'),_0x2dd797[_0xf48a03(0x103)](_0x2594d6),_0x2594d6['onclick']=()=>{const _0x5a2aee=_0xf48a03;a0_0x9a68c4[_0x5a2aee(0x107)](_0x352ca2,_0x4c584);};const _0x50fe27=document[_0xf48a03(0x113)](_0xf48a03(0x10f));_0x50fe27[_0xf48a03(0x12a)][_0xf48a03(0x128)](_0xf48a03(0x110),'bc'),_0x2dd797[_0xf48a03(0x103)](_0x50fe27),_0x50fe27['onclick']=async()=>{const _0x17bc50=_0xf48a03;if(window[_0x17bc50(0x13e)](_0x17bc50(0x12c)+_0x4c584)){const _0x4d0da6=_0x4c584['replace'](/\....$/,'.gba');a0_0x9a68c4[_0x17bc50(0x127)](_0x352ca2),localStorage['removeItem'](_0x4d0da6+_0x17bc50(0x135)+_0x4c584[_0x17bc50(0x12b)](-0x1)),localStorage[_0x17bc50(0x139)](_0x4d0da6+_0x17bc50(0xf8)+_0x4c584['slice'](-0x1)),localStorageFile(),_0x1c4fa2['close'](),_0x1c4fa2['remove'](),mgbaStorage['classList'][_0x17bc50(0x102)](_0x17bc50(0x116));}};const _0x22881c=document[_0xf48a03(0x113)](_0xf48a03(0x10f));_0x22881c['classList'][_0xf48a03(0x128)](_0xf48a03(0x133),'bc'),_0x2dd797[_0xf48a03(0x103)](_0x22881c),_0x22881c[_0xf48a03(0xf9)]=async()=>{const _0x587cd2=_0xf48a03,_0xa88c56=window[_0x587cd2(0x13d)](_0x587cd2(0x114),_0x4c584);_0xa88c56!==null&&(a0_0x9a68c4['editFile'](_0x352ca2,_0x4c584,_0xa88c56),localStorageFile(),_0x1c4fa2[_0x587cd2(0xfa)](),_0x1c4fa2['remove'](),mgbaStorage[_0x587cd2(0x12a)][_0x587cd2(0x102)](_0x587cd2(0x116)));},_0x1c4fa2['showModal']();};const _0x20f537=document['createElement'](_0x4b23a1(0x138));_0x20f537['textContent']=humanFileSize(a0_0x9a68c4[_0x4b23a1(0x108)](_0x352ca2)),_0x20f537[_0x4b23a1(0x12a)]['add']('mib'),_0x57e99b[_0x4b23a1(0x103)](_0x20f537);}function a0_0x429d(_0x2c2518,_0x104f25){const _0x21a646=a0_0x21a6();return a0_0x429d=function(_0x429d45,_0x51fd07){_0x429d45=_0x429d45-0xf5;let _0x20a186=_0x21a646[_0x429d45];return _0x20a186;},a0_0x429d(_0x2c2518,_0x104f25);}export function localStorageFile(){const _0x153ee3=a0_0x35fcd4,_0x5bbb8c=a0_0x9a68c4[_0x153ee3(0x13b)](_0x153ee3(0x126)),_0x3eca9e=a0_0x9a68c4[_0x153ee3(0x13b)](_0x153ee3(0x101)),_0x64be94=a0_0x9a68c4[_0x153ee3(0x13b)](_0x153ee3(0x100)),_0x36e049=a0_0x9a68c4['listFiles'](_0x153ee3(0x112)),_0x141905=a0_0x9a68c4[_0x153ee3(0x13b)]('screenshots'),_0x4b7fc2=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x290397 of _0x4b7fc2){while(_0x290397[_0x153ee3(0x118)]){_0x290397[_0x153ee3(0x11d)][_0x153ee3(0x102)]();}}for(const _0x2e7fcb of _0x5bbb8c){createElementStorage(romsFile,_0x2e7fcb,'/data/games/'+_0x2e7fcb);}for(const _0x4ed41d of _0x64be94){createElementStorage(statesFile,_0x4ed41d,_0x153ee3(0x10a)+_0x4ed41d);}for(const _0x21302a of _0x3eca9e){createElementStorage(savesFile,_0x21302a,_0x153ee3(0x12e)+_0x21302a);}for(const _0x4fbcca of _0x36e049){createElementStorage(cheatsFile,_0x4fbcca,'/data/cheats/'+_0x4fbcca);}for(const _0x36789f of _0x141905){createElementStorage(screenshotsFile,_0x36789f,_0x153ee3(0x117)+_0x36789f);}}document['addEventListener'](a0_0x35fcd4(0xf5),function(){const _0x23b808=a0_0x35fcd4;upLoadFile[_0x23b808(0x140)](_0x23b808(0xfb),function(){const _0x196184=_0x23b808;a0_0x9a68c4[_0x196184(0x115)](upLoadFile);}),openLocalStorage[_0x23b808(0x140)]('click',function(){const _0x2537c1=_0x23b808,_0x3ac467=localStorage[_0x2537c1(0x11e)](_0x2537c1(0x104));storage['classList']['remove'](_0x2537c1(0x136)),intro[_0x2537c1(0x12a)][_0x2537c1(0x128)]('disable'),ingame[_0x2537c1(0x12a)][_0x2537c1(0x128)](_0x2537c1(0x136)),_0x3ac467===null||_0x3ac467===''?(dropboxRestore[_0x2537c1(0x12a)]['remove'](_0x2537c1(0x130)),dropboxBackup['classList'][_0x2537c1(0x102)](_0x2537c1(0x130)),dropboxCloud[_0x2537c1(0x12a)][_0x2537c1(0x102)](_0x2537c1(0x130))):(dropboxRestore[_0x2537c1(0x12a)]['add'](_0x2537c1(0x130)),dropboxBackup[_0x2537c1(0x12a)]['add'](_0x2537c1(0x130)),dropboxCloud[_0x2537c1(0x12a)][_0x2537c1(0x128)](_0x2537c1(0x130)));}),setTimeout(()=>{localStorageFile();},0xbb8);});