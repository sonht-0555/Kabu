const a0_0x2fd8bd=a0_0x1fe5;(function(_0x5b49d4,_0x50e261){const _0x54889a=a0_0x1fe5,_0x402089=_0x5b49d4();while(!![]){try{const _0x1e5f42=-parseInt(_0x54889a(0x1d3))/0x1+-parseInt(_0x54889a(0x1a8))/0x2*(parseInt(_0x54889a(0x1d4))/0x3)+parseInt(_0x54889a(0x1ba))/0x4+-parseInt(_0x54889a(0x1a9))/0x5*(parseInt(_0x54889a(0x1be))/0x6)+parseInt(_0x54889a(0x1dc))/0x7+-parseInt(_0x54889a(0x1c9))/0x8+parseInt(_0x54889a(0x1b1))/0x9;if(_0x1e5f42===_0x50e261)break;else _0x402089['push'](_0x402089['shift']());}catch(_0x10f8aa){_0x402089['push'](_0x402089['shift']());}}}(a0_0x34bc,0x71bc4));import*as a0_0x2d71a3 from'./main.js';const mgbaStorage=document[a0_0x2fd8bd(0x1cf)](a0_0x2fd8bd(0x1b0)),savesFile=document[a0_0x2fd8bd(0x1cf)](a0_0x2fd8bd(0x1c0)),romsFile=document[a0_0x2fd8bd(0x1cf)]('romsFile'),statesFile=document[a0_0x2fd8bd(0x1cf)](a0_0x2fd8bd(0x1d2)),screenshotsFile=document[a0_0x2fd8bd(0x1cf)](a0_0x2fd8bd(0x1b9));function humanFileSize(_0x38273f,_0x172500=![],_0x142b9e=0x1){const _0x1a17b0=a0_0x2fd8bd,_0xe2419a=_0x172500?0x3e8:0x400,_0x20d1be=_0x172500?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x1a17b0(0x1d5),_0x1a17b0(0x1a7),_0x1a17b0(0x1cc),_0x1a17b0(0x1c4),_0x1a17b0(0x1c7),_0x1a17b0(0x1b8),_0x1a17b0(0x1d8)];let _0x449e6b=-0x1;do{_0x38273f/=_0xe2419a,++_0x449e6b;}while(Math[_0x1a17b0(0x1af)](_0x38273f)>=_0xe2419a&&_0x449e6b<_0x20d1be[_0x1a17b0(0x1c3)]-0x1);return _0x38273f[_0x1a17b0(0x1db)](_0x142b9e)+'\x20'+_0x20d1be[_0x449e6b];}function createElementStorage(_0x347c08,_0x22e8c0,_0x180598){const _0xa72271=a0_0x2fd8bd,_0x2b976b=document[_0xa72271(0x1d7)]('div');_0x2b976b[_0xa72271(0x1ca)][_0xa72271(0x1ac)](_0xa72271(0x1b5),_0xa72271(0x1a3),'rom'),_0x347c08['appendChild'](_0x2b976b);const _0x685bac=document[_0xa72271(0x1d7)](_0xa72271(0x1d1));_0x685bac[_0xa72271(0x1a4)]=_0x22e8c0,_0x685bac[_0xa72271(0x1ca)][_0xa72271(0x1ac)](_0xa72271(0x1b5)),_0x2b976b['appendChild'](_0x685bac),_0x685bac[_0xa72271(0x1bf)]=()=>{const _0x3ec128=_0xa72271,_0x633181=document['createElement']('dialog');_0x633181['onclose']=()=>_0x633181[_0x3ec128(0x1cb)](),_0x347c08[_0x3ec128(0x1b7)](_0x633181);const _0x1de302=document[_0x3ec128(0x1d7)](_0x3ec128(0x1a2));_0x1de302[_0x3ec128(0x1ca)][_0x3ec128(0x1ac)]('storage','right','gap-10'),_0x633181[_0x3ec128(0x1b7)](_0x1de302);const _0x118387=document['createElement'](_0x3ec128(0x1a2));_0x118387['classList'][_0x3ec128(0x1ac)]('home','bc','flex-1'),_0x1de302[_0x3ec128(0x1b7)](_0x118387);const _0x97c9e5=document[_0x3ec128(0x1d7)]('div');_0x97c9e5[_0x3ec128(0x1ca)][_0x3ec128(0x1ac)](_0x3ec128(0x1b5)),_0x1de302[_0x3ec128(0x1b7)](_0x97c9e5);const _0xc824be=document['createElement']('div');_0xc824be[_0x3ec128(0x1ca)]['add'](_0x3ec128(0x1b5)),_0x1de302[_0x3ec128(0x1b7)](_0xc824be);const _0x21f54a=document['createElement'](_0x3ec128(0x1a2));_0x21f54a['classList'][_0x3ec128(0x1ac)](_0x3ec128(0x1b5)),_0x1de302[_0x3ec128(0x1b7)](_0x21f54a),mgbaStorage[_0x3ec128(0x1ca)]['add'](_0x3ec128(0x1bc)),_0x118387[_0x3ec128(0x1bf)]=()=>{const _0x4f6578=_0x3ec128;_0x633181['close'](),_0x633181[_0x4f6578(0x1cb)](),mgbaStorage['classList'][_0x4f6578(0x1cb)]('opacity0');};const _0x165779=document[_0x3ec128(0x1d7)](_0x3ec128(0x1a2));_0x165779[_0x3ec128(0x1ca)][_0x3ec128(0x1ac)](_0x3ec128(0x1b5),_0x3ec128(0x1a3),'hw','cw'),_0x165779[_0x3ec128(0x1a4)]=_0x22e8c0,_0x633181['appendChild'](_0x165779);const _0x3d299d=document[_0x3ec128(0x1d7)](_0x3ec128(0x1a2));_0x3d299d[_0x3ec128(0x1ca)][_0x3ec128(0x1ac)]('actionDiv','hw','cw',_0x3ec128(0x1c5)),_0x633181[_0x3ec128(0x1b7)](_0x3d299d);const _0x46c168=document[_0x3ec128(0x1d7)](_0x3ec128(0x1a2));_0x46c168['classList']['add']('download','bc'),_0x3d299d['appendChild'](_0x46c168),_0x46c168[_0x3ec128(0x1bf)]=()=>{const _0x272611=_0x3ec128;a0_0x2d71a3[_0x272611(0x1ae)](_0x180598,_0x22e8c0);};const _0x302c8b=document[_0x3ec128(0x1d7)]('div');_0x302c8b[_0x3ec128(0x1ca)][_0x3ec128(0x1ac)](_0x3ec128(0x19d),'bc'),_0x3d299d['appendChild'](_0x302c8b),_0x302c8b[_0x3ec128(0x1bf)]=async()=>{const _0xc72ebd=_0x3ec128;if(window[_0xc72ebd(0x19f)](_0xc72ebd(0x1bb)+_0x22e8c0)){const _0x3338a8=_0x22e8c0[_0xc72ebd(0x1cd)](/\....$/,_0xc72ebd(0x1b6));a0_0x2d71a3[_0xc72ebd(0x1d9)](_0x180598),localStorage[_0xc72ebd(0x1aa)](_0x3338a8+_0xc72ebd(0x1ad)+_0x22e8c0[_0xc72ebd(0x1b2)](-0x1)),localStorage[_0xc72ebd(0x1aa)](_0x3338a8+_0xc72ebd(0x1b3)+_0x22e8c0[_0xc72ebd(0x1b2)](-0x1)),localStorageFile(),_0x633181[_0xc72ebd(0x19e)](),_0x633181[_0xc72ebd(0x1cb)](),mgbaStorage['classList'][_0xc72ebd(0x1cb)](_0xc72ebd(0x1bc));}};const _0x5a5ba9=document[_0x3ec128(0x1d7)](_0x3ec128(0x1a2));_0x5a5ba9[_0x3ec128(0x1ca)][_0x3ec128(0x1ac)]('rename','bc'),_0x3d299d['appendChild'](_0x5a5ba9),_0x5a5ba9[_0x3ec128(0x1bf)]=async()=>{const _0x58d99d=_0x3ec128,_0x170ab1=window['prompt'](_0x58d99d(0x1a1),_0x22e8c0);_0x170ab1!==null&&(a0_0x2d71a3['editFile'](_0x180598,_0x22e8c0,_0x170ab1),localStorageFile(),_0x633181[_0x58d99d(0x19e)](),_0x633181[_0x58d99d(0x1cb)](),mgbaStorage[_0x58d99d(0x1ca)][_0x58d99d(0x1cb)]('opacity0'));},_0x633181['showModal']();};const _0xaf9393=document['createElement']('span');_0xaf9393[_0xa72271(0x1a4)]=humanFileSize(a0_0x2d71a3[_0xa72271(0x19c)](_0x180598)),_0xaf9393[_0xa72271(0x1ca)]['add']('mib'),_0x2b976b['appendChild'](_0xaf9393);}export function localStorageFile(){const _0x16b766=a0_0x2fd8bd,_0x127569=a0_0x2d71a3[_0x16b766(0x1ce)](_0x16b766(0x1a6)),_0x413102=a0_0x2d71a3[_0x16b766(0x1ce)](_0x16b766(0x1c1)),_0x5c4095=a0_0x2d71a3[_0x16b766(0x1ce)]('states'),_0x527165=a0_0x2d71a3['listFiles'](_0x16b766(0x1a5)),_0x4f242d=a0_0x2d71a3['listFiles']('screenshots'),_0xecfac=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x4c27a2 of _0xecfac){while(_0x4c27a2[_0x16b766(0x1ab)]){_0x4c27a2['lastChild'][_0x16b766(0x1cb)]();}}for(const _0x51bbe1 of _0x127569){createElementStorage(romsFile,_0x51bbe1,_0x16b766(0x1da)+_0x51bbe1);}for(const _0x315024 of _0x5c4095){createElementStorage(statesFile,_0x315024,'/data/states/'+_0x315024);}for(const _0x5303a1 of _0x413102){createElementStorage(savesFile,_0x5303a1,'/data/saves/'+_0x5303a1);}for(const _0x2dc4e7 of _0x527165){createElementStorage(cheatsFile,_0x2dc4e7,_0x16b766(0x1a0)+_0x2dc4e7);}for(const _0x660b4b of _0x4f242d){createElementStorage(screenshotsFile,_0x660b4b,'/data/screenshots/'+_0x660b4b);}}function a0_0x34bc(){const _0x4f2417=['close','confirm','/data/cheats/','Edit\x20filename','div','rom-item','textContent','cheats','games','GiB','434022PhYsVW','1874095GfSnmy','removeItem','firstChild','add','_dateState','downloadFile','abs','mgba-storage','9545553vWSAwk','slice','_imageState','active','flex-1','.gba','appendChild','ZiB','screenshotsFile','1387340sIBrdA','Delete\x20this\x20file?','opacity0','click','6xpdkAB','onclick','savesFile','saves','disable','length','PiB','gap-16','change','EiB','DOMContentLoaded','1267816BzotyF','classList','remove','TiB','replace','listFiles','getElementById','addEventListener','span','statesFile','664801XSFJzm','9bWAmQn','MiB','uploadFile','createElement','YiB','deleteFile','/data/games/','toFixed','6352766WOkXev','fileSize','delete'];a0_0x34bc=function(){return _0x4f2417;};return a0_0x34bc();}function a0_0x1fe5(_0x354072,_0x463e1a){const _0x34bc12=a0_0x34bc();return a0_0x1fe5=function(_0x1fe5be,_0x1f3141){_0x1fe5be=_0x1fe5be-0x19c;let _0xeadc56=_0x34bc12[_0x1fe5be];return _0xeadc56;},a0_0x1fe5(_0x354072,_0x463e1a);}document[a0_0x2fd8bd(0x1d0)](a0_0x2fd8bd(0x1c8),function(){const _0x1f70c9=a0_0x2fd8bd;upLoadFile['addEventListener'](_0x1f70c9(0x1c6),function(){const _0xad9ee0=_0x1f70c9;a0_0x2d71a3[_0xad9ee0(0x1d6)](upLoadFile);}),openLocalStorage[_0x1f70c9(0x1d0)](_0x1f70c9(0x1bd),function(){const _0x28c116=_0x1f70c9,_0x2d9c4c=localStorage['getItem']('uId');storage[_0x28c116(0x1ca)][_0x28c116(0x1cb)](_0x28c116(0x1c2)),intro['classList'][_0x28c116(0x1ac)]('disable'),ingame[_0x28c116(0x1ca)][_0x28c116(0x1ac)](_0x28c116(0x1c2)),_0x2d9c4c===null||_0x2d9c4c===''?(dropboxRestore[_0x28c116(0x1ca)][_0x28c116(0x1cb)](_0x28c116(0x1b4)),dropboxBackup[_0x28c116(0x1ca)][_0x28c116(0x1cb)](_0x28c116(0x1b4)),dropboxCloud[_0x28c116(0x1ca)]['remove'](_0x28c116(0x1b4))):(dropboxRestore['classList'][_0x28c116(0x1ac)](_0x28c116(0x1b4)),dropboxBackup[_0x28c116(0x1ca)]['add'](_0x28c116(0x1b4)),dropboxCloud[_0x28c116(0x1ca)][_0x28c116(0x1ac)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});