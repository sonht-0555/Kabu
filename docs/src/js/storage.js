const a0_0x1d4f58=a0_0x2e0e;(function(_0x446f48,_0x57ffe1){const _0x23c6c3=a0_0x2e0e,_0x480e5e=_0x446f48();while(!![]){try{const _0x273989=-parseInt(_0x23c6c3(0x116))/0x1+parseInt(_0x23c6c3(0x103))/0x2*(-parseInt(_0x23c6c3(0x10e))/0x3)+-parseInt(_0x23c6c3(0xfd))/0x4+-parseInt(_0x23c6c3(0x110))/0x5*(-parseInt(_0x23c6c3(0xf8))/0x6)+-parseInt(_0x23c6c3(0x11e))/0x7*(parseInt(_0x23c6c3(0xde))/0x8)+-parseInt(_0x23c6c3(0xfe))/0x9*(parseInt(_0x23c6c3(0xdd))/0xa)+-parseInt(_0x23c6c3(0xff))/0xb*(-parseInt(_0x23c6c3(0xdf))/0xc);if(_0x273989===_0x57ffe1)break;else _0x480e5e['push'](_0x480e5e['shift']());}catch(_0x4d6d05){_0x480e5e['push'](_0x480e5e['shift']());}}}(a0_0x570b,0xba692));import*as a0_0x54c15b from'./main.js';const mgbaStorage=document[a0_0x1d4f58(0xf3)](a0_0x1d4f58(0x101)),savesFile=document['getElementById']('savesFile'),romsFile=document['getElementById'](a0_0x1d4f58(0xe7)),statesFile=document['getElementById'](a0_0x1d4f58(0xe8)),screenshotsFile=document[a0_0x1d4f58(0xf3)](a0_0x1d4f58(0xef));function humanFileSize(_0x281cd3,_0xc25f88=![],_0x3caf0b=0x1){const _0x2c4ae3=a0_0x1d4f58,_0x266337=_0xc25f88?0x3e8:0x400,_0x5b3ab7=_0xc25f88?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x2c4ae3(0xdb),_0x2c4ae3(0x100),_0x2c4ae3(0x105),_0x2c4ae3(0x115),_0x2c4ae3(0x102),_0x2c4ae3(0xec),_0x2c4ae3(0xe9),_0x2c4ae3(0xe6)];let _0x4d4899=-0x1;do{_0x281cd3/=_0x266337,++_0x4d4899;}while(Math[_0x2c4ae3(0xf4)](_0x281cd3)>=_0x266337&&_0x4d4899<_0x5b3ab7[_0x2c4ae3(0xdc)]-0x1);return _0x281cd3[_0x2c4ae3(0x118)](_0x3caf0b)+'\x20'+_0x5b3ab7[_0x4d4899];}function createElementStorage(_0x48723f,_0x1a26c1,_0x5e7339){const _0x441fa8=a0_0x1d4f58,_0x42bc40=document[_0x441fa8(0x11b)]('div');_0x42bc40['classList'][_0x441fa8(0x10d)](_0x441fa8(0x112),_0x441fa8(0xf1),_0x441fa8(0xe3)),_0x48723f[_0x441fa8(0x10f)](_0x42bc40);const _0x3c960c=document[_0x441fa8(0x11b)]('span');_0x3c960c[_0x441fa8(0x119)]=_0x1a26c1,_0x3c960c[_0x441fa8(0xe5)][_0x441fa8(0x10d)](_0x441fa8(0x112)),_0x42bc40[_0x441fa8(0x10f)](_0x3c960c),_0x3c960c[_0x441fa8(0x104)]=()=>{const _0x2ada91=_0x441fa8,_0xba3f78=document['createElement'](_0x2ada91(0x106));_0xba3f78[_0x2ada91(0x124)]=()=>_0xba3f78[_0x2ada91(0x10c)](),_0x48723f[_0x2ada91(0x10f)](_0xba3f78);const _0x3ab83d=document[_0x2ada91(0x11b)](_0x2ada91(0x11c));_0x3ab83d[_0x2ada91(0xe5)][_0x2ada91(0x10d)](_0x2ada91(0x114),_0x2ada91(0xe1),'gap-10'),_0xba3f78[_0x2ada91(0x10f)](_0x3ab83d);const _0x243828=document['createElement']('div');_0x243828[_0x2ada91(0xe5)][_0x2ada91(0x10d)](_0x2ada91(0xf2),'bc',_0x2ada91(0x112)),_0x3ab83d['appendChild'](_0x243828);const _0x3e3f48=document[_0x2ada91(0x11b)](_0x2ada91(0x11c));_0x3e3f48[_0x2ada91(0xe5)][_0x2ada91(0x10d)](_0x2ada91(0x112)),_0x3ab83d[_0x2ada91(0x10f)](_0x3e3f48);const _0x15d348=document[_0x2ada91(0x11b)](_0x2ada91(0x11c));_0x15d348[_0x2ada91(0xe5)][_0x2ada91(0x10d)](_0x2ada91(0x112)),_0x3ab83d['appendChild'](_0x15d348);const _0x24180e=document[_0x2ada91(0x11b)](_0x2ada91(0x11c));_0x24180e[_0x2ada91(0xe5)]['add'](_0x2ada91(0x112)),_0x3ab83d['appendChild'](_0x24180e),mgbaStorage[_0x2ada91(0xe5)][_0x2ada91(0x10d)](_0x2ada91(0xea)),_0x243828[_0x2ada91(0x104)]=()=>{const _0x184180=_0x2ada91;_0xba3f78[_0x184180(0x10a)](),_0xba3f78[_0x184180(0x10c)](),mgbaStorage[_0x184180(0xe5)][_0x184180(0x10c)](_0x184180(0xea));};const _0x595a70=document['createElement'](_0x2ada91(0x11c));_0x595a70[_0x2ada91(0xe5)][_0x2ada91(0x10d)](_0x2ada91(0x112),_0x2ada91(0xf1),'hw','cw'),_0x595a70[_0x2ada91(0x119)]=_0x1a26c1,_0xba3f78['appendChild'](_0x595a70);const _0x326c85=document[_0x2ada91(0x11b)]('div');_0x326c85[_0x2ada91(0xe5)][_0x2ada91(0x10d)](_0x2ada91(0xfb),'hw','cw',_0x2ada91(0xfc)),_0xba3f78[_0x2ada91(0x10f)](_0x326c85);const _0x5389e6=document[_0x2ada91(0x11b)](_0x2ada91(0x11c));_0x5389e6[_0x2ada91(0xe5)][_0x2ada91(0x10d)](_0x2ada91(0xe2),'bc'),_0x326c85[_0x2ada91(0x10f)](_0x5389e6),_0x5389e6[_0x2ada91(0x104)]=()=>{const _0x3ccadc=_0x2ada91;a0_0x54c15b[_0x3ccadc(0x122)](_0x5e7339,_0x1a26c1);};const _0x5ecd47=document[_0x2ada91(0x11b)](_0x2ada91(0x11c));_0x5ecd47[_0x2ada91(0xe5)][_0x2ada91(0x10d)]('delete','bc'),_0x326c85['appendChild'](_0x5ecd47),_0x5ecd47['onclick']=async()=>{const _0x53d8a3=_0x2ada91;if(window[_0x53d8a3(0x10b)](_0x53d8a3(0xeb)+_0x1a26c1)){const _0x5ac8f1=_0x1a26c1[_0x53d8a3(0xf7)](/\....$/,_0x53d8a3(0xe0));a0_0x54c15b['deleteFile'](_0x5e7339),localStorage[_0x53d8a3(0x111)](_0x5ac8f1+'_dateState'+_0x1a26c1[_0x53d8a3(0x11d)](-0x1)),localStorage[_0x53d8a3(0x111)](_0x5ac8f1+_0x53d8a3(0xf5)+_0x1a26c1[_0x53d8a3(0x11d)](-0x1)),localStorageFile(),_0xba3f78[_0x53d8a3(0x10a)](),_0xba3f78[_0x53d8a3(0x10c)](),mgbaStorage['classList']['remove']('opacity0');}};const _0x233c3d=document[_0x2ada91(0x11b)]('div');_0x233c3d[_0x2ada91(0xe5)][_0x2ada91(0x10d)]('rename','bc'),_0x326c85['appendChild'](_0x233c3d),_0x233c3d[_0x2ada91(0x104)]=async()=>{const _0x28ff0b=_0x2ada91,_0x486edb=window[_0x28ff0b(0xfa)]('Edit\x20filename',_0x1a26c1);_0x486edb!==null&&(a0_0x54c15b['editFile'](_0x5e7339,_0x1a26c1,_0x486edb),localStorageFile(),_0xba3f78[_0x28ff0b(0x10a)](),_0xba3f78['remove'](),mgbaStorage['classList'][_0x28ff0b(0x10c)]('opacity0'));},_0xba3f78[_0x2ada91(0xed)]();};const _0x975ad6=document[_0x441fa8(0x11b)]('span');_0x975ad6[_0x441fa8(0x119)]=humanFileSize(a0_0x54c15b[_0x441fa8(0x109)](_0x5e7339)),_0x975ad6['classList'][_0x441fa8(0x10d)]('mib'),_0x42bc40[_0x441fa8(0x10f)](_0x975ad6);}function a0_0x2e0e(_0x37e1a2,_0x18a807){const _0x570b46=a0_0x570b();return a0_0x2e0e=function(_0x2e0eb3,_0xa62bfe){_0x2e0eb3=_0x2e0eb3-0xdb;let _0x3bc99b=_0x570b46[_0x2e0eb3];return _0x3bc99b;},a0_0x2e0e(_0x37e1a2,_0x18a807);}function a0_0x570b(){const _0x1437fd=['ZiB','opacity0','Delete\x20this\x20file?','EiB','showModal','/data/screenshots/','screenshotsFile','active','rom-item','home','getElementById','abs','_imageState','getItem','replace','28830lNnUmy','/data/cheats/','prompt','actionDiv','gap-16','107472XAtouK','99txYcNF','1851333mXvHgm','MiB','mgba-storage','PiB','497522bPKxbb','onclick','GiB','dialog','listState','/data/games/','fileSize','close','confirm','remove','add','6FiTuON','appendChild','375sNhHNx','removeItem','flex-1','uploadFile','storage','TiB','1230677tPqXEc','disable','toFixed','textContent','addEventListener','createElement','div','slice','4950190tgImwk','/data/saves/','change','uId','downloadFile','/data/states/','onclose','KiB','length','149140JGnzVx','8RUTTeo','216ltkHji','.gba','right','download','rom','firstChild','classList','YiB','romsFile','statesFile'];a0_0x570b=function(){return _0x1437fd;};return a0_0x570b();}export function localStorageFile(){const _0x470531=a0_0x1d4f58,_0x3c3c5d=a0_0x54c15b['listGame'](),_0x4336d3=a0_0x54c15b['listSave'](),_0x4bdf21=a0_0x54c15b[_0x470531(0x107)](),_0x5afa75=a0_0x54c15b['listCheat'](),_0x2fa681=a0_0x54c15b['listScreenshot'](),_0x4c38ac=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x460667 of _0x4c38ac){while(_0x460667[_0x470531(0xe4)]){_0x460667['lastChild'][_0x470531(0x10c)]();}}for(const _0xcb21a2 of _0x3c3c5d){createElementStorage(romsFile,_0xcb21a2,_0x470531(0x108)+_0xcb21a2);}for(const _0x260550 of _0x4bdf21){createElementStorage(statesFile,_0x260550,_0x470531(0x123)+_0x260550);}for(const _0x3ee2f8 of _0x4336d3){createElementStorage(savesFile,_0x3ee2f8,_0x470531(0x11f)+_0x3ee2f8);}for(const _0x20b9ce of _0x5afa75){createElementStorage(cheatsFile,_0x20b9ce,_0x470531(0xf9)+_0x20b9ce);}for(const _0x1ceb8f of _0x2fa681){createElementStorage(screenshotsFile,_0x1ceb8f,_0x470531(0xee)+_0x1ceb8f);}}document[a0_0x1d4f58(0x11a)]('DOMContentLoaded',function(){const _0x16a530=a0_0x1d4f58;upLoadFile[_0x16a530(0x11a)](_0x16a530(0x120),function(){const _0x41d16d=_0x16a530;a0_0x54c15b[_0x41d16d(0x113)](upLoadFile);}),openLocalStorage['addEventListener']('click',function(){const _0x360fec=_0x16a530,_0x4f16d2=localStorage[_0x360fec(0xf6)](_0x360fec(0x121));storage[_0x360fec(0xe5)][_0x360fec(0x10c)](_0x360fec(0x117)),intro[_0x360fec(0xe5)]['add'](_0x360fec(0x117)),ingame['classList'][_0x360fec(0x10d)](_0x360fec(0x117)),_0x4f16d2===null||_0x4f16d2===''?(dropboxRestore[_0x360fec(0xe5)][_0x360fec(0x10c)](_0x360fec(0xf0)),dropboxBackup['classList']['remove'](_0x360fec(0xf0)),dropboxCloud['classList'][_0x360fec(0x10c)](_0x360fec(0xf0))):(dropboxRestore[_0x360fec(0xe5)][_0x360fec(0x10d)](_0x360fec(0xf0)),dropboxBackup[_0x360fec(0xe5)][_0x360fec(0x10d)](_0x360fec(0xf0)),dropboxCloud['classList'][_0x360fec(0x10d)](_0x360fec(0xf0)));}),setTimeout(()=>{localStorageFile();},0xbb8);});