const a0_0x588135=a0_0x2db9;(function(_0x1c7fbd,_0x45c134){const _0x3407cc=a0_0x2db9,_0x27112b=_0x1c7fbd();while(!![]){try{const _0x2cdc58=parseInt(_0x3407cc(0x13b))/0x1*(-parseInt(_0x3407cc(0x144))/0x2)+-parseInt(_0x3407cc(0x132))/0x3*(parseInt(_0x3407cc(0x169))/0x4)+-parseInt(_0x3407cc(0x16b))/0x5+parseInt(_0x3407cc(0x14f))/0x6+-parseInt(_0x3407cc(0x157))/0x7+-parseInt(_0x3407cc(0x16f))/0x8+parseInt(_0x3407cc(0x155))/0x9;if(_0x2cdc58===_0x45c134)break;else _0x27112b['push'](_0x27112b['shift']());}catch(_0x538a7f){_0x27112b['push'](_0x27112b['shift']());}}}(a0_0x458c,0xca178));import*as a0_0x4ebaea from'./main.js';const mgbaStorage=document[a0_0x588135(0x163)]('mgba-storage'),savesFile=document[a0_0x588135(0x163)](a0_0x588135(0x167)),romsFile=document[a0_0x588135(0x163)]('romsFile'),statesFile=document[a0_0x588135(0x163)]('statesFile'),screenshotsFile=document[a0_0x588135(0x163)](a0_0x588135(0x150));function a0_0x2db9(_0x6fba27,_0x2a2dc1){const _0x458ca2=a0_0x458c();return a0_0x2db9=function(_0x2db9be,_0x369eeb){_0x2db9be=_0x2db9be-0x12f;let _0x12ac52=_0x458ca2[_0x2db9be];return _0x12ac52;},a0_0x2db9(_0x6fba27,_0x2a2dc1);}function humanFileSize(_0x3691b0,_0x54df72=![],_0x4bd86c=0x1){const _0x19e39d=a0_0x588135,_0x3d8d80=_0x54df72?0x3e8:0x400,_0x1048d4=_0x54df72?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x19e39d(0x14b),_0x19e39d(0x137),'GiB','TiB','PiB','EiB',_0x19e39d(0x166),'YiB'];let _0x4b3897=-0x1;do{_0x3691b0/=_0x3d8d80,++_0x4b3897;}while(Math[_0x19e39d(0x14a)](_0x3691b0)>=_0x3d8d80&&_0x4b3897<_0x1048d4[_0x19e39d(0x13c)]-0x1);return _0x3691b0[_0x19e39d(0x168)](_0x4bd86c)+'\x20'+_0x1048d4[_0x4b3897];}function createElementStorage(_0x4112cd,_0x59b72e,_0x3bb623){const _0x5e09c7=a0_0x588135,_0x35e894=document[_0x5e09c7(0x13d)](_0x5e09c7(0x152));_0x35e894[_0x5e09c7(0x131)][_0x5e09c7(0x16e)](_0x5e09c7(0x14e),'rom-item',_0x5e09c7(0x12f)),_0x4112cd['appendChild'](_0x35e894);const _0x31b233=document[_0x5e09c7(0x13d)](_0x5e09c7(0x159));_0x31b233[_0x5e09c7(0x151)]=_0x59b72e,_0x31b233[_0x5e09c7(0x131)][_0x5e09c7(0x16e)](_0x5e09c7(0x14e)),_0x35e894[_0x5e09c7(0x15e)](_0x31b233),_0x31b233[_0x5e09c7(0x136)]=()=>{const _0x3c2506=_0x5e09c7,_0xacec85=document[_0x3c2506(0x13d)]('dialog');_0xacec85['onclose']=()=>_0xacec85[_0x3c2506(0x14d)](),_0x4112cd[_0x3c2506(0x15e)](_0xacec85);const _0x50ec47=document[_0x3c2506(0x13d)](_0x3c2506(0x152));_0x50ec47['classList'][_0x3c2506(0x16e)](_0x3c2506(0x143),_0x3c2506(0x142),_0x3c2506(0x14c)),_0xacec85['appendChild'](_0x50ec47);const _0x4fa8e0=document[_0x3c2506(0x13d)](_0x3c2506(0x152));_0x4fa8e0[_0x3c2506(0x131)][_0x3c2506(0x16e)](_0x3c2506(0x154),'bc',_0x3c2506(0x14e)),_0x50ec47[_0x3c2506(0x15e)](_0x4fa8e0);const _0x52099c=document[_0x3c2506(0x13d)]('div');_0x52099c['classList']['add']('flex-1'),_0x50ec47[_0x3c2506(0x15e)](_0x52099c);const _0x1231e3=document['createElement'](_0x3c2506(0x152));_0x1231e3['classList'][_0x3c2506(0x16e)]('flex-1'),_0x50ec47[_0x3c2506(0x15e)](_0x1231e3);const _0x3c7c66=document[_0x3c2506(0x13d)](_0x3c2506(0x152));_0x3c7c66['classList'][_0x3c2506(0x16e)]('flex-1'),_0x50ec47['appendChild'](_0x3c7c66),mgbaStorage[_0x3c2506(0x131)][_0x3c2506(0x16e)](_0x3c2506(0x15b)),_0x4fa8e0[_0x3c2506(0x136)]=()=>{const _0x1752a7=_0x3c2506;_0xacec85[_0x1752a7(0x13e)](),_0xacec85[_0x1752a7(0x14d)](),mgbaStorage['classList'][_0x1752a7(0x14d)](_0x1752a7(0x15b));};const _0x18d354=document[_0x3c2506(0x13d)]('div');_0x18d354['classList'][_0x3c2506(0x16e)](_0x3c2506(0x14e),_0x3c2506(0x138),'hw','cw'),_0x18d354['textContent']=_0x59b72e,_0xacec85[_0x3c2506(0x15e)](_0x18d354);const _0x2b448c=document[_0x3c2506(0x13d)]('div');_0x2b448c[_0x3c2506(0x131)][_0x3c2506(0x16e)](_0x3c2506(0x162),'hw','cw',_0x3c2506(0x16a)),_0xacec85[_0x3c2506(0x15e)](_0x2b448c);const _0x2aba57=document[_0x3c2506(0x13d)]('div');_0x2aba57['classList'][_0x3c2506(0x16e)](_0x3c2506(0x165),'bc'),_0x2b448c[_0x3c2506(0x15e)](_0x2aba57),_0x2aba57['onclick']=()=>{const _0x3e2618=_0x3c2506;a0_0x4ebaea[_0x3e2618(0x161)](_0x3bb623,_0x59b72e);};const _0xc49080=document['createElement'](_0x3c2506(0x152));_0xc49080[_0x3c2506(0x131)]['add']('delete','bc'),_0x2b448c[_0x3c2506(0x15e)](_0xc49080),_0xc49080[_0x3c2506(0x136)]=async()=>{const _0x5cff9e=_0x3c2506;if(window['confirm']('Delete\x20this\x20file?'+_0x59b72e)){const _0x3a4be0=_0x59b72e[_0x5cff9e(0x148)](/\....$/,_0x5cff9e(0x13a));a0_0x4ebaea[_0x5cff9e(0x15f)](_0x3bb623),localStorage[_0x5cff9e(0x158)](_0x3a4be0+_0x5cff9e(0x16c)+_0x59b72e[_0x5cff9e(0x164)](-0x1)),localStorage['removeItem'](_0x3a4be0+'_imageState'+_0x59b72e[_0x5cff9e(0x164)](-0x1)),localStorageFile(),_0xacec85[_0x5cff9e(0x13e)](),_0xacec85[_0x5cff9e(0x14d)](),mgbaStorage['classList'][_0x5cff9e(0x14d)]('opacity0');}};const _0x51cf38=document[_0x3c2506(0x13d)](_0x3c2506(0x152));_0x51cf38[_0x3c2506(0x131)][_0x3c2506(0x16e)](_0x3c2506(0x146),'bc'),_0x2b448c[_0x3c2506(0x15e)](_0x51cf38),_0x51cf38[_0x3c2506(0x136)]=async()=>{const _0x1e87d0=_0x3c2506,_0x2b64ac=window['prompt'](_0x1e87d0(0x160),_0x59b72e);_0x2b64ac!==null&&(a0_0x4ebaea[_0x1e87d0(0x134)](_0x3bb623,_0x59b72e,_0x2b64ac),localStorageFile(),_0xacec85[_0x1e87d0(0x13e)](),_0xacec85['remove'](),mgbaStorage[_0x1e87d0(0x131)][_0x1e87d0(0x14d)](_0x1e87d0(0x15b)));},_0xacec85[_0x3c2506(0x130)]();};const _0x1c0c35=document[_0x5e09c7(0x13d)](_0x5e09c7(0x159));_0x1c0c35[_0x5e09c7(0x151)]=humanFileSize(a0_0x4ebaea['fileSize'](_0x3bb623)),_0x1c0c35[_0x5e09c7(0x131)][_0x5e09c7(0x16e)]('mib'),_0x35e894['appendChild'](_0x1c0c35);}export function localStorageFile(){const _0x38b7b6=a0_0x588135,_0x4ec43c=a0_0x4ebaea[_0x38b7b6(0x147)](_0x38b7b6(0x141)),_0x397ff9=a0_0x4ebaea[_0x38b7b6(0x147)]('saves'),_0x48ac0d=a0_0x4ebaea[_0x38b7b6(0x147)]('states'),_0x573cee=a0_0x4ebaea['listFiles']('cheats'),_0xe5dc14=a0_0x4ebaea['listFiles'](_0x38b7b6(0x156)),_0x333e9b=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5465b4 of _0x333e9b){while(_0x5465b4[_0x38b7b6(0x170)]){_0x5465b4['lastChild']['remove']();}}for(const _0x4fb251 of _0x4ec43c){createElementStorage(romsFile,_0x4fb251,_0x38b7b6(0x133)+_0x4fb251);}for(const _0x36c4ca of _0x48ac0d){createElementStorage(statesFile,_0x36c4ca,'/data/states/'+_0x36c4ca);}for(const _0x4cf0b0 of _0x397ff9){createElementStorage(savesFile,_0x4cf0b0,_0x38b7b6(0x16d)+_0x4cf0b0);}for(const _0x47ccfd of _0x573cee){createElementStorage(cheatsFile,_0x47ccfd,_0x38b7b6(0x153)+_0x47ccfd);}for(const _0x222cc6 of _0xe5dc14){createElementStorage(screenshotsFile,_0x222cc6,_0x38b7b6(0x149)+_0x222cc6);}}function a0_0x458c(){const _0x1a8d01=['opacity0','addEventListener','disable','appendChild','deleteFile','Edit\x20filename','downloadFile','actionDiv','getElementById','slice','download','ZiB','savesFile','toFixed','1279088oDtZip','gap-16','4076465QsRjpG','_dateState','/data/saves/','add','3168176shobSq','firstChild','rom','showModal','classList','12GTsDVN','/data/games/','editFile','getItem','onclick','MiB','rom-item','uploadFile','.gba','1rBipGg','length','createElement','close','click','DOMContentLoaded','games','right','storage','30860UEnZht','change','rename','listFiles','replace','/data/screenshots/','abs','KiB','gap-10','remove','flex-1','9254874ZevCng','screenshotsFile','textContent','div','/data/cheats/','home','28281015TCrfqh','screenshots','9458491Kfmsqp','removeItem','span','active'];a0_0x458c=function(){return _0x1a8d01;};return a0_0x458c();}document['addEventListener'](a0_0x588135(0x140),function(){const _0x3ed8f5=a0_0x588135;upLoadFile[_0x3ed8f5(0x15c)](_0x3ed8f5(0x145),function(){const _0x4ea373=_0x3ed8f5;a0_0x4ebaea[_0x4ea373(0x139)](upLoadFile);}),openLocalStorage['addEventListener'](_0x3ed8f5(0x13f),function(){const _0x1b1b1a=_0x3ed8f5,_0x239e9e=localStorage[_0x1b1b1a(0x135)]('uId');storage['classList'][_0x1b1b1a(0x14d)](_0x1b1b1a(0x15d)),intro['classList'][_0x1b1b1a(0x16e)](_0x1b1b1a(0x15d)),ingame[_0x1b1b1a(0x131)]['add'](_0x1b1b1a(0x15d)),_0x239e9e===null||_0x239e9e===''?(dropboxRestore['classList'][_0x1b1b1a(0x14d)](_0x1b1b1a(0x15a)),dropboxBackup['classList']['remove']('active'),dropboxCloud[_0x1b1b1a(0x131)][_0x1b1b1a(0x14d)](_0x1b1b1a(0x15a))):(dropboxRestore[_0x1b1b1a(0x131)][_0x1b1b1a(0x16e)](_0x1b1b1a(0x15a)),dropboxBackup[_0x1b1b1a(0x131)][_0x1b1b1a(0x16e)](_0x1b1b1a(0x15a)),dropboxCloud[_0x1b1b1a(0x131)]['add'](_0x1b1b1a(0x15a)));}),setTimeout(()=>{localStorageFile();},0xbb8);});