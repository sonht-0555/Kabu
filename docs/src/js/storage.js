const a0_0x3f5e5b=a0_0xad2d;(function(_0x3dfe97,_0x1b7114){const _0x48cc35=a0_0xad2d,_0x176011=_0x3dfe97();while(!![]){try{const _0x2313a8=-parseInt(_0x48cc35(0x1af))/0x1+-parseInt(_0x48cc35(0x1cb))/0x2*(-parseInt(_0x48cc35(0x1cd))/0x3)+parseInt(_0x48cc35(0x1b3))/0x4+parseInt(_0x48cc35(0x1ba))/0x5+-parseInt(_0x48cc35(0x1c8))/0x6+parseInt(_0x48cc35(0x1b4))/0x7+-parseInt(_0x48cc35(0x1bf))/0x8*(parseInt(_0x48cc35(0x1a7))/0x9);if(_0x2313a8===_0x1b7114)break;else _0x176011['push'](_0x176011['shift']());}catch(_0x3c58c1){_0x176011['push'](_0x176011['shift']());}}}(a0_0x4b0d,0x6ab85));function a0_0xad2d(_0x174c8a,_0x1776f3){const _0x4b0d9c=a0_0x4b0d();return a0_0xad2d=function(_0xad2dc1,_0x56ea16){_0xad2dc1=_0xad2dc1-0x1a5;let _0x465f9f=_0x4b0d9c[_0xad2dc1];return _0x465f9f;},a0_0xad2d(_0x174c8a,_0x1776f3);}import*as a0_0x4dafd5 from'./main.js';const mgbaStorage=document[a0_0x3f5e5b(0x1df)](a0_0x3f5e5b(0x1d4)),savesFile=document[a0_0x3f5e5b(0x1df)](a0_0x3f5e5b(0x1ed)),romsFile=document['getElementById'](a0_0x3f5e5b(0x1c7)),statesFile=document[a0_0x3f5e5b(0x1df)]('statesFile'),screenshotsFile=document['getElementById'](a0_0x3f5e5b(0x1f5));function a0_0x4b0d(){const _0x2b5e2d=['remove','.cheats','opacity0','_imageState','/data/games/','mib','confirm','_dateState','div','setItem','Delete\x20this\x20file?','onclick','showModal','savesFile','actionDiv','ZiB','listCheat','KiB','removeItem','slice','listScreenshot','screenshotsFile','downloadFile','listSave','listState','flex-1','createElement','getItem','132390NkTtDw','/data/states/','uploadSavSta','firstChild','GiB','abs','PiB','home','527217GgyUKt','.bc','length','span','2286316MHTrxx','517517sHbRos','endsWith','TiB','delete','rom-item','right','1729030PxLTWB','onclose','/data/saves/','EiB','appendChild','40OixEuQ','textContent','gap-10','fileSize','disable','classList','toFixed','name','romsFile','1972950mhdgCC','change','replace','57754pSesTv','.gba','39Vrorql','uploadGame','lastChild','files','addEventListener','dialog','gap-16','mgba-storage','YiB','Edit\x20filename','listGame','add','active','close','.gbc','/data/cheats/','rename','click','getElementById'];a0_0x4b0d=function(){return _0x2b5e2d;};return a0_0x4b0d();}function humanFileSize(_0x312bcb,_0x5dc01e=![],_0x14d82c=0x1){const _0x75721c=a0_0x3f5e5b,_0x22649c=_0x5dc01e?0x3e8:0x400,_0x8df1b9=_0x5dc01e?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x75721c(0x1f1),'MiB',_0x75721c(0x1ab),_0x75721c(0x1b6),_0x75721c(0x1ad),_0x75721c(0x1bd),_0x75721c(0x1ef),_0x75721c(0x1d5)];let _0x5cc905=-0x1;do{_0x312bcb/=_0x22649c,++_0x5cc905;}while(Math[_0x75721c(0x1ac)](_0x312bcb)>=_0x22649c&&_0x5cc905<_0x8df1b9[_0x75721c(0x1b1)]-0x1);return _0x312bcb[_0x75721c(0x1c5)](_0x14d82c)+'\x20'+_0x8df1b9[_0x5cc905];}function createElementStorage(_0x58ea9f,_0xb56366,_0x1fec2c){const _0x309171=a0_0x3f5e5b,_0x55993d=document[_0x309171(0x1a5)](_0x309171(0x1e8));_0x55993d[_0x309171(0x1c4)][_0x309171(0x1d8)]('flex-1',_0x309171(0x1b8),'rom'),_0x58ea9f[_0x309171(0x1be)](_0x55993d);const _0x570981=document[_0x309171(0x1a5)](_0x309171(0x1b2));_0x570981[_0x309171(0x1c0)]=_0xb56366,_0x570981['classList']['add'](_0x309171(0x1f9)),_0x55993d[_0x309171(0x1be)](_0x570981),_0x570981['onclick']=()=>{const _0x3f948c=_0x309171,_0x3a7014=document[_0x3f948c(0x1a5)](_0x3f948c(0x1d2));_0x3a7014[_0x3f948c(0x1bb)]=()=>_0x3a7014['remove'](),_0x58ea9f[_0x3f948c(0x1be)](_0x3a7014);const _0x558436=document[_0x3f948c(0x1a5)]('div');_0x558436[_0x3f948c(0x1c4)][_0x3f948c(0x1d8)]('storage',_0x3f948c(0x1b9),_0x3f948c(0x1c1)),_0x3a7014[_0x3f948c(0x1be)](_0x558436);const _0x2c2950=document[_0x3f948c(0x1a5)](_0x3f948c(0x1e8));_0x2c2950[_0x3f948c(0x1c4)][_0x3f948c(0x1d8)](_0x3f948c(0x1ae),'bc',_0x3f948c(0x1f9)),_0x558436[_0x3f948c(0x1be)](_0x2c2950);const _0x23ec86=document[_0x3f948c(0x1a5)](_0x3f948c(0x1e8));_0x23ec86[_0x3f948c(0x1c4)][_0x3f948c(0x1d8)](_0x3f948c(0x1f9)),_0x558436[_0x3f948c(0x1be)](_0x23ec86);const _0x5d2500=document[_0x3f948c(0x1a5)](_0x3f948c(0x1e8));_0x5d2500[_0x3f948c(0x1c4)][_0x3f948c(0x1d8)](_0x3f948c(0x1f9)),_0x558436[_0x3f948c(0x1be)](_0x5d2500);const _0x940e4f=document[_0x3f948c(0x1a5)](_0x3f948c(0x1e8));_0x940e4f[_0x3f948c(0x1c4)][_0x3f948c(0x1d8)](_0x3f948c(0x1f9)),_0x558436[_0x3f948c(0x1be)](_0x940e4f),mgbaStorage[_0x3f948c(0x1c4)]['add'](_0x3f948c(0x1e2)),_0x2c2950['onclick']=()=>{const _0x336ba0=_0x3f948c;_0x3a7014['close'](),_0x3a7014['remove'](),mgbaStorage[_0x336ba0(0x1c4)]['remove'](_0x336ba0(0x1e2));};const _0x314d98=document[_0x3f948c(0x1a5)]('div');_0x314d98['classList'][_0x3f948c(0x1d8)]('flex-1',_0x3f948c(0x1b8),'hw','cw'),_0x314d98[_0x3f948c(0x1c0)]=_0xb56366,_0x3a7014['appendChild'](_0x314d98);const _0x73a6f8=document[_0x3f948c(0x1a5)](_0x3f948c(0x1e8));_0x73a6f8['classList'][_0x3f948c(0x1d8)](_0x3f948c(0x1ee),'hw','cw',_0x3f948c(0x1d3)),_0x3a7014['appendChild'](_0x73a6f8);const _0x381f29=document['createElement'](_0x3f948c(0x1e8));_0x381f29['classList'][_0x3f948c(0x1d8)]('download','bc'),_0x73a6f8['appendChild'](_0x381f29),_0x381f29['onclick']=()=>{const _0x835001=_0x3f948c;a0_0x4dafd5[_0x835001(0x1f6)](_0x1fec2c,_0xb56366);};const _0x5de767=document[_0x3f948c(0x1a5)](_0x3f948c(0x1e8));_0x5de767[_0x3f948c(0x1c4)][_0x3f948c(0x1d8)](_0x3f948c(0x1b7),'bc'),_0x73a6f8['appendChild'](_0x5de767),_0x5de767[_0x3f948c(0x1eb)]=async()=>{const _0x2b998c=_0x3f948c;if(window[_0x2b998c(0x1e6)](_0x2b998c(0x1ea)+_0xb56366)){const _0x5b5cd5=_0xb56366[_0x2b998c(0x1ca)](/\....$/,_0x2b998c(0x1cc));a0_0x4dafd5['deleteFile'](_0x1fec2c),localStorage[_0x2b998c(0x1f2)](_0x5b5cd5+_0x2b998c(0x1e7)+_0xb56366[_0x2b998c(0x1f3)](-0x1)),localStorage[_0x2b998c(0x1f2)](_0x5b5cd5+_0x2b998c(0x1e3)+_0xb56366[_0x2b998c(0x1f3)](-0x1)),localStorageFile(),_0x3a7014[_0x2b998c(0x1da)](),_0x3a7014[_0x2b998c(0x1e0)](),mgbaStorage['classList'][_0x2b998c(0x1e0)]('opacity0');}};const _0x41f3fa=document[_0x3f948c(0x1a5)](_0x3f948c(0x1e8));_0x41f3fa[_0x3f948c(0x1c4)]['add'](_0x3f948c(0x1dd),'bc'),_0x73a6f8[_0x3f948c(0x1be)](_0x41f3fa),_0x41f3fa[_0x3f948c(0x1eb)]=async()=>{const _0x487edb=_0x3f948c,_0x40031d=window['prompt'](_0x487edb(0x1d6),_0xb56366);if(_0x40031d!==null){const _0x4e627e=_0xb56366[_0x487edb(0x1ca)](/\....$/,_0x487edb(0x1cc)),_0x308e51=_0x40031d['replace'](/\....$/,_0x487edb(0x1cc)),_0x46f04c=_0x4e627e+_0x487edb(0x1e7)+_0xb56366[_0x487edb(0x1f3)](-0x1),_0x1d5df0=_0x4e627e+_0x487edb(0x1e3)+_0xb56366['slice'](-0x1),_0x24a0c3=_0x308e51+_0x487edb(0x1e7)+_0x40031d[_0x487edb(0x1f3)](-0x1),_0x28971c=_0x308e51+'_imageState'+_0x40031d[_0x487edb(0x1f3)](-0x1),_0x53db98=localStorage[_0x487edb(0x1a6)](_0x46f04c),_0x7e4fd6=localStorage[_0x487edb(0x1a6)](_0x1d5df0);_0x53db98!==null&&(localStorage['setItem'](_0x24a0c3,_0x53db98),localStorage[_0x487edb(0x1f2)](_0x46f04c)),_0x7e4fd6!==null&&(localStorage[_0x487edb(0x1e9)](_0x28971c,_0x7e4fd6),localStorage[_0x487edb(0x1f2)](_0x1d5df0)),a0_0x4dafd5['editFile'](_0x1fec2c,_0xb56366,_0x40031d),localStorageFile(),_0x3a7014[_0x487edb(0x1da)](),_0x3a7014[_0x487edb(0x1e0)](),mgbaStorage[_0x487edb(0x1c4)]['remove'](_0x487edb(0x1e2));}},_0x3a7014[_0x3f948c(0x1ec)]();};const _0x303aab=document[_0x309171(0x1a5)]('span');_0x303aab['textContent']=humanFileSize(a0_0x4dafd5[_0x309171(0x1c2)](_0x1fec2c)),_0x303aab[_0x309171(0x1c4)][_0x309171(0x1d8)](_0x309171(0x1e5)),_0x55993d[_0x309171(0x1be)](_0x303aab);}export function localStorageFile(){const _0x194318=a0_0x3f5e5b,_0x4cb29b=a0_0x4dafd5[_0x194318(0x1d7)](),_0x35051e=a0_0x4dafd5[_0x194318(0x1f7)](),_0x434809=a0_0x4dafd5[_0x194318(0x1f8)](),_0x263b54=a0_0x4dafd5[_0x194318(0x1f0)](),_0x1da657=a0_0x4dafd5[_0x194318(0x1f4)](),_0x27a852=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x41b29b of _0x27a852){while(_0x41b29b[_0x194318(0x1aa)]){_0x41b29b[_0x194318(0x1cf)][_0x194318(0x1e0)]();}}for(const _0x156429 of _0x4cb29b){createElementStorage(romsFile,_0x156429,_0x194318(0x1e4)+_0x156429);}for(const _0x30308c of _0x434809){createElementStorage(statesFile,_0x30308c,_0x194318(0x1a8)+_0x30308c);}for(const _0x40144b of _0x35051e){createElementStorage(savesFile,_0x40144b,_0x194318(0x1bc)+_0x40144b);}for(const _0x3f34ae of _0x263b54){createElementStorage(cheatsFile,_0x3f34ae,_0x194318(0x1dc)+_0x3f34ae);}for(const _0x2f79b1 of _0x1da657){createElementStorage(screenshotsFile,_0x2f79b1,'/data/screenshots/'+_0x2f79b1);}}document[a0_0x3f5e5b(0x1d1)]('DOMContentLoaded',function(){const _0xcccb1d=a0_0x3f5e5b;upLoadFile[_0xcccb1d(0x1d1)](_0xcccb1d(0x1c9),function(){const _0x31903c=_0xcccb1d,_0x442203=upLoadFile[_0x31903c(0x1d0)][0x0][_0x31903c(0x1c6)];if(_0x442203['endsWith'](_0x31903c(0x1e1)))a0_0x4dafd5['uploadCheat'](upLoadFile);else _0x442203['endsWith'](_0x31903c(0x1cc))||_0x442203[_0x31903c(0x1b5)](_0x31903c(0x1db))||_0x442203[_0x31903c(0x1b5)](_0x31903c(0x1b0))?a0_0x4dafd5[_0x31903c(0x1ce)](upLoadFile):a0_0x4dafd5[_0x31903c(0x1a9)](upLoadFile);}),openLocalStorage[_0xcccb1d(0x1d1)](_0xcccb1d(0x1de),function(){const _0x11566d=_0xcccb1d,_0x39f69a=localStorage['getItem']('uId');storage[_0x11566d(0x1c4)][_0x11566d(0x1e0)](_0x11566d(0x1c3)),intro['classList'][_0x11566d(0x1d8)](_0x11566d(0x1c3)),ingame['classList'][_0x11566d(0x1d8)](_0x11566d(0x1c3)),_0x39f69a===null||_0x39f69a===''?(dropboxRestore[_0x11566d(0x1c4)]['remove']('active'),dropboxBackup[_0x11566d(0x1c4)][_0x11566d(0x1e0)](_0x11566d(0x1d9)),dropboxCloud[_0x11566d(0x1c4)][_0x11566d(0x1e0)](_0x11566d(0x1d9))):(dropboxRestore[_0x11566d(0x1c4)][_0x11566d(0x1d8)](_0x11566d(0x1d9)),dropboxBackup[_0x11566d(0x1c4)][_0x11566d(0x1d8)](_0x11566d(0x1d9)),dropboxCloud[_0x11566d(0x1c4)][_0x11566d(0x1d8)](_0x11566d(0x1d9)));}),setTimeout(()=>{localStorageFile();},0xbb8);});