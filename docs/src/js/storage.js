const a0_0x22b36d=a0_0x189c;(function(_0x5561af,_0x522eac){const _0x902c70=a0_0x189c,_0x22cbf2=_0x5561af();while(!![]){try{const _0xd2ce2=-parseInt(_0x902c70(0x1ed))/0x1+-parseInt(_0x902c70(0x1e9))/0x2*(-parseInt(_0x902c70(0x1f1))/0x3)+-parseInt(_0x902c70(0x1ec))/0x4+parseInt(_0x902c70(0x1d7))/0x5+-parseInt(_0x902c70(0x205))/0x6+-parseInt(_0x902c70(0x1f8))/0x7+parseInt(_0x902c70(0x1d6))/0x8;if(_0xd2ce2===_0x522eac)break;else _0x22cbf2['push'](_0x22cbf2['shift']());}catch(_0x357761){_0x22cbf2['push'](_0x22cbf2['shift']());}}}(a0_0x42c1,0xed632));import*as a0_0x3cb6ce from'./main.js';const mgbaStorage=document[a0_0x22b36d(0x1df)]('mgba-storage'),savesFile=document[a0_0x22b36d(0x1df)](a0_0x22b36d(0x1e3)),romsFile=document[a0_0x22b36d(0x1df)](a0_0x22b36d(0x1f5)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document[a0_0x22b36d(0x1df)](a0_0x22b36d(0x1d9));function humanFileSize(_0x37ab83,_0x4f074b=![],_0x1c5d30=0x1){const _0x363006=a0_0x22b36d,_0x2756f9=_0x4f074b?0x3e8:0x400,_0x1488e5=_0x4f074b?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x363006(0x1e6),_0x363006(0x1f4),_0x363006(0x1e1),'TiB',_0x363006(0x1da),_0x363006(0x1c3),'ZiB','YiB'];let _0x325f9a=-0x1;do{_0x37ab83/=_0x2756f9,++_0x325f9a;}while(Math[_0x363006(0x1ef)](_0x37ab83)>=_0x2756f9&&_0x325f9a<_0x1488e5[_0x363006(0x1c1)]-0x1);return _0x37ab83[_0x363006(0x1e5)](_0x1c5d30)+'\x20'+_0x1488e5[_0x325f9a];}function a0_0x189c(_0x808984,_0x50a5ef){const _0x42c155=a0_0x42c1();return a0_0x189c=function(_0x189c16,_0x3fef6f){_0x189c16=_0x189c16-0x1c1;let _0x2d8258=_0x42c155[_0x189c16];return _0x2d8258;},a0_0x189c(_0x808984,_0x50a5ef);}function createElementStorage(_0x25b01d,_0x5eba2a,_0x32fb1b){const _0x94bf57=a0_0x22b36d,_0x2d095d=document[_0x94bf57(0x1c9)](_0x94bf57(0x1e7));_0x2d095d[_0x94bf57(0x1d2)]['add']('flex-1',_0x94bf57(0x1d3),_0x94bf57(0x1d8)),_0x25b01d[_0x94bf57(0x1ff)](_0x2d095d);const _0x10e903=document[_0x94bf57(0x1c9)]('span');_0x10e903[_0x94bf57(0x1dd)]=_0x5eba2a,_0x10e903[_0x94bf57(0x1d2)][_0x94bf57(0x1d0)]('flex-1'),_0x2d095d['appendChild'](_0x10e903),_0x10e903[_0x94bf57(0x1fa)]=()=>{const _0x251eda=_0x94bf57,_0x1e5a2d=document[_0x251eda(0x1c9)]('dialog');_0x1e5a2d['onclose']=()=>_0x1e5a2d[_0x251eda(0x1cf)](),_0x25b01d[_0x251eda(0x1ff)](_0x1e5a2d);const _0x364dae=document['createElement'](_0x251eda(0x1e7));_0x364dae['classList'][_0x251eda(0x1d0)](_0x251eda(0x1c6),_0x251eda(0x202),'gap-10'),_0x1e5a2d[_0x251eda(0x1ff)](_0x364dae);const _0x231edb=document[_0x251eda(0x1c9)](_0x251eda(0x1e7));_0x231edb[_0x251eda(0x1d2)][_0x251eda(0x1d0)](_0x251eda(0x1cb),'bc',_0x251eda(0x1de)),_0x364dae[_0x251eda(0x1ff)](_0x231edb);const _0x1a6666=document[_0x251eda(0x1c9)]('div');_0x1a6666[_0x251eda(0x1d2)]['add'](_0x251eda(0x1de)),_0x364dae['appendChild'](_0x1a6666);const _0x4cd815=document[_0x251eda(0x1c9)]('div');_0x4cd815['classList'][_0x251eda(0x1d0)](_0x251eda(0x1de)),_0x364dae['appendChild'](_0x4cd815);const _0x505cb0=document[_0x251eda(0x1c9)](_0x251eda(0x1e7));_0x505cb0[_0x251eda(0x1d2)]['add'](_0x251eda(0x1de)),_0x364dae[_0x251eda(0x1ff)](_0x505cb0),mgbaStorage[_0x251eda(0x1d2)][_0x251eda(0x1d0)](_0x251eda(0x1f3)),_0x231edb[_0x251eda(0x1fa)]=()=>{const _0x7123c7=_0x251eda;_0x1e5a2d[_0x7123c7(0x1f2)](),_0x1e5a2d[_0x7123c7(0x1cf)](),mgbaStorage['classList'][_0x7123c7(0x1cf)](_0x7123c7(0x1f3));};const _0x453ec3=document[_0x251eda(0x1c9)](_0x251eda(0x1e7));_0x453ec3[_0x251eda(0x1d2)][_0x251eda(0x1d0)](_0x251eda(0x1de),_0x251eda(0x1d3),'hw','cw'),_0x453ec3['textContent']=_0x5eba2a,_0x1e5a2d[_0x251eda(0x1ff)](_0x453ec3);const _0x328410=document[_0x251eda(0x1c9)](_0x251eda(0x1e7));_0x328410['classList']['add'](_0x251eda(0x1f6),'hw','cw',_0x251eda(0x1c5)),_0x1e5a2d['appendChild'](_0x328410);const _0x28612a=document['createElement'](_0x251eda(0x1e7));_0x28612a['classList'][_0x251eda(0x1d0)](_0x251eda(0x1f9),'bc'),_0x328410['appendChild'](_0x28612a),_0x28612a['onclick']=()=>{const _0x55511b=_0x251eda;a0_0x3cb6ce[_0x55511b(0x203)](_0x32fb1b,_0x5eba2a);};const _0x55b5ec=document[_0x251eda(0x1c9)](_0x251eda(0x1e7));_0x55b5ec[_0x251eda(0x1d2)][_0x251eda(0x1d0)](_0x251eda(0x1cd),'bc'),_0x328410[_0x251eda(0x1ff)](_0x55b5ec),_0x55b5ec['onclick']=async()=>{const _0x57d122=_0x251eda;if(window['confirm']('Delete\x20this\x20file?'+_0x5eba2a)){const _0x4373b6=_0x5eba2a['replace'](/\....$/,_0x57d122(0x1c7));a0_0x3cb6ce[_0x57d122(0x1ee)](_0x32fb1b),localStorage['removeItem'](_0x4373b6+_0x57d122(0x1c2)+_0x5eba2a[_0x57d122(0x1fe)](-0x1)),localStorage[_0x57d122(0x1ca)](_0x4373b6+_0x57d122(0x1d1)+_0x5eba2a[_0x57d122(0x1fe)](-0x1)),localStorageFile(),_0x1e5a2d[_0x57d122(0x1f2)](),_0x1e5a2d[_0x57d122(0x1cf)](),mgbaStorage['classList'][_0x57d122(0x1cf)](_0x57d122(0x1f3));}};const _0x653807=document[_0x251eda(0x1c9)]('div');_0x653807[_0x251eda(0x1d2)][_0x251eda(0x1d0)](_0x251eda(0x201),'bc'),_0x328410[_0x251eda(0x1ff)](_0x653807),_0x653807[_0x251eda(0x1fa)]=async()=>{const _0x5c133d=_0x251eda,_0x282c36=window[_0x5c133d(0x1e4)](_0x5c133d(0x1ce),_0x5eba2a);_0x282c36!==null&&(a0_0x3cb6ce[_0x5c133d(0x1eb)](_0x32fb1b,_0x5eba2a,_0x282c36),localStorageFile(),_0x1e5a2d[_0x5c133d(0x1f2)](),_0x1e5a2d[_0x5c133d(0x1cf)](),mgbaStorage['classList'][_0x5c133d(0x1cf)](_0x5c133d(0x1f3)));},_0x1e5a2d['showModal']();};const _0x2f3a7d=document[_0x94bf57(0x1c9)](_0x94bf57(0x1c4));_0x2f3a7d[_0x94bf57(0x1dd)]=humanFileSize(a0_0x3cb6ce[_0x94bf57(0x1fb)](_0x32fb1b)),_0x2f3a7d['classList']['add'](_0x94bf57(0x1fc)),_0x2d095d[_0x94bf57(0x1ff)](_0x2f3a7d);}function a0_0x42c1(){const _0x5d83e3=['EiB','span','gap-16','storage','.gba','uploadFile','createElement','removeItem','home','DOMContentLoaded','delete','Edit\x20filename','remove','add','_imageState','classList','rom-item','lastChild','/data/states/','27472576uhLHLR','166235VJzUMx','rom','screenshotsFile','PiB','games','disable','textContent','flex-1','getElementById','uId','GiB','click','savesFile','prompt','toFixed','KiB','div','listFiles','3018838sWOoeT','getItem','editFile','6002328PoDFRa','601678JXhLKG','deleteFile','abs','cheats','3kceYqw','close','opacity0','MiB','romsFile','actionDiv','/data/saves/','12167232CJjJiR','download','onclick','fileSize','mib','addEventListener','slice','appendChild','active','rename','right','downloadFile','/data/screenshots/','983784VkXfJB','length','_dateState'];a0_0x42c1=function(){return _0x5d83e3;};return a0_0x42c1();}export function localStorageFile(){const _0x2a4068=a0_0x22b36d,_0x9e8995=a0_0x3cb6ce[_0x2a4068(0x1e8)](_0x2a4068(0x1db)),_0x42fa56=a0_0x3cb6ce['listFiles']('saves'),_0x3d6ecd=a0_0x3cb6ce[_0x2a4068(0x1e8)]('states'),_0x49e303=a0_0x3cb6ce[_0x2a4068(0x1e8)](_0x2a4068(0x1f0)),_0x3aef7f=a0_0x3cb6ce['listFiles']('screenshots'),_0x5c6934=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x522b43 of _0x5c6934){while(_0x522b43['firstChild']){_0x522b43[_0x2a4068(0x1d4)]['remove']();}}for(const _0x38182d of _0x9e8995){createElementStorage(romsFile,_0x38182d,'/data/games/'+_0x38182d);}for(const _0x50a5ba of _0x3d6ecd){createElementStorage(statesFile,_0x50a5ba,_0x2a4068(0x1d5)+_0x50a5ba);}for(const _0x30b6f6 of _0x42fa56){createElementStorage(savesFile,_0x30b6f6,_0x2a4068(0x1f7)+_0x30b6f6);}for(const _0x575625 of _0x49e303){createElementStorage(cheatsFile,_0x575625,'/data/cheats/'+_0x575625);}for(const _0x378eea of _0x3aef7f){createElementStorage(screenshotsFile,_0x378eea,_0x2a4068(0x204)+_0x378eea);}}document[a0_0x22b36d(0x1fd)](a0_0x22b36d(0x1cc),function(){const _0xf16234=a0_0x22b36d;upLoadFile[_0xf16234(0x1fd)]('change',function(){const _0x2111b3=_0xf16234;a0_0x3cb6ce[_0x2111b3(0x1c8)](upLoadFile);}),openLocalStorage[_0xf16234(0x1fd)](_0xf16234(0x1e2),function(){const _0x148067=_0xf16234,_0x19dc01=localStorage[_0x148067(0x1ea)](_0x148067(0x1e0));storage[_0x148067(0x1d2)][_0x148067(0x1cf)]('disable'),intro[_0x148067(0x1d2)][_0x148067(0x1d0)](_0x148067(0x1dc)),ingame[_0x148067(0x1d2)][_0x148067(0x1d0)](_0x148067(0x1dc)),_0x19dc01===null||_0x19dc01===''?(dropboxRestore[_0x148067(0x1d2)]['remove']('active'),dropboxBackup['classList'][_0x148067(0x1cf)](_0x148067(0x200)),dropboxCloud[_0x148067(0x1d2)][_0x148067(0x1cf)](_0x148067(0x200))):(dropboxRestore[_0x148067(0x1d2)][_0x148067(0x1d0)](_0x148067(0x200)),dropboxBackup[_0x148067(0x1d2)]['add']('active'),dropboxCloud[_0x148067(0x1d2)][_0x148067(0x1d0)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});