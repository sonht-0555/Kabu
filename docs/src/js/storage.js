const a0_0x56aa7d=a0_0x87ee;function a0_0x4fe4(){const _0x3e2232=['disable','30063670XmzzJu','/data/screenshots/','4404366ChpgQk','right','gap-10','3607566pyUGuZ','gap-16','abs','getElementById','_dateState','states','dialog','toFixed','PiB','close','mgba-storage','prompt','div','createElement','313872cwZCOv','romsFile','remove','flex-1','screenshots','GiB','TiB','onclick','uploadFile','1ttuJqP','addEventListener','download','home','EiB','ZiB','editFile','add','opacity0','lastChild','uId','YiB','rom','.gba','/data/saves/','cheats','appendChild','savesFile','rom-item','mib','click','active','DOMContentLoaded','KiB','deleteFile','fileSize','listFiles','removeItem','textContent','1099114NTBXPI','91QRaCKR','games','saves','classList','span','MiB','storage','10cOOrij','391374xNrRlQ','/data/cheats/','slice','625952tWmYzH','length','getItem'];a0_0x4fe4=function(){return _0x3e2232;};return a0_0x4fe4();}function a0_0x87ee(_0xd3b7ce,_0x15775d){const _0x4fe4aa=a0_0x4fe4();return a0_0x87ee=function(_0x87ee40,_0x58c212){_0x87ee40=_0x87ee40-0x164;let _0x4da8e0=_0x4fe4aa[_0x87ee40];return _0x4da8e0;},a0_0x87ee(_0xd3b7ce,_0x15775d);}(function(_0x636548,_0x3c9045){const _0x57114b=a0_0x87ee,_0x4c6669=_0x636548();while(!![]){try{const _0x1487a6=parseInt(_0x57114b(0x19b))/0x1*(parseInt(_0x57114b(0x16f))/0x2)+-parseInt(_0x57114b(0x178))/0x3+-parseInt(_0x57114b(0x192))/0x4+-parseInt(_0x57114b(0x177))/0x5*(parseInt(_0x57114b(0x184))/0x6)+parseInt(_0x57114b(0x170))/0x7*(-parseInt(_0x57114b(0x17b))/0x8)+-parseInt(_0x57114b(0x181))/0x9+parseInt(_0x57114b(0x17f))/0xa;if(_0x1487a6===_0x3c9045)break;else _0x4c6669['push'](_0x4c6669['shift']());}catch(_0x57e516){_0x4c6669['push'](_0x4c6669['shift']());}}}(a0_0x4fe4,0x9bbea));import*as a0_0xd249d0 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x56aa7d(0x18e)),savesFile=document[a0_0x56aa7d(0x187)](a0_0x56aa7d(0x1ac)),romsFile=document[a0_0x56aa7d(0x187)](a0_0x56aa7d(0x193)),statesFile=document[a0_0x56aa7d(0x187)]('statesFile'),screenshotsFile=document[a0_0x56aa7d(0x187)]('screenshotsFile');function humanFileSize(_0x1ece4c,_0x47f903=![],_0x5eced6=0x1){const _0x4aad92=a0_0x56aa7d,_0x36e8f5=_0x47f903?0x3e8:0x400,_0x378a04=_0x47f903?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x4aad92(0x169),_0x4aad92(0x175),_0x4aad92(0x197),_0x4aad92(0x198),_0x4aad92(0x18c),_0x4aad92(0x19f),_0x4aad92(0x1a0),_0x4aad92(0x1a6)];let _0x54eec4=-0x1;do{_0x1ece4c/=_0x36e8f5,++_0x54eec4;}while(Math[_0x4aad92(0x186)](_0x1ece4c)>=_0x36e8f5&&_0x54eec4<_0x378a04[_0x4aad92(0x17c)]-0x1);return _0x1ece4c[_0x4aad92(0x18b)](_0x5eced6)+'\x20'+_0x378a04[_0x54eec4];}function createElementStorage(_0x4f83ce,_0x413bd2,_0x32e566){const _0x2a743a=a0_0x56aa7d,_0x2f28b1=document[_0x2a743a(0x191)]('div');_0x2f28b1['classList'][_0x2a743a(0x1a2)]('flex-1',_0x2a743a(0x164),_0x2a743a(0x1a7)),_0x4f83ce['appendChild'](_0x2f28b1);const _0x51ed7e=document[_0x2a743a(0x191)]('span');_0x51ed7e['textContent']=_0x413bd2,_0x51ed7e[_0x2a743a(0x173)][_0x2a743a(0x1a2)]('flex-1'),_0x2f28b1[_0x2a743a(0x1ab)](_0x51ed7e),_0x51ed7e[_0x2a743a(0x199)]=()=>{const _0x40fdbb=_0x2a743a,_0x13dd6a=document['createElement'](_0x40fdbb(0x18a));_0x13dd6a['onclose']=()=>_0x13dd6a['remove'](),_0x4f83ce[_0x40fdbb(0x1ab)](_0x13dd6a);const _0x504e94=document[_0x40fdbb(0x191)]('div');_0x504e94['classList'][_0x40fdbb(0x1a2)](_0x40fdbb(0x176),_0x40fdbb(0x182),_0x40fdbb(0x183)),_0x13dd6a[_0x40fdbb(0x1ab)](_0x504e94);const _0x43b07b=document['createElement'](_0x40fdbb(0x190));_0x43b07b[_0x40fdbb(0x173)][_0x40fdbb(0x1a2)](_0x40fdbb(0x19e),'bc',_0x40fdbb(0x195)),_0x504e94[_0x40fdbb(0x1ab)](_0x43b07b);const _0x52f8ba=document[_0x40fdbb(0x191)](_0x40fdbb(0x190));_0x52f8ba[_0x40fdbb(0x173)][_0x40fdbb(0x1a2)]('flex-1'),_0x504e94[_0x40fdbb(0x1ab)](_0x52f8ba);const _0x28fffc=document[_0x40fdbb(0x191)](_0x40fdbb(0x190));_0x28fffc[_0x40fdbb(0x173)][_0x40fdbb(0x1a2)](_0x40fdbb(0x195)),_0x504e94[_0x40fdbb(0x1ab)](_0x28fffc);const _0x392f04=document['createElement'](_0x40fdbb(0x190));_0x392f04[_0x40fdbb(0x173)][_0x40fdbb(0x1a2)](_0x40fdbb(0x195)),_0x504e94[_0x40fdbb(0x1ab)](_0x392f04),mgbaStorage[_0x40fdbb(0x173)]['add'](_0x40fdbb(0x1a3)),_0x43b07b['onclick']=()=>{const _0x45230e=_0x40fdbb;_0x13dd6a[_0x45230e(0x18d)](),_0x13dd6a[_0x45230e(0x194)](),mgbaStorage[_0x45230e(0x173)]['remove'](_0x45230e(0x1a3));};const _0x1ecd6b=document[_0x40fdbb(0x191)](_0x40fdbb(0x190));_0x1ecd6b[_0x40fdbb(0x173)][_0x40fdbb(0x1a2)](_0x40fdbb(0x195),_0x40fdbb(0x164),'hw','cw'),_0x1ecd6b[_0x40fdbb(0x16e)]=_0x413bd2,_0x13dd6a[_0x40fdbb(0x1ab)](_0x1ecd6b);const _0x47d3f2=document[_0x40fdbb(0x191)](_0x40fdbb(0x190));_0x47d3f2[_0x40fdbb(0x173)][_0x40fdbb(0x1a2)]('actionDiv','hw','cw',_0x40fdbb(0x185)),_0x13dd6a[_0x40fdbb(0x1ab)](_0x47d3f2);const _0x219d4d=document['createElement']('div');_0x219d4d[_0x40fdbb(0x173)]['add'](_0x40fdbb(0x19d),'bc'),_0x47d3f2[_0x40fdbb(0x1ab)](_0x219d4d),_0x219d4d[_0x40fdbb(0x199)]=()=>{a0_0xd249d0['downloadFile'](_0x32e566,_0x413bd2);};const _0x16e9c5=document['createElement'](_0x40fdbb(0x190));_0x16e9c5[_0x40fdbb(0x173)][_0x40fdbb(0x1a2)]('delete','bc'),_0x47d3f2[_0x40fdbb(0x1ab)](_0x16e9c5),_0x16e9c5[_0x40fdbb(0x199)]=async()=>{const _0x329e42=_0x40fdbb;if(window['confirm']('Delete\x20this\x20file?'+_0x413bd2)){const _0x4a0145=_0x413bd2['replace'](/\....$/,_0x329e42(0x1a8));a0_0xd249d0[_0x329e42(0x16a)](_0x32e566),localStorage[_0x329e42(0x16d)](_0x4a0145+_0x329e42(0x188)+_0x413bd2[_0x329e42(0x17a)](-0x1)),localStorage['removeItem'](_0x4a0145+'_imageState'+_0x413bd2[_0x329e42(0x17a)](-0x1)),localStorageFile(),_0x13dd6a[_0x329e42(0x18d)](),_0x13dd6a[_0x329e42(0x194)](),mgbaStorage[_0x329e42(0x173)][_0x329e42(0x194)]('opacity0');}};const _0x2725d0=document[_0x40fdbb(0x191)](_0x40fdbb(0x190));_0x2725d0[_0x40fdbb(0x173)]['add']('rename','bc'),_0x47d3f2['appendChild'](_0x2725d0),_0x2725d0[_0x40fdbb(0x199)]=async()=>{const _0x132be8=_0x40fdbb,_0x37892e=window[_0x132be8(0x18f)]('Edit\x20filename',_0x413bd2);_0x37892e!==null&&(a0_0xd249d0[_0x132be8(0x1a1)](_0x32e566,_0x413bd2,_0x37892e),localStorageFile(),_0x13dd6a[_0x132be8(0x18d)](),_0x13dd6a[_0x132be8(0x194)](),mgbaStorage['classList'][_0x132be8(0x194)](_0x132be8(0x1a3)));},_0x13dd6a['showModal']();};const _0x56ac99=document[_0x2a743a(0x191)](_0x2a743a(0x174));_0x56ac99[_0x2a743a(0x16e)]=humanFileSize(a0_0xd249d0[_0x2a743a(0x16b)](_0x32e566)),_0x56ac99['classList']['add'](_0x2a743a(0x165)),_0x2f28b1['appendChild'](_0x56ac99);}export function localStorageFile(){const _0x31928b=a0_0x56aa7d,_0x156bd7=a0_0xd249d0[_0x31928b(0x16c)](_0x31928b(0x171)),_0x594fe8=a0_0xd249d0['listFiles'](_0x31928b(0x172)),_0x4aef8b=a0_0xd249d0[_0x31928b(0x16c)](_0x31928b(0x189)),_0x2cda05=a0_0xd249d0['listFiles'](_0x31928b(0x1aa)),_0x42cdd1=a0_0xd249d0[_0x31928b(0x16c)](_0x31928b(0x196)),_0x19592f=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5288bf of _0x19592f){while(_0x5288bf['firstChild']){_0x5288bf[_0x31928b(0x1a4)]['remove']();}}for(const _0x2ab6c3 of _0x156bd7){createElementStorage(romsFile,_0x2ab6c3,'/data/games/'+_0x2ab6c3);}for(const _0x21bc1f of _0x4aef8b){createElementStorage(statesFile,_0x21bc1f,'/data/states/'+_0x21bc1f);}for(const _0x402091 of _0x594fe8){createElementStorage(savesFile,_0x402091,_0x31928b(0x1a9)+_0x402091);}for(const _0x44b8a7 of _0x2cda05){createElementStorage(cheatsFile,_0x44b8a7,_0x31928b(0x179)+_0x44b8a7);}for(const _0x20cce0 of _0x42cdd1){createElementStorage(screenshotsFile,_0x20cce0,_0x31928b(0x180)+_0x20cce0);}}document['addEventListener'](a0_0x56aa7d(0x168),function(){const _0x1e68f3=a0_0x56aa7d;upLoadFile[_0x1e68f3(0x19c)]('change',function(){const _0x314d93=_0x1e68f3;a0_0xd249d0[_0x314d93(0x19a)](upLoadFile);}),openLocalStorage['addEventListener'](_0x1e68f3(0x166),function(){const _0x2badac=_0x1e68f3,_0x11f6d0=localStorage[_0x2badac(0x17d)](_0x2badac(0x1a5));storage['classList'][_0x2badac(0x194)](_0x2badac(0x17e)),intro[_0x2badac(0x173)][_0x2badac(0x1a2)](_0x2badac(0x17e)),ingame['classList']['add'](_0x2badac(0x17e)),_0x11f6d0===null||_0x11f6d0===''?(dropboxRestore[_0x2badac(0x173)]['remove'](_0x2badac(0x167)),dropboxBackup['classList'][_0x2badac(0x194)]('active'),dropboxCloud[_0x2badac(0x173)][_0x2badac(0x194)](_0x2badac(0x167))):(dropboxRestore[_0x2badac(0x173)][_0x2badac(0x1a2)](_0x2badac(0x167)),dropboxBackup['classList'][_0x2badac(0x1a2)](_0x2badac(0x167)),dropboxCloud[_0x2badac(0x173)][_0x2badac(0x1a2)](_0x2badac(0x167)));}),setTimeout(()=>{localStorageFile();},0xbb8);});