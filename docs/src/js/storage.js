const a0_0xb0106=a0_0xc16e;function a0_0xc16e(_0x37502d,_0x39e0d4){const _0x1b0ae7=a0_0x1b0a();return a0_0xc16e=function(_0xc16ea6,_0x4f84c9){_0xc16ea6=_0xc16ea6-0xdc;let _0x3e13c2=_0x1b0ae7[_0xc16ea6];return _0x3e13c2;},a0_0xc16e(_0x37502d,_0x39e0d4);}(function(_0x5482d9,_0x49c66d){const _0x4e2059=a0_0xc16e,_0x4d5f39=_0x5482d9();while(!![]){try{const _0x7132bb=-parseInt(_0x4e2059(0x113))/0x1*(-parseInt(_0x4e2059(0xfb))/0x2)+parseInt(_0x4e2059(0x112))/0x3*(-parseInt(_0x4e2059(0x124))/0x4)+parseInt(_0x4e2059(0xf2))/0x5*(parseInt(_0x4e2059(0xfe))/0x6)+-parseInt(_0x4e2059(0x100))/0x7*(parseInt(_0x4e2059(0x116))/0x8)+-parseInt(_0x4e2059(0xdc))/0x9*(-parseInt(_0x4e2059(0x126))/0xa)+parseInt(_0x4e2059(0x11d))/0xb*(-parseInt(_0x4e2059(0xe4))/0xc)+parseInt(_0x4e2059(0xe1))/0xd*(-parseInt(_0x4e2059(0x10c))/0xe);if(_0x7132bb===_0x49c66d)break;else _0x4d5f39['push'](_0x4d5f39['shift']());}catch(_0x4515e0){_0x4d5f39['push'](_0x4d5f39['shift']());}}}(a0_0x1b0a,0xf21dd));import*as a0_0x306731 from'./main.js';const mgbaStorage=document['getElementById'](a0_0xb0106(0xe0)),savesFile=document['getElementById']('savesFile'),romsFile=document[a0_0xb0106(0xee)](a0_0xb0106(0xf7)),statesFile=document[a0_0xb0106(0xee)](a0_0xb0106(0xf9)),screenshotsFile=document[a0_0xb0106(0xee)](a0_0xb0106(0xe2));function a0_0x1b0a(){const _0x2f356b=['addEventListener','rom','prompt','20QtVUmF','flex-1','20QCsOqd','/data/games/','div','3017961hoVLGe','Edit\x20filename','replace','close','mgba-storage','1989910ivlDGg','screenshotsFile','disable','18995556rySAQY','getItem','YiB','fileSize','listFiles','gap-10','uploadFile','createElement','home','abs','getElementById','ZiB','KiB','toFixed','1495955GIgPNr','right','mib','confirm','slice','romsFile','change','statesFile','games','26JELxub','opacity0','span','24QkMwGx','removeItem','203917SokRpA','actionDiv','deleteFile','remove','active','firstChild','classList','EiB','storage','length','gap-16','download','14XYcboW','dialog','click','editFile','add','showModal','382269JDnmKg','119669NwDlsD','onclick','PiB','16YpEqbe','cheats','textContent','TiB','/data/cheats/','/data/screenshots/','appendChild','11FPLPsv','_imageState','onclose','/data/saves/'];a0_0x1b0a=function(){return _0x2f356b;};return a0_0x1b0a();}function humanFileSize(_0xc30481,_0x5d4940=![],_0x128ede=0x1){const _0x1098e9=a0_0xb0106,_0x56de47=_0x5d4940?0x3e8:0x400,_0x458836=_0x5d4940?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1098e9(0xf0),'MiB','GiB',_0x1098e9(0x119),_0x1098e9(0x115),_0x1098e9(0x107),_0x1098e9(0xef),_0x1098e9(0xe6)];let _0x58f34c=-0x1;do{_0xc30481/=_0x56de47,++_0x58f34c;}while(Math[_0x1098e9(0xed)](_0xc30481)>=_0x56de47&&_0x58f34c<_0x458836[_0x1098e9(0x109)]-0x1);return _0xc30481[_0x1098e9(0xf1)](_0x128ede)+'\x20'+_0x458836[_0x58f34c];}function createElementStorage(_0x1bba36,_0x1886e7,_0x577765){const _0x3a1601=a0_0xb0106,_0x1e7dcd=document[_0x3a1601(0xeb)](_0x3a1601(0x128));_0x1e7dcd[_0x3a1601(0x106)][_0x3a1601(0x110)](_0x3a1601(0x125),'rom-item',_0x3a1601(0x122)),_0x1bba36['appendChild'](_0x1e7dcd);const _0x5d8f37=document['createElement']('span');_0x5d8f37[_0x3a1601(0x118)]=_0x1886e7,_0x5d8f37['classList']['add']('flex-1'),_0x1e7dcd[_0x3a1601(0x11c)](_0x5d8f37),_0x5d8f37[_0x3a1601(0x114)]=()=>{const _0xe86446=_0x3a1601,_0x1910ef=document[_0xe86446(0xeb)](_0xe86446(0x10d));_0x1910ef[_0xe86446(0x11f)]=()=>_0x1910ef[_0xe86446(0x103)](),_0x1bba36[_0xe86446(0x11c)](_0x1910ef);const _0x49b9f3=document[_0xe86446(0xeb)](_0xe86446(0x128));_0x49b9f3['classList'][_0xe86446(0x110)](_0xe86446(0x108),_0xe86446(0xf3),_0xe86446(0xe9)),_0x1910ef[_0xe86446(0x11c)](_0x49b9f3);const _0x291e6d=document[_0xe86446(0xeb)](_0xe86446(0x128));_0x291e6d[_0xe86446(0x106)]['add'](_0xe86446(0xec),'bc',_0xe86446(0x125)),_0x49b9f3[_0xe86446(0x11c)](_0x291e6d);const _0x43d90c=document['createElement'](_0xe86446(0x128));_0x43d90c['classList'][_0xe86446(0x110)](_0xe86446(0x125)),_0x49b9f3[_0xe86446(0x11c)](_0x43d90c);const _0x55e095=document[_0xe86446(0xeb)](_0xe86446(0x128));_0x55e095[_0xe86446(0x106)][_0xe86446(0x110)](_0xe86446(0x125)),_0x49b9f3[_0xe86446(0x11c)](_0x55e095);const _0x467bc1=document[_0xe86446(0xeb)](_0xe86446(0x128));_0x467bc1[_0xe86446(0x106)]['add'](_0xe86446(0x125)),_0x49b9f3[_0xe86446(0x11c)](_0x467bc1),mgbaStorage[_0xe86446(0x106)][_0xe86446(0x110)]('opacity0'),_0x291e6d[_0xe86446(0x114)]=()=>{const _0x4c8189=_0xe86446;_0x1910ef['close'](),_0x1910ef[_0x4c8189(0x103)](),mgbaStorage[_0x4c8189(0x106)]['remove'](_0x4c8189(0xfc));};const _0x3cd2a8=document[_0xe86446(0xeb)](_0xe86446(0x128));_0x3cd2a8[_0xe86446(0x106)][_0xe86446(0x110)](_0xe86446(0x125),'rom-item','hw','cw'),_0x3cd2a8['textContent']=_0x1886e7,_0x1910ef[_0xe86446(0x11c)](_0x3cd2a8);const _0x32d21f=document['createElement']('div');_0x32d21f[_0xe86446(0x106)][_0xe86446(0x110)](_0xe86446(0x101),'hw','cw',_0xe86446(0x10a)),_0x1910ef['appendChild'](_0x32d21f);const _0x37f325=document[_0xe86446(0xeb)](_0xe86446(0x128));_0x37f325['classList'][_0xe86446(0x110)](_0xe86446(0x10b),'bc'),_0x32d21f[_0xe86446(0x11c)](_0x37f325),_0x37f325[_0xe86446(0x114)]=()=>{a0_0x306731['downloadFile'](_0x577765,_0x1886e7);};const _0x10e326=document['createElement'](_0xe86446(0x128));_0x10e326[_0xe86446(0x106)][_0xe86446(0x110)]('delete','bc'),_0x32d21f[_0xe86446(0x11c)](_0x10e326),_0x10e326[_0xe86446(0x114)]=async()=>{const _0x572255=_0xe86446;if(window[_0x572255(0xf5)]('Delete\x20this\x20file?'+_0x1886e7)){const _0xe9682a=_0x1886e7[_0x572255(0xde)](/\....$/,'.gba');a0_0x306731[_0x572255(0x102)](_0x577765),localStorage[_0x572255(0xff)](_0xe9682a+'_dateState'+_0x1886e7[_0x572255(0xf6)](-0x1)),localStorage[_0x572255(0xff)](_0xe9682a+_0x572255(0x11e)+_0x1886e7[_0x572255(0xf6)](-0x1)),localStorageFile(),_0x1910ef[_0x572255(0xdf)](),_0x1910ef[_0x572255(0x103)](),mgbaStorage['classList'][_0x572255(0x103)](_0x572255(0xfc));}};const _0x1562de=document[_0xe86446(0xeb)](_0xe86446(0x128));_0x1562de[_0xe86446(0x106)][_0xe86446(0x110)]('rename','bc'),_0x32d21f[_0xe86446(0x11c)](_0x1562de),_0x1562de[_0xe86446(0x114)]=async()=>{const _0x3a0d24=_0xe86446,_0x2b5205=window[_0x3a0d24(0x123)](_0x3a0d24(0xdd),_0x1886e7);_0x2b5205!==null&&(a0_0x306731[_0x3a0d24(0x10f)](_0x577765,_0x1886e7,_0x2b5205),localStorageFile(),_0x1910ef[_0x3a0d24(0xdf)](),_0x1910ef[_0x3a0d24(0x103)](),mgbaStorage[_0x3a0d24(0x106)][_0x3a0d24(0x103)](_0x3a0d24(0xfc)));},_0x1910ef[_0xe86446(0x111)]();};const _0x212144=document['createElement'](_0x3a1601(0xfd));_0x212144['textContent']=humanFileSize(a0_0x306731[_0x3a1601(0xe7)](_0x577765)),_0x212144[_0x3a1601(0x106)][_0x3a1601(0x110)](_0x3a1601(0xf4)),_0x1e7dcd['appendChild'](_0x212144);}export function localStorageFile(){const _0x2d159d=a0_0xb0106,_0x4028f5=a0_0x306731[_0x2d159d(0xe8)](_0x2d159d(0xfa)),_0x3a644e=a0_0x306731[_0x2d159d(0xe8)]('saves'),_0x4e061a=a0_0x306731[_0x2d159d(0xe8)]('states'),_0x5c4497=a0_0x306731[_0x2d159d(0xe8)](_0x2d159d(0x117)),_0x2ad881=a0_0x306731['listFiles']('screenshots'),_0x4bfff0=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5c3936 of _0x4bfff0){while(_0x5c3936[_0x2d159d(0x105)]){_0x5c3936['lastChild'][_0x2d159d(0x103)]();}}for(const _0x38ab42 of _0x4028f5){createElementStorage(romsFile,_0x38ab42,_0x2d159d(0x127)+_0x38ab42);}for(const _0x5b07a3 of _0x4e061a){createElementStorage(statesFile,_0x5b07a3,'/data/states/'+_0x5b07a3);}for(const _0x4335a8 of _0x3a644e){createElementStorage(savesFile,_0x4335a8,_0x2d159d(0x120)+_0x4335a8);}for(const _0xa9e944 of _0x5c4497){createElementStorage(cheatsFile,_0xa9e944,_0x2d159d(0x11a)+_0xa9e944);}for(const _0x31ad37 of _0x2ad881){createElementStorage(screenshotsFile,_0x31ad37,_0x2d159d(0x11b)+_0x31ad37);}}document[a0_0xb0106(0x121)]('DOMContentLoaded',function(){const _0x36a1ad=a0_0xb0106;upLoadFile[_0x36a1ad(0x121)](_0x36a1ad(0xf8),function(){const _0x2eaa3c=_0x36a1ad;a0_0x306731[_0x2eaa3c(0xea)](upLoadFile);}),openLocalStorage[_0x36a1ad(0x121)](_0x36a1ad(0x10e),function(){const _0x157de3=_0x36a1ad,_0x310df3=localStorage[_0x157de3(0xe5)]('uId');storage[_0x157de3(0x106)][_0x157de3(0x103)](_0x157de3(0xe3)),intro[_0x157de3(0x106)][_0x157de3(0x110)](_0x157de3(0xe3)),ingame[_0x157de3(0x106)][_0x157de3(0x110)](_0x157de3(0xe3)),_0x310df3===null||_0x310df3===''?(dropboxRestore['classList'][_0x157de3(0x103)](_0x157de3(0x104)),dropboxBackup[_0x157de3(0x106)][_0x157de3(0x103)](_0x157de3(0x104)),dropboxCloud['classList'][_0x157de3(0x103)]('active')):(dropboxRestore['classList'][_0x157de3(0x110)](_0x157de3(0x104)),dropboxBackup[_0x157de3(0x106)][_0x157de3(0x110)](_0x157de3(0x104)),dropboxCloud[_0x157de3(0x106)][_0x157de3(0x110)](_0x157de3(0x104)));}),setTimeout(()=>{localStorageFile();},0xbb8);});