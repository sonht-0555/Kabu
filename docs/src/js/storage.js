const a0_0x389e48=a0_0x34cf;function a0_0x1583(){const _0x3e3a98=['getElementById','mgba-storage','rom','_imageState','disable','savesFile','replace','addEventListener','rename','deleteFile','abs','createElement','_dateState','home','listState','/data/states/','120rQWmrF','onclick','GiB','6228840INBBPF','16QRQDWZ','firstChild','gap-10','flex-1','storage','/data/screenshots/','download','click','add','6MeukwZ','classList','68378YBdveH','PiB','slice','MiB','screenshotsFile','lastChild','/data/cheats/','actionDiv','div','editFile','304jBvzUB','right','listScreenshot','span','fileSize','confirm','onclose','statesFile','showModal','remove','433411ZzUbEE','textContent','Edit\x20filename','KiB','dialog','active','close','9509059TvQRcS','/data/games/','rom-item','change','appendChild','.gba','downloadFile','opacity0','removeItem','gap-16','delete','10152615slifHg','EiB','romsFile','12LmIOpu','1203485mYSFDw','25614rkgZlQ'];a0_0x1583=function(){return _0x3e3a98;};return a0_0x1583();}(function(_0x58fc3a,_0x5d930c){const _0x2360bb=a0_0x34cf,_0x2c2853=_0x58fc3a();while(!![]){try{const _0xb79c5e=-parseInt(_0x2360bb(0x14b))/0x1+parseInt(_0x2360bb(0x137))/0x2*(parseInt(_0x2360bb(0x128))/0x3)+-parseInt(_0x2360bb(0x12c))/0x4*(parseInt(_0x2360bb(0x161))/0x5)+-parseInt(_0x2360bb(0x135))/0x6*(-parseInt(_0x2360bb(0x152))/0x7)+-parseInt(_0x2360bb(0x141))/0x8*(parseInt(_0x2360bb(0x162))/0x9)+parseInt(_0x2360bb(0x12b))/0xa+-parseInt(_0x2360bb(0x15d))/0xb*(parseInt(_0x2360bb(0x160))/0xc);if(_0xb79c5e===_0x5d930c)break;else _0x2c2853['push'](_0x2c2853['shift']());}catch(_0x43192b){_0x2c2853['push'](_0x2c2853['shift']());}}}(a0_0x1583,0xe0fe1));import*as a0_0x585928 from'./main.js';const mgbaStorage=document[a0_0x389e48(0x118)](a0_0x389e48(0x119)),savesFile=document[a0_0x389e48(0x118)](a0_0x389e48(0x11d)),romsFile=document['getElementById'](a0_0x389e48(0x15f)),statesFile=document[a0_0x389e48(0x118)](a0_0x389e48(0x148)),screenshotsFile=document[a0_0x389e48(0x118)](a0_0x389e48(0x13b));function humanFileSize(_0x447930,_0x18e907=![],_0x556f8f=0x1){const _0x17b040=a0_0x389e48,_0xf3b010=_0x18e907?0x3e8:0x400,_0x30c278=_0x18e907?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x17b040(0x14e),_0x17b040(0x13a),_0x17b040(0x12a),'TiB',_0x17b040(0x138),_0x17b040(0x15e),'ZiB','YiB'];let _0x3d5c95=-0x1;do{_0x447930/=_0xf3b010,++_0x3d5c95;}while(Math[_0x17b040(0x122)](_0x447930)>=_0xf3b010&&_0x3d5c95<_0x30c278['length']-0x1);return _0x447930['toFixed'](_0x556f8f)+'\x20'+_0x30c278[_0x3d5c95];}function createElementStorage(_0x519bf3,_0x213e86,_0x2e0ed2){const _0x25be37=a0_0x389e48,_0x5b6522=document[_0x25be37(0x123)](_0x25be37(0x13f));_0x5b6522[_0x25be37(0x136)]['add'](_0x25be37(0x12f),_0x25be37(0x154),_0x25be37(0x11a)),_0x519bf3['appendChild'](_0x5b6522);const _0x3bc3ec=document[_0x25be37(0x123)]('span');_0x3bc3ec[_0x25be37(0x14c)]=_0x213e86,_0x3bc3ec[_0x25be37(0x136)][_0x25be37(0x134)](_0x25be37(0x12f)),_0x5b6522[_0x25be37(0x156)](_0x3bc3ec),_0x3bc3ec[_0x25be37(0x129)]=()=>{const _0x2c28ab=_0x25be37,_0x2bb76d=document['createElement'](_0x2c28ab(0x14f));_0x2bb76d[_0x2c28ab(0x147)]=()=>_0x2bb76d['remove'](),_0x519bf3[_0x2c28ab(0x156)](_0x2bb76d);const _0x498281=document[_0x2c28ab(0x123)](_0x2c28ab(0x13f));_0x498281['classList']['add'](_0x2c28ab(0x130),_0x2c28ab(0x142),_0x2c28ab(0x12e)),_0x2bb76d[_0x2c28ab(0x156)](_0x498281);const _0x2e1e18=document[_0x2c28ab(0x123)](_0x2c28ab(0x13f));_0x2e1e18[_0x2c28ab(0x136)]['add'](_0x2c28ab(0x125),'bc',_0x2c28ab(0x12f)),_0x498281[_0x2c28ab(0x156)](_0x2e1e18);const _0x256e88=document[_0x2c28ab(0x123)](_0x2c28ab(0x13f));_0x256e88[_0x2c28ab(0x136)][_0x2c28ab(0x134)]('flex-1'),_0x498281[_0x2c28ab(0x156)](_0x256e88);const _0x5b6ec9=document[_0x2c28ab(0x123)](_0x2c28ab(0x13f));_0x5b6ec9[_0x2c28ab(0x136)]['add'](_0x2c28ab(0x12f)),_0x498281[_0x2c28ab(0x156)](_0x5b6ec9);const _0x53252a=document[_0x2c28ab(0x123)](_0x2c28ab(0x13f));_0x53252a[_0x2c28ab(0x136)][_0x2c28ab(0x134)](_0x2c28ab(0x12f)),_0x498281[_0x2c28ab(0x156)](_0x53252a),mgbaStorage[_0x2c28ab(0x136)]['add'](_0x2c28ab(0x159)),_0x2e1e18[_0x2c28ab(0x129)]=()=>{const _0x277f2d=_0x2c28ab;_0x2bb76d['close'](),_0x2bb76d[_0x277f2d(0x14a)](),mgbaStorage[_0x277f2d(0x136)][_0x277f2d(0x14a)](_0x277f2d(0x159));};const _0x49bfaa=document[_0x2c28ab(0x123)](_0x2c28ab(0x13f));_0x49bfaa['classList'][_0x2c28ab(0x134)](_0x2c28ab(0x12f),_0x2c28ab(0x154),'hw','cw'),_0x49bfaa['textContent']=_0x213e86,_0x2bb76d[_0x2c28ab(0x156)](_0x49bfaa);const _0x4fb0da=document[_0x2c28ab(0x123)](_0x2c28ab(0x13f));_0x4fb0da[_0x2c28ab(0x136)][_0x2c28ab(0x134)](_0x2c28ab(0x13e),'hw','cw',_0x2c28ab(0x15b)),_0x2bb76d[_0x2c28ab(0x156)](_0x4fb0da);const _0x5b7734=document['createElement'](_0x2c28ab(0x13f));_0x5b7734[_0x2c28ab(0x136)][_0x2c28ab(0x134)](_0x2c28ab(0x132),'bc'),_0x4fb0da[_0x2c28ab(0x156)](_0x5b7734),_0x5b7734[_0x2c28ab(0x129)]=()=>{const _0x1e2309=_0x2c28ab;a0_0x585928[_0x1e2309(0x158)](_0x2e0ed2,_0x213e86);};const _0x4255f3=document['createElement'](_0x2c28ab(0x13f));_0x4255f3[_0x2c28ab(0x136)][_0x2c28ab(0x134)](_0x2c28ab(0x15c),'bc'),_0x4fb0da[_0x2c28ab(0x156)](_0x4255f3),_0x4255f3[_0x2c28ab(0x129)]=async()=>{const _0x118052=_0x2c28ab;if(window[_0x118052(0x146)]('Delete\x20this\x20file?'+_0x213e86)){const _0xf0bff0=_0x213e86[_0x118052(0x11e)](/\....$/,_0x118052(0x157));a0_0x585928[_0x118052(0x121)](_0x2e0ed2),localStorage[_0x118052(0x15a)](_0xf0bff0+_0x118052(0x124)+_0x213e86[_0x118052(0x139)](-0x1)),localStorage['removeItem'](_0xf0bff0+_0x118052(0x11b)+_0x213e86[_0x118052(0x139)](-0x1)),localStorageFile(),_0x2bb76d[_0x118052(0x151)](),_0x2bb76d[_0x118052(0x14a)](),mgbaStorage[_0x118052(0x136)][_0x118052(0x14a)](_0x118052(0x159));}};const _0x71f053=document['createElement'](_0x2c28ab(0x13f));_0x71f053[_0x2c28ab(0x136)][_0x2c28ab(0x134)](_0x2c28ab(0x120),'bc'),_0x4fb0da[_0x2c28ab(0x156)](_0x71f053),_0x71f053[_0x2c28ab(0x129)]=async()=>{const _0x416378=_0x2c28ab,_0x32c87a=window['prompt'](_0x416378(0x14d),_0x213e86);_0x32c87a!==null&&(a0_0x585928[_0x416378(0x140)](_0x2e0ed2,_0x213e86,_0x32c87a),localStorageFile(),_0x2bb76d['close'](),_0x2bb76d[_0x416378(0x14a)](),mgbaStorage[_0x416378(0x136)][_0x416378(0x14a)]('opacity0'));},_0x2bb76d[_0x2c28ab(0x149)]();};const _0x251e10=document[_0x25be37(0x123)](_0x25be37(0x144));_0x251e10['textContent']=humanFileSize(a0_0x585928[_0x25be37(0x145)](_0x2e0ed2)),_0x251e10[_0x25be37(0x136)][_0x25be37(0x134)]('mib'),_0x5b6522[_0x25be37(0x156)](_0x251e10);}export function localStorageFile(){const _0x207d8c=a0_0x389e48,_0x3c497b=a0_0x585928['listGame'](),_0x5d494c=a0_0x585928['listSave'](),_0x2b9b68=a0_0x585928[_0x207d8c(0x126)](),_0x20843a=a0_0x585928['listCheat'](),_0x2f0942=a0_0x585928[_0x207d8c(0x143)](),_0x54db77=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x221185 of _0x54db77){while(_0x221185[_0x207d8c(0x12d)]){_0x221185[_0x207d8c(0x13c)]['remove']();}}for(const _0x120f28 of _0x3c497b){createElementStorage(romsFile,_0x120f28,_0x207d8c(0x153)+_0x120f28);}for(const _0x2302f8 of _0x2b9b68){createElementStorage(statesFile,_0x2302f8,_0x207d8c(0x127)+_0x2302f8);}for(const _0x540c20 of _0x5d494c){createElementStorage(savesFile,_0x540c20,'/data/saves/'+_0x540c20);}for(const _0x39d43f of _0x20843a){createElementStorage(cheatsFile,_0x39d43f,_0x207d8c(0x13d)+_0x39d43f);}for(const _0x295a10 of _0x2f0942){createElementStorage(screenshotsFile,_0x295a10,_0x207d8c(0x131)+_0x295a10);}}function a0_0x34cf(_0x52d3f6,_0x444f29){const _0x1583d3=a0_0x1583();return a0_0x34cf=function(_0x34cf88,_0x4ce0ce){_0x34cf88=_0x34cf88-0x118;let _0x3903b7=_0x1583d3[_0x34cf88];return _0x3903b7;},a0_0x34cf(_0x52d3f6,_0x444f29);}document[a0_0x389e48(0x11f)]('DOMContentLoaded',function(){const _0x5c01f6=a0_0x389e48;upLoadFile[_0x5c01f6(0x11f)](_0x5c01f6(0x155),function(){a0_0x585928['uploadFile'](upLoadFile);}),openLocalStorage[_0x5c01f6(0x11f)](_0x5c01f6(0x133),function(){const _0x2db6eb=_0x5c01f6,_0x3a518f=localStorage['getItem']('uId');storage[_0x2db6eb(0x136)][_0x2db6eb(0x14a)](_0x2db6eb(0x11c)),intro[_0x2db6eb(0x136)][_0x2db6eb(0x134)]('disable'),ingame['classList'][_0x2db6eb(0x134)]('disable'),_0x3a518f===null||_0x3a518f===''?(dropboxRestore['classList'][_0x2db6eb(0x14a)](_0x2db6eb(0x150)),dropboxBackup[_0x2db6eb(0x136)]['remove'](_0x2db6eb(0x150)),dropboxCloud[_0x2db6eb(0x136)][_0x2db6eb(0x14a)]('active')):(dropboxRestore[_0x2db6eb(0x136)][_0x2db6eb(0x134)](_0x2db6eb(0x150)),dropboxBackup['classList'][_0x2db6eb(0x134)]('active'),dropboxCloud[_0x2db6eb(0x136)][_0x2db6eb(0x134)](_0x2db6eb(0x150)));}),setTimeout(()=>{localStorageFile();},0xbb8);});