function a0_0x3957(){const _0x250b91=['downloadFile','getItem','deleteFile','listState','createElement','endsWith','/data/saves/','437342IvpJGh','listCheat','actionDiv','active','lastChild','prompt','remove','TiB','9NtPsHa','rom','/data/games/','toFixed','/data/states/','appendChild','opacity0','storage','dialog','span','addEventListener','6480410mUEQNT','12JKUAEz','removeItem','listGame','_dateState','GiB','mgba-storage','MiB','rename','EiB','mib','1805154zBYIsW','delete','classList','.cheats','add','DOMContentLoaded','5YYgpSh','gap-16','savesFile','4937772cSdIRc','PiB','name','setItem','ZiB','home','322756CHgFXc','length','screenshotsFile','getElementById','flex-1','KiB','onclick','slice','uploadSavSta','confirm','listScreenshot','listSave','.gba','close','download','statesFile','Delete\x20this\x20file?','files','1180044HWjXBx','5249480HELWRP','.gbc','uploadCheat','/data/screenshots/','div','gap-10','_imageState','showModal','textContent','YiB','replace','change'];a0_0x3957=function(){return _0x250b91;};return a0_0x3957();}function a0_0x1f3a(_0x332d56,_0x2ea8b7){const _0x39570d=a0_0x3957();return a0_0x1f3a=function(_0x1f3a90,_0x1056c9){_0x1f3a90=_0x1f3a90-0x1c5;let _0x5df4b6=_0x39570d[_0x1f3a90];return _0x5df4b6;},a0_0x1f3a(_0x332d56,_0x2ea8b7);}const a0_0x535083=a0_0x1f3a;(function(_0x28ea6e,_0x514bb1){const _0x3e2af9=a0_0x1f3a,_0x166e19=_0x28ea6e();while(!![]){try{const _0xd6645e=-parseInt(_0x3e2af9(0x1cb))/0x1+-parseInt(_0x3e2af9(0x20a))/0x2+parseInt(_0x3e2af9(0x1df))/0x3*(-parseInt(_0x3e2af9(0x1f8))/0x4)+parseInt(_0x3e2af9(0x1ef))/0x5*(-parseInt(_0x3e2af9(0x1e9))/0x6)+parseInt(_0x3e2af9(0x1f2))/0x7+parseInt(_0x3e2af9(0x20b))/0x8+parseInt(_0x3e2af9(0x1d3))/0x9*(parseInt(_0x3e2af9(0x1de))/0xa);if(_0xd6645e===_0x514bb1)break;else _0x166e19['push'](_0x166e19['shift']());}catch(_0x473364){_0x166e19['push'](_0x166e19['shift']());}}}(a0_0x3957,0x578f3));import*as a0_0x26f9da from'./main.js';const mgbaStorage=document[a0_0x535083(0x1fb)](a0_0x535083(0x1e4)),savesFile=document[a0_0x535083(0x1fb)](a0_0x535083(0x1f1)),romsFile=document[a0_0x535083(0x1fb)]('romsFile'),statesFile=document[a0_0x535083(0x1fb)](a0_0x535083(0x207)),screenshotsFile=document[a0_0x535083(0x1fb)](a0_0x535083(0x1fa));function humanFileSize(_0x298409,_0x257739=![],_0xf3baa4=0x1){const _0x1c8f1a=a0_0x535083,_0x3aa515=_0x257739?0x3e8:0x400,_0x35504f=_0x257739?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1c8f1a(0x1fd),_0x1c8f1a(0x1e5),_0x1c8f1a(0x1e3),_0x1c8f1a(0x1d2),_0x1c8f1a(0x1f3),_0x1c8f1a(0x1e7),_0x1c8f1a(0x1f6),_0x1c8f1a(0x214)];let _0xf5e394=-0x1;do{_0x298409/=_0x3aa515,++_0xf5e394;}while(Math['abs'](_0x298409)>=_0x3aa515&&_0xf5e394<_0x35504f[_0x1c8f1a(0x1f9)]-0x1);return _0x298409[_0x1c8f1a(0x1d6)](_0xf3baa4)+'\x20'+_0x35504f[_0xf5e394];}function createElementStorage(_0xafc1ec,_0x348b63,_0x2a7c87){const _0x3332be=a0_0x535083,_0x3668e5=document['createElement']('div');_0x3668e5[_0x3332be(0x1eb)]['add']('flex-1','rom-item',_0x3332be(0x1d4)),_0xafc1ec[_0x3332be(0x1d8)](_0x3668e5);const _0x45112b=document[_0x3332be(0x1c8)](_0x3332be(0x1dc));_0x45112b[_0x3332be(0x213)]=_0x348b63,_0x45112b[_0x3332be(0x1eb)][_0x3332be(0x1ed)]('flex-1'),_0x3668e5[_0x3332be(0x1d8)](_0x45112b),_0x45112b[_0x3332be(0x1fe)]=()=>{const _0x37d3e5=_0x3332be,_0x200fd2=document[_0x37d3e5(0x1c8)](_0x37d3e5(0x1db));_0x200fd2['onclose']=()=>_0x200fd2[_0x37d3e5(0x1d1)](),_0xafc1ec['appendChild'](_0x200fd2);const _0x2afefa=document[_0x37d3e5(0x1c8)](_0x37d3e5(0x20f));_0x2afefa['classList'][_0x37d3e5(0x1ed)](_0x37d3e5(0x1da),'right',_0x37d3e5(0x210)),_0x200fd2[_0x37d3e5(0x1d8)](_0x2afefa);const _0x4a5e70=document[_0x37d3e5(0x1c8)]('div');_0x4a5e70['classList'][_0x37d3e5(0x1ed)](_0x37d3e5(0x1f7),'bc',_0x37d3e5(0x1fc)),_0x2afefa[_0x37d3e5(0x1d8)](_0x4a5e70);const _0x16f016=document[_0x37d3e5(0x1c8)](_0x37d3e5(0x20f));_0x16f016[_0x37d3e5(0x1eb)]['add'](_0x37d3e5(0x1fc)),_0x2afefa[_0x37d3e5(0x1d8)](_0x16f016);const _0x317fd2=document[_0x37d3e5(0x1c8)](_0x37d3e5(0x20f));_0x317fd2['classList'][_0x37d3e5(0x1ed)](_0x37d3e5(0x1fc)),_0x2afefa[_0x37d3e5(0x1d8)](_0x317fd2);const _0x1dd406=document[_0x37d3e5(0x1c8)](_0x37d3e5(0x20f));_0x1dd406['classList'][_0x37d3e5(0x1ed)](_0x37d3e5(0x1fc)),_0x2afefa['appendChild'](_0x1dd406),mgbaStorage[_0x37d3e5(0x1eb)]['add'](_0x37d3e5(0x1d9)),_0x4a5e70[_0x37d3e5(0x1fe)]=()=>{const _0x2249c4=_0x37d3e5;_0x200fd2['close'](),_0x200fd2[_0x2249c4(0x1d1)](),mgbaStorage[_0x2249c4(0x1eb)][_0x2249c4(0x1d1)](_0x2249c4(0x1d9));};const _0x38a80c=document[_0x37d3e5(0x1c8)](_0x37d3e5(0x20f));_0x38a80c['classList'][_0x37d3e5(0x1ed)](_0x37d3e5(0x1fc),'rom-item','hw','cw'),_0x38a80c[_0x37d3e5(0x213)]=_0x348b63,_0x200fd2['appendChild'](_0x38a80c);const _0x1652d6=document[_0x37d3e5(0x1c8)](_0x37d3e5(0x20f));_0x1652d6[_0x37d3e5(0x1eb)][_0x37d3e5(0x1ed)](_0x37d3e5(0x1cd),'hw','cw',_0x37d3e5(0x1f0)),_0x200fd2[_0x37d3e5(0x1d8)](_0x1652d6);const _0x5d9ea9=document[_0x37d3e5(0x1c8)]('div');_0x5d9ea9[_0x37d3e5(0x1eb)][_0x37d3e5(0x1ed)](_0x37d3e5(0x206),'bc'),_0x1652d6['appendChild'](_0x5d9ea9),_0x5d9ea9[_0x37d3e5(0x1fe)]=()=>{const _0x1597f5=_0x37d3e5;a0_0x26f9da[_0x1597f5(0x217)](_0x2a7c87,_0x348b63);};const _0x3c2163=document[_0x37d3e5(0x1c8)](_0x37d3e5(0x20f));_0x3c2163['classList']['add'](_0x37d3e5(0x1ea),'bc'),_0x1652d6[_0x37d3e5(0x1d8)](_0x3c2163),_0x3c2163[_0x37d3e5(0x1fe)]=async()=>{const _0x25ddb4=_0x37d3e5;if(window[_0x25ddb4(0x201)](_0x25ddb4(0x208)+_0x348b63)){const _0x26339a=_0x348b63[_0x25ddb4(0x215)](/\....$/,_0x25ddb4(0x204));a0_0x26f9da[_0x25ddb4(0x1c6)](_0x2a7c87),localStorage[_0x25ddb4(0x1e0)](_0x26339a+_0x25ddb4(0x1e2)+_0x348b63['slice'](-0x1)),localStorage[_0x25ddb4(0x1e0)](_0x26339a+'_imageState'+_0x348b63[_0x25ddb4(0x1ff)](-0x1)),localStorageFile(),_0x200fd2['close'](),_0x200fd2[_0x25ddb4(0x1d1)](),mgbaStorage[_0x25ddb4(0x1eb)][_0x25ddb4(0x1d1)](_0x25ddb4(0x1d9));}};const _0x133a27=document[_0x37d3e5(0x1c8)]('div');_0x133a27['classList']['add'](_0x37d3e5(0x1e6),'bc'),_0x1652d6[_0x37d3e5(0x1d8)](_0x133a27),_0x133a27[_0x37d3e5(0x1fe)]=async()=>{const _0x18eb95=_0x37d3e5,_0x1b3e7c=window[_0x18eb95(0x1d0)]('Edit\x20filename',_0x348b63);if(_0x1b3e7c!==null){const _0x141ec0=_0x348b63['replace'](/\....$/,'.gba'),_0x4652f8=_0x1b3e7c[_0x18eb95(0x215)](/\....$/,_0x18eb95(0x204)),_0x10f268=_0x141ec0+_0x18eb95(0x1e2)+_0x348b63[_0x18eb95(0x1ff)](-0x1),_0x36a3cb=_0x141ec0+'_imageState'+_0x348b63[_0x18eb95(0x1ff)](-0x1),_0x9c42df=_0x4652f8+_0x18eb95(0x1e2)+_0x1b3e7c['slice'](-0x1),_0x355ecd=_0x4652f8+_0x18eb95(0x211)+_0x1b3e7c[_0x18eb95(0x1ff)](-0x1),_0xaa3291=localStorage[_0x18eb95(0x1c5)](_0x10f268),_0x5a3332=localStorage[_0x18eb95(0x1c5)](_0x36a3cb);_0xaa3291!==null&&(localStorage[_0x18eb95(0x1f5)](_0x9c42df,_0xaa3291),localStorage[_0x18eb95(0x1e0)](_0x10f268)),_0x5a3332!==null&&(localStorage['setItem'](_0x355ecd,_0x5a3332),localStorage['removeItem'](_0x36a3cb)),a0_0x26f9da['editFile'](_0x2a7c87,_0x348b63,_0x1b3e7c),localStorageFile(),_0x200fd2[_0x18eb95(0x205)](),_0x200fd2['remove'](),mgbaStorage[_0x18eb95(0x1eb)][_0x18eb95(0x1d1)](_0x18eb95(0x1d9));}},_0x200fd2[_0x37d3e5(0x212)]();};const _0x198a9c=document[_0x3332be(0x1c8)](_0x3332be(0x1dc));_0x198a9c['textContent']=humanFileSize(a0_0x26f9da['fileSize'](_0x2a7c87)),_0x198a9c['classList'][_0x3332be(0x1ed)](_0x3332be(0x1e8)),_0x3668e5[_0x3332be(0x1d8)](_0x198a9c);}export function localStorageFile(){const _0x5dba30=a0_0x535083,_0x464dcf=a0_0x26f9da[_0x5dba30(0x1e1)](),_0x4deeca=a0_0x26f9da[_0x5dba30(0x203)](),_0x9db4a0=a0_0x26f9da[_0x5dba30(0x1c7)](),_0x33584b=a0_0x26f9da[_0x5dba30(0x1cc)](),_0x498b87=a0_0x26f9da[_0x5dba30(0x202)](),_0x3ede65=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x210b49 of _0x3ede65){while(_0x210b49['firstChild']){_0x210b49[_0x5dba30(0x1cf)][_0x5dba30(0x1d1)]();}}for(const _0x72bf5 of _0x464dcf){createElementStorage(romsFile,_0x72bf5,_0x5dba30(0x1d5)+_0x72bf5);}for(const _0x4047d5 of _0x9db4a0){createElementStorage(statesFile,_0x4047d5,_0x5dba30(0x1d7)+_0x4047d5);}for(const _0x5bc191 of _0x4deeca){createElementStorage(savesFile,_0x5bc191,_0x5dba30(0x1ca)+_0x5bc191);}for(const _0x2595ff of _0x33584b){createElementStorage(cheatsFile,_0x2595ff,'/data/cheats/'+_0x2595ff);}for(const _0x5bd423 of _0x498b87){createElementStorage(screenshotsFile,_0x5bd423,_0x5dba30(0x20e)+_0x5bd423);}}document[a0_0x535083(0x1dd)](a0_0x535083(0x1ee),function(){const _0x55387f=a0_0x535083;upLoadFile[_0x55387f(0x1dd)](_0x55387f(0x216),function(){const _0x53faf0=_0x55387f,_0x594e84=upLoadFile[_0x53faf0(0x209)][0x0][_0x53faf0(0x1f4)];if(_0x594e84[_0x53faf0(0x1c9)](_0x53faf0(0x1ec)))a0_0x26f9da[_0x53faf0(0x20d)](upLoadFile);else _0x594e84[_0x53faf0(0x1c9)](_0x53faf0(0x204))||_0x594e84[_0x53faf0(0x1c9)](_0x53faf0(0x20c))||_0x594e84['endsWith']('.bc')?a0_0x26f9da['uploadGame'](upLoadFile):a0_0x26f9da[_0x53faf0(0x200)](upLoadFile);}),openLocalStorage['addEventListener']('click',function(){const _0x25bf1e=_0x55387f,_0x48bf86=localStorage[_0x25bf1e(0x1c5)]('uId');storage[_0x25bf1e(0x1eb)]['remove']('disable'),intro[_0x25bf1e(0x1eb)][_0x25bf1e(0x1ed)]('disable'),ingame[_0x25bf1e(0x1eb)][_0x25bf1e(0x1ed)]('disable'),_0x48bf86===null||_0x48bf86===''?(dropboxRestore['classList']['remove']('active'),dropboxBackup[_0x25bf1e(0x1eb)][_0x25bf1e(0x1d1)](_0x25bf1e(0x1ce)),dropboxCloud[_0x25bf1e(0x1eb)][_0x25bf1e(0x1d1)](_0x25bf1e(0x1ce))):(dropboxRestore[_0x25bf1e(0x1eb)][_0x25bf1e(0x1ed)](_0x25bf1e(0x1ce)),dropboxBackup['classList'][_0x25bf1e(0x1ed)](_0x25bf1e(0x1ce)),dropboxCloud[_0x25bf1e(0x1eb)][_0x25bf1e(0x1ed)](_0x25bf1e(0x1ce)));}),setTimeout(()=>{localStorageFile();},0xbb8);});