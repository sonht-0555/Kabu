const a0_0x1dda49=a0_0x1b61;(function(_0x3ed33b,_0x18ddf3){const _0x5d2092=a0_0x1b61,_0x52af2e=_0x3ed33b();while(!![]){try{const _0x379a06=-parseInt(_0x5d2092(0x1a4))/0x1+-parseInt(_0x5d2092(0x1b6))/0x2+-parseInt(_0x5d2092(0x18a))/0x3+-parseInt(_0x5d2092(0x1c5))/0x4*(parseInt(_0x5d2092(0x1ab))/0x5)+-parseInt(_0x5d2092(0x1be))/0x6*(parseInt(_0x5d2092(0x1a5))/0x7)+parseInt(_0x5d2092(0x1a3))/0x8+parseInt(_0x5d2092(0x1bb))/0x9;if(_0x379a06===_0x18ddf3)break;else _0x52af2e['push'](_0x52af2e['shift']());}catch(_0x1e6bc2){_0x52af2e['push'](_0x52af2e['shift']());}}}(a0_0x2453,0x50f78));function a0_0x2453(){const _0x27d3ec=['listScreenshot','length','PiB','DOMContentLoaded','replace','savesFile','Delete\x20this\x20file?','delete','getItem','textContent','close','4284696eyetAT','258404tevjfx','7231tOzZTx','/data/saves/','_dateState','removeItem','flex-1','YiB','118310fYqQEL','slice','span','home','MiB','.cheats','name','abs','actionDiv','_imageState','/data/screenshots/','1145472IYWEQu','appendChild','ZiB','endsWith','rename','14225346nyRpHR','click','romsFile','1062pwzRyG','listGame','mgba-storage','fileSize','active','/data/cheats/','GiB','44dwRyQw','uploadCheat','getElementById','uId','disable','createElement','uploadSavSta','listState','div','dialog','.gba','downloadFile','lastChild','Edit\x20filename','editFile','mib','1530834NZNckn','listCheat','/data/games/','addEventListener','confirm','add','classList','opacity0','onclick','remove','gap-10','showModal','listSave','EiB'];a0_0x2453=function(){return _0x27d3ec;};return a0_0x2453();}import*as a0_0x22610f from'./main.js';const mgbaStorage=document[a0_0x1dda49(0x1c7)](a0_0x1dda49(0x1c0)),savesFile=document[a0_0x1dda49(0x1c7)](a0_0x1dda49(0x19d)),romsFile=document['getElementById'](a0_0x1dda49(0x1bd)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document[a0_0x1dda49(0x1c7)]('screenshotsFile');function a0_0x1b61(_0x110fff,_0x345d37){const _0x2453e5=a0_0x2453();return a0_0x1b61=function(_0x1b6144,_0x1ac35a){_0x1b6144=_0x1b6144-0x183;let _0x254f71=_0x2453e5[_0x1b6144];return _0x254f71;},a0_0x1b61(_0x110fff,_0x345d37);}function humanFileSize(_0x8b39e0,_0x583920=![],_0x5c486f=0x1){const _0x8d3658=a0_0x1dda49,_0x385de6=_0x583920?0x3e8:0x400,_0x1921c2=_0x583920?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x8d3658(0x1af),_0x8d3658(0x1c4),'TiB',_0x8d3658(0x19a),_0x8d3658(0x197),_0x8d3658(0x1b8),_0x8d3658(0x1aa)];let _0x4ef911=-0x1;do{_0x8b39e0/=_0x385de6,++_0x4ef911;}while(Math[_0x8d3658(0x1b2)](_0x8b39e0)>=_0x385de6&&_0x4ef911<_0x1921c2[_0x8d3658(0x199)]-0x1);return _0x8b39e0['toFixed'](_0x5c486f)+'\x20'+_0x1921c2[_0x4ef911];}function createElementStorage(_0x48504b,_0x7b5fe7,_0x53b11c){const _0x16ebc0=a0_0x1dda49,_0x131239=document[_0x16ebc0(0x1ca)](_0x16ebc0(0x1cd));_0x131239['classList']['add']('flex-1','rom-item','rom'),_0x48504b[_0x16ebc0(0x1b7)](_0x131239);const _0xb04b39=document['createElement'](_0x16ebc0(0x1ad));_0xb04b39['textContent']=_0x7b5fe7,_0xb04b39['classList'][_0x16ebc0(0x18f)]('flex-1'),_0x131239[_0x16ebc0(0x1b7)](_0xb04b39),_0xb04b39[_0x16ebc0(0x192)]=()=>{const _0x2cc737=_0x16ebc0,_0x34db5d=document['createElement'](_0x2cc737(0x183));_0x34db5d['onclose']=()=>_0x34db5d[_0x2cc737(0x193)](),_0x48504b['appendChild'](_0x34db5d);const _0x5e3deb=document[_0x2cc737(0x1ca)](_0x2cc737(0x1cd));_0x5e3deb[_0x2cc737(0x190)][_0x2cc737(0x18f)]('storage','right',_0x2cc737(0x194)),_0x34db5d[_0x2cc737(0x1b7)](_0x5e3deb);const _0x20313c=document[_0x2cc737(0x1ca)]('div');_0x20313c[_0x2cc737(0x190)]['add'](_0x2cc737(0x1ae),'bc','flex-1'),_0x5e3deb['appendChild'](_0x20313c);const _0x195d60=document['createElement'](_0x2cc737(0x1cd));_0x195d60['classList'][_0x2cc737(0x18f)](_0x2cc737(0x1a9)),_0x5e3deb[_0x2cc737(0x1b7)](_0x195d60);const _0x1aa6b6=document['createElement']('div');_0x1aa6b6[_0x2cc737(0x190)][_0x2cc737(0x18f)](_0x2cc737(0x1a9)),_0x5e3deb[_0x2cc737(0x1b7)](_0x1aa6b6);const _0x5dfc02=document['createElement'](_0x2cc737(0x1cd));_0x5dfc02['classList'][_0x2cc737(0x18f)](_0x2cc737(0x1a9)),_0x5e3deb[_0x2cc737(0x1b7)](_0x5dfc02),mgbaStorage['classList'][_0x2cc737(0x18f)](_0x2cc737(0x191)),_0x20313c[_0x2cc737(0x192)]=()=>{const _0xb59dcb=_0x2cc737;_0x34db5d['close'](),_0x34db5d[_0xb59dcb(0x193)](),mgbaStorage[_0xb59dcb(0x190)][_0xb59dcb(0x193)](_0xb59dcb(0x191));};const _0x4e67af=document[_0x2cc737(0x1ca)](_0x2cc737(0x1cd));_0x4e67af[_0x2cc737(0x190)][_0x2cc737(0x18f)](_0x2cc737(0x1a9),'rom-item','hw','cw'),_0x4e67af[_0x2cc737(0x1a1)]=_0x7b5fe7,_0x34db5d['appendChild'](_0x4e67af);const _0x3b4633=document[_0x2cc737(0x1ca)](_0x2cc737(0x1cd));_0x3b4633[_0x2cc737(0x190)]['add'](_0x2cc737(0x1b3),'hw','cw','gap-16'),_0x34db5d[_0x2cc737(0x1b7)](_0x3b4633);const _0x480870=document[_0x2cc737(0x1ca)](_0x2cc737(0x1cd));_0x480870[_0x2cc737(0x190)][_0x2cc737(0x18f)]('download','bc'),_0x3b4633[_0x2cc737(0x1b7)](_0x480870),_0x480870[_0x2cc737(0x192)]=()=>{const _0x293854=_0x2cc737;a0_0x22610f[_0x293854(0x185)](_0x53b11c,_0x7b5fe7);};const _0x11b31b=document[_0x2cc737(0x1ca)]('div');_0x11b31b[_0x2cc737(0x190)][_0x2cc737(0x18f)](_0x2cc737(0x19f),'bc'),_0x3b4633[_0x2cc737(0x1b7)](_0x11b31b),_0x11b31b[_0x2cc737(0x192)]=async()=>{const _0x23ea3a=_0x2cc737;if(window[_0x23ea3a(0x18e)](_0x23ea3a(0x19e)+_0x7b5fe7)){const _0x584123=_0x7b5fe7['replace'](/\....$/,'.gba');a0_0x22610f['deleteFile'](_0x53b11c),localStorage[_0x23ea3a(0x1a8)](_0x584123+_0x23ea3a(0x1a7)+_0x7b5fe7[_0x23ea3a(0x1ac)](-0x1)),localStorage['removeItem'](_0x584123+_0x23ea3a(0x1b4)+_0x7b5fe7[_0x23ea3a(0x1ac)](-0x1)),localStorageFile(),_0x34db5d[_0x23ea3a(0x1a2)](),_0x34db5d[_0x23ea3a(0x193)](),mgbaStorage['classList'][_0x23ea3a(0x193)](_0x23ea3a(0x191));}};const _0x20a2e9=document[_0x2cc737(0x1ca)](_0x2cc737(0x1cd));_0x20a2e9[_0x2cc737(0x190)][_0x2cc737(0x18f)](_0x2cc737(0x1ba),'bc'),_0x3b4633[_0x2cc737(0x1b7)](_0x20a2e9),_0x20a2e9[_0x2cc737(0x192)]=async()=>{const _0x290210=_0x2cc737,_0x17cc44=window['prompt'](_0x290210(0x187),_0x7b5fe7);if(_0x17cc44!==null){const _0x1e148f=_0x7b5fe7['replace'](/\....$/,_0x290210(0x184)),_0xea2813=_0x17cc44[_0x290210(0x19c)](/\....$/,'.gba'),_0x4b0d7a=_0x1e148f+_0x290210(0x1a7)+_0x7b5fe7[_0x290210(0x1ac)](-0x1),_0x4fe10b=_0x1e148f+_0x290210(0x1b4)+_0x7b5fe7[_0x290210(0x1ac)](-0x1),_0x25a520=_0xea2813+'_dateState'+_0x17cc44[_0x290210(0x1ac)](-0x1),_0x26288b=_0xea2813+_0x290210(0x1b4)+_0x17cc44['slice'](-0x1),_0x48c93e=localStorage[_0x290210(0x1a0)](_0x4b0d7a),_0x18c33e=localStorage[_0x290210(0x1a0)](_0x4fe10b);_0x48c93e!==null&&(localStorage['setItem'](_0x25a520,_0x48c93e),localStorage[_0x290210(0x1a8)](_0x4b0d7a)),_0x18c33e!==null&&(localStorage['setItem'](_0x26288b,_0x18c33e),localStorage['removeItem'](_0x4fe10b)),a0_0x22610f[_0x290210(0x188)](_0x53b11c,_0x7b5fe7,_0x17cc44),localStorageFile(),_0x34db5d[_0x290210(0x1a2)](),_0x34db5d[_0x290210(0x193)](),mgbaStorage[_0x290210(0x190)][_0x290210(0x193)]('opacity0');}},_0x34db5d[_0x2cc737(0x195)]();};const _0xa69acb=document['createElement'](_0x16ebc0(0x1ad));_0xa69acb[_0x16ebc0(0x1a1)]=humanFileSize(a0_0x22610f[_0x16ebc0(0x1c1)](_0x53b11c)),_0xa69acb[_0x16ebc0(0x190)][_0x16ebc0(0x18f)](_0x16ebc0(0x189)),_0x131239[_0x16ebc0(0x1b7)](_0xa69acb);}export function localStorageFile(){const _0x5a61cd=a0_0x1dda49,_0x29395c=a0_0x22610f[_0x5a61cd(0x1bf)](),_0x39e69f=a0_0x22610f[_0x5a61cd(0x196)](),_0x4a2ce9=a0_0x22610f[_0x5a61cd(0x1cc)](),_0x30082f=a0_0x22610f[_0x5a61cd(0x18b)](),_0x3e166a=a0_0x22610f[_0x5a61cd(0x198)](),_0x53ad96=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3d53ad of _0x53ad96){while(_0x3d53ad['firstChild']){_0x3d53ad[_0x5a61cd(0x186)][_0x5a61cd(0x193)]();}}for(const _0x420f63 of _0x29395c){createElementStorage(romsFile,_0x420f63,_0x5a61cd(0x18c)+_0x420f63);}for(const _0x519f1a of _0x4a2ce9){createElementStorage(statesFile,_0x519f1a,'/data/states/'+_0x519f1a);}for(const _0x28c9b7 of _0x39e69f){createElementStorage(savesFile,_0x28c9b7,_0x5a61cd(0x1a6)+_0x28c9b7);}for(const _0x4048a9 of _0x30082f){createElementStorage(cheatsFile,_0x4048a9,_0x5a61cd(0x1c3)+_0x4048a9);}for(const _0x21c048 of _0x3e166a){createElementStorage(screenshotsFile,_0x21c048,_0x5a61cd(0x1b5)+_0x21c048);}}document[a0_0x1dda49(0x18d)](a0_0x1dda49(0x19b),function(){const _0x334978=a0_0x1dda49;upLoadFile[_0x334978(0x18d)]('change',function(){const _0x2a87d7=_0x334978,_0x48e255=upLoadFile['files'][0x0][_0x2a87d7(0x1b1)];if(_0x48e255[_0x2a87d7(0x1b9)](_0x2a87d7(0x1b0)))a0_0x22610f[_0x2a87d7(0x1c6)](upLoadFile);else _0x48e255[_0x2a87d7(0x1b9)]('.gba')||_0x48e255[_0x2a87d7(0x1b9)]('.gbc')||_0x48e255[_0x2a87d7(0x1b9)]('.bc')?a0_0x22610f['uploadGame'](upLoadFile):a0_0x22610f[_0x2a87d7(0x1cb)](upLoadFile);}),openLocalStorage[_0x334978(0x18d)](_0x334978(0x1bc),function(){const _0x4aeab5=_0x334978,_0x504230=localStorage[_0x4aeab5(0x1a0)](_0x4aeab5(0x1c8));storage[_0x4aeab5(0x190)][_0x4aeab5(0x193)](_0x4aeab5(0x1c9)),intro['classList']['add'](_0x4aeab5(0x1c9)),ingame[_0x4aeab5(0x190)]['add']('disable'),_0x504230===null||_0x504230===''?(dropboxRestore[_0x4aeab5(0x190)][_0x4aeab5(0x193)]('active'),dropboxBackup[_0x4aeab5(0x190)]['remove'](_0x4aeab5(0x1c2)),dropboxCloud['classList'][_0x4aeab5(0x193)](_0x4aeab5(0x1c2))):(dropboxRestore[_0x4aeab5(0x190)]['add'](_0x4aeab5(0x1c2)),dropboxBackup[_0x4aeab5(0x190)][_0x4aeab5(0x18f)](_0x4aeab5(0x1c2)),dropboxCloud[_0x4aeab5(0x190)]['add'](_0x4aeab5(0x1c2)));}),setTimeout(()=>{localStorageFile();},0xbb8);});