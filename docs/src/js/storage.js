const a0_0x1fa823=a0_0x1705;(function(_0x22d1fd,_0x290f4b){const _0x27bc74=a0_0x1705,_0x31bbbb=_0x22d1fd();while(!![]){try{const _0x3f9c4a=-parseInt(_0x27bc74(0x1c3))/0x1*(-parseInt(_0x27bc74(0x20b))/0x2)+parseInt(_0x27bc74(0x1d9))/0x3+parseInt(_0x27bc74(0x1e5))/0x4*(-parseInt(_0x27bc74(0x1c2))/0x5)+-parseInt(_0x27bc74(0x215))/0x6+-parseInt(_0x27bc74(0x1dc))/0x7+-parseInt(_0x27bc74(0x1e8))/0x8*(parseInt(_0x27bc74(0x1e2))/0x9)+-parseInt(_0x27bc74(0x1cd))/0xa*(-parseInt(_0x27bc74(0x1ce))/0xb);if(_0x3f9c4a===_0x290f4b)break;else _0x31bbbb['push'](_0x31bbbb['shift']());}catch(_0x3e861a){_0x31bbbb['push'](_0x31bbbb['shift']());}}}(a0_0x1af8,0x18b78));import*as a0_0x7b90be from'./main.js';function a0_0x1705(_0x6417e5,_0x53149d){const _0x1af8b5=a0_0x1af8();return a0_0x1705=function(_0x1705a0,_0xdafcb){_0x1705a0=_0x1705a0-0x1c2;let _0x2c14ec=_0x1af8b5[_0x1705a0];return _0x2c14ec;},a0_0x1705(_0x6417e5,_0x53149d);}const mgbaStorage=document[a0_0x1fa823(0x1cb)](a0_0x1fa823(0x1fc)),savesFile=document[a0_0x1fa823(0x1cb)](a0_0x1fa823(0x1ea)),romsFile=document[a0_0x1fa823(0x1cb)](a0_0x1fa823(0x20d)),statesFile=document[a0_0x1fa823(0x1cb)](a0_0x1fa823(0x1fa)),screenshotsFile=document[a0_0x1fa823(0x1cb)](a0_0x1fa823(0x1fe));function humanFileSize(_0x52a512,_0x3fa0cd=![],_0x24cf29=0x1){const _0x1f93f2=a0_0x1fa823,_0x4f065c=_0x3fa0cd?0x3e8:0x400,_0x3683c3=_0x3fa0cd?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x1f93f2(0x1e0),_0x1f93f2(0x1cc),_0x1f93f2(0x1fb),_0x1f93f2(0x204),'PiB',_0x1f93f2(0x1ff),'ZiB',_0x1f93f2(0x209)];let _0x5ed92d=-0x1;do{_0x52a512/=_0x4f065c,++_0x5ed92d;}while(Math[_0x1f93f2(0x20c)](_0x52a512)>=_0x4f065c&&_0x5ed92d<_0x3683c3[_0x1f93f2(0x1e6)]-0x1);return _0x52a512[_0x1f93f2(0x1f2)](_0x24cf29)+'\x20'+_0x3683c3[_0x5ed92d];}function createElementStorage(_0xd35f48,_0x1bde05,_0x5a9824){const _0x222fd0=a0_0x1fa823,_0x12938a=document[_0x222fd0(0x1f8)](_0x222fd0(0x1c7));_0x12938a[_0x222fd0(0x1d3)][_0x222fd0(0x1e9)](_0x222fd0(0x20a),'rom-item','rom'),_0xd35f48[_0x222fd0(0x1dd)](_0x12938a);const _0x429ef8=document[_0x222fd0(0x1f8)](_0x222fd0(0x1c4));_0x429ef8[_0x222fd0(0x1c8)]=_0x1bde05,_0x429ef8['classList'][_0x222fd0(0x1e9)]('flex-1'),_0x12938a[_0x222fd0(0x1dd)](_0x429ef8),_0x429ef8[_0x222fd0(0x1d6)]=()=>{const _0x37bf9d=_0x222fd0,_0x46cb67=document[_0x37bf9d(0x1f8)](_0x37bf9d(0x1d0));_0x46cb67[_0x37bf9d(0x207)]=()=>_0x46cb67['remove'](),_0xd35f48[_0x37bf9d(0x1dd)](_0x46cb67);const _0x486549=document['createElement'](_0x37bf9d(0x1c7));_0x486549[_0x37bf9d(0x1d3)][_0x37bf9d(0x1e9)](_0x37bf9d(0x1d2),_0x37bf9d(0x1f9),_0x37bf9d(0x1ed)),_0x46cb67[_0x37bf9d(0x1dd)](_0x486549);const _0x2bf949=document['createElement']('div');_0x2bf949[_0x37bf9d(0x1d3)]['add'](_0x37bf9d(0x1f4),'bc',_0x37bf9d(0x20a)),_0x486549[_0x37bf9d(0x1dd)](_0x2bf949);const _0x934f18=document[_0x37bf9d(0x1f8)](_0x37bf9d(0x1c7));_0x934f18[_0x37bf9d(0x1d3)]['add'](_0x37bf9d(0x20a)),_0x486549[_0x37bf9d(0x1dd)](_0x934f18);const _0x3244f0=document[_0x37bf9d(0x1f8)](_0x37bf9d(0x1c7));_0x3244f0[_0x37bf9d(0x1d3)][_0x37bf9d(0x1e9)](_0x37bf9d(0x20a)),_0x486549[_0x37bf9d(0x1dd)](_0x3244f0);const _0x2f1122=document[_0x37bf9d(0x1f8)](_0x37bf9d(0x1c7));_0x2f1122['classList'][_0x37bf9d(0x1e9)](_0x37bf9d(0x20a)),_0x486549[_0x37bf9d(0x1dd)](_0x2f1122),mgbaStorage[_0x37bf9d(0x1d3)][_0x37bf9d(0x1e9)](_0x37bf9d(0x1c6)),_0x2bf949[_0x37bf9d(0x1d6)]=()=>{const _0x3c387d=_0x37bf9d;_0x46cb67['close'](),_0x46cb67[_0x3c387d(0x1f6)](),mgbaStorage['classList'][_0x3c387d(0x1f6)](_0x3c387d(0x1c6));};const _0x5c7334=document[_0x37bf9d(0x1f8)](_0x37bf9d(0x1c7));_0x5c7334['classList'][_0x37bf9d(0x1e9)](_0x37bf9d(0x20a),_0x37bf9d(0x1de),'hw','cw'),_0x5c7334[_0x37bf9d(0x1c8)]=_0x1bde05,_0x46cb67[_0x37bf9d(0x1dd)](_0x5c7334);const _0x2b4b10=document[_0x37bf9d(0x1f8)](_0x37bf9d(0x1c7));_0x2b4b10['classList'][_0x37bf9d(0x1e9)](_0x37bf9d(0x1d1),'hw','cw',_0x37bf9d(0x1ef)),_0x46cb67['appendChild'](_0x2b4b10);const _0xb664e7=document[_0x37bf9d(0x1f8)](_0x37bf9d(0x1c7));_0xb664e7[_0x37bf9d(0x1d3)][_0x37bf9d(0x1e9)](_0x37bf9d(0x201),'bc'),_0x2b4b10[_0x37bf9d(0x1dd)](_0xb664e7),_0xb664e7[_0x37bf9d(0x1d6)]=()=>{const _0x1d9826=_0x37bf9d;a0_0x7b90be[_0x1d9826(0x1e7)](_0x5a9824,_0x1bde05);};const _0x9b9fb6=document[_0x37bf9d(0x1f8)]('div');_0x9b9fb6[_0x37bf9d(0x1d3)][_0x37bf9d(0x1e9)](_0x37bf9d(0x1f5),'bc'),_0x2b4b10['appendChild'](_0x9b9fb6),_0x9b9fb6[_0x37bf9d(0x1d6)]=async()=>{const _0x4db8fe=_0x37bf9d;if(window[_0x4db8fe(0x1f1)](_0x4db8fe(0x1ca)+_0x1bde05)){const _0x4fe188=_0x1bde05[_0x4db8fe(0x1e1)](/\....$/,_0x4db8fe(0x1db));a0_0x7b90be[_0x4db8fe(0x213)](_0x5a9824),localStorage[_0x4db8fe(0x1c5)](_0x4fe188+_0x4db8fe(0x200)+_0x1bde05[_0x4db8fe(0x1f3)](-0x1)),localStorage[_0x4db8fe(0x1c5)](_0x4fe188+_0x4db8fe(0x1d5)+_0x1bde05['slice'](-0x1)),localStorageFile(),_0x46cb67[_0x4db8fe(0x212)](),_0x46cb67[_0x4db8fe(0x1f6)](),mgbaStorage[_0x4db8fe(0x1d3)][_0x4db8fe(0x1f6)](_0x4db8fe(0x1c6));}};const _0x342c8e=document[_0x37bf9d(0x1f8)](_0x37bf9d(0x1c7));_0x342c8e[_0x37bf9d(0x1d3)]['add'](_0x37bf9d(0x1d7),'bc'),_0x2b4b10[_0x37bf9d(0x1dd)](_0x342c8e),_0x342c8e[_0x37bf9d(0x1d6)]=async()=>{const _0x28a29b=_0x37bf9d,_0x65cd66=window[_0x28a29b(0x211)](_0x28a29b(0x20e),_0x1bde05);_0x65cd66!==null&&(a0_0x7b90be[_0x28a29b(0x1e4)](_0x5a9824,_0x1bde05,_0x65cd66),localStorageFile(),_0x46cb67['close'](),_0x46cb67[_0x28a29b(0x1f6)](),mgbaStorage[_0x28a29b(0x1d3)][_0x28a29b(0x1f6)](_0x28a29b(0x1c6)));},_0x46cb67['showModal']();};const _0x499d0f=document['createElement'](_0x222fd0(0x1c4));_0x499d0f[_0x222fd0(0x1c8)]=humanFileSize(a0_0x7b90be[_0x222fd0(0x20f)](_0x5a9824)),_0x499d0f['classList']['add'](_0x222fd0(0x1c9)),_0x12938a[_0x222fd0(0x1dd)](_0x499d0f);}function a0_0x1af8(){const _0x23c922=['add','savesFile','click','DOMContentLoaded','gap-10','cheats','gap-16','games','confirm','toFixed','slice','home','delete','remove','disable','createElement','right','statesFile','GiB','mgba-storage','saves','screenshotsFile','EiB','_dateState','download','addEventListener','lastChild','TiB','uId','listFiles','onclose','/data/games/','YiB','flex-1','1436vgbqTW','abs','romsFile','Edit\x20filename','fileSize','states','prompt','close','deleteFile','firstChild','1128078CGDoDb','20CPwnME','152kdkNij','span','removeItem','opacity0','div','textContent','mib','Delete\x20this\x20file?','getElementById','MiB','893870OYYhsQ','55SfNqRV','screenshots','dialog','actionDiv','storage','classList','/data/screenshots/','_imageState','onclick','rename','change','349833OnRSPd','active','.gba','518581TfTtJY','appendChild','rom-item','uploadFile','KiB','replace','18ndPyCI','/data/saves/','editFile','192904dHYhwX','length','downloadFile','465768YvYRpN'];a0_0x1af8=function(){return _0x23c922;};return a0_0x1af8();}export function localStorageFile(){const _0x2b4471=a0_0x1fa823,_0x42684b=a0_0x7b90be[_0x2b4471(0x206)](_0x2b4471(0x1f0)),_0xb979da=a0_0x7b90be[_0x2b4471(0x206)](_0x2b4471(0x1fd)),_0x37c627=a0_0x7b90be['listFiles'](_0x2b4471(0x210)),_0x28ffc9=a0_0x7b90be[_0x2b4471(0x206)](_0x2b4471(0x1ee)),_0x199d04=a0_0x7b90be[_0x2b4471(0x206)](_0x2b4471(0x1cf)),_0x58e8fb=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x3b3177 of _0x58e8fb){while(_0x3b3177[_0x2b4471(0x214)]){_0x3b3177[_0x2b4471(0x203)][_0x2b4471(0x1f6)]();}}for(const _0x23216e of _0x42684b){createElementStorage(romsFile,_0x23216e,_0x2b4471(0x208)+_0x23216e);}for(const _0x5c6d24 of _0x37c627){createElementStorage(statesFile,_0x5c6d24,'/data/states/'+_0x5c6d24);}for(const _0x3eaa57 of _0xb979da){createElementStorage(savesFile,_0x3eaa57,_0x2b4471(0x1e3)+_0x3eaa57);}for(const _0x1bc911 of _0x28ffc9){createElementStorage(cheatsFile,_0x1bc911,'/data/cheats/'+_0x1bc911);}for(const _0x402664 of _0x199d04){createElementStorage(screenshotsFile,_0x402664,_0x2b4471(0x1d4)+_0x402664);}}document[a0_0x1fa823(0x202)](a0_0x1fa823(0x1ec),function(){const _0x205a13=a0_0x1fa823;upLoadFile['addEventListener'](_0x205a13(0x1d8),function(){const _0x338ddb=_0x205a13;a0_0x7b90be[_0x338ddb(0x1df)](upLoadFile);}),openLocalStorage['addEventListener'](_0x205a13(0x1eb),function(){const _0x4652a8=_0x205a13,_0x24e4fd=localStorage['getItem'](_0x4652a8(0x205));storage[_0x4652a8(0x1d3)][_0x4652a8(0x1f6)](_0x4652a8(0x1f7)),intro[_0x4652a8(0x1d3)]['add'](_0x4652a8(0x1f7)),ingame[_0x4652a8(0x1d3)][_0x4652a8(0x1e9)](_0x4652a8(0x1f7)),_0x24e4fd===null||_0x24e4fd===''?(dropboxRestore[_0x4652a8(0x1d3)][_0x4652a8(0x1f6)](_0x4652a8(0x1da)),dropboxBackup['classList']['remove'](_0x4652a8(0x1da)),dropboxCloud['classList'][_0x4652a8(0x1f6)](_0x4652a8(0x1da))):(dropboxRestore['classList'][_0x4652a8(0x1e9)](_0x4652a8(0x1da)),dropboxBackup['classList']['add'](_0x4652a8(0x1da)),dropboxCloud[_0x4652a8(0x1d3)][_0x4652a8(0x1e9)](_0x4652a8(0x1da)));}),setTimeout(()=>{localStorageFile();},0xbb8);});