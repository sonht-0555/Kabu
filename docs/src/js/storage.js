const a0_0x1effc6=a0_0x4953;function a0_0x4953(_0xdab20,_0x2e8340){const _0x4ccc7b=a0_0x4ccc();return a0_0x4953=function(_0x4953b3,_0xfbd219){_0x4953b3=_0x4953b3-0x106;let _0xafbc47=_0x4ccc7b[_0x4953b3];return _0xafbc47;},a0_0x4953(_0xdab20,_0x2e8340);}function a0_0x4ccc(){const _0x4a3367=['right','lastChild','/data/states/','replace','EiB','firstChild','Delete\x20this\x20file?','/data/cheats/','remove','slice','698848GHOPRQ','div','GiB','listFiles','home','removeItem','onclick','uploadFile','games','.gba','rename','mgba-storage','delete','statesFile','screenshots','downloadFile','screenshotsFile','435552uPpZhY','rom-item','change','/data/screenshots/','romsFile','click','dialog','_imageState','uId','MiB','confirm','appendChild','close','classList','getElementById','states','DOMContentLoaded','disable','opacity0','fileSize','2369275OQzRpp','download','7528120TYDveI','3026149tQtncU','_dateState','add','200707ZTOinD','2SmVuLb','onclose','actionDiv','deleteFile','gap-10','prompt','gap-16','getItem','flex-1','toFixed','addEventListener','span','length','active','textContent','cheats','2357514OjKKRy','createElement','/data/saves/'];a0_0x4ccc=function(){return _0x4a3367;};return a0_0x4ccc();}(function(_0x3203d5,_0x3c2900){const _0x4db9e3=a0_0x4953,_0x239d02=_0x3203d5();while(!![]){try{const _0x4cc42f=-parseInt(_0x4db9e3(0x11d))/0x1*(-parseInt(_0x4db9e3(0x11e))/0x2)+-parseInt(_0x4db9e3(0x14c))/0x3+-parseInt(_0x4db9e3(0x13b))/0x4+parseInt(_0x4db9e3(0x117))/0x5+parseInt(_0x4db9e3(0x12e))/0x6+parseInt(_0x4db9e3(0x11a))/0x7+-parseInt(_0x4db9e3(0x119))/0x8;if(_0x4cc42f===_0x3c2900)break;else _0x239d02['push'](_0x239d02['shift']());}catch(_0x459a20){_0x239d02['push'](_0x239d02['shift']());}}}(a0_0x4ccc,0x3a51d));import*as a0_0x477027 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x1effc6(0x146)),savesFile=document[a0_0x1effc6(0x111)]('savesFile'),romsFile=document[a0_0x1effc6(0x111)](a0_0x1effc6(0x107)),statesFile=document['getElementById'](a0_0x1effc6(0x148)),screenshotsFile=document[a0_0x1effc6(0x111)](a0_0x1effc6(0x14b));function humanFileSize(_0x2d4c18,_0x2e3f98=![],_0x58ad92=0x1){const _0x355d74=a0_0x1effc6,_0x49996a=_0x2e3f98?0x3e8:0x400,_0x1477cb=_0x2e3f98?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x355d74(0x10c),_0x355d74(0x13d),'TiB','PiB',_0x355d74(0x135),'ZiB','YiB'];let _0x4ade73=-0x1;do{_0x2d4c18/=_0x49996a,++_0x4ade73;}while(Math['abs'](_0x2d4c18)>=_0x49996a&&_0x4ade73<_0x1477cb[_0x355d74(0x12a)]-0x1);return _0x2d4c18[_0x355d74(0x127)](_0x58ad92)+'\x20'+_0x1477cb[_0x4ade73];}function createElementStorage(_0x5dfd48,_0x512cb9,_0x1bb62f){const _0x3eb3a1=a0_0x1effc6,_0x2a5c65=document[_0x3eb3a1(0x12f)](_0x3eb3a1(0x13c));_0x2a5c65[_0x3eb3a1(0x110)][_0x3eb3a1(0x11c)](_0x3eb3a1(0x126),_0x3eb3a1(0x14d),'rom'),_0x5dfd48[_0x3eb3a1(0x10e)](_0x2a5c65);const _0x180a40=document[_0x3eb3a1(0x12f)]('span');_0x180a40['textContent']=_0x512cb9,_0x180a40['classList'][_0x3eb3a1(0x11c)](_0x3eb3a1(0x126)),_0x2a5c65['appendChild'](_0x180a40),_0x180a40['onclick']=()=>{const _0x4b27a4=_0x3eb3a1,_0x471b7f=document[_0x4b27a4(0x12f)](_0x4b27a4(0x109));_0x471b7f[_0x4b27a4(0x11f)]=()=>_0x471b7f['remove'](),_0x5dfd48[_0x4b27a4(0x10e)](_0x471b7f);const _0x1f0635=document[_0x4b27a4(0x12f)](_0x4b27a4(0x13c));_0x1f0635[_0x4b27a4(0x110)][_0x4b27a4(0x11c)]('storage',_0x4b27a4(0x131),_0x4b27a4(0x122)),_0x471b7f[_0x4b27a4(0x10e)](_0x1f0635);const _0x19232c=document['createElement']('div');_0x19232c[_0x4b27a4(0x110)][_0x4b27a4(0x11c)](_0x4b27a4(0x13f),'bc','flex-1'),_0x1f0635[_0x4b27a4(0x10e)](_0x19232c);const _0x246318=document[_0x4b27a4(0x12f)](_0x4b27a4(0x13c));_0x246318['classList'][_0x4b27a4(0x11c)]('flex-1'),_0x1f0635[_0x4b27a4(0x10e)](_0x246318);const _0x90aae5=document[_0x4b27a4(0x12f)](_0x4b27a4(0x13c));_0x90aae5[_0x4b27a4(0x110)][_0x4b27a4(0x11c)]('flex-1'),_0x1f0635[_0x4b27a4(0x10e)](_0x90aae5);const _0x3ba2c9=document[_0x4b27a4(0x12f)](_0x4b27a4(0x13c));_0x3ba2c9[_0x4b27a4(0x110)]['add'](_0x4b27a4(0x126)),_0x1f0635[_0x4b27a4(0x10e)](_0x3ba2c9),mgbaStorage[_0x4b27a4(0x110)]['add']('opacity0'),_0x19232c[_0x4b27a4(0x141)]=()=>{const _0x83a4b9=_0x4b27a4;_0x471b7f[_0x83a4b9(0x10f)](),_0x471b7f[_0x83a4b9(0x139)](),mgbaStorage[_0x83a4b9(0x110)][_0x83a4b9(0x139)](_0x83a4b9(0x115));};const _0x32156b=document[_0x4b27a4(0x12f)](_0x4b27a4(0x13c));_0x32156b[_0x4b27a4(0x110)]['add'](_0x4b27a4(0x126),_0x4b27a4(0x14d),'hw','cw'),_0x32156b[_0x4b27a4(0x12c)]=_0x512cb9,_0x471b7f['appendChild'](_0x32156b);const _0x1c69f7=document['createElement']('div');_0x1c69f7[_0x4b27a4(0x110)][_0x4b27a4(0x11c)](_0x4b27a4(0x120),'hw','cw',_0x4b27a4(0x124)),_0x471b7f['appendChild'](_0x1c69f7);const _0x42a62d=document[_0x4b27a4(0x12f)](_0x4b27a4(0x13c));_0x42a62d[_0x4b27a4(0x110)][_0x4b27a4(0x11c)](_0x4b27a4(0x118),'bc'),_0x1c69f7['appendChild'](_0x42a62d),_0x42a62d['onclick']=()=>{const _0x499bdb=_0x4b27a4;a0_0x477027[_0x499bdb(0x14a)](_0x1bb62f,_0x512cb9);};const _0x17a573=document[_0x4b27a4(0x12f)](_0x4b27a4(0x13c));_0x17a573[_0x4b27a4(0x110)][_0x4b27a4(0x11c)](_0x4b27a4(0x147),'bc'),_0x1c69f7[_0x4b27a4(0x10e)](_0x17a573),_0x17a573[_0x4b27a4(0x141)]=async()=>{const _0x31ed3f=_0x4b27a4;if(window[_0x31ed3f(0x10d)](_0x31ed3f(0x137)+_0x512cb9)){const _0x378f4d=_0x512cb9[_0x31ed3f(0x134)](/\....$/,_0x31ed3f(0x144));a0_0x477027[_0x31ed3f(0x121)](_0x1bb62f),localStorage[_0x31ed3f(0x140)](_0x378f4d+_0x31ed3f(0x11b)+_0x512cb9[_0x31ed3f(0x13a)](-0x1)),localStorage[_0x31ed3f(0x140)](_0x378f4d+_0x31ed3f(0x10a)+_0x512cb9[_0x31ed3f(0x13a)](-0x1)),localStorageFile(),_0x471b7f[_0x31ed3f(0x10f)](),_0x471b7f[_0x31ed3f(0x139)](),mgbaStorage['classList']['remove']('opacity0');}};const _0x48590a=document[_0x4b27a4(0x12f)]('div');_0x48590a[_0x4b27a4(0x110)][_0x4b27a4(0x11c)](_0x4b27a4(0x145),'bc'),_0x1c69f7['appendChild'](_0x48590a),_0x48590a['onclick']=async()=>{const _0x10146f=_0x4b27a4,_0x48d602=window[_0x10146f(0x123)]('Edit\x20filename',_0x512cb9);_0x48d602!==null&&(a0_0x477027['editFile'](_0x1bb62f,_0x512cb9,_0x48d602),localStorageFile(),_0x471b7f['close'](),_0x471b7f['remove'](),mgbaStorage[_0x10146f(0x110)][_0x10146f(0x139)]('opacity0'));},_0x471b7f['showModal']();};const _0x4625ac=document[_0x3eb3a1(0x12f)](_0x3eb3a1(0x129));_0x4625ac['textContent']=humanFileSize(a0_0x477027[_0x3eb3a1(0x116)](_0x1bb62f)),_0x4625ac[_0x3eb3a1(0x110)][_0x3eb3a1(0x11c)]('mib'),_0x2a5c65[_0x3eb3a1(0x10e)](_0x4625ac);}export function localStorageFile(){const _0x4ebf15=a0_0x1effc6,_0x5c264a=a0_0x477027[_0x4ebf15(0x13e)](_0x4ebf15(0x143)),_0x58d0e5=a0_0x477027['listFiles']('saves'),_0x4942e6=a0_0x477027[_0x4ebf15(0x13e)](_0x4ebf15(0x112)),_0x3dbf1b=a0_0x477027['listFiles'](_0x4ebf15(0x12d)),_0xe7d1ba=a0_0x477027[_0x4ebf15(0x13e)](_0x4ebf15(0x149)),_0x2e162a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x52a4e0 of _0x2e162a){while(_0x52a4e0[_0x4ebf15(0x136)]){_0x52a4e0[_0x4ebf15(0x132)][_0x4ebf15(0x139)]();}}for(const _0x3cb173 of _0x5c264a){createElementStorage(romsFile,_0x3cb173,'/data/games/'+_0x3cb173);}for(const _0x20b7a4 of _0x4942e6){createElementStorage(statesFile,_0x20b7a4,_0x4ebf15(0x133)+_0x20b7a4);}for(const _0x585a43 of _0x58d0e5){createElementStorage(savesFile,_0x585a43,_0x4ebf15(0x130)+_0x585a43);}for(const _0x4e7421 of _0x3dbf1b){createElementStorage(cheatsFile,_0x4e7421,_0x4ebf15(0x138)+_0x4e7421);}for(const _0x4f95ba of _0xe7d1ba){createElementStorage(screenshotsFile,_0x4f95ba,_0x4ebf15(0x106)+_0x4f95ba);}}document[a0_0x1effc6(0x128)](a0_0x1effc6(0x113),function(){const _0x1fe738=a0_0x1effc6;upLoadFile[_0x1fe738(0x128)](_0x1fe738(0x14e),function(){const _0x43631d=_0x1fe738;a0_0x477027[_0x43631d(0x142)](upLoadFile);}),openLocalStorage[_0x1fe738(0x128)](_0x1fe738(0x108),function(){const _0xadb443=_0x1fe738,_0x36ce31=localStorage[_0xadb443(0x125)](_0xadb443(0x10b));storage[_0xadb443(0x110)][_0xadb443(0x139)](_0xadb443(0x114)),intro[_0xadb443(0x110)][_0xadb443(0x11c)]('disable'),ingame['classList']['add'](_0xadb443(0x114)),_0x36ce31===null||_0x36ce31===''?(dropboxRestore[_0xadb443(0x110)][_0xadb443(0x139)](_0xadb443(0x12b)),dropboxBackup[_0xadb443(0x110)][_0xadb443(0x139)](_0xadb443(0x12b)),dropboxCloud[_0xadb443(0x110)][_0xadb443(0x139)](_0xadb443(0x12b))):(dropboxRestore[_0xadb443(0x110)]['add'](_0xadb443(0x12b)),dropboxBackup['classList'][_0xadb443(0x11c)](_0xadb443(0x12b)),dropboxCloud[_0xadb443(0x110)][_0xadb443(0x11c)](_0xadb443(0x12b)));}),setTimeout(()=>{localStorageFile();},0xbb8);});