function a0_0x3a22(){const _0x154fea=['removeItem','uId','home','/data/screenshots/','onclick','14892448Nfcvon','opacity0','toFixed','span','classList','screenshotsFile','remove','length','savesFile','135piFtYk','/data/games/','deleteFile','ZiB','createElement','getItem','getElementById','div','replace','_dateState','cheats','actionDiv','click','romsFile','showModal','change','/data/saves/','disable','GiB','downloadFile','.gba','right','games','flex-1','active','editFile','493349GZKPpt','textContent','add','KiB','mgba-storage','_imageState','7119616cPdIEF','saves','download','rom','YiB','75092CsuNDt','slice','prompt','983114ANbkSt','8390080ORnZhW','uploadFile','statesFile','abs','addEventListener','mib','appendChild','delete','759354ovIUVY','listFiles','DOMContentLoaded','close','/data/cheats/','TiB','gap-16','lastChild','rom-item'];a0_0x3a22=function(){return _0x154fea;};return a0_0x3a22();}const a0_0x49e619=a0_0x416b;(function(_0x414f3f,_0x37c541){const _0x263cce=a0_0x416b,_0x1f0cd0=_0x414f3f();while(!![]){try{const _0x135aef=parseInt(_0x263cce(0x163))/0x1+parseInt(_0x263cce(0x129))/0x2+-parseInt(_0x263cce(0x149))/0x3*(-parseInt(_0x263cce(0x16e))/0x4)+-parseInt(_0x263cce(0x12a))/0x5+-parseInt(_0x263cce(0x132))/0x6+-parseInt(_0x263cce(0x169))/0x7+parseInt(_0x263cce(0x140))/0x8;if(_0x135aef===_0x37c541)break;else _0x1f0cd0['push'](_0x1f0cd0['shift']());}catch(_0x117469){_0x1f0cd0['push'](_0x1f0cd0['shift']());}}}(a0_0x3a22,0xd44d0));import*as a0_0x1d393e from'./main.js';const mgbaStorage=document[a0_0x49e619(0x14f)](a0_0x49e619(0x167)),savesFile=document['getElementById'](a0_0x49e619(0x148)),romsFile=document[a0_0x49e619(0x14f)](a0_0x49e619(0x156)),statesFile=document[a0_0x49e619(0x14f)](a0_0x49e619(0x12c)),screenshotsFile=document['getElementById'](a0_0x49e619(0x145));function humanFileSize(_0x13cba3,_0x2a2747=![],_0xc5333e=0x1){const _0x3f15fb=a0_0x49e619,_0xef0a94=_0x2a2747?0x3e8:0x400,_0x1e997a=_0x2a2747?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x3f15fb(0x166),'MiB',_0x3f15fb(0x15b),_0x3f15fb(0x137),'PiB','EiB',_0x3f15fb(0x14c),_0x3f15fb(0x16d)];let _0x2b7f77=-0x1;do{_0x13cba3/=_0xef0a94,++_0x2b7f77;}while(Math[_0x3f15fb(0x12d)](_0x13cba3)>=_0xef0a94&&_0x2b7f77<_0x1e997a[_0x3f15fb(0x147)]-0x1);return _0x13cba3[_0x3f15fb(0x142)](_0xc5333e)+'\x20'+_0x1e997a[_0x2b7f77];}function a0_0x416b(_0x1e50dc,_0x403c67){const _0x3a229a=a0_0x3a22();return a0_0x416b=function(_0x416bd0,_0x6e2e52){_0x416bd0=_0x416bd0-0x129;let _0x21b537=_0x3a229a[_0x416bd0];return _0x21b537;},a0_0x416b(_0x1e50dc,_0x403c67);}function createElementStorage(_0x2e43ee,_0x706d64,_0x2df7d3){const _0x2e7ce6=a0_0x49e619,_0x100263=document[_0x2e7ce6(0x14d)]('div');_0x100263[_0x2e7ce6(0x144)][_0x2e7ce6(0x165)](_0x2e7ce6(0x160),'rom-item',_0x2e7ce6(0x16c)),_0x2e43ee[_0x2e7ce6(0x130)](_0x100263);const _0xa5ecf7=document[_0x2e7ce6(0x14d)](_0x2e7ce6(0x143));_0xa5ecf7[_0x2e7ce6(0x164)]=_0x706d64,_0xa5ecf7['classList'][_0x2e7ce6(0x165)](_0x2e7ce6(0x160)),_0x100263[_0x2e7ce6(0x130)](_0xa5ecf7),_0xa5ecf7['onclick']=()=>{const _0x9c5cb2=_0x2e7ce6,_0x48c2a7=document['createElement']('dialog');_0x48c2a7['onclose']=()=>_0x48c2a7[_0x9c5cb2(0x146)](),_0x2e43ee[_0x9c5cb2(0x130)](_0x48c2a7);const _0x4c0d71=document[_0x9c5cb2(0x14d)]('div');_0x4c0d71['classList'][_0x9c5cb2(0x165)]('storage',_0x9c5cb2(0x15e),'gap-10'),_0x48c2a7['appendChild'](_0x4c0d71);const _0x1cccae=document[_0x9c5cb2(0x14d)](_0x9c5cb2(0x150));_0x1cccae[_0x9c5cb2(0x144)]['add'](_0x9c5cb2(0x13d),'bc',_0x9c5cb2(0x160)),_0x4c0d71[_0x9c5cb2(0x130)](_0x1cccae);const _0x4632aa=document[_0x9c5cb2(0x14d)](_0x9c5cb2(0x150));_0x4632aa[_0x9c5cb2(0x144)][_0x9c5cb2(0x165)](_0x9c5cb2(0x160)),_0x4c0d71[_0x9c5cb2(0x130)](_0x4632aa);const _0x2129fe=document[_0x9c5cb2(0x14d)](_0x9c5cb2(0x150));_0x2129fe['classList']['add'](_0x9c5cb2(0x160)),_0x4c0d71[_0x9c5cb2(0x130)](_0x2129fe);const _0x49d8b9=document[_0x9c5cb2(0x14d)](_0x9c5cb2(0x150));_0x49d8b9[_0x9c5cb2(0x144)][_0x9c5cb2(0x165)](_0x9c5cb2(0x160)),_0x4c0d71[_0x9c5cb2(0x130)](_0x49d8b9),mgbaStorage[_0x9c5cb2(0x144)][_0x9c5cb2(0x165)](_0x9c5cb2(0x141)),_0x1cccae[_0x9c5cb2(0x13f)]=()=>{const _0x36a9ad=_0x9c5cb2;_0x48c2a7[_0x36a9ad(0x135)](),_0x48c2a7[_0x36a9ad(0x146)](),mgbaStorage[_0x36a9ad(0x144)][_0x36a9ad(0x146)](_0x36a9ad(0x141));};const _0x3438d2=document[_0x9c5cb2(0x14d)](_0x9c5cb2(0x150));_0x3438d2[_0x9c5cb2(0x144)][_0x9c5cb2(0x165)](_0x9c5cb2(0x160),_0x9c5cb2(0x13a),'hw','cw'),_0x3438d2['textContent']=_0x706d64,_0x48c2a7['appendChild'](_0x3438d2);const _0x174f54=document[_0x9c5cb2(0x14d)]('div');_0x174f54[_0x9c5cb2(0x144)][_0x9c5cb2(0x165)](_0x9c5cb2(0x154),'hw','cw',_0x9c5cb2(0x138)),_0x48c2a7[_0x9c5cb2(0x130)](_0x174f54);const _0x17f9d5=document[_0x9c5cb2(0x14d)](_0x9c5cb2(0x150));_0x17f9d5[_0x9c5cb2(0x144)]['add'](_0x9c5cb2(0x16b),'bc'),_0x174f54[_0x9c5cb2(0x130)](_0x17f9d5),_0x17f9d5['onclick']=()=>{const _0x5ef095=_0x9c5cb2;a0_0x1d393e[_0x5ef095(0x15c)](_0x2df7d3,_0x706d64);};const _0x3afb1f=document[_0x9c5cb2(0x14d)]('div');_0x3afb1f['classList'][_0x9c5cb2(0x165)](_0x9c5cb2(0x131),'bc'),_0x174f54[_0x9c5cb2(0x130)](_0x3afb1f),_0x3afb1f[_0x9c5cb2(0x13f)]=async()=>{const _0x14e1bc=_0x9c5cb2;if(window['confirm']('Delete\x20this\x20file?'+_0x706d64)){const _0x4088a0=_0x706d64[_0x14e1bc(0x151)](/\....$/,_0x14e1bc(0x15d));a0_0x1d393e[_0x14e1bc(0x14b)](_0x2df7d3),localStorage['removeItem'](_0x4088a0+_0x14e1bc(0x152)+_0x706d64[_0x14e1bc(0x16f)](-0x1)),localStorage[_0x14e1bc(0x13b)](_0x4088a0+_0x14e1bc(0x168)+_0x706d64['slice'](-0x1)),localStorageFile(),_0x48c2a7[_0x14e1bc(0x135)](),_0x48c2a7['remove'](),mgbaStorage[_0x14e1bc(0x144)][_0x14e1bc(0x146)](_0x14e1bc(0x141));}};const _0xa6d2d7=document[_0x9c5cb2(0x14d)](_0x9c5cb2(0x150));_0xa6d2d7['classList'][_0x9c5cb2(0x165)]('rename','bc'),_0x174f54[_0x9c5cb2(0x130)](_0xa6d2d7),_0xa6d2d7['onclick']=async()=>{const _0x112083=_0x9c5cb2,_0x49e84d=window[_0x112083(0x170)]('Edit\x20filename',_0x706d64);_0x49e84d!==null&&(a0_0x1d393e[_0x112083(0x162)](_0x2df7d3,_0x706d64,_0x49e84d),localStorageFile(),_0x48c2a7[_0x112083(0x135)](),_0x48c2a7[_0x112083(0x146)](),mgbaStorage[_0x112083(0x144)][_0x112083(0x146)](_0x112083(0x141)));},_0x48c2a7[_0x9c5cb2(0x157)]();};const _0x26ffb8=document['createElement']('span');_0x26ffb8[_0x2e7ce6(0x164)]=humanFileSize(a0_0x1d393e['fileSize'](_0x2df7d3)),_0x26ffb8['classList'][_0x2e7ce6(0x165)](_0x2e7ce6(0x12f)),_0x100263[_0x2e7ce6(0x130)](_0x26ffb8);}export function localStorageFile(){const _0x1d0048=a0_0x49e619,_0xf38d47=a0_0x1d393e['listFiles'](_0x1d0048(0x15f)),_0x1d859a=a0_0x1d393e[_0x1d0048(0x133)](_0x1d0048(0x16a)),_0x2649a1=a0_0x1d393e[_0x1d0048(0x133)]('states'),_0x102065=a0_0x1d393e['listFiles'](_0x1d0048(0x153)),_0x1614d4=a0_0x1d393e[_0x1d0048(0x133)]('screenshots'),_0x3b2326=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x29e309 of _0x3b2326){while(_0x29e309['firstChild']){_0x29e309[_0x1d0048(0x139)][_0x1d0048(0x146)]();}}for(const _0x56dcf7 of _0xf38d47){createElementStorage(romsFile,_0x56dcf7,_0x1d0048(0x14a)+_0x56dcf7);}for(const _0x5756d6 of _0x2649a1){createElementStorage(statesFile,_0x5756d6,'/data/states/'+_0x5756d6);}for(const _0x197975 of _0x1d859a){createElementStorage(savesFile,_0x197975,_0x1d0048(0x159)+_0x197975);}for(const _0x305739 of _0x102065){createElementStorage(cheatsFile,_0x305739,_0x1d0048(0x136)+_0x305739);}for(const _0x1afce8 of _0x1614d4){createElementStorage(screenshotsFile,_0x1afce8,_0x1d0048(0x13e)+_0x1afce8);}}document['addEventListener'](a0_0x49e619(0x134),function(){const _0x1615e3=a0_0x49e619;upLoadFile['addEventListener'](_0x1615e3(0x158),function(){const _0x247d39=_0x1615e3;a0_0x1d393e[_0x247d39(0x12b)](upLoadFile);}),openLocalStorage[_0x1615e3(0x12e)](_0x1615e3(0x155),function(){const _0x1dad7b=_0x1615e3,_0x5c1f6a=localStorage[_0x1dad7b(0x14e)](_0x1dad7b(0x13c));storage[_0x1dad7b(0x144)]['remove'](_0x1dad7b(0x15a)),intro['classList'][_0x1dad7b(0x165)](_0x1dad7b(0x15a)),ingame['classList'][_0x1dad7b(0x165)](_0x1dad7b(0x15a)),_0x5c1f6a===null||_0x5c1f6a===''?(dropboxRestore['classList']['remove'](_0x1dad7b(0x161)),dropboxBackup[_0x1dad7b(0x144)]['remove'](_0x1dad7b(0x161)),dropboxCloud['classList'][_0x1dad7b(0x146)](_0x1dad7b(0x161))):(dropboxRestore[_0x1dad7b(0x144)][_0x1dad7b(0x165)](_0x1dad7b(0x161)),dropboxBackup['classList'][_0x1dad7b(0x165)](_0x1dad7b(0x161)),dropboxCloud['classList']['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});