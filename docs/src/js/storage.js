const a0_0x28bd4b=a0_0xb75f;(function(_0x3d190a,_0x14fb51){const _0x1d6700=a0_0xb75f,_0x276944=_0x3d190a();while(!![]){try{const _0x5d6274=parseInt(_0x1d6700(0x130))/0x1*(parseInt(_0x1d6700(0xe8))/0x2)+parseInt(_0x1d6700(0xf6))/0x3*(-parseInt(_0x1d6700(0x109))/0x4)+parseInt(_0x1d6700(0x12e))/0x5+parseInt(_0x1d6700(0x10e))/0x6+parseInt(_0x1d6700(0x127))/0x7+-parseInt(_0x1d6700(0x102))/0x8+parseInt(_0x1d6700(0x10a))/0x9*(-parseInt(_0x1d6700(0xfa))/0xa);if(_0x5d6274===_0x14fb51)break;else _0x276944['push'](_0x276944['shift']());}catch(_0x59dd28){_0x276944['push'](_0x276944['shift']());}}}(a0_0xe32a,0x672b5));import*as a0_0x4155d7 from'./main.js';const mgbaStorage=document[a0_0x28bd4b(0x12a)](a0_0x28bd4b(0xe5)),savesFile=document['getElementById'](a0_0x28bd4b(0x123)),romsFile=document[a0_0x28bd4b(0x12a)]('romsFile'),statesFile=document[a0_0x28bd4b(0x12a)](a0_0x28bd4b(0x113)),screenshotsFile=document[a0_0x28bd4b(0x12a)](a0_0x28bd4b(0x131));function humanFileSize(_0x42fcd1,_0x26e6bc=![],_0x3c425e=0x1){const _0x234bf2=a0_0x28bd4b,_0x512649=_0x26e6bc?0x3e8:0x400,_0x5c17fe=_0x26e6bc?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x234bf2(0xfe),_0x234bf2(0x11b),_0x234bf2(0x10b),_0x234bf2(0xf0),_0x234bf2(0x124),'ZiB','YiB'];let _0x4c2ed1=-0x1;do{_0x42fcd1/=_0x512649,++_0x4c2ed1;}while(Math[_0x234bf2(0x111)](_0x42fcd1)>=_0x512649&&_0x4c2ed1<_0x5c17fe[_0x234bf2(0xe7)]-0x1);return _0x42fcd1[_0x234bf2(0xea)](_0x3c425e)+'\x20'+_0x5c17fe[_0x4c2ed1];}function a0_0xe32a(){const _0x135472=['TiB','prompt','uId','441054qJGSKV','editFile','gap-16','abs','lastChild','statesFile','.cheats','.gba','files','actionDiv','onclose','_dateState','/data/cheats/','GiB','addEventListener','/data/games/','DOMContentLoaded','listState','_imageState','flex-1','active','savesFile','EiB','rom','uploadSavSta','5408662bPgFLZ','fileSize','createElement','getElementById','close','rom-item','/data/screenshots/','1358000FalLXS','getItem','1sDvGGD','screenshotsFile','mgba-storage','listGame','length','1512374UXuhxN','.bc','toFixed','firstChild','replace','showModal','Edit\x20filename','textContent','PiB','endsWith','home','uploadGame','listCheat','add','6biZAHL','disable','appendChild','onclick','550ILRBdd','classList','setItem','opacity0','MiB','rename','gap-10','confirm','4267552eTOSeu','slice','div','Delete\x20this\x20file?','storage','removeItem','remove','290264tKzFcP','126459PENSGd'];a0_0xe32a=function(){return _0x135472;};return a0_0xe32a();}function a0_0xb75f(_0x28b91a,_0x30e297){const _0xe32a8a=a0_0xe32a();return a0_0xb75f=function(_0xb75f2a,_0x16ee16){_0xb75f2a=_0xb75f2a-0xe5;let _0x3ac4e7=_0xe32a8a[_0xb75f2a];return _0x3ac4e7;},a0_0xb75f(_0x28b91a,_0x30e297);}function createElementStorage(_0x11c751,_0x162370,_0x422a3b){const _0x323572=a0_0x28bd4b,_0x3aeaea=document[_0x323572(0x129)](_0x323572(0x104));_0x3aeaea[_0x323572(0xfb)][_0x323572(0xf5)](_0x323572(0x121),'rom-item',_0x323572(0x125)),_0x11c751[_0x323572(0xf8)](_0x3aeaea);const _0x1859e7=document[_0x323572(0x129)]('span');_0x1859e7[_0x323572(0xef)]=_0x162370,_0x1859e7[_0x323572(0xfb)]['add']('flex-1'),_0x3aeaea[_0x323572(0xf8)](_0x1859e7),_0x1859e7[_0x323572(0xf9)]=()=>{const _0x4b93c6=_0x323572,_0x3ec37b=document[_0x4b93c6(0x129)]('dialog');_0x3ec37b[_0x4b93c6(0x118)]=()=>_0x3ec37b[_0x4b93c6(0x108)](),_0x11c751[_0x4b93c6(0xf8)](_0x3ec37b);const _0xbccf65=document['createElement'](_0x4b93c6(0x104));_0xbccf65[_0x4b93c6(0xfb)]['add'](_0x4b93c6(0x106),'right',_0x4b93c6(0x100)),_0x3ec37b['appendChild'](_0xbccf65);const _0x2fee75=document[_0x4b93c6(0x129)](_0x4b93c6(0x104));_0x2fee75[_0x4b93c6(0xfb)][_0x4b93c6(0xf5)](_0x4b93c6(0xf2),'bc','flex-1'),_0xbccf65['appendChild'](_0x2fee75);const _0x643400=document[_0x4b93c6(0x129)]('div');_0x643400['classList'][_0x4b93c6(0xf5)](_0x4b93c6(0x121)),_0xbccf65[_0x4b93c6(0xf8)](_0x643400);const _0x3f4d2b=document[_0x4b93c6(0x129)](_0x4b93c6(0x104));_0x3f4d2b[_0x4b93c6(0xfb)]['add'](_0x4b93c6(0x121)),_0xbccf65['appendChild'](_0x3f4d2b);const _0xafdb39=document[_0x4b93c6(0x129)]('div');_0xafdb39[_0x4b93c6(0xfb)]['add'](_0x4b93c6(0x121)),_0xbccf65[_0x4b93c6(0xf8)](_0xafdb39),mgbaStorage[_0x4b93c6(0xfb)]['add']('opacity0'),_0x2fee75[_0x4b93c6(0xf9)]=()=>{const _0x564e1f=_0x4b93c6;_0x3ec37b[_0x564e1f(0x12b)](),_0x3ec37b[_0x564e1f(0x108)](),mgbaStorage[_0x564e1f(0xfb)][_0x564e1f(0x108)]('opacity0');};const _0x50e644=document[_0x4b93c6(0x129)](_0x4b93c6(0x104));_0x50e644[_0x4b93c6(0xfb)]['add'](_0x4b93c6(0x121),_0x4b93c6(0x12c),'hw','cw'),_0x50e644[_0x4b93c6(0xef)]=_0x162370,_0x3ec37b[_0x4b93c6(0xf8)](_0x50e644);const _0x49ded5=document['createElement'](_0x4b93c6(0x104));_0x49ded5[_0x4b93c6(0xfb)][_0x4b93c6(0xf5)](_0x4b93c6(0x117),'hw','cw',_0x4b93c6(0x110)),_0x3ec37b['appendChild'](_0x49ded5);const _0x149473=document[_0x4b93c6(0x129)]('div');_0x149473[_0x4b93c6(0xfb)][_0x4b93c6(0xf5)]('download','bc'),_0x49ded5[_0x4b93c6(0xf8)](_0x149473),_0x149473[_0x4b93c6(0xf9)]=()=>{a0_0x4155d7['downloadFile'](_0x422a3b,_0x162370);};const _0x40cc36=document['createElement']('div');_0x40cc36[_0x4b93c6(0xfb)][_0x4b93c6(0xf5)]('delete','bc'),_0x49ded5[_0x4b93c6(0xf8)](_0x40cc36),_0x40cc36[_0x4b93c6(0xf9)]=async()=>{const _0x1fbf49=_0x4b93c6;if(window[_0x1fbf49(0x101)](_0x1fbf49(0x105)+_0x162370)){const _0xa8fb5a=_0x162370['replace'](/\....$/,_0x1fbf49(0x115));a0_0x4155d7['deleteFile'](_0x422a3b),localStorage['removeItem'](_0xa8fb5a+'_dateState'+_0x162370['slice'](-0x1)),localStorage[_0x1fbf49(0x107)](_0xa8fb5a+_0x1fbf49(0x120)+_0x162370[_0x1fbf49(0x103)](-0x1)),localStorageFile(),_0x3ec37b[_0x1fbf49(0x12b)](),_0x3ec37b[_0x1fbf49(0x108)](),mgbaStorage['classList'][_0x1fbf49(0x108)](_0x1fbf49(0xfd));}};const _0x2a3e32=document[_0x4b93c6(0x129)](_0x4b93c6(0x104));_0x2a3e32[_0x4b93c6(0xfb)][_0x4b93c6(0xf5)](_0x4b93c6(0xff),'bc'),_0x49ded5[_0x4b93c6(0xf8)](_0x2a3e32),_0x2a3e32[_0x4b93c6(0xf9)]=async()=>{const _0x55d202=_0x4b93c6,_0x564441=window[_0x55d202(0x10c)](_0x55d202(0xee),_0x162370);if(_0x564441!==null){const _0x6cbd01=_0x162370[_0x55d202(0xec)](/\....$/,_0x55d202(0x115)),_0x43236e=_0x564441[_0x55d202(0xec)](/\....$/,_0x55d202(0x115)),_0x6b6515=_0x6cbd01+_0x55d202(0x119)+_0x162370['slice'](-0x1),_0x1cb5aa=_0x6cbd01+_0x55d202(0x120)+_0x162370[_0x55d202(0x103)](-0x1),_0x1ed88b=_0x43236e+_0x55d202(0x119)+_0x564441['slice'](-0x1),_0x4aca04=_0x43236e+'_imageState'+_0x564441[_0x55d202(0x103)](-0x1),_0x33aa8f=localStorage['getItem'](_0x6b6515),_0x9f8445=localStorage[_0x55d202(0x12f)](_0x1cb5aa);_0x33aa8f!==null&&(localStorage[_0x55d202(0xfc)](_0x1ed88b,_0x33aa8f),localStorage[_0x55d202(0x107)](_0x6b6515)),_0x9f8445!==null&&(localStorage[_0x55d202(0xfc)](_0x4aca04,_0x9f8445),localStorage[_0x55d202(0x107)](_0x1cb5aa)),a0_0x4155d7[_0x55d202(0x10f)](_0x422a3b,_0x162370,_0x564441),localStorageFile(),_0x3ec37b[_0x55d202(0x12b)](),_0x3ec37b[_0x55d202(0x108)](),mgbaStorage[_0x55d202(0xfb)]['remove'](_0x55d202(0xfd));}},_0x3ec37b[_0x4b93c6(0xed)]();};const _0x13f40a=document[_0x323572(0x129)]('span');_0x13f40a[_0x323572(0xef)]=humanFileSize(a0_0x4155d7[_0x323572(0x128)](_0x422a3b)),_0x13f40a[_0x323572(0xfb)]['add']('mib'),_0x3aeaea['appendChild'](_0x13f40a);}export function localStorageFile(){const _0x264597=a0_0x28bd4b,_0x32a656=a0_0x4155d7[_0x264597(0xe6)](),_0x21bff5=a0_0x4155d7['listSave'](),_0x55b050=a0_0x4155d7[_0x264597(0x11f)](),_0x50715b=a0_0x4155d7[_0x264597(0xf4)](),_0x34722f=a0_0x4155d7['listScreenshot'](),_0x3175b8=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x5500ed of _0x3175b8){while(_0x5500ed[_0x264597(0xeb)]){_0x5500ed[_0x264597(0x112)]['remove']();}}for(const _0x326fdf of _0x32a656){createElementStorage(romsFile,_0x326fdf,_0x264597(0x11d)+_0x326fdf);}for(const _0x254cb1 of _0x55b050){createElementStorage(statesFile,_0x254cb1,'/data/states/'+_0x254cb1);}for(const _0x198f62 of _0x21bff5){createElementStorage(savesFile,_0x198f62,'/data/saves/'+_0x198f62);}for(const _0x134d69 of _0x50715b){createElementStorage(cheatsFile,_0x134d69,_0x264597(0x11a)+_0x134d69);}for(const _0xf20ba9 of _0x34722f){createElementStorage(screenshotsFile,_0xf20ba9,_0x264597(0x12d)+_0xf20ba9);}}document[a0_0x28bd4b(0x11c)](a0_0x28bd4b(0x11e),function(){const _0x5b2710=a0_0x28bd4b;upLoadFile[_0x5b2710(0x11c)]('change',function(){const _0xbe4bc3=_0x5b2710,_0x512575=upLoadFile[_0xbe4bc3(0x116)][0x0]['name'];if(_0x512575[_0xbe4bc3(0xf1)](_0xbe4bc3(0x114)))a0_0x4155d7['uploadCheat'](upLoadFile);else _0x512575['endsWith'](_0xbe4bc3(0x115))||_0x512575[_0xbe4bc3(0xf1)]('.gbc')||_0x512575[_0xbe4bc3(0xf1)](_0xbe4bc3(0xe9))?a0_0x4155d7[_0xbe4bc3(0xf3)](upLoadFile):a0_0x4155d7[_0xbe4bc3(0x126)](upLoadFile);}),openLocalStorage[_0x5b2710(0x11c)]('click',function(){const _0x2f8e49=_0x5b2710,_0x45014a=localStorage[_0x2f8e49(0x12f)](_0x2f8e49(0x10d));storage[_0x2f8e49(0xfb)]['remove'](_0x2f8e49(0xf7)),intro[_0x2f8e49(0xfb)][_0x2f8e49(0xf5)](_0x2f8e49(0xf7)),ingame[_0x2f8e49(0xfb)][_0x2f8e49(0xf5)](_0x2f8e49(0xf7)),_0x45014a===null||_0x45014a===''?(dropboxRestore[_0x2f8e49(0xfb)]['remove'](_0x2f8e49(0x122)),dropboxBackup['classList'][_0x2f8e49(0x108)](_0x2f8e49(0x122)),dropboxCloud['classList'][_0x2f8e49(0x108)]('active')):(dropboxRestore['classList'][_0x2f8e49(0xf5)](_0x2f8e49(0x122)),dropboxBackup['classList']['add']('active'),dropboxCloud[_0x2f8e49(0xfb)][_0x2f8e49(0xf5)](_0x2f8e49(0x122)));}),setTimeout(()=>{localStorageFile();},0xbb8);});