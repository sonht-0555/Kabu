const a0_0x40ec84=a0_0x5d0f;(function(_0x48928f,_0x4e6e28){const _0x450ae9=a0_0x5d0f,_0x43670e=_0x48928f();while(!![]){try{const _0x336dcc=parseInt(_0x450ae9(0x141))/0x1+parseInt(_0x450ae9(0x142))/0x2+parseInt(_0x450ae9(0x14f))/0x3*(parseInt(_0x450ae9(0x159))/0x4)+parseInt(_0x450ae9(0x145))/0x5+-parseInt(_0x450ae9(0x12b))/0x6*(-parseInt(_0x450ae9(0x147))/0x7)+-parseInt(_0x450ae9(0x130))/0x8*(parseInt(_0x450ae9(0x158))/0x9)+-parseInt(_0x450ae9(0x129))/0xa;if(_0x336dcc===_0x4e6e28)break;else _0x43670e['push'](_0x43670e['shift']());}catch(_0x50c13b){_0x43670e['push'](_0x43670e['shift']());}}}(a0_0x2220,0x2239f));import*as a0_0x1e6d64 from'./main.js';const mgbaStorage=document['getElementById'](a0_0x40ec84(0x12a)),savesFile=document[a0_0x40ec84(0x152)](a0_0x40ec84(0x144)),romsFile=document['getElementById'](a0_0x40ec84(0x160)),statesFile=document[a0_0x40ec84(0x152)](a0_0x40ec84(0x125)),screenshotsFile=document[a0_0x40ec84(0x152)](a0_0x40ec84(0x133));function humanFileSize(_0x398ae3,_0x581f8c=![],_0x5924ef=0x1){const _0x5df410=a0_0x40ec84,_0x4fec08=_0x581f8c?0x3e8:0x400,_0xdf6233=_0x581f8c?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x5df410(0x13c),_0x5df410(0x156),_0x5df410(0x155),_0x5df410(0x131),_0x5df410(0x11c),_0x5df410(0x14c),_0x5df410(0x12e),_0x5df410(0x128)];let _0x434e68=-0x1;do{_0x398ae3/=_0x4fec08,++_0x434e68;}while(Math[_0x5df410(0x11d)](_0x398ae3)>=_0x4fec08&&_0x434e68<_0xdf6233['length']-0x1);return _0x398ae3['toFixed'](_0x5924ef)+'\x20'+_0xdf6233[_0x434e68];}function createElementStorage(_0xe28e92,_0x184488,_0x5de24a){const _0x425cf7=a0_0x40ec84,_0xa55d03=document[_0x425cf7(0x121)](_0x425cf7(0x138));_0xa55d03[_0x425cf7(0x13f)]['add'](_0x425cf7(0x154),_0x425cf7(0x126),'rom'),_0xe28e92[_0x425cf7(0x12d)](_0xa55d03);const _0x62c5b7=document[_0x425cf7(0x121)](_0x425cf7(0x11e));_0x62c5b7[_0x425cf7(0x14e)]=_0x184488,_0x62c5b7['classList'][_0x425cf7(0x143)](_0x425cf7(0x154)),_0xa55d03[_0x425cf7(0x12d)](_0x62c5b7),_0x62c5b7[_0x425cf7(0x149)]=()=>{const _0x9999d8=_0x425cf7,_0x5b982d=document[_0x9999d8(0x121)](_0x9999d8(0x14b));_0x5b982d['onclose']=()=>_0x5b982d[_0x9999d8(0x11f)](),_0xe28e92[_0x9999d8(0x12d)](_0x5b982d);const _0x136a29=document[_0x9999d8(0x121)](_0x9999d8(0x138));_0x136a29[_0x9999d8(0x13f)][_0x9999d8(0x143)](_0x9999d8(0x137),_0x9999d8(0x12f),_0x9999d8(0x134)),_0x5b982d[_0x9999d8(0x12d)](_0x136a29);const _0x4401b8=document['createElement']('div');_0x4401b8[_0x9999d8(0x13f)][_0x9999d8(0x143)](_0x9999d8(0x15e),'bc',_0x9999d8(0x154)),_0x136a29[_0x9999d8(0x12d)](_0x4401b8);const _0x18e8f3=document['createElement']('div');_0x18e8f3[_0x9999d8(0x13f)][_0x9999d8(0x143)](_0x9999d8(0x154)),_0x136a29[_0x9999d8(0x12d)](_0x18e8f3);const _0x575754=document[_0x9999d8(0x121)](_0x9999d8(0x138));_0x575754[_0x9999d8(0x13f)][_0x9999d8(0x143)](_0x9999d8(0x154)),_0x136a29[_0x9999d8(0x12d)](_0x575754);const _0x41f78b=document[_0x9999d8(0x121)](_0x9999d8(0x138));_0x41f78b[_0x9999d8(0x13f)][_0x9999d8(0x143)](_0x9999d8(0x154)),_0x136a29['appendChild'](_0x41f78b),mgbaStorage['classList'][_0x9999d8(0x143)]('opacity0'),_0x4401b8[_0x9999d8(0x149)]=()=>{const _0xe1d806=_0x9999d8;_0x5b982d[_0xe1d806(0x157)](),_0x5b982d['remove'](),mgbaStorage[_0xe1d806(0x13f)][_0xe1d806(0x11f)](_0xe1d806(0x15c));};const _0x5c1c5d=document[_0x9999d8(0x121)](_0x9999d8(0x138));_0x5c1c5d[_0x9999d8(0x13f)]['add'](_0x9999d8(0x154),_0x9999d8(0x126),'hw','cw'),_0x5c1c5d[_0x9999d8(0x14e)]=_0x184488,_0x5b982d[_0x9999d8(0x12d)](_0x5c1c5d);const _0x17e051=document['createElement']('div');_0x17e051[_0x9999d8(0x13f)][_0x9999d8(0x143)](_0x9999d8(0x120),'hw','cw',_0x9999d8(0x13e)),_0x5b982d['appendChild'](_0x17e051);const _0x5d4fe1=document[_0x9999d8(0x121)](_0x9999d8(0x138));_0x5d4fe1['classList'][_0x9999d8(0x143)](_0x9999d8(0x15d),'bc'),_0x17e051[_0x9999d8(0x12d)](_0x5d4fe1),_0x5d4fe1[_0x9999d8(0x149)]=()=>{const _0x5a299d=_0x9999d8;a0_0x1e6d64[_0x5a299d(0x140)](_0x5de24a,_0x184488);};const _0x29ef2b=document[_0x9999d8(0x121)](_0x9999d8(0x138));_0x29ef2b[_0x9999d8(0x13f)]['add'](_0x9999d8(0x146),'bc'),_0x17e051['appendChild'](_0x29ef2b),_0x29ef2b[_0x9999d8(0x149)]=async()=>{const _0x42db8a=_0x9999d8;if(window[_0x42db8a(0x15f)]('Delete\x20this\x20file?'+_0x184488)){const _0x624831=_0x184488[_0x42db8a(0x127)](/\....$/,_0x42db8a(0x123));a0_0x1e6d64['deleteFile'](_0x5de24a),localStorage[_0x42db8a(0x151)](_0x624831+_0x42db8a(0x135)+_0x184488[_0x42db8a(0x13b)](-0x1)),localStorage['removeItem'](_0x624831+'_imageState'+_0x184488['slice'](-0x1)),localStorageFile(),_0x5b982d['close'](),_0x5b982d[_0x42db8a(0x11f)](),mgbaStorage[_0x42db8a(0x13f)][_0x42db8a(0x11f)](_0x42db8a(0x15c));}};const _0x21758d=document['createElement'](_0x9999d8(0x138));_0x21758d['classList'][_0x9999d8(0x143)](_0x9999d8(0x148),'bc'),_0x17e051[_0x9999d8(0x12d)](_0x21758d),_0x21758d[_0x9999d8(0x149)]=async()=>{const _0x9979a0=_0x9999d8,_0x3791b6=window[_0x9979a0(0x13a)]('Edit\x20filename',_0x184488);_0x3791b6!==null&&(a0_0x1e6d64[_0x9979a0(0x13d)](_0x5de24a,_0x184488,_0x3791b6),localStorageFile(),_0x5b982d[_0x9979a0(0x157)](),_0x5b982d[_0x9979a0(0x11f)](),mgbaStorage[_0x9979a0(0x13f)][_0x9979a0(0x11f)](_0x9979a0(0x15c)));},_0x5b982d['showModal']();};const _0x329e77=document[_0x425cf7(0x121)]('span');_0x329e77[_0x425cf7(0x14e)]=humanFileSize(a0_0x1e6d64[_0x425cf7(0x14d)](_0x5de24a)),_0x329e77[_0x425cf7(0x13f)][_0x425cf7(0x143)](_0x425cf7(0x15a)),_0xa55d03[_0x425cf7(0x12d)](_0x329e77);}function a0_0x5d0f(_0x55ebd4,_0x3f020f){const _0x22208f=a0_0x2220();return a0_0x5d0f=function(_0x5d0fd1,_0x3bd4df){_0x5d0fd1=_0x5d0fd1-0x11a;let _0x14a818=_0x22208f[_0x5d0fd1];return _0x14a818;},a0_0x5d0f(_0x55ebd4,_0x3f020f);}export function localStorageFile(){const _0x6f8019=a0_0x40ec84,_0x41ad4c=a0_0x1e6d64['listFiles']('games'),_0x488f96=a0_0x1e6d64[_0x6f8019(0x150)](_0x6f8019(0x122)),_0x261fb2=a0_0x1e6d64[_0x6f8019(0x150)]('states'),_0xf2ae02=a0_0x1e6d64[_0x6f8019(0x150)](_0x6f8019(0x11a)),_0x4c7e2f=a0_0x1e6d64[_0x6f8019(0x150)](_0x6f8019(0x124)),_0x5d80b5=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x29b2f4 of _0x5d80b5){while(_0x29b2f4['firstChild']){_0x29b2f4['lastChild']['remove']();}}for(const _0x3277f6 of _0x41ad4c){createElementStorage(romsFile,_0x3277f6,_0x6f8019(0x153)+_0x3277f6);}for(const _0x185e6 of _0x261fb2){createElementStorage(statesFile,_0x185e6,'/data/states/'+_0x185e6);}for(const _0x1ac361 of _0x488f96){createElementStorage(savesFile,_0x1ac361,'/data/saves/'+_0x1ac361);}for(const _0x37e46d of _0xf2ae02){createElementStorage(cheatsFile,_0x37e46d,_0x6f8019(0x132)+_0x37e46d);}for(const _0x23314e of _0x4c7e2f){createElementStorage(screenshotsFile,_0x23314e,'/data/screenshots/'+_0x23314e);}}function a0_0x2220(){const _0x1a3f40=['498344jTTfZK','rename','onclick','uploadFile','dialog','EiB','fileSize','textContent','273afEcZN','listFiles','removeItem','getElementById','/data/games/','flex-1','GiB','MiB','close','637380LlCBfW','8016WXSvWS','mib','addEventListener','opacity0','download','home','confirm','romsFile','cheats','getItem','PiB','abs','span','remove','actionDiv','createElement','saves','.gba','screenshots','statesFile','rom-item','replace','YiB','2585720sLPaqr','mgba-storage','6tLlXzH','disable','appendChild','ZiB','right','24bpnAyF','TiB','/data/cheats/','screenshotsFile','gap-10','_dateState','click','storage','div','active','prompt','slice','KiB','editFile','gap-16','classList','downloadFile','5613lQmJuF','542528NnstEH','add','savesFile','403950dujEXR','delete'];a0_0x2220=function(){return _0x1a3f40;};return a0_0x2220();}document[a0_0x40ec84(0x15b)]('DOMContentLoaded',function(){const _0x209dd3=a0_0x40ec84;upLoadFile['addEventListener']('change',function(){const _0x4661ba=a0_0x5d0f;a0_0x1e6d64[_0x4661ba(0x14a)](upLoadFile);}),openLocalStorage['addEventListener'](_0x209dd3(0x136),function(){const _0x18b223=_0x209dd3,_0x574cbd=localStorage[_0x18b223(0x11b)]('uId');storage[_0x18b223(0x13f)]['remove'](_0x18b223(0x12c)),intro[_0x18b223(0x13f)][_0x18b223(0x143)](_0x18b223(0x12c)),ingame[_0x18b223(0x13f)][_0x18b223(0x143)]('disable'),_0x574cbd===null||_0x574cbd===''?(dropboxRestore[_0x18b223(0x13f)][_0x18b223(0x11f)](_0x18b223(0x139)),dropboxBackup[_0x18b223(0x13f)][_0x18b223(0x11f)](_0x18b223(0x139)),dropboxCloud[_0x18b223(0x13f)][_0x18b223(0x11f)](_0x18b223(0x139))):(dropboxRestore[_0x18b223(0x13f)][_0x18b223(0x143)](_0x18b223(0x139)),dropboxBackup['classList']['add'](_0x18b223(0x139)),dropboxCloud[_0x18b223(0x13f)][_0x18b223(0x143)]('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});