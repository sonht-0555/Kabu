const a0_0x43b15a=a0_0x4658;(function(_0x147061,_0x14f18a){const _0x333cab=a0_0x4658,_0x34116a=_0x147061();while(!![]){try{const _0x223fcd=parseInt(_0x333cab(0xad))/0x1+parseInt(_0x333cab(0xa7))/0x2+parseInt(_0x333cab(0x9a))/0x3+parseInt(_0x333cab(0x80))/0x4+parseInt(_0x333cab(0x86))/0x5+parseInt(_0x333cab(0x81))/0x6*(parseInt(_0x333cab(0xab))/0x7)+-parseInt(_0x333cab(0x93))/0x8;if(_0x223fcd===_0x14f18a)break;else _0x34116a['push'](_0x34116a['shift']());}catch(_0x43673b){_0x34116a['push'](_0x34116a['shift']());}}}(a0_0x3fc5,0x478b7));import*as a0_0x201101 from'./main.js';const mgbaStorage=document[a0_0x43b15a(0x95)](a0_0x43b15a(0x78)),savesFile=document[a0_0x43b15a(0x95)]('savesFile'),romsFile=document[a0_0x43b15a(0x95)]('romsFile'),statesFile=document[a0_0x43b15a(0x95)](a0_0x43b15a(0xa6)),screenshotsFile=document[a0_0x43b15a(0x95)](a0_0x43b15a(0x7e));function humanFileSize(_0x29546e,_0x283866=![],_0x3ce14b=0x1){const _0x11f62e=a0_0x43b15a,_0x24f6b3=_0x283866?0x3e8:0x400,_0x71b5bc=_0x283866?['kB','MB','GB','TB','PB','EB','ZB','YB']:[_0x11f62e(0x84),_0x11f62e(0x98),'GiB','TiB','PiB',_0x11f62e(0x9c),'ZiB',_0x11f62e(0xa0)];let _0x5c3cd1=-0x1;do{_0x29546e/=_0x24f6b3,++_0x5c3cd1;}while(Math[_0x11f62e(0xb3)](_0x29546e)>=_0x24f6b3&&_0x5c3cd1<_0x71b5bc['length']-0x1);return _0x29546e[_0x11f62e(0x9d)](_0x3ce14b)+'\x20'+_0x71b5bc[_0x5c3cd1];}function a0_0x4658(_0x152e77,_0x5f5a07){const _0x3fc5ca=a0_0x3fc5();return a0_0x4658=function(_0x465871,_0x3aca11){_0x465871=_0x465871-0x75;let _0x594676=_0x3fc5ca[_0x465871];return _0x594676;},a0_0x4658(_0x152e77,_0x5f5a07);}function createElementStorage(_0x92e3a5,_0x2920b2,_0x243900){const _0xe6a4b6=a0_0x43b15a,_0x1a8bb8=document['createElement']('div');_0x1a8bb8['classList'][_0xe6a4b6(0x7b)](_0xe6a4b6(0x85),'rom-item',_0xe6a4b6(0xb8)),_0x92e3a5[_0xe6a4b6(0x8c)](_0x1a8bb8);const _0xe4dda3=document[_0xe6a4b6(0x7d)](_0xe6a4b6(0xb5));_0xe4dda3['textContent']=_0x2920b2,_0xe4dda3[_0xe6a4b6(0x87)][_0xe6a4b6(0x7b)](_0xe6a4b6(0x85)),_0x1a8bb8[_0xe6a4b6(0x8c)](_0xe4dda3),_0xe4dda3[_0xe6a4b6(0x96)]=()=>{const _0x26aa48=_0xe6a4b6,_0x389689=document[_0x26aa48(0x7d)](_0x26aa48(0x9f));_0x389689[_0x26aa48(0xa4)]=()=>_0x389689[_0x26aa48(0xb1)](),_0x92e3a5[_0x26aa48(0x8c)](_0x389689);const _0x1f64aa=document[_0x26aa48(0x7d)]('div');_0x1f64aa[_0x26aa48(0x87)][_0x26aa48(0x7b)](_0x26aa48(0xa5),_0x26aa48(0xac),_0x26aa48(0xa2)),_0x389689[_0x26aa48(0x8c)](_0x1f64aa);const _0x5347fc=document[_0x26aa48(0x7d)]('div');_0x5347fc[_0x26aa48(0x87)][_0x26aa48(0x7b)]('home','bc',_0x26aa48(0x85)),_0x1f64aa[_0x26aa48(0x8c)](_0x5347fc);const _0x42e7c5=document['createElement']('div');_0x42e7c5[_0x26aa48(0x87)][_0x26aa48(0x7b)](_0x26aa48(0x85)),_0x1f64aa[_0x26aa48(0x8c)](_0x42e7c5);const _0x52ae10=document[_0x26aa48(0x7d)](_0x26aa48(0x7f));_0x52ae10[_0x26aa48(0x87)]['add'](_0x26aa48(0x85)),_0x1f64aa[_0x26aa48(0x8c)](_0x52ae10);const _0x155cdd=document['createElement']('div');_0x155cdd['classList']['add']('flex-1'),_0x1f64aa[_0x26aa48(0x8c)](_0x155cdd),mgbaStorage['classList']['add'](_0x26aa48(0x90)),_0x5347fc[_0x26aa48(0x96)]=()=>{const _0x95a857=_0x26aa48;_0x389689[_0x95a857(0xa1)](),_0x389689[_0x95a857(0xb1)](),mgbaStorage['classList']['remove'](_0x95a857(0x90));};const _0xa31b96=document[_0x26aa48(0x7d)]('div');_0xa31b96[_0x26aa48(0x87)][_0x26aa48(0x7b)]('flex-1','rom-item','hw','cw'),_0xa31b96[_0x26aa48(0x8a)]=_0x2920b2,_0x389689['appendChild'](_0xa31b96);const _0x2f511b=document[_0x26aa48(0x7d)](_0x26aa48(0x7f));_0x2f511b[_0x26aa48(0x87)][_0x26aa48(0x7b)](_0x26aa48(0xb6),'hw','cw',_0x26aa48(0x9b)),_0x389689[_0x26aa48(0x8c)](_0x2f511b);const _0x49cc36=document[_0x26aa48(0x7d)](_0x26aa48(0x7f));_0x49cc36[_0x26aa48(0x87)][_0x26aa48(0x7b)]('download','bc'),_0x2f511b['appendChild'](_0x49cc36),_0x49cc36[_0x26aa48(0x96)]=()=>{a0_0x201101['downloadFile'](_0x243900,_0x2920b2);};const _0x255d62=document[_0x26aa48(0x7d)](_0x26aa48(0x7f));_0x255d62[_0x26aa48(0x87)][_0x26aa48(0x7b)]('delete','bc'),_0x2f511b['appendChild'](_0x255d62),_0x255d62['onclick']=async()=>{const _0x38347f=_0x26aa48;if(window['confirm']('Delete\x20this\x20file?'+_0x2920b2)){const _0x317966=_0x2920b2['replace'](/\....$/,_0x38347f(0x88));a0_0x201101['deleteFile'](_0x243900),localStorage[_0x38347f(0xa9)](_0x317966+_0x38347f(0xb0)+_0x2920b2[_0x38347f(0xba)](-0x1)),localStorage[_0x38347f(0xa9)](_0x317966+_0x38347f(0x8d)+_0x2920b2[_0x38347f(0xba)](-0x1)),localStorageFile(),_0x389689[_0x38347f(0xa1)](),_0x389689[_0x38347f(0xb1)](),mgbaStorage['classList']['remove'](_0x38347f(0x90));}};const _0x593d7e=document[_0x26aa48(0x7d)](_0x26aa48(0x7f));_0x593d7e[_0x26aa48(0x87)]['add'](_0x26aa48(0x75),'bc'),_0x2f511b[_0x26aa48(0x8c)](_0x593d7e),_0x593d7e[_0x26aa48(0x96)]=async()=>{const _0x10f4d4=_0x26aa48,_0x2cf70d=window[_0x10f4d4(0x99)](_0x10f4d4(0x8b),_0x2920b2);_0x2cf70d!==null&&(a0_0x201101[_0x10f4d4(0x7c)](_0x243900,_0x2920b2,_0x2cf70d),localStorageFile(),_0x389689[_0x10f4d4(0xa1)](),_0x389689[_0x10f4d4(0xb1)](),mgbaStorage['classList'][_0x10f4d4(0xb1)](_0x10f4d4(0x90)));},_0x389689['showModal']();};const _0x5354fe=document['createElement']('span');_0x5354fe[_0xe6a4b6(0x8a)]=humanFileSize(a0_0x201101[_0xe6a4b6(0x83)](_0x243900)),_0x5354fe[_0xe6a4b6(0x87)][_0xe6a4b6(0x7b)](_0xe6a4b6(0x79)),_0x1a8bb8[_0xe6a4b6(0x8c)](_0x5354fe);}export function localStorageFile(){const _0x4dea3e=a0_0x43b15a,_0x1a1aac=a0_0x201101[_0x4dea3e(0xb2)](_0x4dea3e(0x7a)),_0x162748=a0_0x201101[_0x4dea3e(0xb2)](_0x4dea3e(0x91)),_0x539961=a0_0x201101['listFiles'](_0x4dea3e(0xb9)),_0x574d66=a0_0x201101['listFiles'](_0x4dea3e(0x94)),_0x30cdfe=a0_0x201101['listFiles']('screenshots'),_0x33c294=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x15dc58 of _0x33c294){while(_0x15dc58[_0x4dea3e(0xb7)]){_0x15dc58[_0x4dea3e(0xaa)][_0x4dea3e(0xb1)]();}}for(const _0x1cc0e2 of _0x1a1aac){createElementStorage(romsFile,_0x1cc0e2,_0x4dea3e(0xae)+_0x1cc0e2);}for(const _0x6aa7e8 of _0x539961){createElementStorage(statesFile,_0x6aa7e8,_0x4dea3e(0x82)+_0x6aa7e8);}for(const _0x3b9669 of _0x162748){createElementStorage(savesFile,_0x3b9669,_0x4dea3e(0x76)+_0x3b9669);}for(const _0xf73a40 of _0x574d66){createElementStorage(cheatsFile,_0xf73a40,_0x4dea3e(0xaf)+_0xf73a40);}for(const _0x5d4a0b of _0x30cdfe){createElementStorage(screenshotsFile,_0x5d4a0b,_0x4dea3e(0xa3)+_0x5d4a0b);}}function a0_0x3fc5(){const _0x349c2a=['mib','games','add','editFile','createElement','screenshotsFile','div','1801032ngnZiN','42FJwinN','/data/states/','fileSize','KiB','flex-1','1150585vDeLHX','classList','.gba','uId','textContent','Edit\x20filename','appendChild','_imageState','DOMContentLoaded','getItem','opacity0','saves','uploadFile','15107512ZbiUpR','cheats','getElementById','onclick','change','MiB','prompt','1069485jTISjl','gap-16','EiB','toFixed','disable','dialog','YiB','close','gap-10','/data/screenshots/','onclose','storage','statesFile','355858fcRBbL','active','removeItem','lastChild','417053CrBCPf','right','549634SBHDKa','/data/games/','/data/cheats/','_dateState','remove','listFiles','abs','addEventListener','span','actionDiv','firstChild','rom','states','slice','rename','/data/saves/','click','mgba-storage'];a0_0x3fc5=function(){return _0x349c2a;};return a0_0x3fc5();}document[a0_0x43b15a(0xb4)](a0_0x43b15a(0x8e),function(){const _0x598ade=a0_0x43b15a;upLoadFile[_0x598ade(0xb4)](_0x598ade(0x97),function(){const _0x33bd3c=_0x598ade;a0_0x201101[_0x33bd3c(0x92)](upLoadFile);}),openLocalStorage['addEventListener'](_0x598ade(0x77),function(){const _0xc2c872=_0x598ade,_0x57e6bb=localStorage[_0xc2c872(0x8f)](_0xc2c872(0x89));storage['classList'][_0xc2c872(0xb1)](_0xc2c872(0x9e)),intro[_0xc2c872(0x87)][_0xc2c872(0x7b)](_0xc2c872(0x9e)),ingame[_0xc2c872(0x87)][_0xc2c872(0x7b)]('disable'),_0x57e6bb===null||_0x57e6bb===''?(dropboxRestore[_0xc2c872(0x87)][_0xc2c872(0xb1)](_0xc2c872(0xa8)),dropboxBackup[_0xc2c872(0x87)][_0xc2c872(0xb1)](_0xc2c872(0xa8)),dropboxCloud['classList'][_0xc2c872(0xb1)](_0xc2c872(0xa8))):(dropboxRestore[_0xc2c872(0x87)]['add'](_0xc2c872(0xa8)),dropboxBackup['classList']['add'](_0xc2c872(0xa8)),dropboxCloud[_0xc2c872(0x87)][_0xc2c872(0x7b)](_0xc2c872(0xa8)));}),setTimeout(()=>{localStorageFile();},0xbb8);});