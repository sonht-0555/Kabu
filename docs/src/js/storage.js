const a0_0x2c4c97=a0_0x1e93;(function(_0x481bd0,_0x5b3419){const _0x299c9e=a0_0x1e93,_0x2794ef=_0x481bd0();while(!![]){try{const _0x500ca4=-parseInt(_0x299c9e(0x1ae))/0x1*(parseInt(_0x299c9e(0x1b7))/0x2)+parseInt(_0x299c9e(0x1a1))/0x3*(parseInt(_0x299c9e(0x1a0))/0x4)+-parseInt(_0x299c9e(0x19e))/0x5+-parseInt(_0x299c9e(0x19c))/0x6+parseInt(_0x299c9e(0x1c0))/0x7*(-parseInt(_0x299c9e(0x184))/0x8)+parseInt(_0x299c9e(0x1a2))/0x9+parseInt(_0x299c9e(0x1b8))/0xa;if(_0x500ca4===_0x5b3419)break;else _0x2794ef['push'](_0x2794ef['shift']());}catch(_0x2de404){_0x2794ef['push'](_0x2794ef['shift']());}}}(a0_0x2ce7,0xbd449));import*as a0_0x5a5879 from'./main.js';const mgbaStorage=document[a0_0x2c4c97(0x1bd)](a0_0x2c4c97(0x195)),savesFile=document[a0_0x2c4c97(0x1bd)](a0_0x2c4c97(0x186)),romsFile=document[a0_0x2c4c97(0x1bd)]('romsFile'),statesFile=document[a0_0x2c4c97(0x1bd)](a0_0x2c4c97(0x1c7)),screenshotsFile=document['getElementById'](a0_0x2c4c97(0x19b));function a0_0x2ce7(){const _0x2375b9=['9836721XCnXfq','right','createElement','classList','_dateState','addEventListener','/data/games/','EiB','remove','Edit\x20filename','click','div','18095cwIFlT','replace','abs','downloadFile','slice','getItem','.gbc','.gba','appendChild','98PbUzSd','26474150bYtlSD','textContent','uploadSavSta','files','actionDiv','getElementById','listGame','dialog','35jsqPIl','GiB','listSave','fileSize','deleteFile','/data/saves/','toFixed','statesFile','firstChild','uploadGame','removeItem','onclick','/data/states/','/data/screenshots/','gap-10','add','flex-1','935896YDxyNU','setItem','savesFile','.bc','YiB','rom-item','active','rename','gap-16','close','uploadCheat','.cheats','span','disable','confirm','listCheat','endsWith','mgba-storage','prompt','listState','_imageState','length','editFile','screenshotsFile','7416534TcGEqE','PiB','2427650PVWwYa','opacity0','4lNnyZZ','684198kIInjN'];a0_0x2ce7=function(){return _0x2375b9;};return a0_0x2ce7();}function humanFileSize(_0x2b6c0f,_0x12129c=![],_0x361c29=0x1){const _0xfd6e49=a0_0x2c4c97,_0x299acb=_0x12129c?0x3e8:0x400,_0x56736e=_0x12129c?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB',_0xfd6e49(0x1c1),'TiB',_0xfd6e49(0x19d),_0xfd6e49(0x1a9),'ZiB',_0xfd6e49(0x188)];let _0x4fcb20=-0x1;do{_0x2b6c0f/=_0x299acb,++_0x4fcb20;}while(Math[_0xfd6e49(0x1b0)](_0x2b6c0f)>=_0x299acb&&_0x4fcb20<_0x56736e[_0xfd6e49(0x199)]-0x1);return _0x2b6c0f[_0xfd6e49(0x1c6)](_0x361c29)+'\x20'+_0x56736e[_0x4fcb20];}function a0_0x1e93(_0x5ba522,_0xac0eb2){const _0x2ce772=a0_0x2ce7();return a0_0x1e93=function(_0x1e93ce,_0x550249){_0x1e93ce=_0x1e93ce-0x17d;let _0x2af1d4=_0x2ce772[_0x1e93ce];return _0x2af1d4;},a0_0x1e93(_0x5ba522,_0xac0eb2);}function createElementStorage(_0xba589d,_0x241722,_0xba78f2){const _0x132807=a0_0x2c4c97,_0x54e513=document[_0x132807(0x1a4)](_0x132807(0x1ad));_0x54e513[_0x132807(0x1a5)][_0x132807(0x182)]('flex-1',_0x132807(0x189),'rom'),_0xba589d[_0x132807(0x1b6)](_0x54e513);const _0x1c7c2f=document['createElement'](_0x132807(0x190));_0x1c7c2f['textContent']=_0x241722,_0x1c7c2f['classList']['add'](_0x132807(0x183)),_0x54e513[_0x132807(0x1b6)](_0x1c7c2f),_0x1c7c2f[_0x132807(0x17e)]=()=>{const _0x479cd1=_0x132807,_0x58502e=document[_0x479cd1(0x1a4)](_0x479cd1(0x1bf));_0x58502e['onclose']=()=>_0x58502e[_0x479cd1(0x1aa)](),_0xba589d[_0x479cd1(0x1b6)](_0x58502e);const _0x361aee=document[_0x479cd1(0x1a4)]('div');_0x361aee[_0x479cd1(0x1a5)][_0x479cd1(0x182)]('storage',_0x479cd1(0x1a3),_0x479cd1(0x181)),_0x58502e[_0x479cd1(0x1b6)](_0x361aee);const _0x30c679=document[_0x479cd1(0x1a4)](_0x479cd1(0x1ad));_0x30c679['classList'][_0x479cd1(0x182)]('home','bc',_0x479cd1(0x183)),_0x361aee[_0x479cd1(0x1b6)](_0x30c679);const _0x49b4d8=document[_0x479cd1(0x1a4)]('div');_0x49b4d8[_0x479cd1(0x1a5)][_0x479cd1(0x182)](_0x479cd1(0x183)),_0x361aee[_0x479cd1(0x1b6)](_0x49b4d8);const _0x977d56=document[_0x479cd1(0x1a4)](_0x479cd1(0x1ad));_0x977d56[_0x479cd1(0x1a5)][_0x479cd1(0x182)]('flex-1'),_0x361aee[_0x479cd1(0x1b6)](_0x977d56);const _0x260b94=document[_0x479cd1(0x1a4)](_0x479cd1(0x1ad));_0x260b94[_0x479cd1(0x1a5)][_0x479cd1(0x182)]('flex-1'),_0x361aee['appendChild'](_0x260b94),mgbaStorage[_0x479cd1(0x1a5)]['add'](_0x479cd1(0x19f)),_0x30c679[_0x479cd1(0x17e)]=()=>{const _0x38c821=_0x479cd1;_0x58502e['close'](),_0x58502e[_0x38c821(0x1aa)](),mgbaStorage['classList'][_0x38c821(0x1aa)]('opacity0');};const _0x15db50=document[_0x479cd1(0x1a4)](_0x479cd1(0x1ad));_0x15db50['classList'][_0x479cd1(0x182)](_0x479cd1(0x183),_0x479cd1(0x189),'hw','cw'),_0x15db50[_0x479cd1(0x1b9)]=_0x241722,_0x58502e[_0x479cd1(0x1b6)](_0x15db50);const _0x1ee361=document['createElement'](_0x479cd1(0x1ad));_0x1ee361[_0x479cd1(0x1a5)][_0x479cd1(0x182)](_0x479cd1(0x1bc),'hw','cw',_0x479cd1(0x18c)),_0x58502e[_0x479cd1(0x1b6)](_0x1ee361);const _0x177a45=document[_0x479cd1(0x1a4)](_0x479cd1(0x1ad));_0x177a45[_0x479cd1(0x1a5)][_0x479cd1(0x182)]('download','bc'),_0x1ee361[_0x479cd1(0x1b6)](_0x177a45),_0x177a45['onclick']=()=>{const _0x1c7a64=_0x479cd1;a0_0x5a5879[_0x1c7a64(0x1b1)](_0xba78f2,_0x241722);};const _0x3eedef=document[_0x479cd1(0x1a4)](_0x479cd1(0x1ad));_0x3eedef['classList']['add']('delete','bc'),_0x1ee361[_0x479cd1(0x1b6)](_0x3eedef),_0x3eedef[_0x479cd1(0x17e)]=async()=>{const _0x255f02=_0x479cd1;if(window[_0x255f02(0x192)]('Delete\x20this\x20file?'+_0x241722)){const _0x576d9e=_0x241722[_0x255f02(0x1af)](/\....$/,_0x255f02(0x1b5));a0_0x5a5879[_0x255f02(0x1c4)](_0xba78f2),localStorage[_0x255f02(0x17d)](_0x576d9e+_0x255f02(0x1a6)+_0x241722[_0x255f02(0x1b2)](-0x1)),localStorage[_0x255f02(0x17d)](_0x576d9e+'_imageState'+_0x241722[_0x255f02(0x1b2)](-0x1)),localStorageFile(),_0x58502e[_0x255f02(0x18d)](),_0x58502e[_0x255f02(0x1aa)](),mgbaStorage[_0x255f02(0x1a5)][_0x255f02(0x1aa)](_0x255f02(0x19f));}};const _0x14009b=document[_0x479cd1(0x1a4)](_0x479cd1(0x1ad));_0x14009b[_0x479cd1(0x1a5)]['add'](_0x479cd1(0x18b),'bc'),_0x1ee361['appendChild'](_0x14009b),_0x14009b[_0x479cd1(0x17e)]=async()=>{const _0x4040dc=_0x479cd1,_0x3a5e6a=window[_0x4040dc(0x196)](_0x4040dc(0x1ab),_0x241722);if(_0x3a5e6a!==null){const _0x19508a=_0x241722[_0x4040dc(0x1af)](/\....$/,_0x4040dc(0x1b5)),_0x1e5fa9=_0x3a5e6a[_0x4040dc(0x1af)](/\....$/,'.gba'),_0x43fd6a=_0x19508a+_0x4040dc(0x1a6)+_0x241722[_0x4040dc(0x1b2)](-0x1),_0x3ee748=_0x19508a+'_imageState'+_0x241722[_0x4040dc(0x1b2)](-0x1),_0x8c1149=_0x1e5fa9+_0x4040dc(0x1a6)+_0x3a5e6a['slice'](-0x1),_0x150977=_0x1e5fa9+_0x4040dc(0x198)+_0x3a5e6a[_0x4040dc(0x1b2)](-0x1),_0x518c17=localStorage[_0x4040dc(0x1b3)](_0x43fd6a),_0x17ae12=localStorage[_0x4040dc(0x1b3)](_0x3ee748);_0x518c17!==null&&(localStorage['setItem'](_0x8c1149,_0x518c17),localStorage[_0x4040dc(0x17d)](_0x43fd6a)),_0x17ae12!==null&&(localStorage[_0x4040dc(0x185)](_0x150977,_0x17ae12),localStorage[_0x4040dc(0x17d)](_0x3ee748)),a0_0x5a5879[_0x4040dc(0x19a)](_0xba78f2,_0x241722,_0x3a5e6a),localStorageFile(),_0x58502e[_0x4040dc(0x18d)](),_0x58502e[_0x4040dc(0x1aa)](),mgbaStorage[_0x4040dc(0x1a5)]['remove'](_0x4040dc(0x19f));}},_0x58502e['showModal']();};const _0x407d65=document[_0x132807(0x1a4)](_0x132807(0x190));_0x407d65['textContent']=humanFileSize(a0_0x5a5879[_0x132807(0x1c3)](_0xba78f2)),_0x407d65['classList'][_0x132807(0x182)]('mib'),_0x54e513[_0x132807(0x1b6)](_0x407d65);}export function localStorageFile(){const _0x52c878=a0_0x2c4c97,_0x5d9818=a0_0x5a5879[_0x52c878(0x1be)](),_0x31f9fe=a0_0x5a5879[_0x52c878(0x1c2)](),_0x3e802e=a0_0x5a5879[_0x52c878(0x197)](),_0x3d5db5=a0_0x5a5879[_0x52c878(0x193)](),_0x3ccc3d=a0_0x5a5879['listScreenshot'](),_0x1ee5e3=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x534e60 of _0x1ee5e3){while(_0x534e60[_0x52c878(0x1c8)]){_0x534e60['lastChild'][_0x52c878(0x1aa)]();}}for(const _0x182f25 of _0x5d9818){createElementStorage(romsFile,_0x182f25,_0x52c878(0x1a8)+_0x182f25);}for(const _0x58e80d of _0x3e802e){createElementStorage(statesFile,_0x58e80d,_0x52c878(0x17f)+_0x58e80d);}for(const _0x2a8d94 of _0x31f9fe){createElementStorage(savesFile,_0x2a8d94,_0x52c878(0x1c5)+_0x2a8d94);}for(const _0x44879f of _0x3d5db5){createElementStorage(cheatsFile,_0x44879f,'/data/cheats/'+_0x44879f);}for(const _0x2dc7f2 of _0x3ccc3d){createElementStorage(screenshotsFile,_0x2dc7f2,_0x52c878(0x180)+_0x2dc7f2);}}document[a0_0x2c4c97(0x1a7)]('DOMContentLoaded',function(){const _0x1f70b7=a0_0x2c4c97;upLoadFile['addEventListener']('change',function(){const _0xfcaa69=a0_0x1e93,_0x37354a=upLoadFile[_0xfcaa69(0x1bb)][0x0]['name'];if(_0x37354a[_0xfcaa69(0x194)](_0xfcaa69(0x18f)))a0_0x5a5879[_0xfcaa69(0x18e)](upLoadFile);else _0x37354a[_0xfcaa69(0x194)]('.gba')||_0x37354a['endsWith'](_0xfcaa69(0x1b4))||_0x37354a[_0xfcaa69(0x194)](_0xfcaa69(0x187))?a0_0x5a5879[_0xfcaa69(0x1c9)](upLoadFile):a0_0x5a5879[_0xfcaa69(0x1ba)](upLoadFile);}),openLocalStorage[_0x1f70b7(0x1a7)](_0x1f70b7(0x1ac),function(){const _0x28e3d8=_0x1f70b7,_0x392e2f=localStorage[_0x28e3d8(0x1b3)]('uId');storage[_0x28e3d8(0x1a5)][_0x28e3d8(0x1aa)]('disable'),intro['classList'][_0x28e3d8(0x182)](_0x28e3d8(0x191)),ingame[_0x28e3d8(0x1a5)][_0x28e3d8(0x182)](_0x28e3d8(0x191)),_0x392e2f===null||_0x392e2f===''?(dropboxRestore[_0x28e3d8(0x1a5)][_0x28e3d8(0x1aa)](_0x28e3d8(0x18a)),dropboxBackup[_0x28e3d8(0x1a5)][_0x28e3d8(0x1aa)](_0x28e3d8(0x18a)),dropboxCloud[_0x28e3d8(0x1a5)][_0x28e3d8(0x1aa)]('active')):(dropboxRestore['classList'][_0x28e3d8(0x182)](_0x28e3d8(0x18a)),dropboxBackup[_0x28e3d8(0x1a5)][_0x28e3d8(0x182)]('active'),dropboxCloud[_0x28e3d8(0x1a5)][_0x28e3d8(0x182)](_0x28e3d8(0x18a)));}),setTimeout(()=>{localStorageFile();},0xbb8);});