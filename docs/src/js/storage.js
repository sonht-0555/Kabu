const a0_0x1a2bdb=a0_0x53ee;function a0_0x53ee(_0x553a4f,_0x529804){const _0x28a601=a0_0x28a6();return a0_0x53ee=function(_0x53ee30,_0x4399b8){_0x53ee30=_0x53ee30-0x1d0;let _0x4fb148=_0x28a601[_0x53ee30];return _0x4fb148;},a0_0x53ee(_0x553a4f,_0x529804);}(function(_0x54613b,_0xbfdf9d){const _0x2a1214=a0_0x53ee,_0x3f75dd=_0x54613b();while(!![]){try{const _0x21d9f8=-parseInt(_0x2a1214(0x1f2))/0x1+parseInt(_0x2a1214(0x216))/0x2+parseInt(_0x2a1214(0x20a))/0x3*(-parseInt(_0x2a1214(0x1ea))/0x4)+parseInt(_0x2a1214(0x1f3))/0x5+-parseInt(_0x2a1214(0x1d2))/0x6+-parseInt(_0x2a1214(0x1d4))/0x7+parseInt(_0x2a1214(0x20e))/0x8*(parseInt(_0x2a1214(0x200))/0x9);if(_0x21d9f8===_0xbfdf9d)break;else _0x3f75dd['push'](_0x3f75dd['shift']());}catch(_0x1f13e7){_0x3f75dd['push'](_0x3f75dd['shift']());}}}(a0_0x28a6,0x2ae66));import*as a0_0x2ff4f5 from'./main.js';const mgbaStorage=document['getElementById']('mgba-storage'),savesFile=document['getElementById'](a0_0x1a2bdb(0x1e1)),romsFile=document[a0_0x1a2bdb(0x20b)](a0_0x1a2bdb(0x21a)),statesFile=document['getElementById'](a0_0x1a2bdb(0x1fd)),screenshotsFile=document['getElementById'](a0_0x1a2bdb(0x1da));function humanFileSize(_0x41fc33,_0x166007=![],_0x1934d9=0x1){const _0x6f3036=a0_0x1a2bdb,_0x497577=_0x166007?0x3e8:0x400,_0x13ca28=_0x166007?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x6f3036(0x1e4),_0x6f3036(0x1f4),_0x6f3036(0x203),_0x6f3036(0x1e2),'EiB',_0x6f3036(0x1de),'YiB'];let _0x2a2d06=-0x1;do{_0x41fc33/=_0x497577,++_0x2a2d06;}while(Math[_0x6f3036(0x201)](_0x41fc33)>=_0x497577&&_0x2a2d06<_0x13ca28['length']-0x1);return _0x41fc33[_0x6f3036(0x1fa)](_0x1934d9)+'\x20'+_0x13ca28[_0x2a2d06];}function a0_0x28a6(){const _0x284a6d=['rom-item','appendChild','romsFile','download','dialog','mib','57858FGgjAG','.gba','145341XLlCSS','rename','span','firstChild','showModal','uId','screenshotsFile','downloadFile','div','/data/cheats/','ZiB','listFiles','classList','savesFile','PiB','disable','MiB','click','saves','active','gap-16','textContent','2528angMBP','/data/games/','Delete\x20this\x20file?','cheats','addEventListener','replace','onclose','lastChild','146155cVwcYI','470680CebJJC','GiB','createElement','add','rom','uploadFile','gap-10','toFixed','getItem','change','statesFile','/data/screenshots/','home','585XtpOwM','abs','storage','TiB','close','opacity0','onclick','_dateState','/data/saves/','remove','1257rlLzjO','getElementById','slice','games','30512jJAbOU','right','removeItem','confirm','fileSize','/data/states/','screenshots','DOMContentLoaded','550082eHWroR','flex-1'];a0_0x28a6=function(){return _0x284a6d;};return a0_0x28a6();}function createElementStorage(_0x5aaa5b,_0x3f8a66,_0x243c1b){const _0x231694=a0_0x1a2bdb,_0x1c9442=document['createElement']('div');_0x1c9442[_0x231694(0x1e0)][_0x231694(0x1f6)](_0x231694(0x217),_0x231694(0x218),_0x231694(0x1f7)),_0x5aaa5b[_0x231694(0x219)](_0x1c9442);const _0x19da46=document[_0x231694(0x1f5)](_0x231694(0x1d6));_0x19da46['textContent']=_0x3f8a66,_0x19da46[_0x231694(0x1e0)][_0x231694(0x1f6)](_0x231694(0x217)),_0x1c9442[_0x231694(0x219)](_0x19da46),_0x19da46[_0x231694(0x206)]=()=>{const _0x152ac8=_0x231694,_0x2e3d60=document[_0x152ac8(0x1f5)](_0x152ac8(0x1d0));_0x2e3d60[_0x152ac8(0x1f0)]=()=>_0x2e3d60['remove'](),_0x5aaa5b[_0x152ac8(0x219)](_0x2e3d60);const _0x45c48e=document[_0x152ac8(0x1f5)](_0x152ac8(0x1dc));_0x45c48e[_0x152ac8(0x1e0)][_0x152ac8(0x1f6)](_0x152ac8(0x202),_0x152ac8(0x20f),_0x152ac8(0x1f9)),_0x2e3d60[_0x152ac8(0x219)](_0x45c48e);const _0xcdbd2e=document[_0x152ac8(0x1f5)]('div');_0xcdbd2e['classList'][_0x152ac8(0x1f6)](_0x152ac8(0x1ff),'bc',_0x152ac8(0x217)),_0x45c48e[_0x152ac8(0x219)](_0xcdbd2e);const _0x21bfd3=document[_0x152ac8(0x1f5)](_0x152ac8(0x1dc));_0x21bfd3[_0x152ac8(0x1e0)][_0x152ac8(0x1f6)](_0x152ac8(0x217)),_0x45c48e[_0x152ac8(0x219)](_0x21bfd3);const _0x3b370e=document[_0x152ac8(0x1f5)](_0x152ac8(0x1dc));_0x3b370e[_0x152ac8(0x1e0)][_0x152ac8(0x1f6)](_0x152ac8(0x217)),_0x45c48e[_0x152ac8(0x219)](_0x3b370e);const _0x1ca46a=document['createElement'](_0x152ac8(0x1dc));_0x1ca46a[_0x152ac8(0x1e0)][_0x152ac8(0x1f6)](_0x152ac8(0x217)),_0x45c48e[_0x152ac8(0x219)](_0x1ca46a),mgbaStorage[_0x152ac8(0x1e0)][_0x152ac8(0x1f6)](_0x152ac8(0x205)),_0xcdbd2e[_0x152ac8(0x206)]=()=>{const _0x57347f=_0x152ac8;_0x2e3d60[_0x57347f(0x204)](),_0x2e3d60[_0x57347f(0x209)](),mgbaStorage[_0x57347f(0x1e0)][_0x57347f(0x209)](_0x57347f(0x205));};const _0xafa5c6=document[_0x152ac8(0x1f5)]('div');_0xafa5c6[_0x152ac8(0x1e0)]['add'](_0x152ac8(0x217),_0x152ac8(0x218),'hw','cw'),_0xafa5c6[_0x152ac8(0x1e9)]=_0x3f8a66,_0x2e3d60[_0x152ac8(0x219)](_0xafa5c6);const _0x25a7b3=document[_0x152ac8(0x1f5)](_0x152ac8(0x1dc));_0x25a7b3[_0x152ac8(0x1e0)]['add']('actionDiv','hw','cw',_0x152ac8(0x1e8)),_0x2e3d60[_0x152ac8(0x219)](_0x25a7b3);const _0x2b82ca=document[_0x152ac8(0x1f5)](_0x152ac8(0x1dc));_0x2b82ca['classList']['add'](_0x152ac8(0x21b),'bc'),_0x25a7b3[_0x152ac8(0x219)](_0x2b82ca),_0x2b82ca[_0x152ac8(0x206)]=()=>{const _0x4a57e0=_0x152ac8;a0_0x2ff4f5[_0x4a57e0(0x1db)](_0x243c1b,_0x3f8a66);};const _0x4d5948=document[_0x152ac8(0x1f5)]('div');_0x4d5948['classList'][_0x152ac8(0x1f6)]('delete','bc'),_0x25a7b3[_0x152ac8(0x219)](_0x4d5948),_0x4d5948['onclick']=async()=>{const _0x25f2e7=_0x152ac8;if(window[_0x25f2e7(0x211)](_0x25f2e7(0x1ec)+_0x3f8a66)){const _0x1bea90=_0x3f8a66[_0x25f2e7(0x1ef)](/\....$/,_0x25f2e7(0x1d3));a0_0x2ff4f5['deleteFile'](_0x243c1b),localStorage['removeItem'](_0x1bea90+_0x25f2e7(0x207)+_0x3f8a66[_0x25f2e7(0x20c)](-0x1)),localStorage[_0x25f2e7(0x210)](_0x1bea90+'_imageState'+_0x3f8a66[_0x25f2e7(0x20c)](-0x1)),localStorageFile(),_0x2e3d60[_0x25f2e7(0x204)](),_0x2e3d60['remove'](),mgbaStorage[_0x25f2e7(0x1e0)][_0x25f2e7(0x209)](_0x25f2e7(0x205));}};const _0x629e9b=document['createElement'](_0x152ac8(0x1dc));_0x629e9b[_0x152ac8(0x1e0)][_0x152ac8(0x1f6)](_0x152ac8(0x1d5),'bc'),_0x25a7b3['appendChild'](_0x629e9b),_0x629e9b[_0x152ac8(0x206)]=async()=>{const _0x44eae6=_0x152ac8,_0x4f287d=window['prompt']('Edit\x20filename',_0x3f8a66);_0x4f287d!==null&&(a0_0x2ff4f5['editFile'](_0x243c1b,_0x3f8a66,_0x4f287d),localStorageFile(),_0x2e3d60[_0x44eae6(0x204)](),_0x2e3d60[_0x44eae6(0x209)](),mgbaStorage[_0x44eae6(0x1e0)]['remove'](_0x44eae6(0x205)));},_0x2e3d60[_0x152ac8(0x1d8)]();};const _0xf877f9=document['createElement'](_0x231694(0x1d6));_0xf877f9['textContent']=humanFileSize(a0_0x2ff4f5[_0x231694(0x212)](_0x243c1b)),_0xf877f9[_0x231694(0x1e0)][_0x231694(0x1f6)](_0x231694(0x1d1)),_0x1c9442[_0x231694(0x219)](_0xf877f9);}export function localStorageFile(){const _0x185e3b=a0_0x1a2bdb,_0x4bfb07=a0_0x2ff4f5['listFiles'](_0x185e3b(0x20d)),_0x2b499d=a0_0x2ff4f5['listFiles'](_0x185e3b(0x1e6)),_0x2ca40b=a0_0x2ff4f5[_0x185e3b(0x1df)]('states'),_0xe61373=a0_0x2ff4f5['listFiles'](_0x185e3b(0x1ed)),_0x2f2715=a0_0x2ff4f5[_0x185e3b(0x1df)](_0x185e3b(0x214)),_0x30fc2a=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x520515 of _0x30fc2a){while(_0x520515[_0x185e3b(0x1d7)]){_0x520515[_0x185e3b(0x1f1)][_0x185e3b(0x209)]();}}for(const _0x48ba6f of _0x4bfb07){createElementStorage(romsFile,_0x48ba6f,_0x185e3b(0x1eb)+_0x48ba6f);}for(const _0x4fe7ec of _0x2ca40b){createElementStorage(statesFile,_0x4fe7ec,_0x185e3b(0x213)+_0x4fe7ec);}for(const _0x3a0ebe of _0x2b499d){createElementStorage(savesFile,_0x3a0ebe,_0x185e3b(0x208)+_0x3a0ebe);}for(const _0x54e3ce of _0xe61373){createElementStorage(cheatsFile,_0x54e3ce,_0x185e3b(0x1dd)+_0x54e3ce);}for(const _0x3f55ac of _0x2f2715){createElementStorage(screenshotsFile,_0x3f55ac,_0x185e3b(0x1fe)+_0x3f55ac);}}document['addEventListener'](a0_0x1a2bdb(0x215),function(){const _0x59ffd8=a0_0x1a2bdb;upLoadFile[_0x59ffd8(0x1ee)](_0x59ffd8(0x1fc),function(){const _0x7b3e34=_0x59ffd8;a0_0x2ff4f5[_0x7b3e34(0x1f8)](upLoadFile);}),openLocalStorage[_0x59ffd8(0x1ee)](_0x59ffd8(0x1e5),function(){const _0x397c62=_0x59ffd8,_0x3cf9d7=localStorage[_0x397c62(0x1fb)](_0x397c62(0x1d9));storage[_0x397c62(0x1e0)][_0x397c62(0x209)](_0x397c62(0x1e3)),intro[_0x397c62(0x1e0)][_0x397c62(0x1f6)](_0x397c62(0x1e3)),ingame[_0x397c62(0x1e0)][_0x397c62(0x1f6)]('disable'),_0x3cf9d7===null||_0x3cf9d7===''?(dropboxRestore[_0x397c62(0x1e0)][_0x397c62(0x209)](_0x397c62(0x1e7)),dropboxBackup[_0x397c62(0x1e0)][_0x397c62(0x209)](_0x397c62(0x1e7)),dropboxCloud['classList'][_0x397c62(0x209)]('active')):(dropboxRestore[_0x397c62(0x1e0)][_0x397c62(0x1f6)](_0x397c62(0x1e7)),dropboxBackup[_0x397c62(0x1e0)][_0x397c62(0x1f6)](_0x397c62(0x1e7)),dropboxCloud['classList']['add'](_0x397c62(0x1e7)));}),setTimeout(()=>{localStorageFile();},0xbb8);});