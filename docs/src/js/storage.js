function a0_0xe730(_0x3404c4,_0x5d1a44){const _0x5dd74b=a0_0x5dd7();return a0_0xe730=function(_0xe73036,_0x2d160b){_0xe73036=_0xe73036-0xd3;let _0x31826c=_0x5dd74b[_0xe73036];return _0x31826c;},a0_0xe730(_0x3404c4,_0x5d1a44);}function a0_0x5dd7(){const _0x3125f6=['446CdFMSu','1351110DdVcIn','toFixed','rom','listFiles','1641092CKxCNB','1371WFVUHd','abs','firstChild','click','flex-1','states','GiB','editFile','saves','prompt','romsFile','change','storage','gap-10','active','screenshots','games','4302460lIDNja','classList','getElementById','add','addEventListener','8472AYpDFk','delete','showModal','483110IZuZxV','PiB','/data/cheats/','remove','replace','opacity0','close','MiB','removeItem','lastChild','uploadFile','gap-16','dialog','mib','cheats','754957SdcpfQ','/data/games/','/data/screenshots/','screenshotsFile','rom-item','span','onclose','YiB','right','TiB','_dateState','Delete\x20this\x20file?','/data/states/','createElement','div','3PBKNrc','home','actionDiv','_imageState','EiB','slice','DOMContentLoaded','uId','onclick','appendChild','4617oZewMI','mgba-storage','textContent','savesFile'];a0_0x5dd7=function(){return _0x3125f6;};return a0_0x5dd7();}const a0_0x5273e3=a0_0xe730;(function(_0x54016c,_0x5e2c21){const _0x2445ce=a0_0xe730,_0x26bf05=_0x54016c();while(!![]){try{const _0x235393=-parseInt(_0x2445ce(0xf2))/0x1*(parseInt(_0x2445ce(0xec))/0x2)+-parseInt(_0x2445ce(0xde))/0x3*(parseInt(_0x2445ce(0xf1))/0x4)+-parseInt(_0x2445ce(0x10b))/0x5+parseInt(_0x2445ce(0xed))/0x6+-parseInt(_0x2445ce(0x11a))/0x7+-parseInt(_0x2445ce(0x108))/0x8*(-parseInt(_0x2445ce(0xe8))/0x9)+parseInt(_0x2445ce(0x103))/0xa;if(_0x235393===_0x5e2c21)break;else _0x26bf05['push'](_0x26bf05['shift']());}catch(_0x4b5acd){_0x26bf05['push'](_0x26bf05['shift']());}}}(a0_0x5dd7,0x43ecb));import*as a0_0x5225af from'./main.js';const mgbaStorage=document[a0_0x5273e3(0x105)](a0_0x5273e3(0xe9)),savesFile=document[a0_0x5273e3(0x105)](a0_0x5273e3(0xeb)),romsFile=document[a0_0x5273e3(0x105)](a0_0x5273e3(0xfc)),statesFile=document['getElementById']('statesFile'),screenshotsFile=document['getElementById'](a0_0x5273e3(0x11d));function humanFileSize(_0x5421e0,_0x15c50f=![],_0x206194=0x1){const _0x17c80c=a0_0x5273e3,_0x21f2ba=_0x15c50f?0x3e8:0x400,_0x53b20b=_0x15c50f?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x17c80c(0x112),_0x17c80c(0xf8),_0x17c80c(0xd8),_0x17c80c(0x10c),_0x17c80c(0xe2),'ZiB',_0x17c80c(0xd6)];let _0x330bd1=-0x1;do{_0x5421e0/=_0x21f2ba,++_0x330bd1;}while(Math[_0x17c80c(0xf3)](_0x5421e0)>=_0x21f2ba&&_0x330bd1<_0x53b20b['length']-0x1);return _0x5421e0[_0x17c80c(0xee)](_0x206194)+'\x20'+_0x53b20b[_0x330bd1];}function createElementStorage(_0x21d40f,_0x232ceb,_0x965a03){const _0x18c196=a0_0x5273e3,_0x3b48d3=document[_0x18c196(0xdc)](_0x18c196(0xdd));_0x3b48d3[_0x18c196(0x104)][_0x18c196(0x106)](_0x18c196(0xf6),_0x18c196(0xd3),_0x18c196(0xef)),_0x21d40f[_0x18c196(0xe7)](_0x3b48d3);const _0x1500fd=document[_0x18c196(0xdc)](_0x18c196(0xd4));_0x1500fd[_0x18c196(0xea)]=_0x232ceb,_0x1500fd[_0x18c196(0x104)][_0x18c196(0x106)](_0x18c196(0xf6)),_0x3b48d3['appendChild'](_0x1500fd),_0x1500fd[_0x18c196(0xe6)]=()=>{const _0x23f6f1=_0x18c196,_0x5bd588=document[_0x23f6f1(0xdc)](_0x23f6f1(0x117));_0x5bd588[_0x23f6f1(0xd5)]=()=>_0x5bd588['remove'](),_0x21d40f['appendChild'](_0x5bd588);const _0x3b95fb=document['createElement'](_0x23f6f1(0xdd));_0x3b95fb['classList'][_0x23f6f1(0x106)](_0x23f6f1(0xfe),_0x23f6f1(0xd7),_0x23f6f1(0xff)),_0x5bd588['appendChild'](_0x3b95fb);const _0x589892=document[_0x23f6f1(0xdc)](_0x23f6f1(0xdd));_0x589892[_0x23f6f1(0x104)]['add'](_0x23f6f1(0xdf),'bc',_0x23f6f1(0xf6)),_0x3b95fb['appendChild'](_0x589892);const _0x380bb8=document[_0x23f6f1(0xdc)]('div');_0x380bb8[_0x23f6f1(0x104)][_0x23f6f1(0x106)](_0x23f6f1(0xf6)),_0x3b95fb['appendChild'](_0x380bb8);const _0x113c4a=document[_0x23f6f1(0xdc)](_0x23f6f1(0xdd));_0x113c4a[_0x23f6f1(0x104)][_0x23f6f1(0x106)](_0x23f6f1(0xf6)),_0x3b95fb['appendChild'](_0x113c4a);const _0x521128=document[_0x23f6f1(0xdc)](_0x23f6f1(0xdd));_0x521128[_0x23f6f1(0x104)][_0x23f6f1(0x106)](_0x23f6f1(0xf6)),_0x3b95fb['appendChild'](_0x521128),mgbaStorage[_0x23f6f1(0x104)][_0x23f6f1(0x106)]('opacity0'),_0x589892[_0x23f6f1(0xe6)]=()=>{const _0x565588=_0x23f6f1;_0x5bd588[_0x565588(0x111)](),_0x5bd588[_0x565588(0x10e)](),mgbaStorage[_0x565588(0x104)]['remove'](_0x565588(0x110));};const _0x3abcf8=document[_0x23f6f1(0xdc)](_0x23f6f1(0xdd));_0x3abcf8[_0x23f6f1(0x104)][_0x23f6f1(0x106)]('flex-1',_0x23f6f1(0xd3),'hw','cw'),_0x3abcf8['textContent']=_0x232ceb,_0x5bd588[_0x23f6f1(0xe7)](_0x3abcf8);const _0x5535b5=document[_0x23f6f1(0xdc)](_0x23f6f1(0xdd));_0x5535b5[_0x23f6f1(0x104)][_0x23f6f1(0x106)](_0x23f6f1(0xe0),'hw','cw',_0x23f6f1(0x116)),_0x5bd588[_0x23f6f1(0xe7)](_0x5535b5);const _0x520d5d=document[_0x23f6f1(0xdc)](_0x23f6f1(0xdd));_0x520d5d[_0x23f6f1(0x104)][_0x23f6f1(0x106)]('download','bc'),_0x5535b5['appendChild'](_0x520d5d),_0x520d5d[_0x23f6f1(0xe6)]=()=>{a0_0x5225af['downloadFile'](_0x965a03,_0x232ceb);};const _0x1fc17d=document[_0x23f6f1(0xdc)](_0x23f6f1(0xdd));_0x1fc17d[_0x23f6f1(0x104)]['add'](_0x23f6f1(0x109),'bc'),_0x5535b5['appendChild'](_0x1fc17d),_0x1fc17d[_0x23f6f1(0xe6)]=async()=>{const _0x30d689=_0x23f6f1;if(window['confirm'](_0x30d689(0xda)+_0x232ceb)){const _0x11b572=_0x232ceb[_0x30d689(0x10f)](/\....$/,'.gba');a0_0x5225af['deleteFile'](_0x965a03),localStorage[_0x30d689(0x113)](_0x11b572+_0x30d689(0xd9)+_0x232ceb[_0x30d689(0xe3)](-0x1)),localStorage[_0x30d689(0x113)](_0x11b572+_0x30d689(0xe1)+_0x232ceb[_0x30d689(0xe3)](-0x1)),localStorageFile(),_0x5bd588[_0x30d689(0x111)](),_0x5bd588['remove'](),mgbaStorage[_0x30d689(0x104)]['remove'](_0x30d689(0x110));}};const _0x125a7e=document[_0x23f6f1(0xdc)](_0x23f6f1(0xdd));_0x125a7e[_0x23f6f1(0x104)][_0x23f6f1(0x106)]('rename','bc'),_0x5535b5[_0x23f6f1(0xe7)](_0x125a7e),_0x125a7e[_0x23f6f1(0xe6)]=async()=>{const _0x4b7a80=_0x23f6f1,_0x203d9e=window[_0x4b7a80(0xfb)]('Edit\x20filename',_0x232ceb);_0x203d9e!==null&&(a0_0x5225af[_0x4b7a80(0xf9)](_0x965a03,_0x232ceb,_0x203d9e),localStorageFile(),_0x5bd588['close'](),_0x5bd588['remove'](),mgbaStorage['classList'][_0x4b7a80(0x10e)]('opacity0'));},_0x5bd588[_0x23f6f1(0x10a)]();};const _0x1cefb7=document[_0x18c196(0xdc)]('span');_0x1cefb7[_0x18c196(0xea)]=humanFileSize(a0_0x5225af['fileSize'](_0x965a03)),_0x1cefb7[_0x18c196(0x104)]['add'](_0x18c196(0x118)),_0x3b48d3[_0x18c196(0xe7)](_0x1cefb7);}export function localStorageFile(){const _0x2261bc=a0_0x5273e3,_0x474773=a0_0x5225af['listFiles'](_0x2261bc(0x102)),_0x4bd2d3=a0_0x5225af[_0x2261bc(0xf0)](_0x2261bc(0xfa)),_0x1c9030=a0_0x5225af[_0x2261bc(0xf0)](_0x2261bc(0xf7)),_0xa3c7e=a0_0x5225af[_0x2261bc(0xf0)](_0x2261bc(0x119)),_0x3375a1=a0_0x5225af[_0x2261bc(0xf0)](_0x2261bc(0x101)),_0xe7dd5=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x248893 of _0xe7dd5){while(_0x248893[_0x2261bc(0xf4)]){_0x248893[_0x2261bc(0x114)][_0x2261bc(0x10e)]();}}for(const _0x4d621e of _0x474773){createElementStorage(romsFile,_0x4d621e,_0x2261bc(0x11b)+_0x4d621e);}for(const _0x3fc5ec of _0x1c9030){createElementStorage(statesFile,_0x3fc5ec,_0x2261bc(0xdb)+_0x3fc5ec);}for(const _0x390743 of _0x4bd2d3){createElementStorage(savesFile,_0x390743,'/data/saves/'+_0x390743);}for(const _0x51e63e of _0xa3c7e){createElementStorage(cheatsFile,_0x51e63e,_0x2261bc(0x10d)+_0x51e63e);}for(const _0x17dcd1 of _0x3375a1){createElementStorage(screenshotsFile,_0x17dcd1,_0x2261bc(0x11c)+_0x17dcd1);}}document['addEventListener'](a0_0x5273e3(0xe4),function(){const _0x7faf15=a0_0x5273e3;upLoadFile[_0x7faf15(0x107)](_0x7faf15(0xfd),function(){const _0x673ec1=_0x7faf15;a0_0x5225af[_0x673ec1(0x115)](upLoadFile);}),openLocalStorage[_0x7faf15(0x107)](_0x7faf15(0xf5),function(){const _0x3eee5a=_0x7faf15,_0x153be9=localStorage['getItem'](_0x3eee5a(0xe5));storage[_0x3eee5a(0x104)][_0x3eee5a(0x10e)]('disable'),intro['classList'][_0x3eee5a(0x106)]('disable'),ingame[_0x3eee5a(0x104)][_0x3eee5a(0x106)]('disable'),_0x153be9===null||_0x153be9===''?(dropboxRestore['classList']['remove'](_0x3eee5a(0x100)),dropboxBackup[_0x3eee5a(0x104)]['remove']('active'),dropboxCloud[_0x3eee5a(0x104)][_0x3eee5a(0x10e)](_0x3eee5a(0x100))):(dropboxRestore[_0x3eee5a(0x104)][_0x3eee5a(0x106)]('active'),dropboxBackup['classList']['add']('active'),dropboxCloud[_0x3eee5a(0x104)]['add']('active'));}),setTimeout(()=>{localStorageFile();},0xbb8);});