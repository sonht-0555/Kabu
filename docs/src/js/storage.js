const a0_0x749523=a0_0x511d;(function(_0x5a203a,_0x4641bc){const _0x2c08c2=a0_0x511d,_0xc01849=_0x5a203a();while(!![]){try{const _0x3be6c0=parseInt(_0x2c08c2(0x1e3))/0x1*(-parseInt(_0x2c08c2(0x1d5))/0x2)+parseInt(_0x2c08c2(0x1af))/0x3+parseInt(_0x2c08c2(0x1b9))/0x4*(-parseInt(_0x2c08c2(0x1e1))/0x5)+parseInt(_0x2c08c2(0x1cc))/0x6+-parseInt(_0x2c08c2(0x1d7))/0x7+parseInt(_0x2c08c2(0x1c5))/0x8*(parseInt(_0x2c08c2(0x1be))/0x9)+parseInt(_0x2c08c2(0x1bd))/0xa*(parseInt(_0x2c08c2(0x1f3))/0xb);if(_0x3be6c0===_0x4641bc)break;else _0xc01849['push'](_0xc01849['shift']());}catch(_0x265030){_0xc01849['push'](_0xc01849['shift']());}}}(a0_0x29f6,0x86710));import*as a0_0x3746c4 from'./main.js';const mgbaStorage=document['getElementById']('mgba-storage'),savesFile=document['getElementById'](a0_0x749523(0x1ef)),romsFile=document[a0_0x749523(0x1b1)](a0_0x749523(0x1cb)),statesFile=document[a0_0x749523(0x1b1)](a0_0x749523(0x1d4)),screenshotsFile=document['getElementById'](a0_0x749523(0x1f0));function a0_0x511d(_0x3e3145,_0x62e80c){const _0x29f638=a0_0x29f6();return a0_0x511d=function(_0x511df8,_0x181d3d){_0x511df8=_0x511df8-0x1ae;let _0x3d48c5=_0x29f638[_0x511df8];return _0x3d48c5;},a0_0x511d(_0x3e3145,_0x62e80c);}function humanFileSize(_0x492a4e,_0x5cc3e2=![],_0x34b8ba=0x1){const _0x720352=a0_0x749523,_0x38ed51=_0x5cc3e2?0x3e8:0x400,_0x55bdec=_0x5cc3e2?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB',_0x720352(0x1b7),_0x720352(0x1e6),'TiB',_0x720352(0x1cf),_0x720352(0x1b8),_0x720352(0x1db),_0x720352(0x1eb)];let _0xa4b670=-0x1;do{_0x492a4e/=_0x38ed51,++_0xa4b670;}while(Math['abs'](_0x492a4e)>=_0x38ed51&&_0xa4b670<_0x55bdec[_0x720352(0x1ca)]-0x1);return _0x492a4e[_0x720352(0x1ba)](_0x34b8ba)+'\x20'+_0x55bdec[_0xa4b670];}function a0_0x29f6(){const _0x5732ad=['close','disable','Edit\x20filename','MiB','EiB','486796BUcHKm','toFixed','createElement','_imageState','10PsFYak','122580AwSXdn','listFiles','textContent','addEventListener','games','storage','/data/screenshots/','208HZhgPc','onclick','span','delete','Delete\x20this\x20file?','length','romsFile','3311928HTTBvm','flex-1','appendChild','PiB','removeItem','gap-10','mib','prompt','statesFile','352942kKHFWy','rom','4728234STOxbl','active','download','screenshots','ZiB','cheats','rom-item','gap-16','change','/data/games/','20sRfrJR','remove','3SikNts','_dateState','deleteFile','GiB','editFile','div','confirm','onclose','YiB','downloadFile','slice','add','savesFile','screenshotsFile','/data/saves/','showModal','5763703IzZFYr','opacity0','/data/cheats/','2436786TVFHYa','click','getElementById','classList','getItem'];a0_0x29f6=function(){return _0x5732ad;};return a0_0x29f6();}function createElementStorage(_0x1894a4,_0x9c722b,_0x16a286){const _0x4826ed=a0_0x749523,_0x3c08dd=document[_0x4826ed(0x1bb)](_0x4826ed(0x1e8));_0x3c08dd[_0x4826ed(0x1b2)][_0x4826ed(0x1ee)]('flex-1','rom-item',_0x4826ed(0x1d6)),_0x1894a4[_0x4826ed(0x1ce)](_0x3c08dd);const _0x234ed4=document[_0x4826ed(0x1bb)]('span');_0x234ed4['textContent']=_0x9c722b,_0x234ed4['classList'][_0x4826ed(0x1ee)](_0x4826ed(0x1cd)),_0x3c08dd[_0x4826ed(0x1ce)](_0x234ed4),_0x234ed4['onclick']=()=>{const _0x16d8f7=_0x4826ed,_0x38f35b=document[_0x16d8f7(0x1bb)]('dialog');_0x38f35b[_0x16d8f7(0x1ea)]=()=>_0x38f35b[_0x16d8f7(0x1e2)](),_0x1894a4[_0x16d8f7(0x1ce)](_0x38f35b);const _0x1eb129=document[_0x16d8f7(0x1bb)](_0x16d8f7(0x1e8));_0x1eb129[_0x16d8f7(0x1b2)][_0x16d8f7(0x1ee)](_0x16d8f7(0x1c3),'right',_0x16d8f7(0x1d1)),_0x38f35b['appendChild'](_0x1eb129);const _0x58746c=document['createElement'](_0x16d8f7(0x1e8));_0x58746c[_0x16d8f7(0x1b2)]['add']('home','bc','flex-1'),_0x1eb129[_0x16d8f7(0x1ce)](_0x58746c);const _0x324a8f=document[_0x16d8f7(0x1bb)](_0x16d8f7(0x1e8));_0x324a8f['classList'][_0x16d8f7(0x1ee)]('flex-1'),_0x1eb129[_0x16d8f7(0x1ce)](_0x324a8f);const _0x17a75b=document[_0x16d8f7(0x1bb)]('div');_0x17a75b[_0x16d8f7(0x1b2)][_0x16d8f7(0x1ee)](_0x16d8f7(0x1cd)),_0x1eb129[_0x16d8f7(0x1ce)](_0x17a75b);const _0x1295cb=document[_0x16d8f7(0x1bb)](_0x16d8f7(0x1e8));_0x1295cb[_0x16d8f7(0x1b2)][_0x16d8f7(0x1ee)](_0x16d8f7(0x1cd)),_0x1eb129[_0x16d8f7(0x1ce)](_0x1295cb),mgbaStorage[_0x16d8f7(0x1b2)][_0x16d8f7(0x1ee)](_0x16d8f7(0x1f4)),_0x58746c[_0x16d8f7(0x1c6)]=()=>{const _0x200246=_0x16d8f7;_0x38f35b[_0x200246(0x1b4)](),_0x38f35b[_0x200246(0x1e2)](),mgbaStorage[_0x200246(0x1b2)][_0x200246(0x1e2)](_0x200246(0x1f4));};const _0x460567=document[_0x16d8f7(0x1bb)](_0x16d8f7(0x1e8));_0x460567[_0x16d8f7(0x1b2)][_0x16d8f7(0x1ee)]('flex-1',_0x16d8f7(0x1dd),'hw','cw'),_0x460567[_0x16d8f7(0x1c0)]=_0x9c722b,_0x38f35b['appendChild'](_0x460567);const _0x512933=document['createElement'](_0x16d8f7(0x1e8));_0x512933[_0x16d8f7(0x1b2)]['add']('actionDiv','hw','cw',_0x16d8f7(0x1de)),_0x38f35b[_0x16d8f7(0x1ce)](_0x512933);const _0x4b6f98=document['createElement']('div');_0x4b6f98[_0x16d8f7(0x1b2)][_0x16d8f7(0x1ee)](_0x16d8f7(0x1d9),'bc'),_0x512933[_0x16d8f7(0x1ce)](_0x4b6f98),_0x4b6f98['onclick']=()=>{const _0x145fa9=_0x16d8f7;a0_0x3746c4[_0x145fa9(0x1ec)](_0x16a286,_0x9c722b);};const _0x46f2cf=document['createElement']('div');_0x46f2cf['classList']['add'](_0x16d8f7(0x1c8),'bc'),_0x512933[_0x16d8f7(0x1ce)](_0x46f2cf),_0x46f2cf[_0x16d8f7(0x1c6)]=async()=>{const _0x15de20=_0x16d8f7;if(window[_0x15de20(0x1e9)](_0x15de20(0x1c9)+_0x9c722b)){const _0x526b9d=_0x9c722b['replace'](/\....$/,'.gba');a0_0x3746c4[_0x15de20(0x1e5)](_0x16a286),localStorage[_0x15de20(0x1d0)](_0x526b9d+_0x15de20(0x1e4)+_0x9c722b[_0x15de20(0x1ed)](-0x1)),localStorage[_0x15de20(0x1d0)](_0x526b9d+_0x15de20(0x1bc)+_0x9c722b[_0x15de20(0x1ed)](-0x1)),localStorageFile(),_0x38f35b['close'](),_0x38f35b[_0x15de20(0x1e2)](),mgbaStorage[_0x15de20(0x1b2)][_0x15de20(0x1e2)](_0x15de20(0x1f4));}};const _0xf0e08f=document[_0x16d8f7(0x1bb)](_0x16d8f7(0x1e8));_0xf0e08f[_0x16d8f7(0x1b2)][_0x16d8f7(0x1ee)]('rename','bc'),_0x512933[_0x16d8f7(0x1ce)](_0xf0e08f),_0xf0e08f['onclick']=async()=>{const _0x16d6f0=_0x16d8f7,_0xdd7b12=window[_0x16d6f0(0x1d3)](_0x16d6f0(0x1b6),_0x9c722b);_0xdd7b12!==null&&(a0_0x3746c4[_0x16d6f0(0x1e7)](_0x16a286,_0x9c722b,_0xdd7b12),localStorageFile(),_0x38f35b[_0x16d6f0(0x1b4)](),_0x38f35b['remove'](),mgbaStorage[_0x16d6f0(0x1b2)][_0x16d6f0(0x1e2)](_0x16d6f0(0x1f4)));},_0x38f35b[_0x16d8f7(0x1f2)]();};const _0x50cf30=document[_0x4826ed(0x1bb)](_0x4826ed(0x1c7));_0x50cf30[_0x4826ed(0x1c0)]=humanFileSize(a0_0x3746c4['fileSize'](_0x16a286)),_0x50cf30[_0x4826ed(0x1b2)][_0x4826ed(0x1ee)](_0x4826ed(0x1d2)),_0x3c08dd[_0x4826ed(0x1ce)](_0x50cf30);}export function localStorageFile(){const _0x2267df=a0_0x749523,_0x10e519=a0_0x3746c4[_0x2267df(0x1bf)](_0x2267df(0x1c2)),_0x38aa04=a0_0x3746c4['listFiles']('saves'),_0x308a10=a0_0x3746c4[_0x2267df(0x1bf)]('states'),_0x10244e=a0_0x3746c4['listFiles'](_0x2267df(0x1dc)),_0x1bfa0f=a0_0x3746c4[_0x2267df(0x1bf)](_0x2267df(0x1da)),_0x5d5bd9=[romsFile,savesFile,statesFile,cheatsFile,screenshotsFile];for(const _0x403eb7 of _0x5d5bd9){while(_0x403eb7['firstChild']){_0x403eb7['lastChild'][_0x2267df(0x1e2)]();}}for(const _0x517ddc of _0x10e519){createElementStorage(romsFile,_0x517ddc,_0x2267df(0x1e0)+_0x517ddc);}for(const _0x1d2e4e of _0x308a10){createElementStorage(statesFile,_0x1d2e4e,'/data/states/'+_0x1d2e4e);}for(const _0xd2ebfe of _0x38aa04){createElementStorage(savesFile,_0xd2ebfe,_0x2267df(0x1f1)+_0xd2ebfe);}for(const _0x536fc7 of _0x10244e){createElementStorage(cheatsFile,_0x536fc7,_0x2267df(0x1ae)+_0x536fc7);}for(const _0x167880 of _0x1bfa0f){createElementStorage(screenshotsFile,_0x167880,_0x2267df(0x1c4)+_0x167880);}}document[a0_0x749523(0x1c1)]('DOMContentLoaded',function(){const _0x3f22de=a0_0x749523;upLoadFile['addEventListener'](_0x3f22de(0x1df),function(){a0_0x3746c4['uploadFile'](upLoadFile);}),openLocalStorage[_0x3f22de(0x1c1)](_0x3f22de(0x1b0),function(){const _0x106faf=_0x3f22de,_0x5d81ee=localStorage[_0x106faf(0x1b3)]('uId');storage['classList'][_0x106faf(0x1e2)](_0x106faf(0x1b5)),intro['classList']['add'](_0x106faf(0x1b5)),ingame[_0x106faf(0x1b2)][_0x106faf(0x1ee)](_0x106faf(0x1b5)),_0x5d81ee===null||_0x5d81ee===''?(dropboxRestore['classList'][_0x106faf(0x1e2)]('active'),dropboxBackup[_0x106faf(0x1b2)][_0x106faf(0x1e2)](_0x106faf(0x1d8)),dropboxCloud[_0x106faf(0x1b2)][_0x106faf(0x1e2)]('active')):(dropboxRestore['classList']['add'](_0x106faf(0x1d8)),dropboxBackup[_0x106faf(0x1b2)][_0x106faf(0x1ee)]('active'),dropboxCloud[_0x106faf(0x1b2)][_0x106faf(0x1ee)](_0x106faf(0x1d8)));}),setTimeout(()=>{localStorageFile();},0xbb8);});